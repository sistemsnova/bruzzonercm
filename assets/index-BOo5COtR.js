(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qk={exports:{}},Nm={},Hk={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=Symbol.for("react.element"),wU=Symbol.for("react.portal"),bU=Symbol.for("react.fragment"),EU=Symbol.for("react.strict_mode"),TU=Symbol.for("react.profiler"),SU=Symbol.for("react.provider"),AU=Symbol.for("react.context"),IU=Symbol.for("react.forward_ref"),CU=Symbol.for("react.suspense"),PU=Symbol.for("react.memo"),NU=Symbol.for("react.lazy"),ZT=Symbol.iterator;function kU(t){return t===null||typeof t!="object"?null:(t=ZT&&t[ZT]||t["@@iterator"],typeof t=="function"?t:null)}var Wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kk=Object.assign,Jk={};function Ml(t,e,n){this.props=t,this.context=e,this.refs=Jk,this.updater=n||Wk}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yk(){}Yk.prototype=Ml.prototype;function Wx(t,e,n){this.props=t,this.context=e,this.refs=Jk,this.updater=n||Wk}var Kx=Wx.prototype=new Yk;Kx.constructor=Wx;Kk(Kx,Ml.prototype);Kx.isPureReactComponent=!0;var eS=Array.isArray,Xk=Object.prototype.hasOwnProperty,Jx={current:null},Qk={key:!0,ref:!0,__self:!0,__source:!0};function Zk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Xk.call(e,r)&&!Qk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sf,type:t,key:o,ref:s,props:i,_owner:Jx.current}}function RU(t,e){return{$$typeof:Sf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sf}function MU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tS=/\/+/g;function Iy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MU(""+t.key):e.toString(36)}function ch(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sf:case wU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Iy(s,0):r,eS(i)?(n="",t!=null&&(n=t.replace(tS,"$&/")+"/"),ch(i,e,n,"",function(u){return u})):i!=null&&(Yx(i)&&(i=RU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",eS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Iy(o,a);s+=ch(o,e,n,l,i)}else if(l=kU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Iy(o,a++),s+=ch(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function bd(t,e,n){if(t==null)return t;var r=[],i=0;return ch(t,r,"","",function(o){return e.call(n,o,i++)}),r}function OU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},fh={transition:null},DU={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:fh,ReactCurrentOwner:Jx};function eR(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:bd,forEach:function(t,e,n){bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!Yx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Ml;Pe.Fragment=bU;Pe.Profiler=TU;Pe.PureComponent=Wx;Pe.StrictMode=EU;Pe.Suspense=CU;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU;Pe.act=eR;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Jx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Xk.call(e,l)&&!Qk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sf,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:AU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SU,_context:t},t.Consumer=t};Pe.createElement=Zk;Pe.createFactory=function(t){var e=Zk.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:IU,render:t}};Pe.isValidElement=Yx;Pe.lazy=function(t){return{$$typeof:NU,_payload:{_status:-1,_result:t},_init:OU}};Pe.memo=function(t,e){return{$$typeof:PU,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=fh.transition;fh.transition={};try{t()}finally{fh.transition=e}};Pe.unstable_act=eR;Pe.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Pe.useContext=function(t){return Tn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Pe.useId=function(){return Tn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Pe.useRef=function(t){return Tn.current.useRef(t)};Pe.useState=function(t){return Tn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Tn.current.useTransition()};Pe.version="18.3.1";Hk.exports=Pe;var V=Hk.exports;const $=Ye(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LU=V,$U=Symbol.for("react.element"),VU=Symbol.for("react.fragment"),jU=Object.prototype.hasOwnProperty,UU=LU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FU={key:!0,ref:!0,__self:!0,__source:!0};function tR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)jU.call(e,r)&&!FU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$U,type:t,key:o,ref:s,props:i,_owner:UU.current}}Nm.Fragment=VU;Nm.jsx=tR;Nm.jsxs=tR;qk.exports=Nm;var g=qk.exports,zv={},nR={exports:{}},Kn={},rR={exports:{}},iR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var J=U.length;U.push(H);e:for(;0<J;){var oe=J-1>>>1,Z=U[oe];if(0<i(Z,H))U[oe]=H,U[J]=Z,J=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],J=U.pop();if(J!==H){U[0]=J;e:for(var oe=0,Z=U.length,le=Z>>>1;oe<le;){var Ie=2*(oe+1)-1,Le=U[Ie],et=Ie+1,At=U[et];if(0>i(Le,J))et<Z&&0>i(At,Le)?(U[oe]=At,U[et]=J,oe=et):(U[oe]=Le,U[Ie]=J,oe=Ie);else if(et<Z&&0>i(At,J))U[oe]=At,U[et]=J,oe=et;else break e}}return H}function i(U,H){var J=U.sortIndex-H.sortIndex;return J!==0?J:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=U)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function N(U){if(w=!1,T(U),!v)if(n(l)!==null)v=!0,K(A);else{var H=n(u);H!==null&&W(N,H.startTime-U)}}function A(U,H){v=!1,w&&(w=!1,_(C),C=-1),y=!0;var J=h;try{for(T(H),f=n(l);f!==null&&(!(f.expirationTime>H)||U&&!O());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var Z=oe(f.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),T(H)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var Ie=n(u);Ie!==null&&W(N,Ie.startTime-H),le=!1}return le}finally{f=null,h=J,y=!1}}var P=!1,S=null,C=-1,I=5,R=-1;function O(){return!(t.unstable_now()-R<I)}function D(){if(S!==null){var U=t.unstable_now();R=U;var H=!0;try{H=S(!0,U)}finally{H?M():(P=!1,S=null)}}else P=!1}var M;if(typeof b=="function")M=function(){b(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=D,M=function(){B.postMessage(null)}}else M=function(){x(D,0)};function K(U){S=U,P||(P=!0,M())}function W(U,H){C=x(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,K(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var J=h;h=H;try{return U()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=h;h=U;try{return H()}finally{h=J}},t.unstable_scheduleCallback=function(U,H,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,U={id:c++,callback:H,priorityLevel:U,startTime:J,expirationTime:Z,sortIndex:-1},J>oe?(U.sortIndex=J,e(u,U),n(l)===null&&U===n(u)&&(w?(_(C),C=-1):w=!0,W(N,J-oe))):(U.sortIndex=Z,e(l,U),v||y||(v=!0,K(A))),U},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(U){var H=h;return function(){var J=h;h=H;try{return U.apply(this,arguments)}finally{h=J}}}})(iR);rR.exports=iR;var BU=rR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GU=V,Hn=BU;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oR=new Set,pc={};function Us(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(pc[t]=e,t=0;t<e.length;t++)oR.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qv=Object.prototype.hasOwnProperty,zU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nS={},rS={};function qU(t){return qv.call(rS,t)?!0:qv.call(nS,t)?!1:zU.test(t)?rS[t]=!0:(nS[t]=!0,!1)}function HU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WU(t,e,n,r){if(e===null||typeof e>"u"||HU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xx=/[\-:]([a-z])/g;function Qx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xx,Qx);en[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xx,Qx);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xx,Qx);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zx(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WU(e,n,i,r)&&(n=null),r||i===null?qU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=GU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ed=Symbol.for("react.element"),fa=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),ew=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),sR=Symbol.for("react.provider"),aR=Symbol.for("react.context"),tw=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),nw=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),lR=Symbol.for("react.offscreen"),iS=Symbol.iterator;function vu(t){return t===null||typeof t!="object"?null:(t=iS&&t[iS]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Cy;function ju(t){if(Cy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cy=e&&e[1]||""}return`
`+Cy+t}var Py=!1;function Ny(t,e){if(!t||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ju(t):""}function KU(t){switch(t.tag){case 5:return ju(t.type);case 16:return ju("Lazy");case 13:return ju("Suspense");case 19:return ju("SuspenseList");case 0:case 2:case 15:return t=Ny(t.type,!1),t;case 11:return t=Ny(t.type.render,!1),t;case 1:return t=Ny(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case fa:return"Portal";case Hv:return"Profiler";case ew:return"StrictMode";case Wv:return"Suspense";case Kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aR:return(t.displayName||"Context")+".Consumer";case sR:return(t._context.displayName||"Context")+".Provider";case tw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nw:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function JU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YU(t){var e=uR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Td(t){t._valueTracker||(t._valueTracker=YU(t))}function cR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yv(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fR(t,e){e=e.checked,e!=null&&Zx(t,"checked",e,!1)}function Xv(t,e){fR(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qv(t,e,n){(e!=="number"||Mh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uu=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Uu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function dR(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sd,pR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sd=Sd||document.createElement("div"),Sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XU=["Webkit","ms","Moz","O"];Object.keys(Ju).forEach(function(t){XU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ju[e]=Ju[t]})});function mR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ju.hasOwnProperty(t)&&Ju[t]?(""+e).trim():e+"px"}function gR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QU=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(QU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function rw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i0=null,Na=null,ka=null;function uS(t){if(t=Cf(t)){if(typeof i0!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Dm(e),i0(t.stateNode,t.type,e))}}function yR(t){Na?ka?ka.push(t):ka=[t]:Na=t}function vR(){if(Na){var t=Na,e=ka;if(ka=Na=null,uS(t),e)for(t=0;t<e.length;t++)uS(e[t])}}function _R(t,e){return t(e)}function xR(){}var ky=!1;function wR(t,e,n){if(ky)return t(e,n);ky=!0;try{return _R(t,e,n)}finally{ky=!1,(Na!==null||ka!==null)&&(xR(),vR())}}function gc(t,e){var n=t.stateNode;if(n===null)return null;var r=Dm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var o0=!1;if(Ei)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){o0=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{o0=!1}function ZU(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Yu=!1,Oh=null,Dh=!1,s0=null,e4={onError:function(t){Yu=!0,Oh=t}};function t4(t,e,n,r,i,o,s,a,l){Yu=!1,Oh=null,ZU.apply(e4,arguments)}function n4(t,e,n,r,i,o,s,a,l){if(t4.apply(this,arguments),Yu){if(Yu){var u=Oh;Yu=!1,Oh=null}else throw Error(ee(198));Dh||(Dh=!0,s0=u)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cS(t){if(Fs(t)!==t)throw Error(ee(188))}function r4(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cS(i),t;if(o===r)return cS(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function ER(t){return t=r4(t),t!==null?TR(t):null}function TR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TR(t);if(e!==null)return e;t=t.sibling}return null}var SR=Hn.unstable_scheduleCallback,fS=Hn.unstable_cancelCallback,i4=Hn.unstable_shouldYield,o4=Hn.unstable_requestPaint,xt=Hn.unstable_now,s4=Hn.unstable_getCurrentPriorityLevel,iw=Hn.unstable_ImmediatePriority,AR=Hn.unstable_UserBlockingPriority,Lh=Hn.unstable_NormalPriority,a4=Hn.unstable_LowPriority,IR=Hn.unstable_IdlePriority,km=null,qr=null;function l4(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:f4,u4=Math.log,c4=Math.LN2;function f4(t){return t>>>=0,t===0?32:31-(u4(t)/c4|0)|0}var Ad=64,Id=4194304;function Fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fu(a):(o&=s,o!==0&&(r=Fu(o)))}else s=n&~i,s!==0?r=Fu(s):o!==0&&(r=Fu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function d4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Pr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=d4(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CR(){var t=Ad;return Ad<<=1,!(Ad&4194240)&&(Ad=64),t}function Ry(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Af(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function p4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ow(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function PR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NR,sw,kR,RR,MR,l0=!1,Cd=[],go=null,yo=null,vo=null,yc=new Map,vc=new Map,ro=[],m4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dS(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(e.pointerId)}}function xu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Cf(e),e!==null&&sw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g4(t,e,n,r,i){switch(e){case"focusin":return go=xu(go,t,e,n,r,i),!0;case"dragenter":return yo=xu(yo,t,e,n,r,i),!0;case"mouseover":return vo=xu(vo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yc.set(o,xu(yc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vc.set(o,xu(vc.get(o)||null,t,e,n,r,i)),!0}return!1}function OR(t){var e=us(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=bR(n),e!==null){t.blockedOn=e,MR(t.priority,function(){kR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=Cf(n),e!==null&&sw(e),t.blockedOn=n,!1;e.shift()}return!0}function hS(t,e,n){dh(t)&&n.delete(e)}function y4(){l0=!1,go!==null&&dh(go)&&(go=null),yo!==null&&dh(yo)&&(yo=null),vo!==null&&dh(vo)&&(vo=null),yc.forEach(hS),vc.forEach(hS)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,l0||(l0=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,y4)))}function _c(t){function e(i){return wu(i,t)}if(0<Cd.length){wu(Cd[0],t);for(var n=1;n<Cd.length;n++){var r=Cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&wu(go,t),yo!==null&&wu(yo,t),vo!==null&&wu(vo,t),yc.forEach(e),vc.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)OR(n),n.blockedOn===null&&ro.shift()}var Ra=ji.ReactCurrentBatchConfig,Vh=!0;function v4(t,e,n,r){var i=Ge,o=Ra.transition;Ra.transition=null;try{Ge=1,aw(t,e,n,r)}finally{Ge=i,Ra.transition=o}}function _4(t,e,n,r){var i=Ge,o=Ra.transition;Ra.transition=null;try{Ge=4,aw(t,e,n,r)}finally{Ge=i,Ra.transition=o}}function aw(t,e,n,r){if(Vh){var i=u0(t,e,n,r);if(i===null)By(t,e,r,jh,n),dS(t,r);else if(g4(i,t,e,n,r))r.stopPropagation();else if(dS(t,r),e&4&&-1<m4.indexOf(t)){for(;i!==null;){var o=Cf(i);if(o!==null&&NR(o),o=u0(t,e,n,r),o===null&&By(t,e,r,jh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else By(t,e,r,null,n)}}var jh=null;function u0(t,e,n,r){if(jh=null,t=rw(r),t=us(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jh=t,null}function DR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s4()){case iw:return 1;case AR:return 4;case Lh:case a4:return 16;case IR:return 536870912;default:return 16}default:return 16}}var uo=null,lw=null,hh=null;function LR(){if(hh)return hh;var t,e=lw,n=e.length,r,i="value"in uo?uo.value:uo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hh=i.slice(t,1<r?1-r:void 0)}function ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pd(){return!0}function pS(){return!1}function Jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pd:pS,this.isPropagationStopped=pS,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uw=Jn(Ol),If=pt({},Ol,{view:0,detail:0}),x4=Jn(If),My,Oy,bu,Rm=pt({},If,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bu&&(bu&&t.type==="mousemove"?(My=t.screenX-bu.screenX,Oy=t.screenY-bu.screenY):Oy=My=0,bu=t),My)},movementY:function(t){return"movementY"in t?t.movementY:Oy}}),mS=Jn(Rm),w4=pt({},Rm,{dataTransfer:0}),b4=Jn(w4),E4=pt({},If,{relatedTarget:0}),Dy=Jn(E4),T4=pt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),S4=Jn(T4),A4=pt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I4=Jn(A4),C4=pt({},Ol,{data:0}),gS=Jn(C4),P4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k4[t])?!!e[t]:!1}function cw(){return R4}var M4=pt({},If,{key:function(t){if(t.key){var e=P4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cw,charCode:function(t){return t.type==="keypress"?ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O4=Jn(M4),D4=pt({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yS=Jn(D4),L4=pt({},If,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cw}),$4=Jn(L4),V4=pt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),j4=Jn(V4),U4=pt({},Rm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F4=Jn(U4),B4=[9,13,27,32],fw=Ei&&"CompositionEvent"in window,Xu=null;Ei&&"documentMode"in document&&(Xu=document.documentMode);var G4=Ei&&"TextEvent"in window&&!Xu,$R=Ei&&(!fw||Xu&&8<Xu&&11>=Xu),vS=" ",_S=!1;function VR(t,e){switch(t){case"keyup":return B4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function z4(t,e){switch(t){case"compositionend":return jR(e);case"keypress":return e.which!==32?null:(_S=!0,vS);case"textInput":return t=e.data,t===vS&&_S?null:t;default:return null}}function q4(t,e){if(ha)return t==="compositionend"||!fw&&VR(t,e)?(t=LR(),hh=lw=uo=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $R&&e.locale!=="ko"?null:e.data;default:return null}}var H4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H4[t.type]:e==="textarea"}function UR(t,e,n,r){yR(r),e=Uh(e,"onChange"),0<e.length&&(n=new uw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qu=null,xc=null;function W4(t){XR(t,0)}function Mm(t){var e=ga(t);if(cR(e))return t}function K4(t,e){if(t==="change")return e}var FR=!1;if(Ei){var Ly;if(Ei){var $y="oninput"in document;if(!$y){var wS=document.createElement("div");wS.setAttribute("oninput","return;"),$y=typeof wS.oninput=="function"}Ly=$y}else Ly=!1;FR=Ly&&(!document.documentMode||9<document.documentMode)}function bS(){Qu&&(Qu.detachEvent("onpropertychange",BR),xc=Qu=null)}function BR(t){if(t.propertyName==="value"&&Mm(xc)){var e=[];UR(e,xc,t,rw(t)),wR(W4,e)}}function J4(t,e,n){t==="focusin"?(bS(),Qu=e,xc=n,Qu.attachEvent("onpropertychange",BR)):t==="focusout"&&bS()}function Y4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mm(xc)}function X4(t,e){if(t==="click")return Mm(e)}function Q4(t,e){if(t==="input"||t==="change")return Mm(e)}function Z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:Z4;function wc(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qv.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function ES(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TS(t,e){var n=ES(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ES(n)}}function GR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zR(){for(var t=window,e=Mh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mh(t.document)}return e}function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eF(t){var e=zR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GR(n.ownerDocument.documentElement,n)){if(r!==null&&dw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=TS(n,o);var s=TS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tF=Ei&&"documentMode"in document&&11>=document.documentMode,pa=null,c0=null,Zu=null,f0=!1;function SS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f0||pa==null||pa!==Mh(r)||(r=pa,"selectionStart"in r&&dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zu&&wc(Zu,r)||(Zu=r,r=Uh(c0,"onSelect"),0<r.length&&(e=new uw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},Vy={},qR={};Ei&&(qR=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Om(t){if(Vy[t])return Vy[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qR)return Vy[t]=e[n];return t}var HR=Om("animationend"),WR=Om("animationiteration"),KR=Om("animationstart"),JR=Om("transitionend"),YR=new Map,AS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(t,e){YR.set(t,e),Us(e,[t])}for(var jy=0;jy<AS.length;jy++){var Uy=AS[jy],nF=Uy.toLowerCase(),rF=Uy[0].toUpperCase()+Uy.slice(1);$o(nF,"on"+rF)}$o(HR,"onAnimationEnd");$o(WR,"onAnimationIteration");$o(KR,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(JR,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function IS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n4(r,e,void 0,t),t.currentTarget=null}function XR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;IS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;IS(i,a,u),o=l}}}if(Dh)throw t=s0,Dh=!1,s0=null,t}function rt(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(QR(e,t,2,!1),n.add(r))}function Fy(t,e,n){var r=0;e&&(r|=4),QR(n,t,r,e)}var kd="_reactListening"+Math.random().toString(36).slice(2);function bc(t){if(!t[kd]){t[kd]=!0,oR.forEach(function(n){n!=="selectionchange"&&(iF.has(n)||Fy(n,!1,t),Fy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kd]||(e[kd]=!0,Fy("selectionchange",!1,e))}}function QR(t,e,n,r){switch(DR(e)){case 1:var i=v4;break;case 4:i=_4;break;default:i=aw}n=i.bind(null,e,n,t),i=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function By(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=us(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}wR(function(){var u=o,c=rw(n),f=[];e:{var h=YR.get(t);if(h!==void 0){var y=uw,v=t;switch(t){case"keypress":if(ph(n)===0)break e;case"keydown":case"keyup":y=O4;break;case"focusin":v="focus",y=Dy;break;case"focusout":v="blur",y=Dy;break;case"beforeblur":case"afterblur":y=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=b4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$4;break;case HR:case WR:case KR:y=S4;break;case JR:y=j4;break;case"scroll":y=x4;break;case"wheel":y=F4;break;case"copy":case"cut":case"paste":y=I4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yS}var w=(e&4)!==0,x=!w&&t==="scroll",_=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,T;b!==null;){T=b;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,_!==null&&(N=gc(b,_),N!=null&&w.push(Ec(b,N,T)))),x)break;b=b.return}0<w.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==r0&&(v=n.relatedTarget||n.fromElement)&&(us(v)||v[Ti]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?us(v):null,v!==null&&(x=Fs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=mS,N="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=yS,N="onPointerLeave",_="onPointerEnter",b="pointer"),x=y==null?h:ga(y),T=v==null?h:ga(v),h=new w(N,b+"leave",y,n,c),h.target=x,h.relatedTarget=T,N=null,us(c)===u&&(w=new w(_,b+"enter",v,n,c),w.target=T,w.relatedTarget=x,N=w),x=N,y&&v)t:{for(w=y,_=v,b=0,T=w;T;T=na(T))b++;for(T=0,N=_;N;N=na(N))T++;for(;0<b-T;)w=na(w),b--;for(;0<T-b;)_=na(_),T--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=na(w),_=na(_)}w=null}else w=null;y!==null&&CS(f,h,y,w,!1),v!==null&&x!==null&&CS(f,x,v,w,!0)}}e:{if(h=u?ga(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=K4;else if(xS(h))if(FR)A=Q4;else{A=Y4;var P=J4}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=X4);if(A&&(A=A(t,u))){UR(f,A,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Qv(h,"number",h.value)}switch(P=u?ga(u):window,t){case"focusin":(xS(P)||P.contentEditable==="true")&&(pa=P,c0=u,Zu=null);break;case"focusout":Zu=c0=pa=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,SS(f,n,c);break;case"selectionchange":if(tF)break;case"keydown":case"keyup":SS(f,n,c)}var S;if(fw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ha?VR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&($R&&n.locale!=="ko"&&(ha||C!=="onCompositionStart"?C==="onCompositionEnd"&&ha&&(S=LR()):(uo=c,lw="value"in uo?uo.value:uo.textContent,ha=!0)),P=Uh(u,C),0<P.length&&(C=new gS(C,t,null,n,c),f.push({event:C,listeners:P}),S?C.data=S:(S=jR(n),S!==null&&(C.data=S)))),(S=G4?z4(t,n):q4(t,n))&&(u=Uh(u,"onBeforeInput"),0<u.length&&(c=new gS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}XR(f,e)})}function Ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gc(t,n),o!=null&&r.unshift(Ec(t,o,i)),o=gc(t,e),o!=null&&r.push(Ec(t,o,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gc(n,o),l!=null&&s.unshift(Ec(n,l,a))):i||(l=gc(n,o),l!=null&&s.push(Ec(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oF=/\r\n?/g,sF=/\u0000|\uFFFD/g;function PS(t){return(typeof t=="string"?t:""+t).replace(oF,`
`).replace(sF,"")}function Rd(t,e,n){if(e=PS(e),PS(t)!==e&&n)throw Error(ee(425))}function Fh(){}var d0=null,h0=null;function p0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,lF=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(t){return NS.resolve(null).then(t).catch(uF)}:m0;function uF(t){setTimeout(function(){throw t})}function Gy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_c(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Br="__reactFiber$"+Dl,Tc="__reactProps$"+Dl,Ti="__reactContainer$"+Dl,g0="__reactEvents$"+Dl,cF="__reactListeners$"+Dl,fF="__reactHandles$"+Dl;function us(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kS(t);t!==null;){if(n=t[Br])return n;t=kS(t)}return e}t=n,n=t.parentNode}return null}function Cf(t){return t=t[Br]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Dm(t){return t[Tc]||null}var y0=[],ya=-1;function Vo(t){return{current:t}}function st(t){0>ya||(t.current=y0[ya],y0[ya]=null,ya--)}function Ze(t,e){ya++,y0[ya]=t.current,t.current=e}var Ro={},mn=Vo(Ro),Mn=Vo(!1),Ss=Ro;function Wa(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function On(t){return t=t.childContextTypes,t!=null}function Bh(){st(Mn),st(mn)}function RS(t,e,n){if(mn.current!==Ro)throw Error(ee(168));Ze(mn,e),Ze(Mn,n)}function ZR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,JU(t)||"Unknown",i));return pt({},n,r)}function Gh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Ss=mn.current,Ze(mn,t),Ze(Mn,Mn.current),!0}function MS(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=ZR(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,st(Mn),st(mn),Ze(mn,t)):st(Mn),Ze(Mn,n)}var ui=null,Lm=!1,zy=!1;function e2(t){ui===null?ui=[t]:ui.push(t)}function dF(t){Lm=!0,e2(t)}function jo(){if(!zy&&ui!==null){zy=!0;var t=0,e=Ge;try{var n=ui;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,Lm=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),SR(iw,jo),i}finally{Ge=e,zy=!1}}return null}var va=[],_a=0,zh=null,qh=0,rr=[],ir=0,As=null,fi=1,di="";function ns(t,e){va[_a++]=qh,va[_a++]=zh,zh=t,qh=e}function t2(t,e,n){rr[ir++]=fi,rr[ir++]=di,rr[ir++]=As,As=t;var r=fi;t=di;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fi=1<<32-Pr(e)+i|n<<i|r,di=o+t}else fi=1<<o|n<<i|r,di=t}function hw(t){t.return!==null&&(ns(t,1),t2(t,1,0))}function pw(t){for(;t===zh;)zh=va[--_a],va[_a]=null,qh=va[--_a],va[_a]=null;for(;t===As;)As=rr[--ir],rr[ir]=null,di=rr[--ir],rr[ir]=null,fi=rr[--ir],rr[ir]=null}var zn=null,Bn=null,lt=!1,Ar=null;function n2(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function OS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Bn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:fi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Bn=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _0(t){if(lt){var e=Bn;if(e){var n=e;if(!OS(t,e)){if(v0(t))throw Error(ee(418));e=_o(n.nextSibling);var r=zn;e&&OS(t,e)?n2(r,n):(t.flags=t.flags&-4097|2,lt=!1,zn=t)}}else{if(v0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,lt=!1,zn=t}}}function DS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Md(t){if(t!==zn)return!1;if(!lt)return DS(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p0(t.type,t.memoizedProps)),e&&(e=Bn)){if(v0(t))throw r2(),Error(ee(418));for(;e;)n2(t,e),e=_o(e.nextSibling)}if(DS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=zn?_o(t.stateNode.nextSibling):null;return!0}function r2(){for(var t=Bn;t;)t=_o(t.nextSibling)}function Ka(){Bn=zn=null,lt=!1}function mw(t){Ar===null?Ar=[t]:Ar.push(t)}var hF=ji.ReactCurrentBatchConfig;function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Od(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LS(t){var e=t._init;return e(t._payload)}function i2(t){function e(_,b){if(t){var T=_.deletions;T===null?(_.deletions=[b],_.flags|=16):T.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Eo(_,b),_.index=0,_.sibling=null,_}function o(_,b,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags|=2,b):T):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,T,N){return b===null||b.tag!==6?(b=Xy(T,_.mode,N),b.return=_,b):(b=i(b,T),b.return=_,b)}function l(_,b,T,N){var A=T.type;return A===da?c(_,b,T.props.children,N,T.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&LS(A)===b.type)?(N=i(b,T.props),N.ref=Eu(_,b,T),N.return=_,N):(N=wh(T.type,T.key,T.props,null,_.mode,N),N.ref=Eu(_,b,T),N.return=_,N)}function u(_,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Qy(T,_.mode,N),b.return=_,b):(b=i(b,T.children||[]),b.return=_,b)}function c(_,b,T,N,A){return b===null||b.tag!==7?(b=_s(T,_.mode,N,A),b.return=_,b):(b=i(b,T),b.return=_,b)}function f(_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Xy(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ed:return T=wh(b.type,b.key,b.props,null,_.mode,T),T.ref=Eu(_,null,b),T.return=_,T;case fa:return b=Qy(b,_.mode,T),b.return=_,b;case eo:var N=b._init;return f(_,N(b._payload),T)}if(Uu(b)||vu(b))return b=_s(b,_.mode,T,null),b.return=_,b;Od(_,b)}return null}function h(_,b,T,N){var A=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:a(_,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ed:return T.key===A?l(_,b,T,N):null;case fa:return T.key===A?u(_,b,T,N):null;case eo:return A=T._init,h(_,b,A(T._payload),N)}if(Uu(T)||vu(T))return A!==null?null:c(_,b,T,N,null);Od(_,T)}return null}function y(_,b,T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(T)||null,a(b,_,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ed:return _=_.get(N.key===null?T:N.key)||null,l(b,_,N,A);case fa:return _=_.get(N.key===null?T:N.key)||null,u(b,_,N,A);case eo:var P=N._init;return y(_,b,T,P(N._payload),A)}if(Uu(N)||vu(N))return _=_.get(T)||null,c(b,_,N,A,null);Od(b,N)}return null}function v(_,b,T,N){for(var A=null,P=null,S=b,C=b=0,I=null;S!==null&&C<T.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var R=h(_,S,T[C],N);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(_,S),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R,S=I}if(C===T.length)return n(_,S),lt&&ns(_,C),A;if(S===null){for(;C<T.length;C++)S=f(_,T[C],N),S!==null&&(b=o(S,b,C),P===null?A=S:P.sibling=S,P=S);return lt&&ns(_,C),A}for(S=r(_,S);C<T.length;C++)I=y(S,_,C,T[C],N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),b=o(I,b,C),P===null?A=I:P.sibling=I,P=I);return t&&S.forEach(function(O){return e(_,O)}),lt&&ns(_,C),A}function w(_,b,T,N){var A=vu(T);if(typeof A!="function")throw Error(ee(150));if(T=A.call(T),T==null)throw Error(ee(151));for(var P=A=null,S=b,C=b=0,I=null,R=T.next();S!==null&&!R.done;C++,R=T.next()){S.index>C?(I=S,S=null):I=S.sibling;var O=h(_,S,R.value,N);if(O===null){S===null&&(S=I);break}t&&S&&O.alternate===null&&e(_,S),b=o(O,b,C),P===null?A=O:P.sibling=O,P=O,S=I}if(R.done)return n(_,S),lt&&ns(_,C),A;if(S===null){for(;!R.done;C++,R=T.next())R=f(_,R.value,N),R!==null&&(b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return lt&&ns(_,C),A}for(S=r(_,S);!R.done;C++,R=T.next())R=y(S,_,C,R.value,N),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return t&&S.forEach(function(D){return e(_,D)}),lt&&ns(_,C),A}function x(_,b,T,N){if(typeof T=="object"&&T!==null&&T.type===da&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ed:e:{for(var A=T.key,P=b;P!==null;){if(P.key===A){if(A=T.type,A===da){if(P.tag===7){n(_,P.sibling),b=i(P,T.props.children),b.return=_,_=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&LS(A)===P.type){n(_,P.sibling),b=i(P,T.props),b.ref=Eu(_,P,T),b.return=_,_=b;break e}n(_,P);break}else e(_,P);P=P.sibling}T.type===da?(b=_s(T.props.children,_.mode,N,T.key),b.return=_,_=b):(N=wh(T.type,T.key,T.props,null,_.mode,N),N.ref=Eu(_,b,T),N.return=_,_=N)}return s(_);case fa:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),b=i(b,T.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=Qy(T,_.mode,N),b.return=_,_=b}return s(_);case eo:return P=T._init,x(_,b,P(T._payload),N)}if(Uu(T))return v(_,b,T,N);if(vu(T))return w(_,b,T,N);Od(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,T),b.return=_,_=b):(n(_,b),b=Xy(T,_.mode,N),b.return=_,_=b),s(_)):n(_,b)}return x}var Ja=i2(!0),o2=i2(!1),Hh=Vo(null),Wh=null,xa=null,gw=null;function yw(){gw=xa=Wh=null}function vw(t){var e=Hh.current;st(Hh),t._currentValue=e}function x0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){Wh=t,gw=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(gw!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(Wh===null)throw Error(ee(308));xa=t,Wh.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var cs=null;function _w(t){cs===null?cs=[t]:cs.push(t)}function s2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_w(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,_w(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function mh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ow(t,n)}}function $S(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kh(t,e,n,r){var i=t.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=pt({},f,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=f}}function VS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Pf={},Hr=Vo(Pf),Sc=Vo(Pf),Ac=Vo(Pf);function fs(t){if(t===Pf)throw Error(ee(174));return t}function ww(t,e){switch(Ze(Ac,e),Ze(Sc,t),Ze(Hr,Pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}st(Hr),Ze(Hr,e)}function Ya(){st(Hr),st(Sc),st(Ac)}function l2(t){fs(Ac.current);var e=fs(Hr.current),n=e0(e,t.type);e!==n&&(Ze(Sc,t),Ze(Hr,n))}function bw(t){Sc.current===t&&(st(Hr),st(Sc))}var ft=Vo(0);function Jh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qy=[];function Ew(){for(var t=0;t<qy.length;t++)qy[t]._workInProgressVersionPrimary=null;qy.length=0}var gh=ji.ReactCurrentDispatcher,Hy=ji.ReactCurrentBatchConfig,Is=0,ht=null,Pt=null,Ft=null,Yh=!1,ec=!1,Ic=0,pF=0;function on(){throw Error(ee(321))}function Tw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function Sw(t,e,n,r,i,o){if(Is=o,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gh.current=t===null||t.memoizedState===null?vF:_F,t=n(r,i),ec){o=0;do{if(ec=!1,Ic=0,25<=o)throw Error(ee(301));o+=1,Ft=Pt=null,e.updateQueue=null,gh.current=xF,t=n(r,i)}while(ec)}if(gh.current=Xh,e=Pt!==null&&Pt.next!==null,Is=0,Ft=Pt=ht=null,Yh=!1,e)throw Error(ee(300));return t}function Aw(){var t=Ic!==0;return Ic=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function dr(){if(Pt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Ft===null?ht.memoizedState:Ft.next;if(e!==null)Ft=e,Pt=t;else{if(t===null)throw Error(ee(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ft===null?ht.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Cc(t,e){return typeof e=="function"?e(t):e}function Wy(t){var e=dr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ht.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Dr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ht.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ky(t){var e=dr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(kn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function u2(){}function c2(t,e){var n=ht,r=dr(),i=e(),o=!Dr(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,Iw(h2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Pc(9,d2.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(ee(349));Is&30||f2(n,e,i)}return i}function f2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d2(t,e,n,r){e.value=n,e.getSnapshot=r,p2(e)&&m2(t)}function h2(t,e,n){return n(function(){p2(e)&&m2(t)})}function p2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function m2(t){var e=Si(t,1);e!==null&&Nr(e,t,1,-1)}function jS(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=yF.bind(null,ht,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g2(){return dr().memoizedState}function yh(t,e,n,r){var i=Fr();ht.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function $m(t,e,n,r){var i=dr();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var s=Pt.memoizedState;if(o=s.destroy,r!==null&&Tw(r,s.deps)){i.memoizedState=Pc(e,n,o,r);return}}ht.flags|=t,i.memoizedState=Pc(1|e,n,o,r)}function US(t,e){return yh(8390656,8,t,e)}function Iw(t,e){return $m(2048,8,t,e)}function y2(t,e){return $m(4,2,t,e)}function v2(t,e){return $m(4,4,t,e)}function _2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x2(t,e,n){return n=n!=null?n.concat([t]):null,$m(4,4,_2.bind(null,e,t),n)}function Cw(){}function w2(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b2(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E2(t,e,n){return Is&21?(Dr(n,e)||(n=CR(),ht.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function mF(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Hy.transition;Hy.transition={};try{t(!1),e()}finally{Ge=n,Hy.transition=r}}function T2(){return dr().memoizedState}function gF(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S2(t))A2(e,n);else if(n=s2(t,e,n,r),n!==null){var i=xn();Nr(n,t,r,i),I2(n,e,r)}}function yF(t,e,n){var r=bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S2(t))A2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,s)){var l=e.interleaved;l===null?(i.next=i,_w(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=s2(t,e,i,r),n!==null&&(i=xn(),Nr(n,t,r,i),I2(n,e,r))}}function S2(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function A2(t,e){ec=Yh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ow(t,n)}}var Xh={readContext:fr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},vF={readContext:fr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:US,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yh(4194308,4,_2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return yh(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gF.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:jS,useDebugValue:Cw,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=jS(!1),e=t[0];return t=mF.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Fr();if(lt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Bt===null)throw Error(ee(349));Is&30||f2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,US(h2.bind(null,r,o,t),[t]),r.flags|=2048,Pc(9,d2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Bt.identifierPrefix;if(lt){var n=di,r=fi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_F={readContext:fr,useCallback:w2,useContext:fr,useEffect:Iw,useImperativeHandle:x2,useInsertionEffect:y2,useLayoutEffect:v2,useMemo:b2,useReducer:Wy,useRef:g2,useState:function(){return Wy(Cc)},useDebugValue:Cw,useDeferredValue:function(t){var e=dr();return E2(e,Pt.memoizedState,t)},useTransition:function(){var t=Wy(Cc)[0],e=dr().memoizedState;return[t,e]},useMutableSource:u2,useSyncExternalStore:c2,useId:T2,unstable_isNewReconciler:!1},xF={readContext:fr,useCallback:w2,useContext:fr,useEffect:Iw,useImperativeHandle:x2,useInsertionEffect:y2,useLayoutEffect:v2,useMemo:b2,useReducer:Ky,useRef:g2,useState:function(){return Ky(Cc)},useDebugValue:Cw,useDeferredValue:function(t){var e=dr();return Pt===null?e.memoizedState=t:E2(e,Pt.memoizedState,t)},useTransition:function(){var t=Ky(Cc)[0],e=dr().memoizedState;return[t,e]},useMutableSource:u2,useSyncExternalStore:c2,useId:T2,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vm={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=bo(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=xo(t,o,i),e!==null&&(Nr(e,t,i,r),mh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=bo(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xo(t,o,i),e!==null&&(Nr(e,t,i,r),mh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=bo(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=xo(t,i,r),e!==null&&(Nr(e,t,r,n),mh(e,t,r))}};function FS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wc(n,r)||!wc(i,o):!0}function C2(t,e,n){var r=!1,i=Ro,o=e.contextType;return typeof o=="object"&&o!==null?o=fr(o):(i=On(e)?Ss:mn.current,r=e.contextTypes,o=(r=r!=null)?Wa(t,i):Ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function BS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vm.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fr(o):(o=On(e)?Ss:mn.current,i.context=Wa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(w0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vm.enqueueReplaceState(i,i.state,null),Kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e){try{var n="",r=e;do n+=KU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wF=typeof WeakMap=="function"?WeakMap:Map;function P2(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zh||(Zh=!0,M0=r),E0(t,e)},n}function N2(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){E0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){E0(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function GS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DF.bind(null,t,e,n),e.then(t,t))}function zS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,xo(n,e,1))),n.lanes|=1),t)}var bF=ji.ReactCurrentOwner,kn=!1;function vn(t,e,n,r){e.child=t===null?o2(e,null,n,r):Ja(e,t.child,n,r)}function HS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=Sw(t,e,n,r,o,i),n=Aw(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(lt&&n&&hw(e),e.flags|=1,vn(t,e,r,i),e.child)}function WS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Lw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,k2(t,e,o,r,i)):(t=wh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wc,n(s,r)&&t.ref===e.ref)return Ai(t,e,i)}return e.flags|=1,t=Eo(o,r),t.ref=e.ref,t.return=e,e.child=t}function k2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wc(o,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,Ai(t,e,i)}return T0(t,e,n,r,i)}function R2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ba,jn),jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ba,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(ba,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(ba,jn),jn|=r;return vn(t,e,i,n),e.child}function M2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function T0(t,e,n,r,i){var o=On(n)?Ss:mn.current;return o=Wa(e,o),Ma(e,i),n=Sw(t,e,n,r,o,i),r=Aw(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(lt&&r&&hw(e),e.flags|=1,vn(t,e,n,i),e.child)}function KS(t,e,n,r,i){if(On(n)){var o=!0;Gh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)vh(t,e),C2(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=On(n)?Ss:mn.current,u=Wa(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&BS(e,s,r,u),to=!1;var h=e.memoizedState;s.state=h,Kh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Mn.current||to?(typeof c=="function"&&(w0(e,n,c,r),l=e.memoizedState),(a=to||FS(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,a2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=On(n)?Ss:mn.current,l=Wa(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&BS(e,s,r,l),to=!1,h=e.memoizedState,s.state=h,Kh(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Mn.current||to?(typeof y=="function"&&(w0(e,n,y,r),v=e.memoizedState),(u=to||FS(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,o,i)}function S0(t,e,n,r,i,o){M2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&MS(e,n,!1),Ai(t,e,o);r=e.stateNode,bF.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ja(e,t.child,null,o),e.child=Ja(e,null,a,o)):vn(t,e,a,o),e.memoizedState=r.state,i&&MS(e,n,!0),e.child}function O2(t){var e=t.stateNode;e.pendingContext?RS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&RS(t,e.context,!1),ww(t,e.containerInfo)}function JS(t,e,n,r,i){return Ka(),mw(i),e.flags|=256,vn(t,e,n,r),e.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function I0(t){return{baseLanes:t,cachePool:null,transitions:null}}function D2(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return _0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fm(s,r,0,null),t=_s(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=I0(n),e.memoizedState=A0,t):Pw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EF(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Eo(a,o):(o=_s(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?I0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=A0,r}return o=t.child,t=o.sibling,r=Eo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pw(t,e){return e=Fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dd(t,e,n,r){return r!==null&&mw(r),Ja(e,t.child,null,n),t=Pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EF(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Jy(Error(ee(422))),Dd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fm({mode:"visible",children:r.children},i,0,null),o=_s(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ja(e,t.child,null,s),e.child.memoizedState=I0(s),e.memoizedState=A0,o);if(!(e.mode&1))return Dd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=Jy(o,r,void 0),Dd(t,e,s,r)}if(a=(s&t.childLanes)!==0,kn||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Si(t,i),Nr(r,t,i,-1))}return Dw(),r=Jy(Error(ee(421))),Dd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Bn=_o(i.nextSibling),zn=e,lt=!0,Ar=null,t!==null&&(rr[ir++]=fi,rr[ir++]=di,rr[ir++]=As,fi=t.id,di=t.overflow,As=e),e=Pw(e,r.children),e.flags|=4096,e)}function YS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x0(t.return,e,n)}function Yy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function L2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(vn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YS(t,n,e);else if(t.tag===19)YS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yy(e,!0,n,null,o);break;case"together":Yy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TF(t,e,n){switch(e.tag){case 3:O2(e),Ka();break;case 5:l2(e);break;case 1:On(e.type)&&Gh(e);break;case 4:ww(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?D2(t,e,n):(Ze(ft,ft.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return L2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,R2(t,e,n)}return Ai(t,e,n)}var $2,C0,V2,j2;$2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};V2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(Hr.current);var o=null;switch(n){case"input":i=Yv(t,i),r=Yv(t,r),o=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),o=[];break;case"textarea":i=Zv(t,i),r=Zv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fh)}t0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};j2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SF(t,e,n){var r=e.pendingProps;switch(pw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return On(e.type)&&Bh(),sn(e),null;case 3:return r=e.stateNode,Ya(),st(Mn),st(mn),Ew(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(L0(Ar),Ar=null))),C0(t,e),sn(e),null;case 5:bw(e);var i=fs(Ac.current);if(n=e.type,t!==null&&e.stateNode!=null)V2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return sn(e),null}if(t=fs(Hr.current),Md(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Br]=e,r[Tc]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Bu.length;i++)rt(Bu[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":oS(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":aS(r,o),rt("invalid",r)}t0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),i=["children",""+a]):pc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":Td(r),sS(r,o,!0);break;case"textarea":Td(r),lS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Br]=e,t[Tc]=r,$2(t,e,!1,!1),e.stateNode=t;e:{switch(s=n0(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bu.length;i++)rt(Bu[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":oS(t,r),i=Yv(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":aS(t,r),i=Zv(t,r),rt("invalid",t);break;default:i=r}t0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?gR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mc(t,l):typeof l=="number"&&mc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&Zx(t,o,l,s))}switch(n){case"input":Td(t),sS(t,r,!1);break;case"textarea":Td(t),lS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)j2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=fs(Ac.current),fs(Hr.current),Md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(o=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:Rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return sn(e),null;case 13:if(st(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Bn!==null&&e.mode&1&&!(e.flags&128))r2(),Ka(),e.flags|=98560,o=!1;else if(o=Md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Br]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),o=!1}else Ar!==null&&(L0(Ar),Ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Nt===0&&(Nt=3):Dw())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Ya(),C0(t,e),t===null&&bc(e.stateNode.containerInfo),sn(e),null;case 10:return vw(e.type._context),sn(e),null;case 17:return On(e.type)&&Bh(),sn(e),null;case 19:if(st(ft),o=e.memoizedState,o===null)return sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Tu(o,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Jh(t),s!==null){for(e.flags|=128,Tu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>Qa&&(e.flags|=128,r=!0,Tu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Jh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return sn(e),null}else 2*xt()-o.renderingStartTime>Qa&&n!==1073741824&&(e.flags|=128,r=!0,Tu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return Ow(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function AF(t,e){switch(pw(e),e.tag){case 1:return On(e.type)&&Bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ya(),st(Mn),st(mn),Ew(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bw(e),null;case 13:if(st(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ft),null;case 4:return Ya(),null;case 10:return vw(e.type._context),null;case 22:case 23:return Ow(),null;case 24:return null;default:return null}}var Ld=!1,cn=!1,IF=typeof WeakSet=="function"?WeakSet:Set,fe=null;function wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function P0(t,e,n){try{n()}catch(r){yt(t,e,r)}}var XS=!1;function CF(t,e){if(d0=Vh,t=zR(),dw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h0={focusedElem:t,selectionRange:n},Vh=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Er(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(N){yt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return v=XS,XS=!1,v}function tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&P0(e,n,o)}i=i.next}while(i!==r)}}function jm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function U2(t){var e=t.alternate;e!==null&&(t.alternate=null,U2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[Tc],delete e[g0],delete e[cF],delete e[fF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F2(t){return t.tag===5||t.tag===3||t.tag===4}function QS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fh));else if(r!==4&&(t=t.child,t!==null))for(k0(t,e,n),t=t.sibling;t!==null;)k0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var Kt=null,Tr=!1;function Xi(t,e,n){for(n=n.child;n!==null;)B2(t,e,n),n=n.sibling}function B2(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:cn||wa(n,e);case 6:var r=Kt,i=Tr;Kt=null,Xi(t,e,n),Kt=r,Tr=i,Kt!==null&&(Tr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Tr?(t=Kt,n=n.stateNode,t.nodeType===8?Gy(t.parentNode,n):t.nodeType===1&&Gy(t,n),_c(t)):Gy(Kt,n.stateNode));break;case 4:r=Kt,i=Tr,Kt=n.stateNode.containerInfo,Tr=!0,Xi(t,e,n),Kt=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&P0(n,e,s),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!cn&&(wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Xi(t,e,n),cn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function ZS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IF),e.forEach(function(r){var i=$F.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Tr=!1;break e;case 3:Kt=a.stateNode.containerInfo,Tr=!0;break e;case 4:Kt=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(Kt===null)throw Error(ee(160));B2(o,s,i),Kt=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G2(e,t),e=e.sibling}function G2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Ur(t),r&4){try{tc(3,t,t.return),jm(3,t)}catch(w){yt(t,t.return,w)}try{tc(5,t,t.return)}catch(w){yt(t,t.return,w)}}break;case 1:wr(e,t),Ur(t),r&512&&n!==null&&wa(n,n.return);break;case 5:if(wr(e,t),Ur(t),r&512&&n!==null&&wa(n,n.return),t.flags&32){var i=t.stateNode;try{mc(i,"")}catch(w){yt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&fR(i,o),n0(a,s);var u=n0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?gR(i,f):c==="dangerouslySetInnerHTML"?pR(i,f):c==="children"?mc(i,f):Zx(i,c,f,u)}switch(a){case"input":Xv(i,o);break;case"textarea":dR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Pa(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pa(i,!!o.multiple,o.defaultValue,!0):Pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tc]=o}catch(w){yt(t,t.return,w)}}break;case 6:if(wr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){yt(t,t.return,w)}}break;case 3:if(wr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(w){yt(t,t.return,w)}break;case 4:wr(e,t),Ur(t);break;case 13:wr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rw=xt())),r&4&&ZS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||c,wr(e,t),cn=u):wr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(fe=t,c=t.child;c!==null;){for(f=fe=c;fe!==null;){switch(h=fe,y=h.child,h.tag){case 0:case 11:case 14:case 15:tc(4,h,h.return);break;case 1:wa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){yt(r,n,w)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){t1(f);continue}}y!==null?(y.return=h,fe=y):t1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mR("display",s))}catch(w){yt(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){yt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wr(e,t),Ur(t),r&4&&ZS(t);break;case 21:break;default:wr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F2(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mc(i,""),r.flags&=-33);var o=QS(t);R0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=QS(t);k0(t,a,s);break;default:throw Error(ee(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PF(t,e,n){fe=t,z2(t)}function z2(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ld;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Ld;var u=cn;if(Ld=s,(cn=l)&&!u)for(fe=i;fe!==null;)s=fe,l=s.child,s.tag===22&&s.memoizedState!==null?n1(i):l!==null?(l.return=s,fe=l):n1(i);for(;o!==null;)fe=o,z2(o),o=o.sibling;fe=i,Ld=a,cn=u}e1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):e1(t)}}function e1(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||jm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&VS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&_c(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}cn||e.flags&512&&N0(e)}catch(h){yt(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function t1(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function n1(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jm(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var o=e.return;try{N0(e)}catch(l){yt(e,o,l)}break;case 5:var s=e.return;try{N0(e)}catch(l){yt(e,s,l)}}}catch(l){yt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var NF=Math.ceil,Qh=ji.ReactCurrentDispatcher,Nw=ji.ReactCurrentOwner,lr=ji.ReactCurrentBatchConfig,Oe=0,Bt=null,Et=null,Qt=0,jn=0,ba=Vo(0),Nt=0,Nc=null,Cs=0,Um=0,kw=0,nc=null,Pn=null,Rw=0,Qa=1/0,li=null,Zh=!1,M0=null,wo=null,$d=!1,co=null,ep=0,rc=0,O0=null,_h=-1,xh=0;function xn(){return Oe&6?xt():_h!==-1?_h:_h=xt()}function bo(t){return t.mode&1?Oe&2&&Qt!==0?Qt&-Qt:hF.transition!==null?(xh===0&&(xh=CR()),xh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:DR(t.type)),t):1}function Nr(t,e,n,r){if(50<rc)throw rc=0,O0=null,Error(ee(185));Af(t,n,r),(!(Oe&2)||t!==Bt)&&(t===Bt&&(!(Oe&2)&&(Um|=n),Nt===4&&io(t,Qt)),Dn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Qa=xt()+500,Lm&&jo()))}function Dn(t,e){var n=t.callbackNode;h4(t,e);var r=$h(t,t===Bt?Qt:0);if(r===0)n!==null&&fS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fS(n),e===1)t.tag===0?dF(r1.bind(null,t)):e2(r1.bind(null,t)),lF(function(){!(Oe&6)&&jo()}),n=null;else{switch(PR(r)){case 1:n=iw;break;case 4:n=AR;break;case 16:n=Lh;break;case 536870912:n=IR;break;default:n=Lh}n=Q2(n,q2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function q2(t,e){if(_h=-1,xh=0,Oe&6)throw Error(ee(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=$h(t,t===Bt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var i=Oe;Oe|=2;var o=W2();(Bt!==t||Qt!==e)&&(li=null,Qa=xt()+500,vs(t,e));do try{MF();break}catch(a){H2(t,a)}while(!0);yw(),Qh.current=o,Oe=i,Et!==null?e=0:(Bt=null,Qt=0,e=Nt)}if(e!==0){if(e===2&&(i=a0(t),i!==0&&(r=i,e=D0(t,i))),e===1)throw n=Nc,vs(t,0),io(t,r),Dn(t,xt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!kF(i)&&(e=tp(t,r),e===2&&(o=a0(t),o!==0&&(r=o,e=D0(t,o))),e===1))throw n=Nc,vs(t,0),io(t,r),Dn(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:rs(t,Pn,li);break;case 3:if(io(t,r),(r&130023424)===r&&(e=Rw+500-xt(),10<e)){if($h(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m0(rs.bind(null,t,Pn,li),e);break}rs(t,Pn,li);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NF(r/1960))-r,10<r){t.timeoutHandle=m0(rs.bind(null,t,Pn,li),r);break}rs(t,Pn,li);break;case 5:rs(t,Pn,li);break;default:throw Error(ee(329))}}}return Dn(t,xt()),t.callbackNode===n?q2.bind(null,t):null}function D0(t,e){var n=nc;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=tp(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&L0(e)),t}function L0(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function kF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~kw,e&=~Um,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function r1(t){if(Oe&6)throw Error(ee(327));Oa();var e=$h(t,0);if(!(e&1))return Dn(t,xt()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=D0(t,r))}if(n===1)throw n=Nc,vs(t,0),io(t,e),Dn(t,xt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,Pn,li),Dn(t,xt()),null}function Mw(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Qa=xt()+500,Lm&&jo())}}function Ps(t){co!==null&&co.tag===0&&!(Oe&6)&&Oa();var e=Oe;Oe|=1;var n=lr.transition,r=Ge;try{if(lr.transition=null,Ge=1,t)return t()}finally{Ge=r,lr.transition=n,Oe=e,!(Oe&6)&&jo()}}function Ow(){jn=ba.current,st(ba)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aF(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(pw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bh();break;case 3:Ya(),st(Mn),st(mn),Ew();break;case 5:bw(r);break;case 4:Ya();break;case 13:st(ft);break;case 19:st(ft);break;case 10:vw(r.type._context);break;case 22:case 23:Ow()}n=n.return}if(Bt=t,Et=t=Eo(t.current,null),Qt=jn=e,Nt=0,Nc=null,kw=Um=Cs=0,Pn=nc=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}cs=null}return t}function H2(t,e){do{var n=Et;try{if(yw(),gh.current=Xh,Yh){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yh=!1}if(Is=0,Ft=Pt=ht=null,ec=!1,Ic=0,Nw.current=null,n===null||n.return===null){Nt=1,Nc=e,Et=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=zS(s);if(y!==null){y.flags&=-257,qS(y,s,a,o,e),y.mode&1&&GS(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){GS(o,u,e),Dw();break e}l=Error(ee(426))}}else if(lt&&a.mode&1){var x=zS(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qS(x,s,a,o,e),mw(Xa(l,a));break e}}o=l=Xa(l,a),Nt!==4&&(Nt=2),nc===null?nc=[o]:nc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=P2(o,l,e);$S(o,_);break e;case 1:a=l;var b=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(wo===null||!wo.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=N2(o,a,e);$S(o,N);break e}}o=o.return}while(o!==null)}J2(n)}catch(A){e=A,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function W2(){var t=Qh.current;return Qh.current=Xh,t===null?Xh:t}function Dw(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Bt===null||!(Cs&268435455)&&!(Um&268435455)||io(Bt,Qt)}function tp(t,e){var n=Oe;Oe|=2;var r=W2();(Bt!==t||Qt!==e)&&(li=null,vs(t,e));do try{RF();break}catch(i){H2(t,i)}while(!0);if(yw(),Oe=n,Qh.current=r,Et!==null)throw Error(ee(261));return Bt=null,Qt=0,Nt}function RF(){for(;Et!==null;)K2(Et)}function MF(){for(;Et!==null&&!i4();)K2(Et)}function K2(t){var e=X2(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?J2(t):Et=e,Nw.current=null}function J2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AF(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Et=null;return}}else if(n=SF(n,e,jn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Nt===0&&(Nt=5)}function rs(t,e,n){var r=Ge,i=lr.transition;try{lr.transition=null,Ge=1,OF(t,e,n,r)}finally{lr.transition=i,Ge=r}return null}function OF(t,e,n,r){do Oa();while(co!==null);if(Oe&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(p4(t,o),t===Bt&&(Et=Bt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$d||($d=!0,Q2(Lh,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=Ge;Ge=1;var a=Oe;Oe|=4,Nw.current=null,CF(t,n),G2(n,t),eF(h0),Vh=!!d0,h0=d0=null,t.current=n,PF(n),o4(),Oe=a,Ge=s,lr.transition=o}else t.current=n;if($d&&($d=!1,co=t,ep=i),o=t.pendingLanes,o===0&&(wo=null),l4(n.stateNode),Dn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zh)throw Zh=!1,t=M0,M0=null,t;return ep&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===O0?rc++:(rc=0,O0=t):rc=0,jo(),null}function Oa(){if(co!==null){var t=PR(ep),e=lr.transition,n=Ge;try{if(lr.transition=null,Ge=16>t?16:t,co===null)var r=!1;else{if(t=co,co=null,ep=0,Oe&6)throw Error(ee(331));var i=Oe;for(Oe|=4,fe=t.current;fe!==null;){var o=fe,s=o.child;if(fe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:tc(8,c,o)}var f=c.child;if(f!==null)f.return=c,fe=f;else for(;fe!==null;){c=fe;var h=c.sibling,y=c.return;if(U2(c),c===u){fe=null;break}if(h!==null){h.return=y,fe=h;break}fe=y}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}fe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,fe=s;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:tc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,fe=_;break e}fe=o.return}}var b=t.current;for(fe=b;fe!==null;){s=fe;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,fe=T;else e:for(s=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jm(9,a)}}catch(A){yt(a,a.return,A)}if(a===s){fe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fe=N;break e}fe=a.return}}if(Oe=i,jo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(km,t)}catch{}r=!0}return r}finally{Ge=n,lr.transition=e}}return!1}function i1(t,e,n){e=Xa(n,e),e=P2(t,e,1),t=xo(t,e,1),e=xn(),t!==null&&(Af(t,1,e),Dn(t,e))}function yt(t,e,n){if(t.tag===3)i1(t,t,n);else for(;e!==null;){if(e.tag===3){i1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=Xa(n,t),t=N2(e,t,1),e=xo(e,t,1),t=xn(),e!==null&&(Af(e,1,t),Dn(e,t));break}}e=e.return}}function DF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Qt&n)===n&&(Nt===4||Nt===3&&(Qt&130023424)===Qt&&500>xt()-Rw?vs(t,0):kw|=n),Dn(t,e)}function Y2(t,e){e===0&&(t.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var n=xn();t=Si(t,e),t!==null&&(Af(t,e,n),Dn(t,n))}function LF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Y2(t,n)}function $F(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),Y2(t,n)}var X2;X2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,TF(t,e,n);kn=!!(t.flags&131072)}else kn=!1,lt&&e.flags&1048576&&t2(e,qh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vh(t,e),t=e.pendingProps;var i=Wa(e,mn.current);Ma(e,n),i=Sw(null,e,r,t,i,n);var o=Aw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(o=!0,Gh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xw(e),i.updater=Vm,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=S0(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&hw(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jF(r),t=Er(r,t),i){case 0:e=T0(null,e,r,t,n);break e;case 1:e=KS(null,e,r,t,n);break e;case 11:e=HS(null,e,r,t,n);break e;case 14:e=WS(null,e,r,Er(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),T0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),KS(t,e,r,i,n);case 3:e:{if(O2(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,a2(t,e),Kh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xa(Error(ee(423)),e),e=JS(t,e,r,n,i);break e}else if(r!==i){i=Xa(Error(ee(424)),e),e=JS(t,e,r,n,i);break e}else for(Bn=_o(e.stateNode.containerInfo.firstChild),zn=e,lt=!0,Ar=null,n=o2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===i){e=Ai(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return l2(e),t===null&&_0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,p0(r,i)?s=null:o!==null&&p0(r,o)&&(e.flags|=32),M2(t,e),vn(t,e,s,n),e.child;case 6:return t===null&&_0(e),null;case 13:return D2(t,e,n);case 4:return ww(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ja(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),HS(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ze(Hh,r._currentValue),r._currentValue=s,o!==null)if(Dr(o.value,s)){if(o.children===i.children&&!Mn.current){e=Ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),x0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),x0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=fr(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),WS(t,e,r,i,n);case 15:return k2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),vh(t,e),e.tag=1,On(r)?(t=!0,Gh(e)):t=!1,Ma(e,n),C2(e,r,i),b0(e,r,i,n),S0(null,e,r,!0,t,n);case 19:return L2(t,e,n);case 22:return R2(t,e,n)}throw Error(ee(156,e.tag))};function Q2(t,e){return SR(t,e)}function VF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new VF(t,e,n,r)}function Lw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jF(t){if(typeof t=="function")return Lw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tw)return 11;if(t===nw)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Lw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case da:return _s(n.children,i,o,e);case ew:s=8,i|=8;break;case Hv:return t=sr(12,n,e,i|2),t.elementType=Hv,t.lanes=o,t;case Wv:return t=sr(13,n,e,i),t.elementType=Wv,t.lanes=o,t;case Kv:return t=sr(19,n,e,i),t.elementType=Kv,t.lanes=o,t;case lR:return Fm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sR:s=10;break e;case aR:s=9;break e;case tw:s=11;break e;case nw:s=14;break e;case eo:s=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function _s(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Fm(t,e,n,r){return t=sr(22,t,r,e),t.elementType=lR,t.lanes=n,t.stateNode={isHidden:!1},t}function Xy(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Qy(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ry(0),this.expirationTimes=Ry(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ry(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $w(t,e,n,r,i,o,s,a,l){return t=new UF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(o),t}function FF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Z2(t){if(!t)return Ro;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(On(n))return ZR(t,n,e)}return e}function eM(t,e,n,r,i,o,s,a,l){return t=$w(n,r,!0,t,i,o,s,a,l),t.context=Z2(null),n=t.current,r=xn(),i=bo(n),o=_i(r,i),o.callback=e??null,xo(n,o,i),t.current.lanes=i,Af(t,i,r),Dn(t,r),t}function Bm(t,e,n,r){var i=e.current,o=xn(),s=bo(i);return n=Z2(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xo(i,e,s),t!==null&&(Nr(t,i,s,o),mh(t,i,s)),s}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vw(t,e){o1(t,e),(t=t.alternate)&&o1(t,e)}function BF(){return null}var tM=typeof reportError=="function"?reportError:function(t){console.error(t)};function jw(t){this._internalRoot=t}Gm.prototype.render=jw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Bm(t,e,null,null)};Gm.prototype.unmount=jw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){Bm(null,t,null,null)}),e[Ti]=null}};function Gm(t){this._internalRoot=t}Gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=RR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&OR(t)}};function Uw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s1(){}function GF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=np(s);o.call(u)}}var s=eM(e,r,t,0,null,!1,!1,"",s1);return t._reactRootContainer=s,t[Ti]=s.current,bc(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=np(l);a.call(u)}}var l=$w(t,0,!1,null,null,!1,!1,"",s1);return t._reactRootContainer=l,t[Ti]=l.current,bc(t.nodeType===8?t.parentNode:t),Ps(function(){Bm(e,l,n,r)}),l}function qm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=np(s);a.call(l)}}Bm(e,s,t,i)}else s=GF(n,e,t,i,r);return np(s)}NR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fu(e.pendingLanes);n!==0&&(ow(e,n|1),Dn(e,xt()),!(Oe&6)&&(Qa=xt()+500,jo()))}break;case 13:Ps(function(){var r=Si(t,1);if(r!==null){var i=xn();Nr(r,t,1,i)}}),Vw(t,1)}};sw=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=xn();Nr(e,t,134217728,n)}Vw(t,134217728)}};kR=function(t){if(t.tag===13){var e=bo(t),n=Si(t,e);if(n!==null){var r=xn();Nr(n,t,e,r)}Vw(t,e)}};RR=function(){return Ge};MR=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};i0=function(t,e,n){switch(e){case"input":if(Xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dm(r);if(!i)throw Error(ee(90));cR(r),Xv(r,i)}}}break;case"textarea":dR(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};_R=Mw;xR=Ps;var zF={usingClientEntryPoint:!1,Events:[Cf,ga,Dm,yR,vR,Mw]},Su={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qF={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ER(t),t===null?null:t.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||BF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{km=Vd.inject(qF),qr=Vd}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zF;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uw(e))throw Error(ee(200));return FF(t,e,null,n)};Kn.createRoot=function(t,e){if(!Uw(t))throw Error(ee(299));var n=!1,r="",i=tM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$w(t,1,!1,null,null,n,!1,r,i),t[Ti]=e.current,bc(t.nodeType===8?t.parentNode:t),new jw(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=ER(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Ps(t)};Kn.hydrate=function(t,e,n){if(!zm(e))throw Error(ee(200));return qm(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!Uw(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=tM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eM(e,null,t,1,n??null,i,!1,o,s),t[Ti]=e.current,bc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gm(e)};Kn.render=function(t,e,n){if(!zm(e))throw Error(ee(200));return qm(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!zm(t))throw Error(ee(40));return t._reactRootContainer?(Ps(function(){qm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Kn.unstable_batchedUpdates=Mw;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zm(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return qm(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function nM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nM)}catch(t){console.error(t)}}nM(),nR.exports=Kn;var HF=nR.exports,a1=HF;zv.createRoot=a1.createRoot,zv.hydrateRoot=a1.hydrateRoot;var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},iM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new KF;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JF=function(t){const e=rM(t);return iM.encodeByteArray(e,!0)},rp=function(t){return JF(t).replace(/\./g,"")},oM=function(t){try{return iM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>YF().__FIREBASE_DEFAULTS__,QF=()=>{if(typeof process>"u"||typeof l1>"u")return;const t=l1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oM(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return XF()||QF()||ZF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sM=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eB=t=>{const e=sM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aM=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config},lM=t=>{var e;return(e=Hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function iB(){var t;const e=(t=Hm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lB(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uB(){return!iB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cB(){try{return typeof indexedDB=="object"}catch{return!1}}function fB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dB,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ui(i,a,r)}}function hB(t,e){return t.replace(pB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pB=/\{\$([^}]+)}/g;function mB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ip(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(u1(o)&&u1(s)){if(!ip(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gB(t,e){const n=new yB(t,e);return n.subscribe.bind(n)}class yB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zy),i.error===void 0&&(i.error=Zy),i.complete===void 0&&(i.complete=Zy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wB(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xB(t){return t===is?void 0:t}function wB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _B(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const EB={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},TB=Re.INFO,SB={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},AB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fw{constructor(e){this.name=e,this._logLevel=TB,this._logHandler=AB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const IB=(t,e)=>e.some(n=>t instanceof n);let c1,f1;function CB(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PB(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uM=new WeakMap,$0=new WeakMap,cM=new WeakMap,ev=new WeakMap,Bw=new WeakMap;function NB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(To(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uM.set(n,t)}).catch(()=>{}),Bw.set(e,t),e}function kB(t){if($0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$0.set(t,e)}let V0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RB(t){V0=t(V0)}function MB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tv(this),e,...n);return cM.set(r,e.sort?e.sort():[e]),To(r)}:PB().includes(t)?function(...e){return t.apply(tv(this),e),To(uM.get(this))}:function(...e){return To(t.apply(tv(this),e))}}function OB(t){return typeof t=="function"?MB(t):(t instanceof IDBTransaction&&kB(t),IB(t,CB())?new Proxy(t,V0):t)}function To(t){if(t instanceof IDBRequest)return NB(t);if(ev.has(t))return ev.get(t);const e=OB(t);return e!==t&&(ev.set(t,e),Bw.set(e,t)),e}const tv=t=>Bw.get(t);function DB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=To(s);return r&&s.addEventListener("upgradeneeded",l=>{r(To(s.result),l.oldVersion,l.newVersion,To(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LB=["get","getKey","getAll","getAllKeys","count"],$B=["put","add","delete","clear"],nv=new Map;function d1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$B.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LB.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return nv.set(e,o),o}RB(t=>({...t,get:(e,n,r)=>d1(e,n)||t.get(e,n,r),has:(e,n)=>!!d1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j0="@firebase/app",h1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Fw("@firebase/app"),UB="@firebase/app-compat",FB="@firebase/analytics-compat",BB="@firebase/analytics",GB="@firebase/app-check-compat",zB="@firebase/app-check",qB="@firebase/auth",HB="@firebase/auth-compat",WB="@firebase/database",KB="@firebase/data-connect",JB="@firebase/database-compat",YB="@firebase/functions",XB="@firebase/functions-compat",QB="@firebase/installations",ZB="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",n3="@firebase/performance",r3="@firebase/performance-compat",i3="@firebase/remote-config",o3="@firebase/remote-config-compat",s3="@firebase/storage",a3="@firebase/storage-compat",l3="@firebase/firestore",u3="@firebase/vertexai-preview",c3="@firebase/firestore-compat",f3="firebase",d3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="[DEFAULT]",h3={[j0]:"fire-core",[UB]:"fire-core-compat",[BB]:"fire-analytics",[FB]:"fire-analytics-compat",[zB]:"fire-app-check",[GB]:"fire-app-check-compat",[qB]:"fire-auth",[HB]:"fire-auth-compat",[WB]:"fire-rtdb",[KB]:"fire-data-connect",[JB]:"fire-rtdb-compat",[YB]:"fire-fn",[XB]:"fire-fn-compat",[QB]:"fire-iid",[ZB]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[n3]:"fire-perf",[r3]:"fire-perf-compat",[i3]:"fire-rc",[o3]:"fire-rc-compat",[s3]:"fire-gcs",[a3]:"fire-gcs-compat",[l3]:"fire-fst",[c3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[f3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Map,p3=new Map,F0=new Map;function p1(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(F0.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of op.values())p1(n,t);for(const n of p3.values())p1(n,t);return!0}function Gw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new Nf("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=d3;function fM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=aM()),!n)throw So.create("no-options");const o=op.get(i);if(o){if(ip(n,o.options)&&ip(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}const s=new bB(i);for(const l of F0.values())s.addComponent(l);const a=new g3(n,r,s);return op.set(i,a),a}function dM(t=U0){const e=op.get(t);if(!e&&t===U0&&aM())return fM();if(!e)throw So.create("no-app",{appName:t});return e}function Ao(t,e,n){var r;let i=(r=h3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}Za(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebase-heartbeat-database",v3=1,kc="firebase-heartbeat-store";let rv=null;function hM(){return rv||(rv=DB(y3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),rv}async function _3(t){try{const n=(await hM()).transaction(kc),r=await n.objectStore(kc).get(pM(t));return await n.done,r}catch(e){if(e instanceof Ui)Ii.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function m1(t,e){try{const r=(await hM()).transaction(kc,"readwrite");await r.objectStore(kc).put(e,pM(t)),await r.done}catch(n){if(n instanceof Ui)Ii.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function pM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=1024,w3=30*24*60*60*1e3;class b3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=g1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=w3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g1(),{heartbeatsToSend:r,unsentEntries:i}=E3(this._heartbeatsCache.heartbeats),o=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ii.warn(n),""}}}function g1(){return new Date().toISOString().substring(0,10)}function E3(t,e=x3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),y1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cB()?fB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y1(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){Za(new Ns("platform-logger",e=>new VB(e),"PRIVATE")),Za(new Ns("heartbeat",e=>new b3(e),"PRIVATE")),Ao(j0,h1,t),Ao(j0,h1,"esm2017"),Ao("fire-js","")}S3("");var A3="firebase",I3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(A3,I3,"app");var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,mM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,O,D){for(var M=Array(arguments.length-2),F=2;F<arguments.length;F++)M[F-2]=arguments[F];return C.prototype[O].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)R[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;16>O;++O)R[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],O=S.g[2];var D=S.g[3],M=C+(D^I&(O^D))+R[0]+3614090360&4294967295;C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[1]+3905402710&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[2]+606105819&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[3]+3250441966&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(D^I&(O^D))+R[4]+4118548399&4294967295,C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[5]+1200080426&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[6]+2821735955&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[7]+4249261313&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(D^I&(O^D))+R[8]+1770035416&4294967295,C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[9]+2336552879&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[10]+4294925233&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[11]+2304563134&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(D^I&(O^D))+R[12]+1804603682&4294967295,C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[13]+4254626195&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[14]+2792965006&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[15]+1236535329&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(O^D&(I^O))+R[1]+4129170786&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[6]+3225465664&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[11]+643717713&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[0]+3921069994&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^D&(I^O))+R[5]+3593408605&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[10]+38016083&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[15]+3634488961&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[4]+3889429448&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^D&(I^O))+R[9]+568446438&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[14]+3275163606&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[3]+4107603335&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[8]+1163531501&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^D&(I^O))+R[13]+2850285829&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[2]+4243563512&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[7]+1735328473&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[12]+2368359562&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(I^O^D)+R[5]+4294588738&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[8]+2272392833&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[11]+1839030562&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[14]+4259657740&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^D)+R[1]+2763975236&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[4]+1272893353&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[7]+4139469664&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[10]+3200236656&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^D)+R[13]+681279174&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[0]+3936430074&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[3]+3572445317&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[6]+76029189&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^D)+R[9]+3654602809&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[12]+3873151461&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[15]+530742520&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[2]+3299628645&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(O^(I|~D))+R[0]+4096336452&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[7]+1126891415&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[14]+2878612391&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[5]+4237533241&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~D))+R[12]+1700485571&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[3]+2399980690&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[10]+4293915773&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[1]+2240044497&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~D))+R[8]+1873313359&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[15]+4264355552&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[6]+2734768916&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[13]+1309151649&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~D))+R[4]+4149444226&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[11]+3174756917&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[2]+718787259&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,R=this.B,O=this.h,D=0;D<C;){if(O==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(R[O++]=S.charCodeAt(D++),O==this.blockSize){i(this,R),O=0;break}}else for(;D<C;)if(R[O++]=S[D++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)S[I++]=this.g[C]>>>R&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],R=!0,O=S.length-1;0<=O;O--){var D=S[O]|0;R&&D==C||(I[O]=D,R=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return x(u(-S));for(var C=[],I=1,R=0;S>=I;R++)C[R]=S/I|0,I*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return x(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),R=f,O=0;O<S.length;O+=8){var D=Math.min(8,S.length-O),M=parseInt(S.substring(O,O+D),C);8>D?(D=u(Math.pow(C,D)),R=R.j(D).add(u(M))):(R=R.j(I),R=R.add(u(M)))}return R}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-x(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(w(this))return"-"+x(this).toString(S);for(var C=u(Math.pow(S,6)),I=this,R="";;){var O=N(I,C).g;I=_(I,O.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=O,v(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=_(this,S),w(S)?-1:v(S)?0:1};function x(S){for(var C=S.g.length,I=[],R=0;R<C;R++)I[R]=~S.g[R];return new s(I,~S.h).add(h)}t.abs=function(){return w(this)?x(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0,O=0;O<=C;O++){var D=R+(this.i(O)&65535)+(S.i(O)&65535),M=(D>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);R=M>>>16,D&=65535,M&=65535,I[O]=M<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function _(S,C){return S.add(x(C))}t.j=function(S){if(v(this)||v(S))return f;if(w(this))return w(S)?x(this).j(x(S)):x(x(this).j(S));if(w(S))return x(this.j(x(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<S.g.length;O++){var D=this.i(R)>>>16,M=this.i(R)&65535,F=S.i(O)>>>16,B=S.i(O)&65535;I[2*R+2*O]+=M*B,b(I,2*R+2*O),I[2*R+2*O+1]+=D*B,b(I,2*R+2*O+1),I[2*R+2*O+1]+=M*F,b(I,2*R+2*O+1),I[2*R+2*O+2]+=D*F,b(I,2*R+2*O+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new s(I,0)};function b(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function T(S,C){this.g=S,this.h=C}function N(S,C){if(v(C))throw Error("division by zero");if(v(S))return new T(f,f);if(w(S))return C=N(x(S),C),new T(x(C.g),x(C.h));if(w(C))return C=N(S,x(C)),new T(x(C.g),C.h);if(30<S.g.length){if(w(S)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(S);)I=A(I),R=A(R);var O=P(I,1),D=P(R,1);for(R=P(R,2),I=P(I,2);!v(R);){var M=D.add(R);0>=M.l(S)&&(O=O.add(I),D=M),R=P(R,1),I=P(I,1)}return C=_(S,O.j(C)),new T(O,C)}for(O=f;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),M=D.j(C);w(M)||0<M.l(S);)I-=R,D=u(I),M=D.j(C);v(D)&&(D=h),O=O.add(D),S=_(S,M)}return new T(O,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&S.i(R);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|S.i(R);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^S.i(R);return new s(I,this.h^S.h)};function A(S){for(var C=S.g.length+1,I=[],R=0;R<C;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(I,S.h)}function P(S,C){var I=C>>5;C%=32;for(var R=S.g.length-I,O=[],D=0;D<R;D++)O[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new s(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,xs=s}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gM,Gu,yM,bh,B0,vM,_M,xM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,k){return p==Array.prototype||p==Object.prototype||(p[E]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var E=0;E<p.length;++E){var k=p[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var k=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var j=p[L];if(!(j in k))break e;k=k[j]}p=p[p.length-1],L=k[p],E=E(L),E!=L&&E!=null&&e(k,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var k=0,L=!1,j={next:function(){if(!L&&k<p.length){var G=k++;return{value:E(G,p[G]),done:!1}}return L=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function u(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function c(p,E,k){return p.call.apply(p.bind,arguments)}function f(p,E,k){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,L),p.apply(E,j)}}return function(){return p.apply(E,arguments)}}function h(p,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function y(p,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function v(p,E){function k(){}k.prototype=E.prototype,p.aa=E.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(L,j,G){for(var ne=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ne[Ke-2]=arguments[Ke];return E.prototype[j].apply(L,ne)}}function w(p){const E=p.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=p[L];return k}return[]}function x(p,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const j=p.length||0,G=L.length||0;p.length=j+G;for(let ne=0;ne<G;ne++)p[j+ne]=L[ne]}else p.push(L)}}class _{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(p){return/^[\s\xa0]*$/.test(p)}function T(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function N(p){return N[" "](p),p}N[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(p,E,k){for(const L in p)E.call(k,p[L],L,p)}function S(p,E){for(const k in p)E.call(void 0,p[k],k,p)}function C(p){const E={};for(const k in p)E[k]=p[k];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let k,L;for(let j=1;j<arguments.length;j++){L=arguments[j];for(k in L)p[k]=L[k];for(let G=0;G<I.length;G++)k=I[G],Object.prototype.hasOwnProperty.call(L,k)&&(p[k]=L[k])}}function O(p){var E=1;p=p.split(":");const k=[];for(;0<E&&p.length;)k.push(p.shift()),E--;return p.length&&k.push(p.join(":")),k}function D(p){a.setTimeout(()=>{throw p},0)}function M(){var p=H;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class F{constructor(){this.h=this.g=null}add(E,k){const L=B.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new _(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,U=!1,H=new F,J=()=>{const p=a.Promise.resolve(void 0);W=()=>{p.then(oe)}};var oe=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(k){D(k)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}U=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return p}();function Le(p,E){if(le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(A){e:{try{N(E.nodeName);var j=!0;break e}catch{}j=!1}j||(E=null)}}else k=="mouseover"?E=p.fromElement:k=="mouseout"&&(E=p.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:et[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Le.aa.h.call(this)}}v(Le,le);var et={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function se(p,E,k,L,j){this.listener=p,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=j,this.key=++Dt,this.da=this.fa=!1}function ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ve(p){this.src=p,this.g={},this.h=0}ve.prototype.add=function(p,E,k,L,j){var G=p.toString();p=this.g[G],p||(p=this.g[G]=[],this.h++);var ne=He(p,E,L,j);return-1<ne?(E=p[ne],k||(E.fa=!1)):(E=new se(E,this.src,G,!!L,j),E.fa=k,p.push(E)),E};function X(p,E){var k=E.type;if(k in p.g){var L=p.g[k],j=Array.prototype.indexOf.call(L,E,void 0),G;(G=0<=j)&&Array.prototype.splice.call(L,j,1),G&&(ye(E),p.g[k].length==0&&(delete p.g[k],p.h--))}}function He(p,E,k,L){for(var j=0;j<p.length;++j){var G=p[j];if(!G.da&&G.listener==E&&G.capture==!!k&&G.ha==L)return j}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),tt={};function at(p,E,k,L,j){if(Array.isArray(E)){for(var G=0;G<E.length;G++)at(p,E[G],k,L,j);return null}return k=Wo(k),p&&p[At]?p.K(E,k,u(L)?!!L.capture:!1,j):Lt(p,E,k,!1,L,j)}function Lt(p,E,k,L,j,G){if(!E)throw Error("Invalid event type");var ne=u(j)?!!j.capture:!!j,Ke=ri(p);if(Ke||(p[Ae]=Ke=new ve(p)),k=Ke.add(E,k,L,ne,G),k.proxy)return k;if(L=Yn(),k.proxy=L,L.src=p,L.listener=k,p.addEventListener)Ie||(j=ne),j===void 0&&(j=!1),p.addEventListener(E.toString(),L,j);else if(p.attachEvent)p.attachEvent(Xn(E.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Yn(){function p(k){return E.call(p.src,p.listener,k)}const E=_r;return p}function vr(p,E,k,L,j){if(Array.isArray(E))for(var G=0;G<E.length;G++)vr(p,E[G],k,L,j);else L=u(L)?!!L.capture:!!L,k=Wo(k),p&&p[At]?(p=p.i,E=String(E).toString(),E in p.g&&(G=p.g[E],k=He(G,k,L,j),-1<k&&(ye(G[k]),Array.prototype.splice.call(G,k,1),G.length==0&&(delete p.g[E],p.h--)))):p&&(p=ri(p))&&(E=p.g[E.toString()],p=-1,E&&(p=He(E,k,L,j)),(k=-1<p?E[p]:null)&&jr(k))}function jr(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[At])X(E.i,p);else{var k=p.type,L=p.proxy;E.removeEventListener?E.removeEventListener(k,L,p.capture):E.detachEvent?E.detachEvent(Xn(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=ri(E))?(X(k,p),k.h==0&&(k.src=null,E[Ae]=null)):ye(p)}}}function Xn(p){return p in tt?tt[p]:tt[p]="on"+p}function _r(p,E){if(p.da)p=!0;else{E=new Le(E,this);var k=p.listener,L=p.ha||p.src;p.fa&&jr(p),p=k.call(L,E)}return p}function ri(p){return p=p[Ae],p instanceof ve?p:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(p){return typeof p=="function"?p:(p[Hi]||(p[Hi]=function(E){return p.handleEvent(E)}),p[Hi])}function $t(){Z.call(this),this.i=new ve(this),this.M=this,this.F=null}v($t,Z),$t.prototype[At]=!0,$t.prototype.removeEventListener=function(p,E,k,L){vr(this,p,E,k,L)};function qt(p,E){var k,L=p.F;if(L)for(k=[];L;L=L.F)k.push(L);if(p=p.M,L=E.type||E,typeof E=="string")E=new le(E,p);else if(E instanceof le)E.target=E.target||p;else{var j=E;E=new le(L,p),R(E,j)}if(j=!0,k)for(var G=k.length-1;0<=G;G--){var ne=E.g=k[G];j=Xs(ne,L,!0,E)&&j}if(ne=E.g=p,j=Xs(ne,L,!0,E)&&j,j=Xs(ne,L,!1,E)&&j,k)for(G=0;G<k.length;G++)ne=E.g=k[G],j=Xs(ne,L,!1,E)&&j}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var k=p.g[E],L=0;L<k.length;L++)ye(k[L]);delete p.g[E],p.h--}}this.F=null},$t.prototype.K=function(p,E,k,L){return this.i.add(String(p),E,!1,k,L)},$t.prototype.L=function(p,E,k,L){return this.i.add(String(p),E,!0,k,L)};function Xs(p,E,k,L){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var j=!0,G=0;G<E.length;++G){var ne=E[G];if(ne&&!ne.da&&ne.capture==k){var Ke=ne.listener,Ht=ne.ha||ne.src;ne.fa&&X(p.i,ne),j=Ke.call(Ht,L)!==!1&&j}}return j&&!L.defaultPrevented}function Zf(p,E,k){if(typeof p=="function")k&&(p=h(p,k));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(p,E||0)}function ed(p){p.g=Zf(()=>{p.g=null,p.i&&(p.i=!1,ed(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class dy extends Z{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ed(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ko(p){Z.call(this),this.h=p,this.g={}}v(Ko,Z);var td=[];function nd(p){P(p.g,function(E,k){this.g.hasOwnProperty(k)&&jr(E)},p),p.g={}}Ko.prototype.N=function(){Ko.aa.N.call(this),nd(this)},Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var su=a.JSON.stringify,hy=a.JSON.parse,py=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function au(){}au.prototype.h=null;function rd(p){return p.h||(p.h=p.i())}function id(){}var Jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lu(){le.call(this,"d")}v(lu,le);function uu(){le.call(this,"c")}v(uu,le);var ii={},od=null;function Yo(){return od=od||new $t}ii.La="serverreachability";function sd(p){le.call(this,ii.La,p)}v(sd,le);function Y(p){const E=Yo();qt(E,new sd(E))}ii.STAT_EVENT="statevent";function re(p,E){le.call(this,ii.STAT_EVENT,p),this.stat=E}v(re,le);function he(p){const E=Yo();qt(E,new re(E,p))}ii.Ma="timingevent";function Xo(p,E){le.call(this,ii.Ma,p),this.size=E}v(Xo,le);function An(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},E)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Qj(p,E,k,L,j,G){p.info(function(){if(p.g)if(G)for(var ne="",Ke=G.split("&"),Ht=0;Ht<Ke.length;Ht++){var $e=Ke[Ht].split("=");if(1<$e.length){var nn=$e[0];$e=$e[1];var rn=nn.split("_");ne=2<=rn.length&&rn[1]=="type"?ne+(nn+"="+$e+"&"):ne+(nn+"=redacted&")}}else ne=null;else ne=G;return"XMLHTTP REQ ("+L+") [attempt "+j+"]: "+E+`
`+k+`
`+ne})}function Zj(p,E,k,L,j,G,ne){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+j+"]: "+E+`
`+k+`
`+G+" "+ne})}function Qs(p,E,k,L){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+tU(p,k)+(L?" "+L:"")})}function eU(p,E){p.info(function(){return"TIMEOUT: "+E})}Wi.prototype.info=function(){};function tU(p,E){if(!p.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var L=k[p];if(!(2>L.length)){var j=L[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ne=1;ne<j.length;ne++)j[ne]=""}}}}return su(k)}catch{return E}}var ad={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},my;function ld(){}v(ld,au),ld.prototype.g=function(){return new XMLHttpRequest},ld.prototype.i=function(){return{}},my=new ld;function Ki(p,E,k,L){this.j=p,this.i=E,this.l=k,this.R=L||1,this.U=new Ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mT}function mT(){this.i=null,this.g="",this.h=!1}var gT={},gy={};function yy(p,E,k){p.L=1,p.v=dd(oi(E)),p.m=k,p.P=!0,yT(p,null)}function yT(p,E){p.F=Date.now(),ud(p),p.A=oi(p.v);var k=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),kT(k.i,"t",L),p.C=0,k=p.j.J,p.h=new mT,p.g=JT(p.j,k?E:null,!p.m),0<p.O&&(p.M=new dy(h(p.Y,p,p.g),p.O)),E=p.U,k=p.g,L=p.ca;var j="readystatechange";Array.isArray(j)||(j&&(td[0]=j.toString()),j=td);for(var G=0;G<j.length;G++){var ne=at(k,j[G],L||E.handleEvent,!1,E.h||E);if(!ne)break;E.g[ne.key]=ne}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Y(),Qj(p.i,p.u,p.A,p.l,p.R,p.m)}Ki.prototype.ca=function(p){p=p.target;const E=this.M;E&&si(p)==3?E.j():this.Y(p)},Ki.prototype.Y=function(p){try{if(p==this.g)e:{const rn=si(this.g);var E=this.g.Ba();const ta=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||VT(this.g)))){this.J||rn!=4||E==7||(E==8||0>=ta?Y(3):Y(2)),vy(this);var k=this.g.Z();this.X=k;t:if(vT(this)){var L=VT(this.g);p="";var j=L.length,G=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),cu(this);var ne="";break t}this.h.i=new a.TextDecoder}for(E=0;E<j;E++)this.h.h=!0,p+=this.h.i.decode(L[E],{stream:!(G&&E==j-1)});L.length=0,this.h.g+=p,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=k==200,Zj(this.i,this.u,this.A,this.l,this.R,rn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ht=this.g;if((Ke=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ke)){var $e=Ke;break t}}$e=null}if(k=$e)Qs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_y(this,k);else{this.o=!1,this.s=3,he(12),Qo(this),cu(this);break e}}if(this.P){k=!0;let xr;for(;!this.J&&this.C<ne.length;)if(xr=nU(this,ne),xr==gy){rn==4&&(this.s=4,he(14),k=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==gT){this.s=4,he(15),Qs(this.i,this.l,ne,"[Invalid Chunk]"),k=!1;break}else Qs(this.i,this.l,xr,null),_y(this,xr);if(vT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ne.length!=0||this.h.h||(this.s=1,he(16),k=!1),this.o=this.o&&k,!k)Qs(this.i,this.l,ne,"[Invalid Chunked Response]"),Qo(this),cu(this);else if(0<ne.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Sy(nn),nn.M=!0,he(11))}}else Qs(this.i,this.l,ne,null),_y(this,ne);rn==4&&Qo(this),this.o&&!this.J&&(rn==4?qT(this.j,this):(this.o=!1,ud(this)))}else _U(this.g),k==400&&0<ne.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Qo(this),cu(this)}}}catch{}finally{}};function vT(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function nU(p,E){var k=p.C,L=E.indexOf(`
`,k);return L==-1?gy:(k=Number(E.substring(k,L)),isNaN(k)?gT:(L+=1,L+k>E.length?gy:(E=E.slice(L,L+k),p.C=L+k,E)))}Ki.prototype.cancel=function(){this.J=!0,Qo(this)};function ud(p){p.S=Date.now()+p.I,_T(p,p.I)}function _T(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=An(h(p.ba,p),E)}function vy(p){p.B&&(a.clearTimeout(p.B),p.B=null)}Ki.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(eU(this.i,this.A),this.L!=2&&(Y(),he(17)),Qo(this),this.s=2,cu(this)):_T(this,this.S-p)};function cu(p){p.j.G==0||p.J||qT(p.j,p)}function Qo(p){vy(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,nd(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function _y(p,E){try{var k=p.j;if(k.G!=0&&(k.g==p||xy(k.h,p))){if(!p.K&&xy(k.h,p)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var j=L;if(j[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)vd(k),gd(k);else break e;Ty(k),he(18)}}else k.za=j[1],0<k.za-k.T&&37500>j[2]&&k.F&&k.v==0&&!k.C&&(k.C=An(h(k.Za,k),6e3));if(1>=bT(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else es(k,11)}else if((p.K||k.g==p)&&vd(k),!b(E))for(j=k.Da.g.parse(E),E=0;E<j.length;E++){let $e=j[E];if(k.T=$e[0],$e=$e[1],k.G==2)if($e[0]=="c"){k.K=$e[1],k.ia=$e[2];const nn=$e[3];nn!=null&&(k.la=nn,k.j.info("VER="+k.la));const rn=$e[4];rn!=null&&(k.Aa=rn,k.j.info("SVER="+k.Aa));const ta=$e[5];ta!=null&&typeof ta=="number"&&0<ta&&(L=1.5*ta,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const xr=p.g;if(xr){const xd=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xd){var G=L.h;G.g||xd.indexOf("spdy")==-1&&xd.indexOf("quic")==-1&&xd.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(wy(G,G.h),G.h=null))}if(L.D){const Ay=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ay&&(L.ya=Ay,nt(L.I,L.D,Ay))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var ne=p;if(L.qa=KT(L,L.J?L.ia:null,L.W),ne.K){ET(L.h,ne);var Ke=ne,Ht=L.L;Ht&&(Ke.I=Ht),Ke.B&&(vy(Ke),ud(Ke)),L.g=ne}else GT(L);0<k.i.length&&yd(k)}else $e[0]!="stop"&&$e[0]!="close"||es(k,7);else k.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?es(k,7):Ey(k):$e[0]!="noop"&&k.l&&k.l.ta($e),k.v=0)}}Y(4)}catch{}}var rU=class{constructor(p,E){this.g=p,this.map=E}};function xT(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wT(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function bT(p){return p.h?1:p.g?p.g.size:0}function xy(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function wy(p,E){p.g?p.g.add(E):p.h=E}function ET(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}xT.prototype.cancel=function(){if(this.i=TT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function TT(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const k of p.g.values())E=E.concat(k.D);return E}return w(p.i)}function iU(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var E=[],k=p.length,L=0;L<k;L++)E.push(p[L]);return E}E=[],k=0;for(L in p)E[k++]=p[L];return E}function oU(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var E=[];p=p.length;for(var k=0;k<p;k++)E.push(k);return E}E=[],k=0;for(const L in p)E[k++]=L;return E}}}function ST(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var k=oU(p),L=iU(p),j=L.length,G=0;G<j;G++)E.call(void 0,L[G],k&&k[G],p)}var AT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sU(p,E){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var L=p[k].indexOf("="),j=null;if(0<=L){var G=p[k].substring(0,L);j=p[k].substring(L+1)}else G=p[k];E(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Zo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Zo){this.h=p.h,cd(this,p.j),this.o=p.o,this.g=p.g,fd(this,p.s),this.l=p.l;var E=p.i,k=new hu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),IT(this,k),this.m=p.m}else p&&(E=String(p).match(AT))?(this.h=!1,cd(this,E[1]||"",!0),this.o=fu(E[2]||""),this.g=fu(E[3]||"",!0),fd(this,E[4]),this.l=fu(E[5]||"",!0),IT(this,E[6]||"",!0),this.m=fu(E[7]||"")):(this.h=!1,this.i=new hu(null,this.h))}Zo.prototype.toString=function(){var p=[],E=this.j;E&&p.push(du(E,CT,!0),":");var k=this.g;return(k||E=="file")&&(p.push("//"),(E=this.o)&&p.push(du(E,CT,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(du(k,k.charAt(0)=="/"?uU:lU,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",du(k,fU)),p.join("")};function oi(p){return new Zo(p)}function cd(p,E,k){p.j=k?fu(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function fd(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function IT(p,E,k){E instanceof hu?(p.i=E,dU(p.i,p.h)):(k||(E=du(E,cU)),p.i=new hu(E,p.h))}function nt(p,E,k){p.i.set(E,k)}function dd(p){return nt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function fu(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function du(p,E,k){return typeof p=="string"?(p=encodeURI(p).replace(E,aU),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function aU(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var CT=/[#\/\?@]/g,lU=/[#\?:]/g,uU=/[#\?]/g,cU=/[#\?@]/g,fU=/#/g;function hu(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Ji(p){p.g||(p.g=new Map,p.h=0,p.i&&sU(p.i,function(E,k){p.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=hu.prototype,t.add=function(p,E){Ji(this),this.i=null,p=Zs(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(E),this.h+=1,this};function PT(p,E){Ji(p),E=Zs(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function NT(p,E){return Ji(p),E=Zs(p,E),p.g.has(E)}t.forEach=function(p,E){Ji(this),this.g.forEach(function(k,L){k.forEach(function(j){p.call(E,j,L,this)},this)},this)},t.na=function(){Ji(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const j=p[L];for(let G=0;G<j.length;G++)k.push(E[L])}return k},t.V=function(p){Ji(this);let E=[];if(typeof p=="string")NT(this,p)&&(E=E.concat(this.g.get(Zs(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)E=E.concat(p[k])}return E},t.set=function(p,E){return Ji(this),this.i=null,p=Zs(this,p),NT(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function kT(p,E,k){PT(p,E),0<k.length&&(p.i=null,p.g.set(Zs(p,E),w(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const G=encodeURIComponent(String(L)),ne=this.V(L);for(L=0;L<ne.length;L++){var j=G;ne[L]!==""&&(j+="="+encodeURIComponent(String(ne[L]))),p.push(j)}}return this.i=p.join("&")};function Zs(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function dU(p,E){E&&!p.j&&(Ji(p),p.i=null,p.g.forEach(function(k,L){var j=L.toLowerCase();L!=j&&(PT(this,L),kT(this,j,k))},p)),p.j=E}function hU(p,E){const k=new Wi;if(a.Image){const L=new Image;L.onload=y(Yi,k,"TestLoadImage: loaded",!0,E,L),L.onerror=y(Yi,k,"TestLoadImage: error",!1,E,L),L.onabort=y(Yi,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=y(Yi,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else E(!1)}function pU(p,E){const k=new Wi,L=new AbortController,j=setTimeout(()=>{L.abort(),Yi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:L.signal}).then(G=>{clearTimeout(j),G.ok?Yi(k,"TestPingServer: ok",!0,E):Yi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(j),Yi(k,"TestPingServer: error",!1,E)})}function Yi(p,E,k,L,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),L(k)}catch{}}function mU(){this.g=new py}function gU(p,E,k){const L=k||"";try{ST(p,function(j,G){let ne=j;u(j)&&(ne=su(j)),E.push(L+G+"="+encodeURIComponent(ne))})}catch(j){throw E.push(L+"type="+encodeURIComponent("_badmap")),j}}function hd(p){this.l=p.Ub||null,this.j=p.eb||!1}v(hd,au),hd.prototype.g=function(){return new pd(this.l,this.j)},hd.prototype.i=function(p){return function(){return p}}({});function pd(p,E){$t.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(pd,$t),t=pd.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,mu(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pu(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,mu(this)),this.g&&(this.readyState=3,mu(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RT(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function RT(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?pu(this):mu(this),this.readyState==3&&RT(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,pu(this))},t.Qa=function(p){this.g&&(this.response=p,pu(this))},t.ga=function(){this.g&&pu(this)};function pu(p){p.readyState=4,p.l=null,p.j=null,p.v=null,mu(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=E.next();return p.join(`\r
`)};function mu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function MT(p){let E="";return P(p,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function by(p,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=MT(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):nt(p,E,k))}function gt(p){$t.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(gt,$t);var yU=/^https?$/i,vU=["POST","PUT"];t=gt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():my.g(),this.v=this.o?rd(this.o):rd(my),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(G){OT(this,G);return}if(p=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var j in L)k.set(j,L[j]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const G of L.keys())k.set(G,L.get(G));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(G=>G.toLowerCase()=="content-type"),j=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vU,E,void 0))||L||j||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ne]of k)this.g.setRequestHeader(G,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$T(this),this.u=!0,this.g.send(p),this.u=!1}catch(G){OT(this,G)}};function OT(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,DT(p),md(p)}function DT(p){p.A||(p.A=!0,qt(p,"complete"),qt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,qt(this,"complete"),qt(this,"abort"),md(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),md(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?LT(this):this.bb())},t.bb=function(){LT(this)};function LT(p){if(p.h&&typeof s<"u"&&(!p.v[1]||si(p)!=4||p.Z()!=2)){if(p.u&&si(p)==4)Zf(p.Ea,0,p);else if(qt(p,"readystatechange"),si(p)==4){p.h=!1;try{const ne=p.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=ne===0){var j=String(p.D).match(AT)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),L=!yU.test(j?j.toLowerCase():"")}k=L}if(k)qt(p,"complete"),qt(p,"success");else{p.m=6;try{var G=2<si(p)?p.g.statusText:""}catch{G=""}p.l=G+" ["+p.Z()+"]",DT(p)}}finally{md(p)}}}}function md(p,E){if(p.g){$T(p);const k=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||qt(p,"ready");try{k.onreadystatechange=L}catch{}}}function $T(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function si(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),hy(E)}};function VT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function _U(p){const E={};p=(p.g&&2<=si(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(b(p[L]))continue;var k=O(p[L]);const j=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const G=E[j]||[];E[j]=G,G.push(k)}S(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gu(p,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||E}function jT(p){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gu("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gu("baseRetryDelayMs",5e3,p),this.cb=gu("retryDelaySeedMs",1e4,p),this.Wa=gu("forwardChannelMaxRetries",2,p),this.wa=gu("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new xT(p&&p.concurrentRequestLimit),this.Da=new mU,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jT.prototype,t.la=8,t.G=1,t.connect=function(p,E,k,L){he(0),this.W=p,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=KT(this,null,this.W),yd(this)};function Ey(p){if(UT(p),p.G==3){var E=p.U++,k=oi(p.I);if(nt(k,"SID",p.K),nt(k,"RID",E),nt(k,"TYPE","terminate"),yu(p,k),E=new Ki(p,p.j,E),E.L=2,E.v=dd(oi(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=JT(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ud(E)}WT(p)}function gd(p){p.g&&(Sy(p),p.g.cancel(),p.g=null)}function UT(p){gd(p),p.u&&(a.clearTimeout(p.u),p.u=null),vd(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function yd(p){if(!wT(p.h)&&!p.s){p.s=!0;var E=p.Ga;W||J(),U||(W(),U=!0),H.add(E,p),p.B=0}}function xU(p,E){return bT(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=An(h(p.Ga,p,E),HT(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const j=new Ki(this,this.j,p);let G=this.o;if(this.S&&(G?(G=C(G),R(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=BT(this,j,E),k=oi(this.I),nt(k,"RID",p),nt(k,"CVER",22),this.D&&nt(k,"X-HTTP-Session-Id",this.D),yu(this,k),G&&(this.O?E="headers="+encodeURIComponent(String(MT(G)))+"&"+E:this.m&&by(k,this.m,G)),wy(this.h,j),this.Ua&&nt(k,"TYPE","init"),this.P?(nt(k,"$req",E),nt(k,"SID","null"),j.T=!0,yy(j,k,null)):yy(j,k,E),this.G=2}}else this.G==3&&(p?FT(this,p):this.i.length==0||wT(this.h)||FT(this))};function FT(p,E){var k;E?k=E.l:k=p.U++;const L=oi(p.I);nt(L,"SID",p.K),nt(L,"RID",k),nt(L,"AID",p.T),yu(p,L),p.m&&p.o&&by(L,p.m,p.o),k=new Ki(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),E&&(p.i=E.D.concat(p.i)),E=BT(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),wy(p.h,k),yy(k,L,E)}function yu(p,E){p.H&&P(p.H,function(k,L){nt(E,L,k)}),p.l&&ST({},function(k,L){nt(E,L,k)})}function BT(p,E,k){k=Math.min(p.i.length,k);var L=p.l?h(p.l.Na,p.l,p):null;e:{var j=p.i;let G=-1;for(;;){const ne=["count="+k];G==-1?0<k?(G=j[0].g,ne.push("ofs="+G)):G=0:ne.push("ofs="+G);let Ke=!0;for(let Ht=0;Ht<k;Ht++){let $e=j[Ht].g;const nn=j[Ht].map;if($e-=G,0>$e)G=Math.max(0,j[Ht].g-100),Ke=!1;else try{gU(nn,ne,"req"+$e+"_")}catch{L&&L(nn)}}if(Ke){L=ne.join("&");break e}}}return p=p.i.splice(0,k),E.D=p,L}function GT(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;W||J(),U||(W(),U=!0),H.add(E,p),p.v=0}}function Ty(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=An(h(p.Fa,p),HT(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,zT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=An(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),gd(this),zT(this))};function Sy(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function zT(p){p.g=new Ki(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=oi(p.qa);nt(E,"RID","rpc"),nt(E,"SID",p.K),nt(E,"AID",p.T),nt(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&nt(E,"TO",p.ja),nt(E,"TYPE","xmlhttp"),yu(p,E),p.m&&p.o&&by(E,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=dd(oi(E)),k.m=null,k.P=!0,yT(k,p)}t.Za=function(){this.C!=null&&(this.C=null,gd(this),Ty(this),he(19))};function vd(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function qT(p,E){var k=null;if(p.g==E){vd(p),Sy(p),p.g=null;var L=2}else if(xy(p.h,E))k=E.D,ET(p.h,E),L=1;else return;if(p.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var j=p.B;L=Yo(),qt(L,new Xo(L,k)),yd(p)}else GT(p);else if(j=E.s,j==3||j==0&&0<E.X||!(L==1&&xU(p,E)||L==2&&Ty(p)))switch(k&&0<k.length&&(E=p.h,E.i=E.i.concat(k)),j){case 1:es(p,5);break;case 4:es(p,10);break;case 3:es(p,6);break;default:es(p,2)}}}function HT(p,E){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*E}function es(p,E){if(p.j.info("Error code "+E),E==2){var k=h(p.fb,p),L=p.Xa;const j=!L;L=new Zo(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cd(L,"https"),dd(L),j?hU(L.toString(),k):pU(L.toString(),k)}else he(2);p.G=0,p.l&&p.l.sa(E),WT(p),UT(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function WT(p){if(p.G=0,p.ka=[],p.l){const E=TT(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function KT(p,E,k){var L=k instanceof Zo?oi(k):new Zo(k);if(L.g!="")E&&(L.g=E+"."+L.g),fd(L,L.s);else{var j=a.location;L=j.protocol,E=E?E+"."+j.hostname:j.hostname,j=+j.port;var G=new Zo(null);L&&cd(G,L),E&&(G.g=E),j&&fd(G,j),k&&(G.l=k),L=G}return k=p.D,E=p.ya,k&&E&&nt(L,k,E),nt(L,"VER",p.la),yu(p,L),L}function JT(p,E,k){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new gt(new hd({eb:k})):new gt(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YT(){}t=YT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _d(){}_d.prototype.g=function(p,E){return new $n(p,E)};function $n(p,E){$t.call(this),this.g=new jT(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!b(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ea(this)}v($n,$t),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Ey(this.g)},$n.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=su(p),p=k);E.i.push(new rU(E.Ya++,p)),E.G==3&&yd(E)},$n.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,$n.aa.N.call(this)};function XT(p){lu.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const k in E){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}v(XT,lu);function QT(){uu.call(this),this.status=1}v(QT,uu);function ea(p){this.g=p}v(ea,YT),ea.prototype.ua=function(){qt(this.g,"a")},ea.prototype.ta=function(p){qt(this.g,new XT(p))},ea.prototype.sa=function(p){qt(this.g,new QT)},ea.prototype.ra=function(){qt(this.g,"b")},_d.prototype.createWebChannel=_d.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,xM=function(){return new _d},_M=function(){return Yo()},vM=ii,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ad.NO_ERROR=0,ad.TIMEOUT=8,ad.HTTP_ERROR=6,bh=ad,pT.COMPLETE="complete",yM=pT,id.EventType=Jo,Jo.OPEN="a",Jo.CLOSE="b",Jo.ERROR="c",Jo.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Gu=id,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,gM=gt}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const _1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Fw("@firebase/firestore");function Au(){return ks.logLevel}function pe(t,...e){if(ks.logLevel<=Re.DEBUG){const n=e.map(zw);ks.debug(`Firestore (${$l}): ${t}`,...n)}}function Ci(t,...e){if(ks.logLevel<=Re.ERROR){const n=e.map(zw);ks.error(`Firestore (${$l}): ${t}`,...n)}}function el(t,...e){if(ks.logLevel<=Re.WARN){const n=e.map(zw);ks.warn(`Firestore (${$l}): ${t}`,...n)}}function zw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function ze(t,e){t||xe()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class P3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N3{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Io,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Io)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new wM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new un(e)}}class k3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new k3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new M3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Rt(0,0))}static max(){return new be(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends Rc{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Rc{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Qe.fromString(e))}static fromName(e){return new me(Qe.fromString(e).popFirst(5))}static empty(){return new me(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Qe(e.slice()))}}function $3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Mo(i,me.empty(),e)}function V3(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(be.min(),me.empty(),-1)}static max(){return new Mo(be.max(),me.empty(),-1)}}function j3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==U3)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function B3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qw.oe=-1;function Wm(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function G3(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ud(this.root,e,this.comparator,!0)}}class Ud{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w1(this.data.getIterator())}getIteratorFrom(e){return new w1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class w1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TM("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(ze(!!t),typeof t=="string"){let e=0;const n=z3.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hw(t){const e=t.mapValue.fields.__previous_value__;return Km(e)?Hw(e):e}function Mc(t){const e=Oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd={mapValue:{}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Km(t)?4:W3(t)?9007199254740991:H3(t)?10:11:xe()}function Zr(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Oo(i.timestampValue),a=Oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rs(i.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?sp(s)===sp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(x1(s)!==x1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Zr(s[l],a[l])))return!1;return!0}(t,e);default:return xe()}}function Dc(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),l=_t(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return b1(t.timestampValue,e.timestampValue);case 4:return b1(Mc(t),Mc(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Rs(o),l=Rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ve(a[u],l[u]);if(c!==0)return c}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ve(_t(o.latitude),_t(s.latitude));return a!==0?a:Ve(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return E1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=Ve(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:E1(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Fd.mapValue&&s===Fd.mapValue)return 0;if(o===Fd.mapValue)return 1;if(s===Fd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Ve(l[f],c[f]);if(h!==0)return h;const y=nl(a[l[f]],u[c[f]]);if(y!==0)return y}return Ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw xe()}}function b1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Oo(t),r=Oo(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function E1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=nl(n[i],r[i]);if(o)return o}return Ve(n.length,r.length)}function rl(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=G0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${G0(n.fields[s])}`;return i+"}"}(t.mapValue):xe()}function ap(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z0(t){return!!t&&"integerValue"in t}function Ww(t){return!!t&&"arrayValue"in t}function T1(t){return!!t&&"nullValue"in t}function S1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eh(t){return!!t&&"mapValue"in t}function H3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function W3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ic(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(ic(this.value))}}function SM(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new Yt([n]);if(Eh(r)){const o=SM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,be.min(),be.min(),be.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,be.min(),be.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,be.min(),be.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.position=e,this.inclusive=n}}function A1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=nl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function I1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function K3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AM=class{};class Tt extends AM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y3(e,n,r):n==="array-contains"?new Z3(e,r):n==="in"?new e5(e,r):n==="not-in"?new t5(e,r):n==="array-contains-any"?new n5(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X3(e,r):new Q3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nl(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends AM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return IM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function IM(t){return t.op==="and"}function CM(t){return J3(t)&&IM(t)}function J3(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function q0(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(CM(t))return t.filters.map(e=>q0(e)).join(",");{const e=t.filters.map(n=>q0(n)).join(",");return`${t.op}(${e})`}}function PM(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PM(s,i.filters[a]),!0):!1}(t,e):void xe()}function NM(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(NM).join(" ,")+"}"}(t):"Filter"}class Y3 extends Tt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class X3 extends Tt{constructor(e,n){super(e,"in",n),this.keys=kM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q3 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=kM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class Z3 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ww(n)&&Dc(n.arrayValue,this.value)}}class e5 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}}class t5 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dc(this.value.arrayValue,n)}}class n5 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function C1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new r5(t,e,n,r,i,o,s)}function Kw(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.ue=n}return e.ue}function Jw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I1(t.startAt,e.startAt)&&I1(t.endAt,e.endAt)}function H0(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i5(t,e,n,r,i,o,s,a){return new Gs(t,e,n,r,i,o,s,a)}function Yw(t){return new Gs(t)}function P1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xw(t){return t.collectionGroup!==null}function Da(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Lc(o,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new Lc(Yt.keyField(),r))}return e.ce}function Wr(t){const e=Ee(t);return e.le||(e.le=o5(e,Da(t))),e.le}function o5(t,e){if(t.limitType==="F")return C1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Lc(i.field,o)});const n=t.endAt?new il(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new il(t.startAt.position,t.startAt.inclusive):null;return C1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){const n=t.filters.concat([e]);return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lp(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jm(t,e){return Jw(Wr(t),Wr(e))&&t.limitType===e.limitType}function RM(t){return`${Kw(Wr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NM(i)).join(", ")}]`),Wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rl(i)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function Ym(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Da(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=A1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Da(r),i)||r.endAt&&!function(s,a,l){const u=A1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Da(r),i))}(t,e)}function s5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MM(t){return(e,n)=>{let r=!1;for(const i of Da(t)){const o=a5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a5(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?nl(l,u):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return EM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=new mt(me.comparator);function Pi(){return l5}const OM=new mt(me.comparator);function zu(...t){let e=OM;for(const n of t)e=e.insert(n.key,n);return e}function DM(t){let e=OM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return oc()}function LM(){return oc()}function oc(){return new Vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const u5=new mt(me.comparator),c5=new Zt(me.comparator);function Ne(...t){let e=c5;for(const n of t)e=e.add(n);return e}const f5=new Zt(Ve);function d5(){return f5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function $M(t){return{integerValue:""+t}}function h5(t,e){return G3(e)?$M(e):Qw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this._=void 0}}function p5(t,e,n){return t instanceof $c?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Km(o)&&(o=Hw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vc?jM(t,e):t instanceof jc?UM(t,e):function(i,o){const s=VM(i,o),a=N1(s)+N1(i.Pe);return z0(s)&&z0(i.Pe)?$M(a):Qw(i.serializer,a)}(t,e)}function m5(t,e,n){return t instanceof Vc?jM(t,e):t instanceof jc?UM(t,e):n}function VM(t,e){return t instanceof up?function(r){return z0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $c extends Xm{}class Vc extends Xm{constructor(e){super(),this.elements=e}}function jM(t,e){const n=FM(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends Xm{constructor(e){super(),this.elements=e}}function UM(t,e){let n=FM(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class up extends Xm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function N1(t){return _t(t.integerValue||t.doubleValue)}function FM(t){return Ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n){this.field=e,this.transform=n}}function y5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vc&&i instanceof Vc||r instanceof jc&&i instanceof jc?tl(r.elements,i.elements,Zr):r instanceof up&&i instanceof up?Zr(r.Pe,i.Pe):r instanceof $c&&i instanceof $c}(t.transform,e.transform)}class v5{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function BM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zm(t.key,wn.none()):new Of(t.key,t.data,wn.none());{const n=t.data,r=Nn.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Uo(t.key,r,new Gn(i.toArray()),wn.none())}}function _5(t,e,n){t instanceof Of?function(i,o,s){const a=i.value.clone(),l=R1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(i,o,s){if(!Th(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=R1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(GM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sc(t,e,n,r){return t instanceof Of?function(o,s,a,l){if(!Th(o.precondition,s))return a;const u=o.value.clone(),c=M1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uo?function(o,s,a,l){if(!Th(o.precondition,s))return a;const u=M1(o.fieldTransforms,l,s),c=s.data;return c.setAll(GM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Th(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function x5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=VM(r.transform,i||null);o!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,o))}return n||null}function k1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tl(r,i,(o,s)=>y5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends Qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends Qm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R1(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,m5(s,a,n[i]))}return r}function M1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,p5(o,s,e))}return r}class Zm extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w5 extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=BM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>k1(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>k1(n,r))}}class Zw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return u5}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Zw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Me;function S5(t){switch(t){default:return xe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function zM(t){if(t===void 0)return Ci("GRPC error has no .code"),q.UNKNOWN;switch(t){case wt.OK:return q.OK;case wt.CANCELLED:return q.CANCELLED;case wt.UNKNOWN:return q.UNKNOWN;case wt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case wt.INTERNAL:return q.INTERNAL;case wt.UNAVAILABLE:return q.UNAVAILABLE;case wt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case wt.NOT_FOUND:return q.NOT_FOUND;case wt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case wt.ABORTED:return q.ABORTED;case wt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case wt.DATA_LOSS:return q.DATA_LOSS;default:return xe()}}(Me=wt||(wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new xs([4294967295,4294967295],0);function O1(t){const e=A5().encode(t),n=new mM;return n.update(e),new Uint8Array(n.digest())}function D1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xs([n,r],0),new xs([i,o],0)]}class eb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qu(`Invalid padding: ${n}`);if(r<0)throw new qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xs.fromNumber(r)));return i.compare(I5)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=O1(e),[r,i]=D1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new eb(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=O1(e),[r,i]=D1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eg(be.min(),i,new mt(Ve),Pi(),Ne())}}class Df{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Df(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class qM{constructor(e,n){this.targetId=e,this.me=n}}class HM{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L1{constructor(){this.fe=0,this.ge=V1(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Df(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=V1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class C5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=$1(),this.Qe=new mt(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(H0(o))if(r===0){const s=new me(o.path);this.Ue(n,s,fn.newNoDocument(s,be.min()))}else ze(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Rs(r).toUint8Array()}catch(l){if(l instanceof TM)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new eb(s,i,o)}catch(l){return el(l instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&H0(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,fn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ne();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new eg(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=$1(),this.Qe=new mt(Ve),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new L1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new L1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $1(){return new mt(me.comparator)}function V1(){return new mt(me.comparator)}const P5={asc:"ASCENDING",desc:"DESCENDING"},N5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k5={and:"AND",or:"OR"};class R5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K0(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function cp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M5(t,e){return cp(t,e.toTimestamp())}function Kr(t){return ze(!!t),be.fromTimestamp(function(n){const r=Oo(n);return new Rt(r.seconds,r.nanos)}(t))}function tb(t,e){return J0(t,e).canonicalString()}function J0(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KM(t){const e=Qe.fromString(t);return ze(ZM(e)),e}function Y0(t,e){return tb(t.databaseId,e.path)}function iv(t,e){const n=KM(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(YM(n))}function JM(t,e){return tb(t.databaseId,e)}function O5(t){const e=KM(t);return e.length===4?Qe.emptyPath():YM(e)}function X0(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YM(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function j1(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function D5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?q.UNKNOWN:zM(u.code);return new ie(c,u.message||"")}(s);n=new HM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iv(t,r.document.name),o=Kr(r.document.updateTime),s=r.document.createTime?Kr(r.document.createTime):be.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Sh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iv(t,r.document),o=r.readTime?Kr(r.readTime):be.min(),s=fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Sh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iv(t,r.document),o=r.removedTargetIds||[];n=new Sh([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new T5(i,o),a=r.targetId;n=new qM(a,s)}}return n}function L5(t,e){let n;if(e instanceof Of)n={update:j1(t,e.key,e.value)};else if(e instanceof Zm)n={delete:Y0(t,e.key)};else if(e instanceof Uo)n={update:j1(t,e.key,e.data),updateMask:q5(e.fieldMask)};else{if(!(e instanceof w5))return xe();n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof $c)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof up)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:M5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(t,e.precondition)),n}function $5(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kr(i.updateTime):Kr(o);return s.isEqual(be.min())&&(s=Kr(o)),new v5(s,i.transformResults||[])}(n,e))):[]}function V5(t,e){return{documents:[JM(t,e.path)]}}function j5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JM(t,i);const o=function(u){if(u.length!==0)return QM(Lr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:la(h.field),direction:B5(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=K0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function U5(t){let e=O5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=XM(f);return h instanceof Lr&&CM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Lc(ua(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Wm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new il(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new il(y,h)}(n.endAt)),i5(e,i,s,o,a,"F",l,u)}function F5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(n.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ua(n.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>XM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function B5(t){return P5[t]}function G5(t){return N5[t]}function z5(t){return k5[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Yt.fromServerFormat(t.fieldPath)}function QM(t){return t instanceof Tt?function(n){if(n.op==="=="){if(S1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(T1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(T1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:G5(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(i=>QM(i));return r.length===1?r[0]:{compositeFilter:{op:z5(n.op),filters:r}}}(t):xe()}function q5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,i,o=be.min(),s=be.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.ct=e}}function W5(t){const e=U5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.un=new J5}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Mo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class J5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ol(0)}static kn(){return new ol(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.changes=new Vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sc(r.mutation,i,Gn.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pi();const s=oc(),a=function(){return oc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Uo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),sc(c.mutation,u,c.mutation.getFieldMask(),Rt.now())):s.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new X5(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=oc();let i=new mt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=LM();c.forEach(h=>{if(!o.has(h)){const y=BM(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(ds());let a=-1,l=o;return s.next(u=>Q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ne())).next(c=>({batchId:a,changes:DM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=zu();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,l=>{const u=function(f,h){return new Gs(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,fn.newInvalidDocument(c)))});let a=zu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&sc(c.mutation,u,Gn.empty(),Rt.now()),Ym(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:W5(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.overlays=new mt(me.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),o=n.length+1,s=new me(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ds(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ds(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new E5(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ne(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Tr=new Zt(jt.Er),this.dr=new Zt(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new jt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new Qe([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new Qe([])),r=new jt(n,e),i=new jt(n,e+1);let o=Ne();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(jt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new b5(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new jt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Ve);return n.forEach(i=>{const o=new jt(i,0),s=new jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const s=new jt(new me(o),0);let a=new Zt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new jt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.Mr=e,this.docs=function(){return new mt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pi();const s=n.path,a=new me(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||j3(V3(c),r)<=0||(i.has(c.key)||Ym(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xe()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new i6(this)}getSize(e){return Q.resolve(this.size)}}class i6 extends Y5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.persistence=e,this.Nr=new Vl(n=>Kw(n),Jw),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nb,this.targetCount=0,this.kr=ol.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qw(0),this.Kr=!1,this.Kr=!0,this.$r=new t6,this.referenceDelegate=e(this),this.Ur=new o6(this),this.indexManager=new K5,this.remoteDocumentCache=function(i){return new r6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new H5(n),this.Gr=new Z5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new n6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new a6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class a6 extends F3{constructor(e){super(),this.currentSequenceNumber=e}}class rb{constructor(e){this.persistence=e,this.Jr=new nb,this.Yr=null}static Zr(e){return new rb(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ne(),i=Ne();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ib(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uB()?8:B3(gn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new l6;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Au()<=Re.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Au()<=Re.DEBUG&&pe("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Au()<=Re.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):Q.resolve())}Yi(e,n){if(P1(n))return Q.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lp(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ne(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,lp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return P1(n)||i.isEqual(be.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Q.resolve(null):(Au()<=Re.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.rs(e,s,n,$3(i,-1)).next(a=>a))})}ts(e,n){let r=new Zt(MM(e));return n.forEach((i,o)=>{Ym(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Au()<=Re.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new mt(Ve),this._s=new Vl(o=>Kw(o),Jw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function f6(t,e,n,r){return new c6(t,e,n,r)}async function eO(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ne();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function d6(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let y=Q.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(w=>{const x=u.docVersions.get(v);ze(x!==null),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tO(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h6(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(w,x,_){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Pi(),u=Ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(p6(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(be.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function p6(t,e,n){let r=Ne(),i=Ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function m6(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g6(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ho(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Q0(t,e,n){const r=Ee(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mf(s))throw s;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function U1(t,e,n){const r=Ee(t);let i=be.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ee(l),h=f._s.get(c);return h!==void 0?Q.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:be.min(),n?o:Ne())).next(a=>(y6(r,s5(e),a),{documents:a,Ts:o})))}function y6(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class F1{constructor(){this.activeTargetIds=d5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v6{constructor(){this.so=new F1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new F1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=null;function ov(){return Bd===null?Bd=function(){return 268435456+Math.round(2147483648*Math.random())}():Bd++,"0x"+Bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class b6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=ov(),l=this.xo(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(pe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw el("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=x6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ov();return new Promise((s,a)=>{const l=new gM;l.setWithCredentials(!0),l.listenOnce(yM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bh.NO_ERROR:const c=l.getResponseJson();pe(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case bh.TIMEOUT:pe(an,`RPC '${e}' ${o} timed out`),a(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const f=l.getStatus();if(pe(an,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(_)>=0?_:q.UNKNOWN}(y.status);a(new ie(v,y.message))}else a(new ie(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{pe(an,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);pe(an,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ov(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xM(),a=_M(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");pe(an,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,y=!1;const v=new w6({Io:x=>{y?pe(an,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(pe(an,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),pe(an,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),w=(x,_,b)=>{x.listen(_,T=>{try{b(T)}catch(N){setTimeout(()=>{throw N},0)}})};return w(f,Gu.EventType.OPEN,()=>{y||(pe(an,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),w(f,Gu.EventType.CLOSE,()=>{y||(y=!0,pe(an,`RPC '${e}' stream ${i} transport closed`),v.So())}),w(f,Gu.EventType.ERROR,x=>{y||(y=!0,el(an,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new ie(q.UNAVAILABLE,"The operation could not be completed")))}),w(f,Gu.EventType.MESSAGE,x=>{var _;if(!y){const b=x.data[0];ze(!!b);const T=b,N=T.error||((_=T[0])===null||_===void 0?void 0:_.error);if(N){pe(an,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(I){const R=wt[I];if(R!==void 0)return zM(R)}(A),S=N.message;P===void 0&&(P=q.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),y=!0,v.So(new ie(P,S)),f.close()}else pe(an,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),w(a,vM.STAT_EVENT,x=>{x.stat===B0.PROXY?pe(an,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===B0.NOPROXY&&pe(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return new R5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E6 extends rO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=D5(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?Kr(s.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=X0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=H0(l)?{documents:V5(o,l)}:{query:j5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WM(o,s.resumeToken);const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=cp(o,s.snapshotVersion.toTimestamp());const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=F5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.a_(n)}}class T6 extends rO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$5(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=X0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>L5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,J0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(q.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,J0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(q.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class A6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ci(n),this.D_=!1):pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{zs(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ee(l);u.L_.add(4),await Lf(u),u.q_.set("Unknown"),u.L_.delete(4),await ng(u)}(this))})}),this.q_=new A6(r,i)}}async function ng(t){if(zs(t))for(const e of t.B_)await e(!0)}async function Lf(t){for(const e of t.B_)await e(!1)}function iO(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),lb(n)?ab(n):jl(n).r_()&&sb(n,e))}function ob(t,e){const n=Ee(t),r=jl(n);n.N_.delete(e),r.r_()&&oO(n,e),n.N_.size===0&&(r.r_()?r.o_():zs(n)&&n.q_.set("Unknown"))}function sb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).A_(e)}function oO(t,e){t.Q_.xe(e),jl(t).R_(e)}function ab(t){t.Q_=new C5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.q_.v_()}function lb(t){return zs(t)&&!jl(t).n_()&&t.N_.size>0}function zs(t){return Ee(t).L_.size===0}function sO(t){t.Q_=void 0}async function C6(t){t.q_.set("Online")}async function P6(t){t.N_.forEach((e,n)=>{sb(t,e)})}async function N6(t,e){sO(t),lb(t)?(t.q_.M_(e),ab(t)):t.q_.set("Unknown")}async function k6(t,e,n){if(t.q_.set("Online"),e instanceof HM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fp(t,r)}else if(e instanceof Sh?t.Q_.Ke(e):e instanceof qM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await tO(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),oO(o,l);const f=new ho(c.target,l,u,c.sequenceNumber);sb(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await fp(t,r)}}async function fp(t,e,n){if(!Mf(e))throw e;t.L_.add(1),await Lf(t),t.q_.set("Offline"),n||(n=()=>tO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ng(t)})}function aO(t,e){return e().catch(n=>fp(t,n,e))}async function rg(t){const e=Ee(t),n=Do(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;R6(e);)try{const i=await m6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,M6(e,i)}catch(i){await fp(e,i)}lO(e)&&uO(e)}function R6(t){return zs(t)&&t.O_.length<10}function M6(t,e){t.O_.push(e);const n=Do(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lO(t){return zs(t)&&!Do(t).n_()&&t.O_.length>0}function uO(t){Do(t).start()}async function O6(t){Do(t).p_()}async function D6(t){const e=Do(t);for(const n of t.O_)e.m_(n.mutations)}async function L6(t,e,n){const r=t.O_.shift(),i=Zw.from(r,e,n);await aO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rg(t)}async function $6(t,e){e&&Do(t).V_&&await async function(r,i){if(function(s){return S5(s)&&s!==q.ABORTED}(i.code)){const o=r.O_.shift();Do(r).s_(),await aO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rg(r)}}(t,e),lO(t)&&uO(t)}async function G1(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.L_.add(3),await Lf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ng(n)}async function V6(t,e){const n=Ee(t);e?(n.L_.delete(2),await ng(n)):e||(n.L_.add(2),await Lf(n),n.q_.set("Unknown"))}function jl(t){return t.K_||(t.K_=function(n,r,i){const o=Ee(n);return o.w_(),new E6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:C6.bind(null,t),Ro:P6.bind(null,t),mo:N6.bind(null,t),d_:k6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),lb(t)?ab(t):t.q_.set("Unknown")):(await t.K_.stop(),sO(t))})),t.K_}function Do(t){return t.U_||(t.U_=function(n,r,i){const o=Ee(n);return o.w_(),new T6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:O6.bind(null,t),mo:$6.bind(null,t),f_:D6.bind(null,t),g_:L6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rg(t)):(await t.U_.stop(),t.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ub(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cb(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),Mf(t))return new ie(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=zu(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.W_=new mt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new sl(e,n,La.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class U6{constructor(){this.queries=q1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=q1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ie(q.ABORTED,"Firestore shutting down"))}}function q1(){return new Vl(t=>RM(t),Jm)}async function cO(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new j6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=cb(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&fb(n)}async function fO(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F6(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&fb(n)}function B6(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function fb(t){t.Y_.forEach(e=>{e.next()})}var Z0,H1;(H1=Z0||(Z0={})).ea="default",H1.Cache="cache";class dO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.key=e}}class pO{constructor(e){this.key=e}}class G6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=MM(e),this.Ra=new La(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new z1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),y=Ym(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(y,v){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return w(y)-w(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new sl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new z1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new pO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ne();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return sl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q6{constructor(e){this.key=e,this.va=!1}}class H6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Vl(a=>RM(a),Jm),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(me.comparator),this.Na=new Map,this.La=new nb,this.Ba={},this.ka=new Map,this.qa=ol.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W6(t,e,n=!0){const r=xO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await mO(r,e,n,!0),i}async function K6(t,e){const n=xO(t);await mO(n,e,!0,!1)}async function mO(t,e,n,r){const i=await g6(t.localStore,Wr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await J6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&iO(t.remoteStore,i),a}async function J6(t,e,n,r,i){t.Ka=(f,h,y)=>async function(w,x,_,b){let T=x.view.ma(_);T.ns&&(T=await U1(w.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,T)));const N=b&&b.targetChanges.get(x.targetId),A=b&&b.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(T,w.isPrimaryClient,N,A);return K1(w,x.targetId,P.wa),P.snapshot}(t,f,h,y);const o=await U1(t.localStore,e,!0),s=new G6(e,o.Ts),a=s.ma(o.documents),l=Df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);K1(t,n,u.wa);const c=new z6(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Y6(t,e,n){const r=Ee(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Jm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ob(r.remoteStore,i.targetId),e_(r,i.targetId)}).catch(Rf)):(e_(r,i.targetId),await Q0(r.localStore,i.targetId,!0))}async function X6(t,e){const n=Ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ob(n.remoteStore,r.targetId))}async function Q6(t,e,n){const r=o8(t);try{const i=await function(s,a){const l=Ee(s),u=Rt.now(),c=a.reduce((y,v)=>y.add(v.key),Ne());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Pi(),w=Ne();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((_,b)=>{b.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{f=x;const _=[];for(const b of a){const T=x5(b,f.get(b.key).overlayedDocument);T!=null&&_.push(new Uo(b.key,T,SM(T.value.mapValue),wn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(y,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:DM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new mt(Ve)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await $f(r,i.changes),await rg(r.remoteStore)}catch(i){const o=cb(i,"Failed to persist write");n.reject(o)}}async function gO(t,e){const n=Ee(t);try{const r=await h6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ze(s.va):i.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),await $f(n,r,e)}catch(r){await Rf(r)}}function W1(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&fb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z6(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new mt(me.comparator);s=s.insert(o,fn.newNoDocument(o,be.min()));const a=Ne().add(o),l=new eg(be.min(),new Map,new mt(Ve),s,a);await gO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),db(r)}else await Q0(r.localStore,e,!1).then(()=>e_(r,e,n)).catch(Rf)}async function e8(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await d6(n.localStore,e);vO(n,r,null),yO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $f(n,i)}catch(i){await Rf(i)}}async function t8(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ze(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);vO(r,e,n),yO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $f(r,i)}catch(i){await Rf(i)}}function yO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vO(t,e,n){const r=Ee(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function e_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_O(t,r)})}function _O(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ob(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),db(t))}function K1(t,e,n){for(const r of n)r instanceof hO?(t.La.addReference(r.key,e),n8(t,r)):r instanceof pO?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_O(t,r.key)):xe()}function n8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),db(t))}function db(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(Qe.fromString(e)),r=t.qa.next();t.Na.set(r,new q6(n)),t.Oa=t.Oa.insert(n,r),iO(t.remoteStore,new ho(Wr(Yw(n.path)),r,"TargetPurposeLimboResolution",qw.oe))}}async function $f(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ib.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,h=>Q.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>Q.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!Mf(f))throw f;pe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=c.os.get(h),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function r8(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await eO(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ie(q.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $f(n,r.hs)}}function i8(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let i=Ne();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function xO(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z6.bind(null,e),e.Ca.d_=F6.bind(null,e.eventManager),e.Ca.$a=B6.bind(null,e.eventManager),e}function o8(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t8.bind(null,e),e}class dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return f6(this.persistence,new u6,e.initialUser,this.serializer)}Ga(e){return new s6(rb.Zr,this.serializer)}Wa(e){return new v6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dp.provider={build:()=>new dp};class t_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r8.bind(null,this.syncEngine),await V6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U6}()}createDatastore(e){const n=tg(e.databaseInfo.databaseId),r=function(o){return new b6(o)}(e.databaseInfo);return function(o,s,a,l){return new S6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new I6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W1(this.syncEngine,n,0),function(){return B1.D()?new B1:new _6}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new H6(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);pe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Lf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}t_.provider={build:()=>new t_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=bM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{pe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(pe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function av(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a8(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>G1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>G1(e.remoteStore,i)),t._onlineComponents=e}async function a8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await av(t,new dp)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await av(t,new dp);return t._offlineComponents}async function bO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await J1(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await J1(t,new t_))),t._onlineComponents}function l8(t){return bO(t).then(e=>e.syncEngine)}async function n_(t){const e=await bO(t),n=e.eventManager;return n.onListen=W6.bind(null,e.syncEngine),n.onUnlisten=Y6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X6.bind(null,e.syncEngine),n}function u8(t,e,n={}){const r=new Io;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new wO({next:h=>{c.Za(),s.enqueueAndForget(()=>fO(o,f)),h.fromCache&&l.source==="server"?u.reject(new ie(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new dO(a,c,{includeMetadataChanges:!0,_a:!0});return cO(o,f)}(await n_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e,n){if(!n)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c8(t,e,n,r){if(e===!0&&r===!0)throw new ie(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X1(t){if(!me.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q1(t){if(me.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ig(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ig(t);throw new ie(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function f8(t,e){if(e<=0)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new R3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y1.get(n);r&&(pe("ComponentProvider","Removing Datastore"),Y1.delete(n),r.terminate())}(this),Promise.resolve()}}function d8(t,e,n,r={}){var i;const o=(t=qn(t,og))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=un.MOCK_USER;else{a=nB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(u)}t._authCredentials=new P3(new wM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Co extends ti{constructor(e,n,r){super(e,n,Yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new me(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function Te(t,e,...n){if(t=Mt(t),TO("collection","path",e),t instanceof og){const r=Qe.fromString(e,...n);return Q1(r),new Co(t,null,r)}{if(!(t instanceof bn||t instanceof Co))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return Q1(r),new Co(t.firestore,null,r)}}function Fe(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=bM.newId()),TO("doc","path",e),t instanceof og){const r=Qe.fromString(e,...n);return X1(r),new bn(t,null,new me(r))}{if(!(t instanceof bn||t instanceof Co))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return X1(r),new bn(t.firestore,t instanceof Co?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nO(this,"async_queue_retry"),this.Vu=()=>{const r=sv();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Io;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mf(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ub.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function tA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ni extends og{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eA(e),this._firestoreClient=void 0,await e}}}function h8(t,e){const n=typeof t=="object"?t:dM(),r=typeof t=="string"?t:"(default)",i=Gw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=eB("firestore");o&&d8(i,...o)}return i}function sg(t){if(t._terminated)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p8(t),t._firestoreClient}function p8(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new q3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,EO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new s8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(tn.fromBase64String(e))}catch(n){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new al(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=/^__.*__$/;class g8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Of(e,this.data,n,this.fieldTransforms)}}class SO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class mb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AO(this.Cu)&&m8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class y8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tg(e)}Qu(e,n,r,i=!1){return new mb({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ul(t){const e=t._freezeSettings(),n=tg(t._databaseId);return new y8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gb(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);vb("Data must be an object, but it was:",s,r);const a=NO(r,s);let l,u;if(o.merge)l=new Gn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=r_(e,f,n);if(!s.contains(h))throw new ie(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RO(c,h)||c.push(h)}l=new Gn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new g8(new Nn(a),l,u)}class lg extends ag{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}class yb extends ag{_toFieldTransform(e){return new g5(e.path,new $c)}isEqual(e){return e instanceof yb}}function IO(t,e,n,r){const i=t.Qu(1,e,n);vb("Data must be an object, but it was:",i,r);const o=[],s=Nn.empty();Bs(r,(l,u)=>{const c=_b(e,l,n);u=Mt(u);const f=i.Nu(c);if(u instanceof lg)o.push(c);else{const h=jf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Gn(o);return new SO(s,a,i.fieldTransforms)}function CO(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[r_(e,r,n)],l=[i];if(o.length%2!=0)throw new ie(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(r_(e,o[h])),l.push(o[h+1]);const u=[],c=Nn.empty();for(let h=a.length-1;h>=0;--h)if(!RO(u,a[h])){const y=a[h];let v=l[h];v=Mt(v);const w=s.Nu(y);if(v instanceof lg)u.push(y);else{const x=jf(v,w);x!=null&&(u.push(y),c.set(y,x))}}const f=new Gn(u);return new SO(c,f,s.fieldTransforms)}function PO(t,e,n,r=!1){return jf(n,t.Qu(r?4:3,e))}function jf(t,e){if(kO(t=Mt(t)))return vb("Unsupported field value:",e,t),NO(t,e);if(t instanceof ag)return function(r,i){if(!AO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=jf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:cp(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cp(i.serializer,o)}}if(r instanceof hb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:WM(i.serializer,r._byteString)};if(r instanceof bn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pb)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Qw(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ig(r)}`)}(t,e)}function NO(t,e){const n={};return EM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const o=jf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof hb||t instanceof al||t instanceof bn||t instanceof ag||t instanceof pb)}function vb(t,e,n){if(!kO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ig(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function r_(t,e,n){if((e=Mt(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return _b(t,e);throw hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const v8=new RegExp("[~\\*/\\[\\]]");function _b(t,e,n){if(e.search(v8)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ie(q.INVALID_ARGUMENT,a+t+l)}function RO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _8 extends xb{data(){return super.data()}}function ug(t,e){return typeof e=="string"?_b(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wb{}class cg extends wb{}function ws(t,e,...n){let r=[];e instanceof wb&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof bb).length,a=o.filter(l=>l instanceof fg).length;if(s>1||s>0&&a>0)throw new ie(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fg extends cg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fg(e,n,r)}_apply(e){const n=this._parse(e);return OO(e._query,n),new ti(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=Ul(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){rA(f,c);const y=[];for(const v of f)y.push(nA(l,o,v));h={arrayValue:{values:y}}}else h=nA(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rA(f,c),h=PO(a,s,f,c==="in"||c==="not-in");return Tt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lv(t,e,n){const r=e,i=ug("where",t);return fg._create(i,r,n)}class bb extends wb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)OO(s,l),s=W0(s,l)}(e._query,n),new ti(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eb extends cg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eb(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(o,s)}(e._query,this._field,this._direction);return new ti(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function x8(t,e="asc"){const n=e,r=ug("orderBy",t);return Eb._create(r,n)}class Tb extends cg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tb(e,n,r)}_apply(e){return new ti(e.firestore,e.converter,lp(e._query,this._limit,this._limitType))}}function w8(t){return f8("limit",t),Tb._create("limit",t,"F")}class Sb extends cg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Sb(e,n,r)}_apply(e){const n=E8(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function b8(...t){return Sb._create("startAfter",t,!1)}function E8(t,e,n,r){if(n[0]=Mt(n[0]),n[0]instanceof xb)return function(o,s,a,l,u){if(!l)throw new ie(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const f of Da(o))if(f.field.isKeyField())c.push(ap(s,l.key));else{const h=l.data.field(f.field);if(Km(h))throw new ie(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=f.field.canonicalString();throw new ie(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(h)}return new il(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ul(t.firestore);return function(s,a,l,u,c,f){const h=s.explicitOrderBy;if(c.length>h.length)throw new ie(q.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<c.length;v++){const w=c[v];if(h[v].field.isKeyField()){if(typeof w!="string")throw new ie(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!Xw(s)&&w.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const x=s.path.child(Qe.fromString(w));if(!me.isDocumentKey(x))throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const _=new me(x);y.push(ap(a,_))}else{const x=PO(l,u,w);y.push(x)}}return new il(y,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function nA(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(e)&&n.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!me.isDocumentKey(r))throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ap(t,new me(r))}if(n instanceof bn)return ap(t,n._key);throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ig(n)}.`)}function rA(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T8{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>_t(s.doubleValue));return new pb(o)}convertGeoPoint(e){return new hb(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=Oo(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);ze(ZM(r));const i=new Oc(r.get(1),r.get(3)),o=new me(r.popFirst(5));return i.isEqual(n)||Ci(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DO extends xb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ah extends DO{data(e={}){return super.data(e)}}class LO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ah(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ah(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:S8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class Ib extends T8{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function kr(t){t=qn(t,ti);const e=qn(t.firestore,Ni),n=sg(e),r=new Ib(e);return MO(t._query),u8(n,t._query).then(i=>new LO(e,r,t,i))}function A8(t,e,n){t=qn(t,bn);const r=qn(t.firestore,Ni),i=Ab(t.converter,e,n);return Uf(r,[gb(Ul(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wn.none())])}function Cn(t,e,n,...r){t=qn(t,bn);const i=qn(t.firestore,Ni),o=Ul(i);let s;return s=typeof(e=Mt(e))=="string"||e instanceof Vf?CO(o,"updateDoc",t._key,e,n,r):IO(o,"updateDoc",t._key,e),Uf(i,[s.toMutation(t._key,wn.exists(!0))])}function In(t){return Uf(qn(t.firestore,Ni),[new Zm(t._key,wn.none())])}function Vt(t,e){const n=qn(t.firestore,Ni),r=Fe(t),i=Ab(t.converter,e);return Uf(n,[gb(Ul(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function Qn(t,...e){var n,r,i;t=Mt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||tA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(tA(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof bn)u=qn(t.firestore,Ni),c=Yw(t._key.path),l={next:f=>{e[s]&&e[s](I8(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=qn(t,ti);u=qn(f.firestore,Ni),c=f._query;const h=new Ib(u);l={next:y=>{e[s]&&e[s](new LO(u,h,f,y))},error:e[s+1],complete:e[s+2]},MO(t._query)}return function(h,y,v,w){const x=new wO(w),_=new dO(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>cO(await n_(h),_)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>fO(await n_(h),_))}}(sg(u),c,a,l)}function Uf(t,e){return function(r,i){const o=new Io;return r.asyncQueue.enqueueAndForget(async()=>Q6(await l8(r),i,o)),o.promise}(sg(t),e)}function I8(t,e,n){const r=n.docs.get(e._key),i=new Ib(t);return new DO(t,i,e._key,r,new Hu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ul(e)}set(e,n,r){this._verifyNotCommitted();const i=uv(e,this._firestore),o=Ab(i.converter,n,r),s=gb(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,wn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=uv(e,this._firestore);let s;return s=typeof(n=Mt(n))=="string"||n instanceof Vf?CO(this._dataReader,"WriteBatch.update",o._key,n,r,i):IO(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=uv(e,this._firestore);return this._mutations=this._mutations.concat(new Zm(n._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uv(t,e){if((t=Mt(t)).firestore!==e)throw new ie(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function P8(){return new yb("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){return sg(t=qn(t,Ni)),new C8(t,e=>Uf(t,e))}(function(e,n=!0){(function(i){$l=i})(Ll),Za(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ni(new N3(r.getProvider("auth-internal")),new O3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ao(_1,"4.7.3",e),Ao(_1,"4.7.3","esm2017")})();function Cb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $O(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k8=$O,VO=new Nf("auth","Firebase",$O());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new Fw("@firebase/auth");function R8(t,...e){pp.logLevel<=Re.WARN&&pp.warn(`Auth (${Ll}): ${t}`,...e)}function Ih(t,...e){pp.logLevel<=Re.ERROR&&pp.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw Pb(t,...e)}function Jr(t,...e){return Pb(t,...e)}function jO(t,e,n){const r=Object.assign(Object.assign({},k8()),{[e]:n});return new Nf("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return jO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VO.create(t,...e)}function _e(t,e,...n){if(!t)throw Pb(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function Ri(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function M8(){return iA()==="http:"||iA()==="https:"}function iA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M8()||sB()||"connection"in navigator)?navigator.onLine:!0}function D8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=rB()||aB()}get(){return O8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=new Ff(3e4,6e4);function kb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,n,r,i={}){return FO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=kf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return oB()||(u.referrerPolicy="no-referrer"),UO.fetch()(BO(t,t.config.apiHost,n,a),u)})}async function FO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},L8),e);try{const i=new j8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Gd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Gd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Gd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jO(t,c,u);ki(t,c)}}catch(i){if(i instanceof Ui)throw i;ki(t,"network-request-failed",{message:String(i)})}}async function V8(t,e,n,r,i={}){const o=await Fl(t,e,n,r,i);return"mfaPendingCredential"in o&&ki(t,"multi-factor-auth-required",{_serverResponse:o}),o}function BO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Nb(t.config,i):`${t.config.apiScheme}://${i}`}class j8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),$8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function GO(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F8(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=Rb(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ac(cv(i.auth_time)),issuedAtTime:ac(cv(i.iat)),expirationTime:ac(cv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cv(t){return Number(t)*1e3}function Rb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=oM(n);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oA(t){const e=Rb(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&B8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Uc(t,GO(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zO(o.providerUserInfo):[],a=q8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new o_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function z8(t){const e=Mt(t);await mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zO(t){return t.map(e=>{var{providerId:n}=e,r=Cb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(t,e){const n=await FO(t,{},async()=>{const r=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=BO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W8(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",kb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=oA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await H8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $a;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Cb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new o_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F8(this,e)}reload(){return z8(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Uc(this,U8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:N,isAnonymous:A,providerData:P,stsTokenManager:S}=n;_e(T&&S,e,"internal-error");const C=$a.fromJSON(this.name,S);_e(typeof T=="string",e,"internal-error"),Qi(f,e.name),Qi(h,e.name),_e(typeof N=="boolean",e,"internal-error"),_e(typeof A=="boolean",e,"internal-error"),Qi(y,e.name),Qi(v,e.name),Qi(w,e.name),Qi(x,e.name),Qi(_,e.name),Qi(b,e.name);const I=new pi({uid:T,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:A,photoURL:v,phoneNumber:y,tenantId:w,stsTokenManager:C,createdAt:_,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(R=>Object.assign({},R))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?zO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new $a;a.updateFromIdToken(r);const l=new pi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new o_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Map;function mi(t){Ri(t instanceof Function,"Expected a class definition");let e=sA.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qO.type="NONE";const aA=qO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ch(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ch("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(mi(aA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||mi(aA);const s=Ch(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=pi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Va(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Va(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XO(e))return"Blackberry";if(QO(e))return"Webos";if(WO(e))return"Safari";if((e.includes("chrome/")||KO(e))&&!e.includes("edge/"))return"Chrome";if(YO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HO(t=gn()){return/firefox\//i.test(t)}function WO(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KO(t=gn()){return/crios\//i.test(t)}function JO(t=gn()){return/iemobile/i.test(t)}function YO(t=gn()){return/android/i.test(t)}function XO(t=gn()){return/blackberry/i.test(t)}function QO(t=gn()){return/webos/i.test(t)}function Mb(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K8(t=gn()){var e;return Mb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J8(){return lB()&&document.documentMode===10}function ZO(t=gn()){return Mb(t)||YO(t)||QO(t)||XO(t)||/windows phone/i.test(t)||JO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t,e=[]){let n;switch(t){case"Browser":n=lA(gn());break;case"Worker":n=`${lA(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",kb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=6;class Z8{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Q8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uA(this),this.idTokenSubscription=new uA(this),this.beforeStateQueue=new Y8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GO(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(bs(this));const n=e?Mt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X8(this),n=new Z8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ob(t){return Mt(t)}class uA{constructor(e){this.auth=e,this.observer=null,this.addObserver=gB(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Db={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tG(t){Db=t}function nG(t){return Db.loadJS(t)}function rG(){return Db.gapiScript}function iG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t,e){const n=Gw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ip(o,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function sG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aG(t,e,n){const r=Ob(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=tD(e),{host:s,port:a}=lG(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),uG()}function tD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lG(t){const e=tD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:cA(s)}}}function cA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return V8(t,"POST","/v1/accounts:signInWithIdp",kb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG="http://localhost";class Os extends nD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Cb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Os(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:cG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends rD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Bf{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Bf{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Bf{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await pi._fromIdTokenResponse(e,r,i),s=fA(r);return new ll({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fA(r);return new ll({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends Ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gp(e,n,r,i)}}function iD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(t,o,e,r):o})}async function fG(t,e,n=!1){const r=await Uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dG(t,e,n=!1){const{auth:r}=t;if(fo(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const o=await Uc(t,iD(r,i,e,t),n);_e(o.idToken,r,"internal-error");const s=Rb(o.idToken);_e(s,r,"internal-error");const{sub:a}=s;return _e(t.uid===a,r,"user-mismatch"),ll._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ki(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(t,e,n=!1){if(fo(t.app))return Promise.reject(bs(t));const r="signIn",i=await iD(t,r,e),o=await ll._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function pG(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function mG(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}const yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=1e3,yG=10;class sD extends oD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);J8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sD.type="LOCAL";const vG=sD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends oD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aD.type="SESSION";const lD=aD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await _G(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Lb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function wG(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function bG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TG(){return uD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebaseLocalStorageDb",SG=1,vp="firebaseLocalStorage",fD="fbase_key";class Gf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hg(t,e){return t.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function AG(){const t=indexedDB.deleteDatabase(cD);return new Gf(t).toPromise()}function s_(){const t=indexedDB.open(cD,SG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vp,{keyPath:fD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vp)?e(r):(r.close(),await AG(),e(await s_()))})})}async function dA(t,e,n){const r=hg(t,!0).put({[fD]:e,value:n});return new Gf(r).toPromise()}async function IG(t,e){const n=hg(t,!1).get(e),r=await new Gf(n).toPromise();return r===void 0?null:r.value}function hA(t,e){const n=hg(t,!0).delete(e);return new Gf(n).toPromise()}const CG=800,PG=3;class dD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(TG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bG(),!this.activeServiceWorker)return;this.sender=new xG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s_();return await dA(e,yp,"1"),await hA(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=hg(i,!1).getAll();return new Gf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dD.type="LOCAL";const NG=dD;new Ff(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t,e){return e?mi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends nD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RG(t){return hG(t.auth,new $b(t),t.bypassAuthState)}function MG(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),dG(n,new $b(t),t.bypassAuthState)}async function OG(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),fG(n,new $b(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RG;case"linkViaPopup":case"linkViaRedirect":return OG;case"reauthViaPopup":case"reauthViaRedirect":return MG;default:ki(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=new Ff(2e3,1e4);class Ea extends hD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Lb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DG.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="pendingRedirect",Ph=new Map;class $G extends hD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await VG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VG(t,e){const n=FG(e),r=UG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jG(t,e){Ph.set(t._key(),e)}function UG(t){return mi(t._redirectPersistence)}function FG(t){return Ch(LG,t.config.apiKey,t.name)}async function BG(t,e,n=!1){if(fo(t.app))return Promise.reject(bs(t));const r=Ob(t),i=kG(r,e),s=await new $G(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=10*60*1e3;class zG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GG&&this.cachedEventUids.clear(),this.cachedEventUids.has(pA(e))}saveEventToCache(e){this.cachedEventUids.add(pA(e)),this.lastProcessedEventTime=Date.now()}}function pA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HG(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KG=/^https?/;async function JG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HG(t);for(const n of e)try{if(YG(n))return}catch{}ki(t,"unauthorized-domain")}function YG(t){const e=i_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KG.test(n))return!1;if(WG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=new Ff(3e4,6e4);function mA(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QG(t){return new Promise((e,n)=>{var r,i,o;function s(){mA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mA(),n(Jr(t,"network-request-failed"))},timeout:XG.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)s();else{const a=iG("iframefcb");return Yr()[a]=()=>{gapi.load?s():n(Jr(t,"network-request-failed"))},nG(`${rG()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function ZG(t){return Nh=Nh||QG(t),Nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new Ff(5e3,15e3),t9="__/auth/iframe",n9="emulator/auth/iframe",r9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o9(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nb(e,n9):`https://${t.config.authDomain}/${t9}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},i=i9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kf(r).slice(1)}`}async function s9(t){const e=await ZG(t),n=Yr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:o9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Jr(t,"network-request-failed"),a=Yr().setTimeout(()=>{o(s)},e9.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l9=500,u9=600,c9="_blank",f9="http://localhost";class gA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d9(t,e,n,r=l9,i=u9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},a9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=gn().toLowerCase();n&&(a=KO(u)?c9:n),HO(u)&&(e=e||f9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(K8(u)&&a!=="_self")return h9(e||"",a),new gA(null);const f=window.open(e||"",a,c);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new gA(f)}function h9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="__/auth/handler",m9="emulator/auth/handler",g9=encodeURIComponent("fac");async function yA(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:i};if(e instanceof rD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",mB(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Bf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${g9}=${encodeURIComponent(l)}`:"";return`${y9(t)}?${kf(a).slice(1)}${u}`}function y9({config:t}){return t.emulator?Nb(t,m9):`https://${t.authDomain}/${p9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="webStorageSupport";class v9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lD,this._completeRedirectFn=BG,this._overrideRedirectResult=jG}async _openPopup(e,n,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await yA(e,n,r,i_(),i);return d9(e,s,Lb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yA(e,n,r,i_(),i);return wG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s9(e),r=new zG(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fv,{type:fv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[fv];s!==void 0&&n(!!s),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZO()||WO()||Mb()}}const _9=v9;var vA="@firebase/auth",_A="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b9(t){Za(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eD(t)},u=new eG(r,i,o,l);return sG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Za(new Ns("auth-internal",e=>{const n=Ob(e.getProvider("auth").getImmediate());return(r=>new x9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(vA,_A,w9(t)),Ao(vA,_A,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=5*60,T9=lM("authIdTokenMaxAge")||E9;let xA=null;const S9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T9)return;const i=n==null?void 0:n.token;xA!==i&&(xA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A9(t=dM()){const e=Gw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oG(t,{popupRedirectResolver:_9,persistence:[NG,vG,lD]}),r=lM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=S9(o.toString());mG(n,s,()=>s(n.currentUser)),pG(n,a=>s(a))}}const i=sM("auth");return i&&aG(n,`http://${i}`),n}function I9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",I9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b9("Browser");var ra={};const C9={apiKey:ra.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:ra.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:ra.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:ra.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:ra.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:ra.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},mD=fM(C9),ue=h8(mD);A9(mD);new ci;const gD=V.createContext(void 0),P9=({children:t})=>{const[e,n]=V.useState([]),[r,i]=V.useState([]),[o,s]=V.useState([]),[a,l]=V.useState([]),[u,c]=V.useState([]),[f,h]=V.useState([]),[y,v]=V.useState([]),[w,x]=V.useState([]),[_,b]=V.useState([]),[T,N]=V.useState([]),[A,P]=V.useState([]),[S,C]=V.useState([]),[I,R]=V.useState([]),[O,D]=V.useState([]),[M,F]=V.useState([]),[B,K]=V.useState(!0),[W,U]=V.useState(null);V.useEffect(()=>{const Y=[Qn(Te(ue,"products"),re=>n(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"clients"),re=>i(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"suppliers"),re=>s(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"priceLists"),re=>c(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"branches"),re=>h(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"users"),re=>N(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"salesZones"),re=>b(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"sales"),re=>P(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"remitos"),re=>C(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"boxes"),re=>R(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"brands"),re=>D(re.docs.map(he=>({id:he.id,...he.data()})))),Qn(Te(ue,"categories"),re=>F(re.docs.map(he=>({id:he.id,...he.data()}))))];return K(!1),()=>Y.forEach(re=>re())},[]);const H=V.useCallback(async Y=>{let re=ws(Te(ue,"products"),x8(Y.orderByField||"name",Y.orderDirection||"asc"));Y.startAfterDoc&&(re=ws(re,b8(Y.startAfterDoc))),re=ws(re,w8(Y.limit));const he=await kr(re);return{products:he.docs.map(An=>({id:An.id,...An.data()})),lastVisible:he.docs[he.docs.length-1],hasMore:he.docs.length===Y.limit}},[]),J=async Y=>e.find(re=>re.id===Y)||null,oe=async Y=>{await Vt(Te(ue,"products"),Y)},Z=async(Y,re)=>{await Cn(Fe(ue,"products",Y),re)},le=async Y=>{await In(Fe(ue,"products",Y))},Ie=async Y=>(await Vt(Te(ue,"sales"),Y)).id,Le=async Y=>A.find(re=>re.id===Y)||null,et=async Y=>{await Vt(Te(ue,"clients"),Y)},At=async(Y,re)=>{await Cn(Fe(ue,"clients",Y),re)},Dt=async Y=>{await In(Fe(ue,"clients",Y))},se=async Y=>{await Vt(Te(ue,"suppliers"),Y)},ye=async(Y,re)=>{await Cn(Fe(ue,"suppliers",Y),re)},ve=async Y=>{await In(Fe(ue,"suppliers",Y))},X=async Y=>{await Vt(Te(ue,"priceLists"),Y)},He=async(Y,re)=>{await Cn(Fe(ue,"priceLists",Y),re)},Ae=async Y=>{await In(Fe(ue,"priceLists",Y))},tt=async Y=>{await Vt(Te(ue,"branches"),Y)},at=async(Y,re)=>{await Cn(Fe(ue,"branches",Y),re)},Lt=async Y=>{await In(Fe(ue,"branches",Y))},Yn=async Y=>{await Vt(Te(ue,"orders"),Y)},vr=async(Y,re)=>{await Cn(Fe(ue,"orders",Y),re)},jr=async Y=>{await In(Fe(ue,"orders",Y))},Xn=async Y=>{await Vt(Te(ue,"installmentPlans"),Y)},_r=async(Y,re)=>{await Cn(Fe(ue,"installmentPlans",Y),re)},ri=async Y=>{await In(Fe(ue,"installmentPlans",Y))},Hi=async Y=>{await Vt(Te(ue,"transactions"),Y)},Wo=async Y=>{await Vt(Te(ue,"users"),Y)},$t=async(Y,re)=>{await Cn(Fe(ue,"users",Y),re)},qt=async Y=>{await In(Fe(ue,"users",Y))},Xs=async Y=>{await Vt(Te(ue,"salesZones"),Y)},Zf=async(Y,re)=>{await Cn(Fe(ue,"salesZones",Y),re)},ed=async Y=>{await In(Fe(ue,"salesZones",Y))},dy=async Y=>(await Vt(Te(ue,"remitos"),Y)).id,Ko=async(Y,re)=>{await Cn(Fe(ue,"remitos",Y),re)},td=async Y=>{await In(Fe(ue,"remitos",Y))},nd=async Y=>S.find(re=>re.id===Y)||null,su=async Y=>{await Vt(Te(ue,"boxes"),Y)},hy=async(Y,re)=>{await Cn(Fe(ue,"boxes",Y),re)},py=async Y=>{await In(Fe(ue,"boxes",Y))},au=async Y=>{await Vt(Te(ue,"brands"),Y)},rd=async(Y,re)=>{await Cn(Fe(ue,"brands",Y),re)},id=async Y=>{await In(Fe(ue,"brands",Y))},Jo=async Y=>{await Vt(Te(ue,"categories"),Y)},lu=async(Y,re)=>{await Cn(Fe(ue,"categories",Y),re)},uu=async Y=>{await In(Fe(ue,"categories",Y))},ii=async Y=>{const re={};for(const he of Y){const Xo=await kr(Te(ue,he));re[he]=Xo.docs.map(An=>({id:An.id,...An.data()}))}return re},od=async Y=>{for(const[re,he]of Object.entries(Y)){await Yo(re);for(const Xo of he){const{id:An,...Wi}=Xo;An?await A8(Fe(ue,re,An),Wi):await Vt(Te(ue,re),Wi)}}},Yo=async Y=>{const re=await kr(Te(ue,Y));for(const he of re.docs)await In(he.ref)},sd=V.useMemo(()=>({products:e,clients:r,suppliers:o,transactions:a,priceLists:u,branches:f,orders:y,installmentPlans:w,users:T,loading:B,error:W,salesZones:_,sales:A,remitos:S,boxes:I,brands:O,categories:M,fetchProductsPaginatedAndFiltered:H,getProductById:J,addProduct:oe,updateProduct:Z,deleteProduct:le,addSale:Ie,getSaleById:Le,addClient:et,updateClient:At,deleteClient:Dt,addSupplier:se,updateSupplier:ye,deleteSupplier:ve,addPriceList:X,updatePriceList:He,deletePriceList:Ae,addBranch:tt,updateBranch:at,deleteBranch:Lt,addOrder:Yn,updateOrder:vr,deleteOrder:jr,addInstallmentPlan:Xn,updateInstallmentPlan:_r,deleteInstallmentPlan:ri,addTransaction:Hi,exportAllData:ii,importAllData:od,deleteAllDocumentsInCollection:Yo,addUser:Wo,updateUser:$t,deleteUser:qt,addSalesZone:Xs,updateSalesZone:Zf,deleteSalesZone:ed,addRemito:dy,updateRemito:Ko,deleteRemito:td,getRemitoById:nd,addBox:su,updateBox:hy,deleteBox:py,addBrand:au,updateBrand:rd,deleteBrand:id,addCategory:Jo,updateCategory:lu,deleteCategory:uu}),[e,r,o,a,u,f,y,w,T,B,W,_,A,S,I,O,M]);return g.jsx(gD.Provider,{value:sd,children:t})},yD=()=>{const t=V.useContext(gD);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=V.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>V.createElement("svg",{ref:c,...N9,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${k9(t)}`,a].join(" "),...u},[...e.map(([f,h])=>V.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ce("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ce("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ce("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ce("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ce("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ce("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ce("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ce("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=ce("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ce("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=ce("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=ce("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ce("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=ce("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=ce("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),rz=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{var s;const o=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:SD}]},{title:"Comercial",items:[{id:"sales",label:"Ventas",icon:Hb},{id:"quotes",label:"Cotizaciones",icon:ul},{id:"clients",label:"Clientes",icon:zf},{id:"ecommerce",label:"E-Commerce",icon:mg}]},{title:"Productos & Stock",items:[{id:"inventory",label:"Inventario",icon:Fb},{id:"stock-adjustment",label:"Ajuste de Stock",icon:Bb},{id:"suppliers",label:"Proveedores",icon:Kb},{id:"catalog-config",label:"Marcas & Rubros",icon:PD}]},{title:"Administracin",items:[{id:"cashier",label:"Cajas y Pagos",icon:_p},{id:"reports",label:"Informes e IVA",icon:Vb}]},{title:"Sistema",items:[{id:"users",label:"Personal",icon:zb},{id:"settings",label:"Configuracin",icon:Gb},{id:"backup",label:"Backup",icon:Ub}]}];return g.jsxs("div",{className:"w-72 bg-slate-950 h-full flex flex-col text-slate-400 border-r border-slate-900 shadow-2xl relative z-20",children:[g.jsx("div",{className:"p-8",children:g.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-[2rem] border border-white/5 shadow-inner",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-orange-900/20 rotate-3",children:g.jsx(qb,{className:"text-white",size:24})}),g.jsxs("div",{className:"overflow-hidden text-left",children:[g.jsx("h1",{className:"text-white font-black text-sm truncate uppercase tracking-tighter italic",children:(n==null?void 0:n.name)||"FerroGest"}),g.jsx("p",{className:"text-[9px] font-black text-orange-500 uppercase tracking-[0.2em] opacity-80",children:"ERP v4.0"})]})]})}),g.jsx("nav",{className:"flex-1 px-4 space-y-8 overflow-y-auto custom-scrollbar pb-10 text-left",children:o.map(a=>g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"px-4 text-[9px] font-black text-slate-600 uppercase tracking-[0.3em] opacity-50",children:a.title}),g.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const u=l.icon,c=t===l.id;return g.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all duration-300 group ${c?"bg-orange-600 text-white shadow-xl shadow-orange-900/40 translate-x-1":"hover:bg-white/5 hover:text-slate-200"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(u,{size:18,strokeWidth:c?3:2,className:c?"text-white":"text-slate-500 group-hover:text-orange-500 transition-colors"}),g.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${c?"text-white":""}`,children:l.label})]}),c&&g.jsx(jb,{size:14,className:"animate-pulse"})]},l.id)})})]},a.title))}),g.jsxs("div",{className:"p-6 bg-black/20 border-t border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-black text-xs text-orange-500 border-2 border-slate-700",children:((s=r==null?void 0:r.name)==null?void 0:s.substring(0,2).toUpperCase())||"AD"}),g.jsxs("div",{className:"overflow-hidden text-left",children:[g.jsx("p",{className:"text-xs font-black text-white truncate uppercase tracking-tighter",children:(r==null?void 0:r.name)||"Administrador"}),g.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest",children:(r==null?void 0:r.role)||"Master"})]})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[g.jsx(AD,{size:16})," Salir del Sistema"]})]})]})},iz={dashboard:{label:"Dashboard",icon:SD},inventory:{label:"Inventario",icon:xD},sales:{label:"Ventas",icon:_D},purchases:{label:"Compras",icon:Hb},clients:{label:"Clientes",icon:zf},suppliers:{label:"Proveedores",icon:Kb},cashier:{label:"Cajas",icon:yg},reports:{label:"Informes",icon:Vb},quotes:{label:"Cotizaciones",icon:ul},ecommerce:{label:"E-Commerce",icon:mg},"stock-adjustment":{label:"Ajuste Stock",icon:Bb},users:{label:"Personal",icon:ez},settings:{label:"Configuracin",icon:zb},"catalog-config":{label:"Marcas & Rubros",icon:PD},"bulk-import":{label:"Importar",icon:ED},balances:{label:"Saldos",icon:Y9},backup:{label:"Backup",icon:Ub}},oz=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>g.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const o=iz[i],s=o==null?void 0:o.icon,a=i===e;return g.jsxs("div",{onClick:()=>n(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${a?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&g.jsx(s,{size:14,className:a?"text-orange-600":"text-slate-400"}),g.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-slate-900":"text-slate-500"}`,children:(o==null?void 0:o.label)||i}),i!=="dashboard"&&g.jsx("button",{onClick:l=>{l.stopPropagation(),r(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:g.jsx(Lo,{size:12})})]},i)})}),sz=({onLoginSuccess:t})=>{const[e,n]=V.useState("employee"),[r,i]=V.useState(""),[o,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState(!1),[f,h]=V.useState(null),y="admin",v="admin123",w=async _=>{_.preventDefault(),c(!0),h(null);const b=r.trim(),T=o.trim();try{if(b.toLowerCase()===y&&T===v){t("admin","Administrador Maestro");return}if(!b.includes("@")||!b.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),c(!1);return}const N=Te(ue,"users"),A=ws(N,lv("email","==",b),lv("password","==",T)),P=await kr(A);if(P.empty)h("Credenciales de empleado incorrectas.");else{const S=P.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(N){h(`Error de conexin: ${N.message}`)}finally{c(!1)}},x=async _=>{_.preventDefault(),c(!0),h(null);const b=a.trim();if(!b){h("Por favor ingrese su CUIT o DNI."),c(!1);return}try{const T=Te(ue,"clients"),N=ws(T,lv("cuit","==",b)),A=await kr(N);if(A.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const P={id:A.docs[0].id,...A.docs[0].data()};t("customer",P.name,P)}}catch{h("Error al validar cliente.")}finally{c(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),g.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:g.jsx(qb,{className:"w-10 h-10"})}),g.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),g.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[g.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g.jsx(bp,{className:"w-4 h-4"})," Personal"]}),g.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g.jsx(dv,{className:"w-4 h-4"})," Portal Clientes"]})]}),f&&g.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[g.jsx(Lo,{className:"w-5 h-5 text-red-600"}),g.jsx("span",{className:"font-bold text-xs uppercase",children:f})]}),e==="employee"?g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(nz,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),g.jsxs("div",{className:"relative",children:[g.jsx(H9,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"password",value:o,onChange:_=>s(_.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),g.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?g.jsx(cl,{className:"w-5 h-5 animate-spin"}):g.jsx(D9,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):g.jsxs("form",{onSubmit:x,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),g.jsxs("div",{className:"relative",children:[g.jsx(dv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),g.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?g.jsx(cl,{className:"w-5 h-5 animate-spin"}):g.jsx(dv,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),g.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function kD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kD(t))&&(r&&(r+=" "),r+=e);return r}var az=Array.isArray,Ln=az,lz=typeof wd=="object"&&wd&&wd.Object===Object&&wd,RD=lz,uz=RD,cz=typeof self=="object"&&self&&self.Object===Object&&self,fz=uz||cz||Function("return this")(),ni=fz,dz=ni,hz=dz.Symbol,qf=hz,SA=qf,MD=Object.prototype,pz=MD.hasOwnProperty,mz=MD.toString,Iu=SA?SA.toStringTag:void 0;function gz(t){var e=pz.call(t,Iu),n=t[Iu];try{t[Iu]=void 0;var r=!0}catch{}var i=mz.call(t);return r&&(e?t[Iu]=n:delete t[Iu]),i}var yz=gz,vz=Object.prototype,_z=vz.toString;function xz(t){return _z.call(t)}var wz=xz,AA=qf,bz=yz,Ez=wz,Tz="[object Null]",Sz="[object Undefined]",IA=AA?AA.toStringTag:void 0;function Az(t){return t==null?t===void 0?Sz:Tz:IA&&IA in Object(t)?bz(t):Ez(t)}var Fi=Az;function Iz(t){return t!=null&&typeof t=="object"}var Bi=Iz,Cz=Fi,Pz=Bi,Nz="[object Symbol]";function kz(t){return typeof t=="symbol"||Pz(t)&&Cz(t)==Nz}var Bl=kz,Rz=Ln,Mz=Bl,Oz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dz=/^\w*$/;function Lz(t,e){if(Rz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Mz(t)?!0:Dz.test(t)||!Oz.test(t)||e!=null&&t in Object(e)}var Jb=Lz;function $z(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Fo=$z;const Gl=Ye(Fo);var Vz=Fi,jz=Fo,Uz="[object AsyncFunction]",Fz="[object Function]",Bz="[object GeneratorFunction]",Gz="[object Proxy]";function zz(t){if(!jz(t))return!1;var e=Vz(t);return e==Fz||e==Bz||e==Uz||e==Gz}var Yb=zz;const Se=Ye(Yb);var qz=ni,Hz=qz["__core-js_shared__"],Wz=Hz,hv=Wz,CA=function(){var t=/[^.]+$/.exec(hv&&hv.keys&&hv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Kz(t){return!!CA&&CA in t}var Jz=Kz,Yz=Function.prototype,Xz=Yz.toString;function Qz(t){if(t!=null){try{return Xz.call(t)}catch{}try{return t+""}catch{}}return""}var OD=Qz,Zz=Yb,eq=Jz,tq=Fo,nq=OD,rq=/[\\^$.*+?()[\]{}|]/g,iq=/^\[object .+?Constructor\]$/,oq=Function.prototype,sq=Object.prototype,aq=oq.toString,lq=sq.hasOwnProperty,uq=RegExp("^"+aq.call(lq).replace(rq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cq(t){if(!tq(t)||eq(t))return!1;var e=Zz(t)?uq:iq;return e.test(nq(t))}var fq=cq;function dq(t,e){return t==null?void 0:t[e]}var hq=dq,pq=fq,mq=hq;function gq(t,e){var n=mq(t,e);return pq(n)?n:void 0}var Hs=gq,yq=Hs,vq=yq(Object,"create"),vg=vq,PA=vg;function _q(){this.__data__=PA?PA(null):{},this.size=0}var xq=_q;function wq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bq=wq,Eq=vg,Tq="__lodash_hash_undefined__",Sq=Object.prototype,Aq=Sq.hasOwnProperty;function Iq(t){var e=this.__data__;if(Eq){var n=e[t];return n===Tq?void 0:n}return Aq.call(e,t)?e[t]:void 0}var Cq=Iq,Pq=vg,Nq=Object.prototype,kq=Nq.hasOwnProperty;function Rq(t){var e=this.__data__;return Pq?e[t]!==void 0:kq.call(e,t)}var Mq=Rq,Oq=vg,Dq="__lodash_hash_undefined__";function Lq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oq&&e===void 0?Dq:e,this}var $q=Lq,Vq=xq,jq=bq,Uq=Cq,Fq=Mq,Bq=$q;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=Vq;zl.prototype.delete=jq;zl.prototype.get=Uq;zl.prototype.has=Fq;zl.prototype.set=Bq;var Gq=zl;function zq(){this.__data__=[],this.size=0}var qq=zq;function Hq(t,e){return t===e||t!==t&&e!==e}var Xb=Hq,Wq=Xb;function Kq(t,e){for(var n=t.length;n--;)if(Wq(t[n][0],e))return n;return-1}var _g=Kq,Jq=_g,Yq=Array.prototype,Xq=Yq.splice;function Qq(t){var e=this.__data__,n=Jq(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xq.call(e,n,1),--this.size,!0}var Zq=Qq,eH=_g;function tH(t){var e=this.__data__,n=eH(e,t);return n<0?void 0:e[n][1]}var nH=tH,rH=_g;function iH(t){return rH(this.__data__,t)>-1}var oH=iH,sH=_g;function aH(t,e){var n=this.__data__,r=sH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lH=aH,uH=qq,cH=Zq,fH=nH,dH=oH,hH=lH;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=uH;ql.prototype.delete=cH;ql.prototype.get=fH;ql.prototype.has=dH;ql.prototype.set=hH;var xg=ql,pH=Hs,mH=ni,gH=pH(mH,"Map"),Qb=gH,NA=Gq,yH=xg,vH=Qb;function _H(){this.size=0,this.__data__={hash:new NA,map:new(vH||yH),string:new NA}}var xH=_H;function wH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bH=wH,EH=bH;function TH(t,e){var n=t.__data__;return EH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var wg=TH,SH=wg;function AH(t){var e=SH(this,t).delete(t);return this.size-=e?1:0,e}var IH=AH,CH=wg;function PH(t){return CH(this,t).get(t)}var NH=PH,kH=wg;function RH(t){return kH(this,t).has(t)}var MH=RH,OH=wg;function DH(t,e){var n=OH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var LH=DH,$H=xH,VH=IH,jH=NH,UH=MH,FH=LH;function Hl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hl.prototype.clear=$H;Hl.prototype.delete=VH;Hl.prototype.get=jH;Hl.prototype.has=UH;Hl.prototype.set=FH;var Zb=Hl,DD=Zb,BH="Expected a function";function eE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(eE.Cache||DD),n}eE.Cache=DD;var LD=eE;const GH=Ye(LD);var zH=LD,qH=500;function HH(t){var e=zH(t,function(r){return n.size===qH&&n.clear(),r}),n=e.cache;return e}var WH=HH,KH=WH,JH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YH=/\\(\\)?/g,XH=KH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JH,function(n,r,i,o){e.push(i?o.replace(YH,"$1"):r||n)}),e}),QH=XH;function ZH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var tE=ZH,kA=qf,eW=tE,tW=Ln,nW=Bl,RA=kA?kA.prototype:void 0,MA=RA?RA.toString:void 0;function $D(t){if(typeof t=="string")return t;if(tW(t))return eW(t,$D)+"";if(nW(t))return MA?MA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var rW=$D,iW=rW;function oW(t){return t==null?"":iW(t)}var VD=oW,sW=Ln,aW=Jb,lW=QH,uW=VD;function cW(t,e){return sW(t)?t:aW(t,e)?[t]:lW(uW(t))}var jD=cW,fW=Bl;function dW(t){if(typeof t=="string"||fW(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bg=dW,hW=jD,pW=bg;function mW(t,e){e=hW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pW(e[n++])];return n&&n==r?t:void 0}var nE=mW,gW=nE;function yW(t,e,n){var r=t==null?void 0:gW(t,e);return r===void 0?n:r}var UD=yW;const ur=Ye(UD);function vW(t){return t==null}var _W=vW;const ke=Ye(_W);var xW=Fi,wW=Ln,bW=Bi,EW="[object String]";function TW(t){return typeof t=="string"||!wW(t)&&bW(t)&&xW(t)==EW}var SW=TW;const Ds=Ye(SW);var FD={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=Symbol.for("react.element"),iE=Symbol.for("react.portal"),Eg=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Ag=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),AW=Symbol.for("react.server_context"),Cg=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),kg=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),IW=Symbol.for("react.offscreen"),BD;BD=Symbol.for("react.module.reference");function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rE:switch(t=t.type,t){case Eg:case Sg:case Tg:case Pg:case Ng:return t;default:switch(t=t&&t.$$typeof,t){case AW:case Ig:case Cg:case Rg:case kg:case Ag:return t;default:return e}}case iE:return e}}}qe.ContextConsumer=Ig;qe.ContextProvider=Ag;qe.Element=rE;qe.ForwardRef=Cg;qe.Fragment=Eg;qe.Lazy=Rg;qe.Memo=kg;qe.Portal=iE;qe.Profiler=Sg;qe.StrictMode=Tg;qe.Suspense=Pg;qe.SuspenseList=Ng;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(t){return gr(t)===Ig};qe.isContextProvider=function(t){return gr(t)===Ag};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rE};qe.isForwardRef=function(t){return gr(t)===Cg};qe.isFragment=function(t){return gr(t)===Eg};qe.isLazy=function(t){return gr(t)===Rg};qe.isMemo=function(t){return gr(t)===kg};qe.isPortal=function(t){return gr(t)===iE};qe.isProfiler=function(t){return gr(t)===Sg};qe.isStrictMode=function(t){return gr(t)===Tg};qe.isSuspense=function(t){return gr(t)===Pg};qe.isSuspenseList=function(t){return gr(t)===Ng};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Eg||t===Sg||t===Tg||t===Pg||t===Ng||t===IW||typeof t=="object"&&t!==null&&(t.$$typeof===Rg||t.$$typeof===kg||t.$$typeof===Ag||t.$$typeof===Ig||t.$$typeof===Cg||t.$$typeof===BD||t.getModuleId!==void 0)};qe.typeOf=gr;FD.exports=qe;var CW=FD.exports,PW=Fi,NW=Bi,kW="[object Number]";function RW(t){return typeof t=="number"||NW(t)&&PW(t)==kW}var GD=RW;const MW=Ye(GD);var OW=GD;function DW(t){return OW(t)&&t!=+t}var LW=DW;const Wl=Ye(LW);var Cr=function(e){return e===0?0:e>0?1:-1},hs=function(e){return Ds(e)&&e.indexOf("%")===e.length-1},te=function(e){return MW(e)&&!Wl(e)},$W=function(e){return ke(e)},kt=function(e){return te(e)||Ds(e)},VW=0,Hf=function(e){var n=++VW;return"".concat(e||"").concat(n)},Ls=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!Ds(e))return r;var o;if(hs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Wl(o)&&(o=r),i&&o>n&&(o=n),o},lo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},jW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},or=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ep(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var UW=function(e,n){return te(e)&&te(n)?e-n:Ds(e)&&Ds(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ua(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}var FW=["viewBox","children"],BW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OA=["points","pathLength"],pv={svg:FW,polygon:OA,polyline:OA},oE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(V.isValidElement(e)&&(r=e.props),!Gl(r))return null;var i={};return Object.keys(r).forEach(function(o){oE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},GW=function(e,n,r){return function(i){return e(n,r,i),null}},Sp=function(e,n,r){if(!Gl(e)||u_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];oE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=GW(s,n,r))}),i},zW=["children"],qW=["children"];function DA(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c_(t){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(t)}var LA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$A=null,mv=null,sE=function t(e){if(e===$A&&Array.isArray(mv))return mv;var n=[];return V.Children.forEach(e,function(r){ke(r)||(CW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mv=n,$A=e,n};function Rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return xi(i)}):r=[xi(e)],sE(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Un(t,e){var n=Rr(t,e);return n&&n[0]}var VA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},WW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KW=function(e){return e&&e.type&&Ds(e.type)&&WW.indexOf(e.type)>=0},JW=function(e){return e&&c_(e)==="object"&&"clipDot"in e},YW=function(e,n,r,i){var o,s=(o=pv==null?void 0:pv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&s.includes(n)||BW.includes(n))||r&&oE.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),!Gl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;YW((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},f_=function t(e,n){if(e===n)return!0;var r=V.Children.count(e);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return jA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!jA(o,s))return!1}return!0},jA=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=DA(r,zW),s=n.props||{},a=s.children,l=DA(s,qW);return i&&a?Ua(o,l)&&f_(i,a):!i&&!a?Ua(o,l):!1}return!1},UA=function(e,n){var r=[],i={};return sE(e).forEach(function(o,s){if(KW(o))r.push(o);else if(o){var a=xi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},XW=function(e){var n=e&&e.type;return n&&LA[n]?LA[n]:null},QW=function(e,n){return sE(n).indexOf(e)},ZW=["children","width","height","viewBox","className","style","title","desc"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function e7(t,e){if(t==null)return{};var n=t7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=e7(t,ZW),c=i||{width:n,height:r,x:0,y:0},f=De("recharts-surface",o);return $.createElement("svg",d_({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var n7=["children","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function r7(t,e){if(t==null)return{};var n=i7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dt=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=r7(t,n7),o=De("recharts-layer",r);return $.createElement("g",p_({className:o},Ce(i,!0),{ref:e}),n)}),wi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function o7(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var s7=o7,a7=s7;function l7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:a7(t,e,n)}var u7=l7,c7="\\ud800-\\udfff",f7="\\u0300-\\u036f",d7="\\ufe20-\\ufe2f",h7="\\u20d0-\\u20ff",p7=f7+d7+h7,m7="\\ufe0e\\ufe0f",g7="\\u200d",y7=RegExp("["+g7+c7+p7+m7+"]");function v7(t){return y7.test(t)}var zD=v7;function _7(t){return t.split("")}var x7=_7,qD="\\ud800-\\udfff",w7="\\u0300-\\u036f",b7="\\ufe20-\\ufe2f",E7="\\u20d0-\\u20ff",T7=w7+b7+E7,S7="\\ufe0e\\ufe0f",A7="["+qD+"]",m_="["+T7+"]",g_="\\ud83c[\\udffb-\\udfff]",I7="(?:"+m_+"|"+g_+")",HD="[^"+qD+"]",WD="(?:\\ud83c[\\udde6-\\uddff]){2}",KD="[\\ud800-\\udbff][\\udc00-\\udfff]",C7="\\u200d",JD=I7+"?",YD="["+S7+"]?",P7="(?:"+C7+"(?:"+[HD,WD,KD].join("|")+")"+YD+JD+")*",N7=YD+JD+P7,k7="(?:"+[HD+m_+"?",m_,WD,KD,A7].join("|")+")",R7=RegExp(g_+"(?="+g_+")|"+k7+N7,"g");function M7(t){return t.match(R7)||[]}var O7=M7,D7=x7,L7=zD,$7=O7;function V7(t){return L7(t)?$7(t):D7(t)}var j7=V7,U7=u7,F7=zD,B7=j7,G7=VD;function z7(t){return function(e){e=G7(e);var n=F7(e)?B7(e):void 0,r=n?n[0]:e.charAt(0),i=n?U7(n,1).join(""):e.slice(1);return r[t]()+i}}var q7=z7,H7=q7,W7=H7("toUpperCase"),K7=W7;const Mg=Ye(K7);function Xe(t){return function(){return t}}const XD=Math.cos,Ap=Math.sin,$r=Math.sqrt,Ip=Math.PI,Og=2*Ip,y_=Math.PI,v_=2*y_,os=1e-6,J7=v_-os;function QD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Y7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QD:Y7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>os)if(!(Math.abs(f*l-u*c)>os)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,w=l*l+u*u,x=y*y+v*v,_=Math.sqrt(w),b=Math.sqrt(h),T=o*Math.tan((y_-Math.acos((w+h-x)/(2*_*b)))/2),N=T/b,A=T/_;Math.abs(N-1)>os&&this._append`L${e+N*c},${n+N*f}`,this._append`A${o},${o},0,0,${+(f*y>c*v)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>os||Math.abs(this._y1-c)>os)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%v_+v_),h>J7?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>os&&this._append`A${r},${r},0,${+(h>=y_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X7(e)}function lE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZD(t){this._context=t}ZD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dg(t){return new ZD(t)}function eL(t){return t[0]}function tL(t){return t[1]}function nL(t,e){var n=Xe(!0),r=null,i=Dg,o=null,s=aE(a);t=typeof t=="function"?t:t===void 0?eL:Xe(t),e=typeof e=="function"?e:e===void 0?tL:Xe(e);function a(l){var u,c=(l=lE(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Xe(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Xe(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Xe(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function zd(t,e,n){var r=null,i=Xe(!0),o=null,s=Dg,a=null,l=aE(u);t=typeof t=="function"?t:t===void 0?eL:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tL:Xe(+n);function u(f){var h,y,v,w=(f=lE(f)).length,x,_=!1,b,T=new Array(w),N=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(x=f[h],h,f))===_)if(_=!_)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(T[v],N[v]);a.lineEnd(),a.areaEnd()}_&&(T[h]=+t(x,h,f),N[h]=+e(x,h,f),a.point(r?+r(x,h,f):T[h],n?+n(x,h,f):N[h]))}if(b)return a=null,b+""||null}function c(){return nL().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Xe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Xe(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class rL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Q7(t){return new rL(t,!0)}function Z7(t){return new rL(t,!1)}const uE={draw(t,e){const n=$r(e/Ip);t.moveTo(n,0),t.arc(0,0,n,0,Og)}},eK={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iL=$r(1/3),tK=iL*2,nK={draw(t,e){const n=$r(e/tK),r=n*iL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rK={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},iK=.8908130915292852,oL=Ap(Ip/10)/Ap(7*Ip/10),oK=Ap(Og/10)*oL,sK=-XD(Og/10)*oL,aK={draw(t,e){const n=$r(e*iK),r=oK*n,i=sK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Og*o/5,a=XD(s),l=Ap(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},gv=$r(3),lK={draw(t,e){const n=-$r(e/(gv*3));t.moveTo(0,n*2),t.lineTo(-gv*n,-n),t.lineTo(gv*n,-n),t.closePath()}},Zn=-.5,er=$r(3)/2,__=1/$r(12),uK=(__/2+1)*3,cK={draw(t,e){const n=$r(e/uK),r=n/2,i=n*__,o=r,s=n*__+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Zn*r-er*i,er*r+Zn*i),t.lineTo(Zn*o-er*s,er*o+Zn*s),t.lineTo(Zn*a-er*l,er*a+Zn*l),t.lineTo(Zn*r+er*i,Zn*i-er*r),t.lineTo(Zn*o+er*s,Zn*s-er*o),t.lineTo(Zn*a+er*l,Zn*l-er*a),t.closePath()}};function fK(t,e){let n=null,r=aE(i);t=typeof t=="function"?t:Xe(t||uE),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Xe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Cp(){}function Pp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sL(t){this._context=t}sL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dK(t){return new sL(t)}function aL(t){this._context=t}aL.prototype={areaStart:Cp,areaEnd:Cp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hK(t){return new aL(t)}function lL(t){this._context=t}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Pp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pK(t){return new lL(t)}function uL(t){this._context=t}uL.prototype={areaStart:Cp,areaEnd:Cp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mK(t){return new uL(t)}function FA(t){return t<0?-1:1}function BA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(FA(o)+FA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function GA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Np(t){this._context=t}Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yv(this,this._t0,GA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yv(this,GA(this,n=BA(this,t,e)),n);break;default:yv(this,this._t0,n=BA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cL(t){this._context=new fL(t)}(cL.prototype=Object.create(Np.prototype)).point=function(t,e){Np.prototype.point.call(this,e,t)};function fL(t){this._context=t}fL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function gK(t){return new Np(t)}function yK(t){return new cL(t)}function dL(t){this._context=t}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zA(t),i=zA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function vK(t){return new dL(t)}function Lg(t,e){this._context=t,this._t=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _K(t){return new Lg(t,.5)}function xK(t){return new Lg(t,0)}function wK(t){return new Lg(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function x_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bK(t,e){return t[e]}function EK(t){const e=[];return e.key=t,e}function TK(){var t=Xe([]),e=x_,n=fl,r=bK;function i(o){var s=Array.from(t.apply(this,arguments),EK),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=lE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Xe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?x_:typeof o=="function"?o:Xe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fl,i):n},i}function SK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function AK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fl(t,e)}}function IK(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var w=t[e[v]],x=w[r][1]||0,_=w[r-1][1]||0;y+=x-_}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}var CK=["type","size","sizeType"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){PK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e,n){return e=NK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NK(t){var e=kK(t,"string");return Fc(e)=="symbol"?e:e+""}function kK(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RK(t,e){if(t==null)return{};var n=MK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hL={symbolCircle:uE,symbolCross:eK,symbolDiamond:nK,symbolSquare:rK,symbolStar:aK,symbolTriangle:lK,symbolWye:cK},OK=Math.PI/180,DK=function(e){var n="symbol".concat(Mg(e));return hL[n]||uE},LK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*OK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$K=function(e,n){hL["symbol".concat(Mg(e))]=n},cE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=RK(e,CK),u=HA(HA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=DK(r),_=fK().type(x).size(LK(o,a,r));return _()},f=u.className,h=u.cx,y=u.cy,v=Ce(u,!0);return h===+h&&y===+y&&o===+o?$.createElement("path",w_({},v,{className:De("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};cE.registerSymbol=$K;function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mL(r.key),r)}}function FK(t,e,n){return e&&UK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BK(t,e,n){return e=kp(e),GK(t,pL()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function GK(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zK(t)}function zK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function qK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function Bc(t,e,n){return e=mL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mL(t){var e=HK(t,"string");return dl(e)=="symbol"?e:e+""}function HK(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tr=32,fE=function(t){function e(){return jK(this,e),BK(this,e,arguments)}return qK(e,t),FK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=tr/2,s=tr/6,a=tr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:tr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(tr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tr/8,"h").concat(tr,"v").concat(tr*3/4,"h").concat(-tr,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=VK({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(cE,{fill:l,cx:o,cy:o,size:tr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:tr,height:tr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var w=y.formatter||l,x=De(Bc(Bc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=Se(y.value)?null:y.value;wi(!Se(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return $.createElement("li",b_({className:x,style:f,key:"legend-item-".concat(v)},Sp(r.props,y,v)),$.createElement(h_,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w?w(_,y,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(V.PureComponent);Bc(fE,"displayName","Legend");Bc(fE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WK=xg;function KK(){this.__data__=new WK,this.size=0}var JK=KK;function YK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var XK=YK;function QK(t){return this.__data__.get(t)}var ZK=QK;function eJ(t){return this.__data__.has(t)}var tJ=eJ,nJ=xg,rJ=Qb,iJ=Zb,oJ=200;function sJ(t,e){var n=this.__data__;if(n instanceof nJ){var r=n.__data__;if(!rJ||r.length<oJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new iJ(r)}return n.set(t,e),this.size=n.size,this}var aJ=sJ,lJ=xg,uJ=JK,cJ=XK,fJ=ZK,dJ=tJ,hJ=aJ;function Kl(t){var e=this.__data__=new lJ(t);this.size=e.size}Kl.prototype.clear=uJ;Kl.prototype.delete=cJ;Kl.prototype.get=fJ;Kl.prototype.has=dJ;Kl.prototype.set=hJ;var gL=Kl,pJ="__lodash_hash_undefined__";function mJ(t){return this.__data__.set(t,pJ),this}var gJ=mJ;function yJ(t){return this.__data__.has(t)}var vJ=yJ,_J=Zb,xJ=gJ,wJ=vJ;function Rp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _J;++e<n;)this.add(t[e])}Rp.prototype.add=Rp.prototype.push=xJ;Rp.prototype.has=wJ;var yL=Rp;function bJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vL=bJ;function EJ(t,e){return t.has(e)}var _L=EJ,TJ=yL,SJ=vL,AJ=_L,IJ=1,CJ=2;function PJ(t,e,n,r,i,o){var s=n&IJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,y=n&CJ?new TJ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],w=e[f];if(r)var x=s?r(w,v,f,e,t,o):r(v,w,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!SJ(e,function(_,b){if(!AJ(y,b)&&(v===_||i(v,_,n,r,o)))return y.push(b)})){h=!1;break}}else if(!(v===w||i(v,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var xL=PJ,NJ=ni,kJ=NJ.Uint8Array,RJ=kJ;function MJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var OJ=MJ;function DJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var dE=DJ,KA=qf,JA=RJ,LJ=Xb,$J=xL,VJ=OJ,jJ=dE,UJ=1,FJ=2,BJ="[object Boolean]",GJ="[object Date]",zJ="[object Error]",qJ="[object Map]",HJ="[object Number]",WJ="[object RegExp]",KJ="[object Set]",JJ="[object String]",YJ="[object Symbol]",XJ="[object ArrayBuffer]",QJ="[object DataView]",YA=KA?KA.prototype:void 0,vv=YA?YA.valueOf:void 0;function ZJ(t,e,n,r,i,o,s){switch(n){case QJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XJ:return!(t.byteLength!=e.byteLength||!o(new JA(t),new JA(e)));case BJ:case GJ:case HJ:return LJ(+t,+e);case zJ:return t.name==e.name&&t.message==e.message;case WJ:case JJ:return t==e+"";case qJ:var a=VJ;case KJ:var l=r&UJ;if(a||(a=jJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=FJ,s.set(t,e);var c=$J(a(t),a(e),r,i,o,s);return s.delete(t),c;case YJ:if(vv)return vv.call(t)==vv.call(e)}return!1}var eY=ZJ;function tY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var wL=tY,nY=wL,rY=Ln;function iY(t,e,n){var r=e(t);return rY(t)?r:nY(r,n(t))}var oY=iY;function sY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var aY=sY;function lY(){return[]}var uY=lY,cY=aY,fY=uY,dY=Object.prototype,hY=dY.propertyIsEnumerable,XA=Object.getOwnPropertySymbols,pY=XA?function(t){return t==null?[]:(t=Object(t),cY(XA(t),function(e){return hY.call(t,e)}))}:fY,mY=pY;function gY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yY=gY,vY=Fi,_Y=Bi,xY="[object Arguments]";function wY(t){return _Y(t)&&vY(t)==xY}var bY=wY,QA=bY,EY=Bi,bL=Object.prototype,TY=bL.hasOwnProperty,SY=bL.propertyIsEnumerable,AY=QA(function(){return arguments}())?QA:function(t){return EY(t)&&TY.call(t,"callee")&&!SY.call(t,"callee")},hE=AY,Mp={exports:{}};function IY(){return!1}var CY=IY;Mp.exports;(function(t,e){var n=ni,r=CY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Mp,Mp.exports);var EL=Mp.exports,PY=9007199254740991,NY=/^(?:0|[1-9]\d*)$/;function kY(t,e){var n=typeof t;return e=e??PY,!!e&&(n=="number"||n!="symbol"&&NY.test(t))&&t>-1&&t%1==0&&t<e}var pE=kY,RY=9007199254740991;function MY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RY}var mE=MY,OY=Fi,DY=mE,LY=Bi,$Y="[object Arguments]",VY="[object Array]",jY="[object Boolean]",UY="[object Date]",FY="[object Error]",BY="[object Function]",GY="[object Map]",zY="[object Number]",qY="[object Object]",HY="[object RegExp]",WY="[object Set]",KY="[object String]",JY="[object WeakMap]",YY="[object ArrayBuffer]",XY="[object DataView]",QY="[object Float32Array]",ZY="[object Float64Array]",eX="[object Int8Array]",tX="[object Int16Array]",nX="[object Int32Array]",rX="[object Uint8Array]",iX="[object Uint8ClampedArray]",oX="[object Uint16Array]",sX="[object Uint32Array]",it={};it[QY]=it[ZY]=it[eX]=it[tX]=it[nX]=it[rX]=it[iX]=it[oX]=it[sX]=!0;it[$Y]=it[VY]=it[YY]=it[jY]=it[XY]=it[UY]=it[FY]=it[BY]=it[GY]=it[zY]=it[qY]=it[HY]=it[WY]=it[KY]=it[JY]=!1;function aX(t){return LY(t)&&DY(t.length)&&!!it[OY(t)]}var lX=aX;function uX(t){return function(e){return t(e)}}var TL=uX,Op={exports:{}};Op.exports;(function(t,e){var n=RD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Op,Op.exports);var cX=Op.exports,fX=lX,dX=TL,ZA=cX,eI=ZA&&ZA.isTypedArray,hX=eI?dX(eI):fX,SL=hX,pX=yY,mX=hE,gX=Ln,yX=EL,vX=pE,_X=SL,xX=Object.prototype,wX=xX.hasOwnProperty;function bX(t,e){var n=gX(t),r=!n&&mX(t),i=!n&&!r&&yX(t),o=!n&&!r&&!i&&_X(t),s=n||r||i||o,a=s?pX(t.length,String):[],l=a.length;for(var u in t)(e||wX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vX(u,l)))&&a.push(u);return a}var EX=bX,TX=Object.prototype;function SX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TX;return t===n}var AX=SX;function IX(t,e){return function(n){return t(e(n))}}var AL=IX,CX=AL,PX=CX(Object.keys,Object),NX=PX,kX=AX,RX=NX,MX=Object.prototype,OX=MX.hasOwnProperty;function DX(t){if(!kX(t))return RX(t);var e=[];for(var n in Object(t))OX.call(t,n)&&n!="constructor"&&e.push(n);return e}var LX=DX,$X=Yb,VX=mE;function jX(t){return t!=null&&VX(t.length)&&!$X(t)}var Wf=jX,UX=EX,FX=LX,BX=Wf;function GX(t){return BX(t)?UX(t):FX(t)}var $g=GX,zX=oY,qX=mY,HX=$g;function WX(t){return zX(t,HX,qX)}var KX=WX,tI=KX,JX=1,YX=Object.prototype,XX=YX.hasOwnProperty;function QX(t,e,n,r,i,o){var s=n&JX,a=tI(t),l=a.length,u=tI(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:XX.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var w=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],b=e[h];if(r)var T=s?r(b,_,h,e,t,o):r(_,b,h,t,e,o);if(!(T===void 0?_===b||i(_,b,n,r,o):T)){w=!1;break}x||(x=h=="constructor")}if(w&&!x){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return o.delete(t),o.delete(e),w}var ZX=QX,eQ=Hs,tQ=ni,nQ=eQ(tQ,"DataView"),rQ=nQ,iQ=Hs,oQ=ni,sQ=iQ(oQ,"Promise"),aQ=sQ,lQ=Hs,uQ=ni,cQ=lQ(uQ,"Set"),IL=cQ,fQ=Hs,dQ=ni,hQ=fQ(dQ,"WeakMap"),pQ=hQ,T_=rQ,S_=Qb,A_=aQ,I_=IL,C_=pQ,CL=Fi,Jl=OD,nI="[object Map]",mQ="[object Object]",rI="[object Promise]",iI="[object Set]",oI="[object WeakMap]",sI="[object DataView]",gQ=Jl(T_),yQ=Jl(S_),vQ=Jl(A_),_Q=Jl(I_),xQ=Jl(C_),ss=CL;(T_&&ss(new T_(new ArrayBuffer(1)))!=sI||S_&&ss(new S_)!=nI||A_&&ss(A_.resolve())!=rI||I_&&ss(new I_)!=iI||C_&&ss(new C_)!=oI)&&(ss=function(t){var e=CL(t),n=e==mQ?t.constructor:void 0,r=n?Jl(n):"";if(r)switch(r){case gQ:return sI;case yQ:return nI;case vQ:return rI;case _Q:return iI;case xQ:return oI}return e});var wQ=ss,_v=gL,bQ=xL,EQ=eY,TQ=ZX,aI=wQ,lI=Ln,uI=EL,SQ=SL,AQ=1,cI="[object Arguments]",fI="[object Array]",qd="[object Object]",IQ=Object.prototype,dI=IQ.hasOwnProperty;function CQ(t,e,n,r,i,o){var s=lI(t),a=lI(e),l=s?fI:aI(t),u=a?fI:aI(e);l=l==cI?qd:l,u=u==cI?qd:u;var c=l==qd,f=u==qd,h=l==u;if(h&&uI(t)){if(!uI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new _v),s||SQ(t)?bQ(t,e,n,r,i,o):EQ(t,e,l,n,r,i,o);if(!(n&AQ)){var y=c&&dI.call(t,"__wrapped__"),v=f&&dI.call(e,"__wrapped__");if(y||v){var w=y?t.value():t,x=v?e.value():e;return o||(o=new _v),i(w,x,n,r,o)}}return h?(o||(o=new _v),TQ(t,e,n,r,i,o)):!1}var PQ=CQ,NQ=PQ,hI=Bi;function PL(t,e,n,r,i){return t===e?!0:t==null||e==null||!hI(t)&&!hI(e)?t!==t&&e!==e:NQ(t,e,n,r,PL,i)}var gE=PL,kQ=gL,RQ=gE,MQ=1,OQ=2;function DQ(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new kQ;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?RQ(c,u,MQ|OQ,r,f):h))return!1}}return!0}var LQ=DQ,$Q=Fo;function VQ(t){return t===t&&!$Q(t)}var NL=VQ,jQ=NL,UQ=$g;function FQ(t){for(var e=UQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jQ(i)]}return e}var BQ=FQ;function GQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var kL=GQ,zQ=LQ,qQ=BQ,HQ=kL;function WQ(t){var e=qQ(t);return e.length==1&&e[0][2]?HQ(e[0][0],e[0][1]):function(n){return n===t||zQ(n,t,e)}}var KQ=WQ;function JQ(t,e){return t!=null&&e in Object(t)}var YQ=JQ,XQ=jD,QQ=hE,ZQ=Ln,eZ=pE,tZ=mE,nZ=bg;function rZ(t,e,n){e=XQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=nZ(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&tZ(i)&&eZ(s,i)&&(ZQ(t)||QQ(t)))}var iZ=rZ,oZ=YQ,sZ=iZ;function aZ(t,e){return t!=null&&sZ(t,e,oZ)}var lZ=aZ,uZ=gE,cZ=UD,fZ=lZ,dZ=Jb,hZ=NL,pZ=kL,mZ=bg,gZ=1,yZ=2;function vZ(t,e){return dZ(t)&&hZ(e)?pZ(mZ(t),e):function(n){var r=cZ(n,t);return r===void 0&&r===e?fZ(n,t):uZ(e,r,gZ|yZ)}}var _Z=vZ;function xZ(t){return t}var Yl=xZ;function wZ(t){return function(e){return e==null?void 0:e[t]}}var bZ=wZ,EZ=nE;function TZ(t){return function(e){return EZ(e,t)}}var SZ=TZ,AZ=bZ,IZ=SZ,CZ=Jb,PZ=bg;function NZ(t){return CZ(t)?AZ(PZ(t)):IZ(t)}var kZ=NZ,RZ=KQ,MZ=_Z,OZ=Yl,DZ=Ln,LZ=kZ;function $Z(t){return typeof t=="function"?t:t==null?OZ:typeof t=="object"?DZ(t)?MZ(t[0],t[1]):RZ(t):LZ(t)}var Bo=$Z;function VZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var RL=VZ;function jZ(t){return t!==t}var UZ=jZ;function FZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var BZ=FZ,GZ=RL,zZ=UZ,qZ=BZ;function HZ(t,e,n){return e===e?qZ(t,e,n):GZ(t,zZ,n)}var WZ=HZ,KZ=WZ;function JZ(t,e){var n=t==null?0:t.length;return!!n&&KZ(t,e,0)>-1}var YZ=JZ;function XZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var QZ=XZ;function ZZ(){}var eee=ZZ,xv=IL,tee=eee,nee=dE,ree=1/0,iee=xv&&1/nee(new xv([,-0]))[1]==ree?function(t){return new xv(t)}:tee,oee=iee,see=yL,aee=YZ,lee=QZ,uee=_L,cee=oee,fee=dE,dee=200;function hee(t,e,n){var r=-1,i=aee,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=lee;else if(o>=dee){var u=e?null:cee(t);if(u)return fee(u);s=!1,i=uee,l=new see}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var pee=hee,mee=Bo,gee=pee;function yee(t,e){return t&&t.length?gee(t,mee(e)):[]}var vee=yee;const pI=Ye(vee);function ML(t,e,n){return e===!0?pI(t,n):Se(e)?pI(t,e):t}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var _ee=["ref"];function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DL(r.key),r)}}function wee(t,e,n){return e&&gI(t.prototype,e),n&&gI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bee(t,e,n){return e=Dp(e),Eee(t,OL()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function Eee(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(t)}function Tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function See(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function Vg(t,e,n){return e=DL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DL(t){var e=Aee(t,"string");return hl(e)=="symbol"?e:e+""}function Aee(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iee(t,e){if(t==null)return{};var n=Cee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pee(t){return t.value}function Nee(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Iee(e,_ee);return $.createElement(fE,n)}var yI=1,Fa=function(t){function e(){var n;xee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bee(this,e,[].concat(i)),Vg(n,"lastBoundingBox",{width:-1,height:-1}),n}return See(e,t),wee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yI||Math.abs(i.height-this.lastBoundingBox.height)>yI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ai(ai({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ai(ai({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},Nee(o,ai(ai({},this.props),{},{payload:ML(c,u,Pee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ai(ai({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&te(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(V.PureComponent);Vg(Fa,"displayName","Legend");Vg(Fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vI=qf,kee=hE,Ree=Ln,_I=vI?vI.isConcatSpreadable:void 0;function Mee(t){return Ree(t)||kee(t)||!!(_I&&t&&t[_I])}var Oee=Mee,Dee=wL,Lee=Oee;function LL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Lee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?LL(a,e-1,n,r,i):Dee(i,a):r||(i[i.length]=a)}return i}var $L=LL;function $ee(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Vee=$ee,jee=Vee,Uee=jee(),Fee=Uee,Bee=Fee,Gee=$g;function zee(t,e){return t&&Bee(t,e,Gee)}var VL=zee,qee=Wf;function Hee(t,e){return function(n,r){if(n==null)return n;if(!qee(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Wee=Hee,Kee=VL,Jee=Wee,Yee=Jee(Kee),yE=Yee,Xee=yE,Qee=Wf;function Zee(t,e){var n=-1,r=Qee(t)?Array(t.length):[];return Xee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var jL=Zee;function ete(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var tte=ete,xI=Bl;function nte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=xI(t),s=e!==void 0,a=e===null,l=e===e,u=xI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var rte=nte,ite=rte;function ote(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=ite(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ste=ote,wv=tE,ate=nE,lte=Bo,ute=jL,cte=tte,fte=TL,dte=ste,hte=Yl,pte=Ln;function mte(t,e,n){e.length?e=wv(e,function(o){return pte(o)?function(s){return ate(s,o.length===1?o[0]:o)}:o}):e=[hte];var r=-1;e=wv(e,fte(lte));var i=ute(t,function(o,s,a){var l=wv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return cte(i,function(o,s){return dte(o,s,n)})}var gte=mte;function yte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vte=yte,_te=vte,wI=Math.max;function xte(t,e,n){return e=wI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=wI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),_te(t,this,a)}}var wte=xte;function bte(t){return function(){return t}}var Ete=bte,Tte=Hs,Ste=function(){try{var t=Tte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UL=Ste,Ate=Ete,bI=UL,Ite=Yl,Cte=bI?function(t,e){return bI(t,"toString",{configurable:!0,enumerable:!1,value:Ate(e),writable:!0})}:Ite,Pte=Cte,Nte=800,kte=16,Rte=Date.now;function Mte(t){var e=0,n=0;return function(){var r=Rte(),i=kte-(r-n);if(n=r,i>0){if(++e>=Nte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ote=Mte,Dte=Pte,Lte=Ote,$te=Lte(Dte),Vte=$te,jte=Yl,Ute=wte,Fte=Vte;function Bte(t,e){return Fte(Ute(t,e,jte),t+"")}var Gte=Bte,zte=Xb,qte=Wf,Hte=pE,Wte=Fo;function Kte(t,e,n){if(!Wte(n))return!1;var r=typeof e;return(r=="number"?qte(n)&&Hte(e,n.length):r=="string"&&e in n)?zte(n[e],t):!1}var jg=Kte,Jte=$L,Yte=gte,Xte=Gte,EI=jg,Qte=Xte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&EI(t,e[0],e[1])?e=[]:n>2&&EI(e[0],e[1],e[2])&&(e=[e[0]]),Yte(t,Jte(e,1),[])}),Zte=Qte;const vE=Ye(Zte);function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function ene(t,e){return ine(t)||rne(t,e)||nne(t,e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t,e){if(t){if(typeof t=="string")return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ine(t){if(Array.isArray(t))return t}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return e=sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=ane(t,"string");return Gc(e)=="symbol"?e:e+""}function ane(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t){return Array.isArray(t)&&kt(t[0])&&kt(t[1])?t.join(" ~ "):t}var une=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,w=e.label,x=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,T=function(){if(c&&c.length){var D={padding:0,margin:0},M=(h?vE(c,h):c).map(function(F,B){if(F.type==="none")return null;var K=bv({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),W=F.formatter||f||lne,U=F.value,H=F.name,J=U,oe=H;if(W&&J!=null&&oe!=null){var Z=W(U,H,F,B,c);if(Array.isArray(Z)){var le=ene(Z,2);J=le[0],oe=le[1]}else J=Z}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:K},kt(oe)?$.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,kt(oe)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},J),$.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},N=bv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=bv({margin:0},u),P=!ke(w),S=P?w:"",C=De("recharts-default-tooltip",y),I=De("recharts-tooltip-label",v);P&&x&&c!==void 0&&c!==null&&(S=x(w,c));var R=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",N_({className:C,style:N},R),$.createElement("p",{className:I,style:A},$.isValidElement(S)?S:"".concat(S)),T())};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Hd(t,e,n){return e=cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=fne(t,"string");return zc(e)=="symbol"?e:e+""}function fne(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cu="recharts-tooltip-wrapper",dne={visibility:"hidden"};function hne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return De(Cu,Hd(Hd(Hd(Hd({},"".concat(Cu,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(Cu,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(Cu,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(Cu,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function AI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,y=l[r];return h<y?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,w=l[r]+u;return v>w?Math.max(c,l[r]):Math.max(f,l[r])}function pne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=AI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=AI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=pne({translateX:c,translateY:f,useTranslate3d:a})):u=dne,{cssProperties:u,cssClasses:hne({translateX:c,translateY:f,coordinate:n})}}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){R_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BL(r.key),r)}}function vne(t,e,n){return e&&yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ne(t,e,n){return e=Lp(e),xne(t,FL()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function xne(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function R_(t,e,n){return e=BL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BL(t){var e=Ene(t,"string");return pl(e)=="symbol"?e:e+""}function Ene(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PI=1,Tne=function(t){function e(){var n;gne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_ne(this,e,[].concat(i)),R_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return bne(e,t),vne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PI||Math.abs(r.height-this.state.lastBoundingBox.height)>PI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,w=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,T=mne({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),N=T.cssClasses,A=T.cssProperties,P=CI(CI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(C){r.wrapperNode=C}},u)}}])}(V.PureComponent),Sne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xl={isSsr:Sne()};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ine(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function Cne(t,e,n){return e&&Ine(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pne(t,e,n){return e=$p(e),Nne(t,GL()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function Nne(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(t)}function kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function _E(t,e,n){return e=zL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zL(t){var e=Mne(t,"string");return ml(e)=="symbol"?e:e+""}function Mne(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function One(t){return t.dataKey}function Dne(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(une,e)}var nr=function(t){function e(){return Ane(this,e),Pne(this,e,arguments)}return Rne(e,t),Cne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,w=i.payloadUniqBy,x=i.position,_=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,N=i.wrapperStyle,A=v??[];f&&A.length&&(A=ML(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,One));var P=A.length>0;return $.createElement(Tne,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:y,position:x,reverseDirection:_,useTranslate3d:b,viewBox:T,wrapperStyle:N},Dne(u,kI(kI({},this.props),{},{payload:A})))}}])}(V.PureComponent);_E(nr,"displayName","Tooltip");_E(nr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lne=ni,$ne=function(){return Lne.Date.now()},Vne=$ne,jne=/\s/;function Une(t){for(var e=t.length;e--&&jne.test(t.charAt(e)););return e}var Fne=Une,Bne=Fne,Gne=/^\s+/;function zne(t){return t&&t.slice(0,Bne(t)+1).replace(Gne,"")}var qne=zne,Hne=qne,RI=Fo,Wne=Bl,MI=NaN,Kne=/^[-+]0x[0-9a-f]+$/i,Jne=/^0b[01]+$/i,Yne=/^0o[0-7]+$/i,Xne=parseInt;function Qne(t){if(typeof t=="number")return t;if(Wne(t))return MI;if(RI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=RI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hne(t);var n=Jne.test(t);return n||Yne.test(t)?Xne(t.slice(2),n?2:8):Kne.test(t)?MI:+t}var qL=Qne,Zne=Fo,Ev=Vne,OI=qL,ere="Expected a function",tre=Math.max,nre=Math.min;function rre(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(ere);e=OI(e)||0,Zne(n)&&(c=!!n.leading,f="maxWait"in n,o=f?tre(OI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(P){var S=r,C=i;return r=i=void 0,u=P,s=t.apply(C,S),s}function v(P){return u=P,a=setTimeout(_,e),c?y(P):s}function w(P){var S=P-l,C=P-u,I=e-S;return f?nre(I,o-C):I}function x(P){var S=P-l,C=P-u;return l===void 0||S>=e||S<0||f&&C>=o}function _(){var P=Ev();if(x(P))return b(P);a=setTimeout(_,w(P))}function b(P){return a=void 0,h&&r?y(P):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:b(Ev())}function A(){var P=Ev(),S=x(P);if(r=arguments,i=this,l=P,S){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),s}return A.cancel=T,A.flush=N,A}var ire=rre,ore=ire,sre=Fo,are="Expected a function";function lre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(are);return sre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ore(t,e,{leading:r,maxWait:e,trailing:i})}var ure=lre;const HL=Ye(ure);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return e=fre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=dre(t,"string");return qc(e)=="symbol"?e:e+""}function dre(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hre(t,e){return yre(t)||gre(t,e)||mre(t,e)||pre()}function pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){if(t){if(typeof t=="string")return LI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(t,e)}}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function yre(t){if(Array.isArray(t))return t}var xE=V.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,w=v===void 0?0:v,x=t.id,_=t.className,b=t.onResize,T=t.style,N=T===void 0?{}:T,A=V.useRef(null),P=V.useRef();P.current=b,V.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=V.useState({containerWidth:i.width,containerHeight:i.height}),C=hre(S,2),I=C[0],R=C[1],O=V.useCallback(function(M,F){R(function(B){var K=Math.round(M),W=Math.round(F);return B.containerWidth===K&&B.containerHeight===W?B:{containerWidth:K,containerHeight:W}})},[]);V.useEffect(function(){var M=function(H){var J,oe=H[0].contentRect,Z=oe.width,le=oe.height;O(Z,le),(J=P.current)===null||J===void 0||J.call(P,Z,le)};w>0&&(M=HL(M,w,{trailing:!0,leading:!1}));var F=new ResizeObserver(M),B=A.current.getBoundingClientRect(),K=B.width,W=B.height;return O(K,W),F.observe(A.current),function(){F.disconnect()}},[O,w]);var D=V.useMemo(function(){var M=I.containerWidth,F=I.containerHeight;if(M<0||F<0)return null;wi(hs(s)||hs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=hs(s)?M:s,K=hs(l)?F:l;n&&n>0&&(B?K=B/n:K&&(B=K*n),h&&K>h&&(K=h)),wi(B>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,K,s,l,c,f,n);var W=!Array.isArray(y)&&xi(y.type).endsWith("Chart");return $.Children.map(y,function(U){return $.isValidElement(U)?V.cloneElement(U,Wd({width:B,height:K},W?{style:Wd({height:"100%",width:"100%",maxHeight:K,maxWidth:B},U.props.style)}:{})):U})},[n,y,l,h,f,c,I,s]);return $.createElement("div",{id:x?"".concat(x):void 0,className:De("recharts-responsive-container",_),style:Wd(Wd({},N),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:A},D)}),WL=function(e){return null};WL.displayName="Cell";function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return e=_re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=xre(t,"string");return Hc(e)=="symbol"?e:e+""}function xre(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia={widthCache:{},cacheCount:0},wre=2e3,bre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VI="recharts_measurement_span";function Ere(t){var e=O_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var uc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xl.isSsr)return{width:0,height:0};var r=Ere(n),i=JSON.stringify({text:e,copyStyle:r});if(ia.widthCache[i])return ia.widthCache[i];try{var o=document.getElementById(VI);o||(o=document.createElement("span"),o.setAttribute("id",VI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=O_(O_({},bre),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ia.widthCache[i]=l,++ia.cacheCount>wre&&(ia.cacheCount=0,ia.widthCache={}),l}catch{return{width:0,height:0}}},Tre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Vp(t,e){return Cre(t)||Ire(t,e)||Are(t,e)||Sre()}function Sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return jI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(t,e)}}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ire(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Cre(t){if(Array.isArray(t))return t}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kre(r.key),r)}}function Nre(t,e,n){return e&&UI(t.prototype,e),n&&UI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kre(t){var e=Rre(t,"string");return Wc(e)=="symbol"?e:e+""}function Rre(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ore=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dre=Object.keys(KL),Ta="NaN";function Lre(t,e){return t*KL[e]}var Kd=function(){function t(e,n){Pre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mre.test(n)&&(this.num=NaN,this.unit=""),Dre.includes(n)&&(this.num=Lre(e,n),this.unit="px")}return Nre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ore.exec(n))!==null&&r!==void 0?r:[],o=Vp(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function JL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=FI.exec(e))!==null&&n!==void 0?n:[],i=Vp(r,4),o=i[1],s=i[2],a=i[3],l=Kd.parse(o??""),u=Kd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace(FI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BI.exec(e))!==null&&f!==void 0?f:[],y=Vp(h,4),v=y[1],w=y[2],x=y[3],_=Kd.parse(v??""),b=Kd.parse(x??""),T=w==="+"?_.add(b):_.subtract(b);if(T.isNaN())return Ta;e=e.replace(BI,T.toString())}return e}var GI=/\(([^()]*)\)/;function $re(t){for(var e=t;e.includes("(");){var n=GI.exec(e),r=Vp(n,2),i=r[1];e=e.replace(GI,JL(i))}return e}function Vre(t){var e=t.replace(/\s+/g,"");return e=$re(e),e=JL(e),e}function jre(t){try{return Vre(t)}catch{return Ta}}function Tv(t){var e=jre(t.slice(5,-1));return e===Ta?"":e}var Ure=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fre=["dx","dy","angle","className","breakAll"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function zI(t,e){if(t==null)return{};var n=Bre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qI(t,e){return Hre(t)||qre(t,e)||zre(t,e)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hre(t){if(Array.isArray(t))return t}var YL=/[ \f\n\r\t\v\u2028\u2029]+/,XL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(YL));var s=o.map(function(l){return{word:l,width:uc(l,i).width}}),a=r?0:uc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Wre=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=te(s),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(K,W){var U=W.word,H=W.width,J=K[K.length-1];if(J&&(i==null||o||J.width+H+r<Number(i)))J.words.push(U),J.width+=H+r;else{var oe={words:[U],width:H};K.push(oe)}return K},[])},y=h(n),v=function(B){return B.reduce(function(K,W){return K.width>W.width?K:W})};if(!c)return y;for(var w="",x=function(B){var K=f.slice(0,B),W=XL({breakAll:u,style:l,children:K+w}).wordsWithComputedWidth,U=h(W),H=U.length>s||v(U).width>Number(i);return[H,U]},_=0,b=f.length-1,T=0,N;_<=b&&T<=f.length-1;){var A=Math.floor((_+b)/2),P=A-1,S=x(P),C=qI(S,2),I=C[0],R=C[1],O=x(A),D=qI(O,1),M=D[0];if(!I&&!M&&(_=A+1),I&&M&&(b=A-1),!I&&M){N=R;break}T++}return N||y},WI=function(e){var n=ke(e)?[]:e.toString().split(YL);return[{words:n}]},Kre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Xl.isSsr){var l,u,c=XL({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return WI(i);return Wre({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return WI(i)},KI="#808080",jp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,w=v===void 0?"end":v,x=e.fill,_=x===void 0?KI:x,b=zI(e,Ure),T=V.useMemo(function(){return Kre({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),N=b.dx,A=b.dy,P=b.angle,S=b.className,C=b.breakAll,I=zI(b,Fre);if(!kt(r)||!kt(o))return null;var R=r+(te(N)?N:0),O=o+(te(A)?A:0),D;switch(w){case"start":D=Tv("calc(".concat(u,")"));break;case"middle":D=Tv("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Tv("calc(".concat(T.length-1," * -").concat(a,")"));break}var M=[];if(f){var F=T[0].width,B=b.width;M.push("scale(".concat((te(B)?B/F:1)/F,")"))}return P&&M.push("rotate(".concat(P,", ").concat(R,", ").concat(O,")")),M.length&&(I.transform=M.join(" ")),$.createElement("text",D_({},Ce(I,!0),{x:R,y:O,className:De("recharts-text",S),textAnchor:y,fill:_.includes("url")?KI:_}),T.map(function(K,W){var U=K.words.join(C?"":" ");return $.createElement("tspan",{x:R,dy:W===0?D:a,key:"".concat(U,"-").concat(W)},U)}))};function Po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wE(t){let e,n,r;t.length!==2?(e=Po,n=(a,l)=>Po(t(a),l),r=(a,l)=>t(a)-l):(e=t===Po||t===Jre?t:Yre,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Yre(){return 0}function QL(t){return t===null?NaN:+t}function*Xre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Qre=wE(Po),Kf=Qre.right;wE(QL).center;class JI extends Map{constructor(e,n=tie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YI(this,e))}has(e){return super.has(YI(this,e))}set(e,n){return super.set(Zre(this,e),n)}delete(e){return super.delete(eie(this,e))}}function YI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function eie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function tie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nie(t=Po){if(t===Po)return ZL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ZL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rie=Math.sqrt(50),iie=Math.sqrt(10),oie=Math.sqrt(2);function Up(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=rie?10:o>=iie?5:o>=oie?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Up(t,e,n*2):[a,l,u]}function L_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Up(e,t,n):Up(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function $_(t,e,n){return e=+e,t=+t,n=+n,Up(t,e,n)[2]}function V_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$_(e,t,n):$_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function e$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ZL:nie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));e$(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(Pu(t,n,e),i(t[r],o)>0&&Pu(t,n,r);s<a;){for(Pu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Pu(t,n,a):(++a,Pu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Pu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sie(t,e,n){if(t=Float64Array.from(Xre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QI(t);if(e>=1)return XI(t);var r,i=(r-1)*e,o=Math.floor(i),s=XI(e$(t,o).subarray(0,o+1)),a=QI(t.subarray(o+1));return s+(a-s)*(i-o)}}function aie(t,e,n=QL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function lie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const j_=Symbol("implicit");function bE(){var t=new JI,e=[],n=[],r=j_;function i(o){let s=t.get(o);if(s===void 0){if(r!==j_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new JI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bE(e,n).unknown(r)},yr.apply(i,arguments),i}function Kc(){var t=bE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,w=y?r:i;o=(w-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(w-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=lie(h).map(function(_){return v+o*_});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Kc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},yr.apply(f(),arguments)}function t$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return t$(e())},t}function cc(){return t$(Kc.apply(null,arguments).paddingInner(1))}function EE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jf(){}var Jc=.7,Fp=1/Jc,Ba="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uie=/^#([0-9a-f]{3,8})$/,cie=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),fie=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),die=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${Yc}\\)$`),hie=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${Yc}\\)$`),pie=new RegExp(`^hsl\\(${Yc},${Xr},${Xr}\\)$`),mie=new RegExp(`^hsla\\(${Yc},${Xr},${Xr},${Yc}\\)$`),ZI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EE(Jf,Xc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eC,formatHex:eC,formatHex8:gie,formatHsl:yie,formatRgb:tC,toString:tC});function eC(){return this.rgb().formatHex()}function gie(){return this.rgb().formatHex8()}function yie(){return r$(this).formatHsl()}function tC(){return this.rgb().formatRgb()}function Xc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nC(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cie.exec(t))?new Rn(e[1],e[2],e[3],1):(e=fie.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=die.exec(t))?Jd(e[1],e[2],e[3],e[4]):(e=hie.exec(t))?Jd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pie.exec(t))?oC(e[1],e[2]/100,e[3]/100,1):(e=mie.exec(t))?oC(e[1],e[2]/100,e[3]/100,e[4]):ZI.hasOwnProperty(t)?nC(ZI[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function nC(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function Jd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function vie(t){return t instanceof Jf||(t=Xc(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function U_(t,e,n,r){return arguments.length===1?vie(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}EE(Rn,U_,n$(Jf,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jc:Math.pow(Jc,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Es(this.r),Es(this.g),Es(this.b),Bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rC,formatHex:rC,formatHex8:_ie,formatRgb:iC,toString:iC}));function rC(){return`#${ps(this.r)}${ps(this.g)}${ps(this.b)}`}function _ie(){return`#${ps(this.r)}${ps(this.g)}${ps(this.b)}${ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function iC(){const t=Bp(this.opacity);return`${t===1?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${t===1?")":`, ${t})`}`}function Bp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ps(t){return t=Es(t),(t<16?"0":"")+t.toString(16)}function oC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function r$(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof Jf||(t=Xc(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ir(s,a,l,t.opacity)}function xie(t,e,n,r){return arguments.length===1?r$(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}EE(Ir,xie,n$(Jf,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jc:Math.pow(Jc,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(Sv(t>=240?t-240:t+120,i,r),Sv(t,i,r),Sv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(sC(this.h),Yd(this.s),Yd(this.l),Bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bp(this.opacity);return`${t===1?"hsl(":"hsla("}${sC(this.h)}, ${Yd(this.s)*100}%, ${Yd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sC(t){return t=(t||0)%360,t<0?t+360:t}function Yd(t){return Math.max(0,Math.min(1,t||0))}function Sv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const TE=t=>()=>t;function wie(t,e){return function(n){return t+n*e}}function bie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Eie(t){return(t=+t)==1?i$:function(e,n){return n-e?bie(e,n,t):TE(isNaN(e)?n:e)}}function i$(t,e){var n=e-t;return n?wie(t,n):TE(isNaN(t)?e:t)}const aC=function t(e){var n=Eie(e);function r(i,o){var s=n((i=U_(i)).r,(o=U_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=i$(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Tie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Sie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ql(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Iie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ql(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var F_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Av=new RegExp(F_.source,"g");function Pie(t){return function(){return t}}function Nie(t){return function(e){return t(e)+""}}function kie(t,e){var n=F_.lastIndex=Av.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=F_.exec(t))&&(i=Av.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Gp(r,i)})),n=Av.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Nie(l[0].x):Pie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Ql(t,e){var n=typeof e,r;return e==null||n==="boolean"?TE(e):(n==="number"?Gp:n==="string"?(r=Xc(e))?(e=r,aC):kie:e instanceof Xc?aC:e instanceof Date?Iie:Sie(e)?Tie:Array.isArray(e)?Aie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cie:Gp)(t,e)}function SE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Rie(t,e){e===void 0&&(e=t,t=Ql);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Mie(t){return function(){return t}}function zp(t){return+t}var lC=[0,1];function _n(t){return t}function B_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Mie(isNaN(e)?NaN:.5)}function Oie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Die(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=B_(i,r),o=n(s,o)):(r=B_(r,i),o=n(o,s)),function(a){return o(r(a))}}function Lie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=B_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Kf(t,a,1,r)-1;return o[l](i[l](a))}}function Yf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ug(){var t=lC,e=lC,n=Ql,r,i,o,s=_n,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==_n&&(s=Oie(t[0],t[h-1])),a=h>2?Lie:Die,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Gp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,zp),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=SE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:_n,c()):s!==_n},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,c()}}function AE(){return Ug()(_n,_n)}function $ie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gl(t){return t=qp(Math.abs(t)),t?t[1]:NaN}function Vie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function jie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Uie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(t){if(!(e=Uie.exec(t)))throw new Error("invalid format: "+t);var e;return new IE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qc.prototype=IE.prototype;function IE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Hp;function Bie(t,e){var n=qp(t,e);if(!n)return Hp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Hp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qp(t,Math.max(0,e+o-1))[0]}function uC(t,e){var n=qp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$ie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uC(t*100,e),r:uC,s:Bie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fC(t){return t}var dC=Array.prototype.map,hC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gie(t){var e=t.grouping===void 0||t.thousands===void 0?fC:Vie(dC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fC:jie(dC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Qc(f);var y=f.fill,v=f.align,w=f.sign,x=f.symbol,_=f.zero,b=f.width,T=f.comma,N=f.precision,A=f.trim,P=f.type;P==="n"?(T=!0,P="g"):cC[P]||(N===void 0&&(N=12),A=!0,P="g"),(_||y==="0"&&v==="=")&&(_=!0,y="0",v="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),C=(x==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=cC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function O(D){var M=S,F=C,B,K,W;if(P==="c")F=I(D)+F,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),N),A&&(D=Fie(D)),U&&+D==0&&w!=="+"&&(U=!1),M=(U?w==="("?w:a:w==="-"||w==="("?"":w)+M,F=(P==="s"&&!isNaN(D)&&Hp!==void 0?hC[8+Hp/3]:"")+F+(U&&w==="("?")":""),R){for(B=-1,K=D.length;++B<K;)if(W=D.charCodeAt(B),48>W||W>57){F=(W===46?i+D.slice(B+1):D.slice(B))+F,D=D.slice(0,B);break}}}T&&!_&&(D=e(D,1/0));var H=M.length+D.length+F.length,J=H<b?new Array(b-H+1).join(y):"";switch(T&&_&&(D=e(J+D,J.length?b-F.length:1/0),J=""),v){case"<":D=M+D+F+J;break;case"=":D=M+J+D+F;break;case"^":D=J.slice(0,H=J.length>>1)+M+D+F+J.slice(H);break;default:D=J+M+D+F;break}return o(D)}return O.toString=function(){return f+""},O}function c(f,h){var y=Math.max(-8,Math.min(8,Math.floor(gl(h)/3)))*3,v=Math.pow(10,-y),w=u((f=Qc(f),f.type="f",f),{suffix:hC[8+y/3]});return function(x){return w(v*x)}}return{format:u,formatPrefix:c}}var Xd,CE,o$;zie({thousands:",",grouping:[3],currency:["$",""]});function zie(t){return Xd=Gie(t),CE=Xd.format,o$=Xd.formatPrefix,Xd}function qie(t){return Math.max(0,-gl(Math.abs(t)))}function Hie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(e)/3)))*3-gl(Math.abs(t)))}function Wie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gl(e)-gl(t))+1}function s$(t,e,n,r){var i=V_(t,e,n),o;switch(r=Qc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Hie(i,s))&&(r.precision=o),o$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Wie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qie(i))&&(r.precision=o-(r.type==="%")*2);break}}return CE(r)}function Go(t){var e=t.domain;return t.ticks=function(n){var r=e();return L_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return s$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=$_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Wp(){var t=AE();return t.copy=function(){return Yf(t,Wp())},yr.apply(t,arguments),Go(t)}function a$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return a$(t).unknown(e)},t=arguments.length?Array.from(t,zp):[0,1],Go(n)}function l$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pC(t){return Math.log(t)}function mC(t){return Math.exp(t)}function Kie(t){return-Math.log(-t)}function Jie(t){return-Math.exp(-t)}function Yie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xie(t){return t===10?Yie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gC(t){return(e,n)=>-t(-e,n)}function PE(t){const e=t(pC,mC),n=e.domain;let r=10,i,o;function s(){return i=Qie(r),o=Xie(r),n()[0]<0?(i=gC(i),o=gC(o),t(Kie,Jie)):t(pC,mC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),y=i(c),v,w;const x=a==null?10:+a;let _=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(w=h<0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;_.push(w)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(w=h>0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;_.push(w)}_.length*2<x&&(_=L_(u,c,x))}else _=L_(h,y,Math.min(y-h,x)).map(o);return f?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qc(l)).precision==null&&(l.trim=!0),l=CE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(l$(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function u$(){const t=PE(Ug()).domain([1,10]);return t.copy=()=>Yf(t,u$()).base(t.base()),yr.apply(t,arguments),t}function yC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NE(t){var e=1,n=t(yC(e),vC(e));return n.constant=function(r){return arguments.length?t(yC(e=+r),vC(e)):e},Go(n)}function c$(){var t=NE(Ug());return t.copy=function(){return Yf(t,c$()).constant(t.constant())},yr.apply(t,arguments)}function _C(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eoe(t){return t<0?-t*t:t*t}function kE(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(Zie,eoe):t(_C(n),_C(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Go(e)}function RE(){var t=kE(Ug());return t.copy=function(){return Yf(t,RE()).exponent(t.exponent())},yr.apply(t,arguments),t}function toe(){return RE.apply(null,arguments).exponent(.5)}function xC(t){return Math.sign(t)*t*t}function noe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function f$(){var t=AE(),e=[0,1],n=!1,r;function i(o){var s=noe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(xC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,zp)).map(xC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return f$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yr.apply(i,arguments),Go(i)}function d$(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=aie(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Kf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Po),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return d$().domain(t).range(e).unknown(r)},yr.apply(o,arguments)}function h$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Kf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return h$().domain([t,e]).range(i).unknown(o)},yr.apply(Go(s),arguments)}function p$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Kf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return p$().domain(t).range(e).unknown(n)},yr.apply(i,arguments)}const Iv=new Date,Cv=new Date;function Ot(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Ot(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Iv.setTime(+o),Cv.setTime(+s),t(Iv),t(Cv),Math.floor(n(Iv,Cv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Kp=Ot(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ot(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kp);Kp.range;const gi=1e3,ar=gi*60,yi=ar*60,Oi=yi*24,ME=Oi*7,wC=Oi*30,Pv=Oi*365,ms=Ot(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCSeconds());ms.range;const OE=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());OE.range;const DE=Ot(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());DE.range;const LE=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getHours());LE.range;const $E=Ot(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCHours());$E.range;const Xf=Ot(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Oi,t=>t.getDate()-1);Xf.range;const Fg=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);Fg.range;const m$=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));m$.range;function Ws(t){return Ot(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/ME)}const Bg=Ws(0),Jp=Ws(1),roe=Ws(2),ioe=Ws(3),yl=Ws(4),ooe=Ws(5),soe=Ws(6);Bg.range;Jp.range;roe.range;ioe.range;yl.range;ooe.range;soe.range;function Ks(t){return Ot(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ME)}const Gg=Ks(0),Yp=Ks(1),aoe=Ks(2),loe=Ks(3),vl=Ks(4),uoe=Ks(5),coe=Ks(6);Gg.range;Yp.range;aoe.range;loe.range;vl.range;uoe.range;coe.range;const VE=Ot(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VE.range;const jE=Ot(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jE.range;const Di=Ot(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Di.range;const Li=Ot(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Li.range;function g$(t,e,n,r,i,o){const s=[[ms,1,gi],[ms,5,5*gi],[ms,15,15*gi],[ms,30,30*gi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,Oi],[r,2,2*Oi],[n,1,ME],[e,1,wC],[e,3,3*wC],[t,1,Pv]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const y=f&&typeof f.range=="function"?f:l(u,c,f),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,y=wE(([,,x])=>x).right(s,h);if(y===s.length)return t.every(V_(u/Pv,c/Pv,f));if(y===0)return Kp.every(Math.max(V_(u,c,f),1));const[v,w]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(w)}return[a,l]}const[foe,doe]=g$(Li,jE,Gg,m$,$E,DE),[hoe,poe]=g$(Di,VE,Bg,Xf,LE,OE);function Nv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function moe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=ku(i),c=Ru(i),f=ku(o),h=Ru(o),y=ku(s),v=Ru(s),w=ku(a),x=Ru(a),_=ku(l),b=Ru(l),T={a:W,A:U,b:H,B:J,c:null,d:IC,e:IC,f:Voe,g:Koe,G:Yoe,H:Doe,I:Loe,j:$oe,L:y$,m:joe,M:Uoe,p:oe,q:Z,Q:NC,s:kC,S:Foe,u:Boe,U:Goe,V:zoe,w:qoe,W:Hoe,x:null,X:null,y:Woe,Y:Joe,Z:Xoe,"%":PC},N={a:le,A:Ie,b:Le,B:et,c:null,d:CC,e:CC,f:tse,g:fse,G:hse,H:Qoe,I:Zoe,j:ese,L:_$,m:nse,M:rse,p:At,q:Dt,Q:NC,s:kC,S:ise,u:ose,U:sse,V:ase,w:lse,W:use,x:null,X:null,y:cse,Y:dse,Z:pse,"%":PC},A={a:R,A:O,b:D,B:M,c:F,d:SC,e:SC,f:koe,g:TC,G:EC,H:AC,I:AC,j:Ioe,L:Noe,m:Aoe,M:Coe,p:I,q:Soe,Q:Moe,s:Ooe,S:Poe,u:xoe,U:woe,V:boe,w:_oe,W:Eoe,x:B,X:K,y:TC,Y:EC,Z:Toe,"%":Roe};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(se,ye){return function(ve){var X=[],He=-1,Ae=0,tt=se.length,at,Lt,Yn;for(ve instanceof Date||(ve=new Date(+ve));++He<tt;)se.charCodeAt(He)===37&&(X.push(se.slice(Ae,He)),(Lt=bC[at=se.charAt(++He)])!=null?at=se.charAt(++He):Lt=at==="e"?" ":"0",(Yn=ye[at])&&(at=Yn(ve,Lt)),X.push(at),Ae=He+1);return X.push(se.slice(Ae,He)),X.join("")}}function S(se,ye){return function(ve){var X=Nu(1900,void 0,1),He=C(X,se,ve+="",0),Ae,tt;if(He!=ve.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ye&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ae=kv(Nu(X.y,0,1)),tt=Ae.getUTCDay(),Ae=tt>4||tt===0?Yp.ceil(Ae):Yp(Ae),Ae=Fg.offset(Ae,(X.V-1)*7),X.y=Ae.getUTCFullYear(),X.m=Ae.getUTCMonth(),X.d=Ae.getUTCDate()+(X.w+6)%7):(Ae=Nv(Nu(X.y,0,1)),tt=Ae.getDay(),Ae=tt>4||tt===0?Jp.ceil(Ae):Jp(Ae),Ae=Xf.offset(Ae,(X.V-1)*7),X.y=Ae.getFullYear(),X.m=Ae.getMonth(),X.d=Ae.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),tt="Z"in X?kv(Nu(X.y,0,1)).getUTCDay():Nv(Nu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(tt+5)%7:X.w+X.U*7-(tt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,kv(X)):Nv(X)}}function C(se,ye,ve,X){for(var He=0,Ae=ye.length,tt=ve.length,at,Lt;He<Ae;){if(X>=tt)return-1;if(at=ye.charCodeAt(He++),at===37){if(at=ye.charAt(He++),Lt=A[at in bC?ye.charAt(He++):at],!Lt||(X=Lt(se,ve,X))<0)return-1}else if(at!=ve.charCodeAt(X++))return-1}return X}function I(se,ye,ve){var X=u.exec(ye.slice(ve));return X?(se.p=c.get(X[0].toLowerCase()),ve+X[0].length):-1}function R(se,ye,ve){var X=y.exec(ye.slice(ve));return X?(se.w=v.get(X[0].toLowerCase()),ve+X[0].length):-1}function O(se,ye,ve){var X=f.exec(ye.slice(ve));return X?(se.w=h.get(X[0].toLowerCase()),ve+X[0].length):-1}function D(se,ye,ve){var X=_.exec(ye.slice(ve));return X?(se.m=b.get(X[0].toLowerCase()),ve+X[0].length):-1}function M(se,ye,ve){var X=w.exec(ye.slice(ve));return X?(se.m=x.get(X[0].toLowerCase()),ve+X[0].length):-1}function F(se,ye,ve){return C(se,e,ye,ve)}function B(se,ye,ve){return C(se,n,ye,ve)}function K(se,ye,ve){return C(se,r,ye,ve)}function W(se){return s[se.getDay()]}function U(se){return o[se.getDay()]}function H(se){return l[se.getMonth()]}function J(se){return a[se.getMonth()]}function oe(se){return i[+(se.getHours()>=12)]}function Z(se){return 1+~~(se.getMonth()/3)}function le(se){return s[se.getUTCDay()]}function Ie(se){return o[se.getUTCDay()]}function Le(se){return l[se.getUTCMonth()]}function et(se){return a[se.getUTCMonth()]}function At(se){return i[+(se.getUTCHours()>=12)]}function Dt(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ye=P(se+="",T);return ye.toString=function(){return se},ye},parse:function(se){var ye=S(se+="",!1);return ye.toString=function(){return se},ye},utcFormat:function(se){var ye=P(se+="",N);return ye.toString=function(){return se},ye},utcParse:function(se){var ye=S(se+="",!0);return ye.toString=function(){return se},ye}}}var bC={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,goe=/^%/,yoe=/[\\^$*+?|[\]().{}]/g;function je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function voe(t){return t.replace(yoe,"\\$&")}function ku(t){return new RegExp("^(?:"+t.map(voe).join("|")+")","i")}function Ru(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _oe(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EC(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TC(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Toe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Soe(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aoe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SC(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AC(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Roe(t,e,n){var r=goe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Moe(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ooe(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IC(t,e){return je(t.getDate(),e,2)}function Doe(t,e){return je(t.getHours(),e,2)}function Loe(t,e){return je(t.getHours()%12||12,e,2)}function $oe(t,e){return je(1+Xf.count(Di(t),t),e,3)}function y$(t,e){return je(t.getMilliseconds(),e,3)}function Voe(t,e){return y$(t,e)+"000"}function joe(t,e){return je(t.getMonth()+1,e,2)}function Uoe(t,e){return je(t.getMinutes(),e,2)}function Foe(t,e){return je(t.getSeconds(),e,2)}function Boe(t){var e=t.getDay();return e===0?7:e}function Goe(t,e){return je(Bg.count(Di(t)-1,t),e,2)}function v$(t){var e=t.getDay();return e>=4||e===0?yl(t):yl.ceil(t)}function zoe(t,e){return t=v$(t),je(yl.count(Di(t),t)+(Di(t).getDay()===4),e,2)}function qoe(t){return t.getDay()}function Hoe(t,e){return je(Jp.count(Di(t)-1,t),e,2)}function Woe(t,e){return je(t.getFullYear()%100,e,2)}function Koe(t,e){return t=v$(t),je(t.getFullYear()%100,e,2)}function Joe(t,e){return je(t.getFullYear()%1e4,e,4)}function Yoe(t,e){var n=t.getDay();return t=n>=4||n===0?yl(t):yl.ceil(t),je(t.getFullYear()%1e4,e,4)}function Xoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+je(e/60|0,"0",2)+je(e%60,"0",2)}function CC(t,e){return je(t.getUTCDate(),e,2)}function Qoe(t,e){return je(t.getUTCHours(),e,2)}function Zoe(t,e){return je(t.getUTCHours()%12||12,e,2)}function ese(t,e){return je(1+Fg.count(Li(t),t),e,3)}function _$(t,e){return je(t.getUTCMilliseconds(),e,3)}function tse(t,e){return _$(t,e)+"000"}function nse(t,e){return je(t.getUTCMonth()+1,e,2)}function rse(t,e){return je(t.getUTCMinutes(),e,2)}function ise(t,e){return je(t.getUTCSeconds(),e,2)}function ose(t){var e=t.getUTCDay();return e===0?7:e}function sse(t,e){return je(Gg.count(Li(t)-1,t),e,2)}function x$(t){var e=t.getUTCDay();return e>=4||e===0?vl(t):vl.ceil(t)}function ase(t,e){return t=x$(t),je(vl.count(Li(t),t)+(Li(t).getUTCDay()===4),e,2)}function lse(t){return t.getUTCDay()}function use(t,e){return je(Yp.count(Li(t)-1,t),e,2)}function cse(t,e){return je(t.getUTCFullYear()%100,e,2)}function fse(t,e){return t=x$(t),je(t.getUTCFullYear()%100,e,2)}function dse(t,e){return je(t.getUTCFullYear()%1e4,e,4)}function hse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vl(t):vl.ceil(t),je(t.getUTCFullYear()%1e4,e,4)}function pse(){return"+0000"}function PC(){return"%"}function NC(t){return+t}function kC(t){return Math.floor(+t/1e3)}var oa,w$,b$;mse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mse(t){return oa=moe(t),w$=oa.format,oa.parse,b$=oa.utcFormat,oa.utcParse,oa}function gse(t){return new Date(t)}function yse(t){return t instanceof Date?+t:+new Date(+t)}function UE(t,e,n,r,i,o,s,a,l,u){var c=AE(),f=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),w=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),b=u("%b %d"),T=u("%B"),N=u("%Y");function A(P){return(l(P)<P?y:a(P)<P?v:s(P)<P?w:o(P)<P?x:r(P)<P?i(P)<P?_:b:n(P)<P?T:N)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?h(Array.from(P,yse)):h().map(gse)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?A:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(l$(S,P)):c},c.copy=function(){return Yf(c,UE(t,e,n,r,i,o,s,a,l,u))},c}function vse(){return yr.apply(UE(hoe,poe,Di,VE,Bg,Xf,LE,OE,ms,w$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _se(){return yr.apply(UE(foe,doe,Li,jE,Gg,Fg,$E,DE,ms,b$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zg(){var t=0,e=1,n,r,i,o,s=_n,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=c(Ql),u.rangeRound=c(SE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function E$(){var t=Go(zg()(_n));return t.copy=function(){return zo(t,E$())},Gi.apply(t,arguments)}function T$(){var t=PE(zg()).domain([1,10]);return t.copy=function(){return zo(t,T$()).base(t.base())},Gi.apply(t,arguments)}function S$(){var t=NE(zg());return t.copy=function(){return zo(t,S$()).constant(t.constant())},Gi.apply(t,arguments)}function FE(){var t=kE(zg());return t.copy=function(){return zo(t,FE()).exponent(t.exponent())},Gi.apply(t,arguments)}function xse(){return FE.apply(null,arguments).exponent(.5)}function A$(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>sie(t,o/r))},n.copy=function(){return A$(e).domain(t)},Gi.apply(n,arguments)}function qg(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=_n,c,f=!1,h;function y(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(f?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(f=!!w,y):f},y.interpolator=function(w){return arguments.length?(u=w,y):u};function v(w){return function(x){var _,b,T;return arguments.length?([_,b,T]=x,u=Rie(w,[_,b,T]),y):[u(0),u(.5),u(1)]}}return y.range=v(Ql),y.rangeRound=v(SE),y.unknown=function(w){return arguments.length?(h=w,y):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function I$(){var t=Go(qg()(_n));return t.copy=function(){return zo(t,I$())},Gi.apply(t,arguments)}function C$(){var t=PE(qg()).domain([.1,1,10]);return t.copy=function(){return zo(t,C$()).base(t.base())},Gi.apply(t,arguments)}function P$(){var t=NE(qg());return t.copy=function(){return zo(t,P$()).constant(t.constant())},Gi.apply(t,arguments)}function BE(){var t=kE(qg());return t.copy=function(){return zo(t,BE()).exponent(t.exponent())},Gi.apply(t,arguments)}function wse(){return BE.apply(null,arguments).exponent(.5)}const RC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kc,scaleDiverging:I$,scaleDivergingLog:C$,scaleDivergingPow:BE,scaleDivergingSqrt:wse,scaleDivergingSymlog:P$,scaleIdentity:a$,scaleImplicit:j_,scaleLinear:Wp,scaleLog:u$,scaleOrdinal:bE,scalePoint:cc,scalePow:RE,scaleQuantile:d$,scaleQuantize:h$,scaleRadial:f$,scaleSequential:E$,scaleSequentialLog:T$,scaleSequentialPow:FE,scaleSequentialQuantile:A$,scaleSequentialSqrt:xse,scaleSequentialSymlog:S$,scaleSqrt:toe,scaleSymlog:c$,scaleThreshold:p$,scaleTime:vse,scaleUtc:_se,tickFormat:s$},Symbol.toStringTag,{value:"Module"}));var bse=Bl;function Ese(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!bse(s):n(s,a)))var a=s,l=o}return l}var N$=Ese;function Tse(t,e){return t>e}var Sse=Tse,Ase=N$,Ise=Sse,Cse=Yl;function Pse(t){return t&&t.length?Ase(t,Cse,Ise):void 0}var Nse=Pse;const po=Ye(Nse);function kse(t,e){return t<e}var Rse=kse,Mse=N$,Ose=Rse,Dse=Yl;function Lse(t){return t&&t.length?Mse(t,Dse,Ose):void 0}var $se=Lse;const Hg=Ye($se);var Vse=tE,jse=Bo,Use=jL,Fse=Ln;function Bse(t,e){var n=Fse(t)?Vse:Use;return n(t,jse(e))}var Gse=Bse,zse=$L,qse=Gse;function Hse(t,e){return zse(qse(t,e),1)}var Wse=Hse;const Kse=Ye(Wse);var Jse=gE;function Yse(t,e){return Jse(t,e)}var Xse=Yse;const Zc=Ye(Xse);var Zl=1e9,Qse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zE,ut=!0,hr="[DecimalError] ",Ts=hr+"Invalid argument: ",GE=hr+"Exponent out of range: ",eu=Math.floor,as=Math.pow,Zse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Ut=1e7,ot=7,k$=9007199254740991,Xp=eu(k$/ot),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return bi(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return Je(bi(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return St(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fn))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Fn)?new r(0):(ut=!1,e=bi(ef(n,o),ef(t,o),o),ut=!0,Je(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?O$(e,t):R$(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(ut=!1,e=bi(n,t,0,1).times(t),ut=!0,n.minus(e)):Je(new r(n),i)};de.naturalExponential=de.exp=function(){return M$(this)};de.naturalLogarithm=de.ln=function(){return ef(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?R$(e,t):O$(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=St(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hr+"NaN")}for(t=St(a),ut=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=eu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(bi(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Je(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ut=!0,Je(r,n)};de.times=de.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,y=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Ut|0,e=a/Ut|0;o[i]=(o[i]+e)%Ut|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?Je(t,f.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ei(t,0,Zl),e===void 0?e=r.rounding:ei(e,0,8),Je(n,t+St(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$s(r,!0):(ei(t,0,Zl),e===void 0?e=i.rounding:ei(e,0,8),r=Je(new i(r),t+1,e),n=$s(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?$s(i):(ei(t,0,Zl),e===void 0?e=o.rounding:ei(e,0,8),r=Je(new o(i),t+St(i)+1,e),n=$s(r.abs(),!1,t+St(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return Je(new e(t),St(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Fn);if(a=new l(a),!a.s){if(t.s<1)throw Error(hr+"Infinity");return a}if(a.eq(Fn))return a;if(r=l.precision,t.eq(Fn))return Je(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=k$){for(i=new l(Fn),e=Math.ceil(r/ot+4),ut=!1;n%2&&(i=i.times(a),OC(i.d,e)),n=eu(n/2),n!==0;)a=a.times(a),OC(a.d,e);return ut=!0,t.s<0?new l(Fn).div(i):Je(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ut=!1,i=t.times(ef(a,r+u)),ut=!0,i=M$(i),i.s=o,i};de.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=St(i),r=$s(i,n<=o.toExpNeg||n>=o.toExpPos)):(ei(t,1,Zl),e===void 0?e=o.rounding:ei(e,0,8),i=Je(new o(i),t,e),n=St(i),r=$s(i,t<=n||n<=o.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ei(t,1,Zl),e===void 0?e=r.rounding:ei(e,0,8)),Je(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=St(t),n=t.constructor;return $s(t,e<=n.toExpNeg||e>=n.toExpPos)};function R$(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ut?Je(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/ot),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ut|0,l[o]%=Ut;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ut?Je(e,f):e}function ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(o+=no(n)),o+=r;s=t[e],r=s+"",n=ot-r.length,n&&(o+=no(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var bi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ut|0,s=o/Ut|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ut+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,y,v,w,x,_,b,T,N,A,P,S,C,I=r.constructor,R=r.s==i.s?1:-1,O=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,S=D.length,A=O.length,y=new I(R),v=y.d=[],u=0;D[u]==(O[u]||0);)++u;if(D[u]>(O[u]||0)&&--l,o==null?b=o=I.precision:s?b=o+(St(r)-St(i))+1:b=o,b<0)return new I(0);if(b=b/ot+2|0,u=0,S==1)for(c=0,D=D[0],b++;(u<A||c)&&b--;u++)T=c*Ut+(O[u]||0),v[u]=T/D|0,c=T%D|0;else{for(c=Ut/(D[0]+1)|0,c>1&&(D=t(D,c),O=t(O,c),S=D.length,A=O.length),N=S,w=O.slice(0,S),x=w.length;x<S;)w[x++]=0;C=D.slice(),C.unshift(0),P=D[0],D[1]>=Ut/2&&++P;do c=0,a=e(D,w,S,x),a<0?(_=w[0],S!=x&&(_=_*Ut+(w[1]||0)),c=_/P|0,c>1?(c>=Ut&&(c=Ut-1),f=t(D,c),h=f.length,x=w.length,a=e(f,w,h,x),a==1&&(c--,n(f,S<h?C:D,h))):(c==0&&(a=c=1),f=D.slice()),h=f.length,h<x&&f.unshift(0),n(w,f,x),a==-1&&(x=w.length,a=e(D,w,S,x),a<1&&(c++,n(w,S<x?C:D,x))),x=w.length):a===0&&(c++,w=[0]),v[u++]=c,a&&w[0]?w[x++]=O[N]||0:(w=[O[N]],x=1);while((N++<A||w[0]!==void 0)&&b--)}return v[0]||v.shift(),y.e=l,Je(y,s?o+St(y)+1:o)}}();function M$(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(St(t)>16)throw Error(GE+St(t));if(!t.s)return new c(Fn);for(ut=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(as(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Fn),c.precision=a;;){if(i=Je(i.times(t),a),n=n.times(++l),s=o.plus(bi(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;u--;)o=Je(o.times(o),a);return c.precision=f,e==null?(ut=!0,Je(o,f)):o}o=s}}function St(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function Rv(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function no(t){for(var e="";t--;)e+="0";return e}function ef(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,y=t,v=y.d,w=y.constructor,x=w.precision;if(y.s<1)throw Error(hr+(y.s?"NaN":"-Infinity"));if(y.eq(Fn))return new w(0);if(e==null?(ut=!1,u=x):u=e,y.eq(10))return e==null&&(ut=!0),Rv(w,u);if(u+=h,w.precision=u,n=Gr(v),r=n.charAt(0),o=St(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Gr(y.d),r=n.charAt(0),f++;o=St(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return l=Rv(w,u+2,x).times(o+""),y=ef(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=x,e==null?(ut=!0,Je(y,x)):y;for(a=s=y=bi(y.minus(Fn),y.plus(Fn),u),c=Je(y.times(y),u),i=3;;){if(s=Je(s.times(c),u),l=a.plus(bi(s,new w(i),u)),Gr(l.d).slice(0,u)===Gr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Rv(w,u+2,x).times(o+""))),a=bi(a,new w(f),u),w.precision=x,e==null?(ut=!0,Je(a,x)):a;a=l,i+=2}}function MC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=eu(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>Xp||t.e<-Xp))throw Error(GE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=ot,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/ot),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=ot,i=r-ot+s}if(n!==void 0&&(o=as(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/as(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=St(t),f.length=1,e=e-o-1,f[0]=as(10,(ot-e%ot)%ot),t.e=eu(-e/ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=as(10,ot-r),f[c]=i>0?(u/as(10,s-i)%as(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ut&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ut)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ut&&(t.e>Xp||t.e<-Xp))throw Error(GE+St(t));return t}function O$(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ut?Je(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/ot),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ut-1;--l[o],l[i]+=Ut}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?Je(e,y):e):new h(0)}function $s(t,e,n){var r,i=St(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+no(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+no(-i-1)+o,n&&(r=n-s)>0&&(o+=no(r))):i>=s?(o+=no(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+no(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=no(r))),t.s<0?"-"+o:o}function OC(t,e){if(t.length>e)return t.length=e,!0}function D$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return MC(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Zse.test(o))MC(s,o);else throw Error(Ts+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D$,i.config=i.set=eae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function eae(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,Zl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(eu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var zE=D$(Qse);Fn=new zE(1);const We=zE;function tae(t){return oae(t)||iae(t)||rae(t)||nae()}function nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function iae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oae(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sae=function(e){return e},L$={},$$=function(e){return e===L$},DC=function(e){return function n(){return arguments.length===0||arguments.length===1&&$$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},aae=function t(e,n){return e===1?n:DC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==L$}).length;return s>=e?n.apply(void 0,i):t(e-s,DC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return $$(f)?l.shift():f});return n.apply(void 0,tae(c).concat(l))}))})},Wg=function(e){return aae(e.length,e)},z_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lae=Wg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),uae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sae;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},q_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},V$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function cae(t){var e;return t===0?e=1:e=Math.floor(new We(t).abs().log(10).toNumber())+1,e}function fae(t,e,n){for(var r=new We(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var dae=Wg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),hae=Wg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pae=Wg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kg={rangeStep:fae,getDigitCount:cae,interpolateNumber:dae,uninterpolateNumber:hae,uninterpolateTruncation:pae};function H_(t){return yae(t)||gae(t)||j$(t)||mae()}function mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yae(t){if(Array.isArray(t))return W_(t)}function tf(t,e){return xae(t)||_ae(t,e)||j$(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j$(t,e){if(t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function xae(t){if(Array.isArray(t))return t}function U$(t){var e=tf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function F$(t,e,n){if(t.lte(0))return new We(0);var r=Kg.getDigitCount(t.toNumber()),i=new We(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new We(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new We(Math.ceil(l))}function wae(t,e,n){var r=1,i=new We(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new We(10).pow(Kg.getDigitCount(t)-1),i=new We(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new We(Math.floor(t)))}else t===0?i=new We(Math.floor((e-1)/2)):n||(i=new We(Math.floor(t)));var s=Math.floor((e-1)/2),a=uae(lae(function(l){return i.add(new We(l-s).mul(r)).toNumber()}),z_);return a(0,e)}function B$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var o=F$(new We(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new We(0):(s=new We(t).add(e).div(2),s=s.sub(new We(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new We(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?B$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new We(a).mul(o)),tickMax:s.add(new We(l).mul(o))})}function bae(t){var e=tf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=U$([n,r]),l=tf(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(H_(z_(0,i-1).map(function(){return 1/0}))):[].concat(H_(z_(0,i-1).map(function(){return-1/0})),[c]);return n>r?q_(f):f}if(u===c)return wae(u,i,o);var h=B$(u,c,s,o),y=h.step,v=h.tickMin,w=h.tickMax,x=Kg.rangeStep(v,w.add(new We(.1).mul(y)),y);return n>r?q_(x):x}function Eae(t,e){var n=tf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=U$([r,i]),a=tf(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=F$(new We(u).sub(l).div(c-1),o,0),h=[].concat(H_(Kg.rangeStep(new We(l),new We(u).sub(new We(.99).mul(f)),f)),[u]);return r>i?q_(h):h}var Tae=V$(bae),Sae=V$(Eae),Aae="Invariant failed";function Vs(t,e){throw new Error(Aae)}var Iae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function Cae(t,e){return Rae(t)||kae(t,e)||Nae(t,e)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(t,e){if(t){if(typeof t=="string")return LC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(t,e)}}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rae(t){if(Array.isArray(t))return t}function Mae(t,e){if(t==null)return{};var n=Oae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q$(r.key),r)}}function $ae(t,e,n){return e&&Lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vae(t,e,n){return e=Zp(e),jae(t,G$()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function jae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(t)}function Uae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function z$(t,e,n){return e=q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=Bae(t,"string");return _l(e)=="symbol"?e:e+""}function Bae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jg=function(t){function e(){return Dae(this,e),Vae(this,e,arguments)}return Fae(e,t),$ae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Mae(r,Iae),y=Ce(h,!1);this.props.direction==="x"&&c.type!=="number"&&Vs();var v=l.map(function(w){var x=u(w,a),_=x.x,b=x.y,T=x.value,N=x.errorVal;if(!N)return null;var A=[],P,S;if(Array.isArray(N)){var C=Cae(N,2);P=C[0],S=C[1]}else P=S=N;if(o==="vertical"){var I=c.scale,R=b+i,O=R+s,D=R-s,M=I(T-P),F=I(T+S);A.push({x1:F,y1:O,x2:F,y2:D}),A.push({x1:M,y1:R,x2:F,y2:R}),A.push({x1:M,y1:O,x2:M,y2:D})}else if(o==="horizontal"){var B=f.scale,K=_+i,W=K-s,U=K+s,H=B(T-P),J=B(T+S);A.push({x1:W,y1:J,x2:U,y2:J}),A.push({x1:K,y1:H,x2:K,y2:J}),A.push({x1:W,y1:H,x2:U,y2:H})}return $.createElement(dt,Qp({className:"recharts-errorBar",key:"bar-".concat(A.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},y),A.map(function(oe){return $.createElement("line",Qp({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return $.createElement(dt,{className:"recharts-errorBars"},v)}}])}($.Component);z$(Jg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});z$(Jg,"displayName","ErrorBar");function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return e=zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=qae(t,"string");return nf(e)=="symbol"?e:e+""}function qae(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Un(n,Fa);if(!s)return null;var a=Fa.defaultProps,l=a!==void 0?ts(ts({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return c.concat(v.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,y=h!==void 0?ts(ts({},h),f.props):{},v=y.dataKey,w=y.name,x=y.legendType,_=y.hide;return{inactive:_,dataKey:v,type:l.iconType||x||"square",color:qE(f),value:w||v,payload:y}}),ts(ts(ts({},l),Fa.getWithHeight(s,i)),{},{payload:u,item:s})};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function VC(t){return Jae(t)||Kae(t)||Wae(t)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wae(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function Kae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jae(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){Ga(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ga(t,e,n){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Xae(t,"string");return rf(e)=="symbol"?e:e+""}function Xae(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,n){return ke(t)||ke(e)?n:kt(e)?ur(t,e,n):Se(e)?e(t):n}function fc(t,e,n,r){var i=Kse(t,function(a){return Wn(a,e)});if(n==="number"){var o=i.filter(function(a){return te(a)||parseFloat(a)});return o.length?[Hg(o),po(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!ke(a)}):i;return s.map(function(a){return kt(a)||a instanceof Date?a:""})}var Qae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Cr(f-c)!==Cr(h-f)){var v=[];if(Cr(h-f)===Cr(l[1]-l[0])){y=h;var w=f+l[1]-l[0];v[0]=Math.min(w,(w+c)/2),v[1]=Math.max(w,(w+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var b=Math.min(c,h),T=Math.max(c,h);if(e>(b+f)/2&&e<=(T+f)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},qE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Zae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,y=f.length;h<y;h++){var v=c[f[h]],w=v.items,x=v.cateAxisId,_=w.filter(function(S){return xi(S.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,T=b!==void 0?vt(vt({},b),_[0].props):_[0].props,N=T.barSize,A=T[x];s[A]||(s[A]=[]);var P=ke(N)?n:N;s[A].push({item:_[0],stackList:_.slice(1),barSize:ke(P)?void 0:Ls(P,r,0)})}}return s},ele=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Ls(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(N,A){return N+A.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var w=(i-v)/2>>0,x={offset:w-u,size:0};c=s.reduce(function(N,A){var P={item:A.item,position:{offset:x.offset+x.size+u,size:h?y:A.barSize}},S=[].concat(VC(N),[P]);return x=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:x})}),S},f)}else{var _=Ls(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var b=(i-2*_-(l-1)*u)/l;b>1&&(b>>=0);var T=a===+a?Math.min(b,a):b;c=s.reduce(function(N,A,P){var S=[].concat(VC(N),[{item:A.item,position:{offset:_+(b+u)*P+(b-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return c},tle=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=H$({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,y=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&y!=="center"&&te(e[y]))return vt(vt({},e),{},Ga({},y,e[y]+(f||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&v!=="middle"&&te(e[v]))return vt(vt({},e),{},Ga({},v,e[v]+(h||0)))}return e},nle=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},W$=function(e,n,r,i,o){var s=n.props.children,a=Rr(s,Jg).filter(function(u){return nle(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Wn(c,r);if(ke(f))return u;var h=Array.isArray(f)?[Hg(f),po(f)]:[f,f],y=l.reduce(function(v,w){var x=Wn(c,w,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},rle=function(e,n,r,i,o){var s=n.map(function(a){return W$(e,a,r,o,i)}).filter(function(a){return!ke(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},K$=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&W$(e,l,u,i)||fc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},J$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Y$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},vi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Cr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Wl(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Mv=new WeakMap,Qd=function(e,n){if(typeof n!="function")return e;Mv.has(e)||Mv.set(e,new WeakMap);var r=Mv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ile=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Kc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Wp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:cc(),realScaleType:"point"}:o==="category"?{scale:Kc(),realScaleType:"band"}:{scale:Wp(),realScaleType:"linear"};if(Ds(i)){var l="scale".concat(Mg(i));return{scale:(RC[l]||cc)(),realScaleType:RC[l]?l:"point"}}return Se(i)?{scale:i}:{scale:cc(),realScaleType:"point"}},UC=1e-4,ole=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-UC,s=Math.max(i[0],i[1])+UC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},sle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ale=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},lle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Wl(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},ule=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Wl(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},cle={sign:lle,expand:SK,none:fl,silhouette:AK,wiggle:IK,positive:ule},fle=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=cle[r],s=TK().keys(i).value(function(a,l){return+Wn(a,l,0)}).order(x_).offset(o);return s(e)},dle=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?vt(vt({},h.type.defaultProps),h.props):h.props,w=v.stackId,x=v.hide;if(x)return f;var _=v[r],b=f[_]||{hasStack:!1,stackGroups:{}};if(kt(w)){var T=b.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(h),b.hasStack=!0,b.stackGroups[w]=T}else b.stackGroups[Hf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return vt(vt({},f),{},Ga({},_,b))},l),c={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,x){var _=y.stackGroups[x];return vt(vt({},w),{},Ga({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:fle(e,_.items,o)}))},v)}return vt(vt({},f),{},Ga({},h,y))},c)},hle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Tae(u,o,a);return e.domain([Hg(c),po(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Sae(f,o,a);return{niceTicks:h}}return null};function FC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(i[e.dataKey])){var a=Ep(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Wn(i,ke(s)?e.dataKey:s);return ke(l)?null:e.scale(l)}var BC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Wn(s,n.dataKey,n.domain[a]);return ke(l)?null:n.scale(l)-o/2+i},ple=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},mle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(kt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},gle=function(e){return e.reduce(function(n,r){return[Hg(r.concat([n[0]]).filter(te)),po(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},X$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=gle(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},GC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y_=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(GC.test(e[0])){var o=+GC.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zC.test(e[1])){var s=+zC.exec(e[1])[1];i[1]=n[1]+s}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},em=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=vE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},qC=function(e,n,r){return!e||!e.length||Zc(e,ur(r,"type.defaultProps.domain"))?n:e},Q$=function(e,n){var r=e.type.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return vt(vt({},Ce(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:qE(e),value:Wn(n,i),type:l,payload:n,chartType:u,hide:c})};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return e=vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=_le(t,"string");return of(e)=="symbol"?e:e+""}function _le(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tm=Math.PI/180,xle=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-tm*i)*r,y:n+Math.sin(-tm*i)*r}},wle=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},ble=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=wle({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:xle(u),angleInRadian:u}},Ele=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Tle=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},KC=function(e,n){var r=e.x,i=e.y,o=ble({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Ele(n),f=c.startAngle,h=c.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?WC(WC({},n),{},{radius:s,angle:Tle(y,n)}):null};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var Sle=["offset"];function Ale(t){return Nle(t)||Ple(t)||Cle(t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function Ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nle(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kle(t,e){if(t==null)return{};var n=Rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return e=Ole(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Dle(t,"string");return sf(e)=="symbol"?e:e+""}function Dle(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}var Lle=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return Se(r)?r(i):i},$le=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Vle=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,w=l.clockWise,x=(f+h)/2,_=$le(y,v),b=_>=0?1:-1,T,N;i==="insideStart"?(T=y+b*s,N=w):i==="insideEnd"?(T=v-b*s,N=!w):i==="end"&&(T=v+b*s,N=w),N=_<=0?N:!N;var A=Xt(u,c,x,T),P=Xt(u,c,x,T+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),C=ke(e.id)?Hf("recharts-radial-line-"):e.id;return $.createElement("text",af({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:C,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(C)},n))},jle=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var y=Xt(s,a,u+r,h),v=y.x,w=y.y;return{x:v,y:w,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,_=Xt(s,a,x,h),b=_.x,T=_.y;return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Ule=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",w=u>=0?1:-1,x=w*i,_=w>0?"end":"start",b=w>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return Ct(Ct({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return Ct(Ct({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Ct(Ct({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:a+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Ct(Ct({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Ct({x:a+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?Ct({x:a+u-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideTop"?Ct({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):o==="insideBottom"?Ct({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},S):o==="insideTopLeft"?Ct({x:a+x,y:l+h,textAnchor:b,verticalAnchor:v},S):o==="insideTopRight"?Ct({x:a+u-x,y:l+h,textAnchor:_,verticalAnchor:v},S):o==="insideBottomLeft"?Ct({x:a+x,y:l+c-h,textAnchor:b,verticalAnchor:y},S):o==="insideBottomRight"?Ct({x:a+u-x,y:l+c-h,textAnchor:_,verticalAnchor:y},S):Gl(o)&&(te(o.x)||hs(o.x))&&(te(o.y)||hs(o.y))?Ct({x:a+Ls(o.x,u),y:l+Ls(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Ct({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Fle=function(e){return"cx"in e&&te(e.cx)};function dn(t){var e=t.offset,n=e===void 0?5:e,r=kle(t,Sle),i=Ct({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ke(a)&&ke(l)&&!V.isValidElement(u)&&!Se(u))return null;if(V.isValidElement(u))return V.cloneElement(u,i);var y;if(Se(u)){if(y=V.createElement(u,i),V.isValidElement(y))return y}else y=Lle(i);var v=Fle(o),w=Ce(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Vle(i,y,w);var x=v?jle(i):Ule(i);return $.createElement(jp,af({className:De("recharts-label",f)},w,x,{breakAll:h}),y)}dn.displayName="Label";var Z$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,w=e.width,x=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(te(w)&&te(x)){if(te(f)&&te(h))return{x:f,y:h,width:w,height:x};if(te(y)&&te(v))return{x:y,y:v,width:w,height:x}}return te(f)&&te(h)?{x:f,y:h,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},Ble=function(e,n){return e?e===!0?$.createElement(dn,{key:"label-implicit",viewBox:n}):kt(e)?$.createElement(dn,{key:"label-implicit",viewBox:n,value:e}):V.isValidElement(e)?e.type===dn?V.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):Se(e)?$.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):Gl(e)?$.createElement(dn,af({viewBox:n},e,{key:"label-implicit"})):null:null},Gle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Z$(e),s=Rr(i,dn).map(function(l,u){return V.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Ble(e.label,n||o);return[a].concat(Ale(s))};dn.parseViewBox=Z$;dn.renderCallByParent=Gle;function zle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qle=zle;const Hle=Ye(qle);function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}var Wle=["valueAccessor"],Kle=["data","dataKey","clockWise","id","textBreakAll"];function Jle(t){return Zle(t)||Qle(t)||Xle(t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function Qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zle(t){if(Array.isArray(t))return Q_(t)}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return e=tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return lf(e)=="symbol"?e:e+""}function nue(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QC(t,e){if(t==null)return{};var n=rue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iue=function(e){return Array.isArray(e.value)?Hle(e.value):e.value};function No(t){var e=t.valueAccessor,n=e===void 0?iue:e,r=QC(t,Wle),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=QC(r,Kle);return!i||!i.length?null:$.createElement(dt,{className:"recharts-label-list"},i.map(function(c,f){var h=ke(o)?n(c,f):Wn(c&&c.payload,o),y=ke(a)?{}:{id:"".concat(a,"-").concat(f)};return $.createElement(dn,nm({},Ce(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:dn.parseViewBox(ke(s)?c:XC(XC({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}No.displayName="LabelList";function oue(t,e){return t?t===!0?$.createElement(No,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Se(t)?$.createElement(No,{key:"labelList-implicit",data:e,content:t}):Gl(t)?$.createElement(No,nm({data:e},t,{key:"labelList-implicit"})):null:null}function sue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Rr(r,No).map(function(s,a){return V.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=oue(t.label,e);return[o].concat(Jle(i))}No.renderCallByParent=sue;function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return e=lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return uf(e)=="symbol"?e:e+""}function uue(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cue=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Zd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/tm,h=u?o:o+s*f,y=Xt(n,r,c,h),v=Xt(n,r,i,h),w=u?o-s*f:o,x=Xt(n,r,c*Math.cos(f*tm),w);return{center:y,circleTangency:v,lineTangency:x,theta:f}},eV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=cue(s,a),u=s+l,c=Xt(n,r,o,s),f=Xt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Xt(n,r,i,s),v=Xt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},fue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Cr(c-u),h=Zd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,w=h.theta,x=Zd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),_=x.circleTangency,b=x.lineTangency,T=x.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-T;if(N<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Zd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=P.circleTangency,C=P.lineTangency,I=P.theta,R=Zd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=R.circleTangency,D=R.lineTangency,M=R.theta,F=l?Math.abs(u-c):Math.abs(u-c)-I-M;if(F<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},due={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tV=function(e){var n=eP(eP({},due),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var y=De("recharts-sector",h),v=s-o,w=Ls(a,v,0,!0),x;return w>0&&Math.abs(c-f)<360?x=fue({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=eV({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),$.createElement("path",Z_({},Ce(n,!0),{className:y,d:x,role:"img"}))};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return e=pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t){var e=mue(t,"string");return cf(e)=="symbol"?e:e+""}function mue(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rP={curveBasisClosed:hK,curveBasisOpen:pK,curveBasis:dK,curveBumpX:Q7,curveBumpY:Z7,curveLinearClosed:mK,curveLinear:Dg,curveMonotoneX:gK,curveMonotoneY:yK,curveNatural:vK,curveStep:_K,curveStepAfter:wK,curveStepBefore:xK},eh=function(e){return e.x===+e.x&&e.y===+e.y},Mu=function(e){return e.x},Ou=function(e){return e.y},gue=function(e,n){if(Se(e))return e;var r="curve".concat(Mg(e));return(r==="curveMonotone"||r==="curveBump")&&n?rP["".concat(r).concat(n==="vertical"?"Y":"X")]:rP[r]||Dg},yue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=gue(r,a),f=u?o.filter(function(w){return eh(w)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(w){return eh(w)}):s,v=f.map(function(w,x){return nP(nP({},w),{},{base:y[x]})});return a==="vertical"?h=zd().y(Ou).x1(Mu).x0(function(w){return w.base.x}):h=zd().x(Mu).y1(Ou).y0(function(w){return w.base.y}),h.defined(eh).curve(c),h(v)}return a==="vertical"&&te(s)?h=zd().y(Ou).x1(Mu).x0(s):te(s)?h=zd().x(Mu).y1(Ou).y0(s):h=nL().x(Mu).y(Ou),h.defined(eh).curve(c),h(f)},dc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?yue(e):i;return V.createElement("path",ex({},Ce(e,!1),Tp(e),{className:De("recharts-curve",n),d:s,ref:o}))},nV={exports:{}},vue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_ue=vue,xue=_ue;function rV(){}function iV(){}iV.resetWarningCache=rV;var wue=function(){function t(r,i,o,s,a,l){if(l!==xue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iV,resetWarningCache:rV};return n.PropTypes=n,n};nV.exports=wue();var bue=nV.exports;const Be=Ye(bue),{getOwnPropertyNames:Eue,getOwnPropertySymbols:Tue}=Object,{hasOwnProperty:Sue}=Object.prototype;function Ov(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function th(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Aue(t){return t!=null?t[Symbol.toStringTag]:void 0}function iP(t){return Eue(t).concat(Tue(t))}const Iue=Object.hasOwn||((t,e)=>Sue.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cue="__v",Pue="__o",Nue="_owner",{getOwnPropertyDescriptor:oP,keys:sP}=Object;function kue(t,e){return t.byteLength===e.byteLength&&rm(new Uint8Array(t),new Uint8Array(e))}function Rue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mue(t,e){return t.byteLength===e.byteLength&&rm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Oue(t,e){return Js(t.getTime(),e.getTime())}function Due(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Lue(t,e){return t===e}function aP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const $ue=Js;function Vue(t,e,n){const r=sP(t);let i=r.length;if(sP(e).length!==i)return!1;for(;i-- >0;)if(!oV(t,e,n,r[i]))return!1;return!0}function Du(t,e,n){const r=iP(t);let i=r.length;if(iP(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!oV(t,e,n,o)||(s=oP(t,o),a=oP(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function jue(t,e){return Js(t.valueOf(),e.valueOf())}function Uue(t,e){return t.source===e.source&&t.flags===e.flags}function lP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function rm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Fue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oV(t,e,n,r){return(r===Nue||r===Pue||r===Cue)&&(t.$$typeof||e.$$typeof)?!0:Iue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Bue="[object ArrayBuffer]",Gue="[object Arguments]",zue="[object Boolean]",que="[object DataView]",Hue="[object Date]",Wue="[object Error]",Kue="[object Map]",Jue="[object Number]",Yue="[object Object]",Xue="[object RegExp]",Que="[object Set]",Zue="[object String]",ece={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},tce="[object URL]",nce=Object.prototype.toString;function rce({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,_,b){if(x===_)return!0;if(x==null||_==null)return!1;const T=typeof x;if(T!==typeof _)return!1;if(T!=="object")return T==="number"?a(x,_,b):T==="function"?o(x,_,b):!1;const N=x.constructor;if(N!==_.constructor)return!1;if(N===Object)return l(x,_,b);if(Array.isArray(x))return e(x,_,b);if(N===Date)return r(x,_,b);if(N===RegExp)return c(x,_,b);if(N===Map)return s(x,_,b);if(N===Set)return f(x,_,b);const A=nce.call(x);if(A===Hue)return r(x,_,b);if(A===Xue)return c(x,_,b);if(A===Kue)return s(x,_,b);if(A===Que)return f(x,_,b);if(A===Yue)return typeof x.then!="function"&&typeof _.then!="function"&&l(x,_,b);if(A===tce)return y(x,_,b);if(A===Wue)return i(x,_,b);if(A===Gue)return l(x,_,b);if(ece[A])return h(x,_,b);if(A===Bue)return t(x,_,b);if(A===que)return n(x,_,b);if(A===zue||A===Jue||A===Zue)return u(x,_,b);if(v){let P=v[A];if(!P){const S=Aue(x);S&&(P=v[S])}if(P)return P(x,_,b)}return!1}}function ice({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:kue,areArraysEqual:n?Du:Rue,areDataViewsEqual:Mue,areDatesEqual:Oue,areErrorsEqual:Due,areFunctionsEqual:Lue,areMapsEqual:n?Ov(aP,Du):aP,areNumbersEqual:$ue,areObjectsEqual:n?Du:Vue,arePrimitiveWrappersEqual:jue,areRegExpsEqual:Uue,areSetsEqual:n?Ov(lP,Du):lP,areTypedArraysEqual:n?Ov(rm,Du):rm,areUrlsEqual:Fue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=th(r.areArraysEqual),o=th(r.areMapsEqual),s=th(r.areObjectsEqual),a=th(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function oce(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function sce({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const ace=qo();qo({strict:!0});qo({circular:!0});qo({circular:!0,strict:!0});qo({createInternalComparator:()=>Js});qo({strict:!0,createInternalComparator:()=>Js});qo({circular:!0,createInternalComparator:()=>Js});qo({circular:!0,createInternalComparator:()=>Js,strict:!0});function qo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=ice(t),s=rce(o),a=n?n(s):oce(s);return sce({circular:e,comparator:s,createState:r,equals:a,strict:i})}function lce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):lce(i)};requestAnimationFrame(r)}function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function uce(t){return hce(t)||dce(t)||fce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return cP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(t,e)}}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return t}function pce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=uce(s),l=a[0],u=a.slice(1);if(typeof l=="number"){uP(i.bind(null,u),l);return}i(l),uP(i.bind(null,u));return}tx(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){sV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sV(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=gce(t,"string");return ff(e)==="symbol"?e:String(e)}function gce(t,e){if(ff(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},vce=function(e){return e},_ce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hc=function(e,n){return Object.keys(n).reduce(function(r,i){return dP(dP({},r),{},sV({},i,e(i,n[i])))},{})},hP=function(e,n,r){return e.map(function(i){return"".concat(_ce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function xce(t,e){return Ece(t)||bce(t,e)||aV(t,e)||wce()}function wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ece(t){if(Array.isArray(t))return t}function Tce(t){return Ice(t)||Ace(t)||aV(t)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aV(t,e){if(t){if(typeof t=="string")return nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(t,e)}}function Ace(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ice(t){if(Array.isArray(t))return nx(t)}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var im=1e-4,lV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},uV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},pP=function(e,n){return function(r){var i=lV(e,n);return uV(i,r)}},Cce=function(e,n){return function(r){var i=lV(e,n),o=[].concat(Tce(i.map(function(s,a){return s*a}).slice(1)),[0]);return uV(o,r)}},mP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=xce(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=pP(i,s),h=pP(o,a),y=Cce(i,s),v=function(_){return _>1?1:_<0?0:_},w=function(_){for(var b=_>1?1:_,T=b,N=0;N<8;++N){var A=f(T)-b,P=y(T);if(Math.abs(A-b)<im||P<im)return h(T);T=v(T-A/P)}return h(T)};return w.isStepper=!1,w},Pce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var y=-(c-f)*r,v=h*o,w=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-f)<im&&Math.abs(w)<im?[f,0]:[x,w]};return l.isStepper=!0,l.dt=a,l},Nce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mP(i);case"spring":return Pce();default:if(i.split("(")[0]==="cubic-bezier")return mP(i)}return typeof i=="function"?i:null};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function gP(t){return Mce(t)||Rce(t)||cV(t)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mce(t){if(Array.isArray(t))return ix(t)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rx(t,e,n){return e=Oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Dce(t,"string");return df(e)==="symbol"?e:String(e)}function Dce(t,e){if(df(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lce(t,e){return jce(t)||Vce(t,e)||cV(t,e)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(t,e){if(t){if(typeof t=="string")return ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ix(t,e)}}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jce(t){if(Array.isArray(t))return t}var om=function(e,n,r){return e+(n-e)*r},ox=function(e){var n=e.from,r=e.to;return n!==r},Uce=function t(e,n,r){var i=hc(function(o,s){if(ox(s)){var a=e(s.from,s.to,s.velocity),l=Lce(a,2),u=l[0],c=l[1];return Wt(Wt({},s),{},{from:u,velocity:c})}return s},n);return r<1?hc(function(o,s){return ox(s)?Wt(Wt({},s),{},{velocity:om(s.velocity,i[o].velocity,r),from:om(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Fce=function(t,e,n,r,i){var o=yce(t,e),s=o.reduce(function(x,_){return Wt(Wt({},x),{},rx({},_,[t[_],e[_]]))},{}),a=o.reduce(function(x,_){return Wt(Wt({},x),{},rx({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return hc(function(_,b){return b.from},a)},y=function(){return!Object.values(a).filter(ox).length},v=function(_){u||(u=_);var b=_-u,T=b/n.dt;a=Uce(n,a,T),i(Wt(Wt(Wt({},t),e),h())),u=_,y()||(l=requestAnimationFrame(f))},w=function(_){c||(c=_);var b=(_-c)/r,T=hc(function(A,P){return om.apply(void 0,gP(P).concat([n(b)]))},s);if(i(Wt(Wt(Wt({},t),e),T)),b<1)l=requestAnimationFrame(f);else{var N=hc(function(A,P){return om.apply(void 0,gP(P).concat([n(1)]))},s);i(Wt(Wt(Wt({},t),e),N))}};return f=n.isStepper?v:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}var Bce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gce(t,e){if(t==null)return{};var n=zce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dv(t){return Kce(t)||Wce(t)||Hce(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(t,e){if(t){if(typeof t=="string")return sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return sx(t)}function sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wu(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function Xce(t,e,n){return e&&Yce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fV(t){var e=Qce(t,"string");return xl(e)==="symbol"?e:String(e)}function Qce(t,e){if(xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ax(t,e)}function efe(t){var e=tfe();return function(){var r=sm(t),i;if(e){var o=sm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lx(this,i)}}function lx(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ux(t)}function ux(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}var $i=function(t){Zce(n,t);var e=efe(n);function n(r,i){var o;Jce(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(ux(o)),o.changeStyle=o.changeStyle.bind(ux(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),lx(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},lx(o);o.state={style:l?Wu({},l,u):u}}else o.state={style:{}};return o}return Xce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Wu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(ace(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?f:i.to;if(this.state&&h){var x={style:l?Wu({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(x)}this.runAnimation(br(br({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=Fce(s,a,Nce(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,y=function(w,x,_){if(_===0)return w;var b=x.duration,T=x.easing,N=T===void 0?"ease":T,A=x.style,P=x.properties,S=x.onAnimationEnd,C=_>0?s[_-1]:x,I=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(Dv(w),[o.runJSAnimation.bind(o,{from:C.style,to:A,duration:b,easing:N}),b]);var R=hP(I,b,N),O=br(br(br({},C.style),A),{},{transition:R});return[].concat(Dv(w),[O,b,S]).filter(vce)};return this.manager.start([l].concat(Dv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pce());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?Wu({},a,l):l,x=hP(Object.keys(w),s,u);v.start([c,o,br(br({},w),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Gce(i,Bce),u=V.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,w=v.style,x=w===void 0?{}:w,_=v.className,b=V.cloneElement(y,br(br({},l),{},{style:br(br({},x),c),className:_}));return b};return u===1?f(V.Children.only(o)):$.createElement("div",null,V.Children.map(o,function(h){return f(h)}))}}]),n}(V.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function nfe(t,e){return sfe(t)||ofe(t,e)||ife(t,e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ofe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sfe(t){if(Array.isArray(t))return t}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=ufe(t,"string");return hf(e)=="symbol"?e:e+""}function ufe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bP=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},cfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},ffe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HE=function(e){var n=wP(wP({},ffe),e),r=V.useRef(),i=V.useState(-1),o=nfe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,_=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var T=De("recharts-rectangle",y);return b?$.createElement($i,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:w,animationEasing:v,isActive:b},function(N){var A=N.width,P=N.height,S=N.x,C=N.y;return $.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:_,easing:v},$.createElement("path",am({},Ce(n,!0),{className:T,d:bP(S,C,A,P,h),ref:r})))}):$.createElement("path",am({},Ce(n,!0),{className:T,d:bP(l,u,c,f,h)}))};function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}var WE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=De("recharts-dot",o);return n===+n&&r===+r&&i===+i?V.createElement("circle",cx({},Ce(e,!1),Tp(e),{className:s,cx:n,cy:r,r:i})):null};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var dfe=["x","y","top","left","width","height","className"];function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(this,arguments)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return pf(e)=="symbol"?e:e+""}function gfe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t,e){if(t==null)return{};var n=vfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _fe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},xfe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,w=yfe(e,dfe),x=hfe({x:r,y:o,top:a,left:u,width:f,height:y},w);return!te(r)||!te(o)||!te(f)||!te(y)||!te(a)||!te(u)?null:$.createElement("path",fx({},Ce(x,!0),{className:De("recharts-cross",v),d:_fe(r,o,f,y,a,u)}))},wfe=AL,bfe=wfe(Object.getPrototypeOf,Object),Efe=bfe,Tfe=Fi,Sfe=Efe,Afe=Bi,Ife="[object Object]",Cfe=Function.prototype,Pfe=Object.prototype,dV=Cfe.toString,Nfe=Pfe.hasOwnProperty,kfe=dV.call(Object);function Rfe(t){if(!Afe(t)||Tfe(t)!=Ife)return!1;var e=Sfe(t);if(e===null)return!0;var n=Nfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dV.call(n)==kfe}var Mfe=Rfe;const Ofe=Ye(Mfe);var Dfe=Fi,Lfe=Bi,$fe="[object Boolean]";function Vfe(t){return t===!0||t===!1||Lfe(t)&&Dfe(t)==$fe}var jfe=Vfe;const Ufe=Ye(jfe);function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function Ffe(t,e){return qfe(t)||zfe(t,e)||Gfe(t,e)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gfe(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function qfe(t){if(Array.isArray(t))return t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return e=Wfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Kfe(t,"string");return mf(e)=="symbol"?e:e+""}function Kfe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IP=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Jfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yfe=function(e){var n=AP(AP({},Jfe),e),r=V.useRef(),i=V.useState(-1),o=Ffe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var b=De("recharts-trapezoid",y);return _?$.createElement($i,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:w,animationEasing:v,isActive:_},function(T){var N=T.upperWidth,A=T.lowerWidth,P=T.height,S=T.x,C=T.y;return $.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:v},$.createElement("path",lm({},Ce(n,!0),{className:b,d:IP(S,C,N,A,P),ref:r})))}):$.createElement("g",null,$.createElement("path",lm({},Ce(n,!0),{className:b,d:IP(l,u,c,f,h)})))},Xfe=["option","shapeType","propTransformer","activeClassName","isActive"];function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function Qfe(t,e){if(t==null)return{};var n=Zfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return gf(e)=="symbol"?e:e+""}function nde(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t,e){return um(um({},e),t)}function ide(t,e){return t==="symbols"}function PP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(HE,n);case"trapezoid":return $.createElement(Yfe,n);case"sector":return $.createElement(tV,n);case"symbols":if(ide(e))return $.createElement(cE,n);break;default:return null}}function ode(t){return V.isValidElement(t)?t.props:t}function sde(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rde:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Qfe(t,Xfe),u;if(V.isValidElement(e))u=V.cloneElement(e,um(um({},l),ode(e)));else if(Se(e))u=e(l);else if(Ofe(e)&&!Ufe(e)){var c=i(e,l);u=$.createElement(PP,{shapeType:n,elementProps:c})}else{var f=l;u=$.createElement(PP,{shapeType:n,elementProps:f})}return a?$.createElement(dt,{className:s},u):u}function Yg(t,e){return e!=null&&"trapezoids"in t.props}function Xg(t,e){return e!=null&&"sectors"in t.props}function yf(t,e){return e!=null&&"points"in t.props}function ade(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function lde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ude(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function cde(t,e){var n;return Yg(t,e)?n=ade:Xg(t,e)?n=lde:yf(t,e)&&(n=ude),n}function fde(t,e){var n;return Yg(t,e)?n="trapezoids":Xg(t,e)?n="sectors":yf(t,e)&&(n="points"),n}function dde(t,e){if(Yg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return yf(t,e)?e.payload:{}}function hde(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=fde(n,e),o=dde(n,e),s=r.filter(function(l,u){var c=Zc(o,l),f=n.props[i].filter(function(v){var w=cde(n,e);return w(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var pde=Math.ceil,mde=Math.max;function gde(t,e,n,r){for(var i=-1,o=mde(pde((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var yde=gde,vde=qL,NP=1/0,_de=17976931348623157e292;function xde(t){if(!t)return t===0?t:0;if(t=vde(t),t===NP||t===-NP){var e=t<0?-1:1;return e*_de}return t===t?t:0}var hV=xde,wde=yde,bde=jg,Lv=hV;function Ede(t){return function(e,n,r){return r&&typeof r!="number"&&bde(e,n,r)&&(n=r=void 0),e=Lv(e),n===void 0?(n=e,e=0):n=Lv(n),r=r===void 0?e<n?1:-1:Lv(r),wde(e,n,r,t)}}var Tde=Ede,Sde=Tde,Ade=Sde(),Ide=Ade;const cm=Ye(Ide);function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){pV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pV(t,e,n){return e=Cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cde(t){var e=Pde(t,"string");return vf(e)=="symbol"?e:e+""}function Pde(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nde=["Webkit","Moz","O","ms"],kde=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Nde.reduce(function(o,s){return RP(RP({},o),{},pV({},s+r,n))},{});return i[e]=n,i};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gV(r.key),r)}}function Mde(t,e,n){return e&&OP(t.prototype,e),n&&OP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ode(t,e,n){return e=dm(e),Dde(t,mV()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function Dde(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(t)}function Lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function $de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function Vn(t,e,n){return e=gV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gV(t){var e=Vde(t,"string");return wl(e)=="symbol"?e:e+""}function Vde(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=cc().domain(cm(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},DP=function(e){return e.changedTouches&&!!e.changedTouches.length},bl=function(t){function e(n){var r;return Rde(this,e),r=Ode(this,e,[n]),Vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vn(r,"handleSlideDragStart",function(i){var o=DP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $de(e,t),Mde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Wn(o[r],a,r);return Se(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-f-a,u+c-f-s):w<0&&(w=Math.max(w,u-s,u-a));var x=this.getIndex({startX:s+w,endX:a+w});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=DP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,w=c.gap,x=c.data,_={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-y-u):b<0&&(b=Math.max(b,f-u)),_[s]=u+b;var T=this.getIndex(_),N=T.startIndex,A=T.endIndex,P=function(){var C=x.length-1;return s==="startX"&&(a>l?N%w===0:A%w===0)||a<l&&A===C||s==="endX"&&(a>l?A%w===0:N%w===0)||a>l&&A===C};this.setState(Vn(Vn({},s,u+b),"brushMoveStartX",r.pageX),function(){v&&P()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Vn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=V.Children.only(u);return f?$.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,w=l.startIndex,x=l.endIndex,_=Math.max(r,this.props.x),b=$v($v({},Ce(this.props,!1)),{},{x:_,y:u,width:c,height:f}),T=y||"Min value: ".concat((o=v[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return $.createElement(dt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return $.createElement(dt,{className:"recharts-brush-texts"},$.createElement(jp,fm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),$.createElement(jp,fm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,w=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!te(a)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var T=De("recharts-brush",o),N=$.Children.count(s)===1,A=kde("userSelect","none");return $.createElement(dt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(w||x||_||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return $v({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?jde({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(V.PureComponent);Vn(bl,"displayName","Brush");Vn(bl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ude=yE;function Fde(t,e){var n;return Ude(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Bde=Fde,Gde=vL,zde=Bo,qde=Bde,Hde=Ln,Wde=jg;function Kde(t,e,n){var r=Hde(t)?Gde:qde;return n&&Wde(t,e,n)&&(e=void 0),r(t,zde(e))}var Jde=Kde;const Yde=Ye(Jde);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},LP=UL;function Xde(t,e,n){e=="__proto__"&&LP?LP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qde=Xde,Zde=Qde,ehe=VL,the=Bo;function nhe(t,e){var n={};return e=the(e),ehe(t,function(r,i,o){Zde(n,i,e(r,i,o))}),n}var rhe=nhe;const ihe=Ye(rhe);function ohe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var she=ohe,ahe=yE;function lhe(t,e){var n=!0;return ahe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var uhe=lhe,che=she,fhe=uhe,dhe=Bo,hhe=Ln,phe=jg;function mhe(t,e,n){var r=hhe(t)?che:fhe;return n&&phe(t,e,n)&&(e=void 0),r(t,dhe(e))}var ghe=mhe;const yV=Ye(ghe);var yhe=["x","y"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vhe(t,e,n){return e=_he(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=xhe(t,"string");return _f(e)=="symbol"?e:e+""}function xhe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function whe(t,e){if(t==null)return{};var n=bhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ehe(t,e){var n=t.x,r=t.y,i=whe(t,yhe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Lu(Lu(Lu(Lu(Lu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function VP(t){return $.createElement(sde,hx({shapeType:"rectangle",propTransformer:Ehe,activeClassName:"recharts-active-bar"},t))}var The=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=te(r)||$W(r);return o?e(r,i):(o||Vs(),n)}},She=["value","background"],vV;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Ahe(t,e){if(t==null)return{};var n=Ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ihe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xV(r.key),r)}}function Phe(t,e,n){return e&&UP(t.prototype,e),n&&UP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t,e,n){return e=pm(e),khe(t,_V()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function khe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rhe(t)}function Rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function Mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},px(t,e)}function mo(t,e,n){return e=xV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=Ohe(t,"string");return El(e)=="symbol"?e:e+""}function Ohe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qf=function(t){function e(){var n;Che(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Nhe(this,e,[].concat(i)),mo(n,"state",{isAnimationFinished:!1}),mo(n,"id",Hf("recharts-bar-")),mo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),mo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Mhe(e,t),Phe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ce(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,w=bt(bt(bt({},c),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(dt,hm({className:"recharts-bar-rectangle"},Sp(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(VP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement($i,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,w=o.map(function(x,_){var b=h&&h[_];if(b){var T=or(b.x,x.x),N=or(b.y,x.y),A=or(b.width,x.width),P=or(b.height,x.height);return bt(bt({},x),{},{x:T(v),y:N(v),width:A(v),height:P(v)})}if(s==="horizontal"){var S=or(0,x.height),C=S(v);return bt(bt({},x),{},{y:x.y+x.height-C,height:C})}var I=or(0,x.width),R=I(v);return bt(bt({},x),{},{width:R})});return $.createElement(dt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Zc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Ahe(u,She);if(!f)return null;var y=bt(bt(bt(bt(bt({},h),{},{fill:"#eee"},f),l),Sp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(VP,hm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Rr(c,Jg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,_){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Wn(x,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(dt,v,f.map(function(w){return $.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,w=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=De("recharts-bar",s),b=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,N=b||T,A=ke(w)?this.id:w;return $.createElement(dt,{className:_},b||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(A)},$.createElement("rect",{x:b?u:u-f/2,y:T?c:c-h/2,width:b?f:f*2,height:T?h:h*2}))):null,$.createElement(dt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!y||x)&&No.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(V.PureComponent);vV=Qf;mo(Qf,"displayName","Bar");mo(Qf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mo(Qf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=sle(r,n);if(!y)return null;var v=e.layout,w=n.type.defaultProps,x=w!==void 0?bt(bt({},w),n.props):n.props,_=x.dataKey,b=x.children,T=x.minPointSize,N=v==="horizontal"?s:o,A=u?N.scale.domain():null,P=ple({numericAxis:N}),S=Rr(b,WL),C=f.map(function(I,R){var O,D,M,F,B,K;u?O=ale(u[c+R],A):(O=Wn(I,_),Array.isArray(O)||(O=[P,O]));var W=The(T,vV.defaultProps.minPointSize)(O[1],R);if(v==="horizontal"){var U,H=[s.scale(O[0]),s.scale(O[1])],J=H[0],oe=H[1];D=BC({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:R}),M=(U=oe??J)!==null&&U!==void 0?U:void 0,F=y.size;var Z=J-oe;if(B=Number.isNaN(Z)?0:Z,K={x:D,y:s.y,width:F,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var le=Cr(B||W)*(Math.abs(W)-Math.abs(B));M-=le,B+=le}}else{var Ie=[o.scale(O[0]),o.scale(O[1])],Le=Ie[0],et=Ie[1];if(D=Le,M=BC({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),F=et-Le,B=y.size,K={x:o.x,y:M,width:o.width,height:B},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var At=Cr(F||W)*(Math.abs(W)-Math.abs(F));F+=At}}return bt(bt(bt({},I),{},{x:D,y:M,width:F,height:B,value:u?O:O[1],payload:I,background:K},S&&S[R]&&S[R].props),{},{tooltipPayload:[Q$(n,I)],tooltipPosition:{x:D+F/2,y:M+B/2}})});return bt({data:C,layout:v},h)});function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wV(r.key),r)}}function Lhe(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qg(t,e,n){return e=wV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wV(t){var e=$he(t,"string");return xf(e)=="symbol"?e:e+""}function $he(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vhe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Un(u,Qf);return c.reduce(function(y,v){var w=n[v],x=w.orientation,_=w.domain,b=w.padding,T=b===void 0?{}:b,N=w.mirror,A=w.reversed,P="".concat(x).concat(N?"Mirror":""),S,C,I,R,O;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=_[1]-_[0],M=1/0,F=w.categoricalDomain.sort(UW);if(F.forEach(function(Ie,Le){Le>0&&(M=Math.min((Ie||0)-(F[Le-1]||0),M))}),Number.isFinite(M)){var B=M/D,K=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=B*K/2),w.padding==="no-gap"){var W=Ls(e.barCategoryGap,B*K),U=B*K/2;S=U-W-(U-W)/K*W}}}i==="xAxis"?C=[r.left+(T.left||0)+(S||0),r.left+r.width-(T.right||0)-(S||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(S||0),r.top+r.height-(T.bottom||0)-(S||0)]:C=w.range,A&&(C=[C[1],C[0]]);var H=ile(w,o,h),J=H.scale,oe=H.realScaleType;J.domain(_).range(C),ole(J);var Z=hle(J,Sr(Sr({},w),{},{realScaleType:oe}));i==="xAxis"?(O=x==="top"&&!N||x==="bottom"&&N,I=r.left,R=f[P]-O*w.height):i==="yAxis"&&(O=x==="left"&&!N||x==="right"&&N,I=f[P]-O*w.width,R=r.top);var le=Sr(Sr(Sr({},w),Z),{},{realScaleType:oe,x:I,y:R,scale:J,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return le.bandSize=em(le,Z),!w.hide&&i==="xAxis"?f[P]+=(O?-1:1)*le.height:w.hide||(f[P]+=(O?-1:1)*le.width),Sr(Sr({},y),{},Qg({},v,le))},{})},bV=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},jhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return bV({x:n,y:r},{x:i,y:o})},EV=function(){function t(e){Dhe(this,t),this.scale=e}return Lhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Qg(EV,"EPS",1e-4);var KE=function(e){var n=Object.keys(e).reduce(function(r,i){return Sr(Sr({},r),{},Qg({},i,EV.create(e[i])))},{});return Sr(Sr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return ihe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return yV(i,function(o,s){return n[s].isInRange(o)})}})};function Uhe(t){return(t%180+180)%180}var Fhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uhe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Bhe=Bo,Ghe=Wf,zhe=$g;function qhe(t){return function(e,n,r){var i=Object(e);if(!Ghe(e)){var o=Bhe(n);e=zhe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Hhe=qhe,Whe=hV;function Khe(t){var e=Whe(t),n=e%1;return e===e?n?e-n:e:0}var Jhe=Khe,Yhe=RL,Xhe=Bo,Qhe=Jhe,Zhe=Math.max;function epe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qhe(n);return i<0&&(i=Zhe(r+i,0)),Yhe(t,Xhe(e),i)}var tpe=epe,npe=Hhe,rpe=tpe,ipe=npe(rpe),ope=ipe;const spe=Ye(ope);var ape=GH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),JE=V.createContext(void 0),YE=V.createContext(void 0),TV=V.createContext(void 0),SV=V.createContext({}),AV=V.createContext(void 0),IV=V.createContext(0),CV=V.createContext(0),GP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=ape(o);return $.createElement(JE.Provider,{value:r},$.createElement(YE.Provider,{value:i},$.createElement(SV.Provider,{value:o},$.createElement(TV.Provider,{value:c},$.createElement(AV.Provider,{value:s},$.createElement(IV.Provider,{value:u},$.createElement(CV.Provider,{value:l},a)))))))},lpe=function(){return V.useContext(AV)},PV=function(e){var n=V.useContext(JE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},upe=function(){var e=V.useContext(JE);return lo(e)},cpe=function(){var e=V.useContext(YE),n=spe(e,function(r){return yV(r.domain,Number.isFinite)});return n||lo(e)},NV=function(e){var n=V.useContext(YE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},fpe=function(){var e=V.useContext(TV);return e},dpe=function(){return V.useContext(SV)},XE=function(){return V.useContext(CV)},QE=function(){return V.useContext(IV)};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ppe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RV(r.key),r)}}function mpe(t,e,n){return e&&ppe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=mm(e),ype(t,kV()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function _pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mx(t,e)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZE(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=xpe(t,"string");return Tl(e)=="symbol"?e:e+""}function xpe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wpe(t,e){return Spe(t)||Tpe(t,e)||Epe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Spe(t){if(Array.isArray(t))return t}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}var Ape=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Se(e)?r=e(n):r=$.createElement("line",gx({},n,{className:"recharts-reference-line-line"})),r},Ipe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,w=e.y.apply(v,{position:s});if(Qr(u,"discard")&&!e.y.isInRange(w))return null;var x=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?x.reverse():x}if(n){var _=u.x,b=e.x.apply(_,{position:s});if(Qr(u,"discard")&&!e.x.isInRange(b))return null;var T=[{x:b,y:f+y},{x:b,y:f}];return a==="top"?T.reverse():T}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:s})});return Qr(u,"discard")&&Yde(A,function(P){return!e.isInRange(P)})?null:A}return null};function Cpe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=lpe(),c=PV(i),f=NV(o),h=fpe();if(!u||!h)return null;wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=KE({x:c.scale,y:f.scale}),v=kt(e),w=kt(n),x=r&&r.length===2,_=Ipe(y,v,w,x,h,t.position,c.orientation,f.orientation,t);if(!_)return null;var b=wpe(_,2),T=b[0],N=T.x,A=T.y,P=b[1],S=P.x,C=P.y,I=Qr(t,"hidden")?"url(#".concat(u,")"):void 0,R=qP(qP({clipPath:I},Ce(t,!0)),{},{x1:N,y1:A,x2:S,y2:C});return $.createElement(dt,{className:De("recharts-reference-line",a)},Ape(s,R),dn.renderCallByParent(t,jhe({x1:N,y1:A,x2:S,y2:C})))}var eT=function(t){function e(){return hpe(this,e),gpe(this,e,arguments)}return _pe(e,t),mpe(e,[{key:"render",value:function(){return $.createElement(Cpe,this.props)}}])}($.Component);ZE(eT,"displayName","ReferenceLine");ZE(eT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(this,arguments)}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function kpe(t,e,n){return e&&Npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rpe(t,e,n){return e=gm(e),Mpe(t,MV()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function Mpe(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function Dpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(t,e)}function Zg(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OV(t){var e=Lpe(t,"string");return Sl(e)=="symbol"?e:e+""}function Lpe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $pe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=KE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!s.isInRange(a)?null:a},ey=function(t){function e(){return Ppe(this,e),Rpe(this,e,arguments)}return Dpe(e,t),kpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=kt(i),c=kt(o);if(wi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$pe(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,w=v.shape,x=v.className,_=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=KP(KP({clipPath:_},Ce(this.props,!0)),{},{cx:h,cy:y});return $.createElement(dt,{className:De("recharts-reference-dot",x)},e.renderDot(w,b),dn.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}($.Component);Zg(ey,"displayName","ReferenceDot");Zg(ey,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zg(ey,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Se(t)?n=t(e):n=$.createElement(WE,yx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LV(r.key),r)}}function Upe(t,e,n){return e&&jpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fpe(t,e,n){return e=ym(e),Bpe(t,DV()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function Bpe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(t)}function Gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function zpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}function xx(t,e){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xx(t,e)}function ty(t,e,n){return e=LV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t){var e=qpe(t,"string");return Al(e)=="symbol"?e:e+""}function qpe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hpe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=KE({x:c.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:bV(y,v)},ny=function(t){function e(){return Vpe(this,e),Fpe(this,e,arguments)}return zpe(e,t),Upe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=kt(i),h=kt(o),y=kt(s),v=kt(a),w=this.props.shape;if(!f&&!h&&!y&&!v&&!w)return null;var x=Hpe(f,h,y,v,this.props);if(!x&&!w)return null;var _=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(dt,{className:De("recharts-reference-area",l)},e.renderRect(w,YP(YP({clipPath:_},Ce(this.props,!0)),x)),dn.renderCallByParent(this.props,x))}}])}($.Component);ty(ny,"displayName","ReferenceArea");ty(ny,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ty(ny,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Se(t)?n=t(e):n=$.createElement(HE,_x({},e,{className:"recharts-reference-area-rect"})),n});function $V(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Wpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fhe(r,n)}function Kpe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function vm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Jpe(t,e){return $V(t,e+1)}function Ype(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:$V(r,u)};var w=l,x,_=function(){return x===void 0&&(x=n(v,w)),x},b=v.coordinate,T=l===0||vm(t,b,_,c,a);T||(l=0,c=s,u+=1),T&&(c=b+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e,n){return e=Qpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qpe(t){var e=Zpe(t,"string");return wf(e)=="symbol"?e:e+""}function Zpe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eme(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,w=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*w()/2-l);o[h]=y=ln(ln({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=ln(ln({},y),{},{tickCoord:y.coordinate});var _=vm(t,y.tickCoord,w,a,l);_&&(l=y.tickCoord-t*(w()/2+i),o[h]=ln(ln({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function tme(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=ln(ln({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=vm(t,c.tickCoord,function(){return f},l,u);y&&(u=c.tickCoord-t*(f/2+i),s[a-1]=ln(ln({},c),{},{isShow:!0}))}for(var v=o?a-1:a,w=function(b){var T=s[b],N,A=function(){return N===void 0&&(N=n(T,b)),N};if(b===0){var P=t*(T.coordinate-t*A()/2-l);s[b]=T=ln(ln({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else s[b]=T=ln(ln({},T),{},{tickCoord:T.coordinate});var S=vm(t,T.tickCoord,A,l,u);S&&(l=T.tickCoord+t*(A()/2+i),s[b]=ln(ln({},T),{},{isShow:!0}))},x=0;x<v;x++)w(x);return s}function tT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(te(l)||Xl.isSsr)return Jpe(i,typeof l=="number"&&te(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?uc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(T,N){var A=Se(u)?u(T.value,N):T.value;return y==="width"?Wpe(uc(A,{fontSize:e,letterSpacing:n}),v,f):uc(A,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,_=Kpe(o,x,y);return l==="equidistantPreserveStart"?Ype(x,_,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=tme(x,_,w,i,s,l==="preserveStartEnd"):h=eme(x,_,w,i,s),h.filter(function(b){return b.isShow}))}var nme=["viewBox"],rme=["viewBox"],ime=["ticks"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){nT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vv(t,e){if(t==null)return{};var n=ome(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ome(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jV(r.key),r)}}function ame(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lme(t,e,n){return e=_m(e),ume(t,VV()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function ume(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cme(t)}function cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function fme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wx(t,e)}function nT(t,e,n){return e=jV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jV(t){var e=dme(t,"string");return Il(e)=="symbol"?e:e+""}function dme(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tu=function(t){function e(n){var r;return sme(this,e),r=lme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return fme(e,t),ame(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Vv(r,nme),a=this.props,l=a.viewBox,u=Vv(a,rme);return!Ua(o,l)||!Ua(s,u)||!Ua(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,w,x,_,b,T=f?-1:1,N=r.tickSize||c,A=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!f*l,w=x-T*N,b=w-T*h,_=A;break;case"left":w=x=r.coordinate,v=o+ +!f*a,y=v-T*N,_=y-T*h,b=A;break;case"right":w=x=r.coordinate,v=o+ +f*a,y=v+T*N,_=y+T*h,b=A;break;default:y=v=r.coordinate,x=s+ +f*l,w=x+T*N,b=w+T*h,_=A;break}return{line:{x1:y,y1:w,x2:v,y2:x},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=It(It(It({},Ce(this.props,!1)),Ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=It(It({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=It(It({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return $.createElement("line",Sa({},f,{className:De("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,y=tT(It(It({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Ce(this.props,!1),_=Ce(c,!1),b=It(It({},x),{},{fill:"none"},Ce(l,!1)),T=y.map(function(N,A){var P=s.getTickLineCoord(N),S=P.line,C=P.tick,I=It(It(It(It({textAnchor:v,verticalAnchor:w},x),{},{stroke:"none",fill:u},_),C),{},{index:A,payload:N,visibleTicksCount:y.length,tickFormatter:f});return $.createElement(dt,Sa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Sp(s.props,N,A)),l&&$.createElement("line",Sa({},b,S,{className:De("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(Se(f)?f(N.value,A):N.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,y=Vv(f,ime),v=h;return Se(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:$.createElement(dt,{className:De("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=De(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?s=$.cloneElement(r,It(It({},i),{},{className:a})):Se(r)?s=r(It(It({},i),{},{className:a})):s=$.createElement(jp,Sa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(V.Component);nT(tu,"displayName","CartesianAxis");nT(tu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hme=["x1","y1","x2","y2","key"],pme=["offset"];function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return e=gme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return js(e)=="symbol"?e:e+""}function yme(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}function tN(t,e){if(t==null)return{};var n=vme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _me=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UV(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=tN(e,hme),u=Ce(l,!1);u.offset;var c=tN(u,pme);n=$.createElement("line",gs({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function xme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return UV(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function wme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return UV(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function bme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],w=v?i+s-h:c[y+1]-h;if(w<=0)return null;var x=y%e.length;return $.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:w,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Eme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],w=v?o+a-h:c[y+1]-h;if(w<=0)return null;var x=y%r.length;return $.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:w,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Tme=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return Y$(tT(hn(hn(hn({},tu.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Sme=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return Y$(tT(hn(hn(hn({},tu.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ry(t){var e,n,r,i,o,s,a=XE(),l=QE(),u=dpe(),c=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sa.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),f=c.x,h=c.y,y=c.width,v=c.height,w=c.syncWithTicks,x=c.horizontalValues,_=c.verticalValues,b=upe(),T=cpe();if(!te(y)||y<=0||!te(v)||v<=0||!te(f)||f!==+f||!te(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||Tme,A=c.horizontalCoordinatesGenerator||Sme,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Se(A)){var C=x&&x.length,I=A({yAxis:T?hn(hn({},T),{},{ticks:C?x:T.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);wi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(js(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Se(N)){var R=_&&_.length,O=N({xAxis:b?hn(hn({},b),{},{ticks:R?_:b.ticks}):void 0,width:a,height:l,offset:u},R?!0:w);wi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(js(O),"]")),Array.isArray(O)&&(S=O)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(_me,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(xme,gs({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:T})),$.createElement(wme,gs({},c,{offset:u,verticalPoints:S,xAxis:b,yAxis:T})),$.createElement(bme,gs({},c,{horizontalPoints:P})),$.createElement(Eme,gs({},c,{verticalPoints:S})))}ry.displayName="CartesianGrid";var Ame=["layout","type","stroke","connectNulls","isRange","ref"],Ime=["key"],FV;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function BV(t,e){if(t==null)return{};var n=Cme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function Nme(t,e,n){return e&&rN(t.prototype,e),n&&rN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kme(t,e,n){return e=xm(e),Rme(t,GV()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Rme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(t)}function Mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function zr(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=Dme(t,"string");return Cl(e)=="symbol"?e:e+""}function Dme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pr=function(t){function e(){var n;Pme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kme(this,e,[].concat(i)),zr(n,"state",{isAnimationFinished:!0}),zr(n,"id",Hf("recharts-area-")),zr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se(s)&&s()}),zr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se(s)&&s()}),n}return Ome(e,t),Nme(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=Ce(this.props,!1),y=Ce(u,!0),v=c.map(function(x,_){var b=Zi(Zi(Zi({key:"dot-".concat(_),r:3},h),y),{},{index:_,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,b)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(dt,ys({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=po(s.map(function(h){return h.y||0}));return te(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(po(o.map(function(h){return h.y||0})),f)),te(f)?$.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=po(s.map(function(h){return h.x||0}));return te(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(po(o.map(function(h){return h.x||0})),f)),te(f)?$.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=BV(a,Ame);return $.createElement(dt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},$.createElement(dc,ys({},Ce(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&$.createElement(dc,ys({},Ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&$.createElement(dc,ys({},Ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,w=v.prevPoints,x=v.prevBaseLine;return $.createElement($i,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t;if(w){var T=w.length/a.length,N=a.map(function(C,I){var R=Math.floor(I*T);if(w[R]){var O=w[R],D=or(O.x,C.x),M=or(O.y,C.y);return Zi(Zi({},C),{},{x:D(b),y:M(b)})}return C}),A;if(te(l)&&typeof l=="number"){var P=or(x,l);A=P(b)}else if(ke(l)||Wl(l)){var S=or(x,0);A=S(b)}else A=l.map(function(C,I){var R=Math.floor(I*T);if(x[R]){var O=x[R],D=or(O.x,C.x),M=or(O.y,C.y);return Zi(Zi({},C),{},{x:D(b),y:M(b)})}return C});return o.renderAreaStatically(N,A,r,i)}return $.createElement(dt,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),$.createElement(dt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!Zc(c,s)||!Zc(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,w=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,b=a.length===1,T=De("recharts-area",l),N=f&&f.allowDataOverflow,A=h&&h.allowDataOverflow,P=N||A,S=ke(x)?this.id:x,C=(r=Ce(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=C.r,R=I===void 0?3:I,O=C.strokeWidth,D=O===void 0?2:O,M=JW(s)?s:{},F=M.clipDot,B=F===void 0?!0:F,K=R*2+D;return $.createElement(dt,{className:T},N||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:N?c:c-y/2,y:A?u:u-v/2,width:N?y:y*2,height:A?v:v*2})),!B&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:c-K/2,y:u-K/2,width:y+K,height:v+K}))):null,b?null:this.renderArea(P,S),(s||b)&&this.renderDots(P,B,S),(!w||_)&&No.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(V.PureComponent);FV=pr;zr(pr,"displayName","Area");zr(pr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zr(pr,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(te(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});zr(pr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,w=FV.getBaseValue(e,n,r,i),x=y==="horizontal",_=!1,b=f.map(function(N,A){var P;v?P=u[c+A]:(P=Wn(N,l),Array.isArray(P)?_=!0:P=[w,P]);var S=P[1]==null||v&&Wn(N,l)==null;return x?{x:FC({axis:r,ticks:o,bandSize:a,entry:N,index:A}),y:S?null:i.scale(P[1]),value:P,payload:N}:{x:S?null:r.scale(P[1]),y:FC({axis:i,ticks:s,bandSize:a,entry:N,index:A}),value:P,payload:N}}),T;return v||_?T=b.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):T=x?i.scale(w):r.scale(w),Zi({points:b,baseLine:T,layout:y,isRange:_},h)});zr(pr,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=De("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=BV(e,Ime);n=$.createElement(WE,ys({},o,{key:i,className:r}))}return n});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WV(r.key),r)}}function Vme(t,e,n){return e&&$me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jme(t,e,n){return e=wm(e),Ume(t,qV()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Ume(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fme(t)}function Fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function Bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ex(t,e)}function Ex(t,e){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ex(t,e)}function HV(t,e,n){return e=WV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WV(t){var e=Gme(t,"string");return Pl(e)=="symbol"?e:e+""}function Gme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(this,arguments)}function zme(t){var e=t.xAxisId,n=XE(),r=QE(),i=PV(e);return i==null?null:V.createElement(tu,Tx({},i,{className:De("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return vi(s,!0)}}))}var nu=function(t){function e(){return Lme(this,e),jme(this,e,arguments)}return Bme(e,t),Vme(e,[{key:"render",value:function(){return V.createElement(zme,this.props)}}])}(V.Component);HV(nu,"displayName","XAxis");HV(nu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function Wme(t,e,n){return e&&Hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kme(t,e,n){return e=bm(e),Jme(t,KV()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function Jme(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yme(t)}function Yme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sx(t,e)}function Sx(t,e){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sx(t,e)}function JV(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=Qme(t,"string");return Nl(e)=="symbol"?e:e+""}function Qme(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}var Zme=function(e){var n=e.yAxisId,r=XE(),i=QE(),o=NV(n);return o==null?null:V.createElement(tu,Ax({},o,{className:De("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return vi(a,!0)}}))},iy=function(t){function e(){return qme(this,e),Kme(this,e,arguments)}return Xme(e,t),Wme(e,[{key:"render",value:function(){return V.createElement(Zme,this.props)}}])}(V.Component);JV(iy,"displayName","YAxis");JV(iy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iN(t){return rge(t)||nge(t)||tge(t)||ege()}function ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(t,e){if(t){if(typeof t=="string")return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(t,e)}}function nge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rge(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cx=function(e,n,r,i,o){var s=Rr(e,eT),a=Rr(e,ey),l=[].concat(iN(s),iN(a)),u=Rr(e,ny),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(w,x){if(x.props[c]===r&&Qr(x.props,"extendDomain")&&te(x.props[f])){var _=x.props[f];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(w,x){if(x.props[c]===r&&Qr(x.props,"extendDomain")&&te(x.props[y])&&te(x.props[v])){var _=x.props[y],b=x.props[v];return[Math.min(w[0],_,b),Math.max(w[1],_,b)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,x){return te(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},h)),h},XV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,y,v){var w=n?n+u:u;if(!this._events[w])return!1;var x=this._events[w],_=arguments.length,b,T;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,y),!0;case 6:return x.fn.call(x.context,c,f,h,y,v),!0}for(T=1,b=new Array(_-1);T<_;T++)b[T-1]=arguments[T];x.fn.apply(x.context,b)}else{var N=x.length,A;for(T=0;T<N;T++)switch(x[T].once&&this.removeListener(u,x[T].fn,void 0,!0),_){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,c);break;case 3:x[T].fn.call(x[T].context,c,f);break;case 4:x[T].fn.call(x[T].context,c,f,h);break;default:if(!b)for(A=1,b=new Array(_-1);A<_;A++)b[A-1]=arguments[A];x[T].fn.apply(x[T].context,b)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var w=0,x=[],_=v.length;w<_;w++)(v[w].fn!==c||h&&!v[w].once||f&&v[w].context!==f)&&x.push(v[w]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(XV);var ige=XV.exports;const oge=Ye(ige);var jv=new oge,Uv="recharts.syncMouseEvents";function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function age(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QV(r.key),r)}}function lge(t,e,n){return e&&age(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fv(t,e,n){return e=QV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QV(t){var e=uge(t,"string");return bf(e)=="symbol"?e:e+""}function uge(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cge=function(){function t(){sge(this,t),Fv(this,"activeIndex",0),Fv(this,"coordinateList",[]),Fv(this,"layout","horizontal")}return lge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function dge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ZV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xt(e,n,r,i),a=Xt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function hge(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Xt(a,l,u,f),y=Xt(a,l,c,f);r=h.x,i=h.y,o=y.x,s=y.y}else return ZV(e);return[{x:r,y:i},{x:o,y:s}]}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return e=mge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=gge(t,"string");return Ef(e)=="symbol"?e:e+""}function gge(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,w=dc;if(h==="ScatterChart")v=s,w=xfe;else if(h==="BarChart")v=dge(f,s,l,c),w=HE;else if(f==="radial"){var x=ZV(s),_=x.cx,b=x.cy,T=x.radius,N=x.startAngle,A=x.endAngle;v={cx:_,cy:b,startAngle:N,endAngle:A,innerRadius:T,outerRadius:T},w=tV}else v={points:hge(f,s,l)},w=dc;var P=nh(nh(nh(nh({stroke:"#ccc",pointerEvents:"none"},l),v),Ce(y,!1)),{},{payload:a,payloadIndex:u,className:De("recharts-tooltip-cursor",y.className)});return V.isValidElement(y)?V.cloneElement(y,P):V.createElement(w,P)}var vge=["item"],_ge=["children","className","width","height","style","compact","title","desc"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function sN(t,e){return bge(t)||wge(t,e)||tj(t,e)||xge()}function xge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function bge(t){if(Array.isArray(t))return t}function aN(t,e){if(t==null)return{};var n=Ege(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ege(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nj(r.key),r)}}function Age(t,e,n){return e&&Sge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ige(t,e,n){return e=Em(e),Cge(t,ej()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function Cge(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ej=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function Nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Px(t,e)}function Px(t,e){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Px(t,e)}function Rl(t){return Mge(t)||Rge(t)||tj(t)||kge()}function kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tj(t,e){if(t){if(typeof t=="string")return Nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(t,e)}}function Rge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mge(t){if(Array.isArray(t))return Nx(t)}function Nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ge(t,e,n){return e=nj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nj(t){var e=Oge(t,"string");return kl(e)=="symbol"?e:e+""}function Oge(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dge={xAxis:["bottom","top"],yAxis:["left","right"]},Lge={width:"100%",height:"100%"},rj={x:0,y:0};function rh(t){return t}var $ge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Vge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return z(z(z({},i),Xt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return z(z(z({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return rj},oy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Rl(a),Rl(u)):a},[]);return s.length>0?s:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function ij(t){return t==="number"?[0,"auto"]:void 0}var kx=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=oy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=Ep(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Rl(l),[Q$(u,h)]):l},[])},uN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=$ge(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Qae(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=kx(e,n,c,f),y=Vge(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},jge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,y=J$(c,o);return r.reduce(function(v,w){var x,_=w.type.defaultProps!==void 0?z(z({},w.type.defaultProps),w.props):w.props,b=_.type,T=_.dataKey,N=_.allowDataOverflow,A=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,C=_.includeHidden,I=_[s];if(v[I])return v;var R=oy(e.data,{graphicalItems:i.filter(function(Z){var le,Ie=s in Z.props?Z.props[s]:(le=Z.type.defaultProps)===null||le===void 0?void 0:le[s];return Ie===I}),dataStartIndex:l,dataEndIndex:u}),O=R.length,D,M,F;fge(_.domain,N,b)&&(D=Y_(_.domain,null,N),y&&(b==="number"||P!=="auto")&&(F=fc(R,T,"category")));var B=ij(b);if(!D||D.length===0){var K,W=(K=_.domain)!==null&&K!==void 0?K:B;if(T){if(D=fc(R,T,b),b==="category"&&y){var U=jW(D);A&&U?(M=D,D=cm(0,O)):A||(D=qC(W,D,w).reduce(function(Z,le){return Z.indexOf(le)>=0?Z:[].concat(Rl(Z),[le])},[]))}else if(b==="category")A?D=D.filter(function(Z){return Z!==""&&!ke(Z)}):D=qC(W,D,w).reduce(function(Z,le){return Z.indexOf(le)>=0||le===""||ke(le)?Z:[].concat(Rl(Z),[le])},[]);else if(b==="number"){var H=rle(R,i.filter(function(Z){var le,Ie,Le=s in Z.props?Z.props[s]:(le=Z.type.defaultProps)===null||le===void 0?void 0:le[s],et="hide"in Z.props?Z.props.hide:(Ie=Z.type.defaultProps)===null||Ie===void 0?void 0:Ie.hide;return Le===I&&(C||!et)}),T,o,c);H&&(D=H)}y&&(b==="number"||P!=="auto")&&(F=fc(R,T,"category"))}else y?D=cm(0,O):a&&a[I]&&a[I].hasStack&&b==="number"?D=h==="expand"?[0,1]:X$(a[I].stackGroups,l,u):D=K$(R,i.filter(function(Z){var le=s in Z.props?Z.props[s]:Z.type.defaultProps[s],Ie="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return le===I&&(C||!Ie)}),b,c,!0);if(b==="number")D=Cx(f,D,I,o,S),W&&(D=Y_(W,D,N));else if(b==="category"&&W){var J=W,oe=D.every(function(Z){return J.indexOf(Z)>=0});oe&&(D=J)}}return z(z({},v),{},ge({},I,z(z({},_),{},{axisType:o,domain:D,categoricalDomain:F,duplicateDomain:M,originalDomain:(x=_.domain)!==null&&x!==void 0?x:B,isCategorical:y,layout:c})))},{})},Uge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=oy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=J$(c,o),w=-1;return r.reduce(function(x,_){var b=_.type.defaultProps!==void 0?z(z({},_.type.defaultProps),_.props):_.props,T=b[s],N=ij("number");if(!x[T]){w++;var A;return v?A=cm(0,y):a&&a[T]&&a[T].hasStack?(A=X$(a[T].stackGroups,l,u),A=Cx(f,A,T,o)):(A=Y_(N,K$(h,r.filter(function(P){var S,C,I=s in P.props?P.props[s]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[s],R="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===T&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=Cx(f,A,T,o)),z(z({},x),{},ge({},T,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(Dge,"".concat(o,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:v,layout:c})))}return x},{})},Fge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Rr(c,o),y={};return h&&h.length?y=jge(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=Uge(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},Bge=function(e){var n=lo(e),r=vi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:em(n,r)}},cN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Un(n,bl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Gge=function(e){return!e||!e.length?!1:e.some(function(n){var r=xi(n&&n.type);return r&&r.indexOf("Bar")>=0})},fN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},y=Un(f,bl),v=Un(f,Fa),w=Object.keys(l).reduce(function(A,P){var S=l[P],C=S.orientation;return!S.mirror&&!S.hide?z(z({},A),{},ge({},C,A[C]+S.width)):A},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(A,P){var S=s[P],C=S.orientation;return!S.mirror&&!S.hide?z(z({},A),{},ge({},C,ur(A,"".concat(C))+S.height)):A},{top:h.top||0,bottom:h.bottom||0}),_=z(z({},x),w),b=_.bottom;y&&(_.bottom+=y.props.height||bl.defaultProps.height),v&&n&&(_=tle(_,i,r,n));var T=u-_.left-_.right,N=c-_.top-_.bottom;return z(z({brushBottom:b},_),{},{width:Math.max(T,0),height:Math.max(N,0)})},qge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Hge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,b){var T=b.graphicalItems,N=b.stackGroups,A=b.offset,P=b.updateId,S=b.dataStartIndex,C=b.dataEndIndex,I=_.barSize,R=_.layout,O=_.barGap,D=_.barCategoryGap,M=_.maxBarSize,F=fN(R),B=F.numericAxisName,K=F.cateAxisName,W=Gge(T),U=[];return T.forEach(function(H,J){var oe=oy(_.data,{graphicalItems:[H],dataStartIndex:S,dataEndIndex:C}),Z=H.type.defaultProps!==void 0?z(z({},H.type.defaultProps),H.props):H.props,le=Z.dataKey,Ie=Z.maxBarSize,Le=Z["".concat(B,"Id")],et=Z["".concat(K,"Id")],At={},Dt=l.reduce(function(Xn,_r){var ri=b["".concat(_r.axisType,"Map")],Hi=Z["".concat(_r.axisType,"Id")];ri&&ri[Hi]||_r.axisType==="zAxis"||Vs();var Wo=ri[Hi];return z(z({},Xn),{},ge(ge({},_r.axisType,Wo),"".concat(_r.axisType,"Ticks"),vi(Wo)))},At),se=Dt[K],ye=Dt["".concat(K,"Ticks")],ve=N&&N[Le]&&N[Le].hasStack&&mle(H,N[Le].stackGroups),X=xi(H.type).indexOf("Bar")>=0,He=em(se,ye),Ae=[],tt=W&&Zae({barSize:I,stackGroups:N,totalSize:qge(Dt,K)});if(X){var at,Lt,Yn=ke(Ie)?M:Ie,vr=(at=(Lt=em(se,ye,!0))!==null&&Lt!==void 0?Lt:Yn)!==null&&at!==void 0?at:0;Ae=ele({barGap:O,barCategoryGap:D,bandSize:vr!==He?vr:He,sizeList:tt[et],maxBarSize:Yn}),vr!==He&&(Ae=Ae.map(function(Xn){return z(z({},Xn),{},{position:z(z({},Xn.position),{},{offset:Xn.position.offset-vr/2})})}))}var jr=H&&H.type&&H.type.getComposedData;jr&&U.push({props:z(z({},jr(z(z({},Dt),{},{displayedData:oe,props:_,dataKey:le,item:H,bandSize:He,barPosition:Ae,offset:A,stackedData:ve,layout:R,dataStartIndex:S,dataEndIndex:C}))),{},ge(ge(ge({key:H.key||"item-".concat(J)},B,Dt[B]),K,Dt[K]),"animationId",P)),childIndex:QW(H,_.children),item:H})}),U},y=function(_,b){var T=_.props,N=_.dataStartIndex,A=_.dataEndIndex,P=_.updateId;if(!VA({props:T}))return null;var S=T.children,C=T.layout,I=T.stackOffset,R=T.data,O=T.reverseStackOrder,D=fN(C),M=D.numericAxisName,F=D.cateAxisName,B=Rr(S,r),K=dle(R,B,"".concat(M,"Id"),"".concat(F,"Id"),I,O),W=l.reduce(function(Z,le){var Ie="".concat(le.axisType,"Map");return z(z({},Z),{},ge({},Ie,Fge(T,z(z({},le),{},{graphicalItems:B,stackGroups:le.axisType===M&&K,dataStartIndex:N,dataEndIndex:A}))))},{}),U=zge(z(z({},W),{},{props:T,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(Z){W[Z]=c(T,W[Z],U,Z.replace("Map",""),n)});var H=W["".concat(F,"Map")],J=Bge(H),oe=h(T,z(z({},W),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:B,stackGroups:K,offset:U}));return z(z({formattedGraphicalItems:oe,graphicalItems:B,offset:U,stackGroups:K},J),W)},v=function(x){function _(b){var T,N,A;return Tge(this,_),A=Ige(this,_,[b]),ge(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(A,"accessibilityManager",new cge),ge(A,"handleLegendBBoxUpdate",function(P){if(P){var S=A.state,C=S.dataStartIndex,I=S.dataEndIndex,R=S.updateId;A.setState(z({legendBBox:P},y({props:A.props,dataStartIndex:C,dataEndIndex:I,updateId:R},z(z({},A.state),{},{legendBBox:P}))))}}),ge(A,"handleReceiveSyncEvent",function(P,S,C){if(A.props.syncId===P){if(C===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),ge(A,"handleBrushChange",function(P){var S=P.startIndex,C=P.endIndex;if(S!==A.state.dataStartIndex||C!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return z({dataStartIndex:S,dataEndIndex:C},y({props:A.props,dataStartIndex:S,dataEndIndex:C,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),ge(A,"handleMouseEnter",function(P){var S=A.getMouseInfo(P);if(S){var C=z(z({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseEnter;Se(I)&&I(C,P)}}),ge(A,"triggeredAfterMouseMove",function(P){var S=A.getMouseInfo(P),C=S?z(z({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseMove;Se(I)&&I(C,P)}),ge(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ge(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),ge(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),ge(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var C=A.props.onMouseLeave;Se(C)&&C(S,P)}),ge(A,"handleOuterEvent",function(P){var S=XW(P),C=ur(A.props,"".concat(S));if(S&&Se(C)){var I,R;/.*touch.*/i.test(S)?R=A.getMouseInfo(P.changedTouches[0]):R=A.getMouseInfo(P),C((I=R)!==null&&I!==void 0?I:{},P)}}),ge(A,"handleClick",function(P){var S=A.getMouseInfo(P);if(S){var C=z(z({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onClick;Se(I)&&I(C,P)}}),ge(A,"handleMouseDown",function(P){var S=A.props.onMouseDown;if(Se(S)){var C=A.getMouseInfo(P);S(C,P)}}),ge(A,"handleMouseUp",function(P){var S=A.props.onMouseUp;if(Se(S)){var C=A.getMouseInfo(P);S(C,P)}}),ge(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ge(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),ge(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),ge(A,"handleDoubleClick",function(P){var S=A.props.onDoubleClick;if(Se(S)){var C=A.getMouseInfo(P);S(C,P)}}),ge(A,"handleContextMenu",function(P){var S=A.props.onContextMenu;if(Se(S)){var C=A.getMouseInfo(P);S(C,P)}}),ge(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&jv.emit(Uv,A.props.syncId,P,A.eventEmitterSymbol)}),ge(A,"applySyncEvent",function(P){var S=A.props,C=S.layout,I=S.syncMethod,R=A.state.updateId,O=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(z({dataStartIndex:O,dataEndIndex:D},y({props:A.props,dataStartIndex:O,dataEndIndex:D,updateId:R},A.state)));else if(P.activeTooltipIndex!==void 0){var M=P.chartX,F=P.chartY,B=P.activeTooltipIndex,K=A.state,W=K.offset,U=K.tooltipTicks;if(!W)return;if(typeof I=="function")B=I(U,P);else if(I==="value"){B=-1;for(var H=0;H<U.length;H++)if(U[H].value===P.activeLabel){B=H;break}}var J=z(z({},W),{},{x:W.left,y:W.top}),oe=Math.min(M,J.x+J.width),Z=Math.min(F,J.y+J.height),le=U[B]&&U[B].value,Ie=kx(A.state,A.props.data,B),Le=U[B]?{x:C==="horizontal"?U[B].coordinate:oe,y:C==="horizontal"?Z:U[B].coordinate}:rj;A.setState(z(z({},P),{},{activeLabel:le,activeCoordinate:Le,activePayload:Ie,activeTooltipIndex:B}))}else A.setState(P)}),ge(A,"renderCursor",function(P){var S,C=A.state,I=C.isTooltipActive,R=C.activeCoordinate,O=C.activePayload,D=C.offset,M=C.activeTooltipIndex,F=C.tooltipAxisBandSize,B=A.getTooltipEventType(),K=(S=P.props.active)!==null&&S!==void 0?S:I,W=A.props.layout,U=P.key||"_recharts-cursor";return $.createElement(yge,{key:U,activeCoordinate:R,activePayload:O,activeTooltipIndex:M,chartName:n,element:P,isActive:K,layout:W,offset:D,tooltipAxisBandSize:F,tooltipEventType:B})}),ge(A,"renderPolarAxis",function(P,S,C){var I=ur(P,"type.axisType"),R=ur(A.state,"".concat(I,"Map")),O=P.type.defaultProps,D=O!==void 0?z(z({},O),P.props):P.props,M=R&&R[D["".concat(I,"Id")]];return V.cloneElement(P,z(z({},M),{},{className:De(I,M.className),key:P.key||"".concat(S,"-").concat(C),ticks:vi(M,!0)}))}),ge(A,"renderPolarGrid",function(P){var S=P.props,C=S.radialLines,I=S.polarAngles,R=S.polarRadius,O=A.state,D=O.radiusAxisMap,M=O.angleAxisMap,F=lo(D),B=lo(M),K=B.cx,W=B.cy,U=B.innerRadius,H=B.outerRadius;return V.cloneElement(P,{polarAngles:Array.isArray(I)?I:vi(B,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(R)?R:vi(F,!0).map(function(J){return J.coordinate}),cx:K,cy:W,innerRadius:U,outerRadius:H,key:P.key||"polar-grid",radialLines:C})}),ge(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,S=A.props,C=S.children,I=S.width,R=S.height,O=A.props.margin||{},D=I-(O.left||0)-(O.right||0),M=H$({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:u});if(!M)return null;var F=M.item,B=aN(M,vge);return V.cloneElement(F,z(z({},B),{},{chartWidth:I,chartHeight:R,margin:O,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),ge(A,"renderTooltip",function(){var P,S=A.props,C=S.children,I=S.accessibilityLayer,R=Un(C,nr);if(!R)return null;var O=A.state,D=O.isTooltipActive,M=O.activeCoordinate,F=O.activePayload,B=O.activeLabel,K=O.offset,W=(P=R.props.active)!==null&&P!==void 0?P:D;return V.cloneElement(R,{viewBox:z(z({},K),{},{x:K.left,y:K.top}),active:W,label:B,payload:W?F:[],coordinate:M,accessibilityLayer:I})}),ge(A,"renderBrush",function(P){var S=A.props,C=S.margin,I=S.data,R=A.state,O=R.offset,D=R.dataStartIndex,M=R.dataEndIndex,F=R.updateId;return V.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Qd(A.handleBrushChange,P.props.onChange),data:I,x:te(P.props.x)?P.props.x:O.left,y:te(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:te(P.props.width)?P.props.width:O.width,startIndex:D,endIndex:M,updateId:"brush-".concat(F)})}),ge(A,"renderReferenceElement",function(P,S,C){if(!P)return null;var I=A,R=I.clipPathId,O=A.state,D=O.xAxisMap,M=O.yAxisMap,F=O.offset,B=P.type.defaultProps||{},K=P.props,W=K.xAxisId,U=W===void 0?B.xAxisId:W,H=K.yAxisId,J=H===void 0?B.yAxisId:H;return V.cloneElement(P,{key:P.key||"".concat(S,"-").concat(C),xAxis:D[U],yAxis:M[J],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:R})}),ge(A,"renderActivePoints",function(P){var S=P.item,C=P.activePoint,I=P.basePoint,R=P.childIndex,O=P.isRange,D=[],M=S.props.key,F=S.item.type.defaultProps!==void 0?z(z({},S.item.type.defaultProps),S.item.props):S.item.props,B=F.activeDot,K=F.dataKey,W=z(z({index:R,dataKey:K,cx:C.x,cy:C.y,r:4,fill:qE(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ce(B,!1)),Tp(B));return D.push(_.renderActiveDot(B,W,"".concat(M,"-activePoint-").concat(R))),I?D.push(_.renderActiveDot(B,z(z({},W),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(R))):O&&D.push(null),D}),ge(A,"renderGraphicChild",function(P,S,C){var I=A.filterFormatItem(P,S,C);if(!I)return null;var R=A.getTooltipEventType(),O=A.state,D=O.isTooltipActive,M=O.tooltipAxis,F=O.activeTooltipIndex,B=O.activeLabel,K=A.props.children,W=Un(K,nr),U=I.props,H=U.points,J=U.isRange,oe=U.baseLine,Z=I.item.type.defaultProps!==void 0?z(z({},I.item.type.defaultProps),I.item.props):I.item.props,le=Z.activeDot,Ie=Z.hide,Le=Z.activeBar,et=Z.activeShape,At=!!(!Ie&&D&&W&&(le||Le||et)),Dt={};R!=="axis"&&W&&W.props.trigger==="click"?Dt={onClick:Qd(A.handleItemMouseEnter,P.props.onClick)}:R!=="axis"&&(Dt={onMouseLeave:Qd(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Qd(A.handleItemMouseEnter,P.props.onMouseEnter)});var se=V.cloneElement(P,z(z({},I.props),Dt));function ye(_r){return typeof M.dataKey=="function"?M.dataKey(_r.payload):null}if(At)if(F>=0){var ve,X;if(M.dataKey&&!M.allowDuplicatedCategory){var He=typeof M.dataKey=="function"?ye:"payload.".concat(M.dataKey.toString());ve=Ep(H,He,B),X=J&&oe&&Ep(oe,He,B)}else ve=H==null?void 0:H[F],X=J&&oe&&oe[F];if(et||Le){var Ae=P.props.activeIndex!==void 0?P.props.activeIndex:F;return[V.cloneElement(P,z(z(z({},I.props),Dt),{},{activeIndex:Ae})),null,null]}if(!ke(ve))return[se].concat(Rl(A.renderActivePoints({item:I,activePoint:ve,basePoint:X,childIndex:F,isRange:J})))}else{var tt,at=(tt=A.getItemByXY(A.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:se},Lt=at.graphicalItem,Yn=Lt.item,vr=Yn===void 0?P:Yn,jr=Lt.childIndex,Xn=z(z(z({},I.props),Dt),{},{activeIndex:jr});return[V.cloneElement(vr,Xn),null,null]}return J?[se,null,null]:[se,null]}),ge(A,"renderCustomized",function(P,S,C){return V.cloneElement(P,z(z({key:"recharts-customized-".concat(C)},A.props),A.state))}),ge(A,"renderMap",{CartesianGrid:{handler:rh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:rh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:rh},YAxis:{handler:rh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=b.id)!==null&&T!==void 0?T:Hf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=HL(A.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Nge(_,x),Age(_,[{key:"componentDidMount",value:function(){var T,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,N=T.children,A=T.data,P=T.height,S=T.layout,C=Un(N,nr);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=kx(this.state,A,I,R),D=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+P)/2,F=S==="horizontal",B=F?{x:D,y:M}:{y:D,x:M},K=this.state.formattedGraphicalItems.find(function(U){var H=U.item;return H.type.name==="Scatter"});K&&(B=z(z({},B),K.props.points[I].tooltipPosition),O=K.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:O,activeCoordinate:B};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){f_([Un(T.children,nr)],[Un(this.props.children,nr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Un(this.props.children,nr);if(T&&typeof T.props.shared=="boolean"){var N=T.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=Tre(A),S={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},C=A.width/N.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,C);if(!I)return null;var R=this.state,O=R.xAxisMap,D=R.yAxisMap,M=this.getTooltipEventType(),F=uN(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&O&&D){var B=lo(O).scale,K=lo(D).scale,W=B&&B.invert?B.invert(S.chartX):null,U=K&&K.invert?K.invert(S.chartY):null;return z(z({},S),{},{xValue:W,yValue:U},F)}return F?z(z({},S),F):null}},{key:"inRange",value:function(T,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=T/A,C=N/A;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,R=S>=I.left&&S<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return R?{x:S,y:C}:null}var O=this.state,D=O.angleAxisMap,M=O.radiusAxisMap;if(D&&M){var F=lo(D);return KC({x:S,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,N=this.getTooltipEventType(),A=Un(T,nr),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Tp(this.props,this.handleOuterEvent);return z(z({},S),P)}},{key:"addListener",value:function(){jv.on(Uv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jv.removeListener(Uv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,N,A){for(var P=this.state.formattedGraphicalItems,S=0,C=P.length;S<C;S++){var I=P[S];if(I.item===T||I.props.key===T.key||N===xi(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,S=N.height,C=N.width;return $.createElement("defs",null,$.createElement("clipPath",{id:T},$.createElement("rect",{x:A,y:P,height:S,width:C})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=sN(A,2),S=P[0],C=P[1];return z(z({},N),{},ge({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=sN(A,2),S=P[0],C=P[1];return z(z({},N),{},ge({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(T){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(T){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var S=0,C=A.length;S<C;S++){var I=A[S],R=I.props,O=I.item,D=O.type.defaultProps!==void 0?z(z({},O.type.defaultProps),O.props):O.props,M=xi(O.type);if(M==="Bar"){var F=(R.data||[]).find(function(U){return cfe(T,U)});if(F)return{graphicalItem:I,payload:F}}else if(M==="RadialBar"){var B=(R.data||[]).find(function(U){return KC(T,U)});if(B)return{graphicalItem:I,payload:B}}else if(Yg(I,P)||Xg(I,P)||yf(I,P)){var K=hde({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),W=D.activeIndex===void 0?K:D.activeIndex;return{graphicalItem:z(z({},I),{},{childIndex:W}),payload:yf(I,P)?D.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var T=this;if(!VA(this))return null;var N=this.props,A=N.children,P=N.className,S=N.width,C=N.height,I=N.style,R=N.compact,O=N.title,D=N.desc,M=aN(N,_ge),F=Ce(M,!1);if(R)return $.createElement(GP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(h_,Aa({},F,{width:S,height:C,title:O,desc:D}),this.renderClipPath(),UA(A,this.renderMap)));if(this.props.accessibilityLayer){var B,K;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(K=this.props.role)!==null&&K!==void 0?K:"application",F.onKeyDown=function(U){T.accessibilityManager.keyboardEvent(U)},F.onFocus=function(){T.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return $.createElement(GP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Aa({className:De("recharts-wrapper",P),style:z({position:"relative",cursor:"default",width:S,height:C},I)},W,{ref:function(H){T.container=H}}),$.createElement(h_,Aa({},F,{width:S,height:C,title:O,desc:D,style:Lge}),this.renderClipPath(),UA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(V.Component);ge(v,"displayName",n),ge(v,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ge(v,"getDerivedStateFromProps",function(x,_){var b=x.dataKey,T=x.data,N=x.children,A=x.width,P=x.height,S=x.layout,C=x.stackOffset,I=x.margin,R=_.dataStartIndex,O=_.dataEndIndex;if(_.updateId===void 0){var D=cN(x);return z(z(z({},D),{},{updateId:0},y(z(z({props:x},D),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(b!==_.prevDataKey||T!==_.prevData||A!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||C!==_.prevStackOffset||!Ua(I,_.prevMargin)){var M=cN(x),F={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},B=z(z({},uN(_,T,S)),{},{updateId:_.updateId+1}),K=z(z(z({},M),F),B);return z(z(z({},K),y(z({props:x},K),_)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(!f_(N,_.prevChildren)){var W,U,H,J,oe=Un(N,bl),Z=oe&&(W=(U=oe.props)===null||U===void 0?void 0:U.startIndex)!==null&&W!==void 0?W:R,le=oe&&(H=(J=oe.props)===null||J===void 0?void 0:J.endIndex)!==null&&H!==void 0?H:O,Ie=Z!==R||le!==O,Le=!ke(T),et=Le&&!Ie?_.updateId:_.updateId+1;return z(z({updateId:et},y(z(z({props:x},_),{},{updateId:et,dataStartIndex:Z,dataEndIndex:le}),_)),{},{prevChildren:N,dataStartIndex:Z,dataEndIndex:le})}return null}),ge(v,"renderActiveDot",function(x,_,b){var T;return V.isValidElement(x)?T=V.cloneElement(x,_):Se(x)?T=x(_):T=$.createElement(WE,_),$.createElement(dt,{className:"recharts-active-dot",key:b},T)});var w=V.forwardRef(function(_,b){return $.createElement(v,Aa({},_,{ref:b}))});return w.displayName=v.displayName,w},rT=Hge({chartName:"AreaChart",GraphicalChild:pr,axisComponents:[{axisType:"xAxis",AxisComp:nu},{axisType:"yAxis",AxisComp:iy}],formatAxisMap:Vhe});const Wge=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Kge=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:_D,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:vD,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:lc,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:xD,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),g.jsxs("div",{className:"flex gap-2 text-sm",children:[g.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),g.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:Wb,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:zf,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:lc,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:wD,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:g.jsx(n.icon,{className:"w-6 h-6"})}),g.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),g.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[g.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[g.jsx(ND,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>g.jsxs("button",{onClick:()=>t==null?void 0:t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[g.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:g.jsx(n.icon,{className:"w-6 h-6"})}),g.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),g.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),g.jsx(L9,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),g.jsx("div",{className:"h-80 w-full",children:g.jsx(xE,{width:"100%",height:"100%",children:g.jsxs(rT,{data:Wge,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),g.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),g.jsx(ry,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),g.jsx(nu,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),g.jsx(iy,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),g.jsx(nr,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),g.jsx(pr,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),g.jsx(pr,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),g.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[g.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"relative z-10 space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(q9,{className:"w-6 h-6 text-orange-500"}),g.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),g.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[g.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?g.jsx(pg,{className:"w-4 h-4 text-green-400"}):g.jsx(F9,{className:"w-4 h-4 text-orange-500"})]},r))}),g.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[g.jsx(Bb,{className:"w-4 h-4"})," Aadir Requisito"]})]}),g.jsx(l_,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(lc,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[g.jsx(Fb,{className:"w-5 h-5 text-orange-600 shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),g.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Jge=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(""),[i,o]=V.useState(!0),[s,a]=V.useState(!1),[l,u]=V.useState({name:"",price:"",stock:"",code:""}),c=async()=>{o(!0);try{const h=ws(Te(ue,"products")),y=await kr(h);e(y.docs.map(v=>({id:v.id,...v.data()})))}catch(h){console.error(h)}finally{o(!1)}};V.useEffect(()=>{c()},[]);const f=t.filter(h=>{var y,v;return((y=h.name)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((v=h.code)==null?void 0:v.includes(n))});return g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Inventario"}),g.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-4",children:g.jsxs("div",{className:"relative flex-1",children:[g.jsx(qs,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),g.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-14 pr-6 py-4 bg-slate-50 rounded-2xl outline-none font-bold text-slate-800",value:n,onChange:h=>r(h.target.value)})]})}),g.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Descripcin"}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Precio"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:3,className:"text-center py-20 font-bold text-slate-300 animate-pulse",children:"Sincronizando..."})}):f.map(h=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800",children:h.name||"Sin nombre"}),g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["SKU: ",h.code||"S/C"]})]}),g.jsxs("td",{className:"px-8 py-5 text-center font-black text-slate-600",children:[h.stock||0," U."]}),g.jsxs("td",{className:"px-8 py-5 text-right font-black text-xl text-slate-900",children:["$",(Number(h.price)||0).toLocaleString()]})]},h.id))})]})})]})},Yge=({companyInfo:t})=>{const[e,n]=V.useState([]),[r,i]=V.useState(""),[o,s]=V.useState([]),[a,l]=V.useState(!0),[u,c]=V.useState(!1),[f,h]=V.useState(!1),[y,v]=V.useState("efectivo"),[w,x]=V.useState(!1),[_,b]=V.useState({name:"",price:"",qty:"1"});V.useEffect(()=>{(async()=>{try{const C=await kr(Te(ue,"products"));n(C.docs.map(I=>({id:I.id,...I.data()})))}catch(C){console.error(C)}finally{l(!1)}})()},[]);const T=o.reduce((S,C)=>S+(Number(C.price)||0)*(C.quantity||1),0),N=S=>{const C=o.find(I=>I.id===S.id);s(C?o.map(I=>I.id===S.id?{...I,quantity:I.quantity+1}:I):[...o,{...S,quantity:1}])},A=()=>{if(!_.name||!_.price)return;const S={id:"manual-"+Date.now(),name:`[M] ${_.name}`,price:Number(_.price),quantity:Number(_.qty),code:"MANUAL",stock:0};s([...o,S]),h(!1),b({name:"",price:"",qty:"1"})},P=async S=>{x(!0);try{await Vt(Te(ue,S==="PRESUPUESTO"?"quotes":S==="REMITO"?"remitos":"sales"),{items:o,total:T,paymentMethod:y,docType:S,status:S==="PRESUPUESTO"?"Pendiente":"Completado",date:P8()}),alert(`Operacin registrada como: ${S}`),s([]),c(!1)}catch{alert("Error al procesar")}finally{x(!1)}};return g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-full text-left animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex-1 space-y-6",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(qs,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),g.jsx("input",{type:"text",placeholder:"Buscar artculo...",className:"w-full pl-14 pr-6 py-4 bg-white border border-slate-100 rounded-2xl shadow-sm outline-none focus:ring-2 focus:ring-orange-500 font-bold text-slate-800",value:r,onChange:S=>i(S.target.value)})]}),g.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center gap-2 shadow-lg hover:bg-black transition-all",children:[g.jsx(ID,{size:20})," ",g.jsx("span",{className:"hidden md:inline",children:"Item Manual"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 overflow-y-auto max-h-[70vh] pr-2 custom-scrollbar",children:e.filter(S=>{var C;return(C=S.name)==null?void 0:C.toLowerCase().includes(r.toLowerCase())}).map(S=>g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 flex flex-col justify-between hover:border-orange-500 transition-all group shadow-sm",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:S.code||"S/C"}),g.jsx("h3",{className:"font-bold text-slate-800 leading-tight h-10 overflow-hidden",children:S.name}),g.jsxs("p",{className:"text-2xl font-black text-slate-900 mt-2",children:["$",(Number(S.price)||0).toLocaleString()]})]}),g.jsxs("button",{onClick:()=>N(S),className:"w-full py-3 bg-slate-50 group-hover:bg-orange-600 group-hover:text-white rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[g.jsx(Mi,{size:16})," AGREGAR"]})]},S.id))})]}),g.jsx("div",{className:"w-full lg:w-[400px]",children:g.jsxs("div",{className:"bg-slate-950 text-white p-8 rounded-[3.5rem] shadow-2xl flex flex-col min-h-[650px] sticky top-0",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h2",{className:"text-xl font-black flex items-center gap-3 italic text-orange-500",children:[g.jsx(Hb,{})," CARRITO"]}),g.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-full text-[10px] font-black",children:[o.length," ITEMS"]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-6 pr-2 custom-scrollbar",children:o.map((S,C)=>g.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5",children:[g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("p",{className:"text-xs font-bold truncate pr-2",children:S.name}),g.jsxs("p",{className:"text-[10px] text-slate-500 font-bold",children:[S.quantity," x $",(Number(S.price)||0).toLocaleString()]})]}),g.jsx("button",{onClick:()=>s(o.filter((I,R)=>R!==C)),className:"text-slate-600 hover:text-red-400 transition-colors",children:g.jsx(gg,{size:16})})]},C))}),g.jsxs("div",{className:"pt-6 border-t border-white/5 space-y-6",children:[g.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"efectivo",icon:a_,label:"Efe"},{id:"tarjeta",icon:_p,label:"Tarj"},{id:"transfer",icon:wp,label:"Trans"}].map(S=>g.jsxs("button",{onClick:()=>v(S.id),className:`flex flex-col items-center gap-1 py-3 rounded-xl transition-all border ${y===S.id?"bg-orange-600 border-orange-500 text-white shadow-lg":"bg-white/5 border-white/5 text-slate-500"}`,children:[g.jsx(S.icon,{size:16}),g.jsx("span",{className:"text-[9px] font-black uppercase",children:S.label})]},S.id))}),g.jsx("div",{className:"flex justify-between items-end",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mb-1",children:"Total a Cobrar"}),g.jsxs("p",{className:"text-4xl font-black text-white",children:["$",T.toLocaleString()]})]})}),g.jsxs("button",{disabled:o.length===0,onClick:()=>c(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-900/20 flex items-center justify-center gap-3 disabled:opacity-20",children:["FINALIZAR OPERACIN ",g.jsx(jb,{size:20})]})]})]})}),f&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-6 z-[110]",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-md shadow-2xl animate-in zoom-in",children:[g.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-6",children:"Agregar Item Manual"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{className:"w-full p-4 bg-slate-50 rounded-2xl font-bold",placeholder:"Descripcin (ej: Flete, Tornillos...)",value:_.name,onChange:S=>b({..._,name:S.target.value})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold",placeholder:"Precio ($)",value:_.price,onChange:S=>b({..._,price:S.target.value})}),g.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold",placeholder:"Cant.",value:_.qty,onChange:S=>b({..._,qty:S.target.value})})]}),g.jsx("button",{onClick:A,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase shadow-xl",children:"Aadir al Carrito"}),g.jsx("button",{onClick:()=>h(!1),className:"w-full text-slate-400 font-bold text-xs py-2 uppercase",children:"Cancelar"})]})]})}),u&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-6 z-[110]",children:g.jsxs("div",{className:"bg-white rounded-[3.5rem] p-12 w-full max-w-2xl shadow-2xl animate-in zoom-in",children:[g.jsxs("div",{className:"flex justify-between items-center mb-10 text-left",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter uppercase",children:"Documentar Venta"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Selecciona el tipo de salida para esta operacin."})]}),g.jsx("button",{onClick:()=>c(!1),className:"p-3 bg-slate-100 rounded-full",children:g.jsx(Lo,{})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(ih,{icon:g.jsx(Gb,{}),title:"Ingreso de Venta",desc:"Solo registro interno de caja",onClick:()=>P("VENTA"),color:"border-blue-100 hover:border-blue-500 group-hover:bg-blue-600"}),g.jsx(ih,{icon:g.jsx(ul,{}),title:"Facturar (ARCA/AFIP)",desc:"Generar comprobante legal A o B",onClick:()=>P("ARCA"),color:"border-orange-100 hover:border-orange-500 group-hover:bg-orange-600"}),g.jsx(ih,{icon:g.jsx(Kb,{}),title:"Generar Remito",desc:"Solo documento de entrega",onClick:()=>P("REMITO"),color:"border-purple-100 hover:border-purple-500 group-hover:bg-purple-600"}),g.jsx(ih,{icon:g.jsx(U9,{}),title:"Convertir a Presupuesto",desc:"Vlido por 7 das",onClick:()=>P("PRESUPUESTO"),color:"border-green-100 hover:border-green-500 group-hover:bg-green-600"})]})]})})]})},ih=({icon:t,title:e,desc:n,onClick:r,color:i})=>g.jsxs("button",{onClick:r,className:`p-6 border-2 rounded-[2rem] text-left transition-all group flex flex-col gap-3 ${i}`,children:[g.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center group-hover:text-white transition-all",children:t}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:e}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold italic mt-1",children:n})]})]});var Xge={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qge,Zge;function eye(){return{geminiUrl:Qge,vertexUrl:Zge}}function tye(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=eye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zi{}function ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];m(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>d(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function nye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Rx(t,i,o,0,s)}}function Rx(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Rx(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Rx(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rye(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function iye(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],sye(s)),e}function oye(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],aye(s)),e}function sye(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>lye(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function aye(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>uye(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function lye(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],mye(n)),e}function uye(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],gye(n)),e}function cye(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function fye(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function dye(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],hye(s)),e}function hye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&m(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function oj(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],pye(s)),e}function pye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&m(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function mye(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],iT(r));const i=d(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function gye(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],iT(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dN||(dN={}));var hN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(hN||(hN={}));var pN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(pN||(pN={}));var ct;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ct||(ct={}));var mN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mN||(mN={}));var gN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(gN||(gN={}));var yN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yN||(yN={}));var vN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vN||(vN={}));var _N;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_N||(_N={}));var xN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xN||(xN={}));var wN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(wN||(wN={}));var bN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(bN||(bN={}));var EN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(EN||(EN={}));var TN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(TN||(TN={}));var SN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(SN||(SN={}));var AN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(AN||(AN={}));var IN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(IN||(IN={}));var CN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(CN||(CN={}));var PN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(PN||(PN={}));var NN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(NN||(NN={}));var kN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kN||(kN={}));var Tm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Tm||(Tm={}));var RN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(RN||(RN={}));var MN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(MN||(MN={}));var ON;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ON||(ON={}));var Mx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mx||(Mx={}));var DN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(DN||(DN={}));var LN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(LN||(LN={}));var Ox;(function(t){t.COLLECTION="COLLECTION"})(Ox||(Ox={}));var $N;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})($N||($N={}));var VN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(VN||(VN={}));var jN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(jN||(jN={}));var UN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(UN||(UN={}));var FN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(FN||(FN={}));var BN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(BN||(BN={}));var GN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(GN||(GN={}));var zN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zN||(zN={}));var qN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qN||(qN={}));var HN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(HN||(HN={}));var WN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(WN||(WN={}));var KN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(KN||(KN={}));var JN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(JN||(JN={}));var YN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(YN||(YN={}));var XN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(XN||(XN={}));var QN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(QN||(QN={}));var ZN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(ZN||(ZN={}));var ek;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ek||(ek={}));var tk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(tk||(tk={}));var nk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(nk||(nk={}));var rk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(rk||(rk={}));var ik;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ik||(ik={}));var ok;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ok||(ok={}));var sk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(sk||(sk={}));var ak;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ak||(ak={}));var lk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lk||(lk={}));var uk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(uk||(uk={}));var Ia;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ia||(Ia={}));class Dx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $u{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class ck{}class fk{}class yye{}class vye{}class _ye{}class xye{}class dk{}class hk{}class pk{}class wye{}class Sm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Sm;let i;const o=e;return n?i=oye(o):i=iye(o),Object.assign(r,i),r}}class mk{}class gk{}class yk{}class vk{}class bye{}class Eye{}class Tye{}class oT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new oT,o=dye(e);return Object.assign(r,o),r}}class Sye{}class Aye{}class Iye{}class _k{}class Cye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Pye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sT,o=oj(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sj(t,e){const n=Ue(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function aj(t){return Array.isArray(t)?t.map(e=>Am(e)):[Am(t)]}function Am(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function lj(t){const e=Am(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uj(t){const e=Am(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function cj(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>xk(e)):[xk(t)]}function Lx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function wk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function bk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pn(t){if(t==null)throw new Error("ContentUnion is required");return Lx(t)?t:{role:"user",parts:cj(t)}}function aT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=pn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=pn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pn(n)):[pn(e)]}function cr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(wk(t)||bk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pn(t)]}const e=[],n=[],r=Lx(t[0]);for(const i of t){const o=Lx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(wk(i)||bk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:cj(n)}),e}function Nye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ct).includes(n[0].toUpperCase())?n[0].toUpperCase():ct.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ct).includes(r.toUpperCase())?r.toUpperCase():ct.TYPE_UNSPECIFIED})}}function za(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Nye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(ct).includes(a.toUpperCase())?a.toUpperCase():ct.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=za(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(za(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=za(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function lT(t){return za(t)}function uT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ru(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=za(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=za(e.response));return t}function iu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function kye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qi(t,e){if(typeof e!="string")throw new Error("name must be a string");return kye(t,e,"cachedContents")}function fj(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ho(t){return iT(t)}function Rye(t){return t!=null&&typeof t=="object"&&"name"in t}function Mye(t){return t!=null&&typeof t=="object"&&"video"in t}function Oye(t){return t!=null&&typeof t=="object"&&"uri"in t}function dj(t){var e;let n;if(Rye(t)&&(n=t.name),!(Oye(t)&&(n=t.uri,n===void 0))&&!(Mye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function hj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function pj(t){for(const e of["models","tunedModels","publisherModels"])if(Dye(t,e))return t[e];return[]}function Dye(t,e){return t!==null&&typeof t=="object"&&e in t}function Lye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function $ye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Lye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function mj(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Vye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gj(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ou(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yj(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jye(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_ve(s))),m(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["inlinedEmbedContentResponses"],o)}return e}function Uye(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Fye(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function kh(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&m(e,["state"],yj(i));const o=d(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["metadata","endTime"]);s!=null&&m(e,["endTime"],s);const a=d(t,["metadata","updateTime"]);a!=null&&m(e,["updateTime"],a);const l=d(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&m(e,["dest"],jye(gj(u))),e}function $x(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["state"]);i!=null&&m(e,["state"],yj(i));const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=d(t,["startTime"]);a!=null&&m(e,["startTime"],a);const l=d(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&m(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&m(e,["src"],Bye(f));const h=d(t,["outputConfig"]);h!=null&&m(e,["dest"],Uye(gj(h)));const y=d(t,["completionStats"]);return y!=null&&m(e,["completionStats"],y),e}function Bye(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Gye(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>vve(t,s))),m(n,["requests","requests"],o)}return n}function zye(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qye(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Hye(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ou(t,r)),n}function Wye(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ou(t,r)),n}function Kye(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Jye(r));const i=d(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&m(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Jye(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function vj(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ave(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Yye(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Xye(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Fye(Vye(i))),n}function Ek(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Gye(t,mj(t,i)));const o=d(e,["config"]);return o!=null&&Yye(o,n),n}function Qye(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],Ue(t,r));const i=d(e,["src"]);i!=null&&m(n,["inputConfig"],zye(mj(t,i)));const o=d(e,["config"]);return o!=null&&Xye(o,n),n}function Zye(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function eve(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["src"]);i!=null&&m(n,["batch","inputConfig"],ave(t,i));const o=d(e,["config"]);return o!=null&&Zye(o,n),n}function tve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ou(t,r)),n}function nve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ou(t,r)),n}function rve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function ive(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function ove(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=aT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(m(n,["_self"],sve(i,n)),nye(n,{"requests[].*":"requests[].request.*"})),n}function sve(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ave(t,e){const n={},r=d(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],ove(t,i)),n}function lve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function uve(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cve(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&m(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fve(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],vj(pn(i)));const o=d(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&m(r,["topP"],s);const a=d(e,["topK"]);a!=null&&m(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=d(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=d(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=d(e,["seed"]);w!=null&&m(r,["seed"],w);const x=d(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const _=d(e,["responseSchema"]);_!=null&&m(r,["responseSchema"],lT(_));const b=d(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(e,["safetySettings"]);if(n!==void 0&&T!=null){let M=T;Array.isArray(M)&&(M=M.map(F=>Ive(F))),m(n,["safetySettings"],M)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let M=iu(N);Array.isArray(M)&&(M=M.map(F=>Pve(ru(F)))),m(n,["tools"],M)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&m(n,["toolConfig"],Cve(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=d(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],qi(t,P));const S=d(e,["responseModalities"]);S!=null&&m(r,["responseModalities"],S);const C=d(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const I=d(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],uT(I)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=d(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const O=d(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],yve(O));const D=d(e,["enableEnhancedCivicAnswers"]);if(D!=null&&m(r,["enableEnhancedCivicAnswers"],D),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function dve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Kye(u))),m(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&m(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function hve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ou(t,r)),n}function pve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ou(t,r)),n}function mve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function gve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function yve(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vve(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["request","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let a=cr(i);Array.isArray(a)&&(a=a.map(l=>vj(l))),m(n,["request","contents"],a)}const o=d(e,["metadata"]);o!=null&&m(n,["metadata"],o);const s=d(e,["config"]);return s!=null&&m(n,["request","generationConfig"],fve(t,s,d(n,["request"],{}))),n}function _ve(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],dve(n));const r=d(t,["error"]);return r!=null&&m(e,["error"],r),e}function xve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function wve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function bve(t){const e={},n=d(t,["config"]);return n!=null&&xve(n,e),e}function Eve(t){const e={},n=d(t,["config"]);return n!=null&&wve(n,e),e}function Tve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>kh(s))),m(e,["batchJobs"],o)}return e}function Sve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$x(s))),m(e,["batchJobs"],o)}return e}function Ave(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],lve(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],uve(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],qye(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Ive(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Cve(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],cve(r)),e}function Pve(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],mve(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],gve(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vi||(Vi={}));class Ys{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nve extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Ek(this.apiClient,e),r=n._url,i=ae("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Qye(this.apiClient,e);return a=ae("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>$x(c))}else{const u=Ek(this.apiClient,e);return a=ae("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>kh(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eve(this.apiClient,e);return o=ae("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>kh(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pve(this.apiClient,e);return a=ae("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>$x(c))}else{const u=hve(this.apiClient,e);return a=ae("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>kh(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Wye(this.apiClient,e);s=ae("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Hye(this.apiClient,e);s=ae("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Eve(e);return a=ae("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Sve(c),h=new _k;return Object.assign(h,f),h})}else{const u=bve(e);return a=ae("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Tve(c),h=new _k;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nve(this.apiClient,e);return a=ae("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>ive(c))}else{const u=tve(this.apiClient,e);return a=ae("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>rve(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kve(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Tk(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>e0e(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Rve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let c=cr(s);Array.isArray(c)&&(c=c.map(f=>Tk(f))),m(e,["contents"],c)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&m(e,["systemInstruction"],Tk(pn(a)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>n0e(f))),m(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],t0e(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Mve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let f=cr(s);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&m(e,["systemInstruction"],pn(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>r0e(h))),m(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function Ove(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],sj(t,r));const i=d(e,["config"]);return i!=null&&Rve(i,n),n}function Dve(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],sj(t,r));const i=d(e,["config"]);return i!=null&&Mve(i,n),n}function Lve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function $ve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function Vve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function jve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Uve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Fve(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bve(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&m(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Gve(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const a=d(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function qve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function Hve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Wve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Kve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Jve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Yve(t){const e={},n=d(t,["config"]);return n!=null&&Kve(n,e),e}function Xve(t){const e={},n=d(t,["config"]);return n!=null&&Jve(n,e),e}function Qve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["cachedContents"],o)}return e}function Zve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["cachedContents"],o)}return e}function e0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],Uve(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],Fve(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],kve(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function t0e(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],Bve(r)),e}function n0e(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Hve(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],Wve(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function r0e(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>Gve(h))),m(e,["functionDeclarations"],f)}const a=d(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=d(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function i0e(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function o0e(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function s0e(t,e){const n={},r=d(e,["name"]);r!=null&&m(n,["_url","name"],qi(t,r));const i=d(e,["config"]);return i!=null&&i0e(i,n),n}function a0e(t,e){const n={},r=d(e,["name"]);r!=null&&m(n,["_url","name"],qi(t,r));const i=d(e,["config"]);return i!=null&&o0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l0e extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Dve(this.apiClient,e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Ove(this.apiClient,e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=qve(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=zve(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$ve(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=jve(c),h=new yk;return Object.assign(h,f),h})}else{const u=Lve(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Vve(c),h=new yk;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=a0e(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=s0e(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Xve(e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Zve(c),h=new vk;return Object.assign(h,f),h})}else{const u=Yve(e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Qve(c),h=new vk;return Object.assign(h,f),h})}}}function Im(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function we(t){return this instanceof we?(this.v=t,this):new we(t)}function Mr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(w){return new Promise(function(x,_){o.push([y,w,x,_])>1||l(y,w)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(w){h(o[0][3],w)}}function u(y){y.value instanceof we?Promise.resolve(y.value.v).then(c,f):h(o[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Or(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Sk=="function"?Sk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_j(n)}function _j(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function c0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ak(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!_j(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class f0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new d0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class d0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),c0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=pn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=pn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Ak(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Mr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,h=Or(e),y;y=yield we(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(u0e(v)){const w=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield we(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield we(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ak(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Tf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h0e(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function p0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function m0e(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],dj(n)),e}function g0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function y0e(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],dj(n)),e}function v0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function _0e(t){const e={},n=d(t,["config"]);return n!=null&&v0e(n,e),e}function x0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w0e extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_0e(e);return o=ae("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=x0e(l),c=new Sye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=h0e(e);return o=ae("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=p0e(l),c=new Aye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=y0e(e);return o=ae("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=m0e(e);return o=ae("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=g0e(l),c=new Iye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rh(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function b0e(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>V0e(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function E0e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function T0e(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function S0e(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const a=d(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function A0e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&m(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&m(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const y=d(t,["responseMimeType"]);y!=null&&m(e,["responseMimeType"],y);const v=d(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const w=d(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const x=d(t,["routingConfig"]);x!=null&&m(e,["routingConfig"],x);const _=d(t,["seed"]);_!=null&&m(e,["seed"],_);const b=d(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],b);const T=d(t,["stopSequences"]);T!=null&&m(e,["stopSequences"],T);const N=d(t,["temperature"]);N!=null&&m(e,["temperature"],N);const A=d(t,["thinkingConfig"]);A!=null&&m(e,["thinkingConfig"],A);const P=d(t,["topK"]);P!=null&&m(e,["topK"],P);const S=d(t,["topP"]);if(S!=null&&m(e,["topP"],S),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function I0e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function C0e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function P0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],cT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],b0e(pn(v)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let P=iu(w);Array.isArray(P)&&(P=P.map(S=>U0e(ru(S)))),m(e,["setup","tools"],P)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],j0e(x));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","inputAudioTranscription"],_);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=d(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=d(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=d(t,["proactivity"]);if(e!==void 0&&A!=null&&m(e,["setup","proactivity"],A),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function N0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],A0e(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],cT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],pn(v));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let S=iu(w);Array.isArray(S)&&(S=S.map(C=>F0e(ru(C)))),m(e,["setup","tools"],S)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],x);const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","inputAudioTranscription"],_);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=d(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=d(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=d(t,["proactivity"]);e!==void 0&&A!=null&&m(e,["setup","proactivity"],A);const P=d(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&m(e,["setup","explicitVadSignal"],P),n}function k0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],Ue(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],P0e(i,n)),n}function R0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],Ue(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],N0e(i,n)),n}function M0e(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function O0e(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function D0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=aj(n);Array.isArray(u)&&(u=u.map(c=>Rh(c))),m(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&m(e,["audio"],Rh(uj(r)));const i=d(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&m(e,["video"],Rh(lj(o)));const s=d(t,["text"]);s!=null&&m(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&m(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function L0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=aj(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&m(e,["audio"],uj(r));const i=d(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&m(e,["video"],lj(o));const s=d(t,["text"]);s!=null&&m(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&m(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function $0e(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const s=d(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],B0e(s));const a=d(t,["goAway"]);a!=null&&m(e,["goAway"],a);const l=d(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=d(t,["voiceActivityDetectionSignal"]);u!=null&&m(e,["voiceActivityDetectionSignal"],u);const c=d(t,["voiceActivity"]);return c!=null&&m(e,["voiceActivity"],G0e(c)),e}function V0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],E0e(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],T0e(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],Rh(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function j0e(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function U0e(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],I0e(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],C0e(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function F0e(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>S0e(h))),m(e,["functionDeclarations"],f)}const a=d(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=d(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function B0e(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=d(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const a=d(t,["totalTokenCount"]);a!=null&&m(e,["totalTokenCount"],a);const l=d(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["promptTokensDetails"],y)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["cacheTokensDetails"],y)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["responseTokensDetails"],y)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["toolUsePromptTokensDetails"],y)}const h=d(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}function G0e(t){const e={},n=d(t,["type"]);return n!=null&&m(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z0e(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function q0e(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],H0e(r));const i=d(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&m(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function H0e(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function W0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let o=cr(i);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["contents"],o)}return n}function K0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function J0e(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&m(e,["statistics"],Y0e(r)),e}function Y0e(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function sy(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oxe(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function X0e(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Q0e(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Z0e(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],pn(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ej(a))),m(e,["tools"],s)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],z_e(o)),n}function e_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>sy(a))),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&Q0e(o),n}function t_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&Z0e(o,n),n}function n_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function r_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function i_e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],Ue(t,r)),n}function o_e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],Ue(t,r)),n}function s_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function a_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function l_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=d(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const x=d(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const b=d(t,["editMode"]);e!==void 0&&b!=null&&m(e,["parameters","editMode"],b);const T=d(t,["baseSteps"]);return e!==void 0&&T!=null&&m(e,["parameters","editConfig","baseSteps"],T),n}function u_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>fxe(l))),m(n,["instances[0]","referenceImages"],a)}const s=d(e,["config"]);return s!=null&&l_e(s,n),n}function c_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ay(o))),m(e,["generatedImages"],i)}return e}function f_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function d_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const s=d(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["instances[]","mimeType"],s);const a=d(t,["autoTruncate"]);return e!==void 0&&a!=null&&m(e,["parameters","autoTruncate"],a),n}function h_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let a=aT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),m(n,["requests[]","content"],a)}const o=d(e,["config"]);o!=null&&f_e(o,n);const s=d(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],Ue(t,s)),n}function p_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let s=aT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["instances[]","content"],s)}const o=d(e,["config"]);return o!=null&&d_e(o,n),n}function m_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function g_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>J0e(s))),m(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function y_e(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function v_e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function __e(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x_e(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&m(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function w_e(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const a=d(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function b_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],sy(pn(i)));const o=d(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&m(r,["topP"],s);const a=d(e,["topK"]);a!=null&&m(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=d(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=d(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=d(e,["seed"]);w!=null&&m(r,["seed"],w);const x=d(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const _=d(e,["responseSchema"]);_!=null&&m(r,["responseSchema"],lT(_));const b=d(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(e,["safetySettings"]);if(n!==void 0&&T!=null){let M=T;Array.isArray(M)&&(M=M.map(F=>dxe(F))),m(n,["safetySettings"],M)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let M=iu(N);Array.isArray(M)&&(M=M.map(F=>_xe(ru(F)))),m(n,["tools"],M)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&m(n,["toolConfig"],vxe(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=d(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],qi(t,P));const S=d(e,["responseModalities"]);S!=null&&m(r,["responseModalities"],S);const C=d(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const I=d(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],uT(I)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=d(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const O=d(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],J_e(O));const D=d(e,["enableEnhancedCivicAnswers"]);if(D!=null&&m(r,["enableEnhancedCivicAnswers"],D),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function E_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],pn(i));const o=d(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&m(r,["topP"],s);const a=d(e,["topK"]);a!=null&&m(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=d(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=d(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=d(e,["seed"]);w!=null&&m(r,["seed"],w);const x=d(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const _=d(e,["responseSchema"]);_!=null&&m(r,["responseSchema"],lT(_));const b=d(e,["responseJsonSchema"]);b!=null&&m(r,["responseJsonSchema"],b);const T=d(e,["routingConfig"]);T!=null&&m(r,["routingConfig"],T);const N=d(e,["modelSelectionConfig"]);N!=null&&m(r,["modelConfig"],N);const A=d(e,["safetySettings"]);if(n!==void 0&&A!=null){let W=A;Array.isArray(W)&&(W=W.map(U=>U)),m(n,["safetySettings"],W)}const P=d(e,["tools"]);if(n!==void 0&&P!=null){let W=iu(P);Array.isArray(W)&&(W=W.map(U=>Ej(ru(U)))),m(n,["tools"],W)}const S=d(e,["toolConfig"]);n!==void 0&&S!=null&&m(n,["toolConfig"],S);const C=d(e,["labels"]);n!==void 0&&C!=null&&m(n,["labels"],C);const I=d(e,["cachedContent"]);n!==void 0&&I!=null&&m(n,["cachedContent"],qi(t,I));const R=d(e,["responseModalities"]);R!=null&&m(r,["responseModalities"],R);const O=d(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const D=d(e,["speechConfig"]);D!=null&&m(r,["speechConfig"],uT(D));const M=d(e,["audioTimestamp"]);M!=null&&m(r,["audioTimestamp"],M);const F=d(e,["thinkingConfig"]);F!=null&&m(r,["thinkingConfig"],F);const B=d(e,["imageConfig"]);if(B!=null&&m(r,["imageConfig"],Y_e(B)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=d(e,["modelArmorConfig"]);return n!==void 0&&K!=null&&m(n,["modelArmorConfig"],K),r}function Ik(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>sy(a))),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&m(n,["generationConfig"],b_e(t,o,n)),n}function Ck(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&m(n,["generationConfig"],E_e(t,o,n)),n}function Pk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>q0e(u))),m(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&m(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function Nk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),m(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const a=d(t,["responseId"]);a!=null&&m(e,["responseId"],a);const l=d(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function T_e(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=d(t,["imageSize"]);if(e!==void 0&&y!=null&&m(e,["parameters","sampleImageSize"],y),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function S_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=d(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const x=d(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const b=d(t,["imageSize"]);e!==void 0&&b!=null&&m(e,["parameters","sampleImageSize"],b);const T=d(t,["enhancePrompt"]);return e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T),n}function A_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&T_e(o,n),n}function I_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&S_e(o,n),n}function C_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>U_e(s))),m(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],wj(i)),e}function P_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ay(s))),m(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],bj(i)),e}function N_e(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=d(t,["resolution"]);e!==void 0&&s!=null&&m(e,["parameters","resolution"],s);const a=d(t,["personGeneration"]);if(e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&m(e,["instances[0]","lastFrame"],ly(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Rxe(y))),m(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function k_e(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const s=d(t,["durationSeconds"]);e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s);const a=d(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const y=d(t,["enhancePrompt"]);e!==void 0&&y!=null&&m(e,["parameters","enhancePrompt"],y);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const w=d(t,["lastFrame"]);e!==void 0&&w!=null&&m(e,["instances[0]","lastFrame"],Vr(w));const x=d(t,["referenceImages"]);if(e!==void 0&&x!=null){let T=x;Array.isArray(T)&&(T=T.map(N=>Mxe(N))),m(e,["instances[0]","referenceImages"],T)}const _=d(t,["mask"]);e!==void 0&&_!=null&&m(e,["instances[0]","mask"],kxe(_));const b=d(t,["compressionQuality"]);return e!==void 0&&b!=null&&m(e,["parameters","compressionQuality"],b),n}function R_e(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],L_e(s)),e}function M_e(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],$_e(s)),e}function O_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&m(n,["instances[0]","image"],ly(o));const s=d(e,["video"]);s!=null&&m(n,["instances[0]","video"],Tj(s));const a=d(e,["source"]);a!=null&&V_e(a,n);const l=d(e,["config"]);return l!=null&&N_e(l,n),n}function D_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&m(n,["instances[0]","image"],Vr(o));const s=d(e,["video"]);s!=null&&m(n,["instances[0]","video"],Sj(s));const a=d(e,["source"]);a!=null&&j_e(a,n);const l=d(e,["config"]);return l!=null&&k_e(l,n),n}function L_e(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>B_e(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function $_e(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>G_e(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function V_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ly(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],Tj(o)),n}function j_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Vr(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],Sj(o)),n}function U_e(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],X_e(n));const r=d(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],wj(i)),e}function ay(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],xj(n));const r=d(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&m(e,["safetyAttributes"],bj(i));const o=d(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function F_e(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],xj(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function B_e(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],Pxe(n)),e}function G_e(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],Nxe(n)),e}function z_e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&m(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&m(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const y=d(t,["responseMimeType"]);y!=null&&m(e,["responseMimeType"],y);const v=d(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const w=d(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const x=d(t,["routingConfig"]);x!=null&&m(e,["routingConfig"],x);const _=d(t,["seed"]);_!=null&&m(e,["seed"],_);const b=d(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],b);const T=d(t,["stopSequences"]);T!=null&&m(e,["stopSequences"],T);const N=d(t,["temperature"]);N!=null&&m(e,["temperature"],N);const A=d(t,["thinkingConfig"]);A!=null&&m(e,["thinkingConfig"],A);const P=d(t,["topK"]);P!=null&&m(e,["topK"],P);const S=d(t,["topP"]);if(S!=null&&m(e,["topP"],S),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function q_e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],Ue(t,r)),n}function H_e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],Ue(t,r)),n}function W_e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function K_e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function J_e(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Y_e(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=d(t,["personGeneration"]);i!=null&&m(e,["personGeneration"],i);const o=d(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const s=d(t,["outputCompressionQuality"]);return s!=null&&m(e,["imageOutputOptions","compressionQuality"],s),e}function X_e(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Ho(n));const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xj(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Ho(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ly(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Ho(n));const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Vr(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Ho(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Q_e(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],hj(t,a)),r}function Z_e(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],hj(t,a)),r}function exe(t,e){const n={},r=d(e,["config"]);return r!=null&&Q_e(t,r,n),n}function txe(t,e){const n={},r=d(e,["config"]);return r!=null&&Z_e(t,r,n),n}function nxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=pj(i);Array.isArray(o)&&(o=o.map(s=>Vx(s))),m(e,["models"],o)}return e}function rxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=pj(i);Array.isArray(o)&&(o=o.map(s=>jx(s))),m(e,["models"],o)}return e}function ixe(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Vx(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["version"]);o!=null&&m(e,["version"],o);const s=d(t,["_self"]);s!=null&&m(e,["tunedModelInfo"],xxe(s));const a=d(t,["inputTokenLimit"]);a!=null&&m(e,["inputTokenLimit"],a);const l=d(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&m(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&m(e,["topP"],h);const y=d(t,["topK"]);y!=null&&m(e,["topK"],y);const v=d(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function jx(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["versionId"]);o!=null&&m(e,["version"],o);const s=d(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>y_e(h))),m(e,["endpoints"],f)}const a=d(t,["labels"]);a!=null&&m(e,["labels"],a);const l=d(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],wxe(l));const u=d(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function oxe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],v_e(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],__e(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],z0e(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function sxe(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],Vr(n)),e}function axe(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const y=d(t,["labels"]);return e!==void 0&&y!=null&&m(e,["labels"],y),n}function lxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["source"]);i!=null&&cxe(i,n);const o=d(e,["config"]);return o!=null&&axe(o,n),n}function uxe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ay(i))),m(e,["generatedImages"],r)}return e}function cxe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],Vr(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>sxe(a))),m(e,["instances[0]","productImages"],s)}return n}function fxe(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Vr(n));const r=d(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],ixe(o));const s=d(t,["controlImageConfig"]);s!=null&&m(e,["controlImageConfig"],X0e(s));const a=d(t,["styleImageConfig"]);a!=null&&m(e,["styleImageConfig"],a);const l=d(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function wj(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function bj(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function dxe(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function hxe(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],Vr(n)),e}function pxe(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const s=d(t,["maskDilation"]);e!==void 0&&s!=null&&m(e,["parameters","maskDilation"],s);const a=d(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","binaryColorThreshold"],a);const l=d(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function mxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["source"]);i!=null&&yxe(i,n);const o=d(e,["config"]);return o!=null&&pxe(o,n),n}function gxe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>F_e(i))),m(e,["generatedMasks"],r)}return e}function yxe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Vr(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],hxe(o)),n}function vxe(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],x_e(r)),e}function _xe(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],W_e(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],K_e(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Ej(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>w_e(h))),m(e,["functionDeclarations"],f)}const a=d(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=d(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function xxe(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function wxe(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function bxe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Exe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Txe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","name"],Ue(t,r));const i=d(e,["config"]);return i!=null&&bxe(i,n),n}function Sxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["config"]);return i!=null&&Exe(i,n),n}function Axe(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const s=d(t,["includeRaiReason"]);e!==void 0&&s!=null&&m(e,["parameters","includeRaiReason"],s);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","mimeType"],a);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const y=d(t,["mode"]);return e!==void 0&&y!=null&&m(e,["parameters","mode"],y),n}function Ixe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],Ue(t,r));const i=d(e,["image"]);i!=null&&m(n,["instances[0]","image"],Vr(i));const o=d(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=d(e,["config"]);return s!=null&&Axe(s,n),n}function Cxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ay(o))),m(e,["generatedImages"],i)}return e}function Pxe(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Ho(r));const i=d(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Nxe(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Ho(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function kxe(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],Vr(n));const r=d(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Rxe(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],ly(n));const r=d(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Mxe(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Vr(n));const r=d(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Tj(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Ho(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function Sj(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Ho(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oxe(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function Dxe(t){const e={},n=d(t,["config"]);return n!=null&&Oxe(n,e),e}function Lxe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function $xe(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&Lxe(r,e),e}function Vxe(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function jxe(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function Uxe(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],Bxe(s)),e}function Fxe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&jxe(i,e),e}function Bxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&m(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Gxe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function zxe(t){const e={},n=d(t,["config"]);return n!=null&&Gxe(n,e),e}function qxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["fileSearchStores"],o)}return e}function Aj(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&m(e,["chunkingConfig"],s),n}function Hxe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&Aj(r,e),e}function Wxe(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kxe="Content-Type",Jxe="X-Server-Timeout",Yxe="User-Agent",Ux="x-goog-api-client",Xxe="1.38.0",Qxe=`google-genai-sdk/${Xxe}`,Zxe="v1beta1",ewe="v1beta";class twe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Zxe}else{if(!this.clientOptions.apiKey)throw new Tf({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ewe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ox.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&nwe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await kk(i),new Dx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await kk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Mr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield we(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const w=JSON.parse(JSON.stringify(v.error)),x=w.status,_=w.code,b=`got status: ${x}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new Tf({message:b,status:_})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const _=s.indexOf(x);_!==-1&&(h===-1||_<h)&&(h=_,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const w=v.trim();if(w.startsWith(a)){const x=w.substring(a.length).trim();try{const _=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield we(new Dx(_))}catch(_){throw new Error(`exception parsing stream chunk ${x}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Qxe+" "+this.clientOptions.userAgentExtra;return e[Yxe]=n,e[Ux]=n,e[Kxe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Jxe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=ae("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&Aj(r,f);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function kk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Tf({message:i,status:n}):new Error(i)}}function nwe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rwe="mcp_used/unknown";let iwe=!1;function Ij(t){for(const e of t)if(owe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return iwe}function Cj(t){var e;const n=(e=t[Ux])!==null&&e!==void 0?e:"";t[Ux]=(n+` ${rwe}`).trimStart()}function owe(t){return t!==null&&typeof t=="object"&&t instanceof fT}function swe(t){return Mr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield we(n.listTools({cursor:i}));for(const a of s.tools)yield yield we(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class fT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new fT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Or(swe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),$ye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function awe(t,e,n){const r=new Pye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class lwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=fwe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(T=>{u=T}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:T=>{awe(y,f.onmessage,T)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(T){}},w=this.webSocketFactory.create(l,cwe(s),v);w.connect(),await c;const b={setup:{model:Ue(this.apiClient,e.model)}};return w.send(JSON.stringify(b)),new uwe(w,this.apiClient)}}class uwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=O0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=M0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ia.PLAY)}pause(){this.sendPlaybackControl(Ia.PAUSE)}stop(){this.sendPlaybackControl(Ia.STOP)}resetContext(){this.sendPlaybackControl(Ia.RESET_CONTEXT)}close(){this.conn.close()}}function cwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hwe(t,e,n){const r=new Cye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=$0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class pwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new lwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&Ij(e.config.tools)&&Cj(f);const h=vwe(f);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),D=!!I&&!!R||!!O;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${O}=${I}`}let y=()=>{};const v=new Promise(I=>{y=I}),w=e.callbacks,x=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),y({})},_=this.apiClient,b={onopen:x,onmessage:I=>{hwe(_,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(I){}},T=this.webSocketFactory.create(c,ywe(h),b);T.connect(),await v;let N=Ue(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(N=`projects/${I}/locations/${R}/`+N)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Tm.AUDIO]}:e.config.responseModalities=[Tm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],S=[];for(const I of P)if(this.isCallableTool(I)){const R=I;S.push(await R.tool())}else S.push(I);S.length>0&&(e.config.tools=S);const C={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=R0e(this.apiClient,C):A=k0e(this.apiClient,C),delete A.config,T.send(JSON.stringify(A)),new gwe(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mwe={turnComplete:!0};class gwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=cr(n.turns),e.isVertexAI()||(r=r.map(i=>sy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(dwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},mwe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:L0e(e)}:n={realtimeInput:D0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ywe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function vwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rk=10;function Mk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(qa(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function qa(t){return"callTool"in t&&typeof t.callTool=="function"}function _we(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>qa(i)))!==null&&r!==void 0?r:!1}function Ok(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(qa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Dk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xwe extends zi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_we(n)||Mk(n.config))return await this.generateContentInternal(l);const u=Ok(n);if(u.length>0){const w=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,f;const h=cr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Rk;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,x=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(qa(_)){const T=await _.callTool(c.functionCalls);x.push(...T)}v++,f={role:"user",parts:x},l.contents=cr(l.contents),l.contents.push(w),l.contents.push(f),Dk(l.config)&&(h.push(w),h.push(f))}return Dk(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),Mk(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=Ok(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ys(Vi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>qa(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&Ij(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Cj(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(qa(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Rk;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return Mr(this,arguments,function*(){for(var h,y,v,w,x,_;a<o;){s&&(a++,s=!1);const A=yield we(u.processParamsMaybeAddMcpUsage(f)),P=yield we(u.generateContentStreamInternal(A)),S=[],C=[];try{for(var b=!0,T=(y=void 0,Or(P)),N;N=yield we(T.next()),h=N.done,!h;b=!0){w=N.value,b=!1;const I=w;if(yield yield we(I),I.candidates&&(!((x=I.candidates[0])===null||x===void 0)&&x.content)){C.push(I.candidates[0].content);for(const R of(_=I.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(R.functionCall.name)){const O=yield we(c.get(R.functionCall.name).callTool([R.functionCall]));S.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!b&&!h&&(v=T.return)&&(yield we(v.call(T)))}finally{if(y)throw y.error}}if(S.length>0){s=!0;const I=new $u;I.candidates=[{content:{role:"user",parts:S}}],yield yield we(I);const R=[];R.push(...C),R.push({role:"user",parts:S});const O=cr(f.contents).concat(R);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ck(this.apiClient,e);return a=ae("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Nk(c),h=new $u;return Object.assign(h,f),h})}else{const u=Ik(this.apiClient,e);return a=ae("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Pk(c),h=new $u;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ck(this.apiClient,e);return a=ae("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Mr(this,arguments,function*(){var h,y,v,w;try{for(var x=!0,_=Or(f),b;b=yield we(_.next()),h=b.done,!h;x=!0){w=b.value,x=!1;const T=w,N=Nk(yield we(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new $u;Object.assign(A,N),yield yield we(A)}}catch(T){y={error:T}}finally{try{!x&&!h&&(v=_.return)&&(yield we(v.call(_)))}finally{if(y)throw y.error}}})})}else{const u=Ik(this.apiClient,e);return a=ae("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Mr(this,arguments,function*(){var h,y,v,w;try{for(var x=!0,_=Or(f),b;b=yield we(_.next()),h=b.done,!h;x=!0){w=b.value,x=!1;const T=w,N=Pk(yield we(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new $u;Object.assign(A,N),yield yield we(A)}}catch(T){y={error:T}}finally{try{!x&&!h&&(v=_.return)&&(yield we(v.call(_)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=p_e(this.apiClient,e);return a=ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=g_e(c),h=new ck;return Object.assign(h,f),h})}else{const u=h_e(this.apiClient,e);return a=ae("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=m_e(c),h=new ck;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=I_e(this.apiClient,e);return a=ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=P_e(c),h=new fk;return Object.assign(h,f),h})}else{const u=A_e(this.apiClient,e);return a=ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=C_e(c),h=new fk;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=u_e(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=c_e(l),c=new yye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Ixe(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Cxe(l),c=new vye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=lxe(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=uxe(l),c=new _ye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=mxe(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=gxe(l),c=new xye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=H_e(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>jx(c))}else{const u=q_e(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Vx(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=txe(this.apiClient,e);return a=ae("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=rxe(c),h=new dk;return Object.assign(h,f),h})}else{const u=exe(this.apiClient,e);return a=ae("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=nxe(c),h=new dk;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Sxe(this.apiClient,e);return a=ae("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>jx(c))}else{const u=Txe(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Vx(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=o_e(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=a_e(c),h=new hk;return Object.assign(h,f),h})}else{const u=i_e(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=s_e(c),h=new hk;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=t_e(this.apiClient,e);return a=ae("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=r_e(c),h=new pk;return Object.assign(h,f),h})}else{const u=e_e(this.apiClient,e);return a=ae("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=n_e(c),h=new pk;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=W0e(this.apiClient,e);return o=ae("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=K0e(l),c=new wye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=D_e(this.apiClient,e);return a=ae("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=M_e(c),h=new Sm;return Object.assign(h,f),h})}else{const u=O_e(this.apiClient,e);return a=ae("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=R_e(c),h=new Sm;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wwe extends zi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fye(e);return a=ae("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=cye(e);return a=ae("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=rye(e);return o=ae("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bwe(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ewe(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Rwe(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Twe(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const s=d(e,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const a=d(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&m(n,["bidiGenerateContentSetup"],kwe(t,a));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function Swe(t,e){const n={},r=d(e,["config"]);return r!=null&&m(n,["config"],Twe(t,r,n)),n}function Awe(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Iwe(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Cwe(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Pwe(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Nwe(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],cT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Ewe(pn(v)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let P=iu(w);Array.isArray(P)&&(P=P.map(S=>Owe(ru(S)))),m(e,["setup","tools"],P)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],Mwe(x));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","inputAudioTranscription"],_);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=d(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=d(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=d(t,["proactivity"]);if(e!==void 0&&A!=null&&m(e,["setup","proactivity"],A),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kwe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],Ue(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],Nwe(i,n)),n}function Rwe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],Awe(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],Iwe(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],bwe(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Mwe(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Owe(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Cwe(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],Pwe(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dwe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Lwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Dwe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class $we extends zi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Swe(this.apiClient,e);o=ae("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=Lwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vwe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function jwe(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&Vwe(r,e),e}function Uwe(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Fwe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Bwe(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&Fwe(r,e),e}function Gwe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zwe extends zi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ys(Vi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Uwe(e);return o=ae("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jwe(e);i=ae("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Bwe(e);return o=ae("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Gwe(l),c=new bye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qwe extends zi{constructor(e,n=new zwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ys(Vi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dxe(e);return o=ae("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Vxe(e);return o=ae("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$xe(e);i=ae("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zxe(e);return o=ae("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qxe(l),c=new Eye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Hxe(e);return o=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Wxe(l),c=new Tye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Fxe(e);return o=ae("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Uxe(l),c=new oT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Pj=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Pj=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Hwe=()=>Pj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Bx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mr extends Error{}class En extends mr{constructor(e,n,r,i){super(`${En.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new uy({message:r,cause:Bx(n)});const o=n;return e===400?new kj(e,o,r,i):e===401?new Rj(e,o,r,i):e===403?new Mj(e,o,r,i):e===404?new Oj(e,o,r,i):e===409?new Dj(e,o,r,i):e===422?new Lj(e,o,r,i):e===429?new $j(e,o,r,i):e>=500?new Vj(e,o,r,i):new En(e,o,r,i)}}class Gx extends En{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class uy extends En{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Nj extends uy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class kj extends En{}class Rj extends En{}class Mj extends En{}class Oj extends En{}class Dj extends En{}class Lj extends En{}class $j extends En{}class Vj extends En{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wwe=/^[a-z][a-z0-9+.-]*:/i,Kwe=t=>Wwe.test(t);let zx=t=>(zx=Array.isArray,zx(t));const Jwe=zx;let Ywe=Jwe;const Lk=Ywe;function Xwe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Qwe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Zwe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new mr(`${t} must be an integer`);if(e<0)throw new mr(`${t} must be a positive integer`);return e},ebe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tbe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nbe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const rbe=()=>{var t,e,n,r,i;const o=nbe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Vk(Deno.build.os),"X-Stainless-Arch":$k(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Vk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":$k((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=ibe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ibe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const $k=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Vk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let oh;const obe=()=>oh??(oh=rbe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function jj(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function abe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return jj({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Uj(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function lbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ube=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fj=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Bv(t,e,n){return Fj(),new File(t,e??"unknown_file",n)}function cbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const fbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bj=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Bj(t),hbe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function pbe(t,e,n){if(Fj(),t=await t,dbe(t))return t instanceof File?t:Bv([await t.arrayBuffer()],t.name);if(hbe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Bv(await qx(i),e,n)}const r=await qx(t);if(e||(e=cbe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Bv(r,e,n)}async function qx(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Bj(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(fbe(t))try{for(var a=!0,l=Or(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await qx(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${mbe(t)}`)}return s}function mbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gj{constructor(e){this._client=e}}Gj._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zj(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jk=Object.freeze(Object.create(null)),gbe=(t=zj)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,h)=>{var y,v,w;/[?#]/.test(f)&&(i=!0);const x=r[h];let _=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((w=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:jk))!==null&&v!==void 0?v:jk))===null||w===void 0?void 0:w.toString))&&(_=x+"",o.push({start:c.length+f.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":_)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),w="^".repeat(y.length);return c=y.start+y.length,h+v+w},"");throw new mr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},sh=gbe(zj);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qj extends Gj{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Im(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new mr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new mr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(sh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(sh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(sh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Im(o,["api_version"]);return this._client.get(sh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}qj._key=Object.freeze(["interactions"]);class Hj extends qj{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ybe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let ah;function dT(t){let e;return(ah??(e=new globalThis.TextEncoder,ah=e.encode.bind(e)))(t)}let lh;function Uk(t){let e;return(lh??(e=new globalThis.TextDecoder,lh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cy{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?dT(e):e;this.buffer=ybe([this.buffer,n]);const r=[];let i;for(;(i=vbe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Uk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Uk(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}cy.NEWLINE_CHARS=new Set([`
`,"\r"]);cy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vbe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function _be(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cm={off:0,error:200,warn:300,info:400,debug:500},Fk=(t,e,n)=>{if(t){if(Qwe(Cm,t))return t;yn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Cm))}`)}};function Ku(){}function uh(t,e,n){return!e||Cm[t]>Cm[n]?Ku:e[t].bind(e)}const xbe={error:Ku,warn:Ku,info:Ku,debug:Ku};let Bk=new WeakMap;function yn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return xbe;const i=Bk.get(n);if(i&&i[0]===r)return i[1];const o={error:uh("error",n,r),warn:uh("warn",n,r),info:uh("info",n,r),debug:uh("debug",n,r)};return Bk.set(n,[r,o]),o}const ls=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ca{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?yn(r):console;function s(){return Mr(this,arguments,function*(){var l,u,c,f;if(i)throw new mr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Or(wbe(e,n)),w;w=yield we(v.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const x=f;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield we(JSON.parse(x.data))}catch(_){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),_}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield we(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Fx(x))return yield we(void 0);throw x}finally{h||n.abort()}})}return new Ca(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Mr(this,arguments,function*(){var l,u,c,f;const h=new cy,y=Uj(e);try{for(var v=!0,w=Or(y),x;x=yield we(w.next()),l=x.done,!l;v=!0){f=x.value,v=!1;const _=f;for(const b of h.decode(_))yield yield we(b)}}catch(_){u={error:_}}finally{try{!v&&!l&&(c=w.return)&&(yield we(c.call(w)))}finally{if(u)throw u.error}}for(const _ of h.flush())yield yield we(_)})}function s(){return Mr(this,arguments,function*(){var l,u,c,f;if(i)throw new mr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Or(o()),w;w=yield we(v.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const x=f;h||x&&(yield yield we(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield we(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Fx(x))return yield we(void 0);throw x}finally{h||n.abort()}})}return new Ca(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ca(()=>i(e),this.controller,this.client),new Ca(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return jj({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=dT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function wbe(t,e){return Mr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mr("Attempted to iterate over a response with no body");const a=new Ebe,l=new cy,u=Uj(t.body);try{for(var c=!0,f=Or(bbe(u)),h;h=yield we(f.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const w=a.decode(v);w&&(yield yield we(w))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=f.return)&&(yield we(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield we(v))}})}function bbe(t){return Mr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Or(t),u;u=yield we(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?dT(c):c;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=_be(s))!==-1;)yield yield we(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield we(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield we(s))})}class Ebe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Tbe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Tbe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Sbe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return yn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ca.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return yn(t).debug(`[${r}] response parsed`,ls({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hT extends Promise{constructor(e,n,r=Sbe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new hT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wj=Symbol("brand.privateNullableHeaders");function*Abe(t){if(!t)return;if(Wj in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Lk(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Lk(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Vu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Abe(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[Wj]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Xge)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kj;class fy{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Gv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Gv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Im(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:fy.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=Fk(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Fk(Gv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:sbe(),this.encoder=ube,this._options=y,this.apiKey=c,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Vu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Vu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Vu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new mr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${Hwe()}`}makeStatusError(e,n,r,i){return En.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Kwe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Xwe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new hT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(yn(this).debug(`[${h}] sending request`,ls({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new Gx;const w=new AbortController,x=await this.fetchWithTimeout(c,u,f,w).catch(Bx),_=Date.now();if(x instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Gx;const N=Fx(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return yn(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${T}`),yn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${T})`,ls({retryOfRequestLogID:r,url:c,durationMs:_-v,message:x.message})),this.retryRequest(a,n,r??h);throw yn(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),yn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,ls({retryOfRequestLogID:r,url:c,durationMs:_-v,message:x.message})),N?new Nj:new uy({cause:x})}const b=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${_-v}ms`;if(!x.ok){const T=await this.shouldRetry(x);if(n&&T){const I=`retrying, ${n} attempts remaining`;return await lbe(x.body),yn(this).info(`${b} - ${I}`),yn(this).debug(`[${h}] response error (${I})`,ls({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),this.retryRequest(a,n,r??h,x.headers)}const N=T?"error; no more retries left":"error; not retryable";yn(this).info(`${b} - ${N}`);const A=await x.text().catch(I=>Bx(I).message),P=ebe(A),S=P?void 0:A;throw yn(this).debug(`[${h}] response error (${N})`,ls({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:S,durationMs:Date.now()-v})),this.makeStatusError(x.status,P,S,x.headers)}return yn(this).info(b),yn(this).debug(`[${h}] response start`,ls({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),{response:x,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Im(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await tbe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&Zwe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Vu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),obe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Vu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:abe(e)}:this.encoder({body:e,headers:r})}}fy.DEFAULT_TIMEOUT=6e4;class zt extends fy{constructor(){super(...arguments),this.interactions=new Hj(this)}}Kj=zt;zt.GeminiNextGenAPIClient=Kj;zt.GeminiNextGenAPIClientError=mr;zt.APIError=En;zt.APIConnectionError=uy;zt.APIConnectionTimeoutError=Nj;zt.APIUserAbortError=Gx;zt.NotFoundError=Oj;zt.ConflictError=Dj;zt.RateLimitError=$j;zt.BadRequestError=kj;zt.AuthenticationError=Rj;zt.InternalServerError=Vj;zt.PermissionDeniedError=Mj;zt.UnprocessableEntityError=Lj;zt.toFile=pbe;zt.Interactions=Hj;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ibe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Cbe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Pbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Nbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function kbe(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);if(s!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=d(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Rbe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=d(t,["validationDataset"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec"],Gk(y))}else if(i==="PREFERENCE_TUNING"){const y=d(t,["validationDataset"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec"],Gk(y))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=d(t,["epochCount"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=d(t,["epochCount"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=d(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=d(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=d(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=d(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=d(t,["adapterSize"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=d(t,["adapterSize"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Mbe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&zbe(o);const s=d(t,["config"]);return s!=null&&kbe(s,n),n}function Obe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&qbe(o,n,e);const s=d(t,["config"]);return s!=null&&Rbe(s,n,e),n}function Dbe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Lbe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function $be(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),r}function Vbe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),r}function jbe(t,e){const n={},r=d(t,["config"]);return r!=null&&$be(r,n),n}function Ube(t,e){const n={},r=d(t,["config"]);return r!=null&&Vbe(r,n),n}function Fbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Jj(a))),m(n,["tuningJobs"],s)}return n}function Bbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Hx(a))),m(n,["tuningJobs"],s)}return n}function Gbe(t,e){const n={},r=d(t,["name"]);r!=null&&m(n,["model"],r);const i=d(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function zbe(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function qbe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Jj(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&m(n,["name"],i);const o=d(t,["state"]);o!=null&&m(n,["state"],fj(o));const s=d(t,["createTime"]);s!=null&&m(n,["createTime"],s);const a=d(t,["tuningTask","startTime"]);a!=null&&m(n,["startTime"],a);const l=d(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&m(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&m(n,["tunedModel"],Gbe(h)),n}function Hx(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&m(n,["name"],i);const o=d(t,["state"]);o!=null&&m(n,["state"],fj(o));const s=d(t,["createTime"]);s!=null&&m(n,["createTime"],s);const a=d(t,["startTime"]);a!=null&&m(n,["startTime"],a);const l=d(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&m(n,["error"],c);const f=d(t,["description"]);f!=null&&m(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const y=d(t,["tunedModel"]);y!=null&&m(n,["tunedModel"],y);const v=d(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const w=d(t,["supervisedTuningSpec"]);w!=null&&m(n,["supervisedTuningSpec"],w);const x=d(t,["preferenceOptimizationSpec"]);x!=null&&m(n,["preferenceOptimizationSpec"],x);const _=d(t,["tuningDataStats"]);_!=null&&m(n,["tuningDataStats"],_);const b=d(t,["encryptionSpec"]);b!=null&&m(n,["encryptionSpec"],b);const T=d(t,["partnerModelTuningSpec"]);T!=null&&m(n,["partnerModelTuningSpec"],T);const N=d(t,["customBaseModel"]);N!=null&&m(n,["customBaseModel"],N);const A=d(t,["experiment"]);A!=null&&m(n,["experiment"],A);const P=d(t,["labels"]);P!=null&&m(n,["labels"],P);const S=d(t,["outputUri"]);S!=null&&m(n,["outputUri"],S);const C=d(t,["pipelineJob"]);C!=null&&m(n,["pipelineJob"],C);const I=d(t,["serviceAccount"]);I!=null&&m(n,["serviceAccount"],I);const R=d(t,["tunedModelDisplayName"]);R!=null&&m(n,["tunedModelDisplayName"],R);const O=d(t,["veoTuningSpec"]);return O!=null&&m(n,["veoTuningSpec"],O),n}function Hbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&m(n,["name"],i);const o=d(t,["metadata"]);o!=null&&m(n,["metadata"],o);const s=d(t,["done"]);s!=null&&m(n,["done"],s);const a=d(t,["error"]);return a!=null&&m(n,["error"],a),n}function Gk(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wbe extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Mx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Lbe(e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Hx(c))}else{const u=Dbe(e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Jj(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ube(e);return a=ae("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Bbe(c),h=new mk;return Object.assign(h,f),h})}else{const u=jbe(e);return a=ae("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Fbe(c),h=new mk;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Cbe(e);return a=ae("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Nbe(c),h=new gk;return Object.assign(h,f),h})}else{const u=Ibe(e);return a=ae("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Pbe(c),h=new gk;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Obe(e,e);return o=ae("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Hx(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mbe(e);return o=ae("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Hbe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kbe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Jbe=1024*1024*8,Ybe=3,Xbe=1e3,Qbe=2,Pm="x-goog-upload-status";async function Zbe(t,e,n){var r;const i=await Yj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Pm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function eEe(t,e,n){var r;const i=await Yj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Pm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=oj(o),a=new sT;return Object.assign(a,s),a}async function Yj(t,e,n){var r,i;let o=0,s=0,a=new Dx(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(Jbe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=Xbe;for(;f<Ybe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Pm]));)f++,await nEe(h),h=h*Qbe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Pm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function tEe(t){return{size:t.size,type:t.type}}function nEe(t){return new Promise(e=>setTimeout(e,t))}class rEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zbe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iEe{create(e,n,r){return new oEe(e,n,r)}}class oEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zk="x-goog-api-key";class sEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(zk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aEe="gl-node/";class lEe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=tye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new sEe(this.apiKey);this.apiClient=new twe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:aEe+"web",uploader:new rEe,downloader:new Kbe}),this.models=new xwe(this.apiClient),this.live=new pwe(this.apiClient,i,new iEe),this.batches=new Nve(this.apiClient),this.chats=new f0e(this.models,this.apiClient),this.caches=new l0e(this.apiClient),this.files=new w0e(this.apiClient),this.operations=new wwe(this.apiClient),this.authTokens=new $we(this.apiClient),this.tunings=new Wbe(this.apiClient),this.fileSearchStores=new qwe(this.apiClient)}}var uEe={};async function cEe(t,e){const n=new lEe({apiKey:uEe.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:ct.OBJECT,properties:{invoiceNumber:{type:ct.STRING},supplierName:{type:ct.STRING},supplierCuit:{type:ct.STRING},date:{type:ct.STRING},items:{type:ct.ARRAY,items:{type:ct.OBJECT,properties:{sku:{type:ct.STRING},description:{type:ct.STRING},quantity:{type:ct.NUMBER},unitPrice:{type:ct.NUMBER},total:{type:ct.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:ct.NUMBER},iva:{type:ct.NUMBER},totalAmount:{type:ct.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}const fEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=yD(),n=V.useRef(null),[r,i]=V.useState("ia"),[o,s]=V.useState(!1),[a,l]=V.useState(!1),[u,c]=V.useState(null),[f,h]=V.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=_=>{var T;const b=(T=_.target.files)==null?void 0:T[0];if(b){const N=new FileReader;N.onload=A=>{var P;c({name:b.name,type:b.type,preview:(P=A.target)==null?void 0:P.result})},N.readAsDataURL(b)}},v=async()=>{if(u){s(!0);try{const _=u.preview.split(",")[1],b=await cEe(_,u.type),T=await Promise.all(b.items.map(async N=>{const{products:A}=await e({limit:1,searchTerm:N.sku||N.description.split(" ")[0],orderByField:"name"});return{...N,matchedProduct:A[0]}}));h({invoiceNumber:b.invoiceNumber||"",supplierName:b.supplierName||"",date:b.date||new Date().toISOString().split("T")[0],items:T})}catch(_){console.error(_),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},w=async()=>{l(!0);try{for(const _ of f.items)if(_.matchedProduct){const b=(_.matchedProduct.stock||0)+_.quantity;await t(_.matchedProduct.id,{costPrice:_.unitPrice,stock:b})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),c(null)}finally{l(!1)}},x=f.items.reduce((_,b)=>_+b.unitPrice*b.quantity,0);return g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),g.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),g.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[g.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(l_,{className:"w-4 h-4"})," IA Scan"]}),g.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Mi,{className:"w-4 h-4"})," Manual"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Q9,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?g.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[g.jsx(ul,{className:"w-16 h-16 mb-4 text-orange-500"}),g.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),g.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:g.jsx(Lo,{className:"w-5 h-5"})})]}),g.jsxs("button",{onClick:v,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?g.jsx(cl,{className:"w-5 h-5 animate-spin"}):g.jsx(l_,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):g.jsxs("div",{onClick:()=>{var _;return(_=n.current)==null?void 0:_.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[g.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:g.jsx(ul,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),g.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),g.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),g.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(TD,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),g.jsx("input",{value:f.supplierName,onChange:_=>h({...f,supplierName:_.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),g.jsx("input",{value:f.invoiceNumber,onChange:_=>h({...f,invoiceNumber:_.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),g.jsx("input",{type:"date",value:f.date,onChange:_=>h({...f,date:_.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),g.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[g.jsx(ID,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),g.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),g.jsx("div",{className:"flex-1 overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),g.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),g.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"p-20 text-center",children:g.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[g.jsx(z9,{className:"w-12 h-12"}),g.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((_,b)=>g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsx("td",{className:"px-8 py-4",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:_.description}),_.matchedProduct?g.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[g.jsx(pg,{className:"w-3 h-3"}),g.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",_.matchedProduct.name]})]}):g.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[g.jsx(lc,{className:"w-3 h-3"}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),g.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:_.quantity}),g.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",_.unitPrice.toLocaleString()]}),g.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",_.total.toLocaleString()]}),g.jsx("td",{className:"px-6 py-4 text-center",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:g.jsx(gg,{className:"w-4 h-4"})})})]},b))})]})}),g.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),g.jsxs("p",{className:"text-3xl font-black",children:["$",x.toLocaleString()]})]}),g.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),g.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(x*1.21).toLocaleString()]})]})]}),g.jsxs("button",{onClick:w,disabled:a||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[a?g.jsx(cl,{className:"animate-spin w-6 h-6"}):g.jsx(CD,{className:"w-6 h-6"}),a?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},dEe=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(""),[i,o]=V.useState(!0),[s,a]=V.useState(!1),[l,u]=V.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c=async()=>{o(!0);try{const y=await kr(Te(ue,"clients"));e(y.docs.map(v=>({id:v.id,...v.data()})))}catch(y){console.error(y)}finally{o(!1)}};V.useEffect(()=>{c()},[]);const f=async y=>{y.preventDefault();try{await Vt(Te(ue,"clients"),{...l,createdAt:new Date().toISOString()}),a(!1),u({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c()}catch{alert("Error al guardar cliente")}},h=t.filter(y=>{var v;return y.name.toLowerCase().includes(n.toLowerCase())||((v=y.cuit)==null?void 0:v.includes(n))});return g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),g.jsxs("button",{onClick:()=>a(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[g.jsx(Mi,{size:20})," Nuevo Cliente"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:g.jsx(zf,{})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),g.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:g.jsx(yg,{})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),g.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[g.jsxs("div",{className:"relative w-full md:w-96",children:[g.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:n,onChange:y=>r(y.target.value)})]}),g.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[g.jsx(xp,{size:16})," Exportar Listado"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):h.map(y=>g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[g.jsx("td",{className:"px-8 py-5",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(y.name||"U").substring(0,2).toUpperCase()}),g.jsx("p",{className:"font-bold text-slate-800",children:y.name})]})}),g.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:y.cuit||y.dni}),g.jsx("td",{className:"px-8 py-5",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:g.jsx(J9,{size:14})}),g.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:g.jsx(W9,{size:14})})]})}),g.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${y.balance<0?"text-red-500":"text-green-600"}`,children:["$",(y.balance||0).toLocaleString()]})]},y.id))})]})})]}),s&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),g.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:g.jsx(Lo,{size:24})})]}),g.jsxs("form",{onSubmit:f,className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"col-span-2 space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:y=>u({...l,name:y.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:y=>u({...l,cuit:y.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:y=>u({...l,phone:y.target.value})})]}),g.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},hEe=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(""),[i,o]=V.useState(!0),[s,a]=V.useState(!1),l=async()=>{o(!0);try{const u=await kr(Te(ue,"suppliers"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u)}finally{o(!1)}};return V.useEffect(()=>{l()},[]),g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),g.jsxs("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[g.jsx(Mi,{size:20})," Nuevo Proveedor"]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:g.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(u=>g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[g.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:u.name||u.company}),g.jsx("td",{className:"px-8 py-5",children:g.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:u.category||"General"})}),g.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:u.phone}),g.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(u.balance||0).toLocaleString()]})]},u.id))})]})]})]})},pEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:o}=yD(),[s,a]=V.useState("boxes"),[l,u]=V.useState({show:!1,type:null}),[c,f]=V.useState(!1),[h,y]=V.useState(!1),[v,w]=V.useState(null),[x,_]=V.useState(null),[b,T]=V.useState(!1),N=V.useMemo(()=>e.reduce((I,R)=>I+R.balance,0),[e]),A=V.useMemo(()=>e.filter(I=>I.type==="efectivo").reduce((I,R)=>I+R.balance,0),[e]),P=async I=>{I.preventDefault();const R=new FormData(I.currentTarget),O=parseFloat(R.get("amount")),D=R.get("boxId"),M=l.type,F=e.find(B=>B.id===D);if(!F){alert("Debes seleccionar una caja de origen.");return}try{await o({date:new Date().toISOString(),amount:O,type:M,boxId:D,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:O,netAmount:O}]});const B=M==="egreso"?F.balance-O:F.balance+O;await r(D,{balance:B}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async I=>{I.preventDefault(),T(!0);const R=new FormData(I.currentTarget),O=R.get("name"),D=R.get("type"),M=R.get("responsible"),F=parseFloat(R.get("balance"))||0;try{x?await r(x.id,{name:O,type:D,responsible:M}):await n({name:O,type:D,responsible:M,balance:F,status:"abierta"}),y(!1),_(null)}finally{T(!1)}},C=async I=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(I)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[g.jsx(vD,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),g.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[g.jsx(M9,{className:"w-5 h-5"})," Ingreso Manual"]}),g.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[g.jsx("button",{onClick:()=>a("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),g.jsx("button",{onClick:()=>a("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),g.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx(bp,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),g.jsx(wD,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:g.jsx(a_,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:g.jsx(wp,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="banco").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:g.jsx(_p,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="virtual").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[g.jsx("div",{className:"lg:col-span-2 space-y-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(I=>g.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:`p-4 rounded-2xl ${I.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:I.type==="banco"?g.jsx(wp,{className:"w-6 h-6"}):I.type==="virtual"?g.jsx(_p,{className:"w-6 h-6"}):g.jsx(yg,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>{_(I),y(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:g.jsx(K9,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:g.jsx(gg,{className:"w-4 h-4"})})]})]}),g.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:I.name}),g.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",I.balance.toLocaleString()]}),I.status==="abierta"&&g.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[g.jsx(zf,{className:"w-4 h-4"}),g.jsxs("span",{children:["Resp: ",g.jsx("span",{className:"text-slate-800",children:I.responsible||"Sistema"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{onClick:()=>{w(I),f(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[g.jsx(V9,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),g.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[g.jsx(O9,{className:"w-4 h-4"})," Transferir"]})]})]}),I.status==="cerrada"&&g.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",I.lastClosed]}),g.jsxs("button",{onClick:()=>r(I.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[g.jsx(Mi,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},I.id)),g.jsxs("button",{onClick:()=>{_(null),y(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[g.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:g.jsx(Mi,{className:"w-8 h-8"})}),g.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),g.jsx("div",{className:"space-y-6",children:g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Wb,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),g.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),g.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:g.jsx(TD,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),g.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[g.jsxs("div",{className:"relative flex-1 w-full",children:[g.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),g.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[g.jsx(G9,{className:"w-4 h-4"})," Filtros"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),g.jsx("th",{className:"px-8 py-5",children:"Caja"}),g.jsx("th",{className:"px-8 py-5",children:"Concepto"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(I=>{var R;return g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(I.date).toLocaleDateString()}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(I.date).toLocaleTimeString()})]}),g.jsx("td",{className:"px-8 py-5",children:g.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(O=>O.id===I.boxId))==null?void 0:R.name)||"Mostrador"})}),g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.category||"Varios"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:I.description})]}),g.jsx("td",{className:"px-8 py-5 text-right",children:g.jsxs("span",{className:`text-lg font-black ${I.type==="egreso"?"text-red-600":"text-green-600"}`,children:[I.type==="egreso"?"-":"+","$",I.amount.toLocaleString()]})}),g.jsx("td",{className:"px-8 py-5 text-center",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:g.jsx(bD,{className:"w-5 h-5"})})})]},I.id)})})]})})]}),l.show&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[g.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:g.jsx(a_,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),g.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),g.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:g.jsx(Lo,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[g.jsx("option",{value:"",children:"Elegir caja..."}),e.map(I=>g.jsxs("option",{value:I.id,children:[I.name," ($",I.balance.toLocaleString(),")"]},I.id))]}),g.jsx(j9,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),g.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),g.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[g.jsx("option",{value:"gasto",children:"Gasto General"}),g.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),g.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),g.jsx("option",{value:"venta",children:"Venta / Cobranza"}),g.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),g.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),g.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),g.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[g.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),g.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[g.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:x?"Editar Fondo":"Nueva Caja / Fondo"}),g.jsx("button",{onClick:()=>y(!1),children:g.jsx(Lo,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),g.jsx("input",{name:"name",defaultValue:x==null?void 0:x.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),g.jsxs("select",{name:"type",defaultValue:x==null?void 0:x.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[g.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),g.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),g.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!x&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),g.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),g.jsx("input",{name:"responsible",defaultValue:x==null?void 0:x.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),g.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:b?g.jsx(cl,{className:"animate-spin w-5 h-5 mx-auto"}):x?"Guardar Cambios":"Crear Fondo"})]})]})})]})},mEe=()=>{const t=[{name:"Ene",v:4e3},{name:"Feb",v:3e3},{name:"Mar",v:5e3}];return g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Informes e IVA"}),g.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-2xl font-bold text-xs uppercase tracking-widest",children:[g.jsx(xp,{size:16})," Exportar PDF"]})]}),g.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[g.jsx("h3",{className:"font-black text-slate-400 text-[10px] uppercase tracking-widest mb-8",children:"Rendimiento Mensual"}),g.jsx("div",{className:"h-64 w-full",children:g.jsx(xE,{width:"100%",height:"100%",children:g.jsxs(rT,{data:t,children:[g.jsx(ry,{strokeDasharray:"3 3",vertical:!1}),g.jsx(nu,{dataKey:"name"}),g.jsx(nr,{}),g.jsx(pr,{type:"monotone",dataKey:"v",stroke:"#ea580c",fill:"#ea580c10",strokeWidth:4})]})})})]})]})},gEe=({isAdmin:t,companyInfo:e,setCompanyInfo:n})=>{const[r,i]=V.useState("company"),o=()=>{alert("Configuracin actualizada correctamente.")};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona los datos de tu empresa."})]}),g.jsxs("button",{onClick:o,className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs flex items-center gap-2 shadow-xl",children:[g.jsx(CD,{size:18})," Guardar"]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[g.jsx("aside",{className:"w-full lg:w-64 space-y-2",children:[{id:"company",label:"Mi Empresa",icon:wA},{id:"printing",label:"Impresin",icon:EA},{id:"afip",label:"ARCA / AFIP",icon:bp},{id:"margins",label:"Ganancias",icon:bA}].map(s=>g.jsxs("button",{onClick:()=>i(s.id),className:`w-full flex items-center justify-between px-6 py-4 rounded-2xl font-bold text-sm transition-all ${r===s.id?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-400 hover:bg-slate-50 border border-slate-100"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(s.icon,{size:18}),g.jsx("span",{children:s.label})]}),r===s.id&&g.jsx(jb,{size:14})]},s.id))}),g.jsxs("div",{className:"flex-1 bg-white rounded-[3rem] p-10 shadow-sm border border-slate-100 min-h-[500px]",children:[r==="company"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(wA,{className:"text-orange-600"})," Empresa"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nombre"}),g.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"Ferretera Bruzzone"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"CUIT"}),g.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"30-71122334-9"})]})]})]}),r==="printing"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(EA,{className:"text-orange-600"})," Impresin"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] flex justify-between items-center",children:[g.jsx("p",{className:"font-bold text-slate-800",children:"Formato de Hoja"}),g.jsxs("select",{className:"p-3 bg-white rounded-xl font-bold border-none outline-none shadow-sm",children:[g.jsx("option",{children:"80mm (Ticket)"}),g.jsx("option",{children:"A4 (Factura)"})]})]})]}),r==="afip"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border border-orange-100 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-black text-orange-900 tracking-tight",children:"ARCA / AFIP"}),g.jsx("p",{className:"text-sm text-orange-700 italic",children:"Servicio de Facturacin en Lnea"})]}),g.jsx(bp,{size:40,className:"text-orange-600"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Punto de Venta"}),g.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-black text-xl",defaultValue:"5"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"IVA"}),g.jsxs("select",{className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none border-none",children:[g.jsx("option",{children:"Responsable Inscripto"}),g.jsx("option",{children:"Monotributista"})]})]})]})]}),r==="margins"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(bA,{className:"text-orange-600"})," Ganancias"]}),g.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white",children:[g.jsx("p",{className:"text-[10px] font-black uppercase text-orange-400 mb-4",children:"Markup Sugerido"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("input",{type:"number",className:"bg-white/10 text-white text-5xl font-black p-4 rounded-2xl w-40 outline-none",defaultValue:"30"}),g.jsx("span",{className:"text-4xl font-black text-slate-500",children:"%"})]})]})]})]})]})]})},yEe=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(""),[i,o]=V.useState(!0),s=async()=>{o(!0);const l=await kr(Te(ue,"products"));e(l.docs.map(u=>({id:u.id,...u.data()}))),o(!1)};V.useEffect(()=>{s()},[]);const a=async l=>{const u=Fe(ue,"products",l.id);await Cn(u,{isPublic:!l.isPublic}),s()};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:g.jsx(mg,{size:24})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),g.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),g.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:g.jsx(qb,{size:24})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),g.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(ND,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),g.jsxs("div",{className:"relative w-96",children:[g.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:n,onChange:l=>r(l.target.value)})]})]}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),g.jsx("td",{className:"px-8 py-5",children:l.isPublic?g.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[g.jsx(bD,{size:12})," Pblico"]}):g.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[g.jsx(B9,{size:12})," Privado"]})}),g.jsx("td",{className:"px-8 py-5 text-right",children:g.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},vEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),g.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[g.jsx(Mi,{size:20})," Nuevo Presupuesto"]})]}),g.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[g.jsx(ul,{size:48,className:"mx-auto text-slate-200 mb-4"}),g.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),_Ee=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),g.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),g.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),xEe=()=>g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),g.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[g.jsx(tz,{size:20})," Nuevo Acceso"]})]}),g.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),g.jsx("th",{className:"px-8 py-5",children:"Rango"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-8 py-6",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),g.jsx("td",{className:"px-8 py-6",children:g.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),g.jsx("td",{className:"px-8 py-6 text-right",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:g.jsx(gg,{size:18})})})]})})]})})]}),wEe=[{name:"Ene",ingresos:45e3,gastos:32e3},{name:"Feb",ingresos:52e3,gastos:34e3},{name:"Mar",ingresos:48e3,gastos:31e3},{name:"Abr",ingresos:61e3,gastos:42e3}],bEe=()=>g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("header",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Gestin Financiera"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Anlisis de rentabilidad, ingresos y egresos globales."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center",children:g.jsx(Wb,{size:24})}),g.jsx("span",{className:"text-[10px] font-black text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"+15.2%"})]}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Ingresos Totales"}),g.jsx("h3",{className:"text-3xl font-black text-slate-800",children:"$1.450.200"})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center",children:g.jsx(X9,{size:24})}),g.jsx("span",{className:"text-[10px] font-black text-red-600 bg-red-50 px-2 py-1 rounded-full",children:"-4.1%"})]}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Egresos Totales"}),g.jsx("h3",{className:"text-3xl font-black text-slate-800",children:"$840.300"})]}),g.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white shadow-xl",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:g.jsx(yg,{size:24})}),g.jsx("span",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest",children:"Utilidad"})]}),g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Ganancia Neta"}),g.jsx("h3",{className:"text-3xl font-black text-white",children:"$609.900"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[g.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-10 flex items-center gap-2",children:[g.jsx(Vb,{size:16,className:"text-orange-600"})," Rendimiento Anual"]}),g.jsx("div",{className:"h-72 w-full",children:g.jsx(xE,{width:"100%",height:"100%",children:g.jsxs(rT,{data:wEe,children:[g.jsx(ry,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),g.jsx(nu,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),g.jsx(nr,{}),g.jsx(pr,{type:"monotone",dataKey:"ingresos",stroke:"#10b981",fill:"#10b98110",strokeWidth:4}),g.jsx(pr,{type:"monotone",dataKey:"gastos",stroke:"#ef4444",fill:"#ef444410",strokeWidth:4})]})})})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[g.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-10 flex items-center gap-2",children:[g.jsx(wp,{size:16,className:"text-blue-600"})," Cuentas Vinculadas"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl flex justify-between items-center border border-slate-100",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800",children:"Banco Nacin - Cuenta Corriente"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CBU: 0110XXXXXXXXXXXXXX"})]}),g.jsx("p",{className:"text-xl font-black text-slate-900",children:"$2.450.000"})]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl flex justify-between items-center border border-slate-100",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800",children:"Mercado Pago"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CVU: 0000XXXXXXXXXXXXXX"})]}),g.jsx("p",{className:"text-xl font-black text-slate-900",children:"$185.300"})]})]})]})]})]}),EEe=()=>{const[t,e]=V.useState("clients");return g.jsxs("div",{className:"space-y-6 animate-in fade-in text-left pb-20",children:[g.jsxs("header",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Saldos y Deudas"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Seguimiento de cuentas corrientes y pagos pendientes."})]}),g.jsxs("div",{className:"flex bg-white p-1.5 rounded-2xl border w-fit gap-1 mb-8",children:[g.jsx("button",{onClick:()=>e("clients"),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${t==="clients"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Clientes (Deudores)"}),g.jsx("button",{onClick:()=>e("suppliers"),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${t==="suppliers"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Proveedores (Acreedores)"})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/20",children:g.jsxs("div",{className:"relative w-96",children:[g.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm"})]})}),g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Sujeto / Empresa"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ltimo Movimiento"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Total"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsxs("td",{className:"px-8 py-6",children:[g.jsx("p",{className:"font-bold text-slate-800",children:"Juan Prez - Constructora Lye"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CUIT: 20-33445566-9"})]}),g.jsx("td",{className:"px-8 py-6 text-sm text-slate-500",children:"15 de Mayo, 2024"}),g.jsx("td",{className:"px-8 py-6 text-right",children:g.jsx("span",{className:"text-xl font-black text-red-600",children:"-$45.200"})})]})})]})]})]})},TEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Marcas & Rubros"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Organiza la jerarqua de tus productos."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[g.jsx($9,{className:"text-orange-600",size:16})," Rubros (Categoras)"]}),g.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:g.jsx(Mi,{size:18})})]}),g.jsx("div",{className:"space-y-3",children:["Herramientas Elctricas","Pinturas","Plomera","Bulonera"].map(t=>g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex justify-between font-bold text-slate-700",children:[t," ",g.jsx(zb,{size:14,className:"text-slate-300"})]},t))})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[g.jsx(pg,{className:"text-blue-600",size:16})," Marcas Principales"]}),g.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:g.jsx(Mi,{size:18})})]}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Bosch","DeWalt","Sinteplast","Alba","Ipsa","Ferrum"].map(t=>g.jsx("div",{className:"p-4 border border-slate-100 rounded-2xl text-center font-black text-slate-400 uppercase text-[10px] tracking-widest",children:t},t))})]})]})]}),SEe=()=>{const[t,e]=V.useState(!1);return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Importacin Masiva"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Carga miles de productos de forma instantnea mediante archivos Excel o CSV."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{onDragOver:n=>{n.preventDefault(),e(!0)},onDragLeave:()=>e(!1),className:`bg-white p-20 rounded-[3rem] border-4 border-dashed transition-all flex flex-col items-center justify-center text-center group cursor-pointer ${t?"border-orange-500 bg-orange-50":"border-slate-100 hover:border-orange-200"}`,children:[g.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-6 transition-all ${t?"bg-orange-600 text-white animate-bounce":"bg-slate-50 text-slate-300 group-hover:bg-white group-hover:text-orange-500"}`,children:g.jsx(ED,{size:48})}),g.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Suelte su archivo aqu"}),g.jsx("p",{className:"text-slate-400 text-sm mt-2 max-w-xs",children:"Arrastre el listado de precios de su proveedor o haga clic para buscar en su PC."}),g.jsxs("div",{className:"mt-10 flex gap-4",children:[g.jsx("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl",children:"Seleccionar Archivo"}),g.jsx("button",{className:"px-8 py-4 bg-slate-100 text-slate-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-slate-200 transition-all",children:"Ver Ejemplo"})]})]}),g.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-start gap-4",children:[g.jsx(R9,{className:"text-orange-600 shrink-0",size:24}),g.jsxs("div",{className:"text-xs font-medium text-orange-800 leading-relaxed",children:[g.jsx("strong",{children:"Instrucciones:"})," Asegrese de que el archivo tenga las columnas:",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"CODIGO"}),",",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"DESCRIPCION"}),",",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"PRECIO_COSTO"})," y",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"RUBRO"}),"."]})]})]}),g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[g.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-6 flex items-center gap-2",children:[g.jsx(Ub,{size:16,className:"text-blue-600"})," ltimas Cargas"]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-slate-800",children:"Precios_Alba.csv"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ayer 18:30"})]}),g.jsx("span",{className:"text-[10px] font-black text-green-600 uppercase",children:"xito"})]})})]})})]})]})},AEe=({client:t,onLogout:e,companyInfo:n})=>{var r,i;return g.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[g.jsx("header",{className:"bg-slate-900 text-white p-6 shadow-xl",children:g.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:g.jsx(mg,{className:"text-white",size:24})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-black tracking-tight uppercase",children:n.name}),g.jsx("p",{className:"text-[10px] font-bold text-orange-500 uppercase tracking-widest text-left",children:"Portal de Autogestin"})]})]}),g.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-white/10 hover:bg-red-500/20 px-4 py-2 rounded-xl transition-all text-xs font-bold",children:[g.jsx(AD,{size:16})," Salir"]})]})}),g.jsxs("main",{className:"max-w-6xl mx-auto p-8 space-y-8 text-left",children:[g.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center gap-8",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-black text-slate-400",children:((r=t==null?void 0:t.name)==null?void 0:r.charAt(0))||"C"}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-3xl font-black text-slate-800",children:["Hola, ",(t==null?void 0:t.name)||"Cliente","!"]}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Consulta tus saldos y pedidos realizados."})]})]}),g.jsxs("div",{className:"text-center md:text-right",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tu Saldo Deudor"}),g.jsxs("h3",{className:`text-5xl font-black ${(t==null?void 0:t.balance)>0?"text-red-500":"text-green-500"}`,children:["$",((i=t==null?void 0:t.balance)==null?void 0:i.toLocaleString())||"0"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex items-center gap-6 shadow-xl",children:[g.jsx("div",{className:"p-4 bg-orange-600 rounded-2xl",children:g.jsx(Gb,{size:32})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-orange-400",children:"Comprobantes"}),g.jsx("p",{className:"text-2xl font-black",children:"Ver facturas"})]})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[g.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:g.jsx(Fb,{size:32})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-slate-400",children:"Entregas"}),g.jsx("p",{className:"text-2xl font-black text-slate-800",children:"Seguimiento"})]})]})]})]})]})},IEe=()=>{const[t,e]=V.useState(!1),[n,r]=V.useState({msg:"",type:null}),i=V.useRef(null),o=async l=>{e(!0);try{const u=ws(Te(ue,l)),f=(await kr(u)).docs.map(w=>({id:w.id,...w.data()})),h="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(f,null,2)),y=document.createElement("a"),v=new Date().toISOString().split("T")[0];y.setAttribute("href",h),y.setAttribute("download",`Backup_${l}_${v}.json`),document.body.appendChild(y),y.click(),y.remove(),a(`Copia de ${l} descargada con xito`,"success")}catch{a("Error al exportar datos","error")}finally{e(!1)}},s=async(l,u)=>{var y;const c=(y=l.target.files)==null?void 0:y[0];if(!c||!window.confirm(` ATENCIN! Ests por restaurar la coleccin '${u}'. Esto podra duplicar datos o sobreescribir informacin actual. Deseas continuar?`))return;e(!0);const h=new FileReader;h.onload=async v=>{var w;try{const x=JSON.parse((w=v.target)==null?void 0:w.result),_=N8(ue);x.forEach(b=>{const{id:T,...N}=b,A=T?Fe(ue,u,T):Fe(Te(ue,u));_.set(A,N)}),await _.commit(),a(`Coleccin ${u} restaurada correctamente`,"success")}catch{a("El archivo es invlido o no tiene el formato correcto","error")}finally{e(!1),i.current&&(i.current.value="")}},h.readAsText(c)},a=(l,u)=>{r({msg:l,type:u}),setTimeout(()=>r({msg:"",type:null}),5e3)};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Centro de Seguridad"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Respaldo y restauracin total de la base de datos."})]}),g.jsxs("div",{className:"flex items-center gap-2 bg-green-50 text-green-600 px-4 py-2 rounded-full border border-green-100",children:[g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Servidor Seguro"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(xp,{className:"text-orange-600"})," Descargar Copia de Seguridad"]}),g.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Genera un archivo .JSON con toda la informacin de cada mdulo."}),g.jsx("div",{className:"grid grid-cols-1 gap-3 pt-4",children:["products","sales","clients","suppliers"].map(l=>g.jsxs("button",{onClick:()=>o(l),className:"p-5 bg-slate-50 hover:bg-orange-600 hover:text-white rounded-2xl flex justify-between items-center transition-all group",children:[g.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:l}),g.jsx(xp,{size:18,className:"opacity-40 group-hover:opacity-100"})]},l))})]}),g.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] shadow-2xl text-white space-y-6 relative overflow-hidden",children:[g.jsxs("h3",{className:"text-sm font-black text-orange-500 uppercase tracking-widest flex items-center gap-2 relative z-10",children:[g.jsx(TA,{})," Restablecer desde Archivo"]}),g.jsx("p",{className:"text-xs text-slate-400 font-medium relative z-10",children:"Sube un archivo de respaldo previamente descargado para recuperar datos."}),g.jsx("div",{className:"space-y-3 pt-4 relative z-10",children:["products","clients","suppliers"].map(l=>g.jsxs("div",{className:"relative group",children:[g.jsx("input",{type:"file",accept:".json",onChange:u=>s(u,l),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),g.jsxs("div",{className:"p-5 bg-white/5 border border-white/10 rounded-2xl flex justify-between items-center group-hover:bg-white/10 transition-all",children:[g.jsxs("span",{className:"font-black uppercase text-[10px] tracking-widest text-orange-400",children:["Restaurar ",l]}),g.jsx(Z9,{size:18,className:"text-slate-500 group-hover:text-white"})]})]},l))}),g.jsx(TA,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5"})]})]}),g.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 flex items-start gap-4",children:[g.jsx(lc,{className:"text-red-600 shrink-0",size:24}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-black text-red-900 uppercase tracking-tight",children:"Zona de Riesgo"}),g.jsx("p",{className:"text-xs text-red-800 font-medium leading-relaxed mt-1",children:"Restablecer datos es una accin irreversible. Si subes un archivo viejo, podras perder las ventas actuales o duplicar clientes. Realiza siempre un backup antes de restaurar."})]})]}),t&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-[200]",children:g.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex items-center gap-4 border border-slate-100",children:[g.jsx(cl,{className:"animate-spin text-orange-600"}),g.jsx("p",{className:"font-black uppercase text-xs tracking-widest text-slate-800",children:"Procesando Base de Datos..."})]})}),n.msg&&g.jsxs("div",{className:`fixed bottom-10 left-1/2 -translate-x-1/2 px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom ${n.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[n.type==="success"?g.jsx(pg,{size:20}):g.jsx(Lo,{size:20}),g.jsx("p",{className:"font-black uppercase text-[10px] tracking-widest",children:n.msg})]})]})},CEe=()=>{const[t,e]=V.useState(["dashboard"]),[n,r]=V.useState("dashboard"),[i,o]=V.useState(!1),[s,a]=V.useState({name:"",role:"vendedor"}),l=(h,y,v)=>{a({name:y,role:h,data:v}),o(!0)},u=h=>{t.includes(h)||e(y=>[...y,h]),r(h)},c=h=>{if(h==="dashboard")return;const y=t.filter(v=>v!==h);e(y),n===h&&r(y[y.length-1])};if(!i)return g.jsx(sz,{onLoginSuccess:l});if(s.role==="customer")return g.jsx(AEe,{client:s.data,onLogout:()=>o(!1),companyInfo:{name:"Sistems Nova"}});const f=h=>{switch(h){case"dashboard":return g.jsx(Kge,{openTab:u});case"inventory":return g.jsx(Jge,{});case"sales":return g.jsx(Yge,{});case"purchases":return g.jsx(fEe,{});case"clients":return g.jsx(dEe,{});case"suppliers":return g.jsx(hEe,{});case"cashier":return g.jsx(pEe,{});case"finance":return g.jsx(bEe,{});case"balances":return g.jsx(EEe,{});case"reports":return g.jsx(mEe,{});case"ecommerce":return g.jsx(yEe,{});case"quotes":return g.jsx(vEe,{});case"stock-adjustment":return g.jsx(_Ee,{});case"catalog-config":return g.jsx(TEe,{});case"bulk-import":return g.jsx(SEe,{});case"users":return g.jsx(xEe,{});case"backup":return g.jsx(IEe,{});case"settings":return g.jsx(gEe,{isAdmin:s.role==="admin",companyInfo:{name:"Sistems Nova"},setCompanyInfo:()=>{}});default:return g.jsxs("div",{className:"p-20 text-center text-slate-400 font-bold italic",children:["Mdulo ",h," en construccin..."]})}};return g.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[g.jsx(rz,{activeTab:n,setActiveTab:u,currentUser:s,onLogout:()=>o(!1)}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[g.jsx(oz,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:c}),g.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t.map(h=>g.jsx("div",{className:h===n?"block animate-in fade-in zoom-in-95 duration-300":"hidden",children:f(h)},h))})]})]})};function PEe(){return g.jsx(P9,{children:g.jsx(CEe,{})})}const Xj=document.getElementById("root");if(!Xj)throw new Error("Could not find root element to mount to");const NEe=zv.createRoot(Xj);NEe.render(g.jsx($.StrictMode,{children:g.jsx(PEe,{})}));
