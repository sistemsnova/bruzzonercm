(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yk={exports:{}},Rm={},Xk={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.element"),TU=Symbol.for("react.portal"),SU=Symbol.for("react.fragment"),AU=Symbol.for("react.strict_mode"),IU=Symbol.for("react.profiler"),CU=Symbol.for("react.provider"),PU=Symbol.for("react.context"),NU=Symbol.for("react.forward_ref"),kU=Symbol.for("react.suspense"),RU=Symbol.for("react.memo"),MU=Symbol.for("react.lazy"),nS=Symbol.iterator;function OU(t){return t===null||typeof t!="object"?null:(t=nS&&t[nS]||t["@@iterator"],typeof t=="function"?t:null)}var Qk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zk=Object.assign,eR={};function Ol(t,e,n){this.props=t,this.context=e,this.refs=eR,this.updater=n||Qk}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tR(){}tR.prototype=Ol.prototype;function Y_(t,e,n){this.props=t,this.context=e,this.refs=eR,this.updater=n||Qk}var X_=Y_.prototype=new tR;X_.constructor=Y_;Zk(X_,Ol.prototype);X_.isPureReactComponent=!0;var rS=Array.isArray,nR=Object.prototype.hasOwnProperty,Q_={current:null},rR={key:!0,ref:!0,__self:!0,__source:!0};function iR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)nR.call(e,r)&&!rR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Id,type:t,key:o,ref:s,props:i,_owner:Q_.current}}function DU(t,e){return{$$typeof:Id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Id}function LU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iS=/\/+/g;function Iy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LU(""+t.key):e.toString(36)}function ph(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Id:case TU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Iy(s,0):r,rS(i)?(n="",t!=null&&(n=t.replace(iS,"$&/")+"/"),ph(i,e,n,"",function(u){return u})):i!=null&&(Z_(i)&&(i=DU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",rS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Iy(o,a);s+=ph(o,e,n,l,i)}else if(l=OU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Iy(o,a++),s+=ph(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function If(t,e,n){if(t==null)return t;var r=[],i=0;return ph(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $U(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},mh={transition:null},jU={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:mh,ReactCurrentOwner:Q_};function oR(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:If,forEach:function(t,e,n){If(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return If(t,function(){e++}),e},toArray:function(t){return If(t,function(e){return e})||[]},only:function(t){if(!Z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Ol;Ne.Fragment=SU;Ne.Profiler=IU;Ne.PureComponent=Y_;Ne.StrictMode=AU;Ne.Suspense=kU;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jU;Ne.act=oR;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Q_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nR.call(e,l)&&!rR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Id,type:t.type,key:i,ref:o,props:r,_owner:s}};Ne.createContext=function(t){return t={$$typeof:PU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CU,_context:t},t.Consumer=t};Ne.createElement=iR;Ne.createFactory=function(t){var e=iR.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:NU,render:t}};Ne.isValidElement=Z_;Ne.lazy=function(t){return{$$typeof:MU,_payload:{_status:-1,_result:t},_init:$U}};Ne.memo=function(t,e){return{$$typeof:RU,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};Ne.unstable_act=oR;Ne.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Ne.useContext=function(t){return Tn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Ne.useId=function(){return Tn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Ne.useRef=function(t){return Tn.current.useRef(t)};Ne.useState=function(t){return Tn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return Tn.current.useTransition()};Ne.version="18.3.1";Xk.exports=Ne;var j=Xk.exports;const $=Ze(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VU=j,UU=Symbol.for("react.element"),FU=Symbol.for("react.fragment"),BU=Object.prototype.hasOwnProperty,GU=VU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zU={key:!0,ref:!0,__self:!0,__source:!0};function sR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)BU.call(e,r)&&!zU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UU,type:t,key:o,ref:s,props:i,_owner:GU.current}}Rm.Fragment=FU;Rm.jsx=sR;Rm.jsxs=sR;Yk.exports=Rm;var p=Yk.exports,zv={},aR={exports:{}},Kn={},lR={exports:{}},uR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var Y=U.length;U.push(K);e:for(;0<Y;){var oe=Y-1>>>1,Z=U[oe];if(0<i(Z,K))U[oe]=K,U[Y]=Z,Y=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Y=U.pop();if(Y!==K){U[0]=Y;e:for(var oe=0,Z=U.length,le=Z>>>1;oe<le;){var Ce=2*(oe+1)-1,Oe=U[Ce],Ye=Ce+1,q=U[Ye];if(0>i(Oe,Y))Ye<Z&&0>i(q,Oe)?(U[oe]=q,U[Ye]=Y,oe=Ye):(U[oe]=Oe,U[Ce]=Y,oe=Ce);else if(Ye<Z&&0>i(q,Y))U[oe]=q,U[Ye]=Y,oe=Ye;else break e}}return K}function i(U,K){var Y=U.sortIndex-K.sortIndex;return Y!==0?Y:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function N(U){if(w=!1,T(U),!v)if(n(l)!==null)v=!0,z(A);else{var K=n(u);K!==null&&W(N,K.startTime-U)}}function A(U,K){v=!1,w&&(w=!1,_(C),C=-1),y=!0;var Y=h;try{for(T(K),d=n(l);d!==null&&(!(d.expirationTime>K)||U&&!M());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var Z=oe(d.expirationTime<=K);K=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),T(K)}else r(l);d=n(l)}if(d!==null)var le=!0;else{var Ce=n(u);Ce!==null&&W(N,Ce.startTime-K),le=!1}return le}finally{d=null,h=Y,y=!1}}var P=!1,S=null,C=-1,I=5,R=-1;function M(){return!(t.unstable_now()-R<I)}function D(){if(S!==null){var U=t.unstable_now();R=U;var K=!0;try{K=S(!0,U)}finally{K?O():(P=!1,S=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=D,O=function(){B.postMessage(null)}}else O=function(){x(D,0)};function z(U){S=U,P||(P=!0,O())}function W(U,K){C=x(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,z(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Y=h;h=K;try{return U()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return K()}finally{h=Y}},t.unstable_scheduleCallback=function(U,K,Y){var oe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,U={id:c++,callback:K,priorityLevel:U,startTime:Y,expirationTime:Z,sortIndex:-1},Y>oe?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(w?(_(C),C=-1):w=!0,W(N,Y-oe))):(U.sortIndex=Z,e(l,U),v||y||(v=!0,z(A))),U},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(U){var K=h;return function(){var Y=h;h=K;try{return U.apply(this,arguments)}finally{h=Y}}}})(uR);lR.exports=uR;var qU=lR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HU=j,Hn=qU;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cR=new Set,gc={};function Us(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(gc[t]=e,t=0;t<e.length;t++)cR.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qv=Object.prototype.hasOwnProperty,WU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oS={},sS={};function KU(t){return qv.call(sS,t)?!0:qv.call(oS,t)?!1:WU.test(t)?sS[t]=!0:(oS[t]=!0,!1)}function JU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YU(t,e,n,r){if(e===null||typeof e>"u"||JU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ew=/[\-:]([a-z])/g;function tw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ew,tw);en[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ew,tw);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ew,tw);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function nw(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YU(e,n,i,r)&&(n=null),r||i===null?KU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=HU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cf=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),rw=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),dR=Symbol.for("react.provider"),fR=Symbol.for("react.context"),iw=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),ow=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),hR=Symbol.for("react.offscreen"),aS=Symbol.iterator;function xu(t){return t===null||typeof t!="object"?null:(t=aS&&t[aS]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Cy;function Uu(t){if(Cy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cy=e&&e[1]||""}return`
`+Cy+t}var Py=!1;function Ny(t,e){if(!t||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uu(t):""}function XU(t){switch(t.tag){case 5:return Uu(t.type);case 16:return Uu("Lazy");case 13:return Uu("Suspense");case 19:return Uu("SuspenseList");case 0:case 2:case 15:return t=Ny(t.type,!1),t;case 11:return t=Ny(t.type.render,!1),t;case 1:return t=Ny(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case da:return"Portal";case Hv:return"Profiler";case rw:return"StrictMode";case Wv:return"Suspense";case Kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fR:return(t.displayName||"Context")+".Consumer";case dR:return(t._context.displayName||"Context")+".Provider";case iw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ow:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function QU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===rw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZU(t){var e=pR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pf(t){t._valueTracker||(t._valueTracker=ZU(t))}function mR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yv(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gR(t,e){e=e.checked,e!=null&&nw(t,"checked",e,!1)}function Xv(t,e){gR(t,e);var n=Ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,Ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qv(t,e,n){(e!=="number"||$h(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fu=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Fu(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ro(n)}}function yR(t,e){var n=Ro(e.value),r=Ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nf,xR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nf=Nf||document.createElement("div"),Nf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e4=["Webkit","ms","Moz","O"];Object.keys(Yu).forEach(function(t){e4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yu[e]=Yu[t]})});function _R(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yu.hasOwnProperty(t)&&Yu[t]?(""+e).trim():e+"px"}function wR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_R(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t4=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(t4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i0=null,Na=null,ka=null;function fS(t){if(t=Nd(t)){if(typeof i0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=$m(e),i0(t.stateNode,t.type,e))}}function bR(t){Na?ka?ka.push(t):ka=[t]:Na=t}function ER(){if(Na){var t=Na,e=ka;if(ka=Na=null,fS(t),e)for(t=0;t<e.length;t++)fS(e[t])}}function TR(t,e){return t(e)}function SR(){}var ky=!1;function AR(t,e,n){if(ky)return t(e,n);ky=!0;try{return TR(t,e,n)}finally{ky=!1,(Na!==null||ka!==null)&&(SR(),ER())}}function vc(t,e){var n=t.stateNode;if(n===null)return null;var r=$m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var o0=!1;if(Ti)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){o0=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{o0=!1}function n4(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xu=!1,jh=null,Vh=!1,s0=null,r4={onError:function(t){Xu=!0,jh=t}};function i4(t,e,n,r,i,o,s,a,l){Xu=!1,jh=null,n4.apply(r4,arguments)}function o4(t,e,n,r,i,o,s,a,l){if(i4.apply(this,arguments),Xu){if(Xu){var u=jh;Xu=!1,jh=null}else throw Error(te(198));Vh||(Vh=!0,s0=u)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hS(t){if(Fs(t)!==t)throw Error(te(188))}function s4(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hS(i),t;if(o===r)return hS(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function CR(t){return t=s4(t),t!==null?PR(t):null}function PR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PR(t);if(e!==null)return e;t=t.sibling}return null}var NR=Hn.unstable_scheduleCallback,pS=Hn.unstable_cancelCallback,a4=Hn.unstable_shouldYield,l4=Hn.unstable_requestPaint,bt=Hn.unstable_now,u4=Hn.unstable_getCurrentPriorityLevel,aw=Hn.unstable_ImmediatePriority,kR=Hn.unstable_UserBlockingPriority,Uh=Hn.unstable_NormalPriority,c4=Hn.unstable_LowPriority,RR=Hn.unstable_IdlePriority,Mm=null,zr=null;function d4(t){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Mm,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:p4,f4=Math.log,h4=Math.LN2;function p4(t){return t>>>=0,t===0?32:31-(f4(t)/h4|0)|0}var kf=64,Rf=4194304;function Bu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Bu(a):(o&=s,o!==0&&(r=Bu(o)))}else s=n&~i,s!==0?r=Bu(s):o!==0&&(r=Bu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function m4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Pr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=m4(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MR(){var t=kf;return kf<<=1,!(kf&4194240)&&(kf=64),t}function Ry(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function y4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function lw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function OR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DR,uw,LR,$R,jR,l0=!1,Mf=[],yo=null,vo=null,xo=null,xc=new Map,_c=new Map,io=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mS(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(e.pointerId)}}function wu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Nd(e),e!==null&&uw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x4(t,e,n,r,i){switch(e){case"focusin":return yo=wu(yo,t,e,n,r,i),!0;case"dragenter":return vo=wu(vo,t,e,n,r,i),!0;case"mouseover":return xo=wu(xo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xc.set(o,wu(xc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_c.set(o,wu(_c.get(o)||null,t,e,n,r,i)),!0}return!1}function VR(t){var e=cs(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=IR(n),e!==null){t.blockedOn=e,jR(t.priority,function(){LR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=Nd(n),e!==null&&uw(e),t.blockedOn=n,!1;e.shift()}return!0}function gS(t,e,n){gh(t)&&n.delete(e)}function _4(){l0=!1,yo!==null&&gh(yo)&&(yo=null),vo!==null&&gh(vo)&&(vo=null),xo!==null&&gh(xo)&&(xo=null),xc.forEach(gS),_c.forEach(gS)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,l0||(l0=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,_4)))}function wc(t){function e(i){return bu(i,t)}if(0<Mf.length){bu(Mf[0],t);for(var n=1;n<Mf.length;n++){var r=Mf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yo!==null&&bu(yo,t),vo!==null&&bu(vo,t),xo!==null&&bu(xo,t),xc.forEach(e),_c.forEach(e),n=0;n<io.length;n++)r=io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)VR(n),n.blockedOn===null&&io.shift()}var Ra=Ui.ReactCurrentBatchConfig,Bh=!0;function w4(t,e,n,r){var i=He,o=Ra.transition;Ra.transition=null;try{He=1,cw(t,e,n,r)}finally{He=i,Ra.transition=o}}function b4(t,e,n,r){var i=He,o=Ra.transition;Ra.transition=null;try{He=4,cw(t,e,n,r)}finally{He=i,Ra.transition=o}}function cw(t,e,n,r){if(Bh){var i=u0(t,e,n,r);if(i===null)By(t,e,r,Gh,n),mS(t,r);else if(x4(i,t,e,n,r))r.stopPropagation();else if(mS(t,r),e&4&&-1<v4.indexOf(t)){for(;i!==null;){var o=Nd(i);if(o!==null&&DR(o),o=u0(t,e,n,r),o===null&&By(t,e,r,Gh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else By(t,e,r,null,n)}}var Gh=null;function u0(t,e,n,r){if(Gh=null,t=sw(r),t=cs(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gh=t,null}function UR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u4()){case aw:return 1;case kR:return 4;case Uh:case c4:return 16;case RR:return 536870912;default:return 16}default:return 16}}var co=null,dw=null,yh=null;function FR(){if(yh)return yh;var t,e=dw,n=e.length,r,i="value"in co?co.value:co.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return yh=i.slice(t,1<r?1-r:void 0)}function vh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Of(){return!0}function yS(){return!1}function Jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Of:yS,this.isPropagationStopped=yS,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fw=Jn(Dl),Pd=gt({},Dl,{view:0,detail:0}),E4=Jn(Pd),My,Oy,Eu,Om=gt({},Pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eu&&(Eu&&t.type==="mousemove"?(My=t.screenX-Eu.screenX,Oy=t.screenY-Eu.screenY):Oy=My=0,Eu=t),My)},movementY:function(t){return"movementY"in t?t.movementY:Oy}}),vS=Jn(Om),T4=gt({},Om,{dataTransfer:0}),S4=Jn(T4),A4=gt({},Pd,{relatedTarget:0}),Dy=Jn(A4),I4=gt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),C4=Jn(I4),P4=gt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N4=Jn(P4),k4=gt({},Dl,{data:0}),xS=Jn(k4),R4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O4[t])?!!e[t]:!1}function hw(){return D4}var L4=gt({},Pd,{key:function(t){if(t.key){var e=R4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hw,charCode:function(t){return t.type==="keypress"?vh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$4=Jn(L4),j4=gt({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_S=Jn(j4),V4=gt({},Pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hw}),U4=Jn(V4),F4=gt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),B4=Jn(F4),G4=gt({},Om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z4=Jn(G4),q4=[9,13,27,32],pw=Ti&&"CompositionEvent"in window,Qu=null;Ti&&"documentMode"in document&&(Qu=document.documentMode);var H4=Ti&&"TextEvent"in window&&!Qu,BR=Ti&&(!pw||Qu&&8<Qu&&11>=Qu),wS=" ",bS=!1;function GR(t,e){switch(t){case"keyup":return q4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function W4(t,e){switch(t){case"compositionend":return zR(e);case"keypress":return e.which!==32?null:(bS=!0,wS);case"textInput":return t=e.data,t===wS&&bS?null:t;default:return null}}function K4(t,e){if(ha)return t==="compositionend"||!pw&&GR(t,e)?(t=FR(),yh=dw=co=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BR&&e.locale!=="ko"?null:e.data;default:return null}}var J4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ES(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J4[t.type]:e==="textarea"}function qR(t,e,n,r){bR(r),e=zh(e,"onChange"),0<e.length&&(n=new fw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zu=null,bc=null;function Y4(t){n2(t,0)}function Dm(t){var e=ga(t);if(mR(e))return t}function X4(t,e){if(t==="change")return e}var HR=!1;if(Ti){var Ly;if(Ti){var $y="oninput"in document;if(!$y){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),$y=typeof TS.oninput=="function"}Ly=$y}else Ly=!1;HR=Ly&&(!document.documentMode||9<document.documentMode)}function SS(){Zu&&(Zu.detachEvent("onpropertychange",WR),bc=Zu=null)}function WR(t){if(t.propertyName==="value"&&Dm(bc)){var e=[];qR(e,bc,t,sw(t)),AR(Y4,e)}}function Q4(t,e,n){t==="focusin"?(SS(),Zu=e,bc=n,Zu.attachEvent("onpropertychange",WR)):t==="focusout"&&SS()}function Z4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(bc)}function eF(t,e){if(t==="click")return Dm(e)}function tF(t,e){if(t==="input"||t==="change")return Dm(e)}function nF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:nF;function Ec(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qv.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function AS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IS(t,e){var n=AS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AS(n)}}function KR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JR(){for(var t=window,e=$h();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$h(t.document)}return e}function mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rF(t){var e=JR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&KR(n.ownerDocument.documentElement,n)){if(r!==null&&mw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=IS(n,o);var s=IS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iF=Ti&&"documentMode"in document&&11>=document.documentMode,pa=null,c0=null,ec=null,d0=!1;function CS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||pa==null||pa!==$h(r)||(r=pa,"selectionStart"in r&&mw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&Ec(ec,r)||(ec=r,r=zh(c0,"onSelect"),0<r.length&&(e=new fw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Df(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},jy={},YR={};Ti&&(YR=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Lm(t){if(jy[t])return jy[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YR)return jy[t]=e[n];return t}var XR=Lm("animationend"),QR=Lm("animationiteration"),ZR=Lm("animationstart"),e2=Lm("transitionend"),t2=new Map,PS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){t2.set(t,e),Us(e,[t])}for(var Vy=0;Vy<PS.length;Vy++){var Uy=PS[Vy],oF=Uy.toLowerCase(),sF=Uy[0].toUpperCase()+Uy.slice(1);jo(oF,"on"+sF)}jo(XR,"onAnimationEnd");jo(QR,"onAnimationIteration");jo(ZR,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(e2,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function NS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o4(r,e,void 0,t),t.currentTarget=null}function n2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;NS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;NS(i,a,u),o=l}}}if(Vh)throw t=s0,Vh=!1,s0=null,t}function ot(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(r2(e,t,2,!1),n.add(r))}function Fy(t,e,n){var r=0;e&&(r|=4),r2(n,t,r,e)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[Lf]){t[Lf]=!0,cR.forEach(function(n){n!=="selectionchange"&&(aF.has(n)||Fy(n,!1,t),Fy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lf]||(e[Lf]=!0,Fy("selectionchange",!1,e))}}function r2(t,e,n,r){switch(UR(e)){case 1:var i=w4;break;case 4:i=b4;break;default:i=cw}n=i.bind(null,e,n,t),i=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function By(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=cs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}AR(function(){var u=o,c=sw(n),d=[];e:{var h=t2.get(t);if(h!==void 0){var y=fw,v=t;switch(t){case"keypress":if(vh(n)===0)break e;case"keydown":case"keyup":y=$4;break;case"focusin":v="focus",y=Dy;break;case"focusout":v="blur",y=Dy;break;case"beforeblur":case"afterblur":y=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=S4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=U4;break;case XR:case QR:case ZR:y=C4;break;case e2:y=B4;break;case"scroll":y=E4;break;case"wheel":y=z4;break;case"copy":case"cut":case"paste":y=N4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_S}var w=(e&4)!==0,x=!w&&t==="scroll",_=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,T;b!==null;){T=b;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,_!==null&&(N=vc(b,_),N!=null&&w.push(Sc(b,N,T)))),x)break;b=b.return}0<w.length&&(h=new y(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==r0&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Si]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?cs(v):null,v!==null&&(x=Fs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=vS,N="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=_S,N="onPointerLeave",_="onPointerEnter",b="pointer"),x=y==null?h:ga(y),T=v==null?h:ga(v),h=new w(N,b+"leave",y,n,c),h.target=x,h.relatedTarget=T,N=null,cs(c)===u&&(w=new w(_,b+"enter",v,n,c),w.target=T,w.relatedTarget=x,N=w),x=N,y&&v)t:{for(w=y,_=v,b=0,T=w;T;T=na(T))b++;for(T=0,N=_;N;N=na(N))T++;for(;0<b-T;)w=na(w),b--;for(;0<T-b;)_=na(_),T--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=na(w),_=na(_)}w=null}else w=null;y!==null&&kS(d,h,y,w,!1),v!==null&&x!==null&&kS(d,x,v,w,!0)}}e:{if(h=u?ga(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=X4;else if(ES(h))if(HR)A=tF;else{A=Z4;var P=Q4}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=eF);if(A&&(A=A(t,u))){qR(d,A,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Qv(h,"number",h.value)}switch(P=u?ga(u):window,t){case"focusin":(ES(P)||P.contentEditable==="true")&&(pa=P,c0=u,ec=null);break;case"focusout":ec=c0=pa=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,CS(d,n,c);break;case"selectionchange":if(iF)break;case"keydown":case"keyup":CS(d,n,c)}var S;if(pw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ha?GR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(BR&&n.locale!=="ko"&&(ha||C!=="onCompositionStart"?C==="onCompositionEnd"&&ha&&(S=FR()):(co=c,dw="value"in co?co.value:co.textContent,ha=!0)),P=zh(u,C),0<P.length&&(C=new xS(C,t,null,n,c),d.push({event:C,listeners:P}),S?C.data=S:(S=zR(n),S!==null&&(C.data=S)))),(S=H4?W4(t,n):K4(t,n))&&(u=zh(u,"onBeforeInput"),0<u.length&&(c=new xS("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}n2(d,e)})}function Sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vc(t,n),o!=null&&r.unshift(Sc(t,o,i)),o=vc(t,e),o!=null&&r.push(Sc(t,o,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=vc(n,o),l!=null&&s.unshift(Sc(n,l,a))):i||(l=vc(n,o),l!=null&&s.push(Sc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var lF=/\r\n?/g,uF=/\u0000|\uFFFD/g;function RS(t){return(typeof t=="string"?t:""+t).replace(lF,`
`).replace(uF,"")}function $f(t,e,n){if(e=RS(e),RS(t)!==e&&n)throw Error(te(425))}function qh(){}var f0=null,h0=null;function p0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,cF=typeof clearTimeout=="function"?clearTimeout:void 0,MS=typeof Promise=="function"?Promise:void 0,dF=typeof queueMicrotask=="function"?queueMicrotask:typeof MS<"u"?function(t){return MS.resolve(null).then(t).catch(fF)}:m0;function fF(t){setTimeout(function(){throw t})}function Gy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wc(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ll,Ac="__reactProps$"+Ll,Si="__reactContainer$"+Ll,g0="__reactEvents$"+Ll,hF="__reactListeners$"+Ll,pF="__reactHandles$"+Ll;function cs(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=OS(t);t!==null;){if(n=t[Fr])return n;t=OS(t)}return e}t=n,n=t.parentNode}return null}function Nd(t){return t=t[Fr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function $m(t){return t[Ac]||null}var y0=[],ya=-1;function Vo(t){return{current:t}}function lt(t){0>ya||(t.current=y0[ya],y0[ya]=null,ya--)}function nt(t,e){ya++,y0[ya]=t.current,t.current=e}var Mo={},mn=Vo(Mo),Mn=Vo(!1),Ss=Mo;function Ka(t,e){var n=t.type.contextTypes;if(!n)return Mo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function On(t){return t=t.childContextTypes,t!=null}function Hh(){lt(Mn),lt(mn)}function DS(t,e,n){if(mn.current!==Mo)throw Error(te(168));nt(mn,e),nt(Mn,n)}function i2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,QU(t)||"Unknown",i));return gt({},n,r)}function Wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mo,Ss=mn.current,nt(mn,t),nt(Mn,Mn.current),!0}function LS(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=i2(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,lt(Mn),lt(mn),nt(mn,t)):lt(Mn),nt(Mn,n)}var ci=null,jm=!1,zy=!1;function o2(t){ci===null?ci=[t]:ci.push(t)}function mF(t){jm=!0,o2(t)}function Uo(){if(!zy&&ci!==null){zy=!0;var t=0,e=He;try{var n=ci;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,jm=!1}catch(i){throw ci!==null&&(ci=ci.slice(t+1)),NR(aw,Uo),i}finally{He=e,zy=!1}}return null}var va=[],xa=0,Kh=null,Jh=0,rr=[],ir=0,As=null,fi=1,hi="";function rs(t,e){va[xa++]=Jh,va[xa++]=Kh,Kh=t,Jh=e}function s2(t,e,n){rr[ir++]=fi,rr[ir++]=hi,rr[ir++]=As,As=t;var r=fi;t=hi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fi=1<<32-Pr(e)+i|n<<i|r,hi=o+t}else fi=1<<o|n<<i|r,hi=t}function gw(t){t.return!==null&&(rs(t,1),s2(t,1,0))}function yw(t){for(;t===Kh;)Kh=va[--xa],va[xa]=null,Jh=va[--xa],va[xa]=null;for(;t===As;)As=rr[--ir],rr[ir]=null,hi=rr[--ir],rr[ir]=null,fi=rr[--ir],rr[ir]=null}var zn=null,Bn=null,ct=!1,Ar=null;function a2(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $S(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Bn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:fi,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Bn=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x0(t){if(ct){var e=Bn;if(e){var n=e;if(!$S(t,e)){if(v0(t))throw Error(te(418));e=_o(n.nextSibling);var r=zn;e&&$S(t,e)?a2(r,n):(t.flags=t.flags&-4097|2,ct=!1,zn=t)}}else{if(v0(t))throw Error(te(418));t.flags=t.flags&-4097|2,ct=!1,zn=t}}}function jS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function jf(t){if(t!==zn)return!1;if(!ct)return jS(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p0(t.type,t.memoizedProps)),e&&(e=Bn)){if(v0(t))throw l2(),Error(te(418));for(;e;)a2(t,e),e=_o(e.nextSibling)}if(jS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=zn?_o(t.stateNode.nextSibling):null;return!0}function l2(){for(var t=Bn;t;)t=_o(t.nextSibling)}function Ja(){Bn=zn=null,ct=!1}function vw(t){Ar===null?Ar=[t]:Ar.push(t)}var gF=Ui.ReactCurrentBatchConfig;function Tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VS(t){var e=t._init;return e(t._payload)}function u2(t){function e(_,b){if(t){var T=_.deletions;T===null?(_.deletions=[b],_.flags|=16):T.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=To(_,b),_.index=0,_.sibling=null,_}function o(_,b,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags|=2,b):T):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,T,N){return b===null||b.tag!==6?(b=Xy(T,_.mode,N),b.return=_,b):(b=i(b,T),b.return=_,b)}function l(_,b,T,N){var A=T.type;return A===fa?c(_,b,T.props.children,N,T.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===to&&VS(A)===b.type)?(N=i(b,T.props),N.ref=Tu(_,b,T),N.return=_,N):(N=Sh(T.type,T.key,T.props,null,_.mode,N),N.ref=Tu(_,b,T),N.return=_,N)}function u(_,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Qy(T,_.mode,N),b.return=_,b):(b=i(b,T.children||[]),b.return=_,b)}function c(_,b,T,N,A){return b===null||b.tag!==7?(b=_s(T,_.mode,N,A),b.return=_,b):(b=i(b,T),b.return=_,b)}function d(_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Xy(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cf:return T=Sh(b.type,b.key,b.props,null,_.mode,T),T.ref=Tu(_,null,b),T.return=_,T;case da:return b=Qy(b,_.mode,T),b.return=_,b;case to:var N=b._init;return d(_,N(b._payload),T)}if(Fu(b)||xu(b))return b=_s(b,_.mode,T,null),b.return=_,b;Vf(_,b)}return null}function h(_,b,T,N){var A=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:a(_,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Cf:return T.key===A?l(_,b,T,N):null;case da:return T.key===A?u(_,b,T,N):null;case to:return A=T._init,h(_,b,A(T._payload),N)}if(Fu(T)||xu(T))return A!==null?null:c(_,b,T,N,null);Vf(_,T)}return null}function y(_,b,T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(T)||null,a(b,_,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cf:return _=_.get(N.key===null?T:N.key)||null,l(b,_,N,A);case da:return _=_.get(N.key===null?T:N.key)||null,u(b,_,N,A);case to:var P=N._init;return y(_,b,T,P(N._payload),A)}if(Fu(N)||xu(N))return _=_.get(T)||null,c(b,_,N,A,null);Vf(b,N)}return null}function v(_,b,T,N){for(var A=null,P=null,S=b,C=b=0,I=null;S!==null&&C<T.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var R=h(_,S,T[C],N);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(_,S),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R,S=I}if(C===T.length)return n(_,S),ct&&rs(_,C),A;if(S===null){for(;C<T.length;C++)S=d(_,T[C],N),S!==null&&(b=o(S,b,C),P===null?A=S:P.sibling=S,P=S);return ct&&rs(_,C),A}for(S=r(_,S);C<T.length;C++)I=y(S,_,C,T[C],N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),b=o(I,b,C),P===null?A=I:P.sibling=I,P=I);return t&&S.forEach(function(M){return e(_,M)}),ct&&rs(_,C),A}function w(_,b,T,N){var A=xu(T);if(typeof A!="function")throw Error(te(150));if(T=A.call(T),T==null)throw Error(te(151));for(var P=A=null,S=b,C=b=0,I=null,R=T.next();S!==null&&!R.done;C++,R=T.next()){S.index>C?(I=S,S=null):I=S.sibling;var M=h(_,S,R.value,N);if(M===null){S===null&&(S=I);break}t&&S&&M.alternate===null&&e(_,S),b=o(M,b,C),P===null?A=M:P.sibling=M,P=M,S=I}if(R.done)return n(_,S),ct&&rs(_,C),A;if(S===null){for(;!R.done;C++,R=T.next())R=d(_,R.value,N),R!==null&&(b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return ct&&rs(_,C),A}for(S=r(_,S);!R.done;C++,R=T.next())R=y(S,_,C,R.value,N),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return t&&S.forEach(function(D){return e(_,D)}),ct&&rs(_,C),A}function x(_,b,T,N){if(typeof T=="object"&&T!==null&&T.type===fa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Cf:e:{for(var A=T.key,P=b;P!==null;){if(P.key===A){if(A=T.type,A===fa){if(P.tag===7){n(_,P.sibling),b=i(P,T.props.children),b.return=_,_=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===to&&VS(A)===P.type){n(_,P.sibling),b=i(P,T.props),b.ref=Tu(_,P,T),b.return=_,_=b;break e}n(_,P);break}else e(_,P);P=P.sibling}T.type===fa?(b=_s(T.props.children,_.mode,N,T.key),b.return=_,_=b):(N=Sh(T.type,T.key,T.props,null,_.mode,N),N.ref=Tu(_,b,T),N.return=_,_=N)}return s(_);case da:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),b=i(b,T.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=Qy(T,_.mode,N),b.return=_,_=b}return s(_);case to:return P=T._init,x(_,b,P(T._payload),N)}if(Fu(T))return v(_,b,T,N);if(xu(T))return w(_,b,T,N);Vf(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,T),b.return=_,_=b):(n(_,b),b=Xy(T,_.mode,N),b.return=_,_=b),s(_)):n(_,b)}return x}var Ya=u2(!0),c2=u2(!1),Yh=Vo(null),Xh=null,_a=null,xw=null;function _w(){xw=_a=Xh=null}function ww(t){var e=Yh.current;lt(Yh),t._currentValue=e}function _0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){Xh=t,xw=_a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function dr(t){var e=t._currentValue;if(xw!==t)if(t={context:t,memoizedValue:e,next:null},_a===null){if(Xh===null)throw Error(te(308));_a=t,Xh.dependencies={lanes:0,firstContext:t}}else _a=_a.next=t;return e}var ds=null;function bw(t){ds===null?ds=[t]:ds.push(t)}function d2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var no=!1;function Ew(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,bw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function xh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lw(t,n)}}function US(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qh(t,e,n,r){var i=t.updateQueue;no=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(y,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(y,d,h):v,h==null)break e;d=gt({},d,h);break e;case 2:no=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=d}}function FS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var kd={},qr=Vo(kd),Ic=Vo(kd),Cc=Vo(kd);function fs(t){if(t===kd)throw Error(te(174));return t}function Tw(t,e){switch(nt(Cc,e),nt(Ic,t),nt(qr,kd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}lt(qr),nt(qr,e)}function Xa(){lt(qr),lt(Ic),lt(Cc)}function h2(t){fs(Cc.current);var e=fs(qr.current),n=e0(e,t.type);e!==n&&(nt(Ic,t),nt(qr,n))}function Sw(t){Ic.current===t&&(lt(qr),lt(Ic))}var ht=Vo(0);function Zh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qy=[];function Aw(){for(var t=0;t<qy.length;t++)qy[t]._workInProgressVersionPrimary=null;qy.length=0}var _h=Ui.ReactCurrentDispatcher,Hy=Ui.ReactCurrentBatchConfig,Is=0,mt=null,Nt=null,Ft=null,ep=!1,tc=!1,Pc=0,yF=0;function on(){throw Error(te(321))}function Iw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Cw(t,e,n,r,i,o){if(Is=o,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_h.current=t===null||t.memoizedState===null?wF:bF,t=n(r,i),tc){o=0;do{if(tc=!1,Pc=0,25<=o)throw Error(te(301));o+=1,Ft=Nt=null,e.updateQueue=null,_h.current=EF,t=n(r,i)}while(tc)}if(_h.current=tp,e=Nt!==null&&Nt.next!==null,Is=0,Ft=Nt=mt=null,ep=!1,e)throw Error(te(300));return t}function Pw(){var t=Pc!==0;return Pc=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function fr(){if(Nt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Ft===null?mt.memoizedState:Ft.next;if(e!==null)Ft=e,Nt=t;else{if(t===null)throw Error(te(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Nc(t,e){return typeof e=="function"?e(t):e}function Wy(t){var e=fr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,mt.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Or(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,mt.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ky(t){var e=fr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Or(o,e.memoizedState)||(kn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function p2(){}function m2(t,e){var n=mt,r=fr(),i=e(),o=!Or(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,Nw(v2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,kc(9,y2.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(te(349));Is&30||g2(n,e,i)}return i}function g2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y2(t,e,n,r){e.value=n,e.getSnapshot=r,x2(e)&&_2(t)}function v2(t,e,n){return n(function(){x2(e)&&_2(t)})}function x2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function _2(t){var e=Ai(t,1);e!==null&&Nr(e,t,1,-1)}function BS(t){var e=Ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=_F.bind(null,mt,t),[e.memoizedState,t]}function kc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w2(){return fr().memoizedState}function wh(t,e,n,r){var i=Ur();mt.flags|=t,i.memoizedState=kc(1|e,n,void 0,r===void 0?null:r)}function Vm(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&Iw(r,s.deps)){i.memoizedState=kc(e,n,o,r);return}}mt.flags|=t,i.memoizedState=kc(1|e,n,o,r)}function GS(t,e){return wh(8390656,8,t,e)}function Nw(t,e){return Vm(2048,8,t,e)}function b2(t,e){return Vm(4,2,t,e)}function E2(t,e){return Vm(4,4,t,e)}function T2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S2(t,e,n){return n=n!=null?n.concat([t]):null,Vm(4,4,T2.bind(null,e,t),n)}function kw(){}function A2(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I2(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C2(t,e,n){return Is&21?(Or(n,e)||(n=MR(),mt.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function vF(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Hy.transition;Hy.transition={};try{t(!1),e()}finally{He=n,Hy.transition=r}}function P2(){return fr().memoizedState}function xF(t,e,n){var r=Eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},N2(t))k2(e,n);else if(n=d2(t,e,n,r),n!==null){var i=_n();Nr(n,t,r,i),R2(n,e,r)}}function _F(t,e,n){var r=Eo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(N2(t))k2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,s)){var l=e.interleaved;l===null?(i.next=i,bw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=d2(t,e,i,r),n!==null&&(i=_n(),Nr(n,t,r,i),R2(n,e,r))}}function N2(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function k2(t,e){tc=ep=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function R2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lw(t,n)}}var tp={readContext:dr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},wF={readContext:dr,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:dr,useEffect:GS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wh(4194308,4,T2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return wh(4,2,t,e)},useMemo:function(t,e){var n=Ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xF.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:BS,useDebugValue:kw,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=BS(!1),e=t[0];return t=vF.bind(null,t[1]),Ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Ur();if(ct){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Bt===null)throw Error(te(349));Is&30||g2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,GS(v2.bind(null,r,o,t),[t]),r.flags|=2048,kc(9,y2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ur(),e=Bt.identifierPrefix;if(ct){var n=hi,r=fi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bF={readContext:dr,useCallback:A2,useContext:dr,useEffect:Nw,useImperativeHandle:S2,useInsertionEffect:b2,useLayoutEffect:E2,useMemo:I2,useReducer:Wy,useRef:w2,useState:function(){return Wy(Nc)},useDebugValue:kw,useDeferredValue:function(t){var e=fr();return C2(e,Nt.memoizedState,t)},useTransition:function(){var t=Wy(Nc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:p2,useSyncExternalStore:m2,useId:P2,unstable_isNewReconciler:!1},EF={readContext:dr,useCallback:A2,useContext:dr,useEffect:Nw,useImperativeHandle:S2,useInsertionEffect:b2,useLayoutEffect:E2,useMemo:I2,useReducer:Ky,useRef:w2,useState:function(){return Ky(Nc)},useDebugValue:kw,useDeferredValue:function(t){var e=fr();return Nt===null?e.memoizedState=t:C2(e,Nt.memoizedState,t)},useTransition:function(){var t=Ky(Nc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:p2,useSyncExternalStore:m2,useId:P2,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Um={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Eo(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Nr(e,t,i,r),xh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Eo(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Nr(e,t,i,r),xh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Eo(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Nr(e,t,r,n),xh(e,t,r))}};function zS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ec(n,r)||!Ec(i,o):!0}function M2(t,e,n){var r=!1,i=Mo,o=e.contextType;return typeof o=="object"&&o!==null?o=dr(o):(i=On(e)?Ss:mn.current,r=e.contextTypes,o=(r=r!=null)?Ka(t,i):Mo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Um.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ew(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=dr(o):(o=On(e)?Ss:mn.current,i.context=Ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(w0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Um.enqueueReplaceState(i,i.state,null),Qh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=XU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TF=typeof WeakMap=="function"?WeakMap:Map;function O2(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rp||(rp=!0,M0=r),E0(t,e)},n}function D2(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){E0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){E0(t,e),typeof r!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function HS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jF.bind(null,t,e,n),e.then(t,t))}function WS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var SF=Ui.ReactCurrentOwner,kn=!1;function vn(t,e,n,r){e.child=t===null?c2(e,null,n,r):Ya(e,t.child,n,r)}function JS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=Cw(t,e,n,r,o,i),n=Pw(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(ct&&n&&gw(e),e.flags|=1,vn(t,e,r,i),e.child)}function YS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,L2(t,e,o,r,i)):(t=Sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ec,n(s,r)&&t.ref===e.ref)return Ii(t,e,i)}return e.flags|=1,t=To(o,r),t.ref=e.ref,t.return=e,e.child=t}function L2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ec(o,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,Ii(t,e,i)}return T0(t,e,n,r,i)}function $2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ba,Vn),Vn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(ba,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nt(ba,Vn),Vn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nt(ba,Vn),Vn|=r;return vn(t,e,i,n),e.child}function j2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function T0(t,e,n,r,i){var o=On(n)?Ss:mn.current;return o=Ka(e,o),Ma(e,i),n=Cw(t,e,n,r,o,i),r=Pw(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(ct&&r&&gw(e),e.flags|=1,vn(t,e,n,i),e.child)}function XS(t,e,n,r,i){if(On(n)){var o=!0;Wh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)bh(t,e),M2(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=On(n)?Ss:mn.current,u=Ka(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qS(e,s,r,u),no=!1;var h=e.memoizedState;s.state=h,Qh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Mn.current||no?(typeof c=="function"&&(w0(e,n,c,r),l=e.memoizedState),(a=no||zS(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,f2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dr(l):(l=On(n)?Ss:mn.current,l=Ka(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&qS(e,s,r,l),no=!1,h=e.memoizedState,s.state=h,Qh(e,r,s,i);var v=e.memoizedState;a!==d||h!==v||Mn.current||no?(typeof y=="function"&&(w0(e,n,y,r),v=e.memoizedState),(u=no||zS(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,o,i)}function S0(t,e,n,r,i,o){j2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&LS(e,n,!1),Ii(t,e,o);r=e.stateNode,SF.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):vn(t,e,a,o),e.memoizedState=r.state,i&&LS(e,n,!0),e.child}function V2(t){var e=t.stateNode;e.pendingContext?DS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DS(t,e.context,!1),Tw(t,e.containerInfo)}function QS(t,e,n,r,i){return Ja(),vw(i),e.flags|=256,vn(t,e,n,r),e.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function I0(t){return{baseLanes:t,cachePool:null,transitions:null}}function U2(t,e,n){var r=e.pendingProps,i=ht.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(ht,i&1),t===null)return x0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gm(s,r,0,null),t=_s(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=I0(n),e.memoizedState=A0,t):Rw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AF(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=To(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=To(a,o):(o=_s(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?I0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=A0,r}return o=t.child,t=o.sibling,r=To(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rw(t,e){return e=Gm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uf(t,e,n,r){return r!==null&&vw(r),Ya(e,t.child,null,n),t=Rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AF(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Jy(Error(te(422))),Uf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Gm({mode:"visible",children:r.children},i,0,null),o=_s(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ya(e,t.child,null,s),e.child.memoizedState=I0(s),e.memoizedState=A0,o);if(!(e.mode&1))return Uf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=Jy(o,r,void 0),Uf(t,e,s,r)}if(a=(s&t.childLanes)!==0,kn||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ai(t,i),Nr(r,t,i,-1))}return jw(),r=Jy(Error(te(421))),Uf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Bn=_o(i.nextSibling),zn=e,ct=!0,Ar=null,t!==null&&(rr[ir++]=fi,rr[ir++]=hi,rr[ir++]=As,fi=t.id,hi=t.overflow,As=e),e=Rw(e,r.children),e.flags|=4096,e)}function ZS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_0(t.return,e,n)}function Yy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function F2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(vn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZS(t,n,e);else if(t.tag===19)ZS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yy(e,!0,n,null,o);break;case"together":Yy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=To(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=To(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IF(t,e,n){switch(e.tag){case 3:V2(e),Ja();break;case 5:h2(e);break;case 1:On(e.type)&&Wh(e);break;case 4:Tw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(Yh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?U2(t,e,n):(nt(ht,ht.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);nt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return F2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,$2(t,e,n)}return Ii(t,e,n)}var B2,C0,G2,z2;B2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};G2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(qr.current);var o=null;switch(n){case"input":i=Yv(t,i),r=Yv(t,r),o=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),o=[];break;case"textarea":i=Zv(t,i),r=Zv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qh)}t0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};z2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Su(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CF(t,e,n){var r=e.pendingProps;switch(yw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return On(e.type)&&Hh(),sn(e),null;case 3:return r=e.stateNode,Xa(),lt(Mn),lt(mn),Aw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(L0(Ar),Ar=null))),C0(t,e),sn(e),null;case 5:Sw(e);var i=fs(Cc.current);if(n=e.type,t!==null&&e.stateNode!=null)G2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return sn(e),null}if(t=fs(qr.current),jf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Fr]=e,r[Ac]=o,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<Gu.length;i++)ot(Gu[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":lS(r,o),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ot("invalid",r);break;case"textarea":cS(r,o),ot("invalid",r)}t0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,a,t),i=["children",""+a]):gc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ot("scroll",r)}switch(n){case"input":Pf(r),uS(r,o,!0);break;case"textarea":Pf(r),dS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Fr]=e,t[Ac]=r,B2(t,e,!1,!1),e.stateNode=t;e:{switch(s=n0(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gu.length;i++)ot(Gu[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":lS(t,r),i=Yv(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":cS(t,r),i=Zv(t,r),ot("invalid",t);break;default:i=r}t0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?wR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yc(t,l):typeof l=="number"&&yc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ot("scroll",t):l!=null&&nw(t,o,l,s))}switch(n){case"input":Pf(t),uS(t,r,!1);break;case"textarea":Pf(t),dS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)z2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=fs(Cc.current),fs(qr.current),jf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(o=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:$f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return sn(e),null;case 13:if(lt(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Bn!==null&&e.mode&1&&!(e.flags&128))l2(),Ja(),e.flags|=98560,o=!1;else if(o=jf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Fr]=e}else Ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),o=!1}else Ar!==null&&(L0(Ar),Ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?kt===0&&(kt=3):jw())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Xa(),C0(t,e),t===null&&Tc(e.stateNode.containerInfo),sn(e),null;case 10:return ww(e.type._context),sn(e),null;case 17:return On(e.type)&&Hh(),sn(e),null;case 19:if(lt(ht),o=e.memoizedState,o===null)return sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Su(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zh(t),s!==null){for(e.flags|=128,Su(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(ht,ht.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>Za&&(e.flags|=128,r=!0,Su(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Su(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ct)return sn(e),null}else 2*bt()-o.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,Su(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ht.current,nt(ht,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return $w(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function PF(t,e){switch(yw(e),e.tag){case 1:return On(e.type)&&Hh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),lt(Mn),lt(mn),Aw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sw(e),null;case 13:if(lt(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ht),null;case 4:return Xa(),null;case 10:return ww(e.type._context),null;case 22:case 23:return $w(),null;case 24:return null;default:return null}}var Ff=!1,cn=!1,NF=typeof WeakSet=="function"?WeakSet:Set,fe=null;function wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function P0(t,e,n){try{n()}catch(r){xt(t,e,r)}}var e1=!1;function kF(t,e){if(f0=Bh,t=JR(),mw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h0={focusedElem:t,selectionRange:n},Bh=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Er(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(N){xt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return v=e1,e1=!1,v}function nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&P0(e,n,o)}i=i.next}while(i!==r)}}function Fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q2(t){var e=t.alternate;e!==null&&(t.alternate=null,q2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Ac],delete e[g0],delete e[hF],delete e[pF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H2(t){return t.tag===5||t.tag===3||t.tag===4}function t1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qh));else if(r!==4&&(t=t.child,t!==null))for(k0(t,e,n),t=t.sibling;t!==null;)k0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var Kt=null,Tr=!1;function Qi(t,e,n){for(n=n.child;n!==null;)W2(t,e,n),n=n.sibling}function W2(t,e,n){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Mm,n)}catch{}switch(n.tag){case 5:cn||wa(n,e);case 6:var r=Kt,i=Tr;Kt=null,Qi(t,e,n),Kt=r,Tr=i,Kt!==null&&(Tr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Tr?(t=Kt,n=n.stateNode,t.nodeType===8?Gy(t.parentNode,n):t.nodeType===1&&Gy(t,n),wc(t)):Gy(Kt,n.stateNode));break;case 4:r=Kt,i=Tr,Kt=n.stateNode.containerInfo,Tr=!0,Qi(t,e,n),Kt=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&P0(n,e,s),i=i.next}while(i!==r)}Qi(t,e,n);break;case 1:if(!cn&&(wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Qi(t,e,n),cn=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function n1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NF),e.forEach(function(r){var i=UF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Tr=!1;break e;case 3:Kt=a.stateNode.containerInfo,Tr=!0;break e;case 4:Kt=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(Kt===null)throw Error(te(160));W2(o,s,i),Kt=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K2(e,t),e=e.sibling}function K2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Vr(t),r&4){try{nc(3,t,t.return),Fm(3,t)}catch(w){xt(t,t.return,w)}try{nc(5,t,t.return)}catch(w){xt(t,t.return,w)}}break;case 1:wr(e,t),Vr(t),r&512&&n!==null&&wa(n,n.return);break;case 5:if(wr(e,t),Vr(t),r&512&&n!==null&&wa(n,n.return),t.flags&32){var i=t.stateNode;try{yc(i,"")}catch(w){xt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&gR(i,o),n0(a,s);var u=n0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?wR(i,d):c==="dangerouslySetInnerHTML"?xR(i,d):c==="children"?yc(i,d):nw(i,c,d,u)}switch(a){case"input":Xv(i,o);break;case"textarea":yR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Pa(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pa(i,!!o.multiple,o.defaultValue,!0):Pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ac]=o}catch(w){xt(t,t.return,w)}}break;case 6:if(wr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){xt(t,t.return,w)}}break;case 3:if(wr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wc(e.containerInfo)}catch(w){xt(t,t.return,w)}break;case 4:wr(e,t),Vr(t);break;case 13:wr(e,t),Vr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dw=bt())),r&4&&n1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||c,wr(e,t),cn=u):wr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(fe=t,c=t.child;c!==null;){for(d=fe=c;fe!==null;){switch(h=fe,y=h.child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:wa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){xt(r,n,w)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){i1(d);continue}}y!==null?(y.return=h,fe=y):i1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_R("display",s))}catch(w){xt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){xt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wr(e,t),Vr(t),r&4&&n1(t);break;case 21:break;default:wr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H2(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yc(i,""),r.flags&=-33);var o=t1(t);R0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=t1(t);k0(t,a,s);break;default:throw Error(te(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RF(t,e,n){fe=t,J2(t)}function J2(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ff;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Ff;var u=cn;if(Ff=s,(cn=l)&&!u)for(fe=i;fe!==null;)s=fe,l=s.child,s.tag===22&&s.memoizedState!==null?o1(i):l!==null?(l.return=s,fe=l):o1(i);for(;o!==null;)fe=o,J2(o),o=o.sibling;fe=i,Ff=a,cn=u}r1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):r1(t)}}function r1(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||Fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&FS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&wc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}cn||e.flags&512&&N0(e)}catch(h){xt(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function i1(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function o1(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fm(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var o=e.return;try{N0(e)}catch(l){xt(e,o,l)}break;case 5:var s=e.return;try{N0(e)}catch(l){xt(e,s,l)}}}catch(l){xt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var MF=Math.ceil,np=Ui.ReactCurrentDispatcher,Mw=Ui.ReactCurrentOwner,lr=Ui.ReactCurrentBatchConfig,$e=0,Bt=null,St=null,Qt=0,Vn=0,ba=Vo(0),kt=0,Rc=null,Cs=0,Bm=0,Ow=0,rc=null,Pn=null,Dw=0,Za=1/0,ui=null,rp=!1,M0=null,bo=null,Bf=!1,fo=null,ip=0,ic=0,O0=null,Eh=-1,Th=0;function _n(){return $e&6?bt():Eh!==-1?Eh:Eh=bt()}function Eo(t){return t.mode&1?$e&2&&Qt!==0?Qt&-Qt:gF.transition!==null?(Th===0&&(Th=MR()),Th):(t=He,t!==0||(t=window.event,t=t===void 0?16:UR(t.type)),t):1}function Nr(t,e,n,r){if(50<ic)throw ic=0,O0=null,Error(te(185));Cd(t,n,r),(!($e&2)||t!==Bt)&&(t===Bt&&(!($e&2)&&(Bm|=n),kt===4&&oo(t,Qt)),Dn(t,r),n===1&&$e===0&&!(e.mode&1)&&(Za=bt()+500,jm&&Uo()))}function Dn(t,e){var n=t.callbackNode;g4(t,e);var r=Fh(t,t===Bt?Qt:0);if(r===0)n!==null&&pS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pS(n),e===1)t.tag===0?mF(s1.bind(null,t)):o2(s1.bind(null,t)),dF(function(){!($e&6)&&Uo()}),n=null;else{switch(OR(r)){case 1:n=aw;break;case 4:n=kR;break;case 16:n=Uh;break;case 536870912:n=RR;break;default:n=Uh}n=rM(n,Y2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Y2(t,e){if(Eh=-1,Th=0,$e&6)throw Error(te(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=Fh(t,t===Bt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=op(t,r);else{e=r;var i=$e;$e|=2;var o=Q2();(Bt!==t||Qt!==e)&&(ui=null,Za=bt()+500,xs(t,e));do try{LF();break}catch(a){X2(t,a)}while(!0);_w(),np.current=o,$e=i,St!==null?e=0:(Bt=null,Qt=0,e=kt)}if(e!==0){if(e===2&&(i=a0(t),i!==0&&(r=i,e=D0(t,i))),e===1)throw n=Rc,xs(t,0),oo(t,r),Dn(t,bt()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!OF(i)&&(e=op(t,r),e===2&&(o=a0(t),o!==0&&(r=o,e=D0(t,o))),e===1))throw n=Rc,xs(t,0),oo(t,r),Dn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:is(t,Pn,ui);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=Dw+500-bt(),10<e)){if(Fh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m0(is.bind(null,t,Pn,ui),e);break}is(t,Pn,ui);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MF(r/1960))-r,10<r){t.timeoutHandle=m0(is.bind(null,t,Pn,ui),r);break}is(t,Pn,ui);break;case 5:is(t,Pn,ui);break;default:throw Error(te(329))}}}return Dn(t,bt()),t.callbackNode===n?Y2.bind(null,t):null}function D0(t,e){var n=rc;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=op(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&L0(e)),t}function L0(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function OF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Or(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~Ow,e&=~Bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function s1(t){if($e&6)throw Error(te(327));Oa();var e=Fh(t,0);if(!(e&1))return Dn(t,bt()),null;var n=op(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=D0(t,r))}if(n===1)throw n=Rc,xs(t,0),oo(t,e),Dn(t,bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,Pn,ui),Dn(t,bt()),null}function Lw(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Za=bt()+500,jm&&Uo())}}function Ps(t){fo!==null&&fo.tag===0&&!($e&6)&&Oa();var e=$e;$e|=1;var n=lr.transition,r=He;try{if(lr.transition=null,He=1,t)return t()}finally{He=r,lr.transition=n,$e=e,!($e&6)&&Uo()}}function $w(){Vn=ba.current,lt(ba)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cF(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(yw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hh();break;case 3:Xa(),lt(Mn),lt(mn),Aw();break;case 5:Sw(r);break;case 4:Xa();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:ww(r.type._context);break;case 22:case 23:$w()}n=n.return}if(Bt=t,St=t=To(t.current,null),Qt=Vn=e,kt=0,Rc=null,Ow=Bm=Cs=0,Pn=rc=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ds=null}return t}function X2(t,e){do{var n=St;try{if(_w(),_h.current=tp,ep){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ep=!1}if(Is=0,Ft=Nt=mt=null,tc=!1,Pc=0,Mw.current=null,n===null||n.return===null){kt=1,Rc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=WS(s);if(y!==null){y.flags&=-257,KS(y,s,a,o,e),y.mode&1&&HS(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){HS(o,u,e),jw();break e}l=Error(te(426))}}else if(ct&&a.mode&1){var x=WS(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),KS(x,s,a,o,e),vw(Qa(l,a));break e}}o=l=Qa(l,a),kt!==4&&(kt=2),rc===null?rc=[o]:rc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=O2(o,l,e);US(o,_);break e;case 1:a=l;var b=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(bo===null||!bo.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=D2(o,a,e);US(o,N);break e}}o=o.return}while(o!==null)}eM(n)}catch(A){e=A,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function Q2(){var t=np.current;return np.current=tp,t===null?tp:t}function jw(){(kt===0||kt===3||kt===2)&&(kt=4),Bt===null||!(Cs&268435455)&&!(Bm&268435455)||oo(Bt,Qt)}function op(t,e){var n=$e;$e|=2;var r=Q2();(Bt!==t||Qt!==e)&&(ui=null,xs(t,e));do try{DF();break}catch(i){X2(t,i)}while(!0);if(_w(),$e=n,np.current=r,St!==null)throw Error(te(261));return Bt=null,Qt=0,kt}function DF(){for(;St!==null;)Z2(St)}function LF(){for(;St!==null&&!a4();)Z2(St)}function Z2(t){var e=nM(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?eM(t):St=e,Mw.current=null}function eM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PF(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,St=null;return}}else if(n=CF(n,e,Vn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);kt===0&&(kt=5)}function is(t,e,n){var r=He,i=lr.transition;try{lr.transition=null,He=1,$F(t,e,n,r)}finally{lr.transition=i,He=r}return null}function $F(t,e,n,r){do Oa();while(fo!==null);if($e&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(y4(t,o),t===Bt&&(St=Bt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bf||(Bf=!0,rM(Uh,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=He;He=1;var a=$e;$e|=4,Mw.current=null,kF(t,n),K2(n,t),rF(h0),Bh=!!f0,h0=f0=null,t.current=n,RF(n),l4(),$e=a,He=s,lr.transition=o}else t.current=n;if(Bf&&(Bf=!1,fo=t,ip=i),o=t.pendingLanes,o===0&&(bo=null),d4(n.stateNode),Dn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rp)throw rp=!1,t=M0,M0=null,t;return ip&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===O0?ic++:(ic=0,O0=t):ic=0,Uo(),null}function Oa(){if(fo!==null){var t=OR(ip),e=lr.transition,n=He;try{if(lr.transition=null,He=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,ip=0,$e&6)throw Error(te(331));var i=$e;for($e|=4,fe=t.current;fe!==null;){var o=fe,s=o.child;if(fe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:nc(8,c,o)}var d=c.child;if(d!==null)d.return=c,fe=d;else for(;fe!==null;){c=fe;var h=c.sibling,y=c.return;if(q2(c),c===u){fe=null;break}if(h!==null){h.return=y,fe=h;break}fe=y}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}fe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,fe=s;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,fe=_;break e}fe=o.return}}var b=t.current;for(fe=b;fe!==null;){s=fe;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,fe=T;else e:for(s=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fm(9,a)}}catch(A){xt(a,a.return,A)}if(a===s){fe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fe=N;break e}fe=a.return}}if($e=i,Uo(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Mm,t)}catch{}r=!0}return r}finally{He=n,lr.transition=e}}return!1}function a1(t,e,n){e=Qa(n,e),e=O2(t,e,1),t=wo(t,e,1),e=_n(),t!==null&&(Cd(t,1,e),Dn(t,e))}function xt(t,e,n){if(t.tag===3)a1(t,t,n);else for(;e!==null;){if(e.tag===3){a1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bo===null||!bo.has(r))){t=Qa(n,t),t=D2(e,t,1),e=wo(e,t,1),t=_n(),e!==null&&(Cd(e,1,t),Dn(e,t));break}}e=e.return}}function jF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Qt&n)===n&&(kt===4||kt===3&&(Qt&130023424)===Qt&&500>bt()-Dw?xs(t,0):Ow|=n),Dn(t,e)}function tM(t,e){e===0&&(t.mode&1?(e=Rf,Rf<<=1,!(Rf&130023424)&&(Rf=4194304)):e=1);var n=_n();t=Ai(t,e),t!==null&&(Cd(t,e,n),Dn(t,n))}function VF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tM(t,n)}function UF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),tM(t,n)}var nM;nM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,IF(t,e,n);kn=!!(t.flags&131072)}else kn=!1,ct&&e.flags&1048576&&s2(e,Jh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var i=Ka(e,mn.current);Ma(e,n),i=Cw(null,e,r,t,i,n);var o=Pw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(o=!0,Wh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ew(e),i.updater=Um,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=S0(null,e,r,!0,o,n)):(e.tag=0,ct&&o&&gw(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BF(r),t=Er(r,t),i){case 0:e=T0(null,e,r,t,n);break e;case 1:e=XS(null,e,r,t,n);break e;case 11:e=JS(null,e,r,t,n);break e;case 14:e=YS(null,e,r,Er(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),T0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),XS(t,e,r,i,n);case 3:e:{if(V2(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,f2(t,e),Qh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qa(Error(te(423)),e),e=QS(t,e,r,n,i);break e}else if(r!==i){i=Qa(Error(te(424)),e),e=QS(t,e,r,n,i);break e}else for(Bn=_o(e.stateNode.containerInfo.firstChild),zn=e,ct=!0,Ar=null,n=c2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ja(),r===i){e=Ii(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return h2(e),t===null&&x0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,p0(r,i)?s=null:o!==null&&p0(r,o)&&(e.flags|=32),j2(t,e),vn(t,e,s,n),e.child;case 6:return t===null&&x0(e),null;case 13:return U2(t,e,n);case 4:return Tw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),JS(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nt(Yh,r._currentValue),r._currentValue=s,o!==null)if(Or(o.value,s)){if(o.children===i.children&&!Mn.current){e=Ii(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=dr(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),YS(t,e,r,i,n);case 15:return L2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),bh(t,e),e.tag=1,On(r)?(t=!0,Wh(e)):t=!1,Ma(e,n),M2(e,r,i),b0(e,r,i,n),S0(null,e,r,!0,t,n);case 19:return F2(t,e,n);case 22:return $2(t,e,n)}throw Error(te(156,e.tag))};function rM(t,e){return NR(t,e)}function FF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new FF(t,e,n,r)}function Vw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BF(t){if(typeof t=="function")return Vw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iw)return 11;if(t===ow)return 14}return 2}function To(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fa:return _s(n.children,i,o,e);case rw:s=8,i|=8;break;case Hv:return t=sr(12,n,e,i|2),t.elementType=Hv,t.lanes=o,t;case Wv:return t=sr(13,n,e,i),t.elementType=Wv,t.lanes=o,t;case Kv:return t=sr(19,n,e,i),t.elementType=Kv,t.lanes=o,t;case hR:return Gm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dR:s=10;break e;case fR:s=9;break e;case iw:s=11;break e;case ow:s=14;break e;case to:s=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function _s(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Gm(t,e,n,r){return t=sr(22,t,r,e),t.elementType=hR,t.lanes=n,t.stateNode={isHidden:!1},t}function Xy(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Qy(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ry(0),this.expirationTimes=Ry(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ry(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uw(t,e,n,r,i,o,s,a,l){return t=new GF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ew(o),t}function zF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iM(t){if(!t)return Mo;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(On(n))return i2(t,n,e)}return e}function oM(t,e,n,r,i,o,s,a,l){return t=Uw(n,r,!0,t,i,o,s,a,l),t.context=iM(null),n=t.current,r=_n(),i=Eo(n),o=_i(r,i),o.callback=e??null,wo(n,o,i),t.current.lanes=i,Cd(t,i,r),Dn(t,r),t}function zm(t,e,n,r){var i=e.current,o=_n(),s=Eo(i);return n=iM(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(Nr(t,i,s,o),xh(t,i,s)),s}function sp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fw(t,e){l1(t,e),(t=t.alternate)&&l1(t,e)}function qF(){return null}var sM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bw(t){this._internalRoot=t}qm.prototype.render=Bw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));zm(t,e,null,null)};qm.prototype.unmount=Bw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){zm(null,t,null,null)}),e[Si]=null}};function qm(t){this._internalRoot=t}qm.prototype.unstable_scheduleHydration=function(t){if(t){var e=$R();t={blockedOn:null,target:t,priority:e};for(var n=0;n<io.length&&e!==0&&e<io[n].priority;n++);io.splice(n,0,t),n===0&&VR(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u1(){}function HF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=sp(s);o.call(u)}}var s=oM(e,r,t,0,null,!1,!1,"",u1);return t._reactRootContainer=s,t[Si]=s.current,Tc(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sp(l);a.call(u)}}var l=Uw(t,0,!1,null,null,!1,!1,"",u1);return t._reactRootContainer=l,t[Si]=l.current,Tc(t.nodeType===8?t.parentNode:t),Ps(function(){zm(e,l,n,r)}),l}function Wm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=sp(s);a.call(l)}}zm(e,s,t,i)}else s=HF(n,e,t,i,r);return sp(s)}DR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bu(e.pendingLanes);n!==0&&(lw(e,n|1),Dn(e,bt()),!($e&6)&&(Za=bt()+500,Uo()))}break;case 13:Ps(function(){var r=Ai(t,1);if(r!==null){var i=_n();Nr(r,t,1,i)}}),Fw(t,1)}};uw=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=_n();Nr(e,t,134217728,n)}Fw(t,134217728)}};LR=function(t){if(t.tag===13){var e=Eo(t),n=Ai(t,e);if(n!==null){var r=_n();Nr(n,t,e,r)}Fw(t,e)}};$R=function(){return He};jR=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};i0=function(t,e,n){switch(e){case"input":if(Xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$m(r);if(!i)throw Error(te(90));mR(r),Xv(r,i)}}}break;case"textarea":yR(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};TR=Lw;SR=Ps;var WF={usingClientEntryPoint:!1,Events:[Nd,ga,$m,bR,ER,Lw]},Au={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KF={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CR(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||qF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Mm=Gf.inject(KF),zr=Gf}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WF;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(te(200));return zF(t,e,null,n)};Kn.createRoot=function(t,e){if(!Gw(t))throw Error(te(299));var n=!1,r="",i=sM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uw(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,Tc(t.nodeType===8?t.parentNode:t),new Bw(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=CR(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Ps(t)};Kn.hydrate=function(t,e,n){if(!Hm(e))throw Error(te(200));return Wm(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!Gw(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=sM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=oM(e,null,t,1,n??null,i,!1,o,s),t[Si]=e.current,Tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qm(e)};Kn.render=function(t,e,n){if(!Hm(e))throw Error(te(200));return Wm(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!Hm(t))throw Error(te(40));return t._reactRootContainer?(Ps(function(){Wm(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Kn.unstable_batchedUpdates=Lw;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hm(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Wm(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function aM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aM)}catch(t){console.error(t)}}aM(),aR.exports=Kn;var JF=aR.exports,c1=JF;zv.createRoot=c1.createRoot,zv.hydrateRoot=c1.hydrateRoot;var d1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new XF;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QF=function(t){const e=lM(t);return uM.encodeByteArray(e,!0)},ap=function(t){return QF(t).replace(/\./g,"")},cM=function(t){try{return uM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=()=>ZF().__FIREBASE_DEFAULTS__,t5=()=>{if(typeof process>"u"||typeof d1>"u")return;const t=d1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cM(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return e5()||t5()||n5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dM=t=>{var e,n;return(n=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r5=t=>{const e=dM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fM=()=>{var t;return(t=Km())===null||t===void 0?void 0:t.config},hM=t=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ap(JSON.stringify(n)),ap(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function a5(){var t;const e=(t=Km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d5(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f5(){return!a5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h5(){try{return typeof indexedDB=="object"}catch{return!1}}function p5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m5,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?g5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,a,r)}}function g5(t,e){return t.replace(y5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const y5=/\{\$([^}]+)}/g;function v5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(f1(o)&&f1(s)){if(!lp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function f1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function x5(t,e){const n=new _5(t,e);return n.subscribe.bind(n)}class _5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zy),i.error===void 0&&(i.error=Zy),i.complete===void 0&&(i.complete=Zy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T5(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E5(t){return t===os?void 0:t}function T5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const A5={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},I5=Me.INFO,C5={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},P5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=C5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zw{constructor(e){this.name=e,this._logLevel=I5,this._logHandler=P5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const N5=(t,e)=>e.some(n=>t instanceof n);let h1,p1;function k5(){return h1||(h1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R5(){return p1||(p1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pM=new WeakMap,$0=new WeakMap,mM=new WeakMap,ev=new WeakMap,qw=new WeakMap;function M5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(So(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&pM.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function O5(t){if($0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$0.set(t,e)}let j0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return So(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D5(t){j0=t(j0)}function L5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tv(this),e,...n);return mM.set(r,e.sort?e.sort():[e]),So(r)}:R5().includes(t)?function(...e){return t.apply(tv(this),e),So(pM.get(this))}:function(...e){return So(t.apply(tv(this),e))}}function $5(t){return typeof t=="function"?L5(t):(t instanceof IDBTransaction&&O5(t),N5(t,k5())?new Proxy(t,j0):t)}function So(t){if(t instanceof IDBRequest)return M5(t);if(ev.has(t))return ev.get(t);const e=$5(t);return e!==t&&(ev.set(t,e),qw.set(e,t)),e}const tv=t=>qw.get(t);function j5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=So(s);return r&&s.addEventListener("upgradeneeded",l=>{r(So(s.result),l.oldVersion,l.newVersion,So(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const V5=["get","getKey","getAll","getAllKeys","count"],U5=["put","add","delete","clear"],nv=new Map;function m1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V5.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return nv.set(e,o),o}D5(t=>({...t,get:(e,n,r)=>m1(e,n)||t.get(e,n,r),has:(e,n)=>!!m1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V0="@firebase/app",g1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new zw("@firebase/app"),G5="@firebase/app-compat",z5="@firebase/analytics-compat",q5="@firebase/analytics",H5="@firebase/app-check-compat",W5="@firebase/app-check",K5="@firebase/auth",J5="@firebase/auth-compat",Y5="@firebase/database",X5="@firebase/data-connect",Q5="@firebase/database-compat",Z5="@firebase/functions",e3="@firebase/functions-compat",t3="@firebase/installations",n3="@firebase/installations-compat",r3="@firebase/messaging",i3="@firebase/messaging-compat",o3="@firebase/performance",s3="@firebase/performance-compat",a3="@firebase/remote-config",l3="@firebase/remote-config-compat",u3="@firebase/storage",c3="@firebase/storage-compat",d3="@firebase/firestore",f3="@firebase/vertexai-preview",h3="@firebase/firestore-compat",p3="firebase",m3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="[DEFAULT]",g3={[V0]:"fire-core",[G5]:"fire-core-compat",[q5]:"fire-analytics",[z5]:"fire-analytics-compat",[W5]:"fire-app-check",[H5]:"fire-app-check-compat",[K5]:"fire-auth",[J5]:"fire-auth-compat",[Y5]:"fire-rtdb",[X5]:"fire-data-connect",[Q5]:"fire-rtdb-compat",[Z5]:"fire-fn",[e3]:"fire-fn-compat",[t3]:"fire-iid",[n3]:"fire-iid-compat",[r3]:"fire-fcm",[i3]:"fire-fcm-compat",[o3]:"fire-perf",[s3]:"fire-perf-compat",[a3]:"fire-rc",[l3]:"fire-rc-compat",[u3]:"fire-gcs",[c3]:"fire-gcs-compat",[d3]:"fire-fst",[h3]:"fire-fst-compat",[f3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,y3=new Map,F0=new Map;function y1(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(F0.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of up.values())y1(n,t);for(const n of y3.values())y1(n,t);return!0}function Hw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ho(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Rd("app","Firebase",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=m3;function gM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ao.create("bad-app-name",{appName:String(i)});if(n||(n=fM()),!n)throw Ao.create("no-options");const o=up.get(i);if(o){if(lp(n,o.options)&&lp(r,o.config))return o;throw Ao.create("duplicate-app",{appName:i})}const s=new S5(i);for(const l of F0.values())s.addComponent(l);const a=new x3(n,r,s);return up.set(i,a),a}function yM(t=U0){const e=up.get(t);if(!e&&t===U0&&fM())return gM();if(!e)throw Ao.create("no-app",{appName:t});return e}function Io(t,e,n){var r;let i=(r=g3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}el(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="firebase-heartbeat-database",w3=1,Mc="firebase-heartbeat-store";let rv=null;function vM(){return rv||(rv=j5(_3,w3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),rv}async function b3(t){try{const n=(await vM()).transaction(Mc),r=await n.objectStore(Mc).get(xM(t));return await n.done,r}catch(e){if(e instanceof Fi)Ci.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function v1(t,e){try{const r=(await vM()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(e,xM(t)),await r.done}catch(n){if(n instanceof Fi)Ci.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function xM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=1024,T3=30*24*60*60*1e3;class S3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=x1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=T3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x1(),{heartbeatsToSend:r,unsentEntries:i}=A3(this._heartbeatsCache.heartbeats),o=ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function x1(){return new Date().toISOString().substring(0,10)}function A3(t,e=E3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h5()?p5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _1(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){el(new Ns("platform-logger",e=>new F5(e),"PRIVATE")),el(new Ns("heartbeat",e=>new S3(e),"PRIVATE")),Io(V0,g1,t),Io(V0,g1,"esm2017"),Io("fire-js","")}C3("");var P3="firebase",N3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(P3,N3,"app");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,_M;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,M,D){for(var O=Array(arguments.length-2),F=2;F<arguments.length;F++)O[F-2]=arguments[F];return C.prototype[M].apply(R,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)R[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)R[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],M=S.g[2];var D=S.g[3],O=C+(D^I&(M^D))+R[0]+3614090360&4294967295;C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[1]+3905402710&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[2]+606105819&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[3]+3250441966&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[4]+4118548399&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[5]+1200080426&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[6]+2821735955&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[7]+4249261313&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[8]+1770035416&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[9]+2336552879&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[10]+4294925233&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[11]+2304563134&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[12]+1804603682&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[13]+4254626195&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[14]+2792965006&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[15]+1236535329&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(M^D&(I^M))+R[1]+4129170786&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[6]+3225465664&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[11]+643717713&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[0]+3921069994&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[5]+3593408605&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[10]+38016083&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[15]+3634488961&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[4]+3889429448&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[9]+568446438&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[14]+3275163606&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[3]+4107603335&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[8]+1163531501&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[13]+2850285829&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[2]+4243563512&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[7]+1735328473&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[12]+2368359562&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(I^M^D)+R[5]+4294588738&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[8]+2272392833&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[11]+1839030562&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[14]+4259657740&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[1]+2763975236&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[4]+1272893353&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[7]+4139469664&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[10]+3200236656&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[13]+681279174&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[0]+3936430074&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[3]+3572445317&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[6]+76029189&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[9]+3654602809&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[12]+3873151461&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[15]+530742520&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[2]+3299628645&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(M^(I|~D))+R[0]+4096336452&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[7]+1126891415&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[14]+2878612391&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[5]+4237533241&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[12]+1700485571&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[3]+2399980690&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[10]+4293915773&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[1]+2240044497&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[8]+1873313359&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[15]+4264355552&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[6]+2734768916&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[13]+1309151649&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[4]+4149444226&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[11]+3174756917&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[2]+718787259&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,R=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(R[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,R),M=0;break}}else for(;D<C;)if(R[M++]=S[D++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)S[I++]=this.g[C]>>>R&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],R=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;R&&D==C||(I[M]=D,R=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return x(u(-S));for(var C=[],I=1,R=0;S>=I;R++)C[R]=S/I|0,I*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return x(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),R=d,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),O=parseInt(S.substring(M,M+D),C);8>D?(D=u(Math.pow(C,D)),R=R.j(D).add(u(O))):(R=R.j(I),R=R.add(u(O)))}return R}var d=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-x(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(w(this))return"-"+x(this).toString(S);for(var C=u(Math.pow(S,6)),I=this,R="";;){var M=N(I,C).g;I=_(I,M.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,v(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=_(this,S),w(S)?-1:v(S)?0:1};function x(S){for(var C=S.g.length,I=[],R=0;R<C;R++)I[R]=~S.g[R];return new s(I,~S.h).add(h)}t.abs=function(){return w(this)?x(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0,M=0;M<=C;M++){var D=R+(this.i(M)&65535)+(S.i(M)&65535),O=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);R=O>>>16,D&=65535,O&=65535,I[M]=O<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function _(S,C){return S.add(x(C))}t.j=function(S){if(v(this)||v(S))return d;if(w(this))return w(S)?x(this).j(x(S)):x(x(this).j(S));if(w(S))return x(this.j(x(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<S.g.length;M++){var D=this.i(R)>>>16,O=this.i(R)&65535,F=S.i(M)>>>16,B=S.i(M)&65535;I[2*R+2*M]+=O*B,b(I,2*R+2*M),I[2*R+2*M+1]+=D*B,b(I,2*R+2*M+1),I[2*R+2*M+1]+=O*F,b(I,2*R+2*M+1),I[2*R+2*M+2]+=D*F,b(I,2*R+2*M+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new s(I,0)};function b(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function T(S,C){this.g=S,this.h=C}function N(S,C){if(v(C))throw Error("division by zero");if(v(S))return new T(d,d);if(w(S))return C=N(x(S),C),new T(x(C.g),x(C.h));if(w(C))return C=N(S,x(C)),new T(x(C.g),C.h);if(30<S.g.length){if(w(S)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(S);)I=A(I),R=A(R);var M=P(I,1),D=P(R,1);for(R=P(R,2),I=P(I,2);!v(R);){var O=D.add(R);0>=O.l(S)&&(M=M.add(I),D=O),R=P(R,1),I=P(I,1)}return C=_(S,M.j(C)),new T(M,C)}for(M=d;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),O=D.j(C);w(O)||0<O.l(S);)I-=R,D=u(I),O=D.j(C);v(D)&&(D=h),M=M.add(D),S=_(S,O)}return new T(M,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&S.i(R);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|S.i(R);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^S.i(R);return new s(I,this.h^S.h)};function A(S){for(var C=S.g.length+1,I=[],R=0;R<C;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(I,S.h)}function P(S,C){var I=C>>5;C%=32;for(var R=S.g.length-I,M=[],D=0;D<R;D++)M[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_M=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ws=s}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wM,zu,bM,Ah,B0,EM,TM,SM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var k=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var V=m[L];if(!(V in k))break e;k=k[V]}m=m[m.length-1],L=k[m],E=E(L),E!=L&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var k=0,L=!1,V={next:function(){if(!L&&k<m.length){var G=k++;return{value:E(G,m[G]),done:!1}}return L=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function c(m,E,k){return m.call.apply(m.bind,arguments)}function d(m,E,k){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,L),m.apply(E,V)}}return function(){return m.apply(E,arguments)}}function h(m,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function y(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(L,V,G){for(var ie=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ie[Xe-2]=arguments[Xe];return E.prototype[V].apply(L,ie)}}function w(m){const E=m.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=m[L];return k}return[]}function x(m,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const V=m.length||0,G=L.length||0;m.length=V+G;for(let ie=0;ie<G;ie++)m[V+ie]=L[ie]}else m.push(L)}}class _{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(m){return/^[\s\xa0]*$/.test(m)}function T(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(m,E,k){for(const L in m)E.call(k,m[L],L,m)}function S(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function C(m){const E={};for(const k in m)E[k]=m[k];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,E){let k,L;for(let V=1;V<arguments.length;V++){L=arguments[V];for(k in L)m[k]=L[k];for(let G=0;G<I.length;G++)k=I[G],Object.prototype.hasOwnProperty.call(L,k)&&(m[k]=L[k])}}function M(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function D(m){a.setTimeout(()=>{throw m},0)}function O(){var m=K;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class F{constructor(){this.h=this.g=null}add(E,k){const L=B.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new _(()=>new z,m=>m.reset());class z{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,U=!1,K=new F,Y=()=>{const m=a.Promise.resolve(void 0);W=()=>{m.then(oe)}};var oe=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(k){D(k)}var E=B;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}U=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return m}();function Oe(m,E){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(A){e:{try{N(E.nodeName);var V=!0;break e}catch{}V=!1}V||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ye[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Oe.aa.h.call(this)}}v(Oe,le);var Ye={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function re(m,E,k,L,V){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=V,this.key=++Ge,this.da=this.fa=!1}function ge(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ve(m){this.src=m,this.g={},this.h=0}ve.prototype.add=function(m,E,k,L,V){var G=m.toString();m=this.g[G],m||(m=this.g[G]=[],this.h++);var ie=Le(m,E,L,V);return-1<ie?(E=m[ie],k||(E.fa=!1)):(E=new re(E,this.src,G,!!L,V),E.fa=k,m.push(E)),E};function Q(m,E){var k=E.type;if(k in m.g){var L=m.g[k],V=Array.prototype.indexOf.call(L,E,void 0),G;(G=0<=V)&&Array.prototype.splice.call(L,V,1),G&&(ge(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Le(m,E,k,L){for(var V=0;V<m.length;++V){var G=m[V];if(!G.da&&G.listener==E&&G.capture==!!k&&G.ha==L)return V}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),rt={};function ut(m,E,k,L,V){if(Array.isArray(E)){for(var G=0;G<E.length;G++)ut(m,E[G],k,L,V);return null}return k=Ko(k),m&&m[q]?m.K(E,k,u(L)?!!L.capture:!1,V):Lt(m,E,k,!1,L,V)}function Lt(m,E,k,L,V,G){if(!E)throw Error("Invalid event type");var ie=u(V)?!!V.capture:!!V,Xe=ii(m);if(Xe||(m[Se]=Xe=new ve(m)),k=Xe.add(E,k,L,ie,G),k.proxy)return k;if(L=Yn(),k.proxy=L,L.src=m,L.listener=k,m.addEventListener)Ce||(V=ie),V===void 0&&(V=!1),m.addEventListener(E.toString(),L,V);else if(m.attachEvent)m.attachEvent(Xn(E.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Yn(){function m(k){return E.call(m.src,m.listener,k)}const E=xr;return m}function vr(m,E,k,L,V){if(Array.isArray(E))for(var G=0;G<E.length;G++)vr(m,E[G],k,L,V);else L=u(L)?!!L.capture:!!L,k=Ko(k),m&&m[q]?(m=m.i,E=String(E).toString(),E in m.g&&(G=m.g[E],k=Le(G,k,L,V),-1<k&&(ge(G[k]),Array.prototype.splice.call(G,k,1),G.length==0&&(delete m.g[E],m.h--)))):m&&(m=ii(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Le(E,k,L,V)),(k=-1<m?E[m]:null)&&jr(k))}function jr(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[q])Q(E.i,m);else{var k=m.type,L=m.proxy;E.removeEventListener?E.removeEventListener(k,L,m.capture):E.detachEvent?E.detachEvent(Xn(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=ii(E))?(Q(k,m),k.h==0&&(k.src=null,E[Se]=null)):ge(m)}}}function Xn(m){return m in rt?rt[m]:rt[m]="on"+m}function xr(m,E){if(m.da)m=!0;else{E=new Oe(E,this);var k=m.listener,L=m.ha||m.src;m.fa&&jr(m),m=k.call(L,E)}return m}function ii(m){return m=m[Se],m instanceof ve?m:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(m){return typeof m=="function"?m:(m[Wi]||(m[Wi]=function(E){return m.handleEvent(E)}),m[Wi])}function $t(){Z.call(this),this.i=new ve(this),this.M=this,this.F=null}v($t,Z),$t.prototype[q]=!0,$t.prototype.removeEventListener=function(m,E,k,L){vr(this,m,E,k,L)};function qt(m,E){var k,L=m.F;if(L)for(k=[];L;L=L.F)k.push(L);if(m=m.M,L=E.type||E,typeof E=="string")E=new le(E,m);else if(E instanceof le)E.target=E.target||m;else{var V=E;E=new le(L,m),R(E,V)}if(V=!0,k)for(var G=k.length-1;0<=G;G--){var ie=E.g=k[G];V=Xs(ie,L,!0,E)&&V}if(ie=E.g=m,V=Xs(ie,L,!0,E)&&V,V=Xs(ie,L,!1,E)&&V,k)for(G=0;G<k.length;G++)ie=E.g=k[G],V=Xs(ie,L,!1,E)&&V}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],L=0;L<k.length;L++)ge(k[L]);delete m.g[E],m.h--}}this.F=null},$t.prototype.K=function(m,E,k,L){return this.i.add(String(m),E,!1,k,L)},$t.prototype.L=function(m,E,k,L){return this.i.add(String(m),E,!0,k,L)};function Xs(m,E,k,L){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var V=!0,G=0;G<E.length;++G){var ie=E[G];if(ie&&!ie.da&&ie.capture==k){var Xe=ie.listener,Ht=ie.ha||ie.src;ie.fa&&Q(m.i,ie),V=Xe.call(Ht,L)!==!1&&V}}return V&&!L.defaultPrevented}function rf(m,E,k){if(typeof m=="function")k&&(m=h(m,k));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(m,E||0)}function of(m){m.g=rf(()=>{m.g=null,m.i&&(m.i=!1,of(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class fy extends Z{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:of(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(m){Z.call(this),this.h=m,this.g={}}v(Jo,Z);var sf=[];function af(m){P(m.g,function(E,k){this.g.hasOwnProperty(k)&&jr(E)},m),m.g={}}Jo.prototype.N=function(){Jo.aa.N.call(this),af(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var au=a.JSON.stringify,hy=a.JSON.parse,py=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function lu(){}lu.prototype.h=null;function lf(m){return m.h||(m.h=m.i())}function uf(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uu(){le.call(this,"d")}v(uu,le);function cu(){le.call(this,"c")}v(cu,le);var oi={},cf=null;function Xo(){return cf=cf||new $t}oi.La="serverreachability";function df(m){le.call(this,oi.La,m)}v(df,le);function X(m){const E=Xo();qt(E,new df(E))}oi.STAT_EVENT="statevent";function se(m,E){le.call(this,oi.STAT_EVENT,m),this.stat=E}v(se,le);function pe(m){const E=Xo();qt(E,new se(E,m))}oi.Ma="timingevent";function Qo(m,E){le.call(this,oi.Ma,m),this.size=E}v(Qo,le);function An(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},E)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function tU(m,E,k,L,V,G){m.info(function(){if(m.g)if(G)for(var ie="",Xe=G.split("&"),Ht=0;Ht<Xe.length;Ht++){var Ve=Xe[Ht].split("=");if(1<Ve.length){var nn=Ve[0];Ve=Ve[1];var rn=nn.split("_");ie=2<=rn.length&&rn[1]=="type"?ie+(nn+"="+Ve+"&"):ie+(nn+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+L+") [attempt "+V+"]: "+E+`
`+k+`
`+ie})}function nU(m,E,k,L,V,G,ie){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+V+"]: "+E+`
`+k+`
`+G+" "+ie})}function Qs(m,E,k,L){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+iU(m,k)+(L?" "+L:"")})}function rU(m,E){m.info(function(){return"TIMEOUT: "+E})}Ki.prototype.info=function(){};function iU(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var L=k[m];if(!(2>L.length)){var V=L[1];if(Array.isArray(V)&&!(1>V.length)){var G=V[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<V.length;ie++)V[ie]=""}}}}return au(k)}catch{return E}}var ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},my;function hf(){}v(hf,lu),hf.prototype.g=function(){return new XMLHttpRequest},hf.prototype.i=function(){return{}},my=new hf;function Ji(m,E,k,L){this.j=m,this.i=E,this.l=k,this.R=L||1,this.U=new Jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vT}function vT(){this.i=null,this.g="",this.h=!1}var xT={},gy={};function yy(m,E,k){m.L=1,m.v=yf(si(E)),m.m=k,m.P=!0,_T(m,null)}function _T(m,E){m.F=Date.now(),pf(m),m.A=si(m.v);var k=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),OT(k.i,"t",L),m.C=0,k=m.j.J,m.h=new vT,m.g=QT(m.j,k?E:null,!m.m),0<m.O&&(m.M=new fy(h(m.Y,m,m.g),m.O)),E=m.U,k=m.g,L=m.ca;var V="readystatechange";Array.isArray(V)||(V&&(sf[0]=V.toString()),V=sf);for(var G=0;G<V.length;G++){var ie=ut(k,V[G],L||E.handleEvent,!1,E.h||E);if(!ie)break;E.g[ie.key]=ie}E=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),X(),tU(m.i,m.u,m.A,m.l,m.R,m.m)}Ji.prototype.ca=function(m){m=m.target;const E=this.M;E&&ai(m)==3?E.j():this.Y(m)},Ji.prototype.Y=function(m){try{if(m==this.g)e:{const rn=ai(this.g);var E=this.g.Ba();const ta=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||FT(this.g)))){this.J||rn!=4||E==7||(E==8||0>=ta?X(3):X(2)),vy(this);var k=this.g.Z();this.X=k;t:if(wT(this)){var L=FT(this.g);m="";var V=L.length,G=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),du(this);var ie="";break t}this.h.i=new a.TextDecoder}for(E=0;E<V;E++)this.h.h=!0,m+=this.h.i.decode(L[E],{stream:!(G&&E==V-1)});L.length=0,this.h.g+=m,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=k==200,nU(this.i,this.u,this.A,this.l,this.R,rn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Ht=this.g;if((Xe=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Xe)){var Ve=Xe;break t}}Ve=null}if(k=Ve)Qs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xy(this,k);else{this.o=!1,this.s=3,pe(12),Zo(this),du(this);break e}}if(this.P){k=!0;let _r;for(;!this.J&&this.C<ie.length;)if(_r=oU(this,ie),_r==gy){rn==4&&(this.s=4,pe(14),k=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==xT){this.s=4,pe(15),Qs(this.i,this.l,ie,"[Invalid Chunk]"),k=!1;break}else Qs(this.i,this.l,_r,null),xy(this,_r);if(wT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ie.length!=0||this.h.h||(this.s=1,pe(16),k=!1),this.o=this.o&&k,!k)Qs(this.i,this.l,ie,"[Invalid Chunked Response]"),Zo(this),du(this);else if(0<ie.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Sy(nn),nn.M=!0,pe(11))}}else Qs(this.i,this.l,ie,null),xy(this,ie);rn==4&&Zo(this),this.o&&!this.J&&(rn==4?KT(this.j,this):(this.o=!1,pf(this)))}else bU(this.g),k==400&&0<ie.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),Zo(this),du(this)}}}catch{}finally{}};function wT(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function oU(m,E){var k=m.C,L=E.indexOf(`
`,k);return L==-1?gy:(k=Number(E.substring(k,L)),isNaN(k)?xT:(L+=1,L+k>E.length?gy:(E=E.slice(L,L+k),m.C=L+k,E)))}Ji.prototype.cancel=function(){this.J=!0,Zo(this)};function pf(m){m.S=Date.now()+m.I,bT(m,m.I)}function bT(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=An(h(m.ba,m),E)}function vy(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Ji.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(rU(this.i,this.A),this.L!=2&&(X(),pe(17)),Zo(this),this.s=2,du(this)):bT(this,this.S-m)};function du(m){m.j.G==0||m.J||KT(m.j,m)}function Zo(m){vy(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,af(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function xy(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||_y(k.h,m))){if(!m.K&&_y(k.h,m)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var V=L;if(V[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)Ef(k),wf(k);else break e;Ty(k),pe(18)}}else k.za=V[1],0<k.za-k.T&&37500>V[2]&&k.F&&k.v==0&&!k.C&&(k.C=An(h(k.Za,k),6e3));if(1>=ST(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ts(k,11)}else if((m.K||k.g==m)&&Ef(k),!b(E))for(V=k.Da.g.parse(E),E=0;E<V.length;E++){let Ve=V[E];if(k.T=Ve[0],Ve=Ve[1],k.G==2)if(Ve[0]=="c"){k.K=Ve[1],k.ia=Ve[2];const nn=Ve[3];nn!=null&&(k.la=nn,k.j.info("VER="+k.la));const rn=Ve[4];rn!=null&&(k.Aa=rn,k.j.info("SVER="+k.Aa));const ta=Ve[5];ta!=null&&typeof ta=="number"&&0<ta&&(L=1.5*ta,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const _r=m.g;if(_r){const Sf=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sf){var G=L.h;G.g||Sf.indexOf("spdy")==-1&&Sf.indexOf("quic")==-1&&Sf.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(wy(G,G.h),G.h=null))}if(L.D){const Ay=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ay&&(L.ya=Ay,it(L.I,L.D,Ay))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var ie=m;if(L.qa=XT(L,L.J?L.ia:null,L.W),ie.K){AT(L.h,ie);var Xe=ie,Ht=L.L;Ht&&(Xe.I=Ht),Xe.B&&(vy(Xe),pf(Xe)),L.g=ie}else HT(L);0<k.i.length&&bf(k)}else Ve[0]!="stop"&&Ve[0]!="close"||ts(k,7);else k.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ts(k,7):Ey(k):Ve[0]!="noop"&&k.l&&k.l.ta(Ve),k.v=0)}}X(4)}catch{}}var sU=class{constructor(m,E){this.g=m,this.map=E}};function ET(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function TT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ST(m){return m.h?1:m.g?m.g.size:0}function _y(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function wy(m,E){m.g?m.g.add(E):m.h=E}function AT(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}ET.prototype.cancel=function(){if(this.i=IT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function IT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return w(m.i)}function aU(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var E=[],k=m.length,L=0;L<k;L++)E.push(m[L]);return E}E=[],k=0;for(L in m)E[k++]=m[L];return E}function lU(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const L in m)E[k++]=L;return E}}}function CT(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=lU(m),L=aU(m),V=L.length,G=0;G<V;G++)E.call(void 0,L[G],k&&k[G],m)}var PT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uU(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var L=m[k].indexOf("="),V=null;if(0<=L){var G=m[k].substring(0,L);V=m[k].substring(L+1)}else G=m[k];E(G,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function es(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof es){this.h=m.h,mf(this,m.j),this.o=m.o,this.g=m.g,gf(this,m.s),this.l=m.l;var E=m.i,k=new pu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),NT(this,k),this.m=m.m}else m&&(E=String(m).match(PT))?(this.h=!1,mf(this,E[1]||"",!0),this.o=fu(E[2]||""),this.g=fu(E[3]||"",!0),gf(this,E[4]),this.l=fu(E[5]||"",!0),NT(this,E[6]||"",!0),this.m=fu(E[7]||"")):(this.h=!1,this.i=new pu(null,this.h))}es.prototype.toString=function(){var m=[],E=this.j;E&&m.push(hu(E,kT,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(hu(E,kT,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(hu(k,k.charAt(0)=="/"?fU:dU,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",hu(k,pU)),m.join("")};function si(m){return new es(m)}function mf(m,E,k){m.j=k?fu(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function gf(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function NT(m,E,k){E instanceof pu?(m.i=E,mU(m.i,m.h)):(k||(E=hu(E,hU)),m.i=new pu(E,m.h))}function it(m,E,k){m.i.set(E,k)}function yf(m){return it(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function fu(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function hu(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,cU),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function cU(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var kT=/[#\/\?@]/g,dU=/[#\?:]/g,fU=/[#\?]/g,hU=/[#\?@]/g,pU=/#/g;function pu(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Yi(m){m.g||(m.g=new Map,m.h=0,m.i&&uU(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=pu.prototype,t.add=function(m,E){Yi(this),this.i=null,m=Zs(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function RT(m,E){Yi(m),E=Zs(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function MT(m,E){return Yi(m),E=Zs(m,E),m.g.has(E)}t.forEach=function(m,E){Yi(this),this.g.forEach(function(k,L){k.forEach(function(V){m.call(E,V,L,this)},this)},this)},t.na=function(){Yi(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const V=m[L];for(let G=0;G<V.length;G++)k.push(E[L])}return k},t.V=function(m){Yi(this);let E=[];if(typeof m=="string")MT(this,m)&&(E=E.concat(this.g.get(Zs(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},t.set=function(m,E){return Yi(this),this.i=null,m=Zs(this,m),MT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function OT(m,E,k){RT(m,E),0<k.length&&(m.i=null,m.g.set(Zs(m,E),w(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const G=encodeURIComponent(String(L)),ie=this.V(L);for(L=0;L<ie.length;L++){var V=G;ie[L]!==""&&(V+="="+encodeURIComponent(String(ie[L]))),m.push(V)}}return this.i=m.join("&")};function Zs(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function mU(m,E){E&&!m.j&&(Yi(m),m.i=null,m.g.forEach(function(k,L){var V=L.toLowerCase();L!=V&&(RT(this,L),OT(this,V,k))},m)),m.j=E}function gU(m,E){const k=new Ki;if(a.Image){const L=new Image;L.onload=y(Xi,k,"TestLoadImage: loaded",!0,E,L),L.onerror=y(Xi,k,"TestLoadImage: error",!1,E,L),L.onabort=y(Xi,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=y(Xi,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else E(!1)}function yU(m,E){const k=new Ki,L=new AbortController,V=setTimeout(()=>{L.abort(),Xi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:L.signal}).then(G=>{clearTimeout(V),G.ok?Xi(k,"TestPingServer: ok",!0,E):Xi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(V),Xi(k,"TestPingServer: error",!1,E)})}function Xi(m,E,k,L,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),L(k)}catch{}}function vU(){this.g=new py}function xU(m,E,k){const L=k||"";try{CT(m,function(V,G){let ie=V;u(V)&&(ie=au(V)),E.push(L+G+"="+encodeURIComponent(ie))})}catch(V){throw E.push(L+"type="+encodeURIComponent("_badmap")),V}}function vf(m){this.l=m.Ub||null,this.j=m.eb||!1}v(vf,lu),vf.prototype.g=function(){return new xf(this.l,this.j)},vf.prototype.i=function(m){return function(){return m}}({});function xf(m,E){$t.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(xf,$t),t=xf.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,gu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,gu(this)),this.g&&(this.readyState=3,gu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function DT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?mu(this):gu(this),this.readyState==3&&DT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,mu(this))},t.Qa=function(m){this.g&&(this.response=m,mu(this))},t.ga=function(){this.g&&mu(this)};function mu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,gu(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function gu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function LT(m){let E="";return P(m,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function by(m,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=LT(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):it(m,E,k))}function vt(m){$t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(vt,$t);var _U=/^https?$/i,wU=["POST","PUT"];t=vt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():my.g(),this.v=this.o?lf(this.o):lf(my),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(G){$T(this,G);return}if(m=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var V in L)k.set(V,L[V]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const G of L.keys())k.set(G,L.get(G));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(G=>G.toLowerCase()=="content-type"),V=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wU,E,void 0))||L||V||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of k)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UT(this),this.u=!0,this.g.send(m),this.u=!1}catch(G){$T(this,G)}};function $T(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,jT(m),_f(m)}function jT(m){m.A||(m.A=!0,qt(m,"complete"),qt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,qt(this,"complete"),qt(this,"abort"),_f(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_f(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VT(this):this.bb())},t.bb=function(){VT(this)};function VT(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ai(m)!=4||m.Z()!=2)){if(m.u&&ai(m)==4)rf(m.Ea,0,m);else if(qt(m,"readystatechange"),ai(m)==4){m.h=!1;try{const ie=m.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=ie===0){var V=String(m.D).match(PT)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),L=!_U.test(V?V.toLowerCase():"")}k=L}if(k)qt(m,"complete"),qt(m,"success");else{m.m=6;try{var G=2<ai(m)?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.Z()+"]",jT(m)}}finally{_f(m)}}}}function _f(m,E){if(m.g){UT(m);const k=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||qt(m,"ready");try{k.onreadystatechange=L}catch{}}}function UT(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ai(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),hy(E)}};function FT(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function bU(m){const E={};m=(m.g&&2<=ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(b(m[L]))continue;var k=M(m[L]);const V=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const G=E[V]||[];E[V]=G,G.push(k)}S(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yu(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function BT(m){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yu("baseRetryDelayMs",5e3,m),this.cb=yu("retryDelaySeedMs",1e4,m),this.Wa=yu("forwardChannelMaxRetries",2,m),this.wa=yu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ET(m&&m.concurrentRequestLimit),this.Da=new vU,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BT.prototype,t.la=8,t.G=1,t.connect=function(m,E,k,L){pe(0),this.W=m,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=XT(this,null,this.W),bf(this)};function Ey(m){if(GT(m),m.G==3){var E=m.U++,k=si(m.I);if(it(k,"SID",m.K),it(k,"RID",E),it(k,"TYPE","terminate"),vu(m,k),E=new Ji(m,m.j,E),E.L=2,E.v=yf(si(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=QT(E.j,null),E.g.ea(E.v)),E.F=Date.now(),pf(E)}YT(m)}function wf(m){m.g&&(Sy(m),m.g.cancel(),m.g=null)}function GT(m){wf(m),m.u&&(a.clearTimeout(m.u),m.u=null),Ef(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function bf(m){if(!TT(m.h)&&!m.s){m.s=!0;var E=m.Ga;W||Y(),U||(W(),U=!0),K.add(E,m),m.B=0}}function EU(m,E){return ST(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=An(h(m.Ga,m,E),JT(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const V=new Ji(this,this.j,m);let G=this.o;if(this.S&&(G?(G=C(G),R(G,this.S)):G=this.S),this.m!==null||this.O||(V.H=G,G=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=qT(this,V,E),k=si(this.I),it(k,"RID",m),it(k,"CVER",22),this.D&&it(k,"X-HTTP-Session-Id",this.D),vu(this,k),G&&(this.O?E="headers="+encodeURIComponent(String(LT(G)))+"&"+E:this.m&&by(k,this.m,G)),wy(this.h,V),this.Ua&&it(k,"TYPE","init"),this.P?(it(k,"$req",E),it(k,"SID","null"),V.T=!0,yy(V,k,null)):yy(V,k,E),this.G=2}}else this.G==3&&(m?zT(this,m):this.i.length==0||TT(this.h)||zT(this))};function zT(m,E){var k;E?k=E.l:k=m.U++;const L=si(m.I);it(L,"SID",m.K),it(L,"RID",k),it(L,"AID",m.T),vu(m,L),m.m&&m.o&&by(L,m.m,m.o),k=new Ji(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=qT(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),wy(m.h,k),yy(k,L,E)}function vu(m,E){m.H&&P(m.H,function(k,L){it(E,L,k)}),m.l&&CT({},function(k,L){it(E,L,k)})}function qT(m,E,k){k=Math.min(m.i.length,k);var L=m.l?h(m.l.Na,m.l,m):null;e:{var V=m.i;let G=-1;for(;;){const ie=["count="+k];G==-1?0<k?(G=V[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Xe=!0;for(let Ht=0;Ht<k;Ht++){let Ve=V[Ht].g;const nn=V[Ht].map;if(Ve-=G,0>Ve)G=Math.max(0,V[Ht].g-100),Xe=!1;else try{xU(nn,ie,"req"+Ve+"_")}catch{L&&L(nn)}}if(Xe){L=ie.join("&");break e}}}return m=m.i.splice(0,k),E.D=m,L}function HT(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;W||Y(),U||(W(),U=!0),K.add(E,m),m.v=0}}function Ty(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=An(h(m.Fa,m),JT(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,WT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=An(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),wf(this),WT(this))};function Sy(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function WT(m){m.g=new Ji(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=si(m.qa);it(E,"RID","rpc"),it(E,"SID",m.K),it(E,"AID",m.T),it(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&it(E,"TO",m.ja),it(E,"TYPE","xmlhttp"),vu(m,E),m.m&&m.o&&by(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=yf(si(E)),k.m=null,k.P=!0,_T(k,m)}t.Za=function(){this.C!=null&&(this.C=null,wf(this),Ty(this),pe(19))};function Ef(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function KT(m,E){var k=null;if(m.g==E){Ef(m),Sy(m),m.g=null;var L=2}else if(_y(m.h,E))k=E.D,AT(m.h,E),L=1;else return;if(m.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var V=m.B;L=Xo(),qt(L,new Qo(L,k)),bf(m)}else HT(m);else if(V=E.s,V==3||V==0&&0<E.X||!(L==1&&EU(m,E)||L==2&&Ty(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),V){case 1:ts(m,5);break;case 4:ts(m,10);break;case 3:ts(m,6);break;default:ts(m,2)}}}function JT(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function ts(m,E){if(m.j.info("Error code "+E),E==2){var k=h(m.fb,m),L=m.Xa;const V=!L;L=new es(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mf(L,"https"),yf(L),V?gU(L.toString(),k):yU(L.toString(),k)}else pe(2);m.G=0,m.l&&m.l.sa(E),YT(m),GT(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function YT(m){if(m.G=0,m.ka=[],m.l){const E=IT(m.h);(E.length!=0||m.i.length!=0)&&(x(m.ka,E),x(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function XT(m,E,k){var L=k instanceof es?si(k):new es(k);if(L.g!="")E&&(L.g=E+"."+L.g),gf(L,L.s);else{var V=a.location;L=V.protocol,E=E?E+"."+V.hostname:V.hostname,V=+V.port;var G=new es(null);L&&mf(G,L),E&&(G.g=E),V&&gf(G,V),k&&(G.l=k),L=G}return k=m.D,E=m.ya,k&&E&&it(L,k,E),it(L,"VER",m.la),vu(m,L),L}function QT(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new vt(new vf({eb:k})):new vt(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZT(){}t=ZT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tf(){}Tf.prototype.g=function(m,E){return new $n(m,E)};function $n(m,E){$t.call(this),this.g=new BT(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!b(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new ea(this)}v($n,$t),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Ey(this.g)},$n.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=au(m),m=k);E.i.push(new sU(E.Ya++,m)),E.G==3&&bf(E)},$n.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,$n.aa.N.call(this)};function eS(m){uu.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}v(eS,uu);function tS(){cu.call(this),this.status=1}v(tS,cu);function ea(m){this.g=m}v(ea,ZT),ea.prototype.ua=function(){qt(this.g,"a")},ea.prototype.ta=function(m){qt(this.g,new eS(m))},ea.prototype.sa=function(m){qt(this.g,new tS)},ea.prototype.ra=function(){qt(this.g,"b")},Tf.prototype.createWebChannel=Tf.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,SM=function(){return new Tf},TM=function(){return Xo()},EM=oi,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,Ah=ff,yT.COMPLETE="complete",bM=yT,uf.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",$t.prototype.listen=$t.prototype.K,zu=uf,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,wM=vt}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const b1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new zw("@firebase/firestore");function Iu(){return ks.logLevel}function me(t,...e){if(ks.logLevel<=Me.DEBUG){const n=e.map(Ww);ks.debug(`Firestore (${jl}): ${t}`,...n)}}function Pi(t,...e){if(ks.logLevel<=Me.ERROR){const n=e.map(Ww);ks.error(`Firestore (${jl}): ${t}`,...n)}}function tl(t,...e){if(ks.logLevel<=Me.WARN){const n=e.map(Ww);ks.warn(`Firestore (${jl}): ${t}`,...n)}}function Ww(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function We(t,e){t||we()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class R3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Co,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Co)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new AM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new un(e)}}class O3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class D3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new O3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new L3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Mt(0,0))}static max(){return new Ee(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Oc{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const V3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Oc{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return V3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}function U3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Oo(i,ye.empty(),e)}function F3(t){return new Oo(t.readTime,t.key,-1)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(Ee.min(),ye.empty(),-1)}static max(){return new Oo(Ee.max(),ye.empty(),-1)}}function B3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==G3)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function q3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kw.oe=-1;function Jm(t){return t==null}function cp(t){return t===0&&1/t==-1/0}function H3(t){return typeof t=="number"&&Number.isInteger(t)&&!cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T1(this.data.getIterator())}getIteratorFrom(e){return new T1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class T1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PM("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const W3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(We(!!t),typeof t=="string"){let e=0;const n=W3.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jw(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Jw(e):e}function Dc(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Lc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf={mapValue:{}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:Y3(t)?9007199254740991:J3(t)?10:11:we()}function Zr(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rs(i.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?cp(s)===cp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(E1(s)!==E1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Zr(s[l],a[l])))return!1;return!0}(t,e);default:return we()}}function $c(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return S1(t.timestampValue,e.timestampValue);case 4:return S1(Dc(t),Dc(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Rs(o),l=Rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ue(a[u],l[u]);if(c!==0)return c}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ue(wt(o.latitude),wt(s.latitude));return a!==0?a:Ue(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return A1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=Ue(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:A1(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hf.mapValue&&s===Hf.mapValue)return 0;if(o===Hf.mapValue)return 1;if(s===Hf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ue(l[d],c[d]);if(h!==0)return h;const y=rl(a[l[d]],u[c[d]]);if(y!==0)return y}return Ue(l.length,c.length)}(t.mapValue,e.mapValue);default:throw we()}}function S1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Do(t),r=Do(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function A1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=rl(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function il(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=G0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${G0(n.fields[s])}`;return i+"}"}(t.mapValue):we()}function dp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z0(t){return!!t&&"integerValue"in t}function Yw(t){return!!t&&"arrayValue"in t}function I1(t){return!!t&&"nullValue"in t}function C1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function J3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=oc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(oc(this.value))}}function NM(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new Yt([n]);if(Ih(r)){const o=NM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,Ee.min(),Ee.min(),Ee.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,Ee.min(),Ee.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ee.min(),Ee.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.position=e,this.inclusive=n}}function P1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(s.referenceValue),n.key):r=rl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function N1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function X3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kM=class{};class At extends kM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z3(e,n,r):n==="array-contains"?new nB(e,r):n==="in"?new rB(e,r):n==="not-in"?new iB(e,r):n==="array-contains-any"?new oB(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eB(e,r):new tB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rl(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends kM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return RM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function RM(t){return t.op==="and"}function MM(t){return Q3(t)&&RM(t)}function Q3(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function q0(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+il(t.value);if(MM(t))return t.filters.map(e=>q0(e)).join(",");{const e=t.filters.map(n=>q0(n)).join(",");return`${t.op}(${e})`}}function OM(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&OM(s,i.filters[a]),!0):!1}(t,e):void we()}function DM(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(DM).join(" ,")+"}"}(t):"Filter"}class Z3 extends At{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class eB extends At{constructor(e,n){super(e,"in",n),this.keys=LM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tB extends At{constructor(e,n){super(e,"not-in",n),this.keys=LM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class nB extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yw(n)&&$c(n.arrayValue,this.value)}}class rB extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}}class iB extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$c(this.value.arrayValue,n)}}class oB extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function k1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sB(t,e,n,r,i,o,s)}function Xw(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.ue=n}return e.ue}function Qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N1(t.startAt,e.startAt)&&N1(t.endAt,e.endAt)}function H0(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aB(t,e,n,r,i,o,s,a){return new Gs(t,e,n,r,i,o,s,a)}function Zw(t){return new Gs(t)}function R1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eb(t){return t.collectionGroup!==null}function Da(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new jc(o,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new jc(Yt.keyField(),r))}return e.ce}function Hr(t){const e=Te(t);return e.le||(e.le=lB(e,Da(t))),e.le}function lB(t,e){if(t.limitType==="F")return k1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new jc(i.field,o)});const n=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;return k1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){const n=t.filters.concat([e]);return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fp(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xm(t,e){return Qw(Hr(t),Hr(e))&&t.limitType===e.limitType}function $M(t){return`${Xw(Hr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DM(i)).join(", ")}]`),Jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Qm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Da(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=P1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Da(r),i)||r.endAt&&!function(s,a,l){const u=P1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Da(r),i))}(t,e)}function uB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jM(t){return(e,n)=>{let r=!1;for(const i of Da(t)){const o=cB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cB(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?rl(l,u):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return CM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new yt(ye.comparator);function Ni(){return dB}const VM=new yt(ye.comparator);function qu(...t){let e=VM;for(const n of t)e=e.insert(n.key,n);return e}function UM(t){let e=VM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return sc()}function FM(){return sc()}function sc(){return new Vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const fB=new yt(ye.comparator),hB=new Zt(ye.comparator);function ke(...t){let e=hB;for(const n of t)e=e.add(n);return e}const pB=new Zt(Ue);function mB(){return pB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(e)?"-0":e}}function BM(t){return{integerValue:""+t}}function gB(t,e){return H3(e)?BM(e):tb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function yB(t,e,n){return t instanceof Vc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ym(o)&&(o=Jw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Uc?zM(t,e):t instanceof Fc?qM(t,e):function(i,o){const s=GM(i,o),a=M1(s)+M1(i.Pe);return z0(s)&&z0(i.Pe)?BM(a):tb(i.serializer,a)}(t,e)}function vB(t,e,n){return t instanceof Uc?zM(t,e):t instanceof Fc?qM(t,e):n}function GM(t,e){return t instanceof hp?function(r){return z0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Vc extends Zm{}class Uc extends Zm{constructor(e){super(),this.elements=e}}function zM(t,e){const n=HM(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fc extends Zm{constructor(e){super(),this.elements=e}}function qM(t,e){let n=HM(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class hp extends Zm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function M1(t){return wt(t.integerValue||t.doubleValue)}function HM(t){return Yw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n){this.field=e,this.transform=n}}function _B(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uc&&i instanceof Uc||r instanceof Fc&&i instanceof Fc?nl(r.elements,i.elements,Zr):r instanceof hp&&i instanceof hp?Zr(r.Pe,i.Pe):r instanceof Vc&&i instanceof Vc}(t.transform,e.transform)}class wB{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function WM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tg(t.key,wn.none()):new Ld(t.key,t.data,wn.none());{const n=t.data,r=Nn.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new Gn(i.toArray()),wn.none())}}function bB(t,e,n){t instanceof Ld?function(i,o,s){const a=i.value.clone(),l=D1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!Ch(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=D1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(KM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof Ld?function(o,s,a,l){if(!Ch(o.precondition,s))return a;const u=o.value.clone(),c=L1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,a,l){if(!Ch(o.precondition,s))return a;const u=L1(o.fieldTransforms,l,s),c=s.data;return c.setAll(KM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ch(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function EB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=GM(r.transform,i||null);o!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,o))}return n||null}function O1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(o,s)=>_B(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ld extends eg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends eg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D1(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vB(s,a,n[i]))}return r}function L1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,yB(o,s,e))}return r}class tg extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TB extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=WM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>O1(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>O1(n,r))}}class nb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=function(){return fB}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new nb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,De;function CB(t){switch(t){default:return we();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function JM(t){if(t===void 0)return Pi("GRPC error has no .code"),J.UNKNOWN;switch(t){case Et.OK:return J.OK;case Et.CANCELLED:return J.CANCELLED;case Et.UNKNOWN:return J.UNKNOWN;case Et.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Et.INTERNAL:return J.INTERNAL;case Et.UNAVAILABLE:return J.UNAVAILABLE;case Et.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Et.NOT_FOUND:return J.NOT_FOUND;case Et.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Et.ABORTED:return J.ABORTED;case Et.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Et.DATA_LOSS:return J.DATA_LOSS;default:return we()}}(De=Et||(Et={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new ws([4294967295,4294967295],0);function $1(t){const e=PB().encode(t),n=new _M;return n.update(e),new Uint8Array(n.digest())}function j1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,o],0)]}class rb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ws.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(NB)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$1(e),[r,i]=j1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rb(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=$1(e),[r,i]=j1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ng(Ee.min(),i,new yt(Ue),Ni(),ke())}}class $d{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class YM{constructor(e,n){this.targetId=e,this.me=n}}class XM{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V1{constructor(){this.fe=0,this.ge=F1(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new $d(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=F1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=U1(),this.Qe=new yt(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(H0(o))if(r===0){const s=new ye(o.path);this.Ue(n,s,dn.newNoDocument(s,Ee.min()))}else We(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Rs(r).toUint8Array()}catch(l){if(l instanceof PM)return tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rb(s,i,o)}catch(l){return tl(l instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&H0(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,dn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ke();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ng(e,n,this.Qe,this.ke,r);return this.ke=Ni(),this.qe=U1(),this.Qe=new yt(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new V1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new V1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function U1(){return new yt(ye.comparator)}function F1(){return new yt(ye.comparator)}const RB={asc:"ASCENDING",desc:"DESCENDING"},MB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OB={and:"AND",or:"OR"};class DB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K0(t,e){return t.useProto3Json||Jm(e)?e:{value:e}}function pp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LB(t,e){return pp(t,e.toTimestamp())}function Wr(t){return We(!!t),Ee.fromTimestamp(function(n){const r=Do(n);return new Mt(r.seconds,r.nanos)}(t))}function ib(t,e){return J0(t,e).canonicalString()}function J0(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZM(t){const e=tt.fromString(t);return We(iO(e)),e}function Y0(t,e){return ib(t.databaseId,e.path)}function iv(t,e){const n=ZM(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(tO(n))}function eO(t,e){return ib(t.databaseId,e)}function $B(t){const e=ZM(t);return e.length===4?tt.emptyPath():tO(e)}function X0(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tO(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B1(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function jB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(We(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(We(c===void 0||c instanceof Buffer||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:JM(u.code);return new ae(c,u.message||"")}(s);n=new XM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iv(t,r.document.name),o=Wr(r.document.updateTime),s=r.document.createTime?Wr(r.document.createTime):Ee.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ph(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iv(t,r.document),o=r.readTime?Wr(r.readTime):Ee.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ph([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iv(t,r.document),o=r.removedTargetIds||[];n=new Ph([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new IB(i,o),a=r.targetId;n=new YM(a,s)}}return n}function VB(t,e){let n;if(e instanceof Ld)n={update:B1(t,e.key,e.value)};else if(e instanceof tg)n={delete:Y0(t,e.key)};else if(e instanceof Fo)n={update:B1(t,e.key,e.data),updateMask:KB(e.fieldMask)};else{if(!(e instanceof TB))return we();n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Vc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),n}function UB(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Wr(i.updateTime):Wr(o);return s.isEqual(Ee.min())&&(s=Wr(o)),new wB(s,i.transformResults||[])}(n,e))):[]}function FB(t,e){return{documents:[eO(t,e.path)]}}function BB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eO(t,i);const o=function(u){if(u.length!==0)return rO(Dr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:la(h.field),direction:qB(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=K0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function GB(t){let e=$B(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=nO(d);return h instanceof Dr&&MM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new jc(ua(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Jm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,y=d.values||[];return new ol(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,y=d.values||[];return new ol(y,h)}(n.endAt)),aB(e,i,s,o,a,"F",l,u)}function zB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ua(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return At.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>nO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function qB(t){return RB[t]}function HB(t){return MB[t]}function WB(t){return OB[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Yt.fromServerFormat(t.fieldPath)}function rO(t){return t instanceof At?function(n){if(n.op==="=="){if(C1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(I1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(I1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:HB(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>rO(i));return r.length===1?r[0]:{compositeFilter:{op:WB(n.op),filters:r}}}(t):we()}function KB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i,o=Ee.min(),s=Ee.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.ct=e}}function YB(t){const e=GB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.un=new QB}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Oo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class QB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(tt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sl(0)}static kn(){return new sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.changes=new Vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Gn.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ni();const s=sc(),a=function(){return sc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ac(c.mutation,u,c.mutation.getFieldMask(),Mt.now())):s.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new e6(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sc();let i=new yt((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ke()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=FM();c.forEach(h=>{if(!o.has(h)){const y=WM(n.get(h),r.get(h));y!==null&&d.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(hs());let a=-1,l=o;return s.next(u=>ee.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ke())).next(c=>({batchId:a,changes:UM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=qu();return this.indexManager.getCollectionParents(e,o).next(a=>ee.forEach(a,l=>{const u=function(d,h){return new Gs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,dn.newInvalidDocument(c)))});let a=qu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ac(c.mutation,u,Gn.empty(),Mt.now()),Qm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YB(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.overlays=new yt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),o=n.length+1,s=new ye(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new yt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=hs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=hs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ee.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AB(n,r));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Tr=new Zt(Vt.Er),this.dr=new Zt(Vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new tt([])),r=new Vt(n,e),i=new Vt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new tt([])),r=new Vt(n,e),i=new Vt(n,e+1);let o=ke();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Vt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new SB(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Ue);return n.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new ye(o),0);let a=new Zt(Ue);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ee.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const o=new Vt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Vt(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Mr=e,this.docs=function(){return new yt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ni();const s=n.path,a=new ye(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||B3(F3(c),r)<=0||(i.has(c.key)||Qm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){we()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new a6(this)}getSize(e){return ee.resolve(this.size)}}class a6 extends ZB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.persistence=e,this.Nr=new Vl(n=>Xw(n),Qw),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ob,this.targetCount=0,this.kr=sl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kw(0),this.Kr=!1,this.Kr=!0,this.$r=new i6,this.referenceDelegate=e(this),this.Ur=new l6(this),this.indexManager=new XB,this.remoteDocumentCache=function(i){return new s6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new JB(n),this.Gr=new n6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new o6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new c6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class c6 extends z3{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Jr=new ob,this.Yr=null}static Zr(e){return new sb(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ke(),i=ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ab(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return f5()?8:q3(gn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new d6;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Iu()<=Me.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Iu()<=Me.DEBUG&&me("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Iu()<=Me.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):ee.resolve())}Yi(e,n){if(R1(n))return ee.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fp(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ke(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,fp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return R1(n)||i.isEqual(Ee.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ee.resolve(null):(Iu()<=Me.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.rs(e,s,n,U3(i,-1)).next(a=>a))})}ts(e,n){let r=new Zt(jM(e));return n.forEach((i,o)=>{Qm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Iu()<=Me.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new yt(Ue),this._s=new Vl(o=>Xw(o),Qw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function p6(t,e,n,r){return new h6(t,e,n,r)}async function oO(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ke();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function m6(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let y=ee.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(w=>{const x=u.docVersions.get(v);We(x!==null),w.version.compareTo(x)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sO(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function g6(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(w,x,_){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Ni(),u=ke();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(y6(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ee.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function y6(t,e,n){let r=ke(),i=ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ni();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function v6(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x6(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new po(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Q0(t,e,n){const r=Te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Dd(s))throw s;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function G1(t,e,n){const r=Te(t);let i=Ee.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Te(l),h=d._s.get(c);return h!==void 0?ee.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ee.min(),n?o:ke())).next(a=>(_6(r,uB(e),a),{documents:a,Ts:o})))}function _6(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class z1{constructor(){this.activeTargetIds=mB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w6{constructor(){this.so=new z1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new z1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=null;function ov(){return Wf===null?Wf=function(){return 268435456+Math.round(2147483648*Math.random())}():Wf++,"0x"+Wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class S6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=ov(),l=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(me("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw tl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=E6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ov();return new Promise((s,a)=>{const l=new wM;l.setWithCredentials(!0),l.listenOnce(bM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ah.NO_ERROR:const c=l.getResponseJson();me(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Ah.TIMEOUT:me(an,`RPC '${e}' ${o} timed out`),a(new ae(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const d=l.getStatus();if(me(an,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(y.status);a(new ae(v,y.message))}else a(new ae(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(J.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{me(an,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);me(an,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ov(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SM(),a=TM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");me(an,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,y=!1;const v=new T6({Io:x=>{y?me(an,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(me(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),me(an,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},To:()=>d.close()}),w=(x,_,b)=>{x.listen(_,T=>{try{b(T)}catch(N){setTimeout(()=>{throw N},0)}})};return w(d,zu.EventType.OPEN,()=>{y||(me(an,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),w(d,zu.EventType.CLOSE,()=>{y||(y=!0,me(an,`RPC '${e}' stream ${i} transport closed`),v.So())}),w(d,zu.EventType.ERROR,x=>{y||(y=!0,tl(an,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new ae(J.UNAVAILABLE,"The operation could not be completed")))}),w(d,zu.EventType.MESSAGE,x=>{var _;if(!y){const b=x.data[0];We(!!b);const T=b,N=T.error||((_=T[0])===null||_===void 0?void 0:_.error);if(N){me(an,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(I){const R=Et[I];if(R!==void 0)return JM(R)}(A),S=N.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),y=!0,v.So(new ae(P,S)),d.close()}else me(an,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),w(a,EM.STAT_EVENT,x=>{x.stat===B0.PROXY?me(an,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===B0.NOPROXY&&me(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return new DB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new aO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ae(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A6 extends lO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=jB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ee.min():s.readTime?Wr(s.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=X0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=H0(l)?{documents:FB(o,l)}:{query:BB(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QM(o,s.resumeToken);const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ee.min())>0){a.readTime=pp(o,s.snapshotVersion.toTimestamp());const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=zB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.a_(n)}}class I6 extends lO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UB(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=X0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,J0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,J0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class P6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{zs(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Te(l);u.L_.add(4),await jd(u),u.q_.set("Unknown"),u.L_.delete(4),await ig(u)}(this))})}),this.q_=new P6(r,i)}}async function ig(t){if(zs(t))for(const e of t.B_)await e(!0)}async function jd(t){for(const e of t.B_)await e(!1)}function uO(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),db(n)?cb(n):Ul(n).r_()&&ub(n,e))}function lb(t,e){const n=Te(t),r=Ul(n);n.N_.delete(e),r.r_()&&cO(n,e),n.N_.size===0&&(r.r_()?r.o_():zs(n)&&n.q_.set("Unknown"))}function ub(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).A_(e)}function cO(t,e){t.Q_.xe(e),Ul(t).R_(e)}function cb(t){t.Q_=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.q_.v_()}function db(t){return zs(t)&&!Ul(t).n_()&&t.N_.size>0}function zs(t){return Te(t).L_.size===0}function dO(t){t.Q_=void 0}async function k6(t){t.q_.set("Online")}async function R6(t){t.N_.forEach((e,n)=>{ub(t,e)})}async function M6(t,e){dO(t),db(t)?(t.q_.M_(e),cb(t)):t.q_.set("Unknown")}async function O6(t,e,n){if(t.q_.set("Online"),e instanceof XM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mp(t,r)}else if(e instanceof Ph?t.Q_.Ke(e):e instanceof YM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await sO(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),cO(o,l);const d=new po(c.target,l,u,c.sequenceNumber);ub(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await mp(t,r)}}async function mp(t,e,n){if(!Dd(e))throw e;t.L_.add(1),await jd(t),t.q_.set("Offline"),n||(n=()=>sO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ig(t)})}function fO(t,e){return e().catch(n=>mp(t,n,e))}async function og(t){const e=Te(t),n=Lo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;D6(e);)try{const i=await v6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,L6(e,i)}catch(i){await mp(e,i)}hO(e)&&pO(e)}function D6(t){return zs(t)&&t.O_.length<10}function L6(t,e){t.O_.push(e);const n=Lo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function hO(t){return zs(t)&&!Lo(t).n_()&&t.O_.length>0}function pO(t){Lo(t).start()}async function $6(t){Lo(t).p_()}async function j6(t){const e=Lo(t);for(const n of t.O_)e.m_(n.mutations)}async function V6(t,e,n){const r=t.O_.shift(),i=nb.from(r,e,n);await fO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await og(t)}async function U6(t,e){e&&Lo(t).V_&&await async function(r,i){if(function(s){return CB(s)&&s!==J.ABORTED}(i.code)){const o=r.O_.shift();Lo(r).s_(),await fO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await og(r)}}(t,e),hO(t)&&pO(t)}async function H1(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.L_.add(3),await jd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ig(n)}async function F6(t,e){const n=Te(t);e?(n.L_.delete(2),await ig(n)):e||(n.L_.add(2),await jd(n),n.q_.set("Unknown"))}function Ul(t){return t.K_||(t.K_=function(n,r,i){const o=Te(n);return o.w_(),new A6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:k6.bind(null,t),Ro:R6.bind(null,t),mo:M6.bind(null,t),d_:O6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),db(t)?cb(t):t.q_.set("Unknown")):(await t.K_.stop(),dO(t))})),t.K_}function Lo(t){return t.U_||(t.U_=function(n,r,i){const o=Te(n);return o.w_(),new I6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$6.bind(null,t),mo:U6.bind(null,t),f_:j6.bind(null,t),g_:V6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await og(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new fb(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hb(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Dd(t))return new ae(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=qu(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.W_=new yt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new al(e,n,La.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class G6{constructor(){this.queries=K1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Te(n),o=i.queries;i.queries=K1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ae(J.ABORTED,"Firestore shutting down"))}}function K1(){return new Vl(t=>$M(t),Xm)}async function mO(t,e){const n=Te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new B6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=hb(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&pb(n)}async function gO(t,e){const n=Te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function z6(t,e){const n=Te(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&pb(n)}function q6(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function pb(t){t.Y_.forEach(e=>{e.next()})}var Z0,J1;(J1=Z0||(Z0={})).ea="default",J1.Cache="cache";class yO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.key=e}}class xO{constructor(e){this.key=e}}class H6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=jM(e),this.Ra=new La(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new W1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),y=Qm(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(y,v){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return w(y)-w(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new al(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new vO(r))}),n}ba(e){this.Ta=e.Ts,this.da=ke();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return al.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class W6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class K6{constructor(e){this.key=e,this.va=!1}}class J6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Vl(a=>$M(a),Xm),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(ye.comparator),this.Na=new Map,this.La=new ob,this.Ba={},this.ka=new Map,this.qa=sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Y6(t,e,n=!0){const r=SO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await _O(r,e,n,!0),i}async function X6(t,e){const n=SO(t);await _O(n,e,!0,!1)}async function _O(t,e,n,r){const i=await x6(t.localStore,Hr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Q6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uO(t.remoteStore,i),a}async function Q6(t,e,n,r,i){t.Ka=(d,h,y)=>async function(w,x,_,b){let T=x.view.ma(_);T.ns&&(T=await G1(w.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,T)));const N=b&&b.targetChanges.get(x.targetId),A=b&&b.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(T,w.isPrimaryClient,N,A);return X1(w,x.targetId,P.wa),P.snapshot}(t,d,h,y);const o=await G1(t.localStore,e,!0),s=new H6(e,o.Ts),a=s.ma(o.documents),l=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);X1(t,n,u.wa);const c=new W6(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Z6(t,e,n){const r=Te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Xm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lb(r.remoteStore,i.targetId),ex(r,i.targetId)}).catch(Od)):(ex(r,i.targetId),await Q0(r.localStore,i.targetId,!0))}async function e8(t,e){const n=Te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lb(n.remoteStore,r.targetId))}async function t8(t,e,n){const r=l8(t);try{const i=await function(s,a){const l=Te(s),u=Mt.now(),c=a.reduce((y,v)=>y.add(v.key),ke());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Ni(),w=ke();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((_,b)=>{b.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{d=x;const _=[];for(const b of a){const T=EB(b,d.get(b.key).overlayedDocument);T!=null&&_.push(new Fo(b.key,T,NM(T.value.mapValue),wn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(y,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:UM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new yt(Ue)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Vd(r,i.changes),await og(r.remoteStore)}catch(i){const o=hb(i,"Failed to persist write");n.reject(o)}}async function wO(t,e){const n=Te(t);try{const r=await g6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?We(s.va):i.removedDocuments.size>0&&(We(s.va),s.va=!1))}),await Vd(n,r,e)}catch(r){await Od(r)}}function Y1(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Te(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&pb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n8(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new yt(ye.comparator);s=s.insert(o,dn.newNoDocument(o,Ee.min()));const a=ke().add(o),l=new ng(Ee.min(),new Map,new yt(Ue),s,a);await wO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),mb(r)}else await Q0(r.localStore,e,!1).then(()=>ex(r,e,n)).catch(Od)}async function r8(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await m6(n.localStore,e);EO(n,r,null),bO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vd(n,i)}catch(i){await Od(i)}}async function i8(t,e,n){const r=Te(t);try{const i=await function(s,a){const l=Te(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(We(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);EO(r,e,n),bO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vd(r,i)}catch(i){await Od(i)}}function bO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function EO(t,e,n){const r=Te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||TO(t,r)})}function TO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(lb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),mb(t))}function X1(t,e,n){for(const r of n)r instanceof vO?(t.La.addReference(r.key,e),o8(t,r)):r instanceof xO?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||TO(t,r.key)):we()}function o8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),mb(t))}function mb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new K6(n)),t.Oa=t.Oa.insert(n,r),uO(t.remoteStore,new po(Hr(Zw(n.path)),r,"TargetPurposeLimboResolution",Kw.oe))}}async function Vd(t,e,n){const r=Te(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ab.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ee.forEach(u,h=>ee.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(d,h.targetId,y)).next(()=>ee.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(d,h.targetId,y)))))}catch(d){if(!Dd(d))throw d;me("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const y=c.os.get(h),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function s8(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await oO(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ae(J.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vd(n,r.hs)}}function a8(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return ke().add(r.key);{let i=ke();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function SO(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n8.bind(null,e),e.Ca.d_=z6.bind(null,e.eventManager),e.Ca.$a=q6.bind(null,e.eventManager),e}function l8(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i8.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return p6(this.persistence,new f6,e.initialUser,this.serializer)}Ga(e){return new u6(sb.Zr,this.serializer)}Wa(e){return new w6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s8.bind(null,this.syncEngine),await F6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G6}()}createDatastore(e){const n=rg(e.databaseInfo.databaseId),r=function(o){return new S6(o)}(e.databaseInfo);return function(o,s,a,l){return new C6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new N6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Y1(this.syncEngine,n,0),function(){return q1.D()?new q1:new b6}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new J6(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Te(i);me("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await jd(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tx.provider={build:()=>new tx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=IM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{me("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(me("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function av(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c8(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>H1(e.remoteStore,i)),t._onlineComponents=e}async function c8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await av(t,new gp)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await av(t,new gp);return t._offlineComponents}async function IO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Q1(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Q1(t,new tx))),t._onlineComponents}function d8(t){return IO(t).then(e=>e.syncEngine)}async function nx(t){const e=await IO(t),n=e.eventManager;return n.onListen=Y6.bind(null,e.syncEngine),n.onUnlisten=Z6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e8.bind(null,e.syncEngine),n}function f8(t,e,n={}){const r=new Co;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new AO({next:h=>{c.Za(),s.enqueueAndForget(()=>gO(o,d)),h.fromCache&&l.source==="server"?u.reject(new ae(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new yO(a,c,{includeMetadataChanges:!0,_a:!0});return mO(o,d)}(await nx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e,n){if(!n)throw new ae(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h8(t,e,n,r){if(e===!0&&r===!0)throw new ae(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eA(t){if(!ye.isDocumentKey(t))throw new ae(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tA(t){if(ye.isDocumentKey(t))throw new ae(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(t);throw new ae(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function p8(t,e){if(e<=0)throw new ae(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k3;switch(r.type){case"firstParty":return new D3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z1.get(n);r&&(me("ComponentProvider","Removing Datastore"),Z1.delete(n),r.terminate())}(this),Promise.resolve()}}function m8(t,e,n,r={}){var i;const o=(t=qn(t,ag))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=un.MOCK_USER;else{a=o5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(u)}t._authCredentials=new R3(new AM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Po extends ni{constructor(e,n,r){super(e,n,Zw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ye(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Ae(t,e,...n){if(t=Ot(t),PO("collection","path",e),t instanceof ag){const r=tt.fromString(e,...n);return tA(r),new Po(t,null,r)}{if(!(t instanceof bn||t instanceof Po))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return tA(r),new Po(t.firestore,null,r)}}function ze(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=IM.newId()),PO("doc","path",e),t instanceof ag){const r=tt.fromString(e,...n);return eA(r),new bn(t,null,new ye(r))}{if(!(t instanceof bn||t instanceof Po))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return eA(r),new bn(t.firestore,t instanceof Po?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new aO(this,"async_queue_retry"),this.Vu=()=>{const r=sv();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Co;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dd(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fb.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function iA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ki extends ag{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rA(e),this._firestoreClient=void 0,await e}}}function g8(t,e){const n=typeof t=="object"?t:yM(),r=typeof t=="string"?t:"(default)",i=Hw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=r5("firestore");o&&m8(i,...o)}return i}function lg(t){if(t._terminated)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y8(t),t._firestoreClient}function y8(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new K3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,CO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new u8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(tn.fromBase64String(e))}catch(n){throw new ae(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ll(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=/^__.*__$/;class x8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ld(e,this.data,n,this.fieldTransforms)}}class NO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class vb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kO(this.Cu)&&v8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rg(e)}Qu(e,n,r,i=!1){return new vb({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(t){const e=t._freezeSettings(),n=rg(t._databaseId);return new _8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xb(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);wb("Data must be an object, but it was:",s,r);const a=DO(r,s);let l,u;if(o.merge)l=new Gn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=rx(e,d,n);if(!s.contains(h))throw new ae(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);$O(c,h)||c.push(h)}l=new Gn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new x8(new Nn(a),l,u)}class cg extends ug{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cg}}class _b extends ug{_toFieldTransform(e){return new xB(e.path,new Vc)}isEqual(e){return e instanceof _b}}function RO(t,e,n,r){const i=t.Qu(1,e,n);wb("Data must be an object, but it was:",i,r);const o=[],s=Nn.empty();Bs(r,(l,u)=>{const c=bb(e,l,n);u=Ot(u);const d=i.Nu(c);if(u instanceof cg)o.push(c);else{const h=Fd(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Gn(o);return new NO(s,a,i.fieldTransforms)}function MO(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[rx(e,r,n)],l=[i];if(o.length%2!=0)throw new ae(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(rx(e,o[h])),l.push(o[h+1]);const u=[],c=Nn.empty();for(let h=a.length-1;h>=0;--h)if(!$O(u,a[h])){const y=a[h];let v=l[h];v=Ot(v);const w=s.Nu(y);if(v instanceof cg)u.push(y);else{const x=Fd(v,w);x!=null&&(u.push(y),c.set(y,x))}}const d=new Gn(u);return new NO(c,d,s.fieldTransforms)}function OO(t,e,n,r=!1){return Fd(n,t.Qu(r?4:3,e))}function Fd(t,e){if(LO(t=Ot(t)))return wb("Unsupported field value:",e,t),DO(t,e);if(t instanceof ug)return function(r,i){if(!kO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Fd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mt.fromDate(r);return{timestampValue:pp(i.serializer,o)}}if(r instanceof Mt){const o=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pp(i.serializer,o)}}if(r instanceof gb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:QM(i.serializer,r._byteString)};if(r instanceof bn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ib(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yb)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return tb(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${sg(r)}`)}(t,e)}function DO(t,e){const n={};return CM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const o=Fd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function LO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof gb||t instanceof ll||t instanceof bn||t instanceof ug||t instanceof yb)}function wb(t,e,n){if(!LO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function rx(t,e,n){if((e=Ot(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return bb(t,e);throw yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const w8=new RegExp("[~\\*/\\[\\]]");function bb(t,e,n){if(e.search(w8)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ud(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(J.INVALID_ARGUMENT,a+t+l)}function $O(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b8 extends Eb{data(){return super.data()}}function dg(t,e){return typeof e=="string"?bb(t,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tb{}class fg extends Tb{}function $a(t,e,...n){let r=[];e instanceof Tb&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Sb).length,a=o.filter(l=>l instanceof hg).length;if(s>1||s>0&&a>0)throw new ae(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hg extends fg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hg(e,n,r)}_apply(e){const n=this._parse(e);return VO(e._query,n),new ni(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=Fl(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sA(d,c);const y=[];for(const v of d)y.push(oA(l,o,v));h={arrayValue:{values:y}}}else h=oA(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sA(d,c),h=OO(a,s,d,c==="in"||c==="not-in");return At.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lv(t,e,n){const r=e,i=dg("where",t);return hg._create(i,r,n)}class Sb extends Tb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)VO(s,l),s=W0(s,l)}(e._query,n),new ni(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ab extends fg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ab(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(o,s)}(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function E8(t,e="asc"){const n=e,r=dg("orderBy",t);return Ab._create(r,n)}class Ib extends fg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ib(e,n,r)}_apply(e){return new ni(e.firestore,e.converter,fp(e._query,this._limit,this._limitType))}}function T8(t){return p8("limit",t),Ib._create("limit",t,"F")}class Cb extends fg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cb(e,n,r)}_apply(e){const n=A8(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function S8(...t){return Cb._create("startAfter",t,!1)}function A8(t,e,n,r){if(n[0]=Ot(n[0]),n[0]instanceof Eb)return function(o,s,a,l,u){if(!l)throw new ae(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Da(o))if(d.field.isKeyField())c.push(dp(s,l.key));else{const h=l.data.field(d.field);if(Ym(h))throw new ae(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=d.field.canonicalString();throw new ae(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(h)}return new ol(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fl(t.firestore);return function(s,a,l,u,c,d){const h=s.explicitOrderBy;if(c.length>h.length)throw new ae(J.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<c.length;v++){const w=c[v];if(h[v].field.isKeyField()){if(typeof w!="string")throw new ae(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!eb(s)&&w.indexOf("/")!==-1)throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const x=s.path.child(tt.fromString(w));if(!ye.isDocumentKey(x))throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const _=new ye(x);y.push(dp(a,_))}else{const x=OO(l,u,w);y.push(x)}}return new ol(y,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function oA(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ae(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eb(e)&&n.indexOf("/")!==-1)throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!ye.isDocumentKey(r))throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dp(t,new ye(r))}if(n instanceof bn)return dp(t,n._key);throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(n)}.`)}function sA(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class I8{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new yb(o)}convertGeoPoint(e){return new gb(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);We(iO(r));const i=new Lc(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UO extends Eb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nh extends UO{data(e={}){return super.data(e)}}class FO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nh(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:C8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class Nb extends I8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function Kr(t){t=qn(t,ni);const e=qn(t.firestore,ki),n=lg(e),r=new Nb(e);return jO(t._query),f8(n,t._query).then(i=>new FO(e,r,t,i))}function P8(t,e,n){t=qn(t,bn);const r=qn(t.firestore,ki),i=Pb(t.converter,e,n);return Bd(r,[xb(Fl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wn.none())])}function Cn(t,e,n,...r){t=qn(t,bn);const i=qn(t.firestore,ki),o=Fl(i);let s;return s=typeof(e=Ot(e))=="string"||e instanceof Ud?MO(o,"updateDoc",t._key,e,n,r):RO(o,"updateDoc",t._key,e),Bd(i,[s.toMutation(t._key,wn.exists(!0))])}function In(t){return Bd(qn(t.firestore,ki),[new tg(t._key,wn.none())])}function jt(t,e){const n=qn(t.firestore,ki),r=ze(t),i=Pb(t.converter,e);return Bd(n,[xb(Fl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function Qn(t,...e){var n,r,i;t=Ot(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iA(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof bn)u=qn(t.firestore,ki),c=Zw(t._key.path),l={next:d=>{e[s]&&e[s](N8(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=qn(t,ni);u=qn(d.firestore,ki),c=d._query;const h=new Nb(u);l={next:y=>{e[s]&&e[s](new FO(u,h,d,y))},error:e[s+1],complete:e[s+2]},jO(t._query)}return function(h,y,v,w){const x=new AO(w),_=new yO(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>mO(await nx(h),_)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>gO(await nx(h),_))}}(lg(u),c,a,l)}function Bd(t,e){return function(r,i){const o=new Co;return r.asyncQueue.enqueueAndForget(async()=>t8(await d8(r),i,o)),o.promise}(lg(t),e)}function N8(t,e,n){const r=n.docs.get(e._key),i=new Nb(t);return new UO(t,i,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,n,r){this._verifyNotCommitted();const i=uv(e,this._firestore),o=Pb(i.converter,n,r),s=xb(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,wn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=uv(e,this._firestore);let s;return s=typeof(n=Ot(n))=="string"||n instanceof Ud?MO(this._dataReader,"WriteBatch.update",o._key,n,r,i):RO(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=uv(e,this._firestore);return this._mutations=this._mutations.concat(new tg(n._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uv(t,e){if((t=Ot(t)).firestore!==e)throw new ae(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function R8(){return new _b("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){return lg(t=qn(t,ki)),new k8(t,e=>Bd(t,e))}(function(e,n=!0){(function(i){jl=i})($l),el(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ki(new M3(r.getProvider("auth-internal")),new $3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Io(b1,"4.7.3",e),Io(b1,"4.7.3","esm2017")})();function kb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O8=BO,GO=new Rd("auth","Firebase",BO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new zw("@firebase/auth");function D8(t,...e){vp.logLevel<=Me.WARN&&vp.warn(`Auth (${$l}): ${t}`,...e)}function kh(t,...e){vp.logLevel<=Me.ERROR&&vp.error(`Auth (${$l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw Rb(t,...e)}function Jr(t,...e){return Rb(t,...e)}function zO(t,e,n){const r=Object.assign(Object.assign({},O8()),{[e]:n});return new Rd("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return zO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GO.create(t,...e)}function _e(t,e,...n){if(!t)throw Rb(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function Mi(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L8(){return aA()==="http:"||aA()==="https:"}function aA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L8()||u5()||"connection"in navigator)?navigator.onLine:!0}function j8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=s5()||c5()}get(){return $8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=new Gd(3e4,6e4);function Ob(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bl(t,e,n,r,i={}){return HO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Md(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return l5()||(u.referrerPolicy="no-referrer"),qO.fetch()(WO(t,t.config.apiHost,n,a),u)})}async function HO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V8),e);try{const i=new B8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Kf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Kf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Kf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zO(t,c,u);Ri(t,c)}}catch(i){if(i instanceof Fi)throw i;Ri(t,"network-request-failed",{message:String(i)})}}async function F8(t,e,n,r,i={}){const o=await Bl(t,e,n,r,i);return"mfaPendingCredential"in o&&Ri(t,"multi-factor-auth-required",{_serverResponse:o}),o}function WO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mb(t.config,i):`${t.config.apiScheme}://${i}`}class B8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),U8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){return Bl(t,"POST","/v1/accounts:delete",e)}async function KO(t,e){return Bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z8(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=Db(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:lc(cv(i.auth_time)),issuedAtTime:lc(cv(i.iat)),expirationTime:lc(cv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cv(t){return Number(t)*1e3}function Db(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=cM(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lA(t){const e=Db(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&q8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bc(t,KO(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JO(o.providerUserInfo):[],a=K8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ox(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function W8(t){const e=Ot(t);await xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JO(t){return t.map(e=>{var{providerId:n}=e,r=kb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){const n=await HO(t,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=WO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y8(t,e){return Bl(t,"POST","/v2/accounts:revokeToken",Ob(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=lA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await J8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ja;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=kb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ox(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z8(this,e)}reload(){return W8(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ho(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Bc(this,G8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:N,isAnonymous:A,providerData:P,stsTokenManager:S}=n;_e(T&&S,e,"internal-error");const C=ja.fromJSON(this.name,S);_e(typeof T=="string",e,"internal-error"),Zi(d,e.name),Zi(h,e.name),_e(typeof N=="boolean",e,"internal-error"),_e(typeof A=="boolean",e,"internal-error"),Zi(y,e.name),Zi(v,e.name),Zi(w,e.name),Zi(x,e.name),Zi(_,e.name),Zi(b,e.name);const I=new mi({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:A,photoURL:v,phoneNumber:y,tenantId:w,stsTokenManager:C,createdAt:_,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(R=>Object.assign({},R))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ja;i.updateFromServerResponse(n);const o=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?JO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ja;a.updateFromIdToken(r);const l=new mi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ox(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new Map;function gi(t){Mi(t instanceof Function,"Expected a class definition");let e=uA.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YO.type="NONE";const cA=YO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Rh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(gi(cA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gi(cA);const s=Rh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=mi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Va(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Va(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nD(e))return"Blackberry";if(rD(e))return"Webos";if(QO(e))return"Safari";if((e.includes("chrome/")||ZO(e))&&!e.includes("edge/"))return"Chrome";if(tD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XO(t=gn()){return/firefox\//i.test(t)}function QO(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZO(t=gn()){return/crios\//i.test(t)}function eD(t=gn()){return/iemobile/i.test(t)}function tD(t=gn()){return/android/i.test(t)}function nD(t=gn()){return/blackberry/i.test(t)}function rD(t=gn()){return/webos/i.test(t)}function Lb(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X8(t=gn()){var e;return Lb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q8(){return d5()&&document.documentMode===10}function iD(t=gn()){return Lb(t)||tD(t)||rD(t)||nD(t)||/windows phone/i.test(t)||eD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e=[]){let n;switch(t){case"Browser":n=dA(gn());break;case"Worker":n=`${dA(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e={}){return Bl(t,"GET","/v2/passwordPolicy",Ob(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=6;class nG{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:tG,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fA(this),this.idTokenSubscription=new fA(this),this.beforeStateQueue=new Z8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await KO(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ho(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ho(this.app))return Promise.reject(bs(this));const n=e?Ot(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ho(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ho(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eG(this),n=new nG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&D8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $b(t){return Ot(t)}class fA{constructor(e){this.auth=e,this.observer=null,this.addObserver=x5(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iG(t){jb=t}function oG(t){return jb.loadJS(t)}function sG(){return jb.gapiScript}function aG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t,e){const n=Hw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(lp(o,e??{}))return i;Ri(i,"already-initialized")}return n.initialize({options:e})}function uG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cG(t,e,n){const r=$b(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=sD(e),{host:s,port:a}=dG(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),fG()}function sD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dG(t){const e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:hA(s)}}}function hA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t,e){return F8(t,"POST","/v1/accounts:signInWithIdp",Ob(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="http://localhost";class Os extends aD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=kb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Os(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ua(e,n)}buildRequest(){const e={requestUri:hG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends lD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends zd{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends zd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends zd{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends zd{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mi._fromIdTokenResponse(e,r,i),s=pA(r);return new ul({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pA(r);return new ul({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _p(e,n,r,i)}}function uD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(t,o,e,r):o})}async function pG(t,e,n=!1){const r=await Bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e,n=!1){const{auth:r}=t;if(ho(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const o=await Bc(t,uD(r,i,e,t),n);_e(o.idToken,r,"internal-error");const s=Db(o.idToken);_e(s,r,"internal-error");const{sub:a}=s;return _e(t.uid===a,r,"user-mismatch"),ul._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ri(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gG(t,e,n=!1){if(ho(t.app))return Promise.reject(bs(t));const r="signIn",i=await uD(t,r,e),o=await ul._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function yG(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function vG(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}const wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wp,"1"),this.storage.removeItem(wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG=1e3,_G=10;class dD extends cD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Q8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_G):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dD.type="LOCAL";const wG=dD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends cD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fD.type="SESSION";const hD=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await bG(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Vb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function TG(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function SG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IG(){return pD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="firebaseLocalStorageDb",CG=1,bp="firebaseLocalStorage",gD="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mg(t,e){return t.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function PG(){const t=indexedDB.deleteDatabase(mD);return new qd(t).toPromise()}function sx(){const t=indexedDB.open(mD,CG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bp,{keyPath:gD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bp)?e(r):(r.close(),await PG(),e(await sx()))})})}async function mA(t,e,n){const r=mg(t,!0).put({[gD]:e,value:n});return new qd(r).toPromise()}async function NG(t,e){const n=mg(t,!1).get(e),r=await new qd(n).toPromise();return r===void 0?null:r.value}function gA(t,e){const n=mg(t,!0).delete(e);return new qd(n).toPromise()}const kG=800,RG=3;class yD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance(IG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SG(),!this.activeServiceWorker)return;this.sender=new EG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sx();return await mA(e,wp,"1"),await gA(e,wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=mg(i,!1).getAll();return new qd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yD.type="LOCAL";const MG=yD;new Gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t,e){return e?gi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends aD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DG(t){return gG(t.auth,new Ub(t),t.bypassAuthState)}function LG(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),mG(n,new Ub(t),t.bypassAuthState)}async function $G(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),pG(n,new Ub(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DG;case"linkViaPopup":case"linkViaRedirect":return $G;case"reauthViaPopup":case"reauthViaRedirect":return LG;default:Ri(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=new Gd(2e3,1e4);class Ea extends vD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=Vb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jG.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="pendingRedirect",Mh=new Map;class UG extends vD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await FG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FG(t,e){const n=zG(e),r=GG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BG(t,e){Mh.set(t._key(),e)}function GG(t){return gi(t._redirectPersistence)}function zG(t){return Rh(VG,t.config.apiKey,t.name)}async function qG(t,e,n=!1){if(ho(t.app))return Promise.reject(bs(t));const r=$b(t),i=OG(r,e),s=await new UG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=10*60*1e3;class WG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HG&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}}function yA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JG(t,e={}){return Bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XG=/^https?/;async function QG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JG(t);for(const n of e)try{if(ZG(n))return}catch{}Ri(t,"unauthorized-domain")}function ZG(t){const e=ix(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!XG.test(n))return!1;if(YG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new Gd(3e4,6e4);function vA(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t9(t){return new Promise((e,n)=>{var r,i,o;function s(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),n(Jr(t,"network-request-failed"))},timeout:e9.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)s();else{const a=aG("iframefcb");return Yr()[a]=()=>{gapi.load?s():n(Jr(t,"network-request-failed"))},oG(`${sG()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function n9(t){return Oh=Oh||t9(t),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Gd(5e3,15e3),i9="__/auth/iframe",o9="emulator/auth/iframe",s9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l9(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mb(e,o9):`https://${t.config.authDomain}/${i9}`,r={apiKey:e.apiKey,appName:t.name,v:$l},i=a9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Md(r).slice(1)}`}async function u9(t){const e=await n9(t),n=Yr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:l9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Jr(t,"network-request-failed"),a=Yr().setTimeout(()=>{o(s)},r9.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d9=500,f9=600,h9="_blank",p9="http://localhost";class xA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m9(t,e,n,r=d9,i=f9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},c9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=gn().toLowerCase();n&&(a=ZO(u)?h9:n),XO(u)&&(e=e||p9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(X8(u)&&a!=="_self")return g9(e||"",a),new xA(null);const d=window.open(e||"",a,c);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new xA(d)}function g9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="__/auth/handler",v9="emulator/auth/handler",x9=encodeURIComponent("fac");async function _A(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:i};if(e instanceof lD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",v5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof zd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${x9}=${encodeURIComponent(l)}`:"";return`${_9(t)}?${Md(a).slice(1)}${u}`}function _9({config:t}){return t.emulator?Mb(t,v9):`https://${t.authDomain}/${y9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="webStorageSupport";class w9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hD,this._completeRedirectFn=qG,this._overrideRedirectResult=BG}async _openPopup(e,n,r,i){var o;Mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await _A(e,n,r,ix(),i);return m9(e,s,Vb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _A(e,n,r,ix(),i);return TG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u9(e),r=new WG(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dv,{type:dv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[dv];s!==void 0&&n(!!s),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iD()||QO()||Lb()}}const b9=w9;var wA="@firebase/auth",bA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S9(t){el(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oD(t)},u=new rG(r,i,o,l);return uG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new Ns("auth-internal",e=>{const n=$b(e.getProvider("auth").getImmediate());return(r=>new E9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(wA,bA,T9(t)),Io(wA,bA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=5*60,I9=hM("authIdTokenMaxAge")||A9;let EA=null;const C9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I9)return;const i=n==null?void 0:n.token;EA!==i&&(EA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function P9(t=yM()){const e=Hw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lG(t,{popupRedirectResolver:b9,persistence:[MG,wG,hD]}),r=hM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=C9(o.toString());vG(n,s,()=>s(n.currentUser)),yG(n,a=>s(a))}}const i=dM("auth");return i&&cG(n,`http://${i}`),n}function N9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",N9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S9("Browser");var ra={};const k9={apiKey:ra.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:ra.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:ra.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:ra.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:ra.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:ra.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},_D=gM(k9),de=g8(_D);P9(_D);new di;const wD=j.createContext(void 0),R9=({children:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState([]),[o,s]=j.useState([]),[a,l]=j.useState([]),[u,c]=j.useState([]),[d,h]=j.useState([]),[y,v]=j.useState([]),[w,x]=j.useState([]),[_,b]=j.useState([]),[T,N]=j.useState([]),[A,P]=j.useState([]),[S,C]=j.useState([]),[I,R]=j.useState([]),[M,D]=j.useState([]),[O,F]=j.useState([]),[B,z]=j.useState(!0),[W,U]=j.useState(null);j.useEffect(()=>{const X=[Qn(Ae(de,"products"),se=>n(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"clients"),se=>i(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"suppliers"),se=>s(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"priceLists"),se=>c(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"branches"),se=>h(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"users"),se=>N(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"salesZones"),se=>b(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"sales"),se=>P(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"remitos"),se=>C(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"boxes"),se=>R(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"brands"),se=>D(se.docs.map(pe=>({id:pe.id,...pe.data()})))),Qn(Ae(de,"categories"),se=>F(se.docs.map(pe=>({id:pe.id,...pe.data()}))))];return z(!1),()=>X.forEach(se=>se())},[]);const K=j.useCallback(async X=>{let se=$a(Ae(de,"products"),E8(X.orderByField||"name",X.orderDirection||"asc"));X.startAfterDoc&&(se=$a(se,S8(X.startAfterDoc))),se=$a(se,T8(X.limit));const pe=await Kr(se);return{products:pe.docs.map(An=>({id:An.id,...An.data()})),lastVisible:pe.docs[pe.docs.length-1],hasMore:pe.docs.length===X.limit}},[]),Y=async X=>e.find(se=>se.id===X)||null,oe=async X=>{await jt(Ae(de,"products"),X)},Z=async(X,se)=>{await Cn(ze(de,"products",X),se)},le=async X=>{await In(ze(de,"products",X))},Ce=async X=>(await jt(Ae(de,"sales"),X)).id,Oe=async X=>A.find(se=>se.id===X)||null,Ye=async X=>{await jt(Ae(de,"clients"),X)},q=async(X,se)=>{await Cn(ze(de,"clients",X),se)},Ge=async X=>{await In(ze(de,"clients",X))},re=async X=>{await jt(Ae(de,"suppliers"),X)},ge=async(X,se)=>{await Cn(ze(de,"suppliers",X),se)},ve=async X=>{await In(ze(de,"suppliers",X))},Q=async X=>{await jt(Ae(de,"priceLists"),X)},Le=async(X,se)=>{await Cn(ze(de,"priceLists",X),se)},Se=async X=>{await In(ze(de,"priceLists",X))},rt=async X=>{await jt(Ae(de,"branches"),X)},ut=async(X,se)=>{await Cn(ze(de,"branches",X),se)},Lt=async X=>{await In(ze(de,"branches",X))},Yn=async X=>{await jt(Ae(de,"orders"),X)},vr=async(X,se)=>{await Cn(ze(de,"orders",X),se)},jr=async X=>{await In(ze(de,"orders",X))},Xn=async X=>{await jt(Ae(de,"installmentPlans"),X)},xr=async(X,se)=>{await Cn(ze(de,"installmentPlans",X),se)},ii=async X=>{await In(ze(de,"installmentPlans",X))},Wi=async X=>{await jt(Ae(de,"transactions"),X)},Ko=async X=>{await jt(Ae(de,"users"),X)},$t=async(X,se)=>{await Cn(ze(de,"users",X),se)},qt=async X=>{await In(ze(de,"users",X))},Xs=async X=>{await jt(Ae(de,"salesZones"),X)},rf=async(X,se)=>{await Cn(ze(de,"salesZones",X),se)},of=async X=>{await In(ze(de,"salesZones",X))},fy=async X=>(await jt(Ae(de,"remitos"),X)).id,Jo=async(X,se)=>{await Cn(ze(de,"remitos",X),se)},sf=async X=>{await In(ze(de,"remitos",X))},af=async X=>S.find(se=>se.id===X)||null,au=async X=>{await jt(Ae(de,"boxes"),X)},hy=async(X,se)=>{await Cn(ze(de,"boxes",X),se)},py=async X=>{await In(ze(de,"boxes",X))},lu=async X=>{await jt(Ae(de,"brands"),X)},lf=async(X,se)=>{await Cn(ze(de,"brands",X),se)},uf=async X=>{await In(ze(de,"brands",X))},Yo=async X=>{await jt(Ae(de,"categories"),X)},uu=async(X,se)=>{await Cn(ze(de,"categories",X),se)},cu=async X=>{await In(ze(de,"categories",X))},oi=async X=>{const se={};for(const pe of X){const Qo=await Kr(Ae(de,pe));se[pe]=Qo.docs.map(An=>({id:An.id,...An.data()}))}return se},cf=async X=>{for(const[se,pe]of Object.entries(X)){await Xo(se);for(const Qo of pe){const{id:An,...Ki}=Qo;An?await P8(ze(de,se,An),Ki):await jt(Ae(de,se),Ki)}}},Xo=async X=>{const se=await Kr(Ae(de,X));for(const pe of se.docs)await In(pe.ref)},df=j.useMemo(()=>({products:e,clients:r,suppliers:o,transactions:a,priceLists:u,branches:d,orders:y,installmentPlans:w,users:T,loading:B,error:W,salesZones:_,sales:A,remitos:S,boxes:I,brands:M,categories:O,fetchProductsPaginatedAndFiltered:K,getProductById:Y,addProduct:oe,updateProduct:Z,deleteProduct:le,addSale:Ce,getSaleById:Oe,addClient:Ye,updateClient:q,deleteClient:Ge,addSupplier:re,updateSupplier:ge,deleteSupplier:ve,addPriceList:Q,updatePriceList:Le,deletePriceList:Se,addBranch:rt,updateBranch:ut,deleteBranch:Lt,addOrder:Yn,updateOrder:vr,deleteOrder:jr,addInstallmentPlan:Xn,updateInstallmentPlan:xr,deleteInstallmentPlan:ii,addTransaction:Wi,exportAllData:oi,importAllData:cf,deleteAllDocumentsInCollection:Xo,addUser:Ko,updateUser:$t,deleteUser:qt,addSalesZone:Xs,updateSalesZone:rf,deleteSalesZone:of,addRemito:fy,updateRemito:Jo,deleteRemito:sf,getRemitoById:af,addBox:au,updateBox:hy,deleteBox:py,addBrand:lu,updateBrand:lf,deleteBrand:uf,addCategory:Yo,updateCategory:uu,deleteCategory:cu}),[e,r,o,a,u,d,y,w,T,B,W,_,A,S,I,M,O]);return p.jsx(wD.Provider,{value:df,children:t})},Fb=()=>{const t=j.useContext(wD);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>j.createElement("svg",{ref:c,...M9,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${O9(t)}`,a].join(" "),...u},[...e.map(([d,h])=>j.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ce("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ce("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ce("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ce("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ce("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ce("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ce("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ce("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=ce("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=ce("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=ce("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=ce("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ce("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=ce("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=ce("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ce("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),rz=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{var s;const o=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:CD}]},{title:"Comercial",items:[{id:"sales",label:"Ventas",icon:gg},{id:"quotes",label:"Cotizaciones",icon:cl},{id:"clients",label:"Clientes",icon:Kd},{id:"ecommerce",label:"E-Commerce",icon:dl}]},{title:"Productos & Stock",items:[{id:"inventory",label:"Inventario",icon:Gc},{id:"stock-adjustment",label:"Ajuste de Stock",icon:qb},{id:"suppliers",label:"Proveedores",icon:Xb},{id:"catalog-config",label:"Marcas & Rubros",icon:kD}]},{title:"Administracin",items:[{id:"cashier",label:"Cajas y Pagos",icon:ax},{id:"reports",label:"Informes e IVA",icon:Bb}]},{title:"Sistema",items:[{id:"users",label:"Personal",icon:Kb},{id:"settings",label:"Configuracin",icon:Hb},{id:"backup",label:"Backup",icon:zb}]}];return p.jsxs("div",{className:"w-72 bg-slate-950 h-full flex flex-col text-slate-400 border-r border-slate-900 shadow-2xl relative z-20",children:[p.jsx("div",{className:"p-8",children:p.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-[2rem] border border-white/5 shadow-inner",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-orange-900/20 rotate-3",children:p.jsx(Jb,{className:"text-white",size:24})}),p.jsxs("div",{className:"overflow-hidden text-left",children:[p.jsx("h1",{className:"text-white font-black text-sm truncate uppercase tracking-tighter italic",children:(n==null?void 0:n.name)||"FerroGest"}),p.jsx("p",{className:"text-[9px] font-black text-orange-500 uppercase tracking-[0.2em] opacity-80",children:"ERP v4.0"})]})]})}),p.jsx("nav",{className:"flex-1 px-4 space-y-8 overflow-y-auto custom-scrollbar pb-10 text-left",children:o.map(a=>p.jsxs("div",{className:"space-y-3",children:[p.jsx("h3",{className:"px-4 text-[9px] font-black text-slate-600 uppercase tracking-[0.3em] opacity-50",children:a.title}),p.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const u=l.icon,c=t===l.id;return p.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all duration-300 group ${c?"bg-orange-600 text-white shadow-xl shadow-orange-900/40 translate-x-1":"hover:bg-white/5 hover:text-slate-200"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(u,{size:18,strokeWidth:c?3:2,className:c?"text-white":"text-slate-500 group-hover:text-orange-500 transition-colors"}),p.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${c?"text-white":""}`,children:l.label})]}),c&&p.jsx(Gb,{size:14,className:"animate-pulse"})]},l.id)})})]},a.title))}),p.jsxs("div",{className:"p-6 bg-black/20 border-t border-white/5",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-black text-xs text-orange-500 border-2 border-slate-700",children:((s=r==null?void 0:r.name)==null?void 0:s.substring(0,2).toUpperCase())||"AD"}),p.jsxs("div",{className:"overflow-hidden text-left",children:[p.jsx("p",{className:"text-xs font-black text-white truncate uppercase tracking-tighter",children:(r==null?void 0:r.name)||"Administrador"}),p.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest",children:(r==null?void 0:r.role)||"Master"})]})]}),p.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[p.jsx(PD,{size:16})," Salir del Sistema"]})]})]})},iz={dashboard:{label:"Dashboard",icon:CD},inventory:{label:"Inventario",icon:TD},sales:{label:"Ventas",icon:ED},purchases:{label:"Compras",icon:gg},clients:{label:"Clientes",icon:Kd},suppliers:{label:"Proveedores",icon:Xb},cashier:{label:"Cajas",icon:yg},reports:{label:"Informes",icon:Bb},quotes:{label:"Cotizaciones",icon:cl},ecommerce:{label:"E-Commerce",icon:dl},"stock-adjustment":{label:"Ajuste Stock",icon:qb},users:{label:"Personal",icon:ez},settings:{label:"Configuracin",icon:Kb},"catalog-config":{label:"Marcas & Rubros",icon:kD},"bulk-import":{label:"Importar",icon:AD},balances:{label:"Saldos",icon:cx},backup:{label:"Backup",icon:zb}},oz=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>p.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const o=iz[i],s=o==null?void 0:o.icon,a=i===e;return p.jsxs("div",{onClick:()=>n(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${a?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&p.jsx(s,{size:14,className:a?"text-orange-600":"text-slate-400"}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-slate-900":"text-slate-500"}`,children:(o==null?void 0:o.label)||i}),i!=="dashboard"&&p.jsx("button",{onClick:l=>{l.stopPropagation(),r(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:p.jsx(Oi,{size:12})})]},i)})}),sz=({onLoginSuccess:t})=>{const[e,n]=j.useState("employee"),[r,i]=j.useState(""),[o,s]=j.useState(""),[a,l]=j.useState(""),[u,c]=j.useState(!1),[d,h]=j.useState(null),y="admin",v="admin123",w=async _=>{_.preventDefault(),c(!0),h(null);const b=r.trim(),T=o.trim();try{if(b.toLowerCase()===y&&T===v){t("admin","Administrador Maestro");return}if(!b.includes("@")||!b.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),c(!1);return}const N=Ae(de,"users"),A=$a(N,lv("email","==",b),lv("password","==",T)),P=await Kr(A);if(P.empty)h("Credenciales de empleado incorrectas.");else{const S=P.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(N){h(`Error de conexin: ${N.message}`)}finally{c(!1)}},x=async _=>{_.preventDefault(),c(!0),h(null);const b=a.trim();if(!b){h("Por favor ingrese su CUIT o DNI."),c(!1);return}try{const T=Ae(de,"clients"),N=$a(T,lv("cuit","==",b)),A=await Kr(N);if(A.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const P={id:A.docs[0].id,...A.docs[0].data()};t("customer",P.name,P)}}catch{h("Error al validar cliente.")}finally{c(!1)}};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:p.jsx(Jb,{className:"w-10 h-10"})}),p.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),p.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[p.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(Tp,{className:"w-4 h-4"})," Personal"]}),p.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(fv,{className:"w-4 h-4"})," Portal Clientes"]})]}),d&&p.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[p.jsx(Oi,{className:"w-5 h-5 text-red-600"}),p.jsx("span",{className:"font-bold text-xs uppercase",children:d})]}),e==="employee"?p.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(nz,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),p.jsxs("div",{className:"relative",children:[p.jsx(K9,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"password",value:o,onChange:_=>s(_.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?p.jsx($o,{className:"w-5 h-5 animate-spin"}):p.jsx(j9,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):p.jsxs("form",{onSubmit:x,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),p.jsxs("div",{className:"relative",children:[p.jsx(fv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?p.jsx($o,{className:"w-5 h-5 animate-spin"}):p.jsx(fv,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),p.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function OD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OD(t))&&(r&&(r+=" "),r+=e);return r}var az=Array.isArray,Ln=az,lz=typeof Af=="object"&&Af&&Af.Object===Object&&Af,DD=lz,uz=DD,cz=typeof self=="object"&&self&&self.Object===Object&&self,dz=uz||cz||Function("return this")(),ri=dz,fz=ri,hz=fz.Symbol,Jd=hz,NA=Jd,LD=Object.prototype,pz=LD.hasOwnProperty,mz=LD.toString,Cu=NA?NA.toStringTag:void 0;function gz(t){var e=pz.call(t,Cu),n=t[Cu];try{t[Cu]=void 0;var r=!0}catch{}var i=mz.call(t);return r&&(e?t[Cu]=n:delete t[Cu]),i}var yz=gz,vz=Object.prototype,xz=vz.toString;function _z(t){return xz.call(t)}var wz=_z,kA=Jd,bz=yz,Ez=wz,Tz="[object Null]",Sz="[object Undefined]",RA=kA?kA.toStringTag:void 0;function Az(t){return t==null?t===void 0?Sz:Tz:RA&&RA in Object(t)?bz(t):Ez(t)}var Bi=Az;function Iz(t){return t!=null&&typeof t=="object"}var Gi=Iz,Cz=Bi,Pz=Gi,Nz="[object Symbol]";function kz(t){return typeof t=="symbol"||Pz(t)&&Cz(t)==Nz}var Gl=kz,Rz=Ln,Mz=Gl,Oz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dz=/^\w*$/;function Lz(t,e){if(Rz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Mz(t)?!0:Dz.test(t)||!Oz.test(t)||e!=null&&t in Object(e)}var Qb=Lz;function $z(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bo=$z;const zl=Ze(Bo);var jz=Bi,Vz=Bo,Uz="[object AsyncFunction]",Fz="[object Function]",Bz="[object GeneratorFunction]",Gz="[object Proxy]";function zz(t){if(!Vz(t))return!1;var e=jz(t);return e==Fz||e==Bz||e==Uz||e==Gz}var Zb=zz;const Ie=Ze(Zb);var qz=ri,Hz=qz["__core-js_shared__"],Wz=Hz,hv=Wz,MA=function(){var t=/[^.]+$/.exec(hv&&hv.keys&&hv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Kz(t){return!!MA&&MA in t}var Jz=Kz,Yz=Function.prototype,Xz=Yz.toString;function Qz(t){if(t!=null){try{return Xz.call(t)}catch{}try{return t+""}catch{}}return""}var $D=Qz,Zz=Zb,eq=Jz,tq=Bo,nq=$D,rq=/[\\^$.*+?()[\]{}|]/g,iq=/^\[object .+?Constructor\]$/,oq=Function.prototype,sq=Object.prototype,aq=oq.toString,lq=sq.hasOwnProperty,uq=RegExp("^"+aq.call(lq).replace(rq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cq(t){if(!tq(t)||eq(t))return!1;var e=Zz(t)?uq:iq;return e.test(nq(t))}var dq=cq;function fq(t,e){return t==null?void 0:t[e]}var hq=fq,pq=dq,mq=hq;function gq(t,e){var n=mq(t,e);return pq(n)?n:void 0}var Hs=gq,yq=Hs,vq=yq(Object,"create"),vg=vq,OA=vg;function xq(){this.__data__=OA?OA(null):{},this.size=0}var _q=xq;function wq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bq=wq,Eq=vg,Tq="__lodash_hash_undefined__",Sq=Object.prototype,Aq=Sq.hasOwnProperty;function Iq(t){var e=this.__data__;if(Eq){var n=e[t];return n===Tq?void 0:n}return Aq.call(e,t)?e[t]:void 0}var Cq=Iq,Pq=vg,Nq=Object.prototype,kq=Nq.hasOwnProperty;function Rq(t){var e=this.__data__;return Pq?e[t]!==void 0:kq.call(e,t)}var Mq=Rq,Oq=vg,Dq="__lodash_hash_undefined__";function Lq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oq&&e===void 0?Dq:e,this}var $q=Lq,jq=_q,Vq=bq,Uq=Cq,Fq=Mq,Bq=$q;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=jq;ql.prototype.delete=Vq;ql.prototype.get=Uq;ql.prototype.has=Fq;ql.prototype.set=Bq;var Gq=ql;function zq(){this.__data__=[],this.size=0}var qq=zq;function Hq(t,e){return t===e||t!==t&&e!==e}var eE=Hq,Wq=eE;function Kq(t,e){for(var n=t.length;n--;)if(Wq(t[n][0],e))return n;return-1}var xg=Kq,Jq=xg,Yq=Array.prototype,Xq=Yq.splice;function Qq(t){var e=this.__data__,n=Jq(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xq.call(e,n,1),--this.size,!0}var Zq=Qq,eH=xg;function tH(t){var e=this.__data__,n=eH(e,t);return n<0?void 0:e[n][1]}var nH=tH,rH=xg;function iH(t){return rH(this.__data__,t)>-1}var oH=iH,sH=xg;function aH(t,e){var n=this.__data__,r=sH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lH=aH,uH=qq,cH=Zq,dH=nH,fH=oH,hH=lH;function Hl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hl.prototype.clear=uH;Hl.prototype.delete=cH;Hl.prototype.get=dH;Hl.prototype.has=fH;Hl.prototype.set=hH;var _g=Hl,pH=Hs,mH=ri,gH=pH(mH,"Map"),tE=gH,DA=Gq,yH=_g,vH=tE;function xH(){this.size=0,this.__data__={hash:new DA,map:new(vH||yH),string:new DA}}var _H=xH;function wH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bH=wH,EH=bH;function TH(t,e){var n=t.__data__;return EH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var wg=TH,SH=wg;function AH(t){var e=SH(this,t).delete(t);return this.size-=e?1:0,e}var IH=AH,CH=wg;function PH(t){return CH(this,t).get(t)}var NH=PH,kH=wg;function RH(t){return kH(this,t).has(t)}var MH=RH,OH=wg;function DH(t,e){var n=OH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var LH=DH,$H=_H,jH=IH,VH=NH,UH=MH,FH=LH;function Wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wl.prototype.clear=$H;Wl.prototype.delete=jH;Wl.prototype.get=VH;Wl.prototype.has=UH;Wl.prototype.set=FH;var nE=Wl,jD=nE,BH="Expected a function";function rE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(rE.Cache||jD),n}rE.Cache=jD;var VD=rE;const GH=Ze(VD);var zH=VD,qH=500;function HH(t){var e=zH(t,function(r){return n.size===qH&&n.clear(),r}),n=e.cache;return e}var WH=HH,KH=WH,JH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YH=/\\(\\)?/g,XH=KH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JH,function(n,r,i,o){e.push(i?o.replace(YH,"$1"):r||n)}),e}),QH=XH;function ZH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var iE=ZH,LA=Jd,eW=iE,tW=Ln,nW=Gl,$A=LA?LA.prototype:void 0,jA=$A?$A.toString:void 0;function UD(t){if(typeof t=="string")return t;if(tW(t))return eW(t,UD)+"";if(nW(t))return jA?jA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var rW=UD,iW=rW;function oW(t){return t==null?"":iW(t)}var FD=oW,sW=Ln,aW=Qb,lW=QH,uW=FD;function cW(t,e){return sW(t)?t:aW(t,e)?[t]:lW(uW(t))}var BD=cW,dW=Gl;function fW(t){if(typeof t=="string"||dW(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bg=fW,hW=BD,pW=bg;function mW(t,e){e=hW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pW(e[n++])];return n&&n==r?t:void 0}var oE=mW,gW=oE;function yW(t,e,n){var r=t==null?void 0:gW(t,e);return r===void 0?n:r}var GD=yW;const ur=Ze(GD);function vW(t){return t==null}var xW=vW;const Re=Ze(xW);var _W=Bi,wW=Ln,bW=Gi,EW="[object String]";function TW(t){return typeof t=="string"||!wW(t)&&bW(t)&&_W(t)==EW}var SW=TW;const Ds=Ze(SW);var zD={exports:{}},Ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=Symbol.for("react.element"),aE=Symbol.for("react.portal"),Eg=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Ag=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),AW=Symbol.for("react.server_context"),Cg=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),kg=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),IW=Symbol.for("react.offscreen"),qD;qD=Symbol.for("react.module.reference");function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sE:switch(t=t.type,t){case Eg:case Sg:case Tg:case Pg:case Ng:return t;default:switch(t=t&&t.$$typeof,t){case AW:case Ig:case Cg:case Rg:case kg:case Ag:return t;default:return e}}case aE:return e}}}Ke.ContextConsumer=Ig;Ke.ContextProvider=Ag;Ke.Element=sE;Ke.ForwardRef=Cg;Ke.Fragment=Eg;Ke.Lazy=Rg;Ke.Memo=kg;Ke.Portal=aE;Ke.Profiler=Sg;Ke.StrictMode=Tg;Ke.Suspense=Pg;Ke.SuspenseList=Ng;Ke.isAsyncMode=function(){return!1};Ke.isConcurrentMode=function(){return!1};Ke.isContextConsumer=function(t){return gr(t)===Ig};Ke.isContextProvider=function(t){return gr(t)===Ag};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sE};Ke.isForwardRef=function(t){return gr(t)===Cg};Ke.isFragment=function(t){return gr(t)===Eg};Ke.isLazy=function(t){return gr(t)===Rg};Ke.isMemo=function(t){return gr(t)===kg};Ke.isPortal=function(t){return gr(t)===aE};Ke.isProfiler=function(t){return gr(t)===Sg};Ke.isStrictMode=function(t){return gr(t)===Tg};Ke.isSuspense=function(t){return gr(t)===Pg};Ke.isSuspenseList=function(t){return gr(t)===Ng};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Eg||t===Sg||t===Tg||t===Pg||t===Ng||t===IW||typeof t=="object"&&t!==null&&(t.$$typeof===Rg||t.$$typeof===kg||t.$$typeof===Ag||t.$$typeof===Ig||t.$$typeof===Cg||t.$$typeof===qD||t.getModuleId!==void 0)};Ke.typeOf=gr;zD.exports=Ke;var CW=zD.exports,PW=Bi,NW=Gi,kW="[object Number]";function RW(t){return typeof t=="number"||NW(t)&&PW(t)==kW}var HD=RW;const MW=Ze(HD);var OW=HD;function DW(t){return OW(t)&&t!=+t}var LW=DW;const Kl=Ze(LW);var Cr=function(e){return e===0?0:e>0?1:-1},ps=function(e){return Ds(e)&&e.indexOf("%")===e.length-1},ne=function(e){return MW(e)&&!Kl(e)},$W=function(e){return Re(e)},Rt=function(e){return ne(e)||Ds(e)},jW=0,Yd=function(e){var n=++jW;return"".concat(e||"").concat(n)},Ls=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!Ds(e))return r;var o;if(ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Kl(o)&&(o=r),i&&o>n&&(o=n),o},uo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},VW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},or=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function Sp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var UW=function(e,n){return ne(e)&&ne(n)?e-n:Ds(e)&&Ds(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}var FW=["viewBox","children"],BW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VA=["points","pathLength"],pv={svg:FW,polygon:VA,polyline:VA},lE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ap=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!zl(r))return null;var i={};return Object.keys(r).forEach(function(o){lE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},GW=function(e,n,r){return function(i){return e(n,r,i),null}},Ip=function(e,n,r){if(!zl(e)||fx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];lE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=GW(s,n,r))}),i},zW=["children"],qW=["children"];function UA(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}var FA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},BA=null,mv=null,uE=function t(e){if(e===BA&&Array.isArray(mv))return mv;var n=[];return j.Children.forEach(e,function(r){Re(r)||(CW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mv=n,BA=e,n};function kr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wi(i)}):r=[wi(e)],uE(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Un(t,e){var n=kr(t,e);return n&&n[0]}var GA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},WW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KW=function(e){return e&&e.type&&Ds(e.type)&&WW.indexOf(e.type)>=0},JW=function(e){return e&&hx(e)==="object"&&"clipDot"in e},YW=function(e,n,r,i){var o,s=(o=pv==null?void 0:pv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ie(e)&&(i&&s.includes(n)||BW.includes(n))||r&&lE.includes(n)},Pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!zl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;YW((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},px=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return zA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!zA(o,s))return!1}return!0},zA=function(e,n){if(Re(e)&&Re(n))return!0;if(!Re(e)&&!Re(n)){var r=e.props||{},i=r.children,o=UA(r,zW),s=n.props||{},a=s.children,l=UA(s,qW);return i&&a?Fa(o,l)&&px(i,a):!i&&!a?Fa(o,l):!1}return!1},qA=function(e,n){var r=[],i={};return uE(e).forEach(function(o,s){if(KW(o))r.push(o);else if(o){var a=wi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},XW=function(e){var n=e&&e.type;return n&&FA[n]?FA[n]:null},QW=function(e,n){return uE(n).indexOf(e)},ZW=["children","width","height","viewBox","className","style","title","desc"];function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(this,arguments)}function e7(t,e){if(t==null)return{};var n=t7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=e7(t,ZW),c=i||{width:n,height:r,x:0,y:0},d=je("recharts-surface",o);return $.createElement("svg",mx({},Pe(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var n7=["children","className"];function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(this,arguments)}function r7(t,e){if(t==null)return{};var n=i7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pt=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=r7(t,n7),o=je("recharts-layer",r);return $.createElement("g",yx({className:o},Pe(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function o7(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var s7=o7,a7=s7;function l7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:a7(t,e,n)}var u7=l7,c7="\\ud800-\\udfff",d7="\\u0300-\\u036f",f7="\\ufe20-\\ufe2f",h7="\\u20d0-\\u20ff",p7=d7+f7+h7,m7="\\ufe0e\\ufe0f",g7="\\u200d",y7=RegExp("["+g7+c7+p7+m7+"]");function v7(t){return y7.test(t)}var WD=v7;function x7(t){return t.split("")}var _7=x7,KD="\\ud800-\\udfff",w7="\\u0300-\\u036f",b7="\\ufe20-\\ufe2f",E7="\\u20d0-\\u20ff",T7=w7+b7+E7,S7="\\ufe0e\\ufe0f",A7="["+KD+"]",vx="["+T7+"]",xx="\\ud83c[\\udffb-\\udfff]",I7="(?:"+vx+"|"+xx+")",JD="[^"+KD+"]",YD="(?:\\ud83c[\\udde6-\\uddff]){2}",XD="[\\ud800-\\udbff][\\udc00-\\udfff]",C7="\\u200d",QD=I7+"?",ZD="["+S7+"]?",P7="(?:"+C7+"(?:"+[JD,YD,XD].join("|")+")"+ZD+QD+")*",N7=ZD+QD+P7,k7="(?:"+[JD+vx+"?",vx,YD,XD,A7].join("|")+")",R7=RegExp(xx+"(?="+xx+")|"+k7+N7,"g");function M7(t){return t.match(R7)||[]}var O7=M7,D7=_7,L7=WD,$7=O7;function j7(t){return L7(t)?$7(t):D7(t)}var V7=j7,U7=u7,F7=WD,B7=V7,G7=FD;function z7(t){return function(e){e=G7(e);var n=F7(e)?B7(e):void 0,r=n?n[0]:e.charAt(0),i=n?U7(n,1).join(""):e.slice(1);return r[t]()+i}}var q7=z7,H7=q7,W7=H7("toUpperCase"),K7=W7;const Mg=Ze(K7);function et(t){return function(){return t}}const eL=Math.cos,Cp=Math.sin,Lr=Math.sqrt,Pp=Math.PI,Og=2*Pp,_x=Math.PI,wx=2*_x,ss=1e-6,J7=wx-ss;function tL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Y7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tL:Y7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ss)if(!(Math.abs(d*l-u*c)>ss)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,w=l*l+u*u,x=y*y+v*v,_=Math.sqrt(w),b=Math.sqrt(h),T=o*Math.tan((_x-Math.acos((w+h-x)/(2*_*b)))/2),N=T/b,A=T/_;Math.abs(N-1)>ss&&this._append`L${e+N*c},${n+N*d}`,this._append`A${o},${o},0,0,${+(d*y>c*v)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ss||Math.abs(this._y1-c)>ss)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%wx+wx),h>J7?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>ss&&this._append`A${r},${r},0,${+(h>=_x)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X7(e)}function dE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dg(t){return new nL(t)}function rL(t){return t[0]}function iL(t){return t[1]}function oL(t,e){var n=et(!0),r=null,i=Dg,o=null,s=cE(a);t=typeof t=="function"?t:t===void 0?rL:et(t),e=typeof e=="function"?e:e===void 0?iL:et(e);function a(l){var u,c=(l=dE(l)).length,d,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:et(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:et(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:et(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Jf(t,e,n){var r=null,i=et(!0),o=null,s=Dg,a=null,l=cE(u);t=typeof t=="function"?t:t===void 0?rL:et(+t),e=typeof e=="function"?e:et(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?iL:et(+n);function u(d){var h,y,v,w=(d=dE(d)).length,x,_=!1,b,T=new Array(w),N=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(x=d[h],h,d))===_)if(_=!_)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(T[v],N[v]);a.lineEnd(),a.areaEnd()}_&&(T[h]=+t(x,h,d),N[h]=+e(x,h,d),a.point(r?+r(x,h,d):T[h],n?+n(x,h,d):N[h]))}if(b)return a=null,b+""||null}function c(){return oL().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:et(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:et(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:et(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:et(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:et(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:et(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:et(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class sL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Q7(t){return new sL(t,!0)}function Z7(t){return new sL(t,!1)}const fE={draw(t,e){const n=Lr(e/Pp);t.moveTo(n,0),t.arc(0,0,n,0,Og)}},eK={draw(t,e){const n=Lr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},aL=Lr(1/3),tK=aL*2,nK={draw(t,e){const n=Lr(e/tK),r=n*aL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rK={draw(t,e){const n=Lr(e),r=-n/2;t.rect(r,r,n,n)}},iK=.8908130915292852,lL=Cp(Pp/10)/Cp(7*Pp/10),oK=Cp(Og/10)*lL,sK=-eL(Og/10)*lL,aK={draw(t,e){const n=Lr(e*iK),r=oK*n,i=sK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Og*o/5,a=eL(s),l=Cp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},gv=Lr(3),lK={draw(t,e){const n=-Lr(e/(gv*3));t.moveTo(0,n*2),t.lineTo(-gv*n,-n),t.lineTo(gv*n,-n),t.closePath()}},Zn=-.5,er=Lr(3)/2,bx=1/Lr(12),uK=(bx/2+1)*3,cK={draw(t,e){const n=Lr(e/uK),r=n/2,i=n*bx,o=r,s=n*bx+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Zn*r-er*i,er*r+Zn*i),t.lineTo(Zn*o-er*s,er*o+Zn*s),t.lineTo(Zn*a-er*l,er*a+Zn*l),t.lineTo(Zn*r+er*i,Zn*i-er*r),t.lineTo(Zn*o+er*s,Zn*s-er*o),t.lineTo(Zn*a+er*l,Zn*l-er*a),t.closePath()}};function dK(t,e){let n=null,r=cE(i);t=typeof t=="function"?t:et(t||fE),e=typeof e=="function"?e:et(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:et(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:et(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Np(){}function kp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uL(t){this._context=t}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fK(t){return new uL(t)}function cL(t){this._context=t}cL.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hK(t){return new cL(t)}function dL(t){this._context=t}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pK(t){return new dL(t)}function fL(t){this._context=t}fL.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mK(t){return new fL(t)}function HA(t){return t<0?-1:1}function WA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(HA(o)+HA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function KA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Rp(t){this._context=t}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yv(this,this._t0,KA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yv(this,KA(this,n=WA(this,t,e)),n);break;default:yv(this,this._t0,n=WA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function hL(t){this._context=new pL(t)}(hL.prototype=Object.create(Rp.prototype)).point=function(t,e){Rp.prototype.point.call(this,e,t)};function pL(t){this._context=t}pL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function gK(t){return new Rp(t)}function yK(t){return new hL(t)}function mL(t){this._context=t}mL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JA(t),i=JA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function vK(t){return new mL(t)}function Lg(t,e){this._context=t,this._t=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xK(t){return new Lg(t,.5)}function _K(t){return new Lg(t,0)}function wK(t){return new Lg(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ex(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bK(t,e){return t[e]}function EK(t){const e=[];return e.key=t,e}function TK(){var t=et([]),e=Ex,n=fl,r=bK;function i(o){var s=Array.from(t.apply(this,arguments),EK),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=dE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:et(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:et(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ex:typeof o=="function"?o:et(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fl,i):n},i}function SK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function AK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fl(t,e)}}function IK(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,y=(d-h)/2,v=0;v<a;++v){var w=t[e[v]],x=w[r][1]||0,_=w[r-1][1]||0;y+=x-_}l+=d,u+=y*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var CK=["type","size","sizeType"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(this,arguments)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){PK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e,n){return e=NK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NK(t){var e=kK(t,"string");return zc(e)=="symbol"?e:e+""}function kK(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RK(t,e){if(t==null)return{};var n=MK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gL={symbolCircle:fE,symbolCross:eK,symbolDiamond:nK,symbolSquare:rK,symbolStar:aK,symbolTriangle:lK,symbolWye:cK},OK=Math.PI/180,DK=function(e){var n="symbol".concat(Mg(e));return gL[n]||fE},LK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*OK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$K=function(e,n){gL["symbol".concat(Mg(e))]=n},hE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=RK(e,CK),u=XA(XA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=DK(r),_=dK().type(x).size(LK(o,a,r));return _()},d=u.className,h=u.cx,y=u.cy,v=Pe(u,!0);return h===+h&&y===+y&&o===+o?$.createElement("path",Tx({},v,{className:je("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};hE.registerSymbol=$K;function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(this,arguments)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){qc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vL(r.key),r)}}function FK(t,e,n){return e&&UK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BK(t,e,n){return e=Mp(e),GK(t,yL()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function GK(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zK(t)}function zK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function qK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ax(t,e)}function qc(t,e,n){return e=vL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t){var e=HK(t,"string");return hl(e)=="symbol"?e:e+""}function HK(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tr=32,pE=function(t){function e(){return VK(this,e),BK(this,e,arguments)}return qK(e,t),FK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=tr/2,s=tr/6,a=tr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:tr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(tr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tr/8,"h").concat(tr,"v").concat(tr*3/4,"h").concat(-tr,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=jK({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(hE,{fill:l,cx:o,cy:o,size:tr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:tr,height:tr},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var w=y.formatter||l,x=je(qc(qc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=Ie(y.value)?null:y.value;bi(!Ie(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return $.createElement("li",Sx({className:x,style:d,key:"legend-item-".concat(v)},Ip(r.props,y,v)),$.createElement(gx,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w?w(_,y,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(j.PureComponent);qc(pE,"displayName","Legend");qc(pE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WK=_g;function KK(){this.__data__=new WK,this.size=0}var JK=KK;function YK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var XK=YK;function QK(t){return this.__data__.get(t)}var ZK=QK;function eJ(t){return this.__data__.has(t)}var tJ=eJ,nJ=_g,rJ=tE,iJ=nE,oJ=200;function sJ(t,e){var n=this.__data__;if(n instanceof nJ){var r=n.__data__;if(!rJ||r.length<oJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new iJ(r)}return n.set(t,e),this.size=n.size,this}var aJ=sJ,lJ=_g,uJ=JK,cJ=XK,dJ=ZK,fJ=tJ,hJ=aJ;function Jl(t){var e=this.__data__=new lJ(t);this.size=e.size}Jl.prototype.clear=uJ;Jl.prototype.delete=cJ;Jl.prototype.get=dJ;Jl.prototype.has=fJ;Jl.prototype.set=hJ;var xL=Jl,pJ="__lodash_hash_undefined__";function mJ(t){return this.__data__.set(t,pJ),this}var gJ=mJ;function yJ(t){return this.__data__.has(t)}var vJ=yJ,xJ=nE,_J=gJ,wJ=vJ;function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xJ;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=_J;Op.prototype.has=wJ;var _L=Op;function bJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var wL=bJ;function EJ(t,e){return t.has(e)}var bL=EJ,TJ=_L,SJ=wL,AJ=bL,IJ=1,CJ=2;function PJ(t,e,n,r,i,o){var s=n&IJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,y=n&CJ?new TJ:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var v=t[d],w=e[d];if(r)var x=s?r(w,v,d,e,t,o):r(v,w,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!SJ(e,function(_,b){if(!AJ(y,b)&&(v===_||i(v,_,n,r,o)))return y.push(b)})){h=!1;break}}else if(!(v===w||i(v,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var EL=PJ,NJ=ri,kJ=NJ.Uint8Array,RJ=kJ;function MJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var OJ=MJ;function DJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var mE=DJ,ZA=Jd,eI=RJ,LJ=eE,$J=EL,jJ=OJ,VJ=mE,UJ=1,FJ=2,BJ="[object Boolean]",GJ="[object Date]",zJ="[object Error]",qJ="[object Map]",HJ="[object Number]",WJ="[object RegExp]",KJ="[object Set]",JJ="[object String]",YJ="[object Symbol]",XJ="[object ArrayBuffer]",QJ="[object DataView]",tI=ZA?ZA.prototype:void 0,vv=tI?tI.valueOf:void 0;function ZJ(t,e,n,r,i,o,s){switch(n){case QJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XJ:return!(t.byteLength!=e.byteLength||!o(new eI(t),new eI(e)));case BJ:case GJ:case HJ:return LJ(+t,+e);case zJ:return t.name==e.name&&t.message==e.message;case WJ:case JJ:return t==e+"";case qJ:var a=jJ;case KJ:var l=r&UJ;if(a||(a=VJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=FJ,s.set(t,e);var c=$J(a(t),a(e),r,i,o,s);return s.delete(t),c;case YJ:if(vv)return vv.call(t)==vv.call(e)}return!1}var eY=ZJ;function tY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var TL=tY,nY=TL,rY=Ln;function iY(t,e,n){var r=e(t);return rY(t)?r:nY(r,n(t))}var oY=iY;function sY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var aY=sY;function lY(){return[]}var uY=lY,cY=aY,dY=uY,fY=Object.prototype,hY=fY.propertyIsEnumerable,nI=Object.getOwnPropertySymbols,pY=nI?function(t){return t==null?[]:(t=Object(t),cY(nI(t),function(e){return hY.call(t,e)}))}:dY,mY=pY;function gY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yY=gY,vY=Bi,xY=Gi,_Y="[object Arguments]";function wY(t){return xY(t)&&vY(t)==_Y}var bY=wY,rI=bY,EY=Gi,SL=Object.prototype,TY=SL.hasOwnProperty,SY=SL.propertyIsEnumerable,AY=rI(function(){return arguments}())?rI:function(t){return EY(t)&&TY.call(t,"callee")&&!SY.call(t,"callee")},gE=AY,Dp={exports:{}};function IY(){return!1}var CY=IY;Dp.exports;(function(t,e){var n=ri,r=CY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Dp,Dp.exports);var AL=Dp.exports,PY=9007199254740991,NY=/^(?:0|[1-9]\d*)$/;function kY(t,e){var n=typeof t;return e=e??PY,!!e&&(n=="number"||n!="symbol"&&NY.test(t))&&t>-1&&t%1==0&&t<e}var yE=kY,RY=9007199254740991;function MY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RY}var vE=MY,OY=Bi,DY=vE,LY=Gi,$Y="[object Arguments]",jY="[object Array]",VY="[object Boolean]",UY="[object Date]",FY="[object Error]",BY="[object Function]",GY="[object Map]",zY="[object Number]",qY="[object Object]",HY="[object RegExp]",WY="[object Set]",KY="[object String]",JY="[object WeakMap]",YY="[object ArrayBuffer]",XY="[object DataView]",QY="[object Float32Array]",ZY="[object Float64Array]",eX="[object Int8Array]",tX="[object Int16Array]",nX="[object Int32Array]",rX="[object Uint8Array]",iX="[object Uint8ClampedArray]",oX="[object Uint16Array]",sX="[object Uint32Array]",st={};st[QY]=st[ZY]=st[eX]=st[tX]=st[nX]=st[rX]=st[iX]=st[oX]=st[sX]=!0;st[$Y]=st[jY]=st[YY]=st[VY]=st[XY]=st[UY]=st[FY]=st[BY]=st[GY]=st[zY]=st[qY]=st[HY]=st[WY]=st[KY]=st[JY]=!1;function aX(t){return LY(t)&&DY(t.length)&&!!st[OY(t)]}var lX=aX;function uX(t){return function(e){return t(e)}}var IL=uX,Lp={exports:{}};Lp.exports;(function(t,e){var n=DD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Lp,Lp.exports);var cX=Lp.exports,dX=lX,fX=IL,iI=cX,oI=iI&&iI.isTypedArray,hX=oI?fX(oI):dX,CL=hX,pX=yY,mX=gE,gX=Ln,yX=AL,vX=yE,xX=CL,_X=Object.prototype,wX=_X.hasOwnProperty;function bX(t,e){var n=gX(t),r=!n&&mX(t),i=!n&&!r&&yX(t),o=!n&&!r&&!i&&xX(t),s=n||r||i||o,a=s?pX(t.length,String):[],l=a.length;for(var u in t)(e||wX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vX(u,l)))&&a.push(u);return a}var EX=bX,TX=Object.prototype;function SX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TX;return t===n}var AX=SX;function IX(t,e){return function(n){return t(e(n))}}var PL=IX,CX=PL,PX=CX(Object.keys,Object),NX=PX,kX=AX,RX=NX,MX=Object.prototype,OX=MX.hasOwnProperty;function DX(t){if(!kX(t))return RX(t);var e=[];for(var n in Object(t))OX.call(t,n)&&n!="constructor"&&e.push(n);return e}var LX=DX,$X=Zb,jX=vE;function VX(t){return t!=null&&jX(t.length)&&!$X(t)}var Xd=VX,UX=EX,FX=LX,BX=Xd;function GX(t){return BX(t)?UX(t):FX(t)}var $g=GX,zX=oY,qX=mY,HX=$g;function WX(t){return zX(t,HX,qX)}var KX=WX,sI=KX,JX=1,YX=Object.prototype,XX=YX.hasOwnProperty;function QX(t,e,n,r,i,o){var s=n&JX,a=sI(t),l=a.length,u=sI(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:XX.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var w=!0;o.set(t,e),o.set(e,t);for(var x=s;++d<l;){h=a[d];var _=t[h],b=e[h];if(r)var T=s?r(b,_,h,e,t,o):r(_,b,h,t,e,o);if(!(T===void 0?_===b||i(_,b,n,r,o):T)){w=!1;break}x||(x=h=="constructor")}if(w&&!x){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return o.delete(t),o.delete(e),w}var ZX=QX,eQ=Hs,tQ=ri,nQ=eQ(tQ,"DataView"),rQ=nQ,iQ=Hs,oQ=ri,sQ=iQ(oQ,"Promise"),aQ=sQ,lQ=Hs,uQ=ri,cQ=lQ(uQ,"Set"),NL=cQ,dQ=Hs,fQ=ri,hQ=dQ(fQ,"WeakMap"),pQ=hQ,Ix=rQ,Cx=tE,Px=aQ,Nx=NL,kx=pQ,kL=Bi,Yl=$D,aI="[object Map]",mQ="[object Object]",lI="[object Promise]",uI="[object Set]",cI="[object WeakMap]",dI="[object DataView]",gQ=Yl(Ix),yQ=Yl(Cx),vQ=Yl(Px),xQ=Yl(Nx),_Q=Yl(kx),as=kL;(Ix&&as(new Ix(new ArrayBuffer(1)))!=dI||Cx&&as(new Cx)!=aI||Px&&as(Px.resolve())!=lI||Nx&&as(new Nx)!=uI||kx&&as(new kx)!=cI)&&(as=function(t){var e=kL(t),n=e==mQ?t.constructor:void 0,r=n?Yl(n):"";if(r)switch(r){case gQ:return dI;case yQ:return aI;case vQ:return lI;case xQ:return uI;case _Q:return cI}return e});var wQ=as,xv=xL,bQ=EL,EQ=eY,TQ=ZX,fI=wQ,hI=Ln,pI=AL,SQ=CL,AQ=1,mI="[object Arguments]",gI="[object Array]",Yf="[object Object]",IQ=Object.prototype,yI=IQ.hasOwnProperty;function CQ(t,e,n,r,i,o){var s=hI(t),a=hI(e),l=s?gI:fI(t),u=a?gI:fI(e);l=l==mI?Yf:l,u=u==mI?Yf:u;var c=l==Yf,d=u==Yf,h=l==u;if(h&&pI(t)){if(!pI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new xv),s||SQ(t)?bQ(t,e,n,r,i,o):EQ(t,e,l,n,r,i,o);if(!(n&AQ)){var y=c&&yI.call(t,"__wrapped__"),v=d&&yI.call(e,"__wrapped__");if(y||v){var w=y?t.value():t,x=v?e.value():e;return o||(o=new xv),i(w,x,n,r,o)}}return h?(o||(o=new xv),TQ(t,e,n,r,i,o)):!1}var PQ=CQ,NQ=PQ,vI=Gi;function RL(t,e,n,r,i){return t===e?!0:t==null||e==null||!vI(t)&&!vI(e)?t!==t&&e!==e:NQ(t,e,n,r,RL,i)}var xE=RL,kQ=xL,RQ=xE,MQ=1,OQ=2;function DQ(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new kQ;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?RQ(c,u,MQ|OQ,r,d):h))return!1}}return!0}var LQ=DQ,$Q=Bo;function jQ(t){return t===t&&!$Q(t)}var ML=jQ,VQ=ML,UQ=$g;function FQ(t){for(var e=UQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,VQ(i)]}return e}var BQ=FQ;function GQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var OL=GQ,zQ=LQ,qQ=BQ,HQ=OL;function WQ(t){var e=qQ(t);return e.length==1&&e[0][2]?HQ(e[0][0],e[0][1]):function(n){return n===t||zQ(n,t,e)}}var KQ=WQ;function JQ(t,e){return t!=null&&e in Object(t)}var YQ=JQ,XQ=BD,QQ=gE,ZQ=Ln,eZ=yE,tZ=vE,nZ=bg;function rZ(t,e,n){e=XQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=nZ(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&tZ(i)&&eZ(s,i)&&(ZQ(t)||QQ(t)))}var iZ=rZ,oZ=YQ,sZ=iZ;function aZ(t,e){return t!=null&&sZ(t,e,oZ)}var lZ=aZ,uZ=xE,cZ=GD,dZ=lZ,fZ=Qb,hZ=ML,pZ=OL,mZ=bg,gZ=1,yZ=2;function vZ(t,e){return fZ(t)&&hZ(e)?pZ(mZ(t),e):function(n){var r=cZ(n,t);return r===void 0&&r===e?dZ(n,t):uZ(e,r,gZ|yZ)}}var xZ=vZ;function _Z(t){return t}var Xl=_Z;function wZ(t){return function(e){return e==null?void 0:e[t]}}var bZ=wZ,EZ=oE;function TZ(t){return function(e){return EZ(e,t)}}var SZ=TZ,AZ=bZ,IZ=SZ,CZ=Qb,PZ=bg;function NZ(t){return CZ(t)?AZ(PZ(t)):IZ(t)}var kZ=NZ,RZ=KQ,MZ=xZ,OZ=Xl,DZ=Ln,LZ=kZ;function $Z(t){return typeof t=="function"?t:t==null?OZ:typeof t=="object"?DZ(t)?MZ(t[0],t[1]):RZ(t):LZ(t)}var Go=$Z;function jZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var DL=jZ;function VZ(t){return t!==t}var UZ=VZ;function FZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var BZ=FZ,GZ=DL,zZ=UZ,qZ=BZ;function HZ(t,e,n){return e===e?qZ(t,e,n):GZ(t,zZ,n)}var WZ=HZ,KZ=WZ;function JZ(t,e){var n=t==null?0:t.length;return!!n&&KZ(t,e,0)>-1}var YZ=JZ;function XZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var QZ=XZ;function ZZ(){}var eee=ZZ,_v=NL,tee=eee,nee=mE,ree=1/0,iee=_v&&1/nee(new _v([,-0]))[1]==ree?function(t){return new _v(t)}:tee,oee=iee,see=_L,aee=YZ,lee=QZ,uee=bL,cee=oee,dee=mE,fee=200;function hee(t,e,n){var r=-1,i=aee,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=lee;else if(o>=fee){var u=e?null:cee(t);if(u)return dee(u);s=!1,i=uee,l=new see}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var pee=hee,mee=Go,gee=pee;function yee(t,e){return t&&t.length?gee(t,mee(e)):[]}var vee=yee;const xI=Ze(vee);function LL(t,e,n){return e===!0?xI(t,n):Ie(e)?xI(t,e):t}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}var xee=["ref"];function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jL(r.key),r)}}function wee(t,e,n){return e&&wI(t.prototype,e),n&&wI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bee(t,e,n){return e=$p(e),Eee(t,$L()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function Eee(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(t)}function Tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function See(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rx(t,e)}function Rx(t,e){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rx(t,e)}function jg(t,e,n){return e=jL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jL(t){var e=Aee(t,"string");return pl(e)=="symbol"?e:e+""}function Aee(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iee(t,e){if(t==null)return{};var n=Cee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pee(t){return t.value}function Nee(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Iee(e,xee);return $.createElement(pE,n)}var bI=1,Ba=function(t){function e(){var n;_ee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bee(this,e,[].concat(i)),jg(n,"lastBoundingBox",{width:-1,height:-1}),n}return See(e,t),wee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bI||Math.abs(i.height-this.lastBoundingBox.height)>bI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return li(li({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=li(li({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},Nee(o,li(li({},this.props),{},{payload:LL(c,u,Pee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=li(li({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ne(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);jg(Ba,"displayName","Legend");jg(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EI=Jd,kee=gE,Ree=Ln,TI=EI?EI.isConcatSpreadable:void 0;function Mee(t){return Ree(t)||kee(t)||!!(TI&&t&&t[TI])}var Oee=Mee,Dee=TL,Lee=Oee;function VL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Lee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?VL(a,e-1,n,r,i):Dee(i,a):r||(i[i.length]=a)}return i}var UL=VL;function $ee(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var jee=$ee,Vee=jee,Uee=Vee(),Fee=Uee,Bee=Fee,Gee=$g;function zee(t,e){return t&&Bee(t,e,Gee)}var FL=zee,qee=Xd;function Hee(t,e){return function(n,r){if(n==null)return n;if(!qee(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Wee=Hee,Kee=FL,Jee=Wee,Yee=Jee(Kee),_E=Yee,Xee=_E,Qee=Xd;function Zee(t,e){var n=-1,r=Qee(t)?Array(t.length):[];return Xee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var BL=Zee;function ete(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var tte=ete,SI=Gl;function nte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=SI(t),s=e!==void 0,a=e===null,l=e===e,u=SI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var rte=nte,ite=rte;function ote(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=ite(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ste=ote,wv=iE,ate=oE,lte=Go,ute=BL,cte=tte,dte=IL,fte=ste,hte=Xl,pte=Ln;function mte(t,e,n){e.length?e=wv(e,function(o){return pte(o)?function(s){return ate(s,o.length===1?o[0]:o)}:o}):e=[hte];var r=-1;e=wv(e,dte(lte));var i=ute(t,function(o,s,a){var l=wv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return cte(i,function(o,s){return fte(o,s,n)})}var gte=mte;function yte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vte=yte,xte=vte,AI=Math.max;function _te(t,e,n){return e=AI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=AI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),xte(t,this,a)}}var wte=_te;function bte(t){return function(){return t}}var Ete=bte,Tte=Hs,Ste=function(){try{var t=Tte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),GL=Ste,Ate=Ete,II=GL,Ite=Xl,Cte=II?function(t,e){return II(t,"toString",{configurable:!0,enumerable:!1,value:Ate(e),writable:!0})}:Ite,Pte=Cte,Nte=800,kte=16,Rte=Date.now;function Mte(t){var e=0,n=0;return function(){var r=Rte(),i=kte-(r-n);if(n=r,i>0){if(++e>=Nte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ote=Mte,Dte=Pte,Lte=Ote,$te=Lte(Dte),jte=$te,Vte=Xl,Ute=wte,Fte=jte;function Bte(t,e){return Fte(Ute(t,e,Vte),t+"")}var Gte=Bte,zte=eE,qte=Xd,Hte=yE,Wte=Bo;function Kte(t,e,n){if(!Wte(n))return!1;var r=typeof e;return(r=="number"?qte(n)&&Hte(e,n.length):r=="string"&&e in n)?zte(n[e],t):!1}var Vg=Kte,Jte=UL,Yte=gte,Xte=Gte,CI=Vg,Qte=Xte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&CI(t,e[0],e[1])?e=[]:n>2&&CI(e[0],e[1],e[2])&&(e=[e[0]]),Yte(t,Jte(e,1),[])}),Zte=Qte;const wE=Ze(Zte);function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(this,arguments)}function ene(t,e){return ine(t)||rne(t,e)||nne(t,e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t,e){if(t){if(typeof t=="string")return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(t,e)}}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ine(t){if(Array.isArray(t))return t}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return e=sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=ane(t,"string");return Hc(e)=="symbol"?e:e+""}function ane(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t){return Array.isArray(t)&&Rt(t[0])&&Rt(t[1])?t.join(" ~ "):t}var une=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,w=e.label,x=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,T=function(){if(c&&c.length){var D={padding:0,margin:0},O=(h?wE(c,h):c).map(function(F,B){if(F.type==="none")return null;var z=bv({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),W=F.formatter||d||lne,U=F.value,K=F.name,Y=U,oe=K;if(W&&Y!=null&&oe!=null){var Z=W(U,K,F,B,c);if(Array.isArray(Z)){var le=ene(Z,2);Y=le[0],oe=le[1]}else Y=Z}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:z},Rt(oe)?$.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Rt(oe)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Y),$.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},N=bv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=bv({margin:0},u),P=!Re(w),S=P?w:"",C=je("recharts-default-tooltip",y),I=je("recharts-tooltip-label",v);P&&x&&c!==void 0&&c!==null&&(S=x(w,c));var R=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Mx({className:C,style:N},R),$.createElement("p",{className:I,style:A},$.isValidElement(S)?S:"".concat(S)),T())};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Xf(t,e,n){return e=cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=dne(t,"string");return Wc(e)=="symbol"?e:e+""}function dne(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu="recharts-tooltip-wrapper",fne={visibility:"hidden"};function hne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return je(Pu,Xf(Xf(Xf(Xf({},"".concat(Pu,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat(Pu,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat(Pu,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat(Pu,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function kI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,y=l[r];return h<y?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+a,w=l[r]+u;return v>w?Math.max(c,l[r]):Math.max(d,l[r])}function pne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=kI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=kI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=pne({translateX:c,translateY:d,useTranslate3d:a})):u=fne,{cssProperties:u,cssClasses:hne({translateX:c,translateY:d,coordinate:n})}}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){Dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qL(r.key),r)}}function vne(t,e,n){return e&&yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,n){return e=jp(e),_ne(t,zL()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function _ne(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ox(t,e)}function Dx(t,e,n){return e=qL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qL(t){var e=Ene(t,"string");return ml(e)=="symbol"?e:e+""}function Ene(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OI=1,Tne=function(t){function e(){var n;gne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xne(this,e,[].concat(i)),Dx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dx(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return bne(e,t),vne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>OI||Math.abs(r.height-this.state.lastBoundingBox.height)>OI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,w=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,T=mne({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),N=T.cssClasses,A=T.cssProperties,P=MI(MI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(C){r.wrapperNode=C}},u)}}])}(j.PureComponent),Sne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ql={isSsr:Sne()};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ine(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WL(r.key),r)}}function Cne(t,e,n){return e&&Ine(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pne(t,e,n){return e=Vp(e),Nne(t,HL()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function Nne(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(t)}function kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function Rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function bE(t,e,n){return e=WL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WL(t){var e=Mne(t,"string");return gl(e)=="symbol"?e:e+""}function Mne(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function One(t){return t.dataKey}function Dne(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(une,e)}var nr=function(t){function e(){return Ane(this,e),Pne(this,e,arguments)}return Rne(e,t),Cne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,w=i.payloadUniqBy,x=i.position,_=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,N=i.wrapperStyle,A=v??[];d&&A.length&&(A=LL(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,One));var P=A.length>0;return $.createElement(Tne,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:y,position:x,reverseDirection:_,useTranslate3d:b,viewBox:T,wrapperStyle:N},Dne(u,LI(LI({},this.props),{},{payload:A})))}}])}(j.PureComponent);bE(nr,"displayName","Tooltip");bE(nr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ql.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lne=ri,$ne=function(){return Lne.Date.now()},jne=$ne,Vne=/\s/;function Une(t){for(var e=t.length;e--&&Vne.test(t.charAt(e)););return e}var Fne=Une,Bne=Fne,Gne=/^\s+/;function zne(t){return t&&t.slice(0,Bne(t)+1).replace(Gne,"")}var qne=zne,Hne=qne,$I=Bo,Wne=Gl,jI=NaN,Kne=/^[-+]0x[0-9a-f]+$/i,Jne=/^0b[01]+$/i,Yne=/^0o[0-7]+$/i,Xne=parseInt;function Qne(t){if(typeof t=="number")return t;if(Wne(t))return jI;if($I(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$I(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hne(t);var n=Jne.test(t);return n||Yne.test(t)?Xne(t.slice(2),n?2:8):Kne.test(t)?jI:+t}var KL=Qne,Zne=Bo,Ev=jne,VI=KL,ere="Expected a function",tre=Math.max,nre=Math.min;function rre(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(ere);e=VI(e)||0,Zne(n)&&(c=!!n.leading,d="maxWait"in n,o=d?tre(VI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(P){var S=r,C=i;return r=i=void 0,u=P,s=t.apply(C,S),s}function v(P){return u=P,a=setTimeout(_,e),c?y(P):s}function w(P){var S=P-l,C=P-u,I=e-S;return d?nre(I,o-C):I}function x(P){var S=P-l,C=P-u;return l===void 0||S>=e||S<0||d&&C>=o}function _(){var P=Ev();if(x(P))return b(P);a=setTimeout(_,w(P))}function b(P){return a=void 0,h&&r?y(P):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:b(Ev())}function A(){var P=Ev(),S=x(P);if(r=arguments,i=this,l=P,S){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),s}return A.cancel=T,A.flush=N,A}var ire=rre,ore=ire,sre=Bo,are="Expected a function";function lre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(are);return sre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ore(t,e,{leading:r,maxWait:e,trailing:i})}var ure=lre;const JL=Ze(ure);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return e=dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=fre(t,"string");return Kc(e)=="symbol"?e:e+""}function fre(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hre(t,e){return yre(t)||gre(t,e)||mre(t,e)||pre()}function pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function yre(t){if(Array.isArray(t))return t}var EE=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,w=v===void 0?0:v,x=t.id,_=t.className,b=t.onResize,T=t.style,N=T===void 0?{}:T,A=j.useRef(null),P=j.useRef();P.current=b,j.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=j.useState({containerWidth:i.width,containerHeight:i.height}),C=hre(S,2),I=C[0],R=C[1],M=j.useCallback(function(O,F){R(function(B){var z=Math.round(O),W=Math.round(F);return B.containerWidth===z&&B.containerHeight===W?B:{containerWidth:z,containerHeight:W}})},[]);j.useEffect(function(){var O=function(K){var Y,oe=K[0].contentRect,Z=oe.width,le=oe.height;M(Z,le),(Y=P.current)===null||Y===void 0||Y.call(P,Z,le)};w>0&&(O=JL(O,w,{trailing:!0,leading:!1}));var F=new ResizeObserver(O),B=A.current.getBoundingClientRect(),z=B.width,W=B.height;return M(z,W),F.observe(A.current),function(){F.disconnect()}},[M,w]);var D=j.useMemo(function(){var O=I.containerWidth,F=I.containerHeight;if(O<0||F<0)return null;bi(ps(s)||ps(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ps(s)?O:s,z=ps(l)?F:l;n&&n>0&&(B?z=B/n:z&&(B=z*n),h&&z>h&&(z=h)),bi(B>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,z,s,l,c,d,n);var W=!Array.isArray(y)&&wi(y.type).endsWith("Chart");return $.Children.map(y,function(U){return $.isValidElement(U)?j.cloneElement(U,Qf({width:B,height:z},W?{style:Qf({height:"100%",width:"100%",maxHeight:z,maxWidth:B},U.props.style)}:{})):U})},[n,y,l,h,d,c,I,s]);return $.createElement("div",{id:x?"".concat(x):void 0,className:je("recharts-responsive-container",_),style:Qf(Qf({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:A},D)}),YL=function(e){return null};YL.displayName="Cell";function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=_re(t,"string");return Jc(e)=="symbol"?e:e+""}function _re(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia={widthCache:{},cacheCount:0},wre=2e3,bre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GI="recharts_measurement_span";function Ere(t){var e=$x({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ql.isSsr)return{width:0,height:0};var r=Ere(n),i=JSON.stringify({text:e,copyStyle:r});if(ia.widthCache[i])return ia.widthCache[i];try{var o=document.getElementById(GI);o||(o=document.createElement("span"),o.setAttribute("id",GI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=$x($x({},bre),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ia.widthCache[i]=l,++ia.cacheCount>wre&&(ia.cacheCount=0,ia.widthCache={}),l}catch{return{width:0,height:0}}},Tre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Up(t,e){return Cre(t)||Ire(t,e)||Are(t,e)||Sre()}function Sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ire(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Cre(t){if(Array.isArray(t))return t}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kre(r.key),r)}}function Nre(t,e,n){return e&&qI(t.prototype,e),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kre(t){var e=Rre(t,"string");return Yc(e)=="symbol"?e:e+""}function Rre(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ore=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dre=Object.keys(XL),Ta="NaN";function Lre(t,e){return t*XL[e]}var Zf=function(){function t(e,n){Pre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mre.test(n)&&(this.num=NaN,this.unit=""),Dre.includes(n)&&(this.num=Lre(e,n),this.unit="px")}return Nre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ore.exec(n))!==null&&r!==void 0?r:[],o=Up(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function QL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=HI.exec(e))!==null&&n!==void 0?n:[],i=Up(r,4),o=i[1],s=i[2],a=i[3],l=Zf.parse(o??""),u=Zf.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace(HI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=WI.exec(e))!==null&&d!==void 0?d:[],y=Up(h,4),v=y[1],w=y[2],x=y[3],_=Zf.parse(v??""),b=Zf.parse(x??""),T=w==="+"?_.add(b):_.subtract(b);if(T.isNaN())return Ta;e=e.replace(WI,T.toString())}return e}var KI=/\(([^()]*)\)/;function $re(t){for(var e=t;e.includes("(");){var n=KI.exec(e),r=Up(n,2),i=r[1];e=e.replace(KI,QL(i))}return e}function jre(t){var e=t.replace(/\s+/g,"");return e=$re(e),e=QL(e),e}function Vre(t){try{return jre(t)}catch{return Ta}}function Tv(t){var e=Vre(t.slice(5,-1));return e===Ta?"":e}var Ure=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fre=["dx","dy","angle","className","breakAll"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function JI(t,e){if(t==null)return{};var n=Bre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YI(t,e){return Hre(t)||qre(t,e)||zre(t,e)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hre(t){if(Array.isArray(t))return t}var ZL=/[ \f\n\r\t\v\u2028\u2029]+/,e$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Re(n)||(r?o=n.toString().split(""):o=n.toString().split(ZL));var s=o.map(function(l){return{word:l,width:dc(l,i).width}}),a=r?0:dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Wre=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ne(s),d=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(z,W){var U=W.word,K=W.width,Y=z[z.length-1];if(Y&&(i==null||o||Y.width+K+r<Number(i)))Y.words.push(U),Y.width+=K+r;else{var oe={words:[U],width:K};z.push(oe)}return z},[])},y=h(n),v=function(B){return B.reduce(function(z,W){return z.width>W.width?z:W})};if(!c)return y;for(var w="",x=function(B){var z=d.slice(0,B),W=e$({breakAll:u,style:l,children:z+w}).wordsWithComputedWidth,U=h(W),K=U.length>s||v(U).width>Number(i);return[K,U]},_=0,b=d.length-1,T=0,N;_<=b&&T<=d.length-1;){var A=Math.floor((_+b)/2),P=A-1,S=x(P),C=YI(S,2),I=C[0],R=C[1],M=x(A),D=YI(M,1),O=D[0];if(!I&&!O&&(_=A+1),I&&O&&(b=A-1),!I&&O){N=R;break}T++}return N||y},QI=function(e){var n=Re(e)?[]:e.toString().split(ZL);return[{words:n}]},Kre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Ql.isSsr){var l,u,c=e$({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return QI(i);return Wre({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return QI(i)},ZI="#808080",Fp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,w=v===void 0?"end":v,x=e.fill,_=x===void 0?ZI:x,b=JI(e,Ure),T=j.useMemo(function(){return Kre({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,A=b.dy,P=b.angle,S=b.className,C=b.breakAll,I=JI(b,Fre);if(!Rt(r)||!Rt(o))return null;var R=r+(ne(N)?N:0),M=o+(ne(A)?A:0),D;switch(w){case"start":D=Tv("calc(".concat(u,")"));break;case"middle":D=Tv("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Tv("calc(".concat(T.length-1," * -").concat(a,")"));break}var O=[];if(d){var F=T[0].width,B=b.width;O.push("scale(".concat((ne(B)?B/F:1)/F,")"))}return P&&O.push("rotate(".concat(P,", ").concat(R,", ").concat(M,")")),O.length&&(I.transform=O.join(" ")),$.createElement("text",jx({},Pe(I,!0),{x:R,y:M,className:je("recharts-text",S),textAnchor:y,fill:_.includes("url")?ZI:_}),T.map(function(z,W){var U=z.words.join(C?"":" ");return $.createElement("tspan",{x:R,dy:W===0?D:a,key:"".concat(U,"-").concat(W)},U)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TE(t){let e,n,r;t.length!==2?(e=No,n=(a,l)=>No(t(a),l),r=(a,l)=>t(a)-l):(e=t===No||t===Jre?t:Yre,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Yre(){return 0}function t$(t){return t===null?NaN:+t}function*Xre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Qre=TE(No),Qd=Qre.right;TE(t$).center;class eC extends Map{constructor(e,n=tie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tC(this,e))}has(e){return super.has(tC(this,e))}set(e,n){return super.set(Zre(this,e),n)}delete(e){return super.delete(eie(this,e))}}function tC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function eie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function tie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nie(t=No){if(t===No)return n$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function n$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rie=Math.sqrt(50),iie=Math.sqrt(10),oie=Math.sqrt(2);function Bp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=rie?10:o>=iie?5:o>=oie?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Bp(t,e,n*2):[a,l,u]}function Vx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Bp(e,t,n):Bp(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Ux(t,e,n){return e=+e,t=+t,n=+n,Bp(t,e,n)[2]}function Fx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ux(e,t,n):Ux(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function r$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?n$:nie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));r$(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(Nu(t,n,e),i(t[r],o)>0&&Nu(t,n,r);s<a;){for(Nu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Nu(t,n,a):(++a,Nu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Nu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sie(t,e,n){if(t=Float64Array.from(Xre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rC(t);if(e>=1)return nC(t);var r,i=(r-1)*e,o=Math.floor(i),s=nC(r$(t,o).subarray(0,o+1)),a=rC(t.subarray(o+1));return s+(a-s)*(i-o)}}function aie(t,e,n=t$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function lie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Bx=Symbol("implicit");function SE(){var t=new eC,e=[],n=[],r=Bx;function i(o){let s=t.get(o);if(s===void 0){if(r!==Bx)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new eC;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return SE(e,n).unknown(r)},yr.apply(i,arguments),i}function Xc(){var t=SE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,y=i<r,v=y?i:r,w=y?r:i;o=(w-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(w-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=lie(h).map(function(_){return v+o*_});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Xc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},yr.apply(d(),arguments)}function i$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return i$(e())},t}function fc(){return i$(Xc.apply(null,arguments).paddingInner(1))}function AE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function o$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zd(){}var Qc=.7,Gp=1/Qc,Ga="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uie=/^#([0-9a-f]{3,8})$/,cie=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),die=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),fie=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${Zc}\\)$`),hie=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${Zc}\\)$`),pie=new RegExp(`^hsl\\(${Zc},${Xr},${Xr}\\)$`),mie=new RegExp(`^hsla\\(${Zc},${Xr},${Xr},${Zc}\\)$`),iC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AE(Zd,ed,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oC,formatHex:oC,formatHex8:gie,formatHsl:yie,formatRgb:sC,toString:sC});function oC(){return this.rgb().formatHex()}function gie(){return this.rgb().formatHex8()}function yie(){return s$(this).formatHsl()}function sC(){return this.rgb().formatRgb()}function ed(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aC(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?eh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?eh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cie.exec(t))?new Rn(e[1],e[2],e[3],1):(e=die.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fie.exec(t))?eh(e[1],e[2],e[3],e[4]):(e=hie.exec(t))?eh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pie.exec(t))?cC(e[1],e[2]/100,e[3]/100,1):(e=mie.exec(t))?cC(e[1],e[2]/100,e[3]/100,e[4]):iC.hasOwnProperty(t)?aC(iC[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function aC(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function eh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function vie(t){return t instanceof Zd||(t=ed(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function Gx(t,e,n,r){return arguments.length===1?vie(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}AE(Rn,Gx,o$(Zd,{brighter(t){return t=t==null?Gp:Math.pow(Gp,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qc:Math.pow(Qc,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Es(this.r),Es(this.g),Es(this.b),zp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lC,formatHex:lC,formatHex8:xie,formatRgb:uC,toString:uC}));function lC(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function xie(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function uC(){const t=zp(this.opacity);return`${t===1?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${t===1?")":`, ${t})`}`}function zp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=Es(t),(t<16?"0":"")+t.toString(16)}function cC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function s$(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof Zd||(t=ed(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ir(s,a,l,t.opacity)}function _ie(t,e,n,r){return arguments.length===1?s$(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}AE(Ir,_ie,o$(Zd,{brighter(t){return t=t==null?Gp:Math.pow(Gp,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qc:Math.pow(Qc,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(Sv(t>=240?t-240:t+120,i,r),Sv(t,i,r),Sv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(dC(this.h),th(this.s),th(this.l),zp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zp(this.opacity);return`${t===1?"hsl(":"hsla("}${dC(this.h)}, ${th(this.s)*100}%, ${th(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dC(t){return t=(t||0)%360,t<0?t+360:t}function th(t){return Math.max(0,Math.min(1,t||0))}function Sv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const IE=t=>()=>t;function wie(t,e){return function(n){return t+n*e}}function bie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Eie(t){return(t=+t)==1?a$:function(e,n){return n-e?bie(e,n,t):IE(isNaN(e)?n:e)}}function a$(t,e){var n=e-t;return n?wie(t,n):IE(isNaN(t)?e:t)}const fC=function t(e){var n=Eie(e);function r(i,o){var s=n((i=Gx(i)).r,(o=Gx(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=a$(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Tie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Sie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Iie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function qp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Av=new RegExp(zx.source,"g");function Pie(t){return function(){return t}}function Nie(t){return function(e){return t(e)+""}}function kie(t,e){var n=zx.lastIndex=Av.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=zx.exec(t))&&(i=Av.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:qp(r,i)})),n=Av.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Nie(l[0].x):Pie(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Zl(t,e){var n=typeof e,r;return e==null||n==="boolean"?IE(e):(n==="number"?qp:n==="string"?(r=ed(e))?(e=r,fC):kie:e instanceof ed?fC:e instanceof Date?Iie:Sie(e)?Tie:Array.isArray(e)?Aie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cie:qp)(t,e)}function CE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Rie(t,e){e===void 0&&(e=t,t=Zl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Mie(t){return function(){return t}}function Hp(t){return+t}var hC=[0,1];function xn(t){return t}function qx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Mie(isNaN(e)?NaN:.5)}function Oie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Die(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=qx(i,r),o=n(s,o)):(r=qx(r,i),o=n(o,s)),function(a){return o(r(a))}}function Lie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=qx(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Qd(t,a,1,r)-1;return o[l](i[l](a))}}function ef(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ug(){var t=hC,e=hC,n=Zl,r,i,o,s=xn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==xn&&(s=Oie(t[0],t[h-1])),a=h>2?Lie:Die,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),qp)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Hp),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=CE,c()},d.clamp=function(h){return arguments.length?(s=h?!0:xn,c()):s!==xn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,y){return r=h,i=y,c()}}function PE(){return Ug()(xn,xn)}function $ie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yl(t){return t=Wp(Math.abs(t)),t?t[1]:NaN}function jie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Vie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Uie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function td(t){if(!(e=Uie.exec(t)))throw new Error("invalid format: "+t);var e;return new NE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}td.prototype=NE.prototype;function NE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Kp;function Bie(t,e){var n=Wp(t,e);if(!n)return Kp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Kp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wp(t,Math.max(0,e+o-1))[0]}function pC(t,e){var n=Wp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$ie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pC(t*100,e),r:pC,s:Bie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gC(t){return t}var yC=Array.prototype.map,vC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gie(t){var e=t.grouping===void 0||t.thousands===void 0?gC:jie(yC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?gC:Vie(yC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=td(d);var y=d.fill,v=d.align,w=d.sign,x=d.symbol,_=d.zero,b=d.width,T=d.comma,N=d.precision,A=d.trim,P=d.type;P==="n"?(T=!0,P="g"):mC[P]||(N===void 0&&(N=12),A=!0,P="g"),(_||y==="0"&&v==="=")&&(_=!0,y="0",v="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),C=(x==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=mC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M(D){var O=S,F=C,B,z,W;if(P==="c")F=I(D)+F,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),N),A&&(D=Fie(D)),U&&+D==0&&w!=="+"&&(U=!1),O=(U?w==="("?w:a:w==="-"||w==="("?"":w)+O,F=(P==="s"&&!isNaN(D)&&Kp!==void 0?vC[8+Kp/3]:"")+F+(U&&w==="("?")":""),R){for(B=-1,z=D.length;++B<z;)if(W=D.charCodeAt(B),48>W||W>57){F=(W===46?i+D.slice(B+1):D.slice(B))+F,D=D.slice(0,B);break}}}T&&!_&&(D=e(D,1/0));var K=O.length+D.length+F.length,Y=K<b?new Array(b-K+1).join(y):"";switch(T&&_&&(D=e(Y+D,Y.length?b-F.length:1/0),Y=""),v){case"<":D=O+D+F+Y;break;case"=":D=O+Y+D+F;break;case"^":D=Y.slice(0,K=Y.length>>1)+O+D+F+Y.slice(K);break;default:D=Y+O+D+F;break}return o(D)}return M.toString=function(){return d+""},M}function c(d,h){var y=Math.max(-8,Math.min(8,Math.floor(yl(h)/3)))*3,v=Math.pow(10,-y),w=u((d=td(d),d.type="f",d),{suffix:vC[8+y/3]});return function(x){return w(v*x)}}return{format:u,formatPrefix:c}}var nh,kE,l$;zie({thousands:",",grouping:[3],currency:["$",""]});function zie(t){return nh=Gie(t),kE=nh.format,l$=nh.formatPrefix,nh}function qie(t){return Math.max(0,-yl(Math.abs(t)))}function Hie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(e)/3)))*3-yl(Math.abs(t)))}function Wie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yl(e)-yl(t))+1}function u$(t,e,n,r){var i=Fx(t,e,n),o;switch(r=td(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Hie(i,s))&&(r.precision=o),l$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Wie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qie(i))&&(r.precision=o-(r.type==="%")*2);break}}return kE(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Vx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return u$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Ux(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Jp(){var t=PE();return t.copy=function(){return ef(t,Jp())},yr.apply(t,arguments),zo(t)}function c$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Hp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return c$(t).unknown(e)},t=arguments.length?Array.from(t,Hp):[0,1],zo(n)}function d$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function xC(t){return Math.log(t)}function _C(t){return Math.exp(t)}function Kie(t){return-Math.log(-t)}function Jie(t){return-Math.exp(-t)}function Yie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xie(t){return t===10?Yie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wC(t){return(e,n)=>-t(-e,n)}function RE(t){const e=t(xC,_C),n=e.domain;let r=10,i,o;function s(){return i=Qie(r),o=Xie(r),n()[0]<0?(i=wC(i),o=wC(o),t(Kie,Jie)):t(xC,_C),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),y=i(c),v,w;const x=a==null?10:+a;let _=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(w=h<0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;_.push(w)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(w=h>0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;_.push(w)}_.length*2<x&&(_=Vx(u,c,x))}else _=Vx(h,y,Math.min(y-h,x)).map(o);return d?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=td(l)).precision==null&&(l.trim=!0),l=kE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(d$(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function f$(){const t=RE(Ug()).domain([1,10]);return t.copy=()=>ef(t,f$()).base(t.base()),yr.apply(t,arguments),t}function bC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function EC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ME(t){var e=1,n=t(bC(e),EC(e));return n.constant=function(r){return arguments.length?t(bC(e=+r),EC(e)):e},zo(n)}function h$(){var t=ME(Ug());return t.copy=function(){return ef(t,h$()).constant(t.constant())},yr.apply(t,arguments)}function TC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eoe(t){return t<0?-t*t:t*t}function OE(t){var e=t(xn,xn),n=1;function r(){return n===1?t(xn,xn):n===.5?t(Zie,eoe):t(TC(n),TC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function DE(){var t=OE(Ug());return t.copy=function(){return ef(t,DE()).exponent(t.exponent())},yr.apply(t,arguments),t}function toe(){return DE.apply(null,arguments).exponent(.5)}function SC(t){return Math.sign(t)*t*t}function noe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function p$(){var t=PE(),e=[0,1],n=!1,r;function i(o){var s=noe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(SC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Hp)).map(SC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return p$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yr.apply(i,arguments),zo(i)}function m$(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=aie(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Qd(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return m$().domain(t).range(e).unknown(r)},yr.apply(o,arguments)}function g$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Qd(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return g$().domain([t,e]).range(i).unknown(o)},yr.apply(zo(s),arguments)}function y$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return y$().domain(t).range(e).unknown(n)},yr.apply(i,arguments)}const Iv=new Date,Cv=new Date;function Dt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Dt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Iv.setTime(+o),Cv.setTime(+s),t(Iv),t(Cv),Math.floor(n(Iv,Cv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Yp=Dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yp);Yp.range;const yi=1e3,ar=yi*60,vi=ar*60,Di=vi*24,LE=Di*7,AC=Di*30,Pv=Di*365,gs=Dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());gs.range;const $E=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());$E.range;const jE=Dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());jE.range;const VE=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());VE.range;const UE=Dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());UE.range;const tf=Dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Di,t=>t.getDate()-1);tf.range;const Fg=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Di,t=>t.getUTCDate()-1);Fg.range;const v$=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Di,t=>Math.floor(t/Di));v$.range;function Ws(t){return Dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/LE)}const Bg=Ws(0),Xp=Ws(1),roe=Ws(2),ioe=Ws(3),vl=Ws(4),ooe=Ws(5),soe=Ws(6);Bg.range;Xp.range;roe.range;ioe.range;vl.range;ooe.range;soe.range;function Ks(t){return Dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LE)}const Gg=Ks(0),Qp=Ks(1),aoe=Ks(2),loe=Ks(3),xl=Ks(4),uoe=Ks(5),coe=Ks(6);Gg.range;Qp.range;aoe.range;loe.range;xl.range;uoe.range;coe.range;const FE=Dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FE.range;const BE=Dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());BE.range;const Li=Dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Li.range;const $i=Dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$i.range;function x$(t,e,n,r,i,o){const s=[[gs,1,yi],[gs,5,5*yi],[gs,15,15*yi],[gs,30,30*yi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[r,1,Di],[r,2,2*Di],[n,1,LE],[e,1,AC],[e,3,3*AC],[t,1,Pv]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const y=d&&typeof d.range=="function"?d:l(u,c,d),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,y=TE(([,,x])=>x).right(s,h);if(y===s.length)return t.every(Fx(u/Pv,c/Pv,d));if(y===0)return Yp.every(Math.max(Fx(u,c,d),1));const[v,w]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(w)}return[a,l]}const[doe,foe]=x$($i,BE,Gg,v$,UE,jE),[hoe,poe]=x$(Li,FE,Bg,tf,VE,$E);function Nv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ku(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function moe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Ru(i),c=Mu(i),d=Ru(o),h=Mu(o),y=Ru(s),v=Mu(s),w=Ru(a),x=Mu(a),_=Ru(l),b=Mu(l),T={a:W,A:U,b:K,B:Y,c:null,d:RC,e:RC,f:joe,g:Koe,G:Yoe,H:Doe,I:Loe,j:$oe,L:_$,m:Voe,M:Uoe,p:oe,q:Z,Q:DC,s:LC,S:Foe,u:Boe,U:Goe,V:zoe,w:qoe,W:Hoe,x:null,X:null,y:Woe,Y:Joe,Z:Xoe,"%":OC},N={a:le,A:Ce,b:Oe,B:Ye,c:null,d:MC,e:MC,f:tse,g:dse,G:hse,H:Qoe,I:Zoe,j:ese,L:b$,m:nse,M:rse,p:q,q:Ge,Q:DC,s:LC,S:ise,u:ose,U:sse,V:ase,w:lse,W:use,x:null,X:null,y:cse,Y:fse,Z:pse,"%":OC},A={a:R,A:M,b:D,B:O,c:F,d:NC,e:NC,f:koe,g:PC,G:CC,H:kC,I:kC,j:Ioe,L:Noe,m:Aoe,M:Coe,p:I,q:Soe,Q:Moe,s:Ooe,S:Poe,u:_oe,U:woe,V:boe,w:xoe,W:Eoe,x:B,X:z,y:PC,Y:CC,Z:Toe,"%":Roe};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(re,ge){return function(ve){var Q=[],Le=-1,Se=0,rt=re.length,ut,Lt,Yn;for(ve instanceof Date||(ve=new Date(+ve));++Le<rt;)re.charCodeAt(Le)===37&&(Q.push(re.slice(Se,Le)),(Lt=IC[ut=re.charAt(++Le)])!=null?ut=re.charAt(++Le):Lt=ut==="e"?" ":"0",(Yn=ge[ut])&&(ut=Yn(ve,Lt)),Q.push(ut),Se=Le+1);return Q.push(re.slice(Se,Le)),Q.join("")}}function S(re,ge){return function(ve){var Q=ku(1900,void 0,1),Le=C(Q,re,ve+="",0),Se,rt;if(Le!=ve.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ge&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Se=kv(ku(Q.y,0,1)),rt=Se.getUTCDay(),Se=rt>4||rt===0?Qp.ceil(Se):Qp(Se),Se=Fg.offset(Se,(Q.V-1)*7),Q.y=Se.getUTCFullYear(),Q.m=Se.getUTCMonth(),Q.d=Se.getUTCDate()+(Q.w+6)%7):(Se=Nv(ku(Q.y,0,1)),rt=Se.getDay(),Se=rt>4||rt===0?Xp.ceil(Se):Xp(Se),Se=tf.offset(Se,(Q.V-1)*7),Q.y=Se.getFullYear(),Q.m=Se.getMonth(),Q.d=Se.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),rt="Z"in Q?kv(ku(Q.y,0,1)).getUTCDay():Nv(ku(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(rt+5)%7:Q.w+Q.U*7-(rt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,kv(Q)):Nv(Q)}}function C(re,ge,ve,Q){for(var Le=0,Se=ge.length,rt=ve.length,ut,Lt;Le<Se;){if(Q>=rt)return-1;if(ut=ge.charCodeAt(Le++),ut===37){if(ut=ge.charAt(Le++),Lt=A[ut in IC?ge.charAt(Le++):ut],!Lt||(Q=Lt(re,ve,Q))<0)return-1}else if(ut!=ve.charCodeAt(Q++))return-1}return Q}function I(re,ge,ve){var Q=u.exec(ge.slice(ve));return Q?(re.p=c.get(Q[0].toLowerCase()),ve+Q[0].length):-1}function R(re,ge,ve){var Q=y.exec(ge.slice(ve));return Q?(re.w=v.get(Q[0].toLowerCase()),ve+Q[0].length):-1}function M(re,ge,ve){var Q=d.exec(ge.slice(ve));return Q?(re.w=h.get(Q[0].toLowerCase()),ve+Q[0].length):-1}function D(re,ge,ve){var Q=_.exec(ge.slice(ve));return Q?(re.m=b.get(Q[0].toLowerCase()),ve+Q[0].length):-1}function O(re,ge,ve){var Q=w.exec(ge.slice(ve));return Q?(re.m=x.get(Q[0].toLowerCase()),ve+Q[0].length):-1}function F(re,ge,ve){return C(re,e,ge,ve)}function B(re,ge,ve){return C(re,n,ge,ve)}function z(re,ge,ve){return C(re,r,ge,ve)}function W(re){return s[re.getDay()]}function U(re){return o[re.getDay()]}function K(re){return l[re.getMonth()]}function Y(re){return a[re.getMonth()]}function oe(re){return i[+(re.getHours()>=12)]}function Z(re){return 1+~~(re.getMonth()/3)}function le(re){return s[re.getUTCDay()]}function Ce(re){return o[re.getUTCDay()]}function Oe(re){return l[re.getUTCMonth()]}function Ye(re){return a[re.getUTCMonth()]}function q(re){return i[+(re.getUTCHours()>=12)]}function Ge(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ge=P(re+="",T);return ge.toString=function(){return re},ge},parse:function(re){var ge=S(re+="",!1);return ge.toString=function(){return re},ge},utcFormat:function(re){var ge=P(re+="",N);return ge.toString=function(){return re},ge},utcParse:function(re){var ge=S(re+="",!0);return ge.toString=function(){return re},ge}}}var IC={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,goe=/^%/,yoe=/[\\^$*+?|[\]().{}]/g;function Fe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function voe(t){return t.replace(yoe,"\\$&")}function Ru(t){return new RegExp("^(?:"+t.map(voe).join("|")+")","i")}function Mu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xoe(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _oe(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function CC(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function PC(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Toe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Soe(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aoe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function NC(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kC(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Roe(t,e,n){var r=goe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Moe(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ooe(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function RC(t,e){return Fe(t.getDate(),e,2)}function Doe(t,e){return Fe(t.getHours(),e,2)}function Loe(t,e){return Fe(t.getHours()%12||12,e,2)}function $oe(t,e){return Fe(1+tf.count(Li(t),t),e,3)}function _$(t,e){return Fe(t.getMilliseconds(),e,3)}function joe(t,e){return _$(t,e)+"000"}function Voe(t,e){return Fe(t.getMonth()+1,e,2)}function Uoe(t,e){return Fe(t.getMinutes(),e,2)}function Foe(t,e){return Fe(t.getSeconds(),e,2)}function Boe(t){var e=t.getDay();return e===0?7:e}function Goe(t,e){return Fe(Bg.count(Li(t)-1,t),e,2)}function w$(t){var e=t.getDay();return e>=4||e===0?vl(t):vl.ceil(t)}function zoe(t,e){return t=w$(t),Fe(vl.count(Li(t),t)+(Li(t).getDay()===4),e,2)}function qoe(t){return t.getDay()}function Hoe(t,e){return Fe(Xp.count(Li(t)-1,t),e,2)}function Woe(t,e){return Fe(t.getFullYear()%100,e,2)}function Koe(t,e){return t=w$(t),Fe(t.getFullYear()%100,e,2)}function Joe(t,e){return Fe(t.getFullYear()%1e4,e,4)}function Yoe(t,e){var n=t.getDay();return t=n>=4||n===0?vl(t):vl.ceil(t),Fe(t.getFullYear()%1e4,e,4)}function Xoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fe(e/60|0,"0",2)+Fe(e%60,"0",2)}function MC(t,e){return Fe(t.getUTCDate(),e,2)}function Qoe(t,e){return Fe(t.getUTCHours(),e,2)}function Zoe(t,e){return Fe(t.getUTCHours()%12||12,e,2)}function ese(t,e){return Fe(1+Fg.count($i(t),t),e,3)}function b$(t,e){return Fe(t.getUTCMilliseconds(),e,3)}function tse(t,e){return b$(t,e)+"000"}function nse(t,e){return Fe(t.getUTCMonth()+1,e,2)}function rse(t,e){return Fe(t.getUTCMinutes(),e,2)}function ise(t,e){return Fe(t.getUTCSeconds(),e,2)}function ose(t){var e=t.getUTCDay();return e===0?7:e}function sse(t,e){return Fe(Gg.count($i(t)-1,t),e,2)}function E$(t){var e=t.getUTCDay();return e>=4||e===0?xl(t):xl.ceil(t)}function ase(t,e){return t=E$(t),Fe(xl.count($i(t),t)+($i(t).getUTCDay()===4),e,2)}function lse(t){return t.getUTCDay()}function use(t,e){return Fe(Qp.count($i(t)-1,t),e,2)}function cse(t,e){return Fe(t.getUTCFullYear()%100,e,2)}function dse(t,e){return t=E$(t),Fe(t.getUTCFullYear()%100,e,2)}function fse(t,e){return Fe(t.getUTCFullYear()%1e4,e,4)}function hse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xl(t):xl.ceil(t),Fe(t.getUTCFullYear()%1e4,e,4)}function pse(){return"+0000"}function OC(){return"%"}function DC(t){return+t}function LC(t){return Math.floor(+t/1e3)}var oa,T$,S$;mse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mse(t){return oa=moe(t),T$=oa.format,oa.parse,S$=oa.utcFormat,oa.utcParse,oa}function gse(t){return new Date(t)}function yse(t){return t instanceof Date?+t:+new Date(+t)}function GE(t,e,n,r,i,o,s,a,l,u){var c=PE(),d=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),w=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),b=u("%b %d"),T=u("%B"),N=u("%Y");function A(P){return(l(P)<P?y:a(P)<P?v:s(P)<P?w:o(P)<P?x:r(P)<P?i(P)<P?_:b:n(P)<P?T:N)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,yse)):h().map(gse)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?A:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(d$(S,P)):c},c.copy=function(){return ef(c,GE(t,e,n,r,i,o,s,a,l,u))},c}function vse(){return yr.apply(GE(hoe,poe,Li,FE,Bg,tf,VE,$E,gs,T$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xse(){return yr.apply(GE(doe,foe,$i,BE,Gg,Fg,UE,jE,gs,S$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zg(){var t=0,e=1,n,r,i,o,s=xn,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var y,v;return arguments.length?([y,v]=h,s=d(y,v),u):[s(0),s(1)]}}return u.range=c(Zl),u.rangeRound=c(CE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function A$(){var t=zo(zg()(xn));return t.copy=function(){return qo(t,A$())},zi.apply(t,arguments)}function I$(){var t=RE(zg()).domain([1,10]);return t.copy=function(){return qo(t,I$()).base(t.base())},zi.apply(t,arguments)}function C$(){var t=ME(zg());return t.copy=function(){return qo(t,C$()).constant(t.constant())},zi.apply(t,arguments)}function zE(){var t=OE(zg());return t.copy=function(){return qo(t,zE()).exponent(t.exponent())},zi.apply(t,arguments)}function _se(){return zE.apply(null,arguments).exponent(.5)}function P$(){var t=[],e=xn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>sie(t,o/r))},n.copy=function(){return P$(e).domain(t)},zi.apply(n,arguments)}function qg(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=xn,c,d=!1,h;function y(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(d?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(d=!!w,y):d},y.interpolator=function(w){return arguments.length?(u=w,y):u};function v(w){return function(x){var _,b,T;return arguments.length?([_,b,T]=x,u=Rie(w,[_,b,T]),y):[u(0),u(.5),u(1)]}}return y.range=v(Zl),y.rangeRound=v(CE),y.unknown=function(w){return arguments.length?(h=w,y):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function N$(){var t=zo(qg()(xn));return t.copy=function(){return qo(t,N$())},zi.apply(t,arguments)}function k$(){var t=RE(qg()).domain([.1,1,10]);return t.copy=function(){return qo(t,k$()).base(t.base())},zi.apply(t,arguments)}function R$(){var t=ME(qg());return t.copy=function(){return qo(t,R$()).constant(t.constant())},zi.apply(t,arguments)}function qE(){var t=OE(qg());return t.copy=function(){return qo(t,qE()).exponent(t.exponent())},zi.apply(t,arguments)}function wse(){return qE.apply(null,arguments).exponent(.5)}const $C=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xc,scaleDiverging:N$,scaleDivergingLog:k$,scaleDivergingPow:qE,scaleDivergingSqrt:wse,scaleDivergingSymlog:R$,scaleIdentity:c$,scaleImplicit:Bx,scaleLinear:Jp,scaleLog:f$,scaleOrdinal:SE,scalePoint:fc,scalePow:DE,scaleQuantile:m$,scaleQuantize:g$,scaleRadial:p$,scaleSequential:A$,scaleSequentialLog:I$,scaleSequentialPow:zE,scaleSequentialQuantile:P$,scaleSequentialSqrt:_se,scaleSequentialSymlog:C$,scaleSqrt:toe,scaleSymlog:h$,scaleThreshold:y$,scaleTime:vse,scaleUtc:xse,tickFormat:u$},Symbol.toStringTag,{value:"Module"}));var bse=Gl;function Ese(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!bse(s):n(s,a)))var a=s,l=o}return l}var M$=Ese;function Tse(t,e){return t>e}var Sse=Tse,Ase=M$,Ise=Sse,Cse=Xl;function Pse(t){return t&&t.length?Ase(t,Cse,Ise):void 0}var Nse=Pse;const mo=Ze(Nse);function kse(t,e){return t<e}var Rse=kse,Mse=M$,Ose=Rse,Dse=Xl;function Lse(t){return t&&t.length?Mse(t,Dse,Ose):void 0}var $se=Lse;const Hg=Ze($se);var jse=iE,Vse=Go,Use=BL,Fse=Ln;function Bse(t,e){var n=Fse(t)?jse:Use;return n(t,Vse(e))}var Gse=Bse,zse=UL,qse=Gse;function Hse(t,e){return zse(qse(t,e),1)}var Wse=Hse;const Kse=Ze(Wse);var Jse=xE;function Yse(t,e){return Jse(t,e)}var Xse=Yse;const nd=Ze(Xse);var eu=1e9,Qse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WE,dt=!0,hr="[DecimalError] ",Ts=hr+"Invalid argument: ",HE=hr+"Exponent out of range: ",tu=Math.floor,ls=Math.pow,Zse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Ut=1e7,at=7,O$=9007199254740991,Zp=tu(O$/at),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*at;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return Ei(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return Qe(Ei(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return It(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fn))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Fn)?new r(0):(dt=!1,e=Ei(rd(n,o),rd(t,o),o),dt=!0,Qe(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$$(e,t):D$(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(dt=!1,e=Ei(n,t,0,1).times(t),dt=!0,n.minus(e)):Qe(new r(n),i)};he.naturalExponential=he.exp=function(){return L$(this)};he.naturalLogarithm=he.ln=function(){return rd(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D$(e,t):$$(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=It(i)+1,r=i.d.length-1,n=r*at+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hr+"NaN")}for(t=It(a),dt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Br(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ei(a,o,s+2)).times(.5),Br(o.d).slice(0,s)===(e=Br(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Qe(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return dt=!0,Qe(r,n)};he.times=he.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,y=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Ut|0,e=a/Ut|0;o[i]=(o[i]+e)%Ut|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,dt?Qe(t,d.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,eu),e===void 0?e=r.rounding:ti(e,0,8),Qe(n,t+It(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$s(r,!0):(ti(t,0,eu),e===void 0?e=i.rounding:ti(e,0,8),r=Qe(new i(r),t+1,e),n=$s(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?$s(i):(ti(t,0,eu),e===void 0?e=o.rounding:ti(e,0,8),r=Qe(new o(i),t+It(i)+1,e),n=$s(r.abs(),!1,t+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return Qe(new e(t),It(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Fn);if(a=new l(a),!a.s){if(t.s<1)throw Error(hr+"Infinity");return a}if(a.eq(Fn))return a;if(r=l.precision,t.eq(Fn))return Qe(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=O$){for(i=new l(Fn),e=Math.ceil(r/at+4),dt=!1;n%2&&(i=i.times(a),VC(i.d,e)),n=tu(n/2),n!==0;)a=a.times(a),VC(a.d,e);return dt=!0,t.s<0?new l(Fn).div(i):Qe(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,dt=!1,i=t.times(rd(a,r+u)),dt=!0,i=L$(i),i.s=o,i};he.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=It(i),r=$s(i,n<=o.toExpNeg||n>=o.toExpPos)):(ti(t,1,eu),e===void 0?e=o.rounding:ti(e,0,8),i=Qe(new o(i),t,e),n=It(i),r=$s(i,t<=n||n<=o.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,eu),e===void 0?e=r.rounding:ti(e,0,8)),Qe(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),n=t.constructor;return $s(t,e<=n.toExpNeg||e>=n.toExpPos)};function D$(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?Qe(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/at),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ut|0,l[o]%=Ut;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,dt?Qe(e,d):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function Br(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=at-r.length,n&&(o+=ro(n)),o+=r;s=t[e],r=s+"",n=at-r.length,n&&(o+=ro(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ei=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ut|0,s=o/Ut|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ut+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,y,v,w,x,_,b,T,N,A,P,S,C,I=r.constructor,R=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,S=D.length,A=M.length,y=new I(R),v=y.d=[],u=0;D[u]==(M[u]||0);)++u;if(D[u]>(M[u]||0)&&--l,o==null?b=o=I.precision:s?b=o+(It(r)-It(i))+1:b=o,b<0)return new I(0);if(b=b/at+2|0,u=0,S==1)for(c=0,D=D[0],b++;(u<A||c)&&b--;u++)T=c*Ut+(M[u]||0),v[u]=T/D|0,c=T%D|0;else{for(c=Ut/(D[0]+1)|0,c>1&&(D=t(D,c),M=t(M,c),S=D.length,A=M.length),N=S,w=M.slice(0,S),x=w.length;x<S;)w[x++]=0;C=D.slice(),C.unshift(0),P=D[0],D[1]>=Ut/2&&++P;do c=0,a=e(D,w,S,x),a<0?(_=w[0],S!=x&&(_=_*Ut+(w[1]||0)),c=_/P|0,c>1?(c>=Ut&&(c=Ut-1),d=t(D,c),h=d.length,x=w.length,a=e(d,w,h,x),a==1&&(c--,n(d,S<h?C:D,h))):(c==0&&(a=c=1),d=D.slice()),h=d.length,h<x&&d.unshift(0),n(w,d,x),a==-1&&(x=w.length,a=e(D,w,S,x),a<1&&(c++,n(w,S<x?C:D,x))),x=w.length):a===0&&(c++,w=[0]),v[u++]=c,a&&w[0]?w[x++]=M[N]||0:(w=[M[N]],x=1);while((N++<A||w[0]!==void 0)&&b--)}return v[0]||v.shift(),y.e=l,Qe(y,s?o+It(y)+1:o)}}();function L$(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(It(t)>16)throw Error(HE+It(t));if(!t.s)return new c(Fn);for(dt=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Fn),c.precision=a;;){if(i=Qe(i.times(t),a),n=n.times(++l),s=o.plus(Ei(i,n,a)),Br(s.d).slice(0,a)===Br(o.d).slice(0,a)){for(;u--;)o=Qe(o.times(o),a);return c.precision=d,e==null?(dt=!0,Qe(o,d)):o}o=s}}function It(t){for(var e=t.e*at,n=t.d[0];n>=10;n/=10)e++;return e}function Rv(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return Qe(new t(t.LN10),e)}function ro(t){for(var e="";t--;)e+="0";return e}function rd(t,e){var n,r,i,o,s,a,l,u,c,d=1,h=10,y=t,v=y.d,w=y.constructor,x=w.precision;if(y.s<1)throw Error(hr+(y.s?"NaN":"-Infinity"));if(y.eq(Fn))return new w(0);if(e==null?(dt=!1,u=x):u=e,y.eq(10))return e==null&&(dt=!0),Rv(w,u);if(u+=h,w.precision=u,n=Br(v),r=n.charAt(0),o=It(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Br(y.d),r=n.charAt(0),d++;o=It(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return l=Rv(w,u+2,x).times(o+""),y=rd(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=x,e==null?(dt=!0,Qe(y,x)):y;for(a=s=y=Ei(y.minus(Fn),y.plus(Fn),u),c=Qe(y.times(y),u),i=3;;){if(s=Qe(s.times(c),u),l=a.plus(Ei(s,new w(i),u)),Br(l.d).slice(0,u)===Br(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Rv(w,u+2,x).times(o+""))),a=Ei(a,new w(d),u),w.precision=x,e==null?(dt=!0,Qe(a,x)):a;a=l,i+=2}}function jC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tu(n/at),t.d=[],r=(n+1)%at,n<0&&(r+=at),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=at;r<i;)t.d.push(+e.slice(r,r+=at));e=e.slice(r),r=at-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>Zp||t.e<-Zp))throw Error(HE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Qe(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=at,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/at),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=at,i=r-at+s}if(n!==void 0&&(o=ls(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=It(t),d.length=1,e=e-o-1,d[0]=ls(10,(at-e%at)%at),t.e=tu(-e/at)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=ls(10,at-r),d[c]=i>0?(u/ls(10,s-i)%ls(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Ut&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Ut)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(dt&&(t.e>Zp||t.e<-Zp))throw Error(HE+It(t));return t}function $$(t,e){var n,r,i,o,s,a,l,u,c,d,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),dt?Qe(e,y):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(y/at),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Ut-1;--l[o],l[i]+=Ut}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?Qe(e,y):e):new h(0)}function $s(t,e,n){var r,i=It(t),o=Br(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ro(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ro(-i-1)+o,n&&(r=n-s)>0&&(o+=ro(r))):i>=s?(o+=ro(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ro(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ro(r))),t.s<0?"-"+o:o}function VC(t,e){if(t.length>e)return t.length=e,!0}function j$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return jC(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Zse.test(o))jC(s,o);else throw Error(Ts+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j$,i.config=i.set=eae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function eae(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var WE=j$(Qse);Fn=new WE(1);const Je=WE;function tae(t){return oae(t)||iae(t)||rae(t)||nae()}function nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(t){if(typeof t=="string")return Hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hx(t,e)}}function iae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oae(t){if(Array.isArray(t))return Hx(t)}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sae=function(e){return e},V$={},U$=function(e){return e===V$},UC=function(e){return function n(){return arguments.length===0||arguments.length===1&&U$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},aae=function t(e,n){return e===1?n:UC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==V$}).length;return s>=e?n.apply(void 0,i):t(e-s,UC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return U$(d)?l.shift():d});return n.apply(void 0,tae(c).concat(l))}))})},Wg=function(e){return aae(e.length,e)},Wx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lae=Wg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),uae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sae;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Kx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},F$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function cae(t){var e;return t===0?e=1:e=Math.floor(new Je(t).abs().log(10).toNumber())+1,e}function dae(t,e,n){for(var r=new Je(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var fae=Wg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),hae=Wg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pae=Wg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kg={rangeStep:dae,getDigitCount:cae,interpolateNumber:fae,uninterpolateNumber:hae,uninterpolateTruncation:pae};function Jx(t){return yae(t)||gae(t)||B$(t)||mae()}function mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yae(t){if(Array.isArray(t))return Yx(t)}function id(t,e){return _ae(t)||xae(t,e)||B$(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(t,e){if(t){if(typeof t=="string")return Yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yx(t,e)}}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function _ae(t){if(Array.isArray(t))return t}function G$(t){var e=id(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function z$(t,e,n){if(t.lte(0))return new Je(0);var r=Kg.getDigitCount(t.toNumber()),i=new Je(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Je(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Je(Math.ceil(l))}function wae(t,e,n){var r=1,i=new Je(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Je(10).pow(Kg.getDigitCount(t)-1),i=new Je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Je(Math.floor(t)))}else t===0?i=new Je(Math.floor((e-1)/2)):n||(i=new Je(Math.floor(t)));var s=Math.floor((e-1)/2),a=uae(lae(function(l){return i.add(new Je(l-s).mul(r)).toNumber()}),Wx);return a(0,e)}function q$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var o=z$(new Je(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Je(0):(s=new Je(t).add(e).div(2),s=s.sub(new Je(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Je(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?q$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Je(a).mul(o)),tickMax:s.add(new Je(l).mul(o))})}function bae(t){var e=id(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=G$([n,r]),l=id(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Jx(Wx(0,i-1).map(function(){return 1/0}))):[].concat(Jx(Wx(0,i-1).map(function(){return-1/0})),[c]);return n>r?Kx(d):d}if(u===c)return wae(u,i,o);var h=q$(u,c,s,o),y=h.step,v=h.tickMin,w=h.tickMax,x=Kg.rangeStep(v,w.add(new Je(.1).mul(y)),y);return n>r?Kx(x):x}function Eae(t,e){var n=id(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=G$([r,i]),a=id(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=z$(new Je(u).sub(l).div(c-1),o,0),h=[].concat(Jx(Kg.rangeStep(new Je(l),new Je(u).sub(new Je(.99).mul(d)),d)),[u]);return r>i?Kx(h):h}var Tae=F$(bae),Sae=F$(Eae),Aae="Invariant failed";function js(t,e){throw new Error(Aae)}var Iae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function Cae(t,e){return Rae(t)||kae(t,e)||Nae(t,e)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(t,e){if(t){if(typeof t=="string")return FC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FC(t,e)}}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rae(t){if(Array.isArray(t))return t}function Mae(t,e){if(t==null)return{};var n=Oae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function $ae(t,e,n){return e&&Lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jae(t,e,n){return e=tm(e),Vae(t,H$()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function Vae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(t)}function Uae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function Fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xx(t,e)}function Xx(t,e){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xx(t,e)}function W$(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=Bae(t,"string");return _l(e)=="symbol"?e:e+""}function Bae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jg=function(t){function e(){return Dae(this,e),jae(this,e,arguments)}return Fae(e,t),$ae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Mae(r,Iae),y=Pe(h,!1);this.props.direction==="x"&&c.type!=="number"&&js();var v=l.map(function(w){var x=u(w,a),_=x.x,b=x.y,T=x.value,N=x.errorVal;if(!N)return null;var A=[],P,S;if(Array.isArray(N)){var C=Cae(N,2);P=C[0],S=C[1]}else P=S=N;if(o==="vertical"){var I=c.scale,R=b+i,M=R+s,D=R-s,O=I(T-P),F=I(T+S);A.push({x1:F,y1:M,x2:F,y2:D}),A.push({x1:O,y1:R,x2:F,y2:R}),A.push({x1:O,y1:M,x2:O,y2:D})}else if(o==="horizontal"){var B=d.scale,z=_+i,W=z-s,U=z+s,K=B(T-P),Y=B(T+S);A.push({x1:W,y1:Y,x2:U,y2:Y}),A.push({x1:z,y1:K,x2:z,y2:Y}),A.push({x1:W,y1:K,x2:U,y2:K})}return $.createElement(pt,em({className:"recharts-errorBar",key:"bar-".concat(A.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},y),A.map(function(oe){return $.createElement("line",em({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return $.createElement(pt,{className:"recharts-errorBars"},v)}}])}($.Component);W$(Jg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});W$(Jg,"displayName","ErrorBar");function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return e=zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=qae(t,"string");return od(e)=="symbol"?e:e+""}function qae(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Un(n,Ba);if(!s)return null;var a=Ba.defaultProps,l=a!==void 0?ns(ns({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,y=d.props,v=y.sectors||y.data||[];return c.concat(v.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,y=h!==void 0?ns(ns({},h),d.props):{},v=y.dataKey,w=y.name,x=y.legendType,_=y.hide;return{inactive:_,dataKey:v,type:l.iconType||x||"square",color:KE(d),value:w||v,payload:y}}),ns(ns(ns({},l),Ba.getWithHeight(s,i)),{},{payload:u,item:s})};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function GC(t){return Jae(t)||Kae(t)||Wae(t)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wae(t,e){if(t){if(typeof t=="string")return Qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(t,e)}}function Kae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jae(t){if(Array.isArray(t))return Qx(t)}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function za(t,e,n){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Xae(t,"string");return sd(e)=="symbol"?e:e+""}function Xae(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,n){return Re(t)||Re(e)?n:Rt(e)?ur(t,e,n):Ie(e)?e(t):n}function hc(t,e,n,r){var i=Kse(t,function(a){return Wn(a,e)});if(n==="number"){var o=i.filter(function(a){return ne(a)||parseFloat(a)});return o.length?[Hg(o),mo(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Re(a)}):i;return s.map(function(a){return Rt(a)||a instanceof Date?a:""})}var Qae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Cr(d-c)!==Cr(h-d)){var v=[];if(Cr(h-d)===Cr(l[1]-l[0])){y=h;var w=d+l[1]-l[0];v[0]=Math.min(w,(w+c)/2),v[1]=Math.max(w,(w+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(d,(x+d)/2),v[1]=Math.max(d,(x+d)/2)}var _=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var b=Math.min(c,h),T=Math.max(c,h);if(e>(b+d)/2&&e<=(T+d)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},KE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Zae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),h=0,y=d.length;h<y;h++){var v=c[d[h]],w=v.items,x=v.cateAxisId,_=w.filter(function(S){return wi(S.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,T=b!==void 0?_t(_t({},b),_[0].props):_[0].props,N=T.barSize,A=T[x];s[A]||(s[A]=[]);var P=Re(N)?n:N;s[A].push({item:_[0],stackList:_.slice(1),barSize:Re(P)?void 0:Ls(P,r,0)})}}return s},ele=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Ls(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(N,A){return N+A.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var w=(i-v)/2>>0,x={offset:w-u,size:0};c=s.reduce(function(N,A){var P={item:A.item,position:{offset:x.offset+x.size+u,size:h?y:A.barSize}},S=[].concat(GC(N),[P]);return x=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:x})}),S},d)}else{var _=Ls(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var b=(i-2*_-(l-1)*u)/l;b>1&&(b>>=0);var T=a===+a?Math.min(b,a):b;c=s.reduce(function(N,A,P){var S=[].concat(GC(N),[{item:A.item,position:{offset:_+(b+u)*P+(b-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},d)}return c},tle=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=J$({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,y=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&y!=="center"&&ne(e[y]))return _t(_t({},e),{},za({},y,e[y]+(d||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&v!=="middle"&&ne(e[v]))return _t(_t({},e),{},za({},v,e[v]+(h||0)))}return e},nle=function(e,n,r){return Re(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Y$=function(e,n,r,i,o){var s=n.props.children,a=kr(s,Jg).filter(function(u){return nle(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Wn(c,r);if(Re(d))return u;var h=Array.isArray(d)?[Hg(d),mo(d)]:[d,d],y=l.reduce(function(v,w){var x=Wn(c,w,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},rle=function(e,n,r,i,o){var s=n.map(function(a){return Y$(e,a,r,o,i)}).filter(function(a){return!Re(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},X$=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Y$(e,l,u,i)||hc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},Q$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Z$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},xi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Cr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Kl(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Mv=new WeakMap,rh=function(e,n){if(typeof n!="function")return e;Mv.has(e)||Mv.set(e,new WeakMap);var r=Mv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ile=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Xc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Jp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fc(),realScaleType:"point"}:o==="category"?{scale:Xc(),realScaleType:"band"}:{scale:Jp(),realScaleType:"linear"};if(Ds(i)){var l="scale".concat(Mg(i));return{scale:($C[l]||fc)(),realScaleType:$C[l]?l:"point"}}return Ie(i)?{scale:i}:{scale:fc(),realScaleType:"point"}},qC=1e-4,ole=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-qC,s=Math.max(i[0],i[1])+qC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},sle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ale=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},lle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Kl(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},ule=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Kl(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},cle={sign:lle,expand:SK,none:fl,silhouette:AK,wiggle:IK,positive:ule},dle=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=cle[r],s=TK().keys(i).value(function(a,l){return+Wn(a,l,0)}).order(Ex).offset(o);return s(e)},fle=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?_t(_t({},h.type.defaultProps),h.props):h.props,w=v.stackId,x=v.hide;if(x)return d;var _=v[r],b=d[_]||{hasStack:!1,stackGroups:{}};if(Rt(w)){var T=b.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(h),b.hasStack=!0,b.stackGroups[w]=T}else b.stackGroups[Yd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return _t(_t({},d),{},za({},_,b))},l),c={};return Object.keys(u).reduce(function(d,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,x){var _=y.stackGroups[x];return _t(_t({},w),{},za({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:dle(e,_.items,o)}))},v)}return _t(_t({},d),{},za({},h,y))},c)},hle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Tae(u,o,a);return e.domain([Hg(c),mo(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=Sae(d,o,a);return{niceTicks:h}}return null};function HC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(i[e.dataKey])){var a=Sp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Wn(i,Re(s)?e.dataKey:s);return Re(l)?null:e.scale(l)}var WC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Wn(s,n.dataKey,n.domain[a]);return Re(l)?null:n.scale(l)-o/2+i},ple=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},mle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Rt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},gle=function(e){return e.reduce(function(n,r){return[Hg(r.concat([n[0]]).filter(ne)),mo(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},ej=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=gle(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zx=function(e,n,r){if(Ie(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(KC.test(e[0])){var o=+KC.exec(e[0])[1];i[0]=n[0]-o}else Ie(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(JC.test(e[1])){var s=+JC.exec(e[1])[1];i[1]=n[1]+s}else Ie(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},nm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=wE(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},YC=function(e,n,r){return!e||!e.length||nd(e,ur(r,"type.defaultProps.domain"))?n:e},tj=function(e,n){var r=e.type.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return _t(_t({},Pe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:KE(e),value:Wn(n,i),type:l,payload:n,chartType:u,hide:c})};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return e=vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=xle(t,"string");return ad(e)=="symbol"?e:e+""}function xle(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rm=Math.PI/180,_le=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-rm*i)*r,y:n+Math.sin(-rm*i)*r}},wle=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},ble=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=wle({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:_le(u),angleInRadian:u}},Ele=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Tle=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},ZC=function(e,n){var r=e.x,i=e.y,o=ble({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Ele(n),d=c.startAngle,h=c.endAngle,y=a,v;if(d<=h){for(;y>h;)y-=360;for(;y<d;)y+=360;v=y>=d&&y<=h}else{for(;y>d;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=d}return v?QC(QC({},n),{},{radius:s,angle:Tle(y,n)}):null};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var Sle=["offset"];function Ale(t){return Nle(t)||Ple(t)||Cle(t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(t,e){if(t){if(typeof t=="string")return e_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(t,e)}}function Ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nle(t){if(Array.isArray(t))return e_(t)}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kle(t,e){if(t==null)return{};var n=Rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return e=Ole(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Dle(t,"string");return ld(e)=="symbol"?e:e+""}function Dle(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}var Lle=function(e){var n=e.value,r=e.formatter,i=Re(e.children)?n:e.children;return Ie(r)?r(i):i},$le=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},jle=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,w=l.clockWise,x=(d+h)/2,_=$le(y,v),b=_>=0?1:-1,T,N;i==="insideStart"?(T=y+b*s,N=w):i==="insideEnd"?(T=v-b*s,N=!w):i==="end"&&(T=v+b*s,N=w),N=_<=0?N:!N;var A=Xt(u,c,x,T),P=Xt(u,c,x,T+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),C=Re(e.id)?Yd("recharts-radial-line-"):e.id;return $.createElement("text",ud({},r,{dominantBaseline:"central",className:je("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:C,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Vle=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var y=Xt(s,a,u+r,h),v=y.x,w=y.y;return{x:v,y:w,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,_=Xt(s,a,x,h),b=_.x,T=_.y;return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Ule=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,y=d>0?"end":"start",v=d>0?"start":"end",w=u>=0?1:-1,x=w*i,_=w>0?"end":"start",b=w>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:y};return Pt(Pt({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return Pt(Pt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Pt(Pt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:a+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Pt(Pt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Pt({x:a+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?Pt({x:a+u-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideTop"?Pt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):o==="insideBottom"?Pt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},S):o==="insideTopLeft"?Pt({x:a+x,y:l+h,textAnchor:b,verticalAnchor:v},S):o==="insideTopRight"?Pt({x:a+u-x,y:l+h,textAnchor:_,verticalAnchor:v},S):o==="insideBottomLeft"?Pt({x:a+x,y:l+c-h,textAnchor:b,verticalAnchor:y},S):o==="insideBottomRight"?Pt({x:a+u-x,y:l+c-h,textAnchor:_,verticalAnchor:y},S):zl(o)&&(ne(o.x)||ps(o.x))&&(ne(o.y)||ps(o.y))?Pt({x:a+Ls(o.x,u),y:l+Ls(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Pt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Fle=function(e){return"cx"in e&&ne(e.cx)};function fn(t){var e=t.offset,n=e===void 0?5:e,r=kle(t,Sle),i=Pt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||Re(a)&&Re(l)&&!j.isValidElement(u)&&!Ie(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var y;if(Ie(u)){if(y=j.createElement(u,i),j.isValidElement(y))return y}else y=Lle(i);var v=Fle(o),w=Pe(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return jle(i,y,w);var x=v?Vle(i):Ule(i);return $.createElement(Fp,ud({className:je("recharts-label",d)},w,x,{breakAll:h}),y)}fn.displayName="Label";var nj=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,y=e.top,v=e.left,w=e.width,x=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(ne(w)&&ne(x)){if(ne(d)&&ne(h))return{x:d,y:h,width:w,height:x};if(ne(y)&&ne(v))return{x:y,y:v,width:w,height:x}}return ne(d)&&ne(h)?{x:d,y:h,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},Ble=function(e,n){return e?e===!0?$.createElement(fn,{key:"label-implicit",viewBox:n}):Rt(e)?$.createElement(fn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===fn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):Ie(e)?$.createElement(fn,{key:"label-implicit",content:e,viewBox:n}):zl(e)?$.createElement(fn,ud({viewBox:n},e,{key:"label-implicit"})):null:null},Gle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=nj(e),s=kr(i,fn).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Ble(e.label,n||o);return[a].concat(Ale(s))};fn.parseViewBox=nj;fn.renderCallByParent=Gle;function zle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qle=zle;const Hle=Ze(qle);function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}var Wle=["valueAccessor"],Kle=["data","dataKey","clockWise","id","textBreakAll"];function Jle(t){return Zle(t)||Qle(t)||Xle(t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t,e){if(t){if(typeof t=="string")return t_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(t,e)}}function Qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zle(t){if(Array.isArray(t))return t_(t)}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return e=tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return cd(e)=="symbol"?e:e+""}function nue(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rP(t,e){if(t==null)return{};var n=rue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iue=function(e){return Array.isArray(e.value)?Hle(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?iue:e,r=rP(t,Wle),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=rP(r,Kle);return!i||!i.length?null:$.createElement(pt,{className:"recharts-label-list"},i.map(function(c,d){var h=Re(o)?n(c,d):Wn(c&&c.payload,o),y=Re(a)?{}:{id:"".concat(a,"-").concat(d)};return $.createElement(fn,im({},Pe(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:fn.parseViewBox(Re(s)?c:nP(nP({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}ko.displayName="LabelList";function oue(t,e){return t?t===!0?$.createElement(ko,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ie(t)?$.createElement(ko,{key:"labelList-implicit",data:e,content:t}):zl(t)?$.createElement(ko,im({data:e},t,{key:"labelList-implicit"})):null:null}function sue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=kr(r,ko).map(function(s,a){return j.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=oue(t.label,e);return[o].concat(Jle(i))}ko.renderCallByParent=sue;function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return e=lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return dd(e)=="symbol"?e:e+""}function uue(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cue=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ih=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/rm,h=u?o:o+s*d,y=Xt(n,r,c,h),v=Xt(n,r,i,h),w=u?o-s*d:o,x=Xt(n,r,c*Math.cos(d*rm),w);return{center:y,circleTangency:v,lineTangency:x,theta:d}},rj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=cue(s,a),u=s+l,c=Xt(n,r,o,s),d=Xt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=Xt(n,r,i,s),v=Xt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},due=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Cr(c-u),h=ih({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,w=h.theta,x=ih({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),_=x.circleTangency,b=x.lineTangency,T=x.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-T;if(N<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):rj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=ih({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=P.circleTangency,C=P.lineTangency,I=P.theta,R=ih({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=R.circleTangency,D=R.lineTangency,O=R.theta,F=l?Math.abs(u-c):Math.abs(u-c)-I-O;if(F<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},fue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ij=function(e){var n=oP(oP({},fue),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<o||c===d)return null;var y=je("recharts-sector",h),v=s-o,w=Ls(a,v,0,!0),x;return w>0&&Math.abs(c-d)<360?x=due({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=rj({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),$.createElement("path",n_({},Pe(n,!0),{className:y,d:x,role:"img"}))};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return e=pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t){var e=mue(t,"string");return fd(e)=="symbol"?e:e+""}function mue(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lP={curveBasisClosed:hK,curveBasisOpen:pK,curveBasis:fK,curveBumpX:Q7,curveBumpY:Z7,curveLinearClosed:mK,curveLinear:Dg,curveMonotoneX:gK,curveMonotoneY:yK,curveNatural:vK,curveStep:xK,curveStepAfter:wK,curveStepBefore:_K},oh=function(e){return e.x===+e.x&&e.y===+e.y},Ou=function(e){return e.x},Du=function(e){return e.y},gue=function(e,n){if(Ie(e))return e;var r="curve".concat(Mg(e));return(r==="curveMonotone"||r==="curveBump")&&n?lP["".concat(r).concat(n==="vertical"?"Y":"X")]:lP[r]||Dg},yue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=gue(r,a),d=u?o.filter(function(w){return oh(w)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(w){return oh(w)}):s,v=d.map(function(w,x){return aP(aP({},w),{},{base:y[x]})});return a==="vertical"?h=Jf().y(Du).x1(Ou).x0(function(w){return w.base.x}):h=Jf().x(Ou).y1(Du).y0(function(w){return w.base.y}),h.defined(oh).curve(c),h(v)}return a==="vertical"&&ne(s)?h=Jf().y(Du).x1(Ou).x0(s):ne(s)?h=Jf().x(Ou).y1(Du).y0(s):h=oL().x(Ou).y(Du),h.defined(oh).curve(c),h(d)},pc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?yue(e):i;return j.createElement("path",r_({},Pe(e,!1),Ap(e),{className:je("recharts-curve",n),d:s,ref:o}))},oj={exports:{}},vue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xue=vue,_ue=xue;function sj(){}function aj(){}aj.resetWarningCache=sj;var wue=function(){function t(r,i,o,s,a,l){if(l!==_ue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aj,resetWarningCache:sj};return n.PropTypes=n,n};oj.exports=wue();var bue=oj.exports;const qe=Ze(bue),{getOwnPropertyNames:Eue,getOwnPropertySymbols:Tue}=Object,{hasOwnProperty:Sue}=Object.prototype;function Ov(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function sh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Aue(t){return t!=null?t[Symbol.toStringTag]:void 0}function uP(t){return Eue(t).concat(Tue(t))}const Iue=Object.hasOwn||((t,e)=>Sue.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cue="__v",Pue="__o",Nue="_owner",{getOwnPropertyDescriptor:cP,keys:dP}=Object;function kue(t,e){return t.byteLength===e.byteLength&&om(new Uint8Array(t),new Uint8Array(e))}function Rue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mue(t,e){return t.byteLength===e.byteLength&&om(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Oue(t,e){return Js(t.getTime(),e.getTime())}function Due(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Lue(t,e){return t===e}function fP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,d,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const $ue=Js;function jue(t,e,n){const r=dP(t);let i=r.length;if(dP(e).length!==i)return!1;for(;i-- >0;)if(!lj(t,e,n,r[i]))return!1;return!0}function Lu(t,e,n){const r=uP(t);let i=r.length;if(uP(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!lj(t,e,n,o)||(s=cP(t,o),a=cP(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Vue(t,e){return Js(t.valueOf(),e.valueOf())}function Uue(t,e){return t.source===e.source&&t.flags===e.flags}function hP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function om(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Fue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lj(t,e,n,r){return(r===Nue||r===Pue||r===Cue)&&(t.$$typeof||e.$$typeof)?!0:Iue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Bue="[object ArrayBuffer]",Gue="[object Arguments]",zue="[object Boolean]",que="[object DataView]",Hue="[object Date]",Wue="[object Error]",Kue="[object Map]",Jue="[object Number]",Yue="[object Object]",Xue="[object RegExp]",Que="[object Set]",Zue="[object String]",ece={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},tce="[object URL]",nce=Object.prototype.toString;function rce({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,_,b){if(x===_)return!0;if(x==null||_==null)return!1;const T=typeof x;if(T!==typeof _)return!1;if(T!=="object")return T==="number"?a(x,_,b):T==="function"?o(x,_,b):!1;const N=x.constructor;if(N!==_.constructor)return!1;if(N===Object)return l(x,_,b);if(Array.isArray(x))return e(x,_,b);if(N===Date)return r(x,_,b);if(N===RegExp)return c(x,_,b);if(N===Map)return s(x,_,b);if(N===Set)return d(x,_,b);const A=nce.call(x);if(A===Hue)return r(x,_,b);if(A===Xue)return c(x,_,b);if(A===Kue)return s(x,_,b);if(A===Que)return d(x,_,b);if(A===Yue)return typeof x.then!="function"&&typeof _.then!="function"&&l(x,_,b);if(A===tce)return y(x,_,b);if(A===Wue)return i(x,_,b);if(A===Gue)return l(x,_,b);if(ece[A])return h(x,_,b);if(A===Bue)return t(x,_,b);if(A===que)return n(x,_,b);if(A===zue||A===Jue||A===Zue)return u(x,_,b);if(v){let P=v[A];if(!P){const S=Aue(x);S&&(P=v[S])}if(P)return P(x,_,b)}return!1}}function ice({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:kue,areArraysEqual:n?Lu:Rue,areDataViewsEqual:Mue,areDatesEqual:Oue,areErrorsEqual:Due,areFunctionsEqual:Lue,areMapsEqual:n?Ov(fP,Lu):fP,areNumbersEqual:$ue,areObjectsEqual:n?Lu:jue,arePrimitiveWrappersEqual:Vue,areRegExpsEqual:Uue,areSetsEqual:n?Ov(hP,Lu):hP,areTypedArraysEqual:n?Ov(om,Lu):om,areUrlsEqual:Fue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=sh(r.areArraysEqual),o=sh(r.areMapsEqual),s=sh(r.areObjectsEqual),a=sh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function oce(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function sce({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const ace=Ho();Ho({strict:!0});Ho({circular:!0});Ho({circular:!0,strict:!0});Ho({createInternalComparator:()=>Js});Ho({strict:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js,strict:!0});function Ho(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=ice(t),s=rce(o),a=n?n(s):oce(s);return sce({circular:e,comparator:s,createState:r,equals:a,strict:i})}function lce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):lce(i)};requestAnimationFrame(r)}function i_(t){"@babel/helpers - typeof";return i_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(t)}function uce(t){return hce(t)||fce(t)||dce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dce(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return t}function pce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=uce(s),l=a[0],u=a.slice(1);if(typeof l=="number"){pP(i.bind(null,u),l);return}i(l),pP(i.bind(null,u));return}i_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uj(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=gce(t,"string");return hd(e)==="symbol"?e:String(e)}function gce(t,e){if(hd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},vce=function(e){return e},xce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mc=function(e,n){return Object.keys(n).reduce(function(r,i){return yP(yP({},r),{},uj({},i,e(i,n[i])))},{})},vP=function(e,n,r){return e.map(function(i){return"".concat(xce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _ce(t,e){return Ece(t)||bce(t,e)||cj(t,e)||wce()}function wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ece(t){if(Array.isArray(t))return t}function Tce(t){return Ice(t)||Ace(t)||cj(t)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cj(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function Ace(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ice(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sm=1e-4,dj=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},fj=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xP=function(e,n){return function(r){var i=dj(e,n);return fj(i,r)}},Cce=function(e,n){return function(r){var i=dj(e,n),o=[].concat(Tce(i.map(function(s,a){return s*a}).slice(1)),[0]);return fj(o,r)}},_P=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=_ce(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=xP(i,s),h=xP(o,a),y=Cce(i,s),v=function(_){return _>1?1:_<0?0:_},w=function(_){for(var b=_>1?1:_,T=b,N=0;N<8;++N){var A=d(T)-b,P=y(T);if(Math.abs(A-b)<sm||P<sm)return h(T);T=v(T-A/P)}return h(T)};return w.isStepper=!1,w},Pce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,h){var y=-(c-d)*r,v=h*o,w=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-d)<sm&&Math.abs(w)<sm?[d,0]:[x,w]};return l.isStepper=!0,l.dt=a,l},Nce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _P(i);case"spring":return Pce();default:if(i.split("(")[0]==="cubic-bezier")return _P(i)}return typeof i=="function"?i:null};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function wP(t){return Mce(t)||Rce(t)||hj(t)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mce(t){if(Array.isArray(t))return a_(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){s_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_(t,e,n){return e=Oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Dce(t,"string");return pd(e)==="symbol"?e:String(e)}function Dce(t,e){if(pd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lce(t,e){return Vce(t)||jce(t,e)||hj(t,e)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hj(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Vce(t){if(Array.isArray(t))return t}var am=function(e,n,r){return e+(n-e)*r},l_=function(e){var n=e.from,r=e.to;return n!==r},Uce=function t(e,n,r){var i=mc(function(o,s){if(l_(s)){var a=e(s.from,s.to,s.velocity),l=Lce(a,2),u=l[0],c=l[1];return Wt(Wt({},s),{},{from:u,velocity:c})}return s},n);return r<1?mc(function(o,s){return l_(s)?Wt(Wt({},s),{},{velocity:am(s.velocity,i[o].velocity,r),from:am(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Fce=function(t,e,n,r,i){var o=yce(t,e),s=o.reduce(function(x,_){return Wt(Wt({},x),{},s_({},_,[t[_],e[_]]))},{}),a=o.reduce(function(x,_){return Wt(Wt({},x),{},s_({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return mc(function(_,b){return b.from},a)},y=function(){return!Object.values(a).filter(l_).length},v=function(_){u||(u=_);var b=_-u,T=b/n.dt;a=Uce(n,a,T),i(Wt(Wt(Wt({},t),e),h())),u=_,y()||(l=requestAnimationFrame(d))},w=function(_){c||(c=_);var b=(_-c)/r,T=mc(function(A,P){return am.apply(void 0,wP(P).concat([n(b)]))},s);if(i(Wt(Wt(Wt({},t),e),T)),b<1)l=requestAnimationFrame(d);else{var N=mc(function(A,P){return am.apply(void 0,wP(P).concat([n(1)]))},s);i(Wt(Wt(Wt({},t),e),N))}};return d=n.isStepper?v:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var Bce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gce(t,e){if(t==null)return{};var n=zce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dv(t){return Kce(t)||Wce(t)||Hce(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Ku(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ku(t,e,n){return e=pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pj(r.key),r)}}function Xce(t,e,n){return e&&Yce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pj(t){var e=Qce(t,"string");return wl(e)==="symbol"?e:String(e)}function Qce(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function ede(t){var e=tde();return function(){var r=lm(t),i;if(e){var o=lm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return d_(this,i)}}function d_(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f_(t)}function f_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}var ji=function(t){Zce(n,t);var e=ede(n);function n(r,i){var o;Jce(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(f_(o)),o.changeStyle=o.changeStyle.bind(f_(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),d_(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},d_(o);o.state={style:l?Ku({},l,u):u}}else o.state={style:{}};return o}return Xce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Ku({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(ace(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?d:i.to;if(this.state&&h){var x={style:l?Ku({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(x)}this.runAnimation(br(br({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,y=Fce(s,a,Nce(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,y=function(w,x,_){if(_===0)return w;var b=x.duration,T=x.easing,N=T===void 0?"ease":T,A=x.style,P=x.properties,S=x.onAnimationEnd,C=_>0?s[_-1]:x,I=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(Dv(w),[o.runJSAnimation.bind(o,{from:C.style,to:A,duration:b,easing:N}),b]);var R=vP(I,b,N),M=br(br(br({},C.style),A),{},{transition:R});return[].concat(Dv(w),[M,b,S]).filter(vce)};return this.manager.start([l].concat(Dv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pce());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?Ku({},a,l):l,x=vP(Object.keys(w),s,u);v.start([c,o,br(br({},w),{},{transition:x}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Gce(i,Bce),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(y){var v=y.props,w=v.style,x=w===void 0?{}:w,_=v.className,b=j.cloneElement(y,br(br({},l),{},{style:br(br({},x),c),className:_}));return b};return u===1?d(j.Children.only(o)):$.createElement("div",null,j.Children.map(o,function(h){return d(h)}))}}]),n}(j.PureComponent);ji.displayName="Animate";ji.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ji.propTypes={from:qe.oneOfType([qe.object,qe.string]),to:qe.oneOfType([qe.object,qe.string]),attributeName:qe.string,duration:qe.number,begin:qe.number,easing:qe.oneOfType([qe.string,qe.func]),steps:qe.arrayOf(qe.shape({duration:qe.number.isRequired,style:qe.object.isRequired,easing:qe.oneOfType([qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qe.func]),properties:qe.arrayOf("string"),onAnimationEnd:qe.func})),children:qe.oneOfType([qe.node,qe.func]),isActive:qe.bool,canBegin:qe.bool,onAnimationEnd:qe.func,shouldReAnimate:qe.bool,onAnimationStart:qe.func,onAnimationReStart:qe.func};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function nde(t,e){return sde(t)||ode(t,e)||ide(t,e)||rde()}function rde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ide(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ode(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sde(t){if(Array.isArray(t))return t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return e=lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=ude(t,"string");return md(e)=="symbol"?e:e+""}function ude(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IP=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,y=4;h<y;h++)d[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},cde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},dde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JE=function(e){var n=AP(AP({},dde),e),r=j.useRef(),i=j.useState(-1),o=nde(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,y=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,_=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var T=je("recharts-rectangle",y);return b?$.createElement(ji,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:v,isActive:b},function(N){var A=N.width,P=N.height,S=N.x,C=N.y;return $.createElement(ji,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:_,easing:v},$.createElement("path",um({},Pe(n,!0),{className:T,d:IP(S,C,A,P,h),ref:r})))}):$.createElement("path",um({},Pe(n,!0),{className:T,d:IP(l,u,c,d,h)}))};function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}var YE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=je("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",h_({},Pe(e,!1),Ap(e),{className:s,cx:n,cy:r,r:i})):null};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}var fde=["x","y","top","left","width","height","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=gde(t,"string");return gd(e)=="symbol"?e:e+""}function gde(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yde(t,e){if(t==null)return{};var n=vde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xde=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},_de=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,w=yde(e,fde),x=hde({x:r,y:o,top:a,left:u,width:d,height:y},w);return!ne(r)||!ne(o)||!ne(d)||!ne(y)||!ne(a)||!ne(u)?null:$.createElement("path",p_({},Pe(x,!0),{className:je("recharts-cross",v),d:xde(r,o,d,y,a,u)}))},wde=PL,bde=wde(Object.getPrototypeOf,Object),Ede=bde,Tde=Bi,Sde=Ede,Ade=Gi,Ide="[object Object]",Cde=Function.prototype,Pde=Object.prototype,mj=Cde.toString,Nde=Pde.hasOwnProperty,kde=mj.call(Object);function Rde(t){if(!Ade(t)||Tde(t)!=Ide)return!1;var e=Sde(t);if(e===null)return!0;var n=Nde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mj.call(n)==kde}var Mde=Rde;const Ode=Ze(Mde);var Dde=Bi,Lde=Gi,$de="[object Boolean]";function jde(t){return t===!0||t===!1||Lde(t)&&Dde(t)==$de}var Vde=jde;const Ude=Ze(Vde);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function Fde(t,e){return qde(t)||zde(t,e)||Gde(t,e)||Bde()}function Bde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function qde(t){if(Array.isArray(t))return t}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hde(t,e,n){return e=Wde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Kde(t,"string");return yd(e)=="symbol"?e:e+""}function Kde(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RP=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Jde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yde=function(e){var n=kP(kP({},Jde),e),r=j.useRef(),i=j.useState(-1),o=Fde(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,w=n.animationDuration,x=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=je("recharts-trapezoid",y);return _?$.createElement(ji,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:v,isActive:_},function(T){var N=T.upperWidth,A=T.lowerWidth,P=T.height,S=T.x,C=T.y;return $.createElement(ji,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:v},$.createElement("path",cm({},Pe(n,!0),{className:b,d:RP(S,C,N,A,P),ref:r})))}):$.createElement("g",null,$.createElement("path",cm({},Pe(n,!0),{className:b,d:RP(l,u,c,d,h)})))},Xde=["option","shapeType","propTransformer","activeClassName","isActive"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Qde(t,e){if(t==null)return{};var n=Zde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function efe(t,e,n){return e=tfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tfe(t){var e=nfe(t,"string");return vd(e)=="symbol"?e:e+""}function nfe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rfe(t,e){return dm(dm({},e),t)}function ife(t,e){return t==="symbols"}function OP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(JE,n);case"trapezoid":return $.createElement(Yde,n);case"sector":return $.createElement(ij,n);case"symbols":if(ife(e))return $.createElement(hE,n);break;default:return null}}function ofe(t){return j.isValidElement(t)?t.props:t}function sfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rfe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Qde(t,Xde),u;if(j.isValidElement(e))u=j.cloneElement(e,dm(dm({},l),ofe(e)));else if(Ie(e))u=e(l);else if(Ode(e)&&!Ude(e)){var c=i(e,l);u=$.createElement(OP,{shapeType:n,elementProps:c})}else{var d=l;u=$.createElement(OP,{shapeType:n,elementProps:d})}return a?$.createElement(pt,{className:s},u):u}function Yg(t,e){return e!=null&&"trapezoids"in t.props}function Xg(t,e){return e!=null&&"sectors"in t.props}function xd(t,e){return e!=null&&"points"in t.props}function afe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function lfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ufe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function cfe(t,e){var n;return Yg(t,e)?n=afe:Xg(t,e)?n=lfe:xd(t,e)&&(n=ufe),n}function dfe(t,e){var n;return Yg(t,e)?n="trapezoids":Xg(t,e)?n="sectors":xd(t,e)&&(n="points"),n}function ffe(t,e){if(Yg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xd(t,e)?e.payload:{}}function hfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=dfe(n,e),o=ffe(n,e),s=r.filter(function(l,u){var c=nd(o,l),d=n.props[i].filter(function(v){var w=cfe(n,e);return w(v,e)}),h=n.props[i].indexOf(d[d.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var pfe=Math.ceil,mfe=Math.max;function gfe(t,e,n,r){for(var i=-1,o=mfe(pfe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var yfe=gfe,vfe=KL,DP=1/0,xfe=17976931348623157e292;function _fe(t){if(!t)return t===0?t:0;if(t=vfe(t),t===DP||t===-DP){var e=t<0?-1:1;return e*xfe}return t===t?t:0}var gj=_fe,wfe=yfe,bfe=Vg,Lv=gj;function Efe(t){return function(e,n,r){return r&&typeof r!="number"&&bfe(e,n,r)&&(n=r=void 0),e=Lv(e),n===void 0?(n=e,e=0):n=Lv(n),r=r===void 0?e<n?1:-1:Lv(r),wfe(e,n,r,t)}}var Tfe=Efe,Sfe=Tfe,Afe=Sfe(),Ife=Afe;const fm=Ze(Ife);function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){yj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yj(t,e,n){return e=Cfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=Pfe(t,"string");return _d(e)=="symbol"?e:e+""}function Pfe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nfe=["Webkit","Moz","O","ms"],kfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Nfe.reduce(function(o,s){return $P($P({},o),{},yj({},s+r,n))},{});return i[e]=n,i};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xj(r.key),r)}}function Mfe(t,e,n){return e&&VP(t.prototype,e),n&&VP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ofe(t,e,n){return e=pm(e),Dfe(t,vj()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function Dfe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lfe(t)}function Lfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vj=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function $fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function jn(t,e,n){return e=xj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xj(t){var e=jfe(t,"string");return bl(e)=="symbol"?e:e+""}function jfe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=fc().domain(fm(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},UP=function(e){return e.changedTouches&&!!e.changedTouches.length},El=function(t){function e(n){var r;return Rfe(this,e),r=Ofe(this,e,[n]),jn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),jn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jn(r,"handleSlideDragStart",function(i){var o=UP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $fe(e,t),Mfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,d),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Wn(o[r],a,r);return Ie(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-a,u+c-d-s):w<0&&(w=Math.max(w,u-s,u-a));var x=this.getIndex({startX:s+w,endX:a+w});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=UP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,w=c.gap,x=c.data,_={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-y-u):b<0&&(b=Math.max(b,d-u)),_[s]=u+b;var T=this.getIndex(_),N=T.startIndex,A=T.endIndex,P=function(){var C=x.length-1;return s==="startX"&&(a>l?N%w===0:A%w===0)||a<l&&A===C||s==="endX"&&(a>l?A%w===0:N%w===0)||a>l&&A===C};this.setState(jn(jn({},s,u+b),"brushMoveStartX",r.pageX),function(){v&&P()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(jn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=j.Children.only(u);return d?$.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,w=l.startIndex,x=l.endIndex,_=Math.max(r,this.props.x),b=$v($v({},Pe(this.props,!1)),{},{x:_,y:u,width:c,height:d}),T=y||"Min value: ".concat((o=v[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return $.createElement(pt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return $.createElement(pt,{className:"recharts-brush-texts"},$.createElement(Fp,hm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-y,y:s+a/2},v),this.getTextOfTick(i)),$.createElement(Fp,hm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,w=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ne(a)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var T=je("recharts-brush",o),N=$.Children.count(s)===1,A=kfe("userSelect","none");return $.createElement(pt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(w||x||_||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Ie(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return $v({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Vfe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(j.PureComponent);jn(El,"displayName","Brush");jn(El,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ufe=_E;function Ffe(t,e){var n;return Ufe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Bfe=Ffe,Gfe=wL,zfe=Go,qfe=Bfe,Hfe=Ln,Wfe=Vg;function Kfe(t,e,n){var r=Hfe(t)?Gfe:qfe;return n&&Wfe(t,e,n)&&(e=void 0),r(t,zfe(e))}var Jfe=Kfe;const Yfe=Ze(Jfe);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},FP=GL;function Xfe(t,e,n){e=="__proto__"&&FP?FP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qfe=Xfe,Zfe=Qfe,ehe=FL,the=Go;function nhe(t,e){var n={};return e=the(e),ehe(t,function(r,i,o){Zfe(n,i,e(r,i,o))}),n}var rhe=nhe;const ihe=Ze(rhe);function ohe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var she=ohe,ahe=_E;function lhe(t,e){var n=!0;return ahe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var uhe=lhe,che=she,dhe=uhe,fhe=Go,hhe=Ln,phe=Vg;function mhe(t,e,n){var r=hhe(t)?che:dhe;return n&&phe(t,e,n)&&(e=void 0),r(t,fhe(e))}var ghe=mhe;const _j=Ze(ghe);var yhe=["x","y"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vhe(t,e,n){return e=xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=_he(t,"string");return wd(e)=="symbol"?e:e+""}function _he(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function whe(t,e){if(t==null)return{};var n=bhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ehe(t,e){var n=t.x,r=t.y,i=whe(t,yhe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return $u($u($u($u($u({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function GP(t){return $.createElement(sfe,g_({shapeType:"rectangle",propTransformer:Ehe,activeClassName:"recharts-active-bar"},t))}var The=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||$W(r);return o?e(r,i):(o||js(),n)}},She=["value","background"],wj;function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ahe(t,e){if(t==null)return{};var n=Ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ihe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ej(r.key),r)}}function Phe(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t,e,n){return e=gm(e),khe(t,bj()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function khe(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rhe(t)}function Rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bj=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function Mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y_(t,e)}function go(t,e,n){return e=Ej(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ej(t){var e=Ohe(t,"string");return Tl(e)=="symbol"?e:e+""}function Ohe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nf=function(t){function e(){var n;Che(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Nhe(this,e,[].concat(i)),go(n,"state",{isAnimationFinished:!1}),go(n,"id",Yd("recharts-bar-")),go(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),go(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Mhe(e,t),Phe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Pe(this.props,!1);return r&&r.map(function(d,h){var y=h===l,v=y?u:s,w=Tt(Tt(Tt({},c),d),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(pt,mm({className:"recharts-bar-rectangle"},Ip(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),$.createElement(GP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return $.createElement(ji,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,w=o.map(function(x,_){var b=h&&h[_];if(b){var T=or(b.x,x.x),N=or(b.y,x.y),A=or(b.width,x.width),P=or(b.height,x.height);return Tt(Tt({},x),{},{x:T(v),y:N(v),width:A(v),height:P(v)})}if(s==="horizontal"){var S=or(0,x.height),C=S(v);return Tt(Tt({},x),{},{y:x.y+x.height-C,height:C})}var I=or(0,x.width),R=I(v);return Tt(Tt({},x),{},{width:R})});return $.createElement(pt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!nd(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Pe(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=Ahe(u,She);if(!d)return null;var y=Tt(Tt(Tt(Tt(Tt({},h),{},{fill:"#eee"},d),l),Ip(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(GP,mm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=kr(c,Jg);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,_){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Wn(x,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(pt,v,d.map(function(w){return $.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,y=r.isAnimationActive,v=r.background,w=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=je("recharts-bar",s),b=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,N=b||T,A=Re(w)?this.id:w;return $.createElement(pt,{className:_},b||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(A)},$.createElement("rect",{x:b?u:u-d/2,y:T?c:c-h/2,width:b?d:d*2,height:T?h:h*2}))):null,$.createElement(pt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!y||x)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);wj=nf;go(nf,"displayName","Bar");go(nf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ql.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});go(nf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=sle(r,n);if(!y)return null;var v=e.layout,w=n.type.defaultProps,x=w!==void 0?Tt(Tt({},w),n.props):n.props,_=x.dataKey,b=x.children,T=x.minPointSize,N=v==="horizontal"?s:o,A=u?N.scale.domain():null,P=ple({numericAxis:N}),S=kr(b,YL),C=d.map(function(I,R){var M,D,O,F,B,z;u?M=ale(u[c+R],A):(M=Wn(I,_),Array.isArray(M)||(M=[P,M]));var W=The(T,wj.defaultProps.minPointSize)(M[1],R);if(v==="horizontal"){var U,K=[s.scale(M[0]),s.scale(M[1])],Y=K[0],oe=K[1];D=WC({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:R}),O=(U=oe??Y)!==null&&U!==void 0?U:void 0,F=y.size;var Z=Y-oe;if(B=Number.isNaN(Z)?0:Z,z={x:D,y:s.y,width:F,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var le=Cr(B||W)*(Math.abs(W)-Math.abs(B));O-=le,B+=le}}else{var Ce=[o.scale(M[0]),o.scale(M[1])],Oe=Ce[0],Ye=Ce[1];if(D=Oe,O=WC({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),F=Ye-Oe,B=y.size,z={x:o.x,y:O,width:o.width,height:B},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var q=Cr(F||W)*(Math.abs(W)-Math.abs(F));F+=q}}return Tt(Tt(Tt({},I),{},{x:D,y:O,width:F,height:B,value:u?M:M[1],payload:I,background:z},S&&S[R]&&S[R].props),{},{tooltipPayload:[tj(n,I)],tooltipPosition:{x:D+F/2,y:O+B/2}})});return Tt({data:C,layout:v},h)});function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tj(r.key),r)}}function Lhe(t,e,n){return e&&HP(t.prototype,e),n&&HP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qg(t,e,n){return e=Tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tj(t){var e=$he(t,"string");return bd(e)=="symbol"?e:e+""}function $he(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jhe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Un(u,nf);return c.reduce(function(y,v){var w=n[v],x=w.orientation,_=w.domain,b=w.padding,T=b===void 0?{}:b,N=w.mirror,A=w.reversed,P="".concat(x).concat(N?"Mirror":""),S,C,I,R,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=_[1]-_[0],O=1/0,F=w.categoricalDomain.sort(UW);if(F.forEach(function(Ce,Oe){Oe>0&&(O=Math.min((Ce||0)-(F[Oe-1]||0),O))}),Number.isFinite(O)){var B=O/D,z=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=B*z/2),w.padding==="no-gap"){var W=Ls(e.barCategoryGap,B*z),U=B*z/2;S=U-W-(U-W)/z*W}}}i==="xAxis"?C=[r.left+(T.left||0)+(S||0),r.left+r.width-(T.right||0)-(S||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(S||0),r.top+r.height-(T.bottom||0)-(S||0)]:C=w.range,A&&(C=[C[1],C[0]]);var K=ile(w,o,h),Y=K.scale,oe=K.realScaleType;Y.domain(_).range(C),ole(Y);var Z=hle(Y,Sr(Sr({},w),{},{realScaleType:oe}));i==="xAxis"?(M=x==="top"&&!N||x==="bottom"&&N,I=r.left,R=d[P]-M*w.height):i==="yAxis"&&(M=x==="left"&&!N||x==="right"&&N,I=d[P]-M*w.width,R=r.top);var le=Sr(Sr(Sr({},w),Z),{},{realScaleType:oe,x:I,y:R,scale:Y,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return le.bandSize=nm(le,Z),!w.hide&&i==="xAxis"?d[P]+=(M?-1:1)*le.height:w.hide||(d[P]+=(M?-1:1)*le.width),Sr(Sr({},y),{},Qg({},v,le))},{})},Sj=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Vhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Sj({x:n,y:r},{x:i,y:o})},Aj=function(){function t(e){Dhe(this,t),this.scale=e}return Lhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Qg(Aj,"EPS",1e-4);var XE=function(e){var n=Object.keys(e).reduce(function(r,i){return Sr(Sr({},r),{},Qg({},i,Aj.create(e[i])))},{});return Sr(Sr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return ihe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return _j(i,function(o,s){return n[s].isInRange(o)})}})};function Uhe(t){return(t%180+180)%180}var Fhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uhe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Bhe=Go,Ghe=Xd,zhe=$g;function qhe(t){return function(e,n,r){var i=Object(e);if(!Ghe(e)){var o=Bhe(n);e=zhe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Hhe=qhe,Whe=gj;function Khe(t){var e=Whe(t),n=e%1;return e===e?n?e-n:e:0}var Jhe=Khe,Yhe=DL,Xhe=Go,Qhe=Jhe,Zhe=Math.max;function epe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qhe(n);return i<0&&(i=Zhe(r+i,0)),Yhe(t,Xhe(e),i)}var tpe=epe,npe=Hhe,rpe=tpe,ipe=npe(rpe),ope=ipe;const spe=Ze(ope);var ape=GH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QE=j.createContext(void 0),ZE=j.createContext(void 0),Ij=j.createContext(void 0),Cj=j.createContext({}),Pj=j.createContext(void 0),Nj=j.createContext(0),kj=j.createContext(0),KP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=ape(o);return $.createElement(QE.Provider,{value:r},$.createElement(ZE.Provider,{value:i},$.createElement(Cj.Provider,{value:o},$.createElement(Ij.Provider,{value:c},$.createElement(Pj.Provider,{value:s},$.createElement(Nj.Provider,{value:u},$.createElement(kj.Provider,{value:l},a)))))))},lpe=function(){return j.useContext(Pj)},Rj=function(e){var n=j.useContext(QE);n==null&&js();var r=n[e];return r==null&&js(),r},upe=function(){var e=j.useContext(QE);return uo(e)},cpe=function(){var e=j.useContext(ZE),n=spe(e,function(r){return _j(r.domain,Number.isFinite)});return n||uo(e)},Mj=function(e){var n=j.useContext(ZE);n==null&&js();var r=n[e];return r==null&&js(),r},dpe=function(){var e=j.useContext(Ij);return e},fpe=function(){return j.useContext(Cj)},eT=function(){return j.useContext(kj)},tT=function(){return j.useContext(Nj)};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ppe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dj(r.key),r)}}function mpe(t,e,n){return e&&ppe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=ym(e),ype(t,Oj()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oj=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v_(t,e)}function v_(t,e){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v_(t,e)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){nT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nT(t,e,n){return e=Dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dj(t){var e=_pe(t,"string");return Sl(e)=="symbol"?e:e+""}function _pe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wpe(t,e){return Spe(t)||Tpe(t,e)||Epe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(t,e){if(t){if(typeof t=="string")return XP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(t,e)}}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Spe(t){if(Array.isArray(t))return t}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}var Ape=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Ie(e)?r=e(n):r=$.createElement("line",x_({},n,{className:"recharts-reference-line-line"})),r},Ipe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,h=o.width,y=o.height;if(r){var v=u.y,w=e.y.apply(v,{position:s});if(Qr(u,"discard")&&!e.y.isInRange(w))return null;var x=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?x.reverse():x}if(n){var _=u.x,b=e.x.apply(_,{position:s});if(Qr(u,"discard")&&!e.x.isInRange(b))return null;var T=[{x:b,y:d+y},{x:b,y:d}];return a==="top"?T.reverse():T}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:s})});return Qr(u,"discard")&&Yfe(A,function(P){return!e.isInRange(P)})?null:A}return null};function Cpe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=lpe(),c=Rj(i),d=Mj(o),h=dpe();if(!u||!h)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=XE({x:c.scale,y:d.scale}),v=Rt(e),w=Rt(n),x=r&&r.length===2,_=Ipe(y,v,w,x,h,t.position,c.orientation,d.orientation,t);if(!_)return null;var b=wpe(_,2),T=b[0],N=T.x,A=T.y,P=b[1],S=P.x,C=P.y,I=Qr(t,"hidden")?"url(#".concat(u,")"):void 0,R=YP(YP({clipPath:I},Pe(t,!0)),{},{x1:N,y1:A,x2:S,y2:C});return $.createElement(pt,{className:je("recharts-reference-line",a)},Ape(s,R),fn.renderCallByParent(t,Vhe({x1:N,y1:A,x2:S,y2:C})))}var rT=function(t){function e(){return hpe(this,e),gpe(this,e,arguments)}return xpe(e,t),mpe(e,[{key:"render",value:function(){return $.createElement(Cpe,this.props)}}])}($.Component);nT(rT,"displayName","ReferenceLine");nT(rT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$j(r.key),r)}}function kpe(t,e,n){return e&&Npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rpe(t,e,n){return e=vm(e),Mpe(t,Lj()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function Mpe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function Dpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w_(t,e)}function w_(t,e){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(t,e)}function Zg(t,e,n){return e=$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t){var e=Lpe(t,"string");return Al(e)=="symbol"?e:e+""}function Lpe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $pe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=XE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!s.isInRange(a)?null:a},ey=function(t){function e(){return Ppe(this,e),Rpe(this,e,arguments)}return Dpe(e,t),kpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Rt(i),c=Rt(o);if(bi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=$pe(this.props);if(!d)return null;var h=d.x,y=d.y,v=this.props,w=v.shape,x=v.className,_=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=ZP(ZP({clipPath:_},Pe(this.props,!0)),{},{cx:h,cy:y});return $.createElement(pt,{className:je("recharts-reference-dot",x)},e.renderDot(w,b),fn.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}($.Component);Zg(ey,"displayName","ReferenceDot");Zg(ey,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zg(ey,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ie(t)?n=t(e):n=$.createElement(YE,__({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vj(r.key),r)}}function Upe(t,e,n){return e&&Vpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fpe(t,e,n){return e=xm(e),Bpe(t,jj()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Bpe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(t)}function Gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jj=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function zpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function ty(t,e,n){return e=Vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(t){var e=qpe(t,"string");return Il(e)=="symbol"?e:e+""}function qpe(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hpe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=XE({x:c.scale,y:d.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:Sj(y,v)},ny=function(t){function e(){return jpe(this,e),Fpe(this,e,arguments)}return zpe(e,t),Upe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Rt(i),h=Rt(o),y=Rt(s),v=Rt(a),w=this.props.shape;if(!d&&!h&&!y&&!v&&!w)return null;var x=Hpe(d,h,y,v,this.props);if(!x&&!w)return null;var _=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(pt,{className:je("recharts-reference-area",l)},e.renderRect(w,tN(tN({clipPath:_},Pe(this.props,!0)),x)),fn.renderCallByParent(this.props,x))}}])}($.Component);ty(ny,"displayName","ReferenceArea");ty(ny,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ty(ny,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ie(t)?n=t(e):n=$.createElement(JE,b_({},e,{className:"recharts-reference-area-rect"})),n});function Uj(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Wpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fhe(r,n)}function Kpe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function _m(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Jpe(t,e){return Uj(t,e+1)}function Ype(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Uj(r,u)};var w=l,x,_=function(){return x===void 0&&(x=n(v,w)),x},b=v.coordinate,T=l===0||_m(t,b,_,c,a);T||(l=0,c=s,u+=1),T&&(c=b+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){Xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e,n){return e=Qpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qpe(t){var e=Zpe(t,"string");return Ed(e)=="symbol"?e:e+""}function Zpe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eme(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,w=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*w()/2-l);o[h]=y=ln(ln({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=ln(ln({},y),{},{tickCoord:y.coordinate});var _=_m(t,y.tickCoord,w,a,l);_&&(l=y.tickCoord-t*(w()/2+i),o[h]=ln(ln({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function tme(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),h=t*(c.coordinate+t*d/2-u);s[a-1]=c=ln(ln({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=_m(t,c.tickCoord,function(){return d},l,u);y&&(u=c.tickCoord-t*(d/2+i),s[a-1]=ln(ln({},c),{},{isShow:!0}))}for(var v=o?a-1:a,w=function(b){var T=s[b],N,A=function(){return N===void 0&&(N=n(T,b)),N};if(b===0){var P=t*(T.coordinate-t*A()/2-l);s[b]=T=ln(ln({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else s[b]=T=ln(ln({},T),{},{tickCoord:T.coordinate});var S=_m(t,T.tickCoord,A,l,u);S&&(l=T.tickCoord+t*(A()/2+i),s[b]=ln(ln({},T),{},{isShow:!0}))},x=0;x<v;x++)w(x);return s}function iT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||Ql.isSsr)return Jpe(i,typeof l=="number"&&ne(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?dc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(T,N){var A=Ie(u)?u(T.value,N):T.value;return y==="width"?Wpe(dc(A,{fontSize:e,letterSpacing:n}),v,d):dc(A,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,_=Kpe(o,x,y);return l==="equidistantPreserveStart"?Ype(x,_,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=tme(x,_,w,i,s,l==="preserveStartEnd"):h=eme(x,_,w,i,s),h.filter(function(b){return b.isShow}))}var nme=["viewBox"],rme=["viewBox"],ime=["ticks"];function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jv(t,e){if(t==null)return{};var n=ome(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ome(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bj(r.key),r)}}function ame(t,e,n){return e&&iN(t.prototype,e),n&&iN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lme(t,e,n){return e=wm(e),ume(t,Fj()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function ume(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cme(t)}function cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fj=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function oT(t,e,n){return e=Bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bj(t){var e=fme(t,"string");return Cl(e)=="symbol"?e:e+""}function fme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nu=function(t){function e(n){var r;return sme(this,e),r=lme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return dme(e,t),ame(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=jv(r,nme),a=this.props,l=a.viewBox,u=jv(a,rme);return!Fa(o,l)||!Fa(s,u)||!Fa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,y,v,w,x,_,b,T=d?-1:1,N=r.tickSize||c,A=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!d*l,w=x-T*N,b=w-T*h,_=A;break;case"left":w=x=r.coordinate,v=o+ +!d*a,y=v-T*N,_=y-T*h,b=A;break;case"right":w=x=r.coordinate,v=o+ +d*a,y=v+T*N,_=y+T*h,b=A;break;default:y=v=r.coordinate,x=s+ +d*l,w=x+T*N,b=w+T*h,_=A;break}return{line:{x1:y,y1:w,x2:v,y2:x},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=Ct(Ct(Ct({},Pe(this.props,!1)),Pe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Ct(Ct({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);d=Ct(Ct({},d),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return $.createElement("line",Sa({},d,{className:je("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,y=iT(Ct(Ct({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Pe(this.props,!1),_=Pe(c,!1),b=Ct(Ct({},x),{},{fill:"none"},Pe(l,!1)),T=y.map(function(N,A){var P=s.getTickLineCoord(N),S=P.line,C=P.tick,I=Ct(Ct(Ct(Ct({textAnchor:v,verticalAnchor:w},x),{},{stroke:"none",fill:u},_),C),{},{index:A,payload:N,visibleTicksCount:y.length,tickFormatter:d});return $.createElement(pt,Sa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ip(s.props,N,A)),l&&$.createElement("line",Sa({},b,S,{className:je("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(Ie(d)?d(N.value,A):N.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,y=jv(d,ime),v=h;return Ie(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:$.createElement(pt,{className:je("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=je(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?s=$.cloneElement(r,Ct(Ct({},i),{},{className:a})):Ie(r)?s=r(Ct(Ct({},i),{},{className:a})):s=$.createElement(Fp,Sa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(j.Component);oT(nu,"displayName","CartesianAxis");oT(nu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hme=["x1","y1","x2","y2","key"],pme=["offset"];function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return e=gme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return Vs(e)=="symbol"?e:e+""}function yme(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function sN(t,e){if(t==null)return{};var n=vme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Gj(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ie(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=sN(e,hme),u=Pe(l,!1);u.offset;var c=sN(u,pme);n=$.createElement("line",ys({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function _me(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Gj(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function wme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=hn(hn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Gj(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function bme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var v=!c[y+1],w=v?i+s-h:c[y+1]-h;if(w<=0)return null;var x=y%e.length;return $.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:w,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Eme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var v=!c[y+1],w=v?o+a-h:c[y+1]-h;if(w<=0)return null;var x=y%r.length;return $.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:w,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Tme=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return Z$(iT(hn(hn(hn({},nu.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Sme=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return Z$(iT(hn(hn(hn({},nu.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ry(t){var e,n,r,i,o,s,a=eT(),l=tT(),u=fpe(),c=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sa.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),d=c.x,h=c.y,y=c.width,v=c.height,w=c.syncWithTicks,x=c.horizontalValues,_=c.verticalValues,b=upe(),T=cpe();if(!ne(y)||y<=0||!ne(v)||v<=0||!ne(d)||d!==+d||!ne(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||Tme,A=c.horizontalCoordinatesGenerator||Sme,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Ie(A)){var C=x&&x.length,I=A({yAxis:T?hn(hn({},T),{},{ticks:C?x:T.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);bi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Ie(N)){var R=_&&_.length,M=N({xAxis:b?hn(hn({},b),{},{ticks:R?_:b.ticks}):void 0,width:a,height:l,offset:u},R?!0:w);bi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(M),"]")),Array.isArray(M)&&(S=M)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(xme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(_me,ys({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:T})),$.createElement(wme,ys({},c,{offset:u,verticalPoints:S,xAxis:b,yAxis:T})),$.createElement(bme,ys({},c,{horizontalPoints:P})),$.createElement(Eme,ys({},c,{verticalPoints:S})))}ry.displayName="CartesianGrid";var Ame=["layout","type","stroke","connectNulls","isRange","ref"],Ime=["key"],zj;function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function qj(t,e){if(t==null)return{};var n=Cme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){Gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function Nme(t,e,n){return e&&lN(t.prototype,e),n&&lN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kme(t,e,n){return e=bm(e),Rme(t,Hj()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function Rme(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(t)}function Mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hj=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function Gr(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=Dme(t,"string");return Pl(e)=="symbol"?e:e+""}function Dme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pr=function(t){function e(){var n;Pme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kme(this,e,[].concat(i)),Gr(n,"state",{isAnimationFinished:!0}),Gr(n,"id",Yd("recharts-area-")),Gr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ie(s)&&s()}),Gr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ie(s)&&s()}),n}return Ome(e,t),Nme(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=Pe(this.props,!1),y=Pe(u,!0),v=c.map(function(x,_){var b=eo(eo(eo({key:"dot-".concat(_),r:3},h),y),{},{index:_,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,b)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(pt,vs({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=mo(s.map(function(h){return h.y||0}));return ne(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(mo(o.map(function(h){return h.y||0})),d)),ne(d)?$.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=mo(s.map(function(h){return h.x||0}));return ne(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(mo(o.map(function(h){return h.x||0})),d)),ne(d)?$.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var y=qj(a,Ame);return $.createElement(pt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},$.createElement(pc,vs({},Pe(y,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&$.createElement(pc,vs({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&$.createElement(pc,vs({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,w=v.prevPoints,x=v.prevBaseLine;return $.createElement(ji,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t;if(w){var T=w.length/a.length,N=a.map(function(C,I){var R=Math.floor(I*T);if(w[R]){var M=w[R],D=or(M.x,C.x),O=or(M.y,C.y);return eo(eo({},C),{},{x:D(b),y:O(b)})}return C}),A;if(ne(l)&&typeof l=="number"){var P=or(x,l);A=P(b)}else if(Re(l)||Kl(l)){var S=or(x,0);A=S(b)}else A=l.map(function(C,I){var R=Math.floor(I*T);if(x[R]){var M=x[R],D=or(M.x,C.x),O=or(M.y,C.y);return eo(eo({},C),{},{x:D(b),y:O(b)})}return C});return o.renderAreaStatically(N,A,r,i)}return $.createElement(pt,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),$.createElement(pt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!nd(c,s)||!nd(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,y=i.width,v=i.height,w=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,b=a.length===1,T=je("recharts-area",l),N=d&&d.allowDataOverflow,A=h&&h.allowDataOverflow,P=N||A,S=Re(x)?this.id:x,C=(r=Pe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=C.r,R=I===void 0?3:I,M=C.strokeWidth,D=M===void 0?2:M,O=JW(s)?s:{},F=O.clipDot,B=F===void 0?!0:F,z=R*2+D;return $.createElement(pt,{className:T},N||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:N?c:c-y/2,y:A?u:u-v/2,width:N?y:y*2,height:A?v:v*2})),!B&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:c-z/2,y:u-z/2,width:y+z,height:v+z}))):null,b?null:this.renderArea(P,S),(s||b)&&this.renderDots(P,B,S),(!w||_)&&ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(j.PureComponent);zj=pr;Gr(pr,"displayName","Area");Gr(pr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ql.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gr(pr,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(ne(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Gr(pr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,w=zj.getBaseValue(e,n,r,i),x=y==="horizontal",_=!1,b=d.map(function(N,A){var P;v?P=u[c+A]:(P=Wn(N,l),Array.isArray(P)?_=!0:P=[w,P]);var S=P[1]==null||v&&Wn(N,l)==null;return x?{x:HC({axis:r,ticks:o,bandSize:a,entry:N,index:A}),y:S?null:i.scale(P[1]),value:P,payload:N}:{x:S?null:r.scale(P[1]),y:HC({axis:i,ticks:s,bandSize:a,entry:N,index:A}),value:P,payload:N}}),T;return v||_?T=b.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):T=x?i.scale(w):r.scale(w),eo({points:b,baseLine:T,layout:y,isRange:_},h)});Gr(pr,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ie(t))n=t(e);else{var r=je("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=qj(e,Ime);n=$.createElement(YE,vs({},o,{key:i,className:r}))}return n});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yj(r.key),r)}}function jme(t,e,n){return e&&$me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vme(t,e,n){return e=Em(e),Ume(t,Kj()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function Ume(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fme(t)}function Fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function Bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function Jj(t,e,n){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yj(t){var e=Gme(t,"string");return Nl(e)=="symbol"?e:e+""}function Gme(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function zme(t){var e=t.xAxisId,n=eT(),r=tT(),i=Rj(e);return i==null?null:j.createElement(nu,I_({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return xi(s,!0)}}))}var ru=function(t){function e(){return Lme(this,e),Vme(this,e,arguments)}return Bme(e,t),jme(e,[{key:"render",value:function(){return j.createElement(zme,this.props)}}])}(j.Component);Jj(ru,"displayName","XAxis");Jj(ru,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zj(r.key),r)}}function Wme(t,e,n){return e&&Hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kme(t,e,n){return e=Tm(e),Jme(t,Xj()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function Jme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yme(t)}function Yme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function Qj(t,e,n){return e=Zj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zj(t){var e=Qme(t,"string");return kl(e)=="symbol"?e:e+""}function Qme(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}var Zme=function(e){var n=e.yAxisId,r=eT(),i=tT(),o=Mj(n);return o==null?null:j.createElement(nu,P_({},o,{className:je("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return xi(a,!0)}}))},iy=function(t){function e(){return qme(this,e),Kme(this,e,arguments)}return Xme(e,t),Wme(e,[{key:"render",value:function(){return j.createElement(Zme,this.props)}}])}(j.Component);Qj(iy,"displayName","YAxis");Qj(iy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uN(t){return rge(t)||nge(t)||tge(t)||ege()}function ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function nge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rge(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k_=function(e,n,r,i,o){var s=kr(e,rT),a=kr(e,ey),l=[].concat(uN(s),uN(a)),u=kr(e,ny),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,x){if(x.props[c]===r&&Qr(x.props,"extendDomain")&&ne(x.props[d])){var _=x.props[d];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},h)),u.length){var y="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(w,x){if(x.props[c]===r&&Qr(x.props,"extendDomain")&&ne(x.props[y])&&ne(x.props[v])){var _=x.props[y],b=x.props[v];return[Math.min(w[0],_,b),Math.max(w[1],_,b)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,x){return ne(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},h)),h},eV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,v=new Array(y);h<y;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,y,v){var w=n?n+u:u;if(!this._events[w])return!1;var x=this._events[w],_=arguments.length,b,T;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,y),!0;case 6:return x.fn.call(x.context,c,d,h,y,v),!0}for(T=1,b=new Array(_-1);T<_;T++)b[T-1]=arguments[T];x.fn.apply(x.context,b)}else{var N=x.length,A;for(T=0;T<N;T++)switch(x[T].once&&this.removeListener(u,x[T].fn,void 0,!0),_){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,c);break;case 3:x[T].fn.call(x[T].context,c,d);break;case 4:x[T].fn.call(x[T].context,c,d,h);break;default:if(!b)for(A=1,b=new Array(_-1);A<_;A++)b[A-1]=arguments[A];x[T].fn.apply(x[T].context,b)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&s(this,y);else{for(var w=0,x=[],_=v.length;w<_;w++)(v[w].fn!==c||h&&!v[w].once||d&&v[w].context!==d)&&x.push(v[w]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(eV);var ige=eV.exports;const oge=Ze(ige);var Vv=new oge,Uv="recharts.syncMouseEvents";function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function age(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tV(r.key),r)}}function lge(t,e,n){return e&&age(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fv(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t){var e=uge(t,"string");return Td(e)=="symbol"?e:e+""}function uge(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cge=function(){function t(){sge(this,t),Fv(this,"activeIndex",0),Fv(this,"coordinateList",[]),Fv(this,"layout","horizontal")}return lge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function dge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function fge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function nV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xt(e,n,r,i),a=Xt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function hge(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Xt(a,l,u,d),y=Xt(a,l,c,d);r=h.x,i=h.y,o=y.x,s=y.y}else return nV(e);return[{x:r,y:i},{x:o,y:s}]}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return e=mge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=gge(t,"string");return Sd(e)=="symbol"?e:e+""}function gge(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,w=pc;if(h==="ScatterChart")v=s,w=_de;else if(h==="BarChart")v=fge(d,s,l,c),w=JE;else if(d==="radial"){var x=nV(s),_=x.cx,b=x.cy,T=x.radius,N=x.startAngle,A=x.endAngle;v={cx:_,cy:b,startAngle:N,endAngle:A,innerRadius:T,outerRadius:T},w=ij}else v={points:hge(d,s,l)},w=pc;var P=ah(ah(ah(ah({stroke:"#ccc",pointerEvents:"none"},l),v),Pe(y,!1)),{},{payload:a,payloadIndex:u,className:je("recharts-tooltip-cursor",y.className)});return j.isValidElement(y)?j.cloneElement(y,P):j.createElement(w,P)}var vge=["item"],xge=["children","className","width","height","style","compact","title","desc"];function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function dN(t,e){return bge(t)||wge(t,e)||iV(t,e)||_ge()}function _ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function bge(t){if(Array.isArray(t))return t}function fN(t,e){if(t==null)return{};var n=Ege(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ege(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function Age(t,e,n){return e&&Sge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ige(t,e,n){return e=Sm(e),Cge(t,rV()?Reflect.construct(e,n||[],Sm(t).constructor):e.apply(t,n))}function Cge(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function Nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function Ml(t){return Mge(t)||Rge(t)||iV(t)||kge()}function kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iV(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function Rge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mge(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xe(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=Oge(t,"string");return Rl(e)=="symbol"?e:e+""}function Oge(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dge={xAxis:["bottom","top"],yAxis:["left","right"]},Lge={width:"100%",height:"100%"},sV={x:0,y:0};function lh(t){return t}var $ge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Xt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return sV},oy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ml(a),Ml(u)):a},[]);return s.length>0?s:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function aV(t){return t==="number"?[0,"auto"]:void 0}var O_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=oy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=d===void 0?a:d;h=Sp(y,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Ml(l),[tj(u,h)]):l},[])},pN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=$ge(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Qae(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=O_(e,n,c,d),y=jge(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:y}}return null},Vge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,y=Q$(c,o);return r.reduce(function(v,w){var x,_=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,b=_.type,T=_.dataKey,N=_.allowDataOverflow,A=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,C=_.includeHidden,I=_[s];if(v[I])return v;var R=oy(e.data,{graphicalItems:i.filter(function(Z){var le,Ce=s in Z.props?Z.props[s]:(le=Z.type.defaultProps)===null||le===void 0?void 0:le[s];return Ce===I}),dataStartIndex:l,dataEndIndex:u}),M=R.length,D,O,F;dge(_.domain,N,b)&&(D=Zx(_.domain,null,N),y&&(b==="number"||P!=="auto")&&(F=hc(R,T,"category")));var B=aV(b);if(!D||D.length===0){var z,W=(z=_.domain)!==null&&z!==void 0?z:B;if(T){if(D=hc(R,T,b),b==="category"&&y){var U=VW(D);A&&U?(O=D,D=fm(0,M)):A||(D=YC(W,D,w).reduce(function(Z,le){return Z.indexOf(le)>=0?Z:[].concat(Ml(Z),[le])},[]))}else if(b==="category")A?D=D.filter(function(Z){return Z!==""&&!Re(Z)}):D=YC(W,D,w).reduce(function(Z,le){return Z.indexOf(le)>=0||le===""||Re(le)?Z:[].concat(Ml(Z),[le])},[]);else if(b==="number"){var K=rle(R,i.filter(function(Z){var le,Ce,Oe=s in Z.props?Z.props[s]:(le=Z.type.defaultProps)===null||le===void 0?void 0:le[s],Ye="hide"in Z.props?Z.props.hide:(Ce=Z.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Oe===I&&(C||!Ye)}),T,o,c);K&&(D=K)}y&&(b==="number"||P!=="auto")&&(F=hc(R,T,"category"))}else y?D=fm(0,M):a&&a[I]&&a[I].hasStack&&b==="number"?D=h==="expand"?[0,1]:ej(a[I].stackGroups,l,u):D=X$(R,i.filter(function(Z){var le=s in Z.props?Z.props[s]:Z.type.defaultProps[s],Ce="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return le===I&&(C||!Ce)}),b,c,!0);if(b==="number")D=k_(d,D,I,o,S),W&&(D=Zx(W,D,N));else if(b==="category"&&W){var Y=W,oe=D.every(function(Z){return Y.indexOf(Z)>=0});oe&&(D=Y)}}return H(H({},v),{},xe({},I,H(H({},_),{},{axisType:o,domain:D,categoricalDomain:F,duplicateDomain:O,originalDomain:(x=_.domain)!==null&&x!==void 0?x:B,isCategorical:y,layout:c})))},{})},Uge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=oy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=Q$(c,o),w=-1;return r.reduce(function(x,_){var b=_.type.defaultProps!==void 0?H(H({},_.type.defaultProps),_.props):_.props,T=b[s],N=aV("number");if(!x[T]){w++;var A;return v?A=fm(0,y):a&&a[T]&&a[T].hasStack?(A=ej(a[T].stackGroups,l,u),A=k_(d,A,T,o)):(A=Zx(N,X$(h,r.filter(function(P){var S,C,I=s in P.props?P.props[s]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[s],R="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===T&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=k_(d,A,T,o)),H(H({},x),{},xe({},T,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(Dge,"".concat(o,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:v,layout:c})))}return x},{})},Fge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=kr(c,o),y={};return h&&h.length?y=Vge(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=Uge(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},Bge=function(e){var n=uo(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:nm(n,r)}},mN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Un(n,El),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Gge=function(e){return!e||!e.length?!1:e.some(function(n){var r=wi(n&&n.type);return r&&r.indexOf("Bar")>=0})},gN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},y=Un(d,El),v=Un(d,Ba),w=Object.keys(l).reduce(function(A,P){var S=l[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},xe({},C,A[C]+S.width)):A},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(A,P){var S=s[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},xe({},C,ur(A,"".concat(C))+S.height)):A},{top:h.top||0,bottom:h.bottom||0}),_=H(H({},x),w),b=_.bottom;y&&(_.bottom+=y.props.height||El.defaultProps.height),v&&n&&(_=tle(_,i,r,n));var T=u-_.left-_.right,N=c-_.top-_.bottom;return H(H({brushBottom:b},_),{},{width:Math.max(T,0),height:Math.max(N,0)})},qge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Hge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(_,b){var T=b.graphicalItems,N=b.stackGroups,A=b.offset,P=b.updateId,S=b.dataStartIndex,C=b.dataEndIndex,I=_.barSize,R=_.layout,M=_.barGap,D=_.barCategoryGap,O=_.maxBarSize,F=gN(R),B=F.numericAxisName,z=F.cateAxisName,W=Gge(T),U=[];return T.forEach(function(K,Y){var oe=oy(_.data,{graphicalItems:[K],dataStartIndex:S,dataEndIndex:C}),Z=K.type.defaultProps!==void 0?H(H({},K.type.defaultProps),K.props):K.props,le=Z.dataKey,Ce=Z.maxBarSize,Oe=Z["".concat(B,"Id")],Ye=Z["".concat(z,"Id")],q={},Ge=l.reduce(function(Xn,xr){var ii=b["".concat(xr.axisType,"Map")],Wi=Z["".concat(xr.axisType,"Id")];ii&&ii[Wi]||xr.axisType==="zAxis"||js();var Ko=ii[Wi];return H(H({},Xn),{},xe(xe({},xr.axisType,Ko),"".concat(xr.axisType,"Ticks"),xi(Ko)))},q),re=Ge[z],ge=Ge["".concat(z,"Ticks")],ve=N&&N[Oe]&&N[Oe].hasStack&&mle(K,N[Oe].stackGroups),Q=wi(K.type).indexOf("Bar")>=0,Le=nm(re,ge),Se=[],rt=W&&Zae({barSize:I,stackGroups:N,totalSize:qge(Ge,z)});if(Q){var ut,Lt,Yn=Re(Ce)?O:Ce,vr=(ut=(Lt=nm(re,ge,!0))!==null&&Lt!==void 0?Lt:Yn)!==null&&ut!==void 0?ut:0;Se=ele({barGap:M,barCategoryGap:D,bandSize:vr!==Le?vr:Le,sizeList:rt[Ye],maxBarSize:Yn}),vr!==Le&&(Se=Se.map(function(Xn){return H(H({},Xn),{},{position:H(H({},Xn.position),{},{offset:Xn.position.offset-vr/2})})}))}var jr=K&&K.type&&K.type.getComposedData;jr&&U.push({props:H(H({},jr(H(H({},Ge),{},{displayedData:oe,props:_,dataKey:le,item:K,bandSize:Le,barPosition:Se,offset:A,stackedData:ve,layout:R,dataStartIndex:S,dataEndIndex:C}))),{},xe(xe(xe({key:K.key||"item-".concat(Y)},B,Ge[B]),z,Ge[z]),"animationId",P)),childIndex:QW(K,_.children),item:K})}),U},y=function(_,b){var T=_.props,N=_.dataStartIndex,A=_.dataEndIndex,P=_.updateId;if(!GA({props:T}))return null;var S=T.children,C=T.layout,I=T.stackOffset,R=T.data,M=T.reverseStackOrder,D=gN(C),O=D.numericAxisName,F=D.cateAxisName,B=kr(S,r),z=fle(R,B,"".concat(O,"Id"),"".concat(F,"Id"),I,M),W=l.reduce(function(Z,le){var Ce="".concat(le.axisType,"Map");return H(H({},Z),{},xe({},Ce,Fge(T,H(H({},le),{},{graphicalItems:B,stackGroups:le.axisType===O&&z,dataStartIndex:N,dataEndIndex:A}))))},{}),U=zge(H(H({},W),{},{props:T,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(Z){W[Z]=c(T,W[Z],U,Z.replace("Map",""),n)});var K=W["".concat(F,"Map")],Y=Bge(K),oe=h(T,H(H({},W),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:B,stackGroups:z,offset:U}));return H(H({formattedGraphicalItems:oe,graphicalItems:B,offset:U,stackGroups:z},Y),W)},v=function(x){function _(b){var T,N,A;return Tge(this,_),A=Ige(this,_,[b]),xe(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xe(A,"accessibilityManager",new cge),xe(A,"handleLegendBBoxUpdate",function(P){if(P){var S=A.state,C=S.dataStartIndex,I=S.dataEndIndex,R=S.updateId;A.setState(H({legendBBox:P},y({props:A.props,dataStartIndex:C,dataEndIndex:I,updateId:R},H(H({},A.state),{},{legendBBox:P}))))}}),xe(A,"handleReceiveSyncEvent",function(P,S,C){if(A.props.syncId===P){if(C===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),xe(A,"handleBrushChange",function(P){var S=P.startIndex,C=P.endIndex;if(S!==A.state.dataStartIndex||C!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return H({dataStartIndex:S,dataEndIndex:C},y({props:A.props,dataStartIndex:S,dataEndIndex:C,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),xe(A,"handleMouseEnter",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseEnter;Ie(I)&&I(C,P)}}),xe(A,"triggeredAfterMouseMove",function(P){var S=A.getMouseInfo(P),C=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseMove;Ie(I)&&I(C,P)}),xe(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),xe(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),xe(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),xe(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var C=A.props.onMouseLeave;Ie(C)&&C(S,P)}),xe(A,"handleOuterEvent",function(P){var S=XW(P),C=ur(A.props,"".concat(S));if(S&&Ie(C)){var I,R;/.*touch.*/i.test(S)?R=A.getMouseInfo(P.changedTouches[0]):R=A.getMouseInfo(P),C((I=R)!==null&&I!==void 0?I:{},P)}}),xe(A,"handleClick",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onClick;Ie(I)&&I(C,P)}}),xe(A,"handleMouseDown",function(P){var S=A.props.onMouseDown;if(Ie(S)){var C=A.getMouseInfo(P);S(C,P)}}),xe(A,"handleMouseUp",function(P){var S=A.props.onMouseUp;if(Ie(S)){var C=A.getMouseInfo(P);S(C,P)}}),xe(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),xe(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),xe(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),xe(A,"handleDoubleClick",function(P){var S=A.props.onDoubleClick;if(Ie(S)){var C=A.getMouseInfo(P);S(C,P)}}),xe(A,"handleContextMenu",function(P){var S=A.props.onContextMenu;if(Ie(S)){var C=A.getMouseInfo(P);S(C,P)}}),xe(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&Vv.emit(Uv,A.props.syncId,P,A.eventEmitterSymbol)}),xe(A,"applySyncEvent",function(P){var S=A.props,C=S.layout,I=S.syncMethod,R=A.state.updateId,M=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(H({dataStartIndex:M,dataEndIndex:D},y({props:A.props,dataStartIndex:M,dataEndIndex:D,updateId:R},A.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,F=P.chartY,B=P.activeTooltipIndex,z=A.state,W=z.offset,U=z.tooltipTicks;if(!W)return;if(typeof I=="function")B=I(U,P);else if(I==="value"){B=-1;for(var K=0;K<U.length;K++)if(U[K].value===P.activeLabel){B=K;break}}var Y=H(H({},W),{},{x:W.left,y:W.top}),oe=Math.min(O,Y.x+Y.width),Z=Math.min(F,Y.y+Y.height),le=U[B]&&U[B].value,Ce=O_(A.state,A.props.data,B),Oe=U[B]?{x:C==="horizontal"?U[B].coordinate:oe,y:C==="horizontal"?Z:U[B].coordinate}:sV;A.setState(H(H({},P),{},{activeLabel:le,activeCoordinate:Oe,activePayload:Ce,activeTooltipIndex:B}))}else A.setState(P)}),xe(A,"renderCursor",function(P){var S,C=A.state,I=C.isTooltipActive,R=C.activeCoordinate,M=C.activePayload,D=C.offset,O=C.activeTooltipIndex,F=C.tooltipAxisBandSize,B=A.getTooltipEventType(),z=(S=P.props.active)!==null&&S!==void 0?S:I,W=A.props.layout,U=P.key||"_recharts-cursor";return $.createElement(yge,{key:U,activeCoordinate:R,activePayload:M,activeTooltipIndex:O,chartName:n,element:P,isActive:z,layout:W,offset:D,tooltipAxisBandSize:F,tooltipEventType:B})}),xe(A,"renderPolarAxis",function(P,S,C){var I=ur(P,"type.axisType"),R=ur(A.state,"".concat(I,"Map")),M=P.type.defaultProps,D=M!==void 0?H(H({},M),P.props):P.props,O=R&&R[D["".concat(I,"Id")]];return j.cloneElement(P,H(H({},O),{},{className:je(I,O.className),key:P.key||"".concat(S,"-").concat(C),ticks:xi(O,!0)}))}),xe(A,"renderPolarGrid",function(P){var S=P.props,C=S.radialLines,I=S.polarAngles,R=S.polarRadius,M=A.state,D=M.radiusAxisMap,O=M.angleAxisMap,F=uo(D),B=uo(O),z=B.cx,W=B.cy,U=B.innerRadius,K=B.outerRadius;return j.cloneElement(P,{polarAngles:Array.isArray(I)?I:xi(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(R)?R:xi(F,!0).map(function(Y){return Y.coordinate}),cx:z,cy:W,innerRadius:U,outerRadius:K,key:P.key||"polar-grid",radialLines:C})}),xe(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,S=A.props,C=S.children,I=S.width,R=S.height,M=A.props.margin||{},D=I-(M.left||0)-(M.right||0),O=J$({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:u});if(!O)return null;var F=O.item,B=fN(O,vge);return j.cloneElement(F,H(H({},B),{},{chartWidth:I,chartHeight:R,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),xe(A,"renderTooltip",function(){var P,S=A.props,C=S.children,I=S.accessibilityLayer,R=Un(C,nr);if(!R)return null;var M=A.state,D=M.isTooltipActive,O=M.activeCoordinate,F=M.activePayload,B=M.activeLabel,z=M.offset,W=(P=R.props.active)!==null&&P!==void 0?P:D;return j.cloneElement(R,{viewBox:H(H({},z),{},{x:z.left,y:z.top}),active:W,label:B,payload:W?F:[],coordinate:O,accessibilityLayer:I})}),xe(A,"renderBrush",function(P){var S=A.props,C=S.margin,I=S.data,R=A.state,M=R.offset,D=R.dataStartIndex,O=R.dataEndIndex,F=R.updateId;return j.cloneElement(P,{key:P.key||"_recharts-brush",onChange:rh(A.handleBrushChange,P.props.onChange),data:I,x:ne(P.props.x)?P.props.x:M.left,y:ne(P.props.y)?P.props.y:M.top+M.height+M.brushBottom-(C.bottom||0),width:ne(P.props.width)?P.props.width:M.width,startIndex:D,endIndex:O,updateId:"brush-".concat(F)})}),xe(A,"renderReferenceElement",function(P,S,C){if(!P)return null;var I=A,R=I.clipPathId,M=A.state,D=M.xAxisMap,O=M.yAxisMap,F=M.offset,B=P.type.defaultProps||{},z=P.props,W=z.xAxisId,U=W===void 0?B.xAxisId:W,K=z.yAxisId,Y=K===void 0?B.yAxisId:K;return j.cloneElement(P,{key:P.key||"".concat(S,"-").concat(C),xAxis:D[U],yAxis:O[Y],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:R})}),xe(A,"renderActivePoints",function(P){var S=P.item,C=P.activePoint,I=P.basePoint,R=P.childIndex,M=P.isRange,D=[],O=S.props.key,F=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,B=F.activeDot,z=F.dataKey,W=H(H({index:R,dataKey:z,cx:C.x,cy:C.y,r:4,fill:KE(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Pe(B,!1)),Ap(B));return D.push(_.renderActiveDot(B,W,"".concat(O,"-activePoint-").concat(R))),I?D.push(_.renderActiveDot(B,H(H({},W),{},{cx:I.x,cy:I.y}),"".concat(O,"-basePoint-").concat(R))):M&&D.push(null),D}),xe(A,"renderGraphicChild",function(P,S,C){var I=A.filterFormatItem(P,S,C);if(!I)return null;var R=A.getTooltipEventType(),M=A.state,D=M.isTooltipActive,O=M.tooltipAxis,F=M.activeTooltipIndex,B=M.activeLabel,z=A.props.children,W=Un(z,nr),U=I.props,K=U.points,Y=U.isRange,oe=U.baseLine,Z=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,le=Z.activeDot,Ce=Z.hide,Oe=Z.activeBar,Ye=Z.activeShape,q=!!(!Ce&&D&&W&&(le||Oe||Ye)),Ge={};R!=="axis"&&W&&W.props.trigger==="click"?Ge={onClick:rh(A.handleItemMouseEnter,P.props.onClick)}:R!=="axis"&&(Ge={onMouseLeave:rh(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:rh(A.handleItemMouseEnter,P.props.onMouseEnter)});var re=j.cloneElement(P,H(H({},I.props),Ge));function ge(xr){return typeof O.dataKey=="function"?O.dataKey(xr.payload):null}if(q)if(F>=0){var ve,Q;if(O.dataKey&&!O.allowDuplicatedCategory){var Le=typeof O.dataKey=="function"?ge:"payload.".concat(O.dataKey.toString());ve=Sp(K,Le,B),Q=Y&&oe&&Sp(oe,Le,B)}else ve=K==null?void 0:K[F],Q=Y&&oe&&oe[F];if(Ye||Oe){var Se=P.props.activeIndex!==void 0?P.props.activeIndex:F;return[j.cloneElement(P,H(H(H({},I.props),Ge),{},{activeIndex:Se})),null,null]}if(!Re(ve))return[re].concat(Ml(A.renderActivePoints({item:I,activePoint:ve,basePoint:Q,childIndex:F,isRange:Y})))}else{var rt,ut=(rt=A.getItemByXY(A.state.activeCoordinate))!==null&&rt!==void 0?rt:{graphicalItem:re},Lt=ut.graphicalItem,Yn=Lt.item,vr=Yn===void 0?P:Yn,jr=Lt.childIndex,Xn=H(H(H({},I.props),Ge),{},{activeIndex:jr});return[j.cloneElement(vr,Xn),null,null]}return Y?[re,null,null]:[re,null]}),xe(A,"renderCustomized",function(P,S,C){return j.cloneElement(P,H(H({key:"recharts-customized-".concat(C)},A.props),A.state))}),xe(A,"renderMap",{CartesianGrid:{handler:lh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:lh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:lh},YAxis:{handler:lh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=b.id)!==null&&T!==void 0?T:Yd("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=JL(A.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Nge(_,x),Age(_,[{key:"componentDidMount",value:function(){var T,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,N=T.children,A=T.data,P=T.height,S=T.layout,C=Un(N,nr);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=O_(this.state,A,I,R),D=this.state.tooltipTicks[I].coordinate,O=(this.state.offset.top+P)/2,F=S==="horizontal",B=F?{x:D,y:O}:{y:D,x:O},z=this.state.formattedGraphicalItems.find(function(U){var K=U.item;return K.type.name==="Scatter"});z&&(B=H(H({},B),z.props.points[I].tooltipPosition),M=z.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:M,activeCoordinate:B};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){px([Un(T.children,nr)],[Un(this.props.children,nr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Un(this.props.children,nr);if(T&&typeof T.props.shared=="boolean"){var N=T.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=Tre(A),S={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},C=A.width/N.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,C);if(!I)return null;var R=this.state,M=R.xAxisMap,D=R.yAxisMap,O=this.getTooltipEventType(),F=pN(this.state,this.props.data,this.props.layout,I);if(O!=="axis"&&M&&D){var B=uo(M).scale,z=uo(D).scale,W=B&&B.invert?B.invert(S.chartX):null,U=z&&z.invert?z.invert(S.chartY):null;return H(H({},S),{},{xValue:W,yValue:U},F)}return F?H(H({},S),F):null}},{key:"inRange",value:function(T,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=T/A,C=N/A;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,R=S>=I.left&&S<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return R?{x:S,y:C}:null}var M=this.state,D=M.angleAxisMap,O=M.radiusAxisMap;if(D&&O){var F=uo(D);return ZC({x:S,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,N=this.getTooltipEventType(),A=Un(T,nr),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ap(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){Vv.on(Uv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vv.removeListener(Uv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,N,A){for(var P=this.state.formattedGraphicalItems,S=0,C=P.length;S<C;S++){var I=P[S];if(I.item===T||I.props.key===T.key||N===wi(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,S=N.height,C=N.width;return $.createElement("defs",null,$.createElement("clipPath",{id:T},$.createElement("rect",{x:A,y:P,height:S,width:C})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=dN(A,2),S=P[0],C=P[1];return H(H({},N),{},xe({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=dN(A,2),S=P[0],C=P[1];return H(H({},N),{},xe({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(T){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(T){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var S=0,C=A.length;S<C;S++){var I=A[S],R=I.props,M=I.item,D=M.type.defaultProps!==void 0?H(H({},M.type.defaultProps),M.props):M.props,O=wi(M.type);if(O==="Bar"){var F=(R.data||[]).find(function(U){return cde(T,U)});if(F)return{graphicalItem:I,payload:F}}else if(O==="RadialBar"){var B=(R.data||[]).find(function(U){return ZC(T,U)});if(B)return{graphicalItem:I,payload:B}}else if(Yg(I,P)||Xg(I,P)||xd(I,P)){var z=hfe({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),W=D.activeIndex===void 0?z:D.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:W}),payload:xd(I,P)?D.data[z]:I.props.data[z]}}}return null}},{key:"render",value:function(){var T=this;if(!GA(this))return null;var N=this.props,A=N.children,P=N.className,S=N.width,C=N.height,I=N.style,R=N.compact,M=N.title,D=N.desc,O=fN(N,xge),F=Pe(O,!1);if(R)return $.createElement(KP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(gx,Aa({},F,{width:S,height:C,title:M,desc:D}),this.renderClipPath(),qA(A,this.renderMap)));if(this.props.accessibilityLayer){var B,z;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(z=this.props.role)!==null&&z!==void 0?z:"application",F.onKeyDown=function(U){T.accessibilityManager.keyboardEvent(U)},F.onFocus=function(){T.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return $.createElement(KP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Aa({className:je("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:C},I)},W,{ref:function(K){T.container=K}}),$.createElement(gx,Aa({},F,{width:S,height:C,title:M,desc:D,style:Lge}),this.renderClipPath(),qA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);xe(v,"displayName",n),xe(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),xe(v,"getDerivedStateFromProps",function(x,_){var b=x.dataKey,T=x.data,N=x.children,A=x.width,P=x.height,S=x.layout,C=x.stackOffset,I=x.margin,R=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var D=mN(x);return H(H(H({},D),{},{updateId:0},y(H(H({props:x},D),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(b!==_.prevDataKey||T!==_.prevData||A!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||C!==_.prevStackOffset||!Fa(I,_.prevMargin)){var O=mN(x),F={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},B=H(H({},pN(_,T,S)),{},{updateId:_.updateId+1}),z=H(H(H({},O),F),B);return H(H(H({},z),y(H({props:x},z),_)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(!px(N,_.prevChildren)){var W,U,K,Y,oe=Un(N,El),Z=oe&&(W=(U=oe.props)===null||U===void 0?void 0:U.startIndex)!==null&&W!==void 0?W:R,le=oe&&(K=(Y=oe.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&K!==void 0?K:M,Ce=Z!==R||le!==M,Oe=!Re(T),Ye=Oe&&!Ce?_.updateId:_.updateId+1;return H(H({updateId:Ye},y(H(H({props:x},_),{},{updateId:Ye,dataStartIndex:Z,dataEndIndex:le}),_)),{},{prevChildren:N,dataStartIndex:Z,dataEndIndex:le})}return null}),xe(v,"renderActiveDot",function(x,_,b){var T;return j.isValidElement(x)?T=j.cloneElement(x,_):Ie(x)?T=x(_):T=$.createElement(YE,_),$.createElement(pt,{className:"recharts-active-dot",key:b},T)});var w=j.forwardRef(function(_,b){return $.createElement(v,Aa({},_,{ref:b}))});return w.displayName=v.displayName,w},sT=Hge({chartName:"AreaChart",GraphicalChild:pr,axisComponents:[{axisType:"xAxis",AxisComp:ru},{axisType:"yAxis",AxisComp:iy}],formatAxisMap:jhe});const Wge=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Kge=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:ED,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:bD,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:uc,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:TD,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),p.jsxs("div",{className:"flex gap-2 text-sm",children:[p.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),p.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:Yb,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Kd,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:uc,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:cc,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:p.jsx(n.icon,{className:"w-6 h-6"})}),p.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),p.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[p.jsx(MD,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),p.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>p.jsxs("button",{onClick:()=>t==null?void 0:t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[p.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:p.jsx(n.icon,{className:"w-6 h-6"})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),p.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),p.jsx(V9,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),p.jsx("div",{className:"h-80 w-full",children:p.jsx(EE,{width:"100%",height:"100%",children:p.jsxs(sT,{data:Wge,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),p.jsx(ry,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(ru,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),p.jsx(iy,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),p.jsx(nr,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),p.jsx(pr,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),p.jsx(pr,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),p.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[p.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"relative z-10 space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(W9,{className:"w-6 h-6 text-orange-500"}),p.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),p.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[p.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?p.jsx(Hd,{className:"w-4 h-4 text-green-400"}):p.jsx(z9,{className:"w-4 h-4 text-orange-500"})]},r))}),p.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[p.jsx(qb,{className:"w-4 h-4"})," Aadir Requisito"]})]}),p.jsx(dx,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(uc,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),p.jsx("div",{className:"space-y-3",children:p.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[p.jsx(Gc,{className:"w-5 h-5 text-orange-600 shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),p.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Jge=20,Yge=({companyInfo:t})=>{const{loading:e,addProduct:n,updateProduct:r,deleteProduct:i,suppliers:o,fetchProductsPaginatedAndFiltered:s}=Fb(),[a,l]=j.useState(""),[u,c]=j.useState(!1),[d,h]=j.useState("general"),[y,v]=j.useState(!1),[w,x]=j.useState([]),[_,b]=j.useState(null),[T,N]=j.useState(!0),[A,P]=j.useState(!1),S=j.useRef(null),[C,I]=j.useState(null),[R,M]=j.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[D,O]=j.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),[F,B]=j.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[z,W]=j.useState({isFractionable:!1,saleUnitConversionFactor:1}),[U,K]=j.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),Y=j.useCallback(async(q=!1,Ge=a,re=_)=>{P(!0);try{const ge={limit:Jge,searchTerm:Ge.toLowerCase().trim(),startAfterDoc:q?void 0:re,orderByField:"name",orderDirection:"asc"},{products:ve,lastVisible:Q,hasMore:Le}=await s(ge);x(Se=>q?ve:[...Se,...ve]),b(Q),N(Le)}catch(ge){console.error("Error loading products:",ge)}finally{P(!1)}},[a,_,s]);j.useEffect(()=>{e||Y(!0,a,null)},[a,e,Y]);const oe=$.useMemo(()=>{let q=D.baseCost;D.discounts.forEach(ve=>{ve>0&&(q=q*(1-ve/100))});const Ge=q*(1+D.markup/100),re=Ge*(1+D.ivaRate/100),ge=z.isFractionable&&z.saleUnitConversionFactor?re*z.saleUnitConversionFactor:re;return{netCost:q,priceWithoutIva:Ge,finalSalePricePrimaryUnit:re,finalSalePriceSaleUnit:ge}},[D,z]),Z=()=>{I(null),M({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),B({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),W({isFractionable:!1,saleUnitConversionFactor:1}),K({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),h("general")},le=q=>{I(q),q?(M({name:q.name,sku:q.sku,category:q.category,brand:q.brand,saleCurrency:q.saleCurrency||"ARS",supplierProductCode:q.supplierProductCode||"",imageUrl:q.imageUrl||"",primaryUnit:q.primaryUnit||"unidad",saleUnit:q.saleUnit||"unidad"}),O({baseCost:q.costPrice||0,ivaRate:21,discounts:[],markup:q.salePrice&&q.costPrice?(q.salePrice/(q.costPrice*1.21)-1)*100:(t==null?void 0:t.defaultMarkup)||30,supplierId:q.supplierId||"",purchaseCurrency:q.purchaseCurrency||"ARS"}),B({stock:q.stock,minStock:q.minStock||5,location:q.location||"",reorderPoint:q.reorderPoint||0,targetStock:q.targetStock||0,packQuantity:q.packQuantity||1}),W({isFractionable:q.isFractionable||!1,saleUnitConversionFactor:q.saleUnitConversionFactor||1}),K({isOnline:q.isOnline||!1,onlinePriceAdjustment:q.onlinePriceAdjustment||0,mlSync:q.mlSync||!1})):Z(),c(!0)},Ce=q=>{var re;const Ge=(re=q.target.files)==null?void 0:re[0];if(Ge){const ge=new FileReader;ge.onload=ve=>{M(Q=>{var Le;return{...Q,imageUrl:(Le=ve.target)==null?void 0:Le.result}})},ge.readAsDataURL(Ge)}},Oe=async()=>{if(v(!0),!R.name||!R.sku||!R.primaryUnit||!R.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),v(!1);return}if(D.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),v(!1);return}if(z.isFractionable&&(!z.saleUnitConversionFactor||z.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),v(!1);return}const q={sku:R.sku||"",name:R.name||"",supplierId:D.supplierId||null,costPrice:Number(D.baseCost),salePrice:Number(oe.finalSalePricePrimaryUnit),stock:Number(F.stock),category:R.category||"General",brand:R.brand||"N/A",reorderPoint:Number(F.reorderPoint)||0,targetStock:Number(F.targetStock)||0,packQuantity:Number(F.packQuantity)||1,purchaseCurrency:D.purchaseCurrency||"ARS",saleCurrency:R.saleCurrency||"ARS",supplierProductCode:R.supplierProductCode||"",minStock:Number(F.minStock)||0,location:F.location||"",imageUrl:R.imageUrl||"",primaryUnit:R.primaryUnit,saleUnit:R.saleUnit,isFractionable:!!z.isFractionable,saleUnitConversionFactor:z.isFractionable?Number(z.saleUnitConversionFactor):null,isOnline:!!U.isOnline,onlinePriceAdjustment:U.isOnline?Number(U.onlinePriceAdjustment):null,mlSync:!!U.mlSync};try{C?await r(C.id,q):await n(q),c(!1),Z(),Y(!0)}catch(Ge){alert("Error al guardar en la base de datos. Verifique los campos."),console.error("Error saving product:",Ge)}finally{v(!1)}},Ye=q=>{alert(`Producto "${q.name}" aadido a la lista de pedidos de reposicin.`)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),p.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),p.jsxs("button",{onClick:()=>{le(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[p.jsx(ei,{className:"w-5 h-5"})," Nuevo Producto"]})]}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:p.jsxs("div",{className:"relative max-w-xl",children:[p.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:a,onChange:q=>l(q.target.value)})]})}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),p.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.primaryUnit,")"]}),p.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.saleUnit,")"]}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(q=>{var Ge;return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsxs("td",{className:"px-8 py-6",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:q.name}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:q.sku})]}),p.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[q.stock," ",q.primaryUnit]}),p.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(Ge=q.salePrice)==null?void 0:Ge.toLocaleString()]}),p.jsx("td",{className:"px-8 py-6 text-right font-black",children:q.isFractionable&&q.saleUnitConversionFactor&&q.salePrice?`$${(q.salePrice*q.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>Ye(q),className:"p-2 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Pedir Reposicin",children:p.jsx(gg,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>le(q),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Editar",children:p.jsx(ND,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>i(q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Borrar",children:p.jsx(Wd,{className:"w-4 h-4"})})]})})]},q.id)})})]}),A&&p.jsxs("div",{className:"p-10 text-center",children:[p.jsx($o,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),u&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[p.jsx("h2",{className:"text-xl font-black uppercase",children:C?"Editar Producto":"Nuevo Producto"}),p.jsx("button",{onClick:()=>c(!1),children:p.jsx(Oi,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"flex h-[600px]",children:[p.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:Gc},{id:"costs",label:"Costos y Precios",icon:cc},{id:"inventory",label:"Inventario Fsico",icon:PA},{id:"fractioned",label:"Venta Fraccionada",icon:cx},{id:"ecommerce",label:"E-commerce",icon:dl}].map(q=>p.jsxs("button",{onClick:()=>h(q.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===q.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[p.jsx(q.icon,{className:"w-4 h-4 inline-block mr-2"}),q.label]},q.id))}),p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Gc,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{value:R.name||"",onChange:q=>M({...R,name:q.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{value:R.sku||"",onChange:q=>M({...R,sku:q.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{value:R.primaryUnit||"unidad",onChange:q=>M({...R,primaryUnit:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"unidad",children:"Unidad"}),p.jsx("option",{value:"m2",children:"m2"}),p.jsx("option",{value:"kg",children:"kg"}),p.jsx("option",{value:"litro",children:"Litro"}),p.jsx("option",{value:"pie",children:"Pie"}),p.jsx("option",{value:"cm",children:"cm"}),p.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),p.jsx("option",{value:"tabla",children:"Tabla"}),p.jsx("option",{value:"caja",children:"Caja"}),p.jsx("option",{value:"barra",children:"Barra"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{value:R.saleUnit||"unidad",onChange:q=>M({...R,saleUnit:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"unidad",children:"Unidad"}),p.jsx("option",{value:"m2",children:"m2"}),p.jsx("option",{value:"kg",children:"kg"}),p.jsx("option",{value:"litro",children:"Litro"}),p.jsx("option",{value:"tabla",children:"Tabla"}),p.jsx("option",{value:"caja",children:"Caja"}),p.jsx("option",{value:"barra",children:"Barra"}),p.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),p.jsx("option",{value:"pie",children:"Pie"}),p.jsx("option",{value:"cm",children:"cm"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),p.jsx("input",{value:R.category||"",onChange:q=>M({...R,category:q.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),p.jsx("input",{value:R.brand||"",onChange:q=>M({...R,brand:q.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),p.jsx("input",{value:R.supplierProductCode||"",onChange:q=>M({...R,supplierProductCode:q.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),p.jsxs("select",{value:R.saleCurrency||"ARS",onChange:q=>M({...R,saleCurrency:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),p.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),p.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[p.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[p.jsx(lx,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:R.imageUrl?p.jsx("img",{src:R.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):p.jsx(lx,{className:"w-8 h-8 text-slate-300"})}),p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>{var q;return(q=S.current)==null?void 0:q.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[p.jsx(RD,{className:"w-4 h-4"})," Subir Imagen"]}),p.jsx("input",{ref:S,type:"file",className:"hidden",accept:"image/*",onChange:Ce})]})]})]})]}),d==="costs"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(cc,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"number",value:D.baseCost||"",onChange:q=>O({...D,baseCost:Number(q.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"IVA (%)"}),p.jsx("input",{type:"number",value:D.ivaRate||"",onChange:q=>O({...D,ivaRate:Number(q.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ganancia (Markup %)"}),p.jsx("input",{type:"number",value:D.markup||"",onChange:q=>O({...D,markup:Number(q.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),p.jsxs("select",{value:D.supplierId||"",onChange:q=>O({...D,supplierId:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"",children:"Ninguno"}),o.map(q=>p.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),p.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[p.jsxs("div",{className:"relative z-10 space-y-2",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio Final Sugerido"}),p.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",oe.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsx(cc,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(PA,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),p.jsx("input",{type:"number",value:F.stock||"",onChange:q=>B({...F,stock:Number(q.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mnimo de Alerta"}),p.jsx("input",{type:"number",value:F.minStock||"",onChange:q=>B({...F,minStock:Number(q.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin"}),p.jsx("input",{value:F.location||"",onChange:q=>B({...F,location:q.target.value}),placeholder:"Ej: A-05",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(cx,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:z.isFractionable||!1,onChange:q=>W({...z,isFractionable:q.target.checked}),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Fraccionado"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Permite vender en una unidad distinta al stock."})]})]}),z.isFractionable&&p.jsxs("div",{className:"pt-6 border-t border-slate-100 animate-in fade-in",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin (1 ",R.saleUnit," = ? ",R.primaryUnit,")"]}),p.jsx("input",{type:"number",value:z.saleUnitConversionFactor||"",onChange:q=>W({...z,saleUnitConversionFactor:Number(q.target.value)}),placeholder:"1.00",className:"w-full mt-2 px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),d==="ecommerce"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(dl,{className:"w-4 h-4 text-yellow-600"})," E-Commerce"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:U.isOnline||!1,onChange:q=>K({...U,isOnline:q.target.checked}),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),p.jsx("div",{className:"flex-1",children:p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar Online"})})]})]})]})]}),p.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[p.jsx("button",{onClick:()=>c(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsxs("button",{onClick:Oe,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[y?p.jsx($o,{className:"w-5 h-5 animate-spin"}):p.jsx(Wb,{className:"w-5 h-5"}),"Guardar"]})]})]})})]})},Xge=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState([]),[s,a]=j.useState(!1),[l,u]=j.useState(!1),[c,d]=j.useState({show:!1,type:""});j.useEffect(()=>{(async()=>{const x=await Kr(Ae(de,"products"));e(x.docs.map(_=>({id:_.id,..._.data()})))})()},[]);const h=i.reduce((w,x)=>w+x.price*x.quantity,0),y=w=>{const x=i.find(_=>_.id===w.id);o(x?i.map(_=>_.id===w.id?{..._,quantity:_.quantity+1}:_):[...i,{...w,quantity:1}])},v=async w=>{if(i.length!==0){u(!0);try{const x=w==="PRESUPUESTO"?"quotes":w==="REMITO"?"remitos":"sales",_={items:i,total:h,type:w,status:w==="PRESUPUESTO"?"Pendiente":"Completado",date:R8()};await jt(Ae(de,x),_),o([]),a(!1),d({show:!0,type:w}),setTimeout(()=>d({show:!1,type:""}),4e3)}catch{alert("Error al procesar la operacin")}finally{u(!1)}}};return p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-full animate-in fade-in duration-500 pb-20 text-left",children:[p.jsxs("div",{className:"flex-1 space-y-6",children:[p.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100",children:p.jsxs("div",{className:"relative",children:[p.jsx(qs,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),p.jsx("input",{type:"text",placeholder:"Buscar producto por nombre o cdigo...",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-slate-800",value:n,onChange:w=>r(w.target.value)})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:t.filter(w=>w.name.toLowerCase().includes(n.toLowerCase())).map(w=>p.jsxs("div",{className:"bg-white p-5 rounded-[2rem] border border-slate-100 flex flex-col justify-between hover:border-orange-500 transition-all group shadow-sm",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:w.code}),p.jsx("h3",{className:"font-bold text-slate-800 leading-tight",children:w.name}),p.jsxs("p",{className:"text-2xl font-black text-slate-900 mt-2",children:["$",w.price.toLocaleString()]})]}),p.jsxs("button",{onClick:()=>y(w),className:"w-full py-3 bg-slate-50 group-hover:bg-orange-600 group-hover:text-white rounded-xl flex items-center justify-center gap-2 transition-all font-bold text-xs",children:[p.jsx(ei,{size:16})," AGREGAR"]})]},w.id))})]}),p.jsx("div",{className:"w-full lg:w-[400px]",children:p.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[3.5rem] shadow-2xl flex flex-col min-h-[600px]",children:[p.jsxs("h2",{className:"text-xl font-black mb-8 flex items-center gap-3",children:[p.jsx(gg,{className:"text-orange-500"})," Venta Actual"]}),p.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto mb-6 pr-2 custom-scrollbar",children:i.map(w=>p.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5 flex justify-between items-center",children:[p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"text-xs font-bold truncate",children:w.name}),p.jsxs("p",{className:"text-[10px] text-slate-500 font-bold",children:[w.quantity," x $",w.price]})]}),p.jsx("button",{onClick:()=>o(i.filter(x=>x.id!==w.id)),className:"text-slate-600 hover:text-red-400",children:p.jsx(Wd,{size:16})})]},w.id))}),p.jsxs("div",{className:"pt-6 border-t border-white/5",children:[p.jsxs("div",{className:"flex justify-between items-end mb-8",children:[p.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:"Total a Confirmar"}),p.jsxs("p",{className:"text-4xl font-black text-white",children:["$",h.toLocaleString()]})]}),p.jsxs("button",{disabled:i.length===0,onClick:()=>a(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-900/20 flex items-center justify-center gap-3 disabled:opacity-20",children:["Confirmar Operacin ",p.jsx(Gb,{size:20})]})]})]})}),s&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-6 z-[100]",children:p.jsxs("div",{className:"bg-white rounded-[3.5rem] p-12 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-10",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Finalizar Venta"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Selecciona el tipo de documento a generar."})]}),p.jsx("button",{onClick:()=>a(!1),className:"p-3 bg-slate-100 rounded-full hover:bg-slate-200 transition-all",children:p.jsx(Oi,{})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("button",{onClick:()=>v("VENTA"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[p.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-blue-600 group-hover:text-white transition-all",children:p.jsx(Hb,{size:24})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Ingreso de Venta"}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Solo registro interno de caja."})]}),p.jsxs("button",{onClick:()=>v("ARCA"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-orange-600 group-hover:text-white transition-all",children:p.jsx(cl,{size:24})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Factura A / B (ARCA)"}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Validez fiscal AFIP inmediata."})]}),p.jsxs("button",{onClick:()=>v("REMITO"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-purple-500 hover:bg-purple-50 transition-all group",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-purple-600 group-hover:text-white transition-all",children:p.jsx(Xb,{size:24})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Generar Remito"}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Documento de entrega sin valor fiscal."})]}),p.jsxs("button",{onClick:()=>v("PRESUPUESTO"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-green-500 hover:bg-green-50 transition-all group",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-green-600 group-hover:text-white transition-all",children:p.jsx(G9,{size:24})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Cotizacin"}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Presupuesto vlido por 7 das."})]})]}),p.jsxs("div",{className:"mt-10 p-6 bg-slate-900 rounded-[2rem] flex justify-between items-center text-white",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Importe Total"}),p.jsxs("p",{className:"text-3xl font-black",children:["$",h.toLocaleString()]})]}),l&&p.jsx(Qge,{className:"animate-spin text-orange-500",size:32})]})]})}),c.show&&p.jsxs("div",{className:"fixed bottom-10 right-10 bg-green-600 text-white p-6 rounded-[2rem] shadow-2xl flex items-center gap-4 animate-in slide-in-from-bottom border-2 border-green-400",children:[p.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:p.jsx(Hd,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-black uppercase text-xs tracking-widest",children:"Operacin Exitosa"}),p.jsxs("p",{className:"text-[10px] font-bold opacity-80 uppercase italic",children:["Se ha generado el documento: ",c.type]})]})]})]})},Qge=({size:t,className:e})=>p.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})});var Zge={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eye,tye;function nye(){return{geminiUrl:eye,vertexUrl:tye}}function rye(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=nye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qi{}function ue(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>f(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function iye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}D_(t,i,o,0,s)}}function D_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])D_(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);g(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&D_(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oye(t){const e={},n=f(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function sye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],lye(s)),e}function aye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],uye(s)),e}function lye(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>cye(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function uye(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>dye(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function cye(t){const e={},n=f(t,["video"]);return n!=null&&g(e,["video"],yye(n)),e}function dye(t){const e={},n=f(t,["_self"]);return n!=null&&g(e,["video"],vye(n)),e}function fye(t){const e={},n=f(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function hye(t){const e={},n=f(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function pye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],mye(s)),e}function mye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function lV(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],gye(s)),e}function gye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function yye(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],aT(r));const i=f(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function vye(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],aT(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yN||(yN={}));var vN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vN||(vN={}));var xN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xN||(xN={}));var ft;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ft||(ft={}));var _N;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_N||(_N={}));var wN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wN||(wN={}));var bN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(bN||(bN={}));var EN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(EN||(EN={}));var TN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TN||(TN={}));var SN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SN||(SN={}));var AN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(AN||(AN={}));var IN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(IN||(IN={}));var CN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(CN||(CN={}));var PN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(PN||(PN={}));var NN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(NN||(NN={}));var kN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(kN||(kN={}));var RN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(RN||(RN={}));var MN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(MN||(MN={}));var ON;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ON||(ON={}));var DN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(DN||(DN={}));var LN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LN||(LN={}));var Am;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Am||(Am={}));var $N;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($N||($N={}));var jN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jN||(jN={}));var VN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(VN||(VN={}));var L_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(L_||(L_={}));var UN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(UN||(UN={}));var FN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(FN||(FN={}));var $_;(function(t){t.COLLECTION="COLLECTION"})($_||($_={}));var BN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(BN||(BN={}));var GN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(GN||(GN={}));var zN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zN||(zN={}));var qN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qN||(qN={}));var HN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(HN||(HN={}));var WN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(WN||(WN={}));var KN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(KN||(KN={}));var JN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(JN||(JN={}));var YN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(YN||(YN={}));var XN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(XN||(XN={}));var QN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(QN||(QN={}));var ZN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ZN||(ZN={}));var ek;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ek||(ek={}));var tk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(tk||(tk={}));var nk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(nk||(nk={}));var rk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(rk||(rk={}));var ik;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(ik||(ik={}));var ok;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ok||(ok={}));var sk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(sk||(sk={}));var ak;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ak||(ak={}));var lk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(lk||(lk={}));var uk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(uk||(uk={}));var ck;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ck||(ck={}));var dk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(dk||(dk={}));var fk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fk||(fk={}));var hk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hk||(hk={}));var pk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pk||(pk={}));var Ia;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ia||(Ia={}));class j_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ju{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class mk{}class gk{}class xye{}class _ye{}class wye{}class bye{}class yk{}class vk{}class xk{}class Eye{}class Im{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Im;let i;const o=e;return n?i=aye(o):i=sye(o),Object.assign(r,i),r}}class _k{}class wk{}class bk{}class Ek{}class Tye{}class Sye{}class Aye{}class lT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new lT,o=pye(e);return Object.assign(r,o),r}}class Iye{}class Cye{}class Pye{}class Tk{}class Nye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class kye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class uT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new uT,o=lV(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uV(t,e){const n=Be(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function cV(t){return Array.isArray(t)?t.map(e=>Cm(e)):[Cm(t)]}function Cm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function dV(t){const e=Cm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fV(t){const e=Cm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Sk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function hV(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Sk(e)):[Sk(t)]}function V_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ak(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ik(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pn(t){if(t==null)throw new Error("ContentUnion is required");return V_(t)?t:{role:"user",parts:hV(t)}}function cT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=pn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=pn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pn(n)):[pn(e)]}function cr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ak(t)||Ik(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pn(t)]}const e=[],n=[],r=V_(t[0]);for(const i of t){const o=V_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(Ak(i)||Ik(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:hV(n)}),e}function Rye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ft).includes(n[0].toUpperCase())?n[0].toUpperCase():ft.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ft).includes(r.toUpperCase())?r.toUpperCase():ft.TYPE_UNSPECIFIED})}}function qa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Rye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(ft).includes(a.toUpperCase())?a.toUpperCase():ft.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=qa(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(qa(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=qa(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function dT(t){return qa(t)}function fT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function hT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function iu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qa(e.response));return t}function ou(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Mye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Hi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Mye(t,e,"cachedContents")}function pV(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wo(t){return aT(t)}function Oye(t){return t!=null&&typeof t=="object"&&"name"in t}function Dye(t){return t!=null&&typeof t=="object"&&"video"in t}function Lye(t){return t!=null&&typeof t=="object"&&"uri"in t}function mV(t){var e;let n;if(Oye(t)&&(n=t.name),!(Lye(t)&&(n=t.uri,n===void 0))&&!(Dye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gV(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function yV(t){for(const e of["models","tunedModels","publisherModels"])if($ye(t,e))return t[e];return[]}function $ye(t,e){return t!==null&&typeof t=="object"&&e in t}function jye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Vye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=jye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function vV(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Uye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function xV(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function su(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _V(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fye(t){const e={},n=f(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>wve(s))),g(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function Bye(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Gye(t){const e={},n=f(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dh(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&g(e,["state"],_V(i));const o=f(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=f(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=f(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=f(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&g(e,["dest"],Fye(xV(u))),e}function U_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["state"]);i!=null&&g(e,["state"],_V(i));const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=f(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=f(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&g(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&g(e,["src"],zye(d));const h=f(t,["outputConfig"]);h!=null&&g(e,["dest"],Bye(xV(h)));const y=f(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function zye(t){const e={},n=f(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function qye(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>_ve(t,s))),g(n,["requests","requests"],o)}return n}function Hye(t){const e={},n=f(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Wye(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Kye(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],su(t,r)),n}function Jye(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],su(t,r)),n}function Yye(t){const e={},n=f(t,["content"]);n!=null&&g(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Xye(r));const i=f(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&g(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Xye(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function wV(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Cve(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Qye(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Zye(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Gye(Uye(i))),n}function Ck(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["src"]);i!=null&&g(n,["batch","inputConfig"],qye(t,vV(t,i)));const o=f(e,["config"]);return o!=null&&Qye(o,n),n}function eve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],Be(t,r));const i=f(e,["src"]);i!=null&&g(n,["inputConfig"],Hye(vV(t,i)));const o=f(e,["config"]);return o!=null&&Zye(o,n),n}function tve(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function nve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["src"]);i!=null&&g(n,["batch","inputConfig"],uve(t,i));const o=f(e,["config"]);return o!=null&&tve(o,n),n}function rve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],su(t,r)),n}function ive(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],su(t,r)),n}function ove(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);return o!=null&&g(e,["error"],o),e}function sve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);return o!=null&&g(e,["error"],o),e}function ave(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=cT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(g(n,["_self"],lve(i,n)),iye(n,{"requests[].*":"requests[].request.*"})),n}function lve(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function uve(t,e){const n={},r=f(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],ave(t,i)),n}function cve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function dve(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function hve(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],wV(pn(i)));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=f(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const x=f(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=f(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],dT(_));const b=f(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(F=>Pve(F))),g(n,["safetySettings"],O)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let O=ou(N);Array.isArray(O)&&(O=O.map(F=>kve(iu(F)))),g(n,["tools"],O)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],Nve(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],Hi(t,P));const S=f(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const C=f(e,["mediaResolution"]);C!=null&&g(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],fT(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const M=f(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],xve(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function pve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Yye(u))),g(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function mve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],su(t,r)),n}function gve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],su(t,r)),n}function yve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function vve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function xve(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _ve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["request","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let a=cr(i);Array.isArray(a)&&(a=a.map(l=>wV(l))),g(n,["request","contents"],a)}const o=f(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=f(e,["config"]);return s!=null&&g(n,["request","generationConfig"],hve(t,s,f(n,["request"],{}))),n}function wve(t){const e={},n=f(t,["response"]);n!=null&&g(e,["response"],pve(n));const r=f(t,["error"]);return r!=null&&g(e,["error"],r),e}function bve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Eve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function Tve(t){const e={},n=f(t,["config"]);return n!=null&&bve(n,e),e}function Sve(t){const e={},n=f(t,["config"]);return n!=null&&Eve(n,e),e}function Ave(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Dh(s))),g(e,["batchJobs"],o)}return e}function Ive(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>U_(s))),g(e,["batchJobs"],o)}return e}function Cve(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],cve(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],dve(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Wye(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Pve(t){const e={},n=f(t,["category"]);if(n!=null&&g(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Nve(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],fve(r)),e}function kve(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],yve(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],vve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vi||(Vi={}));class Ys{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rve extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Ck(this.apiClient,e),r=n._url,i=ue("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const y=d.request;y.systemInstruction=h,d.request=y}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eve(this.apiClient,e);return a=ue("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>U_(c))}else{const u=Ck(this.apiClient,e);return a=ue("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Dh(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nve(this.apiClient,e);return o=ue("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Dh(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=gve(this.apiClient,e);return a=ue("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>U_(c))}else{const u=mve(this.apiClient,e);return a=ue("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Dh(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Jye(this.apiClient,e);s=ue("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Kye(this.apiClient,e);s=ue("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Sve(e);return a=ue("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ive(c),h=new Tk;return Object.assign(h,d),h})}else{const u=Tve(e);return a=ue("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ave(c),h=new Tk;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ive(this.apiClient,e);return a=ue("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>sve(c))}else{const u=rve(this.apiClient,e);return a=ue("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>ove(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mve(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Pk(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>n0e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Ove(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let c=cr(s);Array.isArray(c)&&(c=c.map(d=>Pk(d))),g(e,["contents"],c)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],Pk(pn(a)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>i0e(d))),g(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],r0e(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Dve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let d=cr(s);Array.isArray(d)&&(d=d.map(h=>h)),g(e,["contents"],d)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],pn(a));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>o0e(h))),g(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function Lve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],uV(t,r));const i=f(e,["config"]);return i!=null&&Ove(i,n),n}function $ve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],uV(t,r));const i=f(e,["config"]);return i!=null&&Dve(i,n),n}function jve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Vve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Uve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Fve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Bve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Gve(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qve(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Hve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Wve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Kve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Jve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Yve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Xve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Qve(t){const e={},n=f(t,["config"]);return n!=null&&Yve(n,e),e}function Zve(t){const e={},n=f(t,["config"]);return n!=null&&Xve(n,e),e}function e0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function t0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function n0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],Bve(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],Gve(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Mve(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function r0e(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],zve(r)),e}function i0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Kve(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Jve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function o0e(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>qve(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function s0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function a0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function l0e(t,e){const n={},r=f(e,["name"]);r!=null&&g(n,["_url","name"],Hi(t,r));const i=f(e,["config"]);return i!=null&&s0e(i,n),n}function u0e(t,e){const n={},r=f(e,["name"]);r!=null&&g(n,["_url","name"],Hi(t,r));const i=f(e,["config"]);return i!=null&&a0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0e extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$ve(this.apiClient,e);return a=ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Lve(this.apiClient,e);return a=ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Wve(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Hve(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Vve(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Fve(c),h=new bk;return Object.assign(h,d),h})}else{const u=jve(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Uve(c),h=new bk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=u0e(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=l0e(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Zve(e);return a=ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=t0e(c),h=new Ek;return Object.assign(h,d),h})}else{const u=Qve(e);return a=ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=e0e(c),h=new Ek;return Object.assign(h,d),h})}}}function Pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(t){return this instanceof be?(this.v=t,this):new be(t)}function Rr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,d)}}function a(y,v){r[y]&&(i[y]=function(w){return new Promise(function(x,_){o.push([y,w,x,_])>1||l(y,w)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(w){h(o[0][3],w)}}function u(y){y.value instanceof be?Promise.resolve(y.value.v).then(c,d):h(o[0][2],y)}function c(y){l("next",y)}function d(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Mr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nk=="function"?Nk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:bV(n)}function bV(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function f0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!bV(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class h0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new p0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class p0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),f0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=pn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=pn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?kk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Rr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,h=Mr(e),y;y=yield be(h.next()),i=y.done,!i;d=!0){a=y.value,d=!1;const v=a;if(d0e(v)){const w=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield be(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(s=h.return)&&(yield be(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...kk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ad extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ad.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m0e(t){const e={},n=f(t,["file"]);return n!=null&&g(e,["file"],n),e}function g0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function y0e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","file"],mV(n)),e}function v0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function x0e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","file"],mV(n)),e}function _0e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function w0e(t){const e={},n=f(t,["config"]);return n!=null&&_0e(n,e),e}function b0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E0e extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=w0e(e);return o=ue("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=b0e(l),c=new Iye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=m0e(e);return o=ue("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=g0e(l),c=new Cye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=x0e(e);return o=ue("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=y0e(e);return o=ue("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=v0e(l),c=new Pye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lh(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function T0e(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>U0e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function S0e(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function A0e(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function I0e(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function C0e(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=f(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const w=f(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const x=f(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const _=f(t,["seed"]);_!=null&&g(e,["seed"],_);const b=f(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const T=f(t,["stopSequences"]);T!=null&&g(e,["stopSequences"],T);const N=f(t,["temperature"]);N!=null&&g(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&g(e,["topK"],P);const S=f(t,["topP"]);if(S!=null&&g(e,["topP"],S),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function P0e(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function N0e(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function k0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],hT(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],T0e(pn(v)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=ou(w);Array.isArray(P)&&(P=P.map(S=>B0e(iu(S)))),g(e,["setup","tools"],P)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],F0e(x));const _=f(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&g(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function R0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],C0e(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],hT(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],pn(v));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let S=ou(w);Array.isArray(S)&&(S=S.map(C=>G0e(iu(C)))),g(e,["setup","tools"],S)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const _=f(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&g(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);e!==void 0&&A!=null&&g(e,["setup","proactivity"],A);const P=f(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&g(e,["setup","explicitVadSignal"],P),n}function M0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],Be(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],k0e(i,n)),n}function O0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],Be(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],R0e(i,n)),n}function D0e(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function L0e(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function $0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=cV(n);Array.isArray(u)&&(u=u.map(c=>Lh(c))),g(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],Lh(fV(r)));const i=f(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&g(e,["video"],Lh(dV(o)));const s=f(t,["text"]);s!=null&&g(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function j0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=cV(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],fV(r));const i=f(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&g(e,["video"],dV(o));const s=f(t,["text"]);s!=null&&g(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function V0e(t){const e={},n=f(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=f(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],z0e(s));const a=f(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=f(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=f(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],q0e(c)),e}function U0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],S0e(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],A0e(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Lh(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function F0e(t){const e={},n=f(t,["handle"]);if(n!=null&&g(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function B0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],P0e(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],N0e(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function G0e(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>I0e(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function z0e(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=f(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=f(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=f(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=f(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function q0e(t){const e={},n=f(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H0e(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function W0e(t){const e={},n=f(t,["content"]);n!=null&&g(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],K0e(r));const i=f(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&g(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function K0e(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function J0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let o=cr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function Y0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function X0e(t){const e={},n=f(t,["values"]);n!=null&&g(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&g(e,["statistics"],Q0e(r)),e}function Q0e(t){const e={},n=f(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function sy(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>a_e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Z0e(t){const e={},n=f(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function exe(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function txe(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],pn(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>AV(a))),g(e,["tools"],s)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],Hxe(o)),n}function nxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>sy(a))),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&exe(o),n}function rxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&txe(o,n),n}function ixe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function oxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function sxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],Be(t,r)),n}function axe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],Be(t,r)),n}function lxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function uxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function cxe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const _=f(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const b=f(t,["editMode"]);e!==void 0&&b!=null&&g(e,["parameters","editMode"],b);const T=f(t,["baseSteps"]);return e!==void 0&&T!=null&&g(e,["parameters","editConfig","baseSteps"],T),n}function dxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>h_e(l))),g(n,["instances[0]","referenceImages"],a)}const s=f(e,["config"]);return s!=null&&cxe(s,n),n}function fxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ay(o))),g(e,["generatedImages"],i)}return e}function hxe(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function pxe(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=f(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=f(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function mxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let a=cT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=f(e,["config"]);o!=null&&hxe(o,n);const s=f(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],Be(t,s)),n}function gxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let s=cT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=f(e,["config"]);return o!=null&&pxe(o,n),n}function yxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function vxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>X0e(s))),g(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function xxe(t){const e={},n=f(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function _xe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wxe(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bxe(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Exe(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Txe(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],sy(pn(i)));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=f(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const x=f(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=f(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],dT(_));const b=f(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(F=>p_e(F))),g(n,["safetySettings"],O)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let O=ou(N);Array.isArray(O)&&(O=O.map(F=>w_e(iu(F)))),g(n,["tools"],O)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],__e(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],Hi(t,P));const S=f(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const C=f(e,["mediaResolution"]);C!=null&&g(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],fT(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const M=f(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],Xxe(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Sxe(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],pn(i));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=f(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const x=f(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=f(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],dT(_));const b=f(e,["responseJsonSchema"]);b!=null&&g(r,["responseJsonSchema"],b);const T=f(e,["routingConfig"]);T!=null&&g(r,["routingConfig"],T);const N=f(e,["modelSelectionConfig"]);N!=null&&g(r,["modelConfig"],N);const A=f(e,["safetySettings"]);if(n!==void 0&&A!=null){let W=A;Array.isArray(W)&&(W=W.map(U=>U)),g(n,["safetySettings"],W)}const P=f(e,["tools"]);if(n!==void 0&&P!=null){let W=ou(P);Array.isArray(W)&&(W=W.map(U=>AV(iu(U)))),g(n,["tools"],W)}const S=f(e,["toolConfig"]);n!==void 0&&S!=null&&g(n,["toolConfig"],S);const C=f(e,["labels"]);n!==void 0&&C!=null&&g(n,["labels"],C);const I=f(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],Hi(t,I));const R=f(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const M=f(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const D=f(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],fT(D));const O=f(e,["audioTimestamp"]);O!=null&&g(r,["audioTimestamp"],O);const F=f(e,["thinkingConfig"]);F!=null&&g(r,["thinkingConfig"],F);const B=f(e,["imageConfig"]);if(B!=null&&g(r,["imageConfig"],Qxe(B)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=f(e,["modelArmorConfig"]);return n!==void 0&&z!=null&&g(n,["modelArmorConfig"],z),r}function Rk(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>sy(a))),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&g(n,["generationConfig"],Txe(t,o,n)),n}function Mk(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["contents"]);if(i!=null){let s=cr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&g(n,["generationConfig"],Sxe(t,o,n)),n}function Ok(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>W0e(u))),g(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function Dk(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=f(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=f(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=f(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function Axe(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=f(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=f(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Ixe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const _=f(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b);const T=f(t,["enhancePrompt"]);return e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T),n}function Cxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Axe(o,n),n}function Pxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Ixe(o,n),n}function Nxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Bxe(s))),g(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],TV(i)),e}function kxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ay(s))),g(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],SV(i)),e}function Rxe(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=f(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=f(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],ly(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>O_e(y))),g(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Mxe(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=f(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=f(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=f(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],$r(w));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let T=x;Array.isArray(T)&&(T=T.map(N=>D_e(N))),g(e,["instances[0]","referenceImages"],T)}const _=f(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],M_e(_));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&g(e,["parameters","compressionQuality"],b),n}function Oxe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],jxe(s)),e}function Dxe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],Vxe(s)),e}function Lxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&g(n,["instances[0]","image"],ly(o));const s=f(e,["video"]);s!=null&&g(n,["instances[0]","video"],IV(s));const a=f(e,["source"]);a!=null&&Uxe(a,n);const l=f(e,["config"]);return l!=null&&Rxe(l,n),n}function $xe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&g(n,["instances[0]","image"],$r(o));const s=f(e,["video"]);s!=null&&g(n,["instances[0]","video"],CV(s));const a=f(e,["source"]);a!=null&&Fxe(a,n);const l=f(e,["config"]);return l!=null&&Mxe(l,n),n}function jxe(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>zxe(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Vxe(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qxe(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Uxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ly(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],IV(o)),n}function Fxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],$r(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],CV(o)),n}function Bxe(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["image"],Zxe(n));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],TV(i)),e}function ay(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["image"],EV(n));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&g(e,["safetyAttributes"],SV(i));const o=f(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function Gxe(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["mask"],EV(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function zxe(t){const e={},n=f(t,["video"]);return n!=null&&g(e,["video"],k_e(n)),e}function qxe(t){const e={},n=f(t,["_self"]);return n!=null&&g(e,["video"],R_e(n)),e}function Hxe(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=f(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const w=f(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const x=f(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const _=f(t,["seed"]);_!=null&&g(e,["seed"],_);const b=f(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const T=f(t,["stopSequences"]);T!=null&&g(e,["stopSequences"],T);const N=f(t,["temperature"]);N!=null&&g(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&g(e,["topK"],P);const S=f(t,["topP"]);if(S!=null&&g(e,["topP"],S),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Wxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],Be(t,r)),n}function Kxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],Be(t,r)),n}function Jxe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Yxe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Xxe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Qxe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=f(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function Zxe(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Wo(n));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function EV(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ly(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Wo(n));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $r(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function e_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],gV(t,a)),r}function t_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],gV(t,a)),r}function n_e(t,e){const n={},r=f(e,["config"]);return r!=null&&e_e(t,r,n),n}function r_e(t,e){const n={},r=f(e,["config"]);return r!=null&&t_e(t,r,n),n}function i_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=yV(i);Array.isArray(o)&&(o=o.map(s=>F_(s))),g(e,["models"],o)}return e}function o_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=yV(i);Array.isArray(o)&&(o=o.map(s=>B_(s))),g(e,["models"],o)}return e}function s_e(t){const e={},n=f(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function F_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);i!=null&&g(e,["description"],i);const o=f(t,["version"]);o!=null&&g(e,["version"],o);const s=f(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],b_e(s));const a=f(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=f(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&g(e,["topP"],h);const y=f(t,["topK"]);y!=null&&g(e,["topK"],y);const v=f(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function B_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);i!=null&&g(e,["description"],i);const o=f(t,["versionId"]);o!=null&&g(e,["version"],o);const s=f(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>xxe(h))),g(e,["endpoints"],d)}const a=f(t,["labels"]);a!=null&&g(e,["labels"],a);const l=f(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],E_e(l));const u=f(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),g(e,["checkpoints"],d)}return e}function a_e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],_xe(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],wxe(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],H0e(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function l_e(t){const e={},n=f(t,["productImage"]);return n!=null&&g(e,["image"],$r(n)),e}function u_e(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=f(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=f(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function c_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["source"]);i!=null&&f_e(i,n);const o=f(e,["config"]);return o!=null&&u_e(o,n),n}function d_e(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ay(i))),g(e,["generatedImages"],r)}return e}function f_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],$r(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>l_e(a))),g(e,["instances[0]","productImages"],s)}return n}function h_e(t){const e={},n=f(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],$r(n));const r=f(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],s_e(o));const s=f(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],Z0e(s));const a=f(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=f(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function TV(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function SV(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function p_e(t){const e={},n=f(t,["category"]);if(n!=null&&g(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function m_e(t){const e={},n=f(t,["image"]);return n!=null&&g(e,["image"],$r(n)),e}function g_e(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=f(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=f(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=f(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function y_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["source"]);i!=null&&x_e(i,n);const o=f(e,["config"]);return o!=null&&g_e(o,n),n}function v_e(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gxe(i))),g(e,["generatedMasks"],r)}return e}function x_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],$r(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],m_e(o)),n}function __e(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],bxe(r)),e}function w_e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Jxe(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Yxe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function AV(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Exe(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function b_e(t){const e={},n=f(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function E_e(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function T_e(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function S_e(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function A_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","name"],Be(t,r));const i=f(e,["config"]);return i!=null&&T_e(i,n),n}function I_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["config"]);return i!=null&&S_e(i,n),n}function C_e(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=f(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=f(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=f(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function P_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],Be(t,r));const i=f(e,["image"]);i!=null&&g(n,["instances[0]","image"],$r(i));const o=f(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=f(e,["config"]);return s!=null&&C_e(s,n),n}function N_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ay(o))),g(e,["generatedImages"],i)}return e}function k_e(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],Wo(r));const i=f(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function R_e(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function M_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["_self"],$r(n));const r=f(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function O_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["image"],ly(n));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function D_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["image"],$r(n));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function IV(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function CV(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L_e(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function $_e(t){const e={},n=f(t,["config"]);return n!=null&&L_e(n,e),e}function j_e(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function V_e(t){const e={},n=f(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&j_e(r,e),e}function U_e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function F_e(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function B_e(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],z_e(s)),e}function G_e(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&F_e(i,e),e}function z_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function q_e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function H_e(t){const e={},n=f(t,["config"]);return n!=null&&q_e(n,e),e}function W_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function PV(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=f(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function K_e(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&PV(r,e),e}function J_e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y_e="Content-Type",X_e="X-Server-Timeout",Q_e="User-Agent",G_="x-goog-api-client",Z_e="1.38.0",ewe=`google-genai-sdk/${Z_e}`,twe="v1beta1",nwe="v1beta";class rwe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:twe}else{if(!this.clientOptions.apiKey)throw new Ad({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nwe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===$_.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&iwe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Lk(i),new j_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Lk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Rr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield be(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const w=JSON.parse(JSON.stringify(v.error)),x=w.status,_=w.code,b=`got status: ${x}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new Ad({message:b,status:_})}}catch(v){if(v.name==="ApiError")throw v}s+=d;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const _=s.indexOf(x);_!==-1&&(h===-1||_<h)&&(h=_,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const w=v.trim();if(w.startsWith(a)){const x=w.substring(a.length).trim();try{const _=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield be(new j_(_))}catch(_){throw new Error(`exception parsing stream chunk ${x}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ewe+" "+this.clientOptions.userAgentExtra;return e[Q_e]=n,e[G_]=n,e[Y_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(X_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=ue("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&PV(r,d);const h=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Lk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ad({message:i,status:n}):new Error(i)}}function iwe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const owe="mcp_used/unknown";let swe=!1;function NV(t){for(const e of t)if(awe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return swe}function kV(t){var e;const n=(e=t[G_])!==null&&e!==void 0?e:"";t[G_]=(n+` ${owe}`).trimStart()}function awe(t){return t!==null&&typeof t=="object"&&t instanceof pT}function lwe(t){return Rr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield be(n.listTools({cursor:i}));for(const a of s.tools)yield yield be(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class pT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new pT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Mr(lwe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Vye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uwe(t,e,n){const r=new kye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class cwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=hwe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(T=>{u=T}),d=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:T=>{uwe(y,d.onmessage,T)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(T){}},w=this.webSocketFactory.create(l,fwe(s),v);w.connect(),await c;const b={setup:{model:Be(this.apiClient,e.model)}};return w.send(JSON.stringify(b)),new dwe(w,this.apiClient)}}class dwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=L0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=D0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ia.PLAY)}pause(){this.sendPlaybackControl(Ia.PAUSE)}stop(){this.sendPlaybackControl(Ia.STOP)}resetContext(){this.sendPlaybackControl(Ia.RESET_CONTEXT)}close(){this.conn.close()}}function fwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mwe(t,e,n){const r=new Nye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=V0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class gwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new cwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&NV(e.config.tools)&&kV(d);const h=_we(d);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),D=!!I&&!!R||!!M;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",M="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${M}=${I}`}let y=()=>{};const v=new Promise(I=>{y=I}),w=e.callbacks,x=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),y({})},_=this.apiClient,b={onopen:x,onmessage:I=>{mwe(_,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(I){}},T=this.webSocketFactory.create(c,xwe(h),b);T.connect(),await v;let N=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(N=`projects/${I}/locations/${R}/`+N)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Am.AUDIO]}:e.config.responseModalities=[Am.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],S=[];for(const I of P)if(this.isCallableTool(I)){const R=I;S.push(await R.tool())}else S.push(I);S.length>0&&(e.config.tools=S);const C={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=O0e(this.apiClient,C):A=M0e(this.apiClient,C),delete A.config,T.send(JSON.stringify(A)),new vwe(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ywe={turnComplete:!0};class vwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=cr(n.turns),e.isVertexAI()||(r=r.map(i=>sy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(pwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ywe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:j0e(e)}:n={realtimeInput:$0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function _we(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $k=10;function jk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ha(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ha(t){return"callTool"in t&&typeof t.callTool=="function"}function wwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ha(i)))!==null&&r!==void 0?r:!1}function Vk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ha(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Uk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bwe extends qi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!wwe(n)||jk(n.config))return await this.generateContentInternal(l);const u=Vk(n);if(u.length>0){const w=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=cr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:$k;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,x=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ha(_)){const T=await _.callTool(c.functionCalls);x.push(...T)}v++,d={role:"user",parts:x},l.contents=cr(l.contents),l.contents.push(w),l.contents.push(d),Uk(l.config)&&(h.push(w),h.push(d))}return Uk(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),jk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=Vk(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ys(Vi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Ha(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&NV(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),kV(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ha(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$k;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Rr(this,arguments,function*(){for(var h,y,v,w,x,_;a<o;){s&&(a++,s=!1);const A=yield be(u.processParamsMaybeAddMcpUsage(d)),P=yield be(u.generateContentStreamInternal(A)),S=[],C=[];try{for(var b=!0,T=(y=void 0,Mr(P)),N;N=yield be(T.next()),h=N.done,!h;b=!0){w=N.value,b=!1;const I=w;if(yield yield be(I),I.candidates&&(!((x=I.candidates[0])===null||x===void 0)&&x.content)){C.push(I.candidates[0].content);for(const R of(_=I.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(R.functionCall.name)){const M=yield be(c.get(R.functionCall.name).callTool([R.functionCall]));S.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!b&&!h&&(v=T.return)&&(yield be(v.call(T)))}finally{if(y)throw y.error}}if(S.length>0){s=!0;const I=new ju;I.candidates=[{content:{role:"user",parts:S}}],yield yield be(I);const R=[];R.push(...C),R.push({role:"user",parts:S});const M=cr(d.contents).concat(R);d.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Mk(this.apiClient,e);return a=ue("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Dk(c),h=new ju;return Object.assign(h,d),h})}else{const u=Rk(this.apiClient,e);return a=ue("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ok(c),h=new ju;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Mk(this.apiClient,e);return a=ue("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Rr(this,arguments,function*(){var h,y,v,w;try{for(var x=!0,_=Mr(d),b;b=yield be(_.next()),h=b.done,!h;x=!0){w=b.value,x=!1;const T=w,N=Dk(yield be(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new ju;Object.assign(A,N),yield yield be(A)}}catch(T){y={error:T}}finally{try{!x&&!h&&(v=_.return)&&(yield be(v.call(_)))}finally{if(y)throw y.error}}})})}else{const u=Rk(this.apiClient,e);return a=ue("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return Rr(this,arguments,function*(){var h,y,v,w;try{for(var x=!0,_=Mr(d),b;b=yield be(_.next()),h=b.done,!h;x=!0){w=b.value,x=!1;const T=w,N=Ok(yield be(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new ju;Object.assign(A,N),yield yield be(A)}}catch(T){y={error:T}}finally{try{!x&&!h&&(v=_.return)&&(yield be(v.call(_)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=gxe(this.apiClient,e);return a=ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=vxe(c),h=new mk;return Object.assign(h,d),h})}else{const u=mxe(this.apiClient,e);return a=ue("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=yxe(c),h=new mk;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Pxe(this.apiClient,e);return a=ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=kxe(c),h=new gk;return Object.assign(h,d),h})}else{const u=Cxe(this.apiClient,e);return a=ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Nxe(c),h=new gk;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=dxe(this.apiClient,e);return o=ue("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=fxe(l),c=new xye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=P_e(this.apiClient,e);return o=ue("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=N_e(l),c=new _ye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=c_e(this.apiClient,e);return o=ue("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=d_e(l),c=new wye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=y_e(this.apiClient,e);return o=ue("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=v_e(l),c=new bye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Kxe(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>B_(c))}else{const u=Wxe(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>F_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=r_e(this.apiClient,e);return a=ue("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=o_e(c),h=new yk;return Object.assign(h,d),h})}else{const u=n_e(this.apiClient,e);return a=ue("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=i_e(c),h=new yk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=I_e(this.apiClient,e);return a=ue("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>B_(c))}else{const u=A_e(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>F_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=axe(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=uxe(c),h=new vk;return Object.assign(h,d),h})}else{const u=sxe(this.apiClient,e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=lxe(c),h=new vk;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rxe(this.apiClient,e);return a=ue("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=oxe(c),h=new xk;return Object.assign(h,d),h})}else{const u=nxe(this.apiClient,e);return a=ue("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=ixe(c),h=new xk;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=J0e(this.apiClient,e);return o=ue("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Y0e(l),c=new Eye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$xe(this.apiClient,e);return a=ue("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Dxe(c),h=new Im;return Object.assign(h,d),h})}else{const u=Lxe(this.apiClient,e);return a=ue("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Oxe(c),h=new Im;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ewe extends qi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hye(e);return a=ue("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=fye(e);return a=ue("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=oye(e);return o=ue("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Twe(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Swe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Owe(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Awe(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=f(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=f(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],Mwe(t,a));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function Iwe(t,e){const n={},r=f(e,["config"]);return r!=null&&g(n,["config"],Awe(t,r,n)),n}function Cwe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Pwe(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Nwe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function kwe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Rwe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],hT(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],Swe(pn(v)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=ou(w);Array.isArray(P)&&(P=P.map(S=>Lwe(iu(S)))),g(e,["setup","tools"],P)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],Dwe(x));const _=f(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&g(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Mwe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],Be(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],Rwe(i,n)),n}function Owe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],Cwe(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],Pwe(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Twe(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Dwe(t){const e={},n=f(t,["handle"]);if(n!=null&&g(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Lwe(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Nwe(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],kwe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $we(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function jwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=$we(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Vwe extends qi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Iwe(this.apiClient,e);o=ue("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=jwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uwe(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function Fwe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Uwe(r,e),e}function Bwe(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function Gwe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function zwe(t){const e={},n=f(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&Gwe(r,e),e}function qwe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hwe extends qi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ys(Vi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Bwe(e);return o=ue("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Fwe(e);i=ue("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zwe(e);return o=ue("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qwe(l),c=new Tye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wwe extends qi{constructor(e,n=new Hwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ys(Vi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$_e(e);return o=ue("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=U_e(e);return o=ue("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=V_e(e);i=ue("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=H_e(e);return o=ue("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=W_e(l),c=new Sye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=K_e(e);return o=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=J_e(l),c=new Aye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=G_e(e);return o=ue("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=B_e(l),c=new lT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let RV=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return RV=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Kwe=()=>RV();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const q_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mr extends Error{}class En extends mr{constructor(e,n,r,i){super(`${En.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new uy({message:r,cause:q_(n)});const o=n;return e===400?new OV(e,o,r,i):e===401?new DV(e,o,r,i):e===403?new LV(e,o,r,i):e===404?new $V(e,o,r,i):e===409?new jV(e,o,r,i):e===422?new VV(e,o,r,i):e===429?new UV(e,o,r,i):e>=500?new FV(e,o,r,i):new En(e,o,r,i)}}class H_ extends En{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class uy extends En{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class MV extends uy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class OV extends En{}class DV extends En{}class LV extends En{}class $V extends En{}class jV extends En{}class VV extends En{}class UV extends En{}class FV extends En{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jwe=/^[a-z][a-z0-9+.-]*:/i,Ywe=t=>Jwe.test(t);let W_=t=>(W_=Array.isArray,W_(t));const Xwe=W_;let Qwe=Xwe;const Fk=Qwe;function Zwe(t){if(!t)return!0;for(const e in t)return!1;return!0}function ebe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const tbe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new mr(`${t} must be an integer`);if(e<0)throw new mr(`${t} must be a positive integer`);return e},nbe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rbe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ibe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const obe=()=>{var t,e,n,r,i;const o=ibe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Gk(Deno.build.os),"X-Stainless-Arch":Bk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Gk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Bk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=sbe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sbe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Bk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Gk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let uh;const abe=()=>uh??(uh=obe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function BV(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ube(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return BV({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function GV(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dbe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zV=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Bv(t,e,n){return zV(),new File(t,e??"unknown_file",n)}function fbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const hbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qV=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",pbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&qV(t),mbe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function gbe(t,e,n){if(zV(),t=await t,pbe(t))return t instanceof File?t:Bv([await t.arrayBuffer()],t.name);if(mbe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Bv(await K_(i),e,n)}const r=await K_(t);if(e||(e=fbe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Bv(r,e,n)}async function K_(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(qV(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(hbe(t))try{for(var a=!0,l=Mr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await K_(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${ybe(t)}`)}return s}function ybe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HV{constructor(e){this._client=e}}HV._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WV(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zk=Object.freeze(Object.create(null)),vbe=(t=WV)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,h)=>{var y,v,w;/[?#]/.test(d)&&(i=!0);const x=r[h];let _=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((w=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:zk))!==null&&v!==void 0?v:zk))===null||w===void 0?void 0:w.toString))&&(_=x+"",o.push({start:c.length+d.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":_)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),w="^".repeat(y.length);return c=y.start+y.length,h+v+w},"");throw new mr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${d}`)}return s},ch=vbe(WV);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KV extends HV{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Pm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new mr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new mr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ch`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ch`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ch`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Pm(o,["api_version"]);return this._client.get(ch`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}KV._key=Object.freeze(["interactions"]);class JV extends KV{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xbe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let dh;function mT(t){let e;return(dh??(e=new globalThis.TextEncoder,dh=e.encode.bind(e)))(t)}let fh;function qk(t){let e;return(fh??(e=new globalThis.TextDecoder,fh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cy{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?mT(e):e;this.buffer=xbe([this.buffer,n]);const r=[];let i;for(;(i=_be(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(qk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=qk(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}cy.NEWLINE_CHARS=new Set([`
`,"\r"]);cy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _be(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function wbe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nm={off:0,error:200,warn:300,info:400,debug:500},Hk=(t,e,n)=>{if(t){if(ebe(Nm,t))return t;yn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Nm))}`)}};function Ju(){}function hh(t,e,n){return!e||Nm[t]>Nm[n]?Ju:e[t].bind(e)}const bbe={error:Ju,warn:Ju,info:Ju,debug:Ju};let Wk=new WeakMap;function yn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return bbe;const i=Wk.get(n);if(i&&i[0]===r)return i[1];const o={error:hh("error",n,r),warn:hh("warn",n,r),info:hh("info",n,r),debug:hh("debug",n,r)};return Wk.set(n,[r,o]),o}const us=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ca{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?yn(r):console;function s(){return Rr(this,arguments,function*(){var l,u,c,d;if(i)throw new mr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Mr(Ebe(e,n)),w;w=yield be(v.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const x=d;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield be(JSON.parse(x.data))}catch(_){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),_}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield be(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(z_(x))return yield be(void 0);throw x}finally{h||n.abort()}})}return new Ca(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Rr(this,arguments,function*(){var l,u,c,d;const h=new cy,y=GV(e);try{for(var v=!0,w=Mr(y),x;x=yield be(w.next()),l=x.done,!l;v=!0){d=x.value,v=!1;const _=d;for(const b of h.decode(_))yield yield be(b)}}catch(_){u={error:_}}finally{try{!v&&!l&&(c=w.return)&&(yield be(c.call(w)))}finally{if(u)throw u.error}}for(const _ of h.flush())yield yield be(_)})}function s(){return Rr(this,arguments,function*(){var l,u,c,d;if(i)throw new mr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Mr(o()),w;w=yield be(v.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const x=d;h||x&&(yield yield be(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield be(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(z_(x))return yield be(void 0);throw x}finally{h||n.abort()}})}return new Ca(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ca(()=>i(e),this.controller,this.client),new Ca(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return BV({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=mT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Ebe(t,e){return Rr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mr("Attempted to iterate over a response with no body");const a=new Sbe,l=new cy,u=GV(t.body);try{for(var c=!0,d=Mr(Tbe(u)),h;h=yield be(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const w=a.decode(v);w&&(yield yield be(w))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=d.return)&&(yield be(o.call(d)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield be(v))}})}function Tbe(t){return Rr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Mr(t),u;u=yield be(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?mT(c):c;let h=new Uint8Array(s.length+d.length);h.set(s),h.set(d,s.length),s=h;let y;for(;(y=wbe(s))!==-1;)yield yield be(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield be(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield be(s))})}class Sbe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Abe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Abe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ibe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return yn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ca.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return yn(t).debug(`[${r}] response parsed`,us({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gT extends Promise{constructor(e,n,r=Ibe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new gT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YV=Symbol("brand.privateNullableHeaders");function*Cbe(t){if(!t)return;if(YV in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Fk(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Fk(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Vu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Cbe(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[YV]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Zge)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var XV;class dy{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Gv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Gv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=Pm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:dy.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=Hk(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Hk(Gv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:lbe(),this.encoder=dbe,this._options=y,this.apiKey=c,this.apiVersion=d,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Vu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Vu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Vu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new mr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${Kwe()}`}makeStatusError(e,n,r,i){return En.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Ywe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Zwe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new gT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(yn(this).debug(`[${h}] sending request`,us({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new H_;const w=new AbortController,x=await this.fetchWithTimeout(c,u,d,w).catch(q_),_=Date.now();if(x instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new H_;const N=z_(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return yn(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${T}`),yn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${T})`,us({retryOfRequestLogID:r,url:c,durationMs:_-v,message:x.message})),this.retryRequest(a,n,r??h);throw yn(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),yn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,us({retryOfRequestLogID:r,url:c,durationMs:_-v,message:x.message})),N?new MV:new uy({cause:x})}const b=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${_-v}ms`;if(!x.ok){const T=await this.shouldRetry(x);if(n&&T){const I=`retrying, ${n} attempts remaining`;return await cbe(x.body),yn(this).info(`${b} - ${I}`),yn(this).debug(`[${h}] response error (${I})`,us({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),this.retryRequest(a,n,r??h,x.headers)}const N=T?"error; no more retries left":"error; not retryable";yn(this).info(`${b} - ${N}`);const A=await x.text().catch(I=>q_(I).message),P=nbe(A),S=P?void 0:A;throw yn(this).debug(`[${h}] response error (${N})`,us({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:S,durationMs:Date.now()-v})),this.makeStatusError(x.status,P,S,x.headers)}return yn(this).info(b),yn(this).debug(`[${h}] response start`,us({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),{response:x,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Pm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await rbe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&tbe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Vu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),abe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Vu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ube(e)}:this.encoder({body:e,headers:r})}}dy.DEFAULT_TIMEOUT=6e4;class zt extends dy{constructor(){super(...arguments),this.interactions=new JV(this)}}XV=zt;zt.GeminiNextGenAPIClient=XV;zt.GeminiNextGenAPIClientError=mr;zt.APIError=En;zt.APIConnectionError=uy;zt.APIConnectionTimeoutError=MV;zt.APIUserAbortError=H_;zt.NotFoundError=$V;zt.ConflictError=jV;zt.RateLimitError=UV;zt.BadRequestError=OV;zt.AuthenticationError=DV;zt.InternalServerError=FV;zt.PermissionDeniedError=LV;zt.UnprocessableEntityError=VV;zt.toFile=gbe;zt.Interactions=JV;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Nbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function kbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Rbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Mbe(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=f(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=f(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Obe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],Kk(y))}else if(i==="PREFERENCE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],Kk(y))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=f(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=f(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Dbe(t,e){const n={},r=f(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Hbe(o);const s=f(t,["config"]);return s!=null&&Mbe(s,n),n}function Lbe(t,e){const n={},r=f(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Wbe(o,n,e);const s=f(t,["config"]);return s!=null&&Obe(s,n,e),n}function $be(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function jbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Vbe(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function Ube(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function Fbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Vbe(r,n),n}function Bbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Ube(r,n),n}function Gbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>QV(a))),g(n,["tuningJobs"],s)}return n}function zbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>J_(a))),g(n,["tuningJobs"],s)}return n}function qbe(t,e){const n={},r=f(t,["name"]);r!=null&&g(n,["model"],r);const i=f(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function Hbe(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function Wbe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function QV(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["state"]);o!=null&&g(n,["state"],pV(o));const s=f(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=f(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=f(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&g(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&g(n,["tunedModel"],qbe(h)),n}function J_(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["state"]);o!=null&&g(n,["state"],pV(o));const s=f(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=f(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=f(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&g(n,["error"],c);const d=f(t,["description"]);d!=null&&g(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=f(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=f(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const w=f(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const _=f(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const b=f(t,["encryptionSpec"]);b!=null&&g(n,["encryptionSpec"],b);const T=f(t,["partnerModelTuningSpec"]);T!=null&&g(n,["partnerModelTuningSpec"],T);const N=f(t,["customBaseModel"]);N!=null&&g(n,["customBaseModel"],N);const A=f(t,["experiment"]);A!=null&&g(n,["experiment"],A);const P=f(t,["labels"]);P!=null&&g(n,["labels"],P);const S=f(t,["outputUri"]);S!=null&&g(n,["outputUri"],S);const C=f(t,["pipelineJob"]);C!=null&&g(n,["pipelineJob"],C);const I=f(t,["serviceAccount"]);I!=null&&g(n,["serviceAccount"],I);const R=f(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const M=f(t,["veoTuningSpec"]);return M!=null&&g(n,["veoTuningSpec"],M),n}function Kbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=f(t,["done"]);s!=null&&g(n,["done"],s);const a=f(t,["error"]);return a!=null&&g(n,["error"],a),n}function Kk(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jbe extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(Vi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:L_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jbe(e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>J_(c))}else{const u=$be(e);return a=ue("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>QV(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Bbe(e);return a=ue("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=zbe(c),h=new _k;return Object.assign(h,d),h})}else{const u=Fbe(e);return a=ue("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Gbe(c),h=new _k;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Nbe(e);return a=ue("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Rbe(c),h=new wk;return Object.assign(h,d),h})}else{const u=Pbe(e);return a=ue("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=kbe(c),h=new wk;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Lbe(e,e);return o=ue("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>J_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dbe(e);return o=ue("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Kbe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ybe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Xbe=1024*1024*8,Qbe=3,Zbe=1e3,eEe=2,km="x-goog-upload-status";async function tEe(t,e,n){var r;const i=await ZV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[km])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function nEe(t,e,n){var r;const i=await ZV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[km])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=lV(o),a=new uT;return Object.assign(a,s),a}async function ZV(t,e,n){var r,i;let o=0,s=0,a=new j_(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(Xbe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,h=Zbe;for(;d<Qbe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[km]));)d++,await iEe(h),h=h*eEe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[km])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function rEe(t){return{size:t.size,type:t.type}}function iEe(t){return new Promise(e=>setTimeout(e,t))}class oEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sEe{create(e,n,r){return new aEe(e,n,r)}}class aEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jk="x-goog-api-key";class lEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Jk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Jk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uEe="gl-node/";class cEe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=rye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new lEe(this.apiKey);this.apiClient=new rwe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:uEe+"web",uploader:new oEe,downloader:new Ybe}),this.models=new bwe(this.apiClient),this.live=new gwe(this.apiClient,i,new sEe),this.batches=new Rve(this.apiClient),this.chats=new h0e(this.models,this.apiClient),this.caches=new c0e(this.apiClient),this.files=new E0e(this.apiClient),this.operations=new Ewe(this.apiClient),this.authTokens=new Vwe(this.apiClient),this.tunings=new Jbe(this.apiClient),this.fileSearchStores=new Wwe(this.apiClient)}}var dEe={};async function fEe(t,e){const n=new cEe({apiKey:dEe.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:ft.OBJECT,properties:{invoiceNumber:{type:ft.STRING},supplierName:{type:ft.STRING},supplierCuit:{type:ft.STRING},date:{type:ft.STRING},items:{type:ft.ARRAY,items:{type:ft.OBJECT,properties:{sku:{type:ft.STRING},description:{type:ft.STRING},quantity:{type:ft.NUMBER},unitPrice:{type:ft.NUMBER},total:{type:ft.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:ft.NUMBER},iva:{type:ft.NUMBER},totalAmount:{type:ft.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}const hEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Fb(),n=j.useRef(null),[r,i]=j.useState("ia"),[o,s]=j.useState(!1),[a,l]=j.useState(!1),[u,c]=j.useState(null),[d,h]=j.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=_=>{var T;const b=(T=_.target.files)==null?void 0:T[0];if(b){const N=new FileReader;N.onload=A=>{var P;c({name:b.name,type:b.type,preview:(P=A.target)==null?void 0:P.result})},N.readAsDataURL(b)}},v=async()=>{if(u){s(!0);try{const _=u.preview.split(",")[1],b=await fEe(_,u.type),T=await Promise.all(b.items.map(async N=>{const{products:A}=await e({limit:1,searchTerm:N.sku||N.description.split(" ")[0],orderByField:"name"});return{...N,matchedProduct:A[0]}}));h({invoiceNumber:b.invoiceNumber||"",supplierName:b.supplierName||"",date:b.date||new Date().toISOString().split("T")[0],items:T})}catch(_){console.error(_),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},w=async()=>{l(!0);try{for(const _ of d.items)if(_.matchedProduct){const b=(_.matchedProduct.stock||0)+_.quantity;await t(_.matchedProduct.id,{costPrice:_.unitPrice,stock:b})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),c(null)}finally{l(!1)}},x=d.items.reduce((_,b)=>_+b.unitPrice*b.quantity,0);return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),p.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),p.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[p.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[p.jsx(dx,{className:"w-4 h-4"})," IA Scan"]}),p.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[p.jsx(ei,{className:"w-4 h-4"})," Manual"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Z9,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?p.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[p.jsx(cl,{className:"w-16 h-16 mb-4 text-orange-500"}),p.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),p.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:p.jsx(Oi,{className:"w-5 h-5"})})]}),p.jsxs("button",{onClick:v,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?p.jsx($o,{className:"w-5 h-5 animate-spin"}):p.jsx(dx,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):p.jsxs("div",{onClick:()=>{var _;return(_=n.current)==null?void 0:_.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:p.jsx(cl,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),p.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),p.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),p.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(ID,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),p.jsx("input",{value:d.supplierName,onChange:_=>h({...d,supplierName:_.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),p.jsx("input",{value:d.invoiceNumber,onChange:_=>h({...d,invoiceNumber:_.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),p.jsx("input",{type:"date",value:d.date,onChange:_=>h({...d,date:_.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),p.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[p.jsx(Y9,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),p.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[d.items.length," Items"]})]}),p.jsx("div",{className:"flex-1 overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),p.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:d.items.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"p-20 text-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[p.jsx(lx,{className:"w-12 h-12"}),p.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):d.items.map((_,b)=>p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsx("td",{className:"px-8 py-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:_.description}),_.matchedProduct?p.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[p.jsx(Hd,{className:"w-3 h-3"}),p.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",_.matchedProduct.name]})]}):p.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[p.jsx(uc,{className:"w-3 h-3"}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),p.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:_.quantity}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",_.unitPrice.toLocaleString()]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",_.total.toLocaleString()]}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:p.jsx(Wd,{className:"w-4 h-4"})})})]},b))})]})}),p.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex items-center gap-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),p.jsxs("p",{className:"text-3xl font-black",children:["$",x.toLocaleString()]})]}),p.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),p.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(x*1.21).toLocaleString()]})]})]}),p.jsxs("button",{onClick:w,disabled:a||d.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[a?p.jsx($o,{className:"animate-spin w-6 h-6"}):p.jsx(Wb,{className:"w-6 h-6"}),a?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},pEe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState(!0),[s,a]=j.useState(!1),[l,u]=j.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c=async()=>{o(!0);try{const y=await Kr(Ae(de,"clients"));e(y.docs.map(v=>({id:v.id,...v.data()})))}catch(y){console.error(y)}finally{o(!1)}};j.useEffect(()=>{c()},[]);const d=async y=>{y.preventDefault();try{await jt(Ae(de,"clients"),{...l,createdAt:new Date().toISOString()}),a(!1),u({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c()}catch{alert("Error al guardar cliente")}},h=t.filter(y=>{var v;return y.name.toLowerCase().includes(n.toLowerCase())||((v=y.cuit)==null?void 0:v.includes(n))});return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[p.jsx(ei,{size:20})," Nuevo Cliente"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:p.jsx(Kd,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),p.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:p.jsx(yg,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),p.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[p.jsxs("div",{className:"relative w-full md:w-96",children:[p.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:n,onChange:y=>r(y.target.value)})]}),p.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[p.jsx(Ep,{size:16})," Exportar Listado"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):h.map(y=>p.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(y.name||"U").substring(0,2).toUpperCase()}),p.jsx("p",{className:"font-bold text-slate-800",children:y.name})]})}),p.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:y.cuit||y.dni}),p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:p.jsx(X9,{size:14})}),p.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:p.jsx(J9,{size:14})})]})}),p.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${y.balance<0?"text-red-500":"text-green-600"}`,children:["$",(y.balance||0).toLocaleString()]})]},y.id))})]})})]}),s&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:p.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),p.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:p.jsx(Oi,{size:24})})]}),p.jsxs("form",{onSubmit:d,className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"col-span-2 space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:y=>u({...l,name:y.target.value})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:y=>u({...l,cuit:y.target.value})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:y=>u({...l,phone:y.target.value})})]}),p.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},mEe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState(!0),[s,a]=j.useState(!1),l=async()=>{o(!0);try{const u=await Kr(Ae(de,"suppliers"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u)}finally{o(!1)}};return j.useEffect(()=>{l()},[]),p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[p.jsx(ei,{size:20})," Nuevo Proveedor"]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:p.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(u=>p.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:u.name||u.company}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:u.category||"General"})}),p.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:u.phone}),p.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(u.balance||0).toLocaleString()]})]},u.id))})]})]})]})},gEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:o}=Fb(),[s,a]=j.useState("boxes"),[l,u]=j.useState({show:!1,type:null}),[c,d]=j.useState(!1),[h,y]=j.useState(!1),[v,w]=j.useState(null),[x,_]=j.useState(null),[b,T]=j.useState(!1),N=j.useMemo(()=>e.reduce((I,R)=>I+R.balance,0),[e]),A=j.useMemo(()=>e.filter(I=>I.type==="efectivo").reduce((I,R)=>I+R.balance,0),[e]),P=async I=>{I.preventDefault();const R=new FormData(I.currentTarget),M=parseFloat(R.get("amount")),D=R.get("boxId"),O=l.type,F=e.find(B=>B.id===D);if(!F){alert("Debes seleccionar una caja de origen.");return}try{await o({date:new Date().toISOString(),amount:M,type:O,boxId:D,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:M,netAmount:M}]});const B=O==="egreso"?F.balance-M:F.balance+M;await r(D,{balance:B}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async I=>{I.preventDefault(),T(!0);const R=new FormData(I.currentTarget),M=R.get("name"),D=R.get("type"),O=R.get("responsible"),F=parseFloat(R.get("balance"))||0;try{x?await r(x.id,{name:M,type:D,responsible:O}):await n({name:M,type:D,responsible:O,balance:F,status:"abierta"}),y(!1),_(null)}finally{T(!1)}},C=async I=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(I)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),p.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[p.jsx(bD,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),p.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[p.jsx(L9,{className:"w-5 h-5"})," Ingreso Manual"]}),p.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[p.jsx("button",{onClick:()=>a("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),p.jsx("button",{onClick:()=>a("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),p.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),p.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx(Tp,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),p.jsx(cc,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:p.jsx(TA,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:p.jsx(ux,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="banco").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:p.jsx(ax,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="virtual").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(I=>p.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsx("div",{className:`p-4 rounded-2xl ${I.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:I.type==="banco"?p.jsx(ux,{className:"w-6 h-6"}):I.type==="virtual"?p.jsx(ax,{className:"w-6 h-6"}):p.jsx(yg,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>{_(I),y(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:p.jsx(ND,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:p.jsx(Wd,{className:"w-4 h-4"})})]})]}),p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:I.name}),p.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",I.balance.toLocaleString()]}),I.status==="abierta"&&p.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[p.jsx(Kd,{className:"w-4 h-4"}),p.jsxs("span",{children:["Resp: ",p.jsx("span",{className:"text-slate-800",children:I.responsible||"Sistema"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>{w(I),d(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[p.jsx(F9,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),p.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[p.jsx($9,{className:"w-4 h-4"})," Transferir"]})]})]}),I.status==="cerrada"&&p.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[p.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",I.lastClosed]}),p.jsxs("button",{onClick:()=>r(I.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[p.jsx(ei,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},I.id)),p.jsxs("button",{onClick:()=>{_(null),y(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:p.jsx(ei,{className:"w-8 h-8"})}),p.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),p.jsx("div",{className:"space-y-6",children:p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Yb,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),p.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),p.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:p.jsx(ID,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),p.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[p.jsxs("div",{className:"relative flex-1 w-full",children:[p.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[p.jsx(H9,{className:"w-4 h-4"})," Filtros"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),p.jsx("th",{className:"px-8 py-5",children:"Caja"}),p.jsx("th",{className:"px-8 py-5",children:"Concepto"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(I=>{var R;return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(I.date).toLocaleDateString()}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(I.date).toLocaleTimeString()})]}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(M=>M.id===I.boxId))==null?void 0:R.name)||"Mostrador"})}),p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.category||"Varios"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:I.description})]}),p.jsx("td",{className:"px-8 py-5 text-right",children:p.jsxs("span",{className:`text-lg font-black ${I.type==="egreso"?"text-red-600":"text-green-600"}`,children:[I.type==="egreso"?"-":"+","$",I.amount.toLocaleString()]})}),p.jsx("td",{className:"px-8 py-5 text-center",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:p.jsx(SD,{className:"w-5 h-5"})})})]},I.id)})})]})})]}),l.show&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:p.jsx(TA,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),p.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),p.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:p.jsx(Oi,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[p.jsx("option",{value:"",children:"Elegir caja..."}),e.map(I=>p.jsxs("option",{value:I.id,children:[I.name," ($",I.balance.toLocaleString(),")"]},I.id))]}),p.jsx(B9,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),p.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),p.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[p.jsx("option",{value:"gasto",children:"Gasto General"}),p.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),p.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),p.jsx("option",{value:"venta",children:"Venta / Cobranza"}),p.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),p.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),p.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),p.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[p.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:x?"Editar Fondo":"Nueva Caja / Fondo"}),p.jsx("button",{onClick:()=>y(!1),children:p.jsx(Oi,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),p.jsx("input",{name:"name",defaultValue:x==null?void 0:x.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),p.jsxs("select",{name:"type",defaultValue:x==null?void 0:x.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[p.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),p.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),p.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!x&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),p.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),p.jsx("input",{name:"responsible",defaultValue:x==null?void 0:x.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),p.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:b?p.jsx($o,{className:"animate-spin w-5 h-5 mx-auto"}):x?"Guardar Cambios":"Crear Fondo"})]})]})})]})},yEe=()=>{const t=[{name:"Ene",v:4e3},{name:"Feb",v:3e3},{name:"Mar",v:5e3}];return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Informes e IVA"}),p.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-2xl font-bold text-xs uppercase tracking-widest",children:[p.jsx(Ep,{size:16})," Exportar PDF"]})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsx("h3",{className:"font-black text-slate-400 text-[10px] uppercase tracking-widest mb-8",children:"Rendimiento Mensual"}),p.jsx("div",{className:"h-64 w-full",children:p.jsx(EE,{width:"100%",height:"100%",children:p.jsxs(sT,{data:t,children:[p.jsx(ry,{strokeDasharray:"3 3",vertical:!1}),p.jsx(ru,{dataKey:"name"}),p.jsx(nr,{}),p.jsx(pr,{type:"monotone",dataKey:"v",stroke:"#ea580c",fill:"#ea580c10",strokeWidth:4})]})})})]})]})},vEe=({isAdmin:t,companyInfo:e,setCompanyInfo:n})=>{const[r,i]=j.useState("company"),o=()=>{alert("Configuracin actualizada correctamente.")};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona los datos de tu empresa."})]}),p.jsxs("button",{onClick:o,className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs flex items-center gap-2 shadow-xl",children:[p.jsx(Wb,{size:18})," Guardar"]})]}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("aside",{className:"w-full lg:w-64 space-y-2",children:[{id:"company",label:"Mi Empresa",icon:SA},{id:"printing",label:"Impresin",icon:IA},{id:"afip",label:"ARCA / AFIP",icon:Tp},{id:"margins",label:"Ganancias",icon:AA}].map(s=>p.jsxs("button",{onClick:()=>i(s.id),className:`w-full flex items-center justify-between px-6 py-4 rounded-2xl font-bold text-sm transition-all ${r===s.id?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-400 hover:bg-slate-50 border border-slate-100"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(s.icon,{size:18}),p.jsx("span",{children:s.label})]}),r===s.id&&p.jsx(Gb,{size:14})]},s.id))}),p.jsxs("div",{className:"flex-1 bg-white rounded-[3rem] p-10 shadow-sm border border-slate-100 min-h-[500px]",children:[r==="company"&&p.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[p.jsx(SA,{className:"text-orange-600"})," Empresa"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nombre"}),p.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"Ferretera Bruzzone"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"CUIT"}),p.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"30-71122334-9"})]})]})]}),r==="printing"&&p.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[p.jsx(IA,{className:"text-orange-600"})," Impresin"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] flex justify-between items-center",children:[p.jsx("p",{className:"font-bold text-slate-800",children:"Formato de Hoja"}),p.jsxs("select",{className:"p-3 bg-white rounded-xl font-bold border-none outline-none shadow-sm",children:[p.jsx("option",{children:"80mm (Ticket)"}),p.jsx("option",{children:"A4 (Factura)"})]})]})]}),r==="afip"&&p.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[p.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border border-orange-100 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-orange-900 tracking-tight",children:"ARCA / AFIP"}),p.jsx("p",{className:"text-sm text-orange-700 italic",children:"Servicio de Facturacin en Lnea"})]}),p.jsx(Tp,{size:40,className:"text-orange-600"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Punto de Venta"}),p.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-black text-xl",defaultValue:"5"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"IVA"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none border-none",children:[p.jsx("option",{children:"Responsable Inscripto"}),p.jsx("option",{children:"Monotributista"})]})]})]})]}),r==="margins"&&p.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[p.jsx(AA,{className:"text-orange-600"})," Ganancias"]}),p.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white",children:[p.jsx("p",{className:"text-[10px] font-black uppercase text-orange-400 mb-4",children:"Markup Sugerido"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("input",{type:"number",className:"bg-white/10 text-white text-5xl font-black p-4 rounded-2xl w-40 outline-none",defaultValue:"30"}),p.jsx("span",{className:"text-4xl font-black text-slate-500",children:"%"})]})]})]})]})]})]})},xEe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState(!0),s=async()=>{o(!0);const l=await Kr(Ae(de,"products"));e(l.docs.map(u=>({id:u.id,...u.data()}))),o(!1)};j.useEffect(()=>{s()},[]);const a=async l=>{const u=ze(de,"products",l.id);await Cn(u,{isPublic:!l.isPublic}),s()};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:p.jsx(dl,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),p.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),p.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:p.jsx(Jb,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),p.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(MD,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),p.jsxs("div",{className:"relative w-96",children:[p.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),p.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:n,onChange:l=>r(l.target.value)})]})]}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),p.jsx("td",{className:"px-8 py-5",children:l.isPublic?p.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[p.jsx(SD,{size:12})," Pblico"]}):p.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[p.jsx(q9,{size:12})," Privado"]})}),p.jsx("td",{className:"px-8 py-5 text-right",children:p.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},_Ee=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),p.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[p.jsx(ei,{size:20})," Nuevo Presupuesto"]})]}),p.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[p.jsx(cl,{size:48,className:"mx-auto text-slate-200 mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),wEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),p.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),p.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),bEe=()=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),p.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[p.jsx(tz,{size:20})," Nuevo Acceso"]})]}),p.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),p.jsx("th",{className:"px-8 py-5",children:"Rango"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),p.jsx("td",{className:"px-8 py-6",children:p.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),p.jsx("td",{className:"px-8 py-6 text-right",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:p.jsx(Wd,{size:18})})})]})})]})})]}),EEe=[{name:"Ene",ingresos:45e3,gastos:32e3},{name:"Feb",ingresos:52e3,gastos:34e3},{name:"Mar",ingresos:48e3,gastos:31e3},{name:"Abr",ingresos:61e3,gastos:42e3}],TEe=()=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Gestin Financiera"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Anlisis de rentabilidad, ingresos y egresos globales."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center",children:p.jsx(Yb,{size:24})}),p.jsx("span",{className:"text-[10px] font-black text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"+15.2%"})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Ingresos Totales"}),p.jsx("h3",{className:"text-3xl font-black text-slate-800",children:"$1.450.200"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center",children:p.jsx(Q9,{size:24})}),p.jsx("span",{className:"text-[10px] font-black text-red-600 bg-red-50 px-2 py-1 rounded-full",children:"-4.1%"})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Egresos Totales"}),p.jsx("h3",{className:"text-3xl font-black text-slate-800",children:"$840.300"})]}),p.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white shadow-xl",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:p.jsx(yg,{size:24})}),p.jsx("span",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest",children:"Utilidad"})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Ganancia Neta"}),p.jsx("h3",{className:"text-3xl font-black text-white",children:"$609.900"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-10 flex items-center gap-2",children:[p.jsx(Bb,{size:16,className:"text-orange-600"})," Rendimiento Anual"]}),p.jsx("div",{className:"h-72 w-full",children:p.jsx(EE,{width:"100%",height:"100%",children:p.jsxs(sT,{data:EEe,children:[p.jsx(ry,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(ru,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),p.jsx(nr,{}),p.jsx(pr,{type:"monotone",dataKey:"ingresos",stroke:"#10b981",fill:"#10b98110",strokeWidth:4}),p.jsx(pr,{type:"monotone",dataKey:"gastos",stroke:"#ef4444",fill:"#ef444410",strokeWidth:4})]})})})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-10 flex items-center gap-2",children:[p.jsx(ux,{size:16,className:"text-blue-600"})," Cuentas Vinculadas"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl flex justify-between items-center border border-slate-100",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800",children:"Banco Nacin - Cuenta Corriente"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CBU: 0110XXXXXXXXXXXXXX"})]}),p.jsx("p",{className:"text-xl font-black text-slate-900",children:"$2.450.000"})]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl flex justify-between items-center border border-slate-100",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800",children:"Mercado Pago"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CVU: 0000XXXXXXXXXXXXXX"})]}),p.jsx("p",{className:"text-xl font-black text-slate-900",children:"$185.300"})]})]})]})]})]}),SEe=()=>{const[t,e]=j.useState("clients");return p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left pb-20",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Saldos y Deudas"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Seguimiento de cuentas corrientes y pagos pendientes."})]}),p.jsxs("div",{className:"flex bg-white p-1.5 rounded-2xl border w-fit gap-1 mb-8",children:[p.jsx("button",{onClick:()=>e("clients"),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${t==="clients"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Clientes (Deudores)"}),p.jsx("button",{onClick:()=>e("suppliers"),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${t==="suppliers"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Proveedores (Acreedores)"})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/20",children:p.jsxs("div",{className:"relative w-96",children:[p.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm"})]})}),p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Sujeto / Empresa"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ltimo Movimiento"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Total"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsxs("td",{className:"px-8 py-6",children:[p.jsx("p",{className:"font-bold text-slate-800",children:"Juan Prez - Constructora Lye"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CUIT: 20-33445566-9"})]}),p.jsx("td",{className:"px-8 py-6 text-sm text-slate-500",children:"15 de Mayo, 2024"}),p.jsx("td",{className:"px-8 py-6 text-right",children:p.jsx("span",{className:"text-xl font-black text-red-600",children:"-$45.200"})})]})})]})]})]})},AEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Marcas & Rubros"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Organiza la jerarqua de tus productos."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[p.jsx(U9,{className:"text-orange-600",size:16})," Rubros (Categoras)"]}),p.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:p.jsx(ei,{size:18})})]}),p.jsx("div",{className:"space-y-3",children:["Herramientas Elctricas","Pinturas","Plomera","Bulonera"].map(t=>p.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex justify-between font-bold text-slate-700",children:[t," ",p.jsx(Kb,{size:14,className:"text-slate-300"})]},t))})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[p.jsx(Hd,{className:"text-blue-600",size:16})," Marcas Principales"]}),p.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:p.jsx(ei,{size:18})})]}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Bosch","DeWalt","Sinteplast","Alba","Ipsa","Ferrum"].map(t=>p.jsx("div",{className:"p-4 border border-slate-100 rounded-2xl text-center font-black text-slate-400 uppercase text-[10px] tracking-widest",children:t},t))})]})]})]}),IEe=()=>{const[t,e]=j.useState(!1);return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Importacin Masiva"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Carga miles de productos de forma instantnea mediante archivos Excel o CSV."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs("div",{onDragOver:n=>{n.preventDefault(),e(!0)},onDragLeave:()=>e(!1),className:`bg-white p-20 rounded-[3rem] border-4 border-dashed transition-all flex flex-col items-center justify-center text-center group cursor-pointer ${t?"border-orange-500 bg-orange-50":"border-slate-100 hover:border-orange-200"}`,children:[p.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-6 transition-all ${t?"bg-orange-600 text-white animate-bounce":"bg-slate-50 text-slate-300 group-hover:bg-white group-hover:text-orange-500"}`,children:p.jsx(AD,{size:48})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Suelte su archivo aqu"}),p.jsx("p",{className:"text-slate-400 text-sm mt-2 max-w-xs",children:"Arrastre el listado de precios de su proveedor o haga clic para buscar en su PC."}),p.jsxs("div",{className:"mt-10 flex gap-4",children:[p.jsx("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl",children:"Seleccionar Archivo"}),p.jsx("button",{className:"px-8 py-4 bg-slate-100 text-slate-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-slate-200 transition-all",children:"Ver Ejemplo"})]})]}),p.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-start gap-4",children:[p.jsx(D9,{className:"text-orange-600 shrink-0",size:24}),p.jsxs("div",{className:"text-xs font-medium text-orange-800 leading-relaxed",children:[p.jsx("strong",{children:"Instrucciones:"})," Asegrese de que el archivo tenga las columnas:",p.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"CODIGO"}),",",p.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"DESCRIPCION"}),",",p.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"PRECIO_COSTO"})," y",p.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"RUBRO"}),"."]})]})]}),p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-6 flex items-center gap-2",children:[p.jsx(zb,{size:16,className:"text-blue-600"})," ltimas Cargas"]}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-sm text-slate-800",children:"Precios_Alba.csv"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ayer 18:30"})]}),p.jsx("span",{className:"text-[10px] font-black text-green-600 uppercase",children:"xito"})]})})]})})]})]})},CEe=({client:t,onLogout:e,companyInfo:n})=>{var r,i;return p.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[p.jsx("header",{className:"bg-slate-900 text-white p-6 shadow-xl",children:p.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:p.jsx(dl,{className:"text-white",size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-black tracking-tight uppercase",children:n.name}),p.jsx("p",{className:"text-[10px] font-bold text-orange-500 uppercase tracking-widest text-left",children:"Portal de Autogestin"})]})]}),p.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-white/10 hover:bg-red-500/20 px-4 py-2 rounded-xl transition-all text-xs font-bold",children:[p.jsx(PD,{size:16})," Salir"]})]})}),p.jsxs("main",{className:"max-w-6xl mx-auto p-8 space-y-8 text-left",children:[p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-black text-slate-400",children:((r=t==null?void 0:t.name)==null?void 0:r.charAt(0))||"C"}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-black text-slate-800",children:["Hola, ",(t==null?void 0:t.name)||"Cliente","!"]}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Consulta tus saldos y pedidos realizados."})]})]}),p.jsxs("div",{className:"text-center md:text-right",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tu Saldo Deudor"}),p.jsxs("h3",{className:`text-5xl font-black ${(t==null?void 0:t.balance)>0?"text-red-500":"text-green-500"}`,children:["$",((i=t==null?void 0:t.balance)==null?void 0:i.toLocaleString())||"0"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex items-center gap-6 shadow-xl",children:[p.jsx("div",{className:"p-4 bg-orange-600 rounded-2xl",children:p.jsx(Hb,{size:32})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-orange-400",children:"Comprobantes"}),p.jsx("p",{className:"text-2xl font-black",children:"Ver facturas"})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[p.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:p.jsx(Gc,{size:32})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-slate-400",children:"Entregas"}),p.jsx("p",{className:"text-2xl font-black text-slate-800",children:"Seguimiento"})]})]})]})]})]})},PEe=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState({msg:"",type:null}),i=j.useRef(null),o=async l=>{e(!0);try{const u=$a(Ae(de,l)),d=(await Kr(u)).docs.map(w=>({id:w.id,...w.data()})),h="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(d,null,2)),y=document.createElement("a"),v=new Date().toISOString().split("T")[0];y.setAttribute("href",h),y.setAttribute("download",`Backup_${l}_${v}.json`),document.body.appendChild(y),y.click(),y.remove(),a(`Copia de ${l} descargada con xito`,"success")}catch{a("Error al exportar datos","error")}finally{e(!1)}},s=async(l,u)=>{var y;const c=(y=l.target.files)==null?void 0:y[0];if(!c||!window.confirm(` ATENCIN! Ests por restaurar la coleccin '${u}'. Esto podra duplicar datos o sobreescribir informacin actual. Deseas continuar?`))return;e(!0);const h=new FileReader;h.onload=async v=>{var w;try{const x=JSON.parse((w=v.target)==null?void 0:w.result),_=M8(de);x.forEach(b=>{const{id:T,...N}=b,A=T?ze(de,u,T):ze(Ae(de,u));_.set(A,N)}),await _.commit(),a(`Coleccin ${u} restaurada correctamente`,"success")}catch{a("El archivo es invlido o no tiene el formato correcto","error")}finally{e(!1),i.current&&(i.current.value="")}},h.readAsText(c)},a=(l,u)=>{r({msg:l,type:u}),setTimeout(()=>r({msg:"",type:null}),5e3)};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Centro de Seguridad"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Respaldo y restauracin total de la base de datos."})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-green-50 text-green-600 px-4 py-2 rounded-full border border-green-100",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Servidor Seguro"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Ep,{className:"text-orange-600"})," Descargar Copia de Seguridad"]}),p.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Genera un archivo .JSON con toda la informacin de cada mdulo."}),p.jsx("div",{className:"grid grid-cols-1 gap-3 pt-4",children:["products","sales","clients","suppliers"].map(l=>p.jsxs("button",{onClick:()=>o(l),className:"p-5 bg-slate-50 hover:bg-orange-600 hover:text-white rounded-2xl flex justify-between items-center transition-all group",children:[p.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:l}),p.jsx(Ep,{size:18,className:"opacity-40 group-hover:opacity-100"})]},l))})]}),p.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] shadow-2xl text-white space-y-6 relative overflow-hidden",children:[p.jsxs("h3",{className:"text-sm font-black text-orange-500 uppercase tracking-widest flex items-center gap-2 relative z-10",children:[p.jsx(CA,{})," Restablecer desde Archivo"]}),p.jsx("p",{className:"text-xs text-slate-400 font-medium relative z-10",children:"Sube un archivo de respaldo previamente descargado para recuperar datos."}),p.jsx("div",{className:"space-y-3 pt-4 relative z-10",children:["products","clients","suppliers"].map(l=>p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"file",accept:".json",onChange:u=>s(u,l),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),p.jsxs("div",{className:"p-5 bg-white/5 border border-white/10 rounded-2xl flex justify-between items-center group-hover:bg-white/10 transition-all",children:[p.jsxs("span",{className:"font-black uppercase text-[10px] tracking-widest text-orange-400",children:["Restaurar ",l]}),p.jsx(RD,{size:18,className:"text-slate-500 group-hover:text-white"})]})]},l))}),p.jsx(CA,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5"})]})]}),p.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 flex items-start gap-4",children:[p.jsx(uc,{className:"text-red-600 shrink-0",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-black text-red-900 uppercase tracking-tight",children:"Zona de Riesgo"}),p.jsx("p",{className:"text-xs text-red-800 font-medium leading-relaxed mt-1",children:"Restablecer datos es una accin irreversible. Si subes un archivo viejo, podras perder las ventas actuales o duplicar clientes. Realiza siempre un backup antes de restaurar."})]})]}),t&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-[200]",children:p.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex items-center gap-4 border border-slate-100",children:[p.jsx($o,{className:"animate-spin text-orange-600"}),p.jsx("p",{className:"font-black uppercase text-xs tracking-widest text-slate-800",children:"Procesando Base de Datos..."})]})}),n.msg&&p.jsxs("div",{className:`fixed bottom-10 left-1/2 -translate-x-1/2 px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom ${n.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[n.type==="success"?p.jsx(Hd,{size:20}):p.jsx(Oi,{size:20}),p.jsx("p",{className:"font-black uppercase text-[10px] tracking-widest",children:n.msg})]})]})},NEe=()=>{const[t,e]=j.useState(["dashboard"]),[n,r]=j.useState("dashboard"),[i,o]=j.useState(!1),[s,a]=j.useState({name:"",role:"vendedor"}),l=(h,y,v)=>{a({name:y,role:h,data:v}),o(!0)},u=h=>{t.includes(h)||e(y=>[...y,h]),r(h)},c=h=>{if(h==="dashboard")return;const y=t.filter(v=>v!==h);e(y),n===h&&r(y[y.length-1])};if(!i)return p.jsx(sz,{onLoginSuccess:l});if(s.role==="customer")return p.jsx(CEe,{client:s.data,onLogout:()=>o(!1),companyInfo:{name:"Sistems Nova"}});const d=h=>{switch(h){case"dashboard":return p.jsx(Kge,{openTab:u});case"inventory":return p.jsx(Yge,{});case"sales":return p.jsx(Xge,{});case"purchases":return p.jsx(hEe,{});case"clients":return p.jsx(pEe,{});case"suppliers":return p.jsx(mEe,{});case"cashier":return p.jsx(gEe,{});case"finance":return p.jsx(TEe,{});case"balances":return p.jsx(SEe,{});case"reports":return p.jsx(yEe,{});case"ecommerce":return p.jsx(xEe,{});case"quotes":return p.jsx(_Ee,{});case"stock-adjustment":return p.jsx(wEe,{});case"catalog-config":return p.jsx(AEe,{});case"bulk-import":return p.jsx(IEe,{});case"users":return p.jsx(bEe,{});case"backup":return p.jsx(PEe,{});case"settings":return p.jsx(vEe,{isAdmin:s.role==="admin",companyInfo:{name:"Sistems Nova"},setCompanyInfo:()=>{}});default:return p.jsxs("div",{className:"p-20 text-center text-slate-400 font-bold italic",children:["Mdulo ",h," en construccin..."]})}};return p.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[p.jsx(rz,{activeTab:n,setActiveTab:u,currentUser:s,onLogout:()=>o(!1)}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(oz,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:c}),p.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t.map(h=>p.jsx("div",{className:h===n?"block animate-in fade-in zoom-in-95 duration-300":"hidden",children:d(h)},h))})]})]})};function kEe(){return p.jsx(R9,{children:p.jsx(NEe,{})})}const eU=document.getElementById("root");if(!eU)throw new Error("Could not find root element to mount to");const REe=zv.createRoot(eU);REe.render(p.jsx($.StrictMode,{children:p.jsx(kEe,{})}));
