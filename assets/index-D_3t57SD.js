(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bk={exports:{}},Rm={},qk={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=Symbol.for("react.element"),w4=Symbol.for("react.portal"),b4=Symbol.for("react.fragment"),E4=Symbol.for("react.strict_mode"),S4=Symbol.for("react.profiler"),T4=Symbol.for("react.provider"),A4=Symbol.for("react.context"),I4=Symbol.for("react.forward_ref"),C4=Symbol.for("react.suspense"),P4=Symbol.for("react.memo"),N4=Symbol.for("react.lazy"),JS=Symbol.iterator;function k4(t){return t===null||typeof t!="object"?null:(t=JS&&t[JS]||t["@@iterator"],typeof t=="function"?t:null)}var Gk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zk=Object.assign,Hk={};function Ol(t,e,n){this.props=t,this.context=e,this.refs=Hk,this.updater=n||Gk}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wk(){}Wk.prototype=Ol.prototype;function X_(t,e,n){this.props=t,this.context=e,this.refs=Hk,this.updater=n||Gk}var Q_=X_.prototype=new Wk;Q_.constructor=X_;zk(Q_,Ol.prototype);Q_.isPureReactComponent=!0;var YS=Array.isArray,Kk=Object.prototype.hasOwnProperty,Z_={current:null},Jk={key:!0,ref:!0,__self:!0,__source:!0};function Yk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Kk.call(e,r)&&!Jk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cd,type:t,key:o,ref:s,props:i,_owner:Z_.current}}function R4(t,e){return{$$typeof:Cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ew(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cd}function M4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XS=/\/+/g;function Ay(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M4(""+t.key):e.toString(36)}function fh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Cd:case w4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ay(s,0):r,YS(i)?(n="",t!=null&&(n=t.replace(XS,"$&/")+"/"),fh(i,e,n,"",function(u){return u})):i!=null&&(ew(i)&&(i=R4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(XS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",YS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ay(o,a);s+=fh(o,e,n,l,i)}else if(l=k4(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ay(o,a++),s+=fh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tf(t,e,n){if(t==null)return t;var r=[],i=0;return fh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function O4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},hh={transition:null},D4={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:hh,ReactCurrentOwner:Z_};function Xk(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Tf,forEach:function(t,e,n){Tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tf(t,function(){e++}),e},toArray:function(t){return Tf(t,function(e){return e})||[]},only:function(t){if(!ew(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Ol;Oe.Fragment=b4;Oe.Profiler=S4;Oe.PureComponent=X_;Oe.StrictMode=E4;Oe.Suspense=C4;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;Oe.act=Xk;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Z_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kk.call(e,l)&&!Jk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Cd,type:t.type,key:i,ref:o,props:r,_owner:s}};Oe.createContext=function(t){return t={$$typeof:A4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T4,_context:t},t.Consumer=t};Oe.createElement=Yk;Oe.createFactory=function(t){var e=Yk.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:I4,render:t}};Oe.isValidElement=ew;Oe.lazy=function(t){return{$$typeof:N4,_payload:{_status:-1,_result:t},_init:O4}};Oe.memo=function(t,e){return{$$typeof:P4,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=hh.transition;hh.transition={};try{t()}finally{hh.transition=e}};Oe.unstable_act=Xk;Oe.useCallback=function(t,e){return Cn.current.useCallback(t,e)};Oe.useContext=function(t){return Cn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Cn.current.useEffect(t,e)};Oe.useId=function(){return Cn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Cn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};Oe.useRef=function(t){return Cn.current.useRef(t)};Oe.useState=function(t){return Cn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return Cn.current.useTransition()};Oe.version="18.3.1";qk.exports=Oe;var j=qk.exports;const $=it(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4=j,j4=Symbol.for("react.element"),$4=Symbol.for("react.fragment"),U4=Object.prototype.hasOwnProperty,V4=L4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F4={key:!0,ref:!0,__self:!0,__source:!0};function Qk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)U4.call(e,r)&&!F4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j4,type:t,key:o,ref:s,props:i,_owner:V4.current}}Rm.Fragment=$4;Rm.jsx=Qk;Rm.jsxs=Qk;Bk.exports=Rm;var p=Bk.exports,Gv={},Zk={exports:{}},Qn={},eR={exports:{}},tR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,J){var Q=U.length;U.push(J);e:for(;0<Q;){var ie=Q-1>>>1,ee=U[ie];if(0<i(ee,J))U[ie]=J,U[Q]=ee,Q=ie;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var J=U[0],Q=U.pop();if(Q!==J){U[0]=Q;e:for(var ie=0,ee=U.length,le=ee>>>1;ie<le;){var Pe=2*(ie+1)-1,Ne=U[Pe],Ke=Pe+1,H=U[Ke];if(0>i(Ne,Q))Ke<ee&&0>i(H,Ne)?(U[ie]=H,U[Ke]=Q,ie=Ke):(U[ie]=Ne,U[Pe]=Q,ie=Pe);else if(Ke<ee&&0>i(H,Q))U[ie]=H,U[Ke]=Q,ie=Ke;else break e}}return J}function i(U,J){var Q=U.sortIndex-J.sortIndex;return Q!==0?Q:U.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,y=!1,x=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=U)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function N(U){if(w=!1,S(U),!x)if(n(l)!==null)x=!0,z(A);else{var J=n(u);J!==null&&K(N,J.startTime-U)}}function A(U,J){x=!1,w&&(w=!1,_(C),C=-1),y=!0;var Q=h;try{for(S(J),d=n(l);d!==null&&(!(d.expirationTime>J)||U&&!O());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var ee=ie(d.expirationTime<=J);J=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),S(J)}else r(l);d=n(l)}if(d!==null)var le=!0;else{var Pe=n(u);Pe!==null&&K(N,Pe.startTime-J),le=!1}return le}finally{d=null,h=Q,y=!1}}var P=!1,T=null,C=-1,I=5,R=-1;function O(){return!(t.unstable_now()-R<I)}function D(){if(T!==null){var U=t.unstable_now();R=U;var J=!0;try{J=T(!0,U)}finally{J?M():(P=!1,T=null)}}else P=!1}var M;if(typeof b=="function")M=function(){b(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=D,M=function(){F.postMessage(null)}}else M=function(){v(D,0)};function z(U){T=U,P||(P=!0,M())}function K(U,J){C=v(function(){U(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,z(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var Q=h;h=J;try{return U()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=h;h=U;try{return J()}finally{h=Q}},t.unstable_scheduleCallback=function(U,J,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,U={id:c++,callback:J,priorityLevel:U,startTime:Q,expirationTime:ee,sortIndex:-1},Q>ie?(U.sortIndex=Q,e(u,U),n(l)===null&&U===n(u)&&(w?(_(C),C=-1):w=!0,K(N,Q-ie))):(U.sortIndex=ee,e(l,U),x||y||(x=!0,z(A))),U},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(U){var J=h;return function(){var Q=h;h=J;try{return U.apply(this,arguments)}finally{h=Q}}}})(tR);eR.exports=tR;var B4=eR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4=j,Yn=B4;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nR=new Set,gc={};function Bs(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(gc[t]=e,t=0;t<e.length;t++)nR.add(e[t])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zv=Object.prototype.hasOwnProperty,G4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QS={},ZS={};function z4(t){return zv.call(ZS,t)?!0:zv.call(QS,t)?!1:G4.test(t)?ZS[t]=!0:(QS[t]=!0,!1)}function H4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W4(t,e,n,r){if(e===null||typeof e>"u"||H4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var tw=/[\-:]([a-z])/g;function nw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tw,nw);on[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tw,nw);on[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tw,nw);on[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function rw(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W4(e,n,i,r)&&(n=null),r||i===null?z4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),rR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),ow=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),oR=Symbol.for("react.offscreen"),eT=Symbol.iterator;function vu(t){return t===null||typeof t!="object"?null:(t=eT&&t[eT]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,Iy;function Vu(t){if(Iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iy=e&&e[1]||""}return`
`+Iy+t}var Cy=!1;function Py(t,e){if(!t||Cy)return"";Cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Cy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vu(t):""}function K4(t){switch(t.tag){case 5:return Vu(t.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return t=Py(t.type,!1),t;case 11:return t=Py(t.type.render,!1),t;case 1:return t=Py(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ha:return"Fragment";case fa:return"Portal";case Hv:return"Profiler";case iw:return"StrictMode";case Wv:return"Suspense";case Kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iR:return(t.displayName||"Context")+".Consumer";case rR:return(t._context.displayName||"Context")+".Provider";case ow:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sw:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function J4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y4(t){var e=sR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function If(t){t._valueTracker||(t._valueTracker=Y4(t))}function aR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yv(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lR(t,e){e=e.checked,e!=null&&rw(t,"checked",e,!1)}function Xv(t,e){lR(t,e);var n=Mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qv(t,e,n){(e!=="number"||Dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fu=Array.isArray;function Na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Fu(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mo(n)}}function uR(t,e){var n=Mo(e.value),r=Mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cf,dR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cf=Cf||document.createElement("div"),Cf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X4=["Webkit","ms","Moz","O"];Object.keys(Yu).forEach(function(t){X4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yu[e]=Yu[t]})});function fR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yu.hasOwnProperty(t)&&Yu[t]?(""+e).trim():e+"px"}function hR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Q4=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(Q4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function aw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i0=null,ka=null,Ra=null;function oT(t){if(t=kd(t)){if(typeof i0!="function")throw Error(re(280));var e=t.stateNode;e&&(e=jm(e),i0(t.stateNode,t.type,e))}}function pR(t){ka?Ra?Ra.push(t):Ra=[t]:ka=t}function mR(){if(ka){var t=ka,e=Ra;if(Ra=ka=null,oT(t),e)for(t=0;t<e.length;t++)oT(e[t])}}function gR(t,e){return t(e)}function yR(){}var Ny=!1;function vR(t,e,n){if(Ny)return t(e,n);Ny=!0;try{return gR(t,e,n)}finally{Ny=!1,(ka!==null||Ra!==null)&&(yR(),mR())}}function vc(t,e){var n=t.stateNode;if(n===null)return null;var r=jm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var o0=!1;if(Si)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){o0=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{o0=!1}function Z4(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xu=!1,Lh=null,jh=!1,s0=null,eV={onError:function(t){Xu=!0,Lh=t}};function tV(t,e,n,r,i,o,s,a,l){Xu=!1,Lh=null,Z4.apply(eV,arguments)}function nV(t,e,n,r,i,o,s,a,l){if(tV.apply(this,arguments),Xu){if(Xu){var u=Lh;Xu=!1,Lh=null}else throw Error(re(198));jh||(jh=!0,s0=u)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sT(t){if(qs(t)!==t)throw Error(re(188))}function rV(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sT(i),t;if(o===r)return sT(i),e;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function _R(t){return t=rV(t),t!==null?wR(t):null}function wR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wR(t);if(e!==null)return e;t=t.sibling}return null}var bR=Yn.unstable_scheduleCallback,aT=Yn.unstable_cancelCallback,iV=Yn.unstable_shouldYield,oV=Yn.unstable_requestPaint,It=Yn.unstable_now,sV=Yn.unstable_getCurrentPriorityLevel,lw=Yn.unstable_ImmediatePriority,ER=Yn.unstable_UserBlockingPriority,$h=Yn.unstable_NormalPriority,aV=Yn.unstable_LowPriority,SR=Yn.unstable_IdlePriority,Mm=null,Hr=null;function lV(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Mm,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:dV,uV=Math.log,cV=Math.LN2;function dV(t){return t>>>=0,t===0?32:31-(uV(t)/cV|0)|0}var Pf=64,Nf=4194304;function Bu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Bu(a):(o&=s,o!==0&&(r=Bu(o)))}else s=n&~i,s!==0?r=Bu(s):o!==0&&(r=Bu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kr(e),i=1<<n,r|=t[n],e&=~i;return r}function fV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-kr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=fV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TR(){var t=Pf;return Pf<<=1,!(Pf&4194240)&&(Pf=64),t}function ky(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=n}function pV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function uw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function AR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IR,cw,CR,PR,NR,l0=!1,kf=[],yo=null,vo=null,xo=null,xc=new Map,_c=new Map,io=[],mV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lT(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(e.pointerId)}}function _u(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=kd(e),e!==null&&cw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gV(t,e,n,r,i){switch(e){case"focusin":return yo=_u(yo,t,e,n,r,i),!0;case"dragenter":return vo=_u(vo,t,e,n,r,i),!0;case"mouseover":return xo=_u(xo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xc.set(o,_u(xc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_c.set(o,_u(_c.get(o)||null,t,e,n,r,i)),!0}return!1}function kR(t){var e=ds(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=xR(n),e!==null){t.blockedOn=e,NR(t.priority,function(){CR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=kd(n),e!==null&&cw(e),t.blockedOn=n,!1;e.shift()}return!0}function uT(t,e,n){ph(t)&&n.delete(e)}function yV(){l0=!1,yo!==null&&ph(yo)&&(yo=null),vo!==null&&ph(vo)&&(vo=null),xo!==null&&ph(xo)&&(xo=null),xc.forEach(uT),_c.forEach(uT)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,l0||(l0=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,yV)))}function wc(t){function e(i){return wu(i,t)}if(0<kf.length){wu(kf[0],t);for(var n=1;n<kf.length;n++){var r=kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yo!==null&&wu(yo,t),vo!==null&&wu(vo,t),xo!==null&&wu(xo,t),xc.forEach(e),_c.forEach(e),n=0;n<io.length;n++)r=io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)kR(n),n.blockedOn===null&&io.shift()}var Ma=Vi.ReactCurrentBatchConfig,Vh=!0;function vV(t,e,n,r){var i=Qe,o=Ma.transition;Ma.transition=null;try{Qe=1,dw(t,e,n,r)}finally{Qe=i,Ma.transition=o}}function xV(t,e,n,r){var i=Qe,o=Ma.transition;Ma.transition=null;try{Qe=4,dw(t,e,n,r)}finally{Qe=i,Ma.transition=o}}function dw(t,e,n,r){if(Vh){var i=u0(t,e,n,r);if(i===null)Fy(t,e,r,Fh,n),lT(t,r);else if(gV(i,t,e,n,r))r.stopPropagation();else if(lT(t,r),e&4&&-1<mV.indexOf(t)){for(;i!==null;){var o=kd(i);if(o!==null&&IR(o),o=u0(t,e,n,r),o===null&&Fy(t,e,r,Fh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Fy(t,e,r,null,n)}}var Fh=null;function u0(t,e,n,r){if(Fh=null,t=aw(r),t=ds(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fh=t,null}function RR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sV()){case lw:return 1;case ER:return 4;case $h:case aV:return 16;case SR:return 536870912;default:return 16}default:return 16}}var co=null,fw=null,mh=null;function MR(){if(mh)return mh;var t,e=fw,n=e.length,r,i="value"in co?co.value:co.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return mh=i.slice(t,1<r?1-r:void 0)}function gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rf(){return!0}function cT(){return!1}function Zn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rf:cT,this.isPropagationStopped=cT,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=Zn(Dl),Nd=xt({},Dl,{view:0,detail:0}),_V=Zn(Nd),Ry,My,bu,Om=xt({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bu&&(bu&&t.type==="mousemove"?(Ry=t.screenX-bu.screenX,My=t.screenY-bu.screenY):My=Ry=0,bu=t),Ry)},movementY:function(t){return"movementY"in t?t.movementY:My}}),dT=Zn(Om),wV=xt({},Om,{dataTransfer:0}),bV=Zn(wV),EV=xt({},Nd,{relatedTarget:0}),Oy=Zn(EV),SV=xt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),TV=Zn(SV),AV=xt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IV=Zn(AV),CV=xt({},Dl,{data:0}),fT=Zn(CV),PV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kV[t])?!!e[t]:!1}function pw(){return RV}var MV=xt({},Nd,{key:function(t){if(t.key){var e=PV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pw,charCode:function(t){return t.type==="keypress"?gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OV=Zn(MV),DV=xt({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hT=Zn(DV),LV=xt({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pw}),jV=Zn(LV),$V=xt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),UV=Zn($V),VV=xt({},Om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FV=Zn(VV),BV=[9,13,27,32],mw=Si&&"CompositionEvent"in window,Qu=null;Si&&"documentMode"in document&&(Qu=document.documentMode);var qV=Si&&"TextEvent"in window&&!Qu,OR=Si&&(!mw||Qu&&8<Qu&&11>=Qu),pT=" ",mT=!1;function DR(t,e){switch(t){case"keyup":return BV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function GV(t,e){switch(t){case"compositionend":return LR(e);case"keypress":return e.which!==32?null:(mT=!0,pT);case"textInput":return t=e.data,t===pT&&mT?null:t;default:return null}}function zV(t,e){if(pa)return t==="compositionend"||!mw&&DR(t,e)?(t=MR(),mh=fw=co=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OR&&e.locale!=="ko"?null:e.data;default:return null}}var HV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HV[t.type]:e==="textarea"}function jR(t,e,n,r){pR(r),e=Bh(e,"onChange"),0<e.length&&(n=new hw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zu=null,bc=null;function WV(t){KR(t,0)}function Dm(t){var e=ya(t);if(aR(e))return t}function KV(t,e){if(t==="change")return e}var $R=!1;if(Si){var Dy;if(Si){var Ly="oninput"in document;if(!Ly){var yT=document.createElement("div");yT.setAttribute("oninput","return;"),Ly=typeof yT.oninput=="function"}Dy=Ly}else Dy=!1;$R=Dy&&(!document.documentMode||9<document.documentMode)}function vT(){Zu&&(Zu.detachEvent("onpropertychange",UR),bc=Zu=null)}function UR(t){if(t.propertyName==="value"&&Dm(bc)){var e=[];jR(e,bc,t,aw(t)),vR(WV,e)}}function JV(t,e,n){t==="focusin"?(vT(),Zu=e,bc=n,Zu.attachEvent("onpropertychange",UR)):t==="focusout"&&vT()}function YV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(bc)}function XV(t,e){if(t==="click")return Dm(e)}function QV(t,e){if(t==="input"||t==="change")return Dm(e)}function ZV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:ZV;function Ec(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zv.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function xT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _T(t,e){var n=xT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xT(n)}}function VR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FR(){for(var t=window,e=Dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dh(t.document)}return e}function gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eF(t){var e=FR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VR(n.ownerDocument.documentElement,n)){if(r!==null&&gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_T(n,o);var s=_T(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tF=Si&&"documentMode"in document&&11>=document.documentMode,ma=null,c0=null,ec=null,d0=!1;function wT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||ma==null||ma!==Dh(r)||(r=ma,"selectionStart"in r&&gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&Ec(ec,r)||(ec=r,r=Bh(c0,"onSelect"),0<r.length&&(e=new hw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},jy={},BR={};Si&&(BR=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Lm(t){if(jy[t])return jy[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BR)return jy[t]=e[n];return t}var qR=Lm("animationend"),GR=Lm("animationiteration"),zR=Lm("animationstart"),HR=Lm("transitionend"),WR=new Map,bT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(t,e){WR.set(t,e),Bs(e,[t])}for(var $y=0;$y<bT.length;$y++){var Uy=bT[$y],nF=Uy.toLowerCase(),rF=Uy[0].toUpperCase()+Uy.slice(1);Uo(nF,"on"+rF)}Uo(qR,"onAnimationEnd");Uo(GR,"onAnimationIteration");Uo(zR,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(HR,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iF=new Set("cancel close invalid load scroll toggle".split(" ").concat(qu));function ET(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nV(r,e,void 0,t),t.currentTarget=null}function KR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ET(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ET(i,a,u),o=l}}}if(jh)throw t=s0,jh=!1,s0=null,t}function ut(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(JR(e,t,2,!1),n.add(r))}function Vy(t,e,n){var r=0;e&&(r|=4),JR(n,t,r,e)}var Of="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[Of]){t[Of]=!0,nR.forEach(function(n){n!=="selectionchange"&&(iF.has(n)||Vy(n,!1,t),Vy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Of]||(e[Of]=!0,Vy("selectionchange",!1,e))}}function JR(t,e,n,r){switch(RR(e)){case 1:var i=vV;break;case 4:i=xV;break;default:i=dw}n=i.bind(null,e,n,t),i=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ds(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}vR(function(){var u=o,c=aw(n),d=[];e:{var h=WR.get(t);if(h!==void 0){var y=hw,x=t;switch(t){case"keypress":if(gh(n)===0)break e;case"keydown":case"keyup":y=OV;break;case"focusin":x="focus",y=Oy;break;case"focusout":x="blur",y=Oy;break;case"beforeblur":case"afterblur":y=Oy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=dT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jV;break;case qR:case GR:case zR:y=TV;break;case HR:y=UV;break;case"scroll":y=_V;break;case"wheel":y=FV;break;case"copy":case"cut":case"paste":y=IV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=hT}var w=(e&4)!==0,v=!w&&t==="scroll",_=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,S;b!==null;){S=b;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,_!==null&&(N=vc(b,_),N!=null&&w.push(Tc(b,N,S)))),v)break;b=b.return}0<w.length&&(h=new y(h,x,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==r0&&(x=n.relatedTarget||n.fromElement)&&(ds(x)||x[Ti]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?ds(x):null,x!==null&&(v=qs(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=dT,N="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=hT,N="onPointerLeave",_="onPointerEnter",b="pointer"),v=y==null?h:ya(y),S=x==null?h:ya(x),h=new w(N,b+"leave",y,n,c),h.target=v,h.relatedTarget=S,N=null,ds(c)===u&&(w=new w(_,b+"enter",x,n,c),w.target=S,w.relatedTarget=v,N=w),v=N,y&&x)t:{for(w=y,_=x,b=0,S=w;S;S=ra(S))b++;for(S=0,N=_;N;N=ra(N))S++;for(;0<b-S;)w=ra(w),b--;for(;0<S-b;)_=ra(_),S--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=ra(w),_=ra(_)}w=null}else w=null;y!==null&&ST(d,h,y,w,!1),x!==null&&v!==null&&ST(d,v,x,w,!0)}}e:{if(h=u?ya(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=KV;else if(gT(h))if($R)A=QV;else{A=YV;var P=JV}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=XV);if(A&&(A=A(t,u))){jR(d,A,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Qv(h,"number",h.value)}switch(P=u?ya(u):window,t){case"focusin":(gT(P)||P.contentEditable==="true")&&(ma=P,c0=u,ec=null);break;case"focusout":ec=c0=ma=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,wT(d,n,c);break;case"selectionchange":if(tF)break;case"keydown":case"keyup":wT(d,n,c)}var T;if(mw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pa?DR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(OR&&n.locale!=="ko"&&(pa||C!=="onCompositionStart"?C==="onCompositionEnd"&&pa&&(T=MR()):(co=c,fw="value"in co?co.value:co.textContent,pa=!0)),P=Bh(u,C),0<P.length&&(C=new fT(C,t,null,n,c),d.push({event:C,listeners:P}),T?C.data=T:(T=LR(n),T!==null&&(C.data=T)))),(T=qV?GV(t,n):zV(t,n))&&(u=Bh(u,"onBeforeInput"),0<u.length&&(c=new fT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}KR(d,e)})}function Tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vc(t,n),o!=null&&r.unshift(Tc(t,o,i)),o=vc(t,e),o!=null&&r.push(Tc(t,o,i))),t=t.return}return r}function ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ST(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=vc(n,o),l!=null&&s.unshift(Tc(n,l,a))):i||(l=vc(n,o),l!=null&&s.push(Tc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oF=/\r\n?/g,sF=/\u0000|\uFFFD/g;function TT(t){return(typeof t=="string"?t:""+t).replace(oF,`
`).replace(sF,"")}function Df(t,e,n){if(e=TT(e),TT(t)!==e&&n)throw Error(re(425))}function qh(){}var f0=null,h0=null;function p0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0,AT=typeof Promise=="function"?Promise:void 0,lF=typeof queueMicrotask=="function"?queueMicrotask:typeof AT<"u"?function(t){return AT.resolve(null).then(t).catch(uF)}:m0;function uF(t){setTimeout(function(){throw t})}function By(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wc(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function IT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),qr="__reactFiber$"+Ll,Ac="__reactProps$"+Ll,Ti="__reactContainer$"+Ll,g0="__reactEvents$"+Ll,cF="__reactListeners$"+Ll,dF="__reactHandles$"+Ll;function ds(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=IT(t);t!==null;){if(n=t[qr])return n;t=IT(t)}return e}t=n,n=t.parentNode}return null}function kd(t){return t=t[qr]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function jm(t){return t[Ac]||null}var y0=[],va=-1;function Vo(t){return{current:t}}function ft(t){0>va||(t.current=y0[va],y0[va]=null,va--)}function at(t,e){va++,y0[va]=t.current,t.current=e}var Oo={},_n=Vo(Oo),jn=Vo(!1),As=Oo;function Ja(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $n(t){return t=t.childContextTypes,t!=null}function Gh(){ft(jn),ft(_n)}function CT(t,e,n){if(_n.current!==Oo)throw Error(re(168));at(_n,e),at(jn,n)}function YR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,J4(t)||"Unknown",i));return xt({},n,r)}function zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,As=_n.current,at(_n,t),at(jn,jn.current),!0}function PT(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=YR(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,ft(jn),ft(_n),at(_n,t)):ft(jn),at(jn,n)}var ci=null,$m=!1,qy=!1;function XR(t){ci===null?ci=[t]:ci.push(t)}function fF(t){$m=!0,XR(t)}function Fo(){if(!qy&&ci!==null){qy=!0;var t=0,e=Qe;try{var n=ci;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,$m=!1}catch(i){throw ci!==null&&(ci=ci.slice(t+1)),bR(lw,Fo),i}finally{Qe=e,qy=!1}}return null}var xa=[],_a=0,Hh=null,Wh=0,or=[],sr=0,Is=null,fi=1,hi="";function is(t,e){xa[_a++]=Wh,xa[_a++]=Hh,Hh=t,Wh=e}function QR(t,e,n){or[sr++]=fi,or[sr++]=hi,or[sr++]=Is,Is=t;var r=fi;t=hi;var i=32-kr(r)-1;r&=~(1<<i),n+=1;var o=32-kr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fi=1<<32-kr(e)+i|n<<i|r,hi=o+t}else fi=1<<o|n<<i|r,hi=t}function yw(t){t.return!==null&&(is(t,1),QR(t,1,0))}function vw(t){for(;t===Hh;)Hh=xa[--_a],xa[_a]=null,Wh=xa[--_a],xa[_a]=null;for(;t===Is;)Is=or[--sr],or[sr]=null,hi=or[--sr],or[sr]=null,fi=or[--sr],or[sr]=null}var Kn=null,Hn=null,ht=!1,Cr=null;function ZR(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Is!==null?{id:fi,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x0(t){if(ht){var e=Hn;if(e){var n=e;if(!NT(t,e)){if(v0(t))throw Error(re(418));e=_o(n.nextSibling);var r=Kn;e&&NT(t,e)?ZR(r,n):(t.flags=t.flags&-4097|2,ht=!1,Kn=t)}}else{if(v0(t))throw Error(re(418));t.flags=t.flags&-4097|2,ht=!1,Kn=t}}}function kT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Lf(t){if(t!==Kn)return!1;if(!ht)return kT(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p0(t.type,t.memoizedProps)),e&&(e=Hn)){if(v0(t))throw e2(),Error(re(418));for(;e;)ZR(t,e),e=_o(e.nextSibling)}if(kT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?_o(t.stateNode.nextSibling):null;return!0}function e2(){for(var t=Hn;t;)t=_o(t.nextSibling)}function Ya(){Hn=Kn=null,ht=!1}function xw(t){Cr===null?Cr=[t]:Cr.push(t)}var hF=Vi.ReactCurrentBatchConfig;function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function jf(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RT(t){var e=t._init;return e(t._payload)}function t2(t){function e(_,b){if(t){var S=_.deletions;S===null?(_.deletions=[b],_.flags|=16):S.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=So(_,b),_.index=0,_.sibling=null,_}function o(_,b,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<b?(_.flags|=2,b):S):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,S,N){return b===null||b.tag!==6?(b=Yy(S,_.mode,N),b.return=_,b):(b=i(b,S),b.return=_,b)}function l(_,b,S,N){var A=S.type;return A===ha?c(_,b,S.props.children,N,S.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===to&&RT(A)===b.type)?(N=i(b,S.props),N.ref=Eu(_,b,S),N.return=_,N):(N=Eh(S.type,S.key,S.props,null,_.mode,N),N.ref=Eu(_,b,S),N.return=_,N)}function u(_,b,S,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Xy(S,_.mode,N),b.return=_,b):(b=i(b,S.children||[]),b.return=_,b)}function c(_,b,S,N,A){return b===null||b.tag!==7?(b=ws(S,_.mode,N,A),b.return=_,b):(b=i(b,S),b.return=_,b)}function d(_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Yy(""+b,_.mode,S),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Af:return S=Eh(b.type,b.key,b.props,null,_.mode,S),S.ref=Eu(_,null,b),S.return=_,S;case fa:return b=Xy(b,_.mode,S),b.return=_,b;case to:var N=b._init;return d(_,N(b._payload),S)}if(Fu(b)||vu(b))return b=ws(b,_.mode,S,null),b.return=_,b;jf(_,b)}return null}function h(_,b,S,N){var A=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(_,b,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Af:return S.key===A?l(_,b,S,N):null;case fa:return S.key===A?u(_,b,S,N):null;case to:return A=S._init,h(_,b,A(S._payload),N)}if(Fu(S)||vu(S))return A!==null?null:c(_,b,S,N,null);jf(_,S)}return null}function y(_,b,S,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(S)||null,a(b,_,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Af:return _=_.get(N.key===null?S:N.key)||null,l(b,_,N,A);case fa:return _=_.get(N.key===null?S:N.key)||null,u(b,_,N,A);case to:var P=N._init;return y(_,b,S,P(N._payload),A)}if(Fu(N)||vu(N))return _=_.get(S)||null,c(b,_,N,A,null);jf(b,N)}return null}function x(_,b,S,N){for(var A=null,P=null,T=b,C=b=0,I=null;T!==null&&C<S.length;C++){T.index>C?(I=T,T=null):I=T.sibling;var R=h(_,T,S[C],N);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(_,T),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R,T=I}if(C===S.length)return n(_,T),ht&&is(_,C),A;if(T===null){for(;C<S.length;C++)T=d(_,S[C],N),T!==null&&(b=o(T,b,C),P===null?A=T:P.sibling=T,P=T);return ht&&is(_,C),A}for(T=r(_,T);C<S.length;C++)I=y(T,_,C,S[C],N),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),b=o(I,b,C),P===null?A=I:P.sibling=I,P=I);return t&&T.forEach(function(O){return e(_,O)}),ht&&is(_,C),A}function w(_,b,S,N){var A=vu(S);if(typeof A!="function")throw Error(re(150));if(S=A.call(S),S==null)throw Error(re(151));for(var P=A=null,T=b,C=b=0,I=null,R=S.next();T!==null&&!R.done;C++,R=S.next()){T.index>C?(I=T,T=null):I=T.sibling;var O=h(_,T,R.value,N);if(O===null){T===null&&(T=I);break}t&&T&&O.alternate===null&&e(_,T),b=o(O,b,C),P===null?A=O:P.sibling=O,P=O,T=I}if(R.done)return n(_,T),ht&&is(_,C),A;if(T===null){for(;!R.done;C++,R=S.next())R=d(_,R.value,N),R!==null&&(b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return ht&&is(_,C),A}for(T=r(_,T);!R.done;C++,R=S.next())R=y(T,_,C,R.value,N),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?C:R.key),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return t&&T.forEach(function(D){return e(_,D)}),ht&&is(_,C),A}function v(_,b,S,N){if(typeof S=="object"&&S!==null&&S.type===ha&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Af:e:{for(var A=S.key,P=b;P!==null;){if(P.key===A){if(A=S.type,A===ha){if(P.tag===7){n(_,P.sibling),b=i(P,S.props.children),b.return=_,_=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===to&&RT(A)===P.type){n(_,P.sibling),b=i(P,S.props),b.ref=Eu(_,P,S),b.return=_,_=b;break e}n(_,P);break}else e(_,P);P=P.sibling}S.type===ha?(b=ws(S.props.children,_.mode,N,S.key),b.return=_,_=b):(N=Eh(S.type,S.key,S.props,null,_.mode,N),N.ref=Eu(_,b,S),N.return=_,_=N)}return s(_);case fa:e:{for(P=S.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(_,b.sibling),b=i(b,S.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=Xy(S,_.mode,N),b.return=_,_=b}return s(_);case to:return P=S._init,v(_,b,P(S._payload),N)}if(Fu(S))return x(_,b,S,N);if(vu(S))return w(_,b,S,N);jf(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,S),b.return=_,_=b):(n(_,b),b=Yy(S,_.mode,N),b.return=_,_=b),s(_)):n(_,b)}return v}var Xa=t2(!0),n2=t2(!1),Kh=Vo(null),Jh=null,wa=null,_w=null;function ww(){_w=wa=Jh=null}function bw(t){var e=Kh.current;ft(Kh),t._currentValue=e}function _0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oa(t,e){Jh=t,_w=wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(_w!==t)if(t={context:t,memoizedValue:e,next:null},wa===null){if(Jh===null)throw Error(re(308));wa=t,Jh.dependencies={lanes:0,firstContext:t}}else wa=wa.next=t;return e}var fs=null;function Ew(t){fs===null?fs=[t]:fs.push(t)}function r2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ew(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var no=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,Ew(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function yh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uw(t,n)}}function MT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yh(t,e,n,r){var i=t.updateQueue;no=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(h=e,y=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){d=x.call(y,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(y,d,h):x,h==null)break e;d=xt({},d,h);break e;case 2:no=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ps|=s,t.lanes=s,t.memoizedState=d}}function OT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var Rd={},Wr=Vo(Rd),Ic=Vo(Rd),Cc=Vo(Rd);function hs(t){if(t===Rd)throw Error(re(174));return t}function Tw(t,e){switch(at(Cc,e),at(Ic,t),at(Wr,Rd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}ft(Wr),at(Wr,e)}function Qa(){ft(Wr),ft(Ic),ft(Cc)}function o2(t){hs(Cc.current);var e=hs(Wr.current),n=e0(e,t.type);e!==n&&(at(Ic,t),at(Wr,n))}function Aw(t){Ic.current===t&&(ft(Wr),ft(Ic))}var gt=Vo(0);function Xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gy=[];function Iw(){for(var t=0;t<Gy.length;t++)Gy[t]._workInProgressVersionPrimary=null;Gy.length=0}var vh=Vi.ReactCurrentDispatcher,zy=Vi.ReactCurrentBatchConfig,Cs=0,vt=null,Lt=null,Gt=null,Qh=!1,tc=!1,Pc=0,pF=0;function cn(){throw Error(re(321))}function Cw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function Pw(t,e,n,r,i,o){if(Cs=o,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=t===null||t.memoizedState===null?vF:xF,t=n(r,i),tc){o=0;do{if(tc=!1,Pc=0,25<=o)throw Error(re(301));o+=1,Gt=Lt=null,e.updateQueue=null,vh.current=_F,t=n(r,i)}while(tc)}if(vh.current=Zh,e=Lt!==null&&Lt.next!==null,Cs=0,Gt=Lt=vt=null,Qh=!1,e)throw Error(re(300));return t}function Nw(){var t=Pc!==0;return Pc=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?vt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function gr(){if(Lt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Gt===null?vt.memoizedState:Gt.next;if(e!==null)Gt=e,Lt=t;else{if(t===null)throw Error(re(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Gt===null?vt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Nc(t,e){return typeof e=="function"?e(t):e}function Hy(t){var e=gr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Cs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,vt.lanes|=c,Ps|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Lr(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,vt.lanes|=o,Ps|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wy(t){var e=gr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Lr(o,e.memoizedState)||(Dn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function s2(){}function a2(t,e){var n=vt,r=gr(),i=e(),o=!Lr(r.memoizedState,i);if(o&&(r.memoizedState=i,Dn=!0),r=r.queue,kw(c2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,kc(9,u2.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(re(349));Cs&30||l2(n,e,i)}return i}function l2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function u2(t,e,n,r){e.value=n,e.getSnapshot=r,d2(e)&&f2(t)}function c2(t,e,n){return n(function(){d2(e)&&f2(t)})}function d2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function f2(t){var e=Ai(t,1);e!==null&&Rr(e,t,1,-1)}function DT(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=yF.bind(null,vt,t),[e.memoizedState,t]}function kc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h2(){return gr().memoizedState}function xh(t,e,n,r){var i=Fr();vt.flags|=t,i.memoizedState=kc(1|e,n,void 0,r===void 0?null:r)}function Um(t,e,n,r){var i=gr();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&Cw(r,s.deps)){i.memoizedState=kc(e,n,o,r);return}}vt.flags|=t,i.memoizedState=kc(1|e,n,o,r)}function LT(t,e){return xh(8390656,8,t,e)}function kw(t,e){return Um(2048,8,t,e)}function p2(t,e){return Um(4,2,t,e)}function m2(t,e){return Um(4,4,t,e)}function g2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y2(t,e,n){return n=n!=null?n.concat([t]):null,Um(4,4,g2.bind(null,e,t),n)}function Rw(){}function v2(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x2(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _2(t,e,n){return Cs&21?(Lr(n,e)||(n=TR(),vt.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function mF(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=zy.transition;zy.transition={};try{t(!1),e()}finally{Qe=n,zy.transition=r}}function w2(){return gr().memoizedState}function gF(t,e,n){var r=Eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b2(t))E2(e,n);else if(n=r2(t,e,n,r),n!==null){var i=Tn();Rr(n,t,r,i),S2(n,e,r)}}function yF(t,e,n){var r=Eo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b2(t))E2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,s)){var l=e.interleaved;l===null?(i.next=i,Ew(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=r2(t,e,i,r),n!==null&&(i=Tn(),Rr(n,t,r,i),S2(n,e,r))}}function b2(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function E2(t,e){tc=Qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uw(t,n)}}var Zh={readContext:mr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},vF={readContext:mr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:LT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xh(4194308,4,g2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return xh(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gF.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:DT,useDebugValue:Rw,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=DT(!1),e=t[0];return t=mF.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=Fr();if(ht){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),zt===null)throw Error(re(349));Cs&30||l2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,LT(c2.bind(null,r,o,t),[t]),r.flags|=2048,kc(9,u2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fr(),e=zt.identifierPrefix;if(ht){var n=hi,r=fi;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xF={readContext:mr,useCallback:v2,useContext:mr,useEffect:kw,useImperativeHandle:y2,useInsertionEffect:p2,useLayoutEffect:m2,useMemo:x2,useReducer:Hy,useRef:h2,useState:function(){return Hy(Nc)},useDebugValue:Rw,useDeferredValue:function(t){var e=gr();return _2(e,Lt.memoizedState,t)},useTransition:function(){var t=Hy(Nc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:s2,useSyncExternalStore:a2,useId:w2,unstable_isNewReconciler:!1},_F={readContext:mr,useCallback:v2,useContext:mr,useEffect:kw,useImperativeHandle:y2,useInsertionEffect:p2,useLayoutEffect:m2,useMemo:x2,useReducer:Wy,useRef:h2,useState:function(){return Wy(Nc)},useDebugValue:Rw,useDeferredValue:function(t){var e=gr();return Lt===null?e.memoizedState=t:_2(e,Lt.memoizedState,t)},useTransition:function(){var t=Wy(Nc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:s2,useSyncExternalStore:a2,useId:w2,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vm={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Eo(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Rr(e,t,i,r),yh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=Eo(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Rr(e,t,i,r),yh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Eo(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Rr(e,t,r,n),yh(e,t,r))}};function jT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ec(n,r)||!Ec(i,o):!0}function T2(t,e,n){var r=!1,i=Oo,o=e.contextType;return typeof o=="object"&&o!==null?o=mr(o):(i=$n(e)?As:_n.current,r=e.contextTypes,o=(r=r!=null)?Ja(t,i):Oo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $T(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vm.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=mr(o):(o=$n(e)?As:_n.current,i.context=Ja(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(w0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vm.enqueueReplaceState(i,i.state,null),Yh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Za(t,e){try{var n="",r=e;do n+=K4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ky(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wF=typeof WeakMap=="function"?WeakMap:Map;function A2(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tp||(tp=!0,M0=r),E0(t,e)},n}function I2(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){E0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){E0(t,e),typeof r!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function UT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DF.bind(null,t,e,n),e.then(t,t))}function VT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var bF=Vi.ReactCurrentOwner,Dn=!1;function En(t,e,n,r){e.child=t===null?n2(e,null,n,r):Xa(e,t.child,n,r)}function BT(t,e,n,r,i){n=n.render;var o=e.ref;return Oa(e,i),r=Pw(t,e,n,r,o,i),n=Nw(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(ht&&n&&yw(e),e.flags|=1,En(t,e,r,i),e.child)}function qT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,C2(t,e,o,r,i)):(t=Eh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ec,n(s,r)&&t.ref===e.ref)return Ii(t,e,i)}return e.flags|=1,t=So(o,r),t.ref=e.ref,t.return=e,e.child=t}function C2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ec(o,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Ii(t,e,i)}return S0(t,e,n,r,i)}function P2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ea,qn),qn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Ea,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,at(Ea,qn),qn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,at(Ea,qn),qn|=r;return En(t,e,i,n),e.child}function N2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function S0(t,e,n,r,i){var o=$n(n)?As:_n.current;return o=Ja(e,o),Oa(e,i),n=Pw(t,e,n,r,o,i),r=Nw(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ii(t,e,i)):(ht&&r&&yw(e),e.flags|=1,En(t,e,n,i),e.child)}function GT(t,e,n,r,i){if($n(n)){var o=!0;zh(e)}else o=!1;if(Oa(e,i),e.stateNode===null)_h(t,e),T2(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=$n(n)?As:_n.current,u=Ja(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$T(e,s,r,u),no=!1;var h=e.memoizedState;s.state=h,Yh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||jn.current||no?(typeof c=="function"&&(w0(e,n,c,r),l=e.memoizedState),(a=no||jT(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,i2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tr(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=$n(n)?As:_n.current,l=Ja(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&$T(e,s,r,l),no=!1,h=e.memoizedState,s.state=h,Yh(e,r,s,i);var x=e.memoizedState;a!==d||h!==x||jn.current||no?(typeof y=="function"&&(w0(e,n,y,r),x=e.memoizedState),(u=no||jT(e,n,u,r,h,x,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return T0(t,e,n,r,o,i)}function T0(t,e,n,r,i,o){N2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&PT(e,n,!1),Ii(t,e,o);r=e.stateNode,bF.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Xa(e,t.child,null,o),e.child=Xa(e,null,a,o)):En(t,e,a,o),e.memoizedState=r.state,i&&PT(e,n,!0),e.child}function k2(t){var e=t.stateNode;e.pendingContext?CT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CT(t,e.context,!1),Tw(t,e.containerInfo)}function zT(t,e,n,r,i){return Ya(),xw(i),e.flags|=256,En(t,e,n,r),e.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function I0(t){return{baseLanes:t,cachePool:null,transitions:null}}function R2(t,e,n){var r=e.pendingProps,i=gt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(gt,i&1),t===null)return x0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=qm(s,r,0,null),t=ws(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=I0(n),e.memoizedState=A0,t):Mw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EF(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=So(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=So(a,o):(o=ws(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?I0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=A0,r}return o=t.child,t=o.sibling,r=So(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mw(t,e){return e=qm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $f(t,e,n,r){return r!==null&&xw(r),Xa(e,t.child,null,n),t=Mw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EF(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ky(Error(re(422))),$f(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qm({mode:"visible",children:r.children},i,0,null),o=ws(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Xa(e,t.child,null,s),e.child.memoizedState=I0(s),e.memoizedState=A0,o);if(!(e.mode&1))return $f(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(re(419)),r=Ky(o,r,void 0),$f(t,e,s,r)}if(a=(s&t.childLanes)!==0,Dn||a){if(r=zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ai(t,i),Rr(r,t,i,-1))}return Uw(),r=Ky(Error(re(421))),$f(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=_o(i.nextSibling),Kn=e,ht=!0,Cr=null,t!==null&&(or[sr++]=fi,or[sr++]=hi,or[sr++]=Is,fi=t.id,hi=t.overflow,Is=e),e=Mw(e,r.children),e.flags|=4096,e)}function HT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_0(t.return,e,n)}function Jy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function M2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(En(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HT(t,n,e);else if(t.tag===19)HT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jy(e,!0,n,null,o);break;case"together":Jy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=So(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=So(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SF(t,e,n){switch(e.tag){case 3:k2(e),Ya();break;case 5:o2(e);break;case 1:$n(e.type)&&zh(e);break;case 4:Tw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;at(Kh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?R2(t,e,n):(at(gt,gt.current&1),t=Ii(t,e,n),t!==null?t.sibling:null);at(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return M2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,P2(t,e,n)}return Ii(t,e,n)}var O2,C0,D2,L2;O2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};D2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hs(Wr.current);var o=null;switch(n){case"input":i=Yv(t,i),r=Yv(t,r),o=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),o=[];break;case"textarea":i=Zv(t,i),r=Zv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qh)}t0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ut("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};L2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Su(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TF(t,e,n){var r=e.pendingProps;switch(vw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return $n(e.type)&&Gh(),dn(e),null;case 3:return r=e.stateNode,Qa(),ft(jn),ft(_n),Iw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(L0(Cr),Cr=null))),C0(t,e),dn(e),null;case 5:Aw(e);var i=hs(Cc.current);if(n=e.type,t!==null&&e.stateNode!=null)D2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return dn(e),null}if(t=hs(Wr.current),Lf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qr]=e,r[Ac]=o,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(i=0;i<qu.length;i++)ut(qu[i],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":tT(r,o),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ut("invalid",r);break;case"textarea":rT(r,o),ut("invalid",r)}t0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Df(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Df(r.textContent,a,t),i=["children",""+a]):gc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ut("scroll",r)}switch(n){case"input":If(r),nT(r,o,!0);break;case"textarea":If(r),iT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qr]=e,t[Ac]=r,O2(t,e,!1,!1),e.stateNode=t;e:{switch(s=n0(n,r),n){case"dialog":ut("cancel",t),ut("close",t),i=r;break;case"iframe":case"object":case"embed":ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<qu.length;i++)ut(qu[i],t);i=r;break;case"source":ut("error",t),i=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=r;break;case"details":ut("toggle",t),i=r;break;case"input":tT(t,r),i=Yv(t,r),ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":rT(t,r),i=Zv(t,r),ut("invalid",t);break;default:i=r}t0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yc(t,l):typeof l=="number"&&yc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ut("scroll",t):l!=null&&rw(t,o,l,s))}switch(n){case"input":If(t),nT(t,r,!1);break;case"textarea":If(t),iT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Na(t,!!r.multiple,o,!1):r.defaultValue!=null&&Na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)L2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=hs(Cc.current),hs(Wr.current),Lf(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:Df(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Df(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return dn(e),null;case 13:if(ft(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Hn!==null&&e.mode&1&&!(e.flags&128))e2(),Ya(),e.flags|=98560,o=!1;else if(o=Lf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[qr]=e}else Ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),o=!1}else Cr!==null&&(L0(Cr),Cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?jt===0&&(jt=3):Uw())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Qa(),C0(t,e),t===null&&Sc(e.stateNode.containerInfo),dn(e),null;case 10:return bw(e.type._context),dn(e),null;case 17:return $n(e.type)&&Gh(),dn(e),null;case 19:if(ft(gt),o=e.memoizedState,o===null)return dn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Su(o,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xh(t),s!==null){for(e.flags|=128,Su(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(gt,gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>el&&(e.flags|=128,r=!0,Su(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Su(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ht)return dn(e),null}else 2*It()-o.renderingStartTime>el&&n!==1073741824&&(e.flags|=128,r=!0,Su(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,n=gt.current,at(gt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return $w(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function AF(t,e){switch(vw(e),e.tag){case 1:return $n(e.type)&&Gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),ft(jn),ft(_n),Iw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Aw(e),null;case 13:if(ft(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(gt),null;case 4:return Qa(),null;case 10:return bw(e.type._context),null;case 22:case 23:return $w(),null;case 24:return null;default:return null}}var Uf=!1,mn=!1,IF=typeof WeakSet=="function"?WeakSet:Set,me=null;function ba(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function P0(t,e,n){try{n()}catch(r){bt(t,e,r)}}var WT=!1;function CF(t,e){if(f0=Vh,t=FR(),gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h0={focusedElem:t,selectionRange:n},Vh=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,v=x.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tr(e.type,w),v);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(N){bt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return x=WT,WT=!1,x}function nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&P0(e,n,o)}i=i.next}while(i!==r)}}function Fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j2(t){var e=t.alternate;e!==null&&(t.alternate=null,j2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Ac],delete e[g0],delete e[cF],delete e[dF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $2(t){return t.tag===5||t.tag===3||t.tag===4}function KT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qh));else if(r!==4&&(t=t.child,t!==null))for(k0(t,e,n),t=t.sibling;t!==null;)k0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var Qt=null,Ar=!1;function Qi(t,e,n){for(n=n.child;n!==null;)U2(t,e,n),n=n.sibling}function U2(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Mm,n)}catch{}switch(n.tag){case 5:mn||ba(n,e);case 6:var r=Qt,i=Ar;Qt=null,Qi(t,e,n),Qt=r,Ar=i,Qt!==null&&(Ar?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(Ar?(t=Qt,n=n.stateNode,t.nodeType===8?By(t.parentNode,n):t.nodeType===1&&By(t,n),wc(t)):By(Qt,n.stateNode));break;case 4:r=Qt,i=Ar,Qt=n.stateNode.containerInfo,Ar=!0,Qi(t,e,n),Qt=r,Ar=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&P0(n,e,s),i=i.next}while(i!==r)}Qi(t,e,n);break;case 1:if(!mn&&(ba(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Qi(t,e,n),mn=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function JT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IF),e.forEach(function(r){var i=jF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,Ar=!1;break e;case 3:Qt=a.stateNode.containerInfo,Ar=!0;break e;case 4:Qt=a.stateNode.containerInfo,Ar=!0;break e}a=a.return}if(Qt===null)throw Error(re(160));U2(o,s,i),Qt=null,Ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V2(e,t),e=e.sibling}function V2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Vr(t),r&4){try{nc(3,t,t.return),Fm(3,t)}catch(w){bt(t,t.return,w)}try{nc(5,t,t.return)}catch(w){bt(t,t.return,w)}}break;case 1:Er(e,t),Vr(t),r&512&&n!==null&&ba(n,n.return);break;case 5:if(Er(e,t),Vr(t),r&512&&n!==null&&ba(n,n.return),t.flags&32){var i=t.stateNode;try{yc(i,"")}catch(w){bt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&lR(i,o),n0(a,s);var u=n0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?hR(i,d):c==="dangerouslySetInnerHTML"?dR(i,d):c==="children"?yc(i,d):rw(i,c,d,u)}switch(a){case"input":Xv(i,o);break;case"textarea":uR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Na(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Na(i,!!o.multiple,o.defaultValue,!0):Na(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ac]=o}catch(w){bt(t,t.return,w)}}break;case 6:if(Er(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){bt(t,t.return,w)}}break;case 3:if(Er(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wc(e.containerInfo)}catch(w){bt(t,t.return,w)}break;case 4:Er(e,t),Vr(t);break;case 13:Er(e,t),Vr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lw=It())),r&4&&JT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(u=mn)||c,Er(e,t),mn=u):Er(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(me=t,c=t.child;c!==null;){for(d=me=c;me!==null;){switch(h=me,y=h.child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:ba(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){bt(r,n,w)}}break;case 5:ba(h,h.return);break;case 22:if(h.memoizedState!==null){XT(d);continue}}y!==null?(y.return=h,me=y):XT(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fR("display",s))}catch(w){bt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){bt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Er(e,t),Vr(t),r&4&&JT(t);break;case 21:break;default:Er(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($2(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yc(i,""),r.flags&=-33);var o=KT(t);R0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=KT(t);k0(t,a,s);break;default:throw Error(re(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PF(t,e,n){me=t,F2(t)}function F2(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Uf;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mn;a=Uf;var u=mn;if(Uf=s,(mn=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?QT(i):l!==null?(l.return=s,me=l):QT(i);for(;o!==null;)me=o,F2(o),o=o.sibling;me=i,Uf=a,mn=u}YT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):YT(t)}}function YT(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&OT(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OT(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&wc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}mn||e.flags&512&&N0(e)}catch(h){bt(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function XT(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function QT(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fm(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var o=e.return;try{N0(e)}catch(l){bt(e,o,l)}break;case 5:var s=e.return;try{N0(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var NF=Math.ceil,ep=Vi.ReactCurrentDispatcher,Ow=Vi.ReactCurrentOwner,cr=Vi.ReactCurrentBatchConfig,Fe=0,zt=null,Nt=null,nn=0,qn=0,Ea=Vo(0),jt=0,Rc=null,Ps=0,Bm=0,Dw=0,rc=null,Mn=null,Lw=0,el=1/0,ui=null,tp=!1,M0=null,bo=null,Vf=!1,fo=null,np=0,ic=0,O0=null,wh=-1,bh=0;function Tn(){return Fe&6?It():wh!==-1?wh:wh=It()}function Eo(t){return t.mode&1?Fe&2&&nn!==0?nn&-nn:hF.transition!==null?(bh===0&&(bh=TR()),bh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:RR(t.type)),t):1}function Rr(t,e,n,r){if(50<ic)throw ic=0,O0=null,Error(re(185));Pd(t,n,r),(!(Fe&2)||t!==zt)&&(t===zt&&(!(Fe&2)&&(Bm|=n),jt===4&&oo(t,nn)),Un(t,r),n===1&&Fe===0&&!(e.mode&1)&&(el=It()+500,$m&&Fo()))}function Un(t,e){var n=t.callbackNode;hV(t,e);var r=Uh(t,t===zt?nn:0);if(r===0)n!==null&&aT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aT(n),e===1)t.tag===0?fF(ZT.bind(null,t)):XR(ZT.bind(null,t)),lF(function(){!(Fe&6)&&Fo()}),n=null;else{switch(AR(r)){case 1:n=lw;break;case 4:n=ER;break;case 16:n=$h;break;case 536870912:n=SR;break;default:n=$h}n=J2(n,B2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B2(t,e){if(wh=-1,bh=0,Fe&6)throw Error(re(327));var n=t.callbackNode;if(Da()&&t.callbackNode!==n)return null;var r=Uh(t,t===zt?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rp(t,r);else{e=r;var i=Fe;Fe|=2;var o=G2();(zt!==t||nn!==e)&&(ui=null,el=It()+500,_s(t,e));do try{MF();break}catch(a){q2(t,a)}while(!0);ww(),ep.current=o,Fe=i,Nt!==null?e=0:(zt=null,nn=0,e=jt)}if(e!==0){if(e===2&&(i=a0(t),i!==0&&(r=i,e=D0(t,i))),e===1)throw n=Rc,_s(t,0),oo(t,r),Un(t,It()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!kF(i)&&(e=rp(t,r),e===2&&(o=a0(t),o!==0&&(r=o,e=D0(t,o))),e===1))throw n=Rc,_s(t,0),oo(t,r),Un(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:os(t,Mn,ui);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=Lw+500-It(),10<e)){if(Uh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m0(os.bind(null,t,Mn,ui),e);break}os(t,Mn,ui);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-kr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NF(r/1960))-r,10<r){t.timeoutHandle=m0(os.bind(null,t,Mn,ui),r);break}os(t,Mn,ui);break;case 5:os(t,Mn,ui);break;default:throw Error(re(329))}}}return Un(t,It()),t.callbackNode===n?B2.bind(null,t):null}function D0(t,e){var n=rc;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=rp(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&L0(e)),t}function L0(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function kF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~Dw,e&=~Bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kr(e),r=1<<n;t[n]=-1,e&=~r}}function ZT(t){if(Fe&6)throw Error(re(327));Da();var e=Uh(t,0);if(!(e&1))return Un(t,It()),null;var n=rp(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=D0(t,r))}if(n===1)throw n=Rc,_s(t,0),oo(t,e),Un(t,It()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Mn,ui),Un(t,It()),null}function jw(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(el=It()+500,$m&&Fo())}}function Ns(t){fo!==null&&fo.tag===0&&!(Fe&6)&&Da();var e=Fe;Fe|=1;var n=cr.transition,r=Qe;try{if(cr.transition=null,Qe=1,t)return t()}finally{Qe=r,cr.transition=n,Fe=e,!(Fe&6)&&Fo()}}function $w(){qn=Ea.current,ft(Ea)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aF(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gh();break;case 3:Qa(),ft(jn),ft(_n),Iw();break;case 5:Aw(r);break;case 4:Qa();break;case 13:ft(gt);break;case 19:ft(gt);break;case 10:bw(r.type._context);break;case 22:case 23:$w()}n=n.return}if(zt=t,Nt=t=So(t.current,null),nn=qn=e,jt=0,Rc=null,Dw=Bm=Ps=0,Mn=rc=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fs=null}return t}function q2(t,e){do{var n=Nt;try{if(ww(),vh.current=Zh,Qh){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qh=!1}if(Cs=0,Gt=Lt=vt=null,tc=!1,Pc=0,Ow.current=null,n===null||n.return===null){jt=1,Rc=e,Nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=nn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=VT(s);if(y!==null){y.flags&=-257,FT(y,s,a,o,e),y.mode&1&&UT(o,u,e),e=y,l=u;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){UT(o,u,e),Uw();break e}l=Error(re(426))}}else if(ht&&a.mode&1){var v=VT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),FT(v,s,a,o,e),xw(Za(l,a));break e}}o=l=Za(l,a),jt!==4&&(jt=2),rc===null?rc=[o]:rc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=A2(o,l,e);MT(o,_);break e;case 1:a=l;var b=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bo===null||!bo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=I2(o,a,e);MT(o,N);break e}}o=o.return}while(o!==null)}H2(n)}catch(A){e=A,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function G2(){var t=ep.current;return ep.current=Zh,t===null?Zh:t}function Uw(){(jt===0||jt===3||jt===2)&&(jt=4),zt===null||!(Ps&268435455)&&!(Bm&268435455)||oo(zt,nn)}function rp(t,e){var n=Fe;Fe|=2;var r=G2();(zt!==t||nn!==e)&&(ui=null,_s(t,e));do try{RF();break}catch(i){q2(t,i)}while(!0);if(ww(),Fe=n,ep.current=r,Nt!==null)throw Error(re(261));return zt=null,nn=0,jt}function RF(){for(;Nt!==null;)z2(Nt)}function MF(){for(;Nt!==null&&!iV();)z2(Nt)}function z2(t){var e=K2(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?H2(t):Nt=e,Ow.current=null}function H2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AF(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Nt=null;return}}else if(n=TF(n,e,qn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);jt===0&&(jt=5)}function os(t,e,n){var r=Qe,i=cr.transition;try{cr.transition=null,Qe=1,OF(t,e,n,r)}finally{cr.transition=i,Qe=r}return null}function OF(t,e,n,r){do Da();while(fo!==null);if(Fe&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pV(t,o),t===zt&&(Nt=zt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vf||(Vf=!0,J2($h,function(){return Da(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var s=Qe;Qe=1;var a=Fe;Fe|=4,Ow.current=null,CF(t,n),V2(n,t),eF(h0),Vh=!!f0,h0=f0=null,t.current=n,PF(n),oV(),Fe=a,Qe=s,cr.transition=o}else t.current=n;if(Vf&&(Vf=!1,fo=t,np=i),o=t.pendingLanes,o===0&&(bo=null),lV(n.stateNode),Un(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tp)throw tp=!1,t=M0,M0=null,t;return np&1&&t.tag!==0&&Da(),o=t.pendingLanes,o&1?t===O0?ic++:(ic=0,O0=t):ic=0,Fo(),null}function Da(){if(fo!==null){var t=AR(np),e=cr.transition,n=Qe;try{if(cr.transition=null,Qe=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,np=0,Fe&6)throw Error(re(331));var i=Fe;for(Fe|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:nc(8,c,o)}var d=c.child;if(d!==null)d.return=c,me=d;else for(;me!==null;){c=me;var h=c.sibling,y=c.return;if(j2(c),c===u){me=null;break}if(h!==null){h.return=y,me=h;break}me=y}}}var x=o.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,me=_;break e}me=o.return}}var b=t.current;for(me=b;me!==null;){s=me;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,me=S;else e:for(s=b;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fm(9,a)}}catch(A){bt(a,a.return,A)}if(a===s){me=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,me=N;break e}me=a.return}}if(Fe=i,Fo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Mm,t)}catch{}r=!0}return r}finally{Qe=n,cr.transition=e}}return!1}function e1(t,e,n){e=Za(n,e),e=A2(t,e,1),t=wo(t,e,1),e=Tn(),t!==null&&(Pd(t,1,e),Un(t,e))}function bt(t,e,n){if(t.tag===3)e1(t,t,n);else for(;e!==null;){if(e.tag===3){e1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bo===null||!bo.has(r))){t=Za(n,t),t=I2(e,t,1),e=wo(e,t,1),t=Tn(),e!==null&&(Pd(e,1,t),Un(e,t));break}}e=e.return}}function DF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(nn&n)===n&&(jt===4||jt===3&&(nn&130023424)===nn&&500>It()-Lw?_s(t,0):Dw|=n),Un(t,e)}function W2(t,e){e===0&&(t.mode&1?(e=Nf,Nf<<=1,!(Nf&130023424)&&(Nf=4194304)):e=1);var n=Tn();t=Ai(t,e),t!==null&&(Pd(t,e,n),Un(t,n))}function LF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W2(t,n)}function jF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),W2(t,n)}var K2;K2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jn.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,SF(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,ht&&e.flags&1048576&&QR(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_h(t,e),t=e.pendingProps;var i=Ja(e,_n.current);Oa(e,n),i=Pw(null,e,r,t,i,n);var o=Nw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(r)?(o=!0,zh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sw(e),i.updater=Vm,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=T0(null,e,r,!0,o,n)):(e.tag=0,ht&&o&&yw(e),En(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UF(r),t=Tr(r,t),i){case 0:e=S0(null,e,r,t,n);break e;case 1:e=GT(null,e,r,t,n);break e;case 11:e=BT(null,e,r,t,n);break e;case 14:e=qT(null,e,r,Tr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),S0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),GT(t,e,r,i,n);case 3:e:{if(k2(e),t===null)throw Error(re(387));r=e.pendingProps,o=e.memoizedState,i=o.element,i2(t,e),Yh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Za(Error(re(423)),e),e=zT(t,e,r,n,i);break e}else if(r!==i){i=Za(Error(re(424)),e),e=zT(t,e,r,n,i);break e}else for(Hn=_o(e.stateNode.containerInfo.firstChild),Kn=e,ht=!0,Cr=null,n=n2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ya(),r===i){e=Ii(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return o2(e),t===null&&x0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,p0(r,i)?s=null:o!==null&&p0(r,o)&&(e.flags|=32),N2(t,e),En(t,e,s,n),e.child;case 6:return t===null&&x0(e),null;case 13:return R2(t,e,n);case 4:return Tw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xa(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),BT(t,e,r,i,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,at(Kh,r._currentValue),r._currentValue=s,o!==null)if(Lr(o.value,s)){if(o.children===i.children&&!jn.current){e=Ii(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}En(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oa(e,n),i=mr(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),qT(t,e,r,i,n);case 15:return C2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),_h(t,e),e.tag=1,$n(r)?(t=!0,zh(e)):t=!1,Oa(e,n),T2(e,r,i),b0(e,r,i,n),T0(null,e,r,!0,t,n);case 19:return M2(t,e,n);case 22:return P2(t,e,n)}throw Error(re(156,e.tag))};function J2(t,e){return bR(t,e)}function $F(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new $F(t,e,n,r)}function Vw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UF(t){if(typeof t=="function")return Vw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ow)return 11;if(t===sw)return 14}return 2}function So(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ha:return ws(n.children,i,o,e);case iw:s=8,i|=8;break;case Hv:return t=lr(12,n,e,i|2),t.elementType=Hv,t.lanes=o,t;case Wv:return t=lr(13,n,e,i),t.elementType=Wv,t.lanes=o,t;case Kv:return t=lr(19,n,e,i),t.elementType=Kv,t.lanes=o,t;case oR:return qm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rR:s=10;break e;case iR:s=9;break e;case ow:s=11;break e;case sw:s=14;break e;case to:s=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=lr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ws(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function qm(t,e,n,r){return t=lr(22,t,r,e),t.elementType=oR,t.lanes=n,t.stateNode={isHidden:!1},t}function Yy(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function Xy(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ky(0),this.expirationTimes=ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ky(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fw(t,e,n,r,i,o,s,a,l){return t=new VF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(o),t}function FF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y2(t){if(!t)return Oo;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if($n(n))return YR(t,n,e)}return e}function X2(t,e,n,r,i,o,s,a,l){return t=Fw(n,r,!0,t,i,o,s,a,l),t.context=Y2(null),n=t.current,r=Tn(),i=Eo(n),o=_i(r,i),o.callback=e??null,wo(n,o,i),t.current.lanes=i,Pd(t,i,r),Un(t,r),t}function Gm(t,e,n,r){var i=e.current,o=Tn(),s=Eo(i);return n=Y2(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(Rr(t,i,s,o),yh(t,i,s)),s}function ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bw(t,e){t1(t,e),(t=t.alternate)&&t1(t,e)}function BF(){return null}var Q2=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}zm.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Gm(t,e,null,null)};zm.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){Gm(null,t,null,null)}),e[Ti]=null}};function zm(t){this._internalRoot=t}zm.prototype.unstable_scheduleHydration=function(t){if(t){var e=PR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<io.length&&e!==0&&e<io[n].priority;n++);io.splice(n,0,t),n===0&&kR(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n1(){}function qF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ip(s);o.call(u)}}var s=X2(e,r,t,0,null,!1,!1,"",n1);return t._reactRootContainer=s,t[Ti]=s.current,Sc(t.nodeType===8?t.parentNode:t),Ns(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ip(l);a.call(u)}}var l=Fw(t,0,!1,null,null,!1,!1,"",n1);return t._reactRootContainer=l,t[Ti]=l.current,Sc(t.nodeType===8?t.parentNode:t),Ns(function(){Gm(e,l,n,r)}),l}function Wm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ip(s);a.call(l)}}Gm(e,s,t,i)}else s=qF(n,e,t,i,r);return ip(s)}IR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bu(e.pendingLanes);n!==0&&(uw(e,n|1),Un(e,It()),!(Fe&6)&&(el=It()+500,Fo()))}break;case 13:Ns(function(){var r=Ai(t,1);if(r!==null){var i=Tn();Rr(r,t,1,i)}}),Bw(t,1)}};cw=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=Tn();Rr(e,t,134217728,n)}Bw(t,134217728)}};CR=function(t){if(t.tag===13){var e=Eo(t),n=Ai(t,e);if(n!==null){var r=Tn();Rr(n,t,e,r)}Bw(t,e)}};PR=function(){return Qe};NR=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};i0=function(t,e,n){switch(e){case"input":if(Xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jm(r);if(!i)throw Error(re(90));aR(r),Xv(r,i)}}}break;case"textarea":uR(t,n);break;case"select":e=n.value,e!=null&&Na(t,!!n.multiple,e,!1)}};gR=jw;yR=Ns;var GF={usingClientEntryPoint:!1,Events:[kd,ya,jm,pR,mR,jw]},Tu={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zF={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_R(t),t===null?null:t.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||BF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{Mm=Ff.inject(zF),Hr=Ff}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GF;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(re(200));return FF(t,e,null,n)};Qn.createRoot=function(t,e){if(!Gw(t))throw Error(re(299));var n=!1,r="",i=Q2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fw(t,1,!1,null,null,n,!1,r,i),t[Ti]=e.current,Sc(t.nodeType===8?t.parentNode:t),new qw(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=_R(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return Ns(t)};Qn.hydrate=function(t,e,n){if(!Hm(e))throw Error(re(200));return Wm(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!Gw(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Q2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=X2(e,null,t,1,n??null,i,!1,o,s),t[Ti]=e.current,Sc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zm(e)};Qn.render=function(t,e,n){if(!Hm(e))throw Error(re(200));return Wm(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!Hm(t))throw Error(re(40));return t._reactRootContainer?(Ns(function(){Wm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Qn.unstable_batchedUpdates=jw;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hm(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Wm(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function Z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z2)}catch(t){console.error(t)}}Z2(),Zk.exports=Qn;var HF=Zk.exports,r1=HF;Gv.createRoot=r1.createRoot,Gv.hydrateRoot=r1.hydrateRoot;var i1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},tM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new KF;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const x=u<<6&192|d;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JF=function(t){const e=eM(t);return tM.encodeByteArray(e,!0)},op=function(t){return JF(t).replace(/\./g,"")},nM=function(t){try{return tM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>YF().__FIREBASE_DEFAULTS__,QF=()=>{if(typeof process>"u"||typeof i1>"u")return;const t=i1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nM(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return XF()||QF()||ZF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rM=t=>{var e,n;return(n=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e5=t=>{const e=rM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iM=()=>{var t;return(t=Km())===null||t===void 0?void 0:t.config},oM=t=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op(JSON.stringify(n)),op(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function i5(){var t;const e=(t=Km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l5(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u5(){return!i5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c5(){try{return typeof indexedDB=="object"}catch{return!1}}function d5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f5,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Md.prototype.create)}}class Md{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?h5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,a,r)}}function h5(t,e){return t.replace(p5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p5=/\{\$([^}]+)}/g;function m5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(o1(o)&&o1(s)){if(!sp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g5(t,e){const n=new y5(t,e);return n.subscribe.bind(n)}class y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qy),i.error===void 0&&(i.error=Qy),i.complete===void 0&&(i.complete=Qy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new t5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w5(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _5(t){return t===ss?void 0:t}function w5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const E5={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},S5=$e.INFO,T5={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},A5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=T5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zw{constructor(e){this.name=e,this._logLevel=S5,this._logHandler=A5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const I5=(t,e)=>e.some(n=>t instanceof n);let s1,a1;function C5(){return s1||(s1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P5(){return a1||(a1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sM=new WeakMap,j0=new WeakMap,aM=new WeakMap,Zy=new WeakMap,Hw=new WeakMap;function N5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(To(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sM.set(n,t)}).catch(()=>{}),Hw.set(e,t),e}function k5(t){if(j0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});j0.set(t,e)}let $0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R5(t){$0=t($0)}function M5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ev(this),e,...n);return aM.set(r,e.sort?e.sort():[e]),To(r)}:P5().includes(t)?function(...e){return t.apply(ev(this),e),To(sM.get(this))}:function(...e){return To(t.apply(ev(this),e))}}function O5(t){return typeof t=="function"?M5(t):(t instanceof IDBTransaction&&k5(t),I5(t,C5())?new Proxy(t,$0):t)}function To(t){if(t instanceof IDBRequest)return N5(t);if(Zy.has(t))return Zy.get(t);const e=O5(t);return e!==t&&(Zy.set(t,e),Hw.set(e,t)),e}const ev=t=>Hw.get(t);function D5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=To(s);return r&&s.addEventListener("upgradeneeded",l=>{r(To(s.result),l.oldVersion,l.newVersion,To(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const L5=["get","getKey","getAll","getAllKeys","count"],j5=["put","add","delete","clear"],tv=new Map;function l1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=j5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L5.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tv.set(e,o),o}R5(t=>({...t,get:(e,n,r)=>l1(e,n)||t.get(e,n,r),has:(e,n)=>!!l1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U0="@firebase/app",u1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new zw("@firebase/app"),V5="@firebase/app-compat",F5="@firebase/analytics-compat",B5="@firebase/analytics",q5="@firebase/app-check-compat",G5="@firebase/app-check",z5="@firebase/auth",H5="@firebase/auth-compat",W5="@firebase/database",K5="@firebase/data-connect",J5="@firebase/database-compat",Y5="@firebase/functions",X5="@firebase/functions-compat",Q5="@firebase/installations",Z5="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",n3="@firebase/performance",r3="@firebase/performance-compat",i3="@firebase/remote-config",o3="@firebase/remote-config-compat",s3="@firebase/storage",a3="@firebase/storage-compat",l3="@firebase/firestore",u3="@firebase/vertexai-preview",c3="@firebase/firestore-compat",d3="firebase",f3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="[DEFAULT]",h3={[U0]:"fire-core",[V5]:"fire-core-compat",[B5]:"fire-analytics",[F5]:"fire-analytics-compat",[G5]:"fire-app-check",[q5]:"fire-app-check-compat",[z5]:"fire-auth",[H5]:"fire-auth-compat",[W5]:"fire-rtdb",[K5]:"fire-data-connect",[J5]:"fire-rtdb-compat",[Y5]:"fire-fn",[X5]:"fire-fn-compat",[Q5]:"fire-iid",[Z5]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[n3]:"fire-perf",[r3]:"fire-perf-compat",[i3]:"fire-rc",[o3]:"fire-rc-compat",[s3]:"fire-gcs",[a3]:"fire-gcs-compat",[l3]:"fire-fst",[c3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,p3=new Map,F0=new Map;function c1(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(F0.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of ap.values())c1(n,t);for(const n of p3.values())c1(n,t);return!0}function Ww(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ho(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Md("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=f3;function lM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ao.create("bad-app-name",{appName:String(i)});if(n||(n=iM()),!n)throw Ao.create("no-options");const o=ap.get(i);if(o){if(sp(n,o.options)&&sp(r,o.config))return o;throw Ao.create("duplicate-app",{appName:i})}const s=new b5(i);for(const l of F0.values())s.addComponent(l);const a=new g3(n,r,s);return ap.set(i,a),a}function uM(t=V0){const e=ap.get(t);if(!e&&t===V0&&iM())return lM();if(!e)throw Ao.create("no-app",{appName:t});return e}function Io(t,e,n){var r;let i=(r=h3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}tl(new ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebase-heartbeat-database",v3=1,Mc="firebase-heartbeat-store";let nv=null;function cM(){return nv||(nv=D5(y3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),nv}async function x3(t){try{const n=(await cM()).transaction(Mc),r=await n.objectStore(Mc).get(dM(t));return await n.done,r}catch(e){if(e instanceof Fi)Ci.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function d1(t,e){try{const r=(await cM()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(e,dM(t)),await r.done}catch(n){if(n instanceof Fi)Ci.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function dM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=1024,w3=30*24*60*60*1e3;class b3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=f1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=w3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f1(),{heartbeatsToSend:r,unsentEntries:i}=E3(this._heartbeatsCache.heartbeats),o=op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function f1(){return new Date().toISOString().substring(0,10)}function E3(t,e=_3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),h1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c5()?d5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h1(t){return op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){tl(new ks("platform-logger",e=>new $5(e),"PRIVATE")),tl(new ks("heartbeat",e=>new b3(e),"PRIVATE")),Io(U0,u1,t),Io(U0,u1,"esm2017"),Io("fire-js","")}T3("");var A3="firebase",I3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(A3,I3,"app");var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,fM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function I(){}I.prototype=C.prototype,T.D=C.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,O,D){for(var M=Array(arguments.length-2),V=2;V<arguments.length;V++)M[V-2]=arguments[V];return C.prototype[O].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)R[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;16>O;++O)R[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=T.g[0],I=T.g[1],O=T.g[2];var D=T.g[3],M=C+(D^I&(O^D))+R[0]+3614090360&4294967295;C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[1]+3905402710&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[2]+606105819&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[3]+3250441966&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(D^I&(O^D))+R[4]+4118548399&4294967295,C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[5]+1200080426&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[6]+2821735955&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[7]+4249261313&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(D^I&(O^D))+R[8]+1770035416&4294967295,C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[9]+2336552879&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[10]+4294925233&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[11]+2304563134&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(D^I&(O^D))+R[12]+1804603682&4294967295,C=I+(M<<7&4294967295|M>>>25),M=D+(O^C&(I^O))+R[13]+4254626195&4294967295,D=C+(M<<12&4294967295|M>>>20),M=O+(I^D&(C^I))+R[14]+2792965006&4294967295,O=D+(M<<17&4294967295|M>>>15),M=I+(C^O&(D^C))+R[15]+1236535329&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(O^D&(I^O))+R[1]+4129170786&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[6]+3225465664&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[11]+643717713&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[0]+3921069994&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^D&(I^O))+R[5]+3593408605&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[10]+38016083&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[15]+3634488961&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[4]+3889429448&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^D&(I^O))+R[9]+568446438&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[14]+3275163606&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[3]+4107603335&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[8]+1163531501&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^D&(I^O))+R[13]+2850285829&4294967295,C=I+(M<<5&4294967295|M>>>27),M=D+(I^O&(C^I))+R[2]+4243563512&4294967295,D=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(D^C))+R[7]+1735328473&4294967295,O=D+(M<<14&4294967295|M>>>18),M=I+(D^C&(O^D))+R[12]+2368359562&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(I^O^D)+R[5]+4294588738&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[8]+2272392833&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[11]+1839030562&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[14]+4259657740&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^D)+R[1]+2763975236&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[4]+1272893353&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[7]+4139469664&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[10]+3200236656&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^D)+R[13]+681279174&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[0]+3936430074&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[3]+3572445317&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[6]+76029189&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^D)+R[9]+3654602809&4294967295,C=I+(M<<4&4294967295|M>>>28),M=D+(C^I^O)+R[12]+3873151461&4294967295,D=C+(M<<11&4294967295|M>>>21),M=O+(D^C^I)+R[15]+530742520&4294967295,O=D+(M<<16&4294967295|M>>>16),M=I+(O^D^C)+R[2]+3299628645&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(O^(I|~D))+R[0]+4096336452&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[7]+1126891415&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[14]+2878612391&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[5]+4237533241&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~D))+R[12]+1700485571&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[3]+2399980690&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[10]+4293915773&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[1]+2240044497&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~D))+R[8]+1873313359&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[15]+4264355552&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[6]+2734768916&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[13]+1309151649&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~D))+R[4]+4149444226&4294967295,C=I+(M<<6&4294967295|M>>>26),M=D+(I^(C|~O))+R[11]+3174756917&4294967295,D=C+(M<<10&4294967295|M>>>22),M=O+(C^(D|~I))+R[2]+718787259&4294967295,O=D+(M<<15&4294967295|M>>>17),M=I+(D^(O|~C))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var I=C-this.blockSize,R=this.B,O=this.h,D=0;D<C;){if(O==0)for(;D<=I;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<C;)if(R[O++]=T.charCodeAt(D++),O==this.blockSize){i(this,R),O=0;break}}else for(;D<C;)if(R[O++]=T[D++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var I=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=I&255,I/=256;for(this.u(T),T=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)T[I++]=this.g[C]>>>R&255;return T};function o(T,C){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=C(T)}function s(T,C){this.h=C;for(var I=[],R=!0,O=T.length-1;0<=O;O--){var D=T[O]|0;R&&D==C||(I[O]=D,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?o(T,function(C){return new s([C|0],0>C?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(u(-T));for(var C=[],I=1,R=0;T>=I;R++)C[R]=T/I|0,I*=4294967296;return new s(C,0)}function c(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return v(c(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),R=d,O=0;O<T.length;O+=8){var D=Math.min(8,T.length-O),M=parseInt(T.substring(O,O+D),C);8>D?(D=u(Math.pow(C,D)),R=R.j(D).add(u(M))):(R=R.j(I),R=R.add(u(M)))}return R}var d=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-v(this).m();for(var T=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(w(this))return"-"+v(this).toString(T);for(var C=u(Math.pow(T,6)),I=this,R="";;){var O=N(I,C).g;I=_(I,O.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=O,x(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=_(this,T),w(T)?-1:x(T)?0:1};function v(T){for(var C=T.g.length,I=[],R=0;R<C;R++)I[R]=~T.g[R];return new s(I,~T.h).add(h)}t.abs=function(){return w(this)?v(this):this},t.add=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],R=0,O=0;O<=C;O++){var D=R+(this.i(O)&65535)+(T.i(O)&65535),M=(D>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);R=M>>>16,D&=65535,M&=65535,I[O]=M<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function _(T,C){return T.add(v(C))}t.j=function(T){if(x(this)||x(T))return d;if(w(this))return w(T)?v(this).j(v(T)):v(v(this).j(T));if(w(T))return v(this.j(v(T)));if(0>this.l(y)&&0>T.l(y))return u(this.m()*T.m());for(var C=this.g.length+T.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<T.g.length;O++){var D=this.i(R)>>>16,M=this.i(R)&65535,V=T.i(O)>>>16,F=T.i(O)&65535;I[2*R+2*O]+=M*F,b(I,2*R+2*O),I[2*R+2*O+1]+=D*F,b(I,2*R+2*O+1),I[2*R+2*O+1]+=M*V,b(I,2*R+2*O+1),I[2*R+2*O+2]+=D*V,b(I,2*R+2*O+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new s(I,0)};function b(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function S(T,C){this.g=T,this.h=C}function N(T,C){if(x(C))throw Error("division by zero");if(x(T))return new S(d,d);if(w(T))return C=N(v(T),C),new S(v(C.g),v(C.h));if(w(C))return C=N(T,v(C)),new S(v(C.g),C.h);if(30<T.g.length){if(w(T)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(T);)I=A(I),R=A(R);var O=P(I,1),D=P(R,1);for(R=P(R,2),I=P(I,2);!x(R);){var M=D.add(R);0>=M.l(T)&&(O=O.add(I),D=M),R=P(R,1),I=P(I,1)}return C=_(T,O.j(C)),new S(O,C)}for(O=d;0<=T.l(C);){for(I=Math.max(1,Math.floor(T.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),M=D.j(C);w(M)||0<M.l(T);)I-=R,D=u(I),M=D.j(C);x(D)&&(D=h),O=O.add(D),T=_(T,M)}return new S(O,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&T.i(R);return new s(I,this.h&T.h)},t.or=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|T.i(R);return new s(I,this.h|T.h)},t.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^T.i(R);return new s(I,this.h^T.h)};function A(T){for(var C=T.g.length+1,I=[],R=0;R<C;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new s(I,T.h)}function P(T,C){var I=C>>5;C%=32;for(var R=T.g.length-I,O=[],D=0;D<R;D++)O[D]=0<C?T.i(D+I)>>>C|T.i(D+I+1)<<32-C:T.i(D+I);return new s(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,bs=s}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hM,Gu,pM,Sh,B0,mM,gM,yM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var k=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var B=m[L];if(!(B in k))break e;k=k[B]}m=m[m.length-1],L=k[m],E=E(L),E!=L&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var k=0,L=!1,B={next:function(){if(!L&&k<m.length){var W=k++;return{value:E(W,m[W]),done:!1}}return L=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function c(m,E,k){return m.call.apply(m.bind,arguments)}function d(m,E,k){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,L),m.apply(E,B)}}return function(){return m.apply(E,arguments)}}function h(m,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function y(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function x(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(L,B,W){for(var ae=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ae[nt-2]=arguments[nt];return E.prototype[B].apply(L,ae)}}function w(m){const E=m.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=m[L];return k}return[]}function v(m,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const B=m.length||0,W=L.length||0;m.length=B+W;for(let ae=0;ae<W;ae++)m[B+ae]=L[ae]}else m.push(L)}}class _{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var A=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(m,E,k){for(const L in m)E.call(k,m[L],L,m)}function T(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function C(m){const E={};for(const k in m)E[k]=m[k];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,E){let k,L;for(let B=1;B<arguments.length;B++){L=arguments[B];for(k in L)m[k]=L[k];for(let W=0;W<I.length;W++)k=I[W],Object.prototype.hasOwnProperty.call(L,k)&&(m[k]=L[k])}}function O(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function D(m){a.setTimeout(()=>{throw m},0)}function M(){var m=J;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class V{constructor(){this.h=this.g=null}add(E,k){const L=F.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new _(()=>new z,m=>m.reset());class z{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let K,U=!1,J=new V,Q=()=>{const m=a.Promise.resolve(void 0);K=()=>{m.then(ie)}};var ie=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(k){D(k)}var E=F;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}U=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return m}();function Ne(m,E){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(A){e:{try{N(E.nodeName);var B=!0;break e}catch{}B=!1}B||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ke[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,le);var Ke={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),je=0;function oe(m,E,k,L,B){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=B,this.key=++je,this.da=this.fa=!1}function ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function G(m){this.src=m,this.g={},this.h=0}G.prototype.add=function(m,E,k,L,B){var W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);var ae=pe(m,E,L,B);return-1<ae?(E=m[ae],k||(E.fa=!1)):(E=new oe(E,this.src,W,!!L,B),E.fa=k,m.push(E)),E};function q(m,E){var k=E.type;if(k in m.g){var L=m.g[k],B=Array.prototype.indexOf.call(L,E,void 0),W;(W=0<=B)&&Array.prototype.splice.call(L,B,1),W&&(ve(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function pe(m,E,k,L){for(var B=0;B<m.length;++B){var W=m[B];if(!W.da&&W.listener==E&&W.capture==!!k&&W.ha==L)return B}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),Ue={};function Y(m,E,k,L,B){if(Array.isArray(E)){for(var W=0;W<E.length;W++)Y(m,E[W],k,L,B);return null}return k=Jo(k),m&&m[H]?m.K(E,k,u(L)?!!L.capture:!1,B):he(m,E,k,!1,L,B)}function he(m,E,k,L,B,W){if(!E)throw Error("Invalid event type");var ae=u(B)?!!B.capture:!!B,nt=er(m);if(nt||(m[xe]=nt=new G(m)),k=nt.add(E,k,L,ae,W),k.proxy)return k;if(L=Je(),k.proxy=L,L.src=m,L.listener=k,m.addEventListener)Pe||(B=ae),B===void 0&&(B=!1),m.addEventListener(E.toString(),L,B);else if(m.attachEvent)m.attachEvent(qe(E.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Je(){function m(k){return E.call(m.src,m.listener,k)}const E=Mt;return m}function St(m,E,k,L,B){if(Array.isArray(E))for(var W=0;W<E.length;W++)St(m,E[W],k,L,B);else L=u(L)?!!L.capture:!!L,k=Jo(k),m&&m[H]?(m=m.i,E=String(E).toString(),E in m.g&&(W=m.g[E],k=pe(W,k,L,B),-1<k&&(ve(W[k]),Array.prototype.splice.call(W,k,1),W.length==0&&(delete m.g[E],m.h--)))):m&&(m=er(m))&&(E=m.g[E.toString()],m=-1,E&&(m=pe(E,k,L,B)),(k=-1<m?E[m]:null)&&Tt(k))}function Tt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[H])q(E.i,m);else{var k=m.type,L=m.proxy;E.removeEventListener?E.removeEventListener(k,L,m.capture):E.detachEvent?E.detachEvent(qe(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=er(E))?(q(k,m),k.h==0&&(k.src=null,E[xe]=null)):ve(m)}}}function qe(m){return m in Ue?Ue[m]:Ue[m]="on"+m}function Mt(m,E){if(m.da)m=!0;else{E=new Ne(E,this);var k=m.listener,L=m.ha||m.src;m.fa&&Tt(m),m=k.call(L,E)}return m}function er(m){return m=m[xe],m instanceof G?m:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(m){return typeof m=="function"?m:(m[Wi]||(m[Wi]=function(E){return m.handleEvent(E)}),m[Wi])}function Ft(){ee.call(this),this.i=new G(this),this.M=this,this.F=null}x(Ft,ee),Ft.prototype[H]=!0,Ft.prototype.removeEventListener=function(m,E,k,L){St(this,m,E,k,L)};function Kt(m,E){var k,L=m.F;if(L)for(k=[];L;L=L.F)k.push(L);if(m=m.M,L=E.type||E,typeof E=="string")E=new le(E,m);else if(E instanceof le)E.target=E.target||m;else{var B=E;E=new le(L,m),R(E,B)}if(B=!0,k)for(var W=k.length-1;0<=W;W--){var ae=E.g=k[W];B=Qs(ae,L,!0,E)&&B}if(ae=E.g=m,B=Qs(ae,L,!0,E)&&B,B=Qs(ae,L,!1,E)&&B,k)for(W=0;W<k.length;W++)ae=E.g=k[W],B=Qs(ae,L,!1,E)&&B}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],L=0;L<k.length;L++)ve(k[L]);delete m.g[E],m.h--}}this.F=null},Ft.prototype.K=function(m,E,k,L){return this.i.add(String(m),E,!1,k,L)},Ft.prototype.L=function(m,E,k,L){return this.i.add(String(m),E,!0,k,L)};function Qs(m,E,k,L){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var B=!0,W=0;W<E.length;++W){var ae=E[W];if(ae&&!ae.da&&ae.capture==k){var nt=ae.listener,Jt=ae.ha||ae.src;ae.fa&&q(m.i,ae),B=nt.call(Jt,L)!==!1&&B}}return B&&!L.defaultPrevented}function tf(m,E,k){if(typeof m=="function")k&&(m=h(m,k));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(m,E||0)}function nf(m){m.g=tf(()=>{m.g=null,m.i&&(m.i=!1,nf(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class dy extends ee{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:nf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(m){ee.call(this),this.h=m,this.g={}}x(Yo,ee);var rf=[];function of(m){P(m.g,function(E,k){this.g.hasOwnProperty(k)&&Tt(E)},m),m.g={}}Yo.prototype.N=function(){Yo.aa.N.call(this),of(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var su=a.JSON.stringify,fy=a.JSON.parse,hy=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function au(){}au.prototype.h=null;function sf(m){return m.h||(m.h=m.i())}function af(){}var Xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lu(){le.call(this,"d")}x(lu,le);function uu(){le.call(this,"c")}x(uu,le);var oi={},lf=null;function Qo(){return lf=lf||new Ft}oi.La="serverreachability";function uf(m){le.call(this,oi.La,m)}x(uf,le);function te(m){const E=Qo();Kt(E,new uf(E))}oi.STAT_EVENT="statevent";function ce(m,E){le.call(this,oi.STAT_EVENT,m),this.stat=E}x(ce,le);function _e(m){const E=Qo();Kt(E,new ce(E,m))}oi.Ma="timingevent";function Zo(m,E){le.call(this,oi.Ma,m),this.size=E}x(Zo,le);function Nn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},E)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function QU(m,E,k,L,B,W){m.info(function(){if(m.g)if(W)for(var ae="",nt=W.split("&"),Jt=0;Jt<nt.length;Jt++){var Ge=nt[Jt].split("=");if(1<Ge.length){var ln=Ge[0];Ge=Ge[1];var un=ln.split("_");ae=2<=un.length&&un[1]=="type"?ae+(ln+"="+Ge+"&"):ae+(ln+"=redacted&")}}else ae=null;else ae=W;return"XMLHTTP REQ ("+L+") [attempt "+B+"]: "+E+`
`+k+`
`+ae})}function ZU(m,E,k,L,B,W,ae){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+B+"]: "+E+`
`+k+`
`+W+" "+ae})}function Zs(m,E,k,L){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+t4(m,k)+(L?" "+L:"")})}function e4(m,E){m.info(function(){return"TIMEOUT: "+E})}Ki.prototype.info=function(){};function t4(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var L=k[m];if(!(2>L.length)){var B=L[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return su(k)}catch{return E}}var cf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},py;function df(){}x(df,au),df.prototype.g=function(){return new XMLHttpRequest},df.prototype.i=function(){return{}},py=new df;function Ji(m,E,k,L){this.j=m,this.i=E,this.l=k,this.R=L||1,this.U=new Yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dS}function dS(){this.i=null,this.g="",this.h=!1}var fS={},my={};function gy(m,E,k){m.L=1,m.v=mf(si(E)),m.m=k,m.P=!0,hS(m,null)}function hS(m,E){m.F=Date.now(),ff(m),m.A=si(m.v);var k=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),IS(k.i,"t",L),m.C=0,k=m.j.J,m.h=new dS,m.g=zS(m.j,k?E:null,!m.m),0<m.O&&(m.M=new dy(h(m.Y,m,m.g),m.O)),E=m.U,k=m.g,L=m.ca;var B="readystatechange";Array.isArray(B)||(B&&(rf[0]=B.toString()),B=rf);for(var W=0;W<B.length;W++){var ae=Y(k,B[W],L||E.handleEvent,!1,E.h||E);if(!ae)break;E.g[ae.key]=ae}E=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),te(),QU(m.i,m.u,m.A,m.l,m.R,m.m)}Ji.prototype.ca=function(m){m=m.target;const E=this.M;E&&ai(m)==3?E.j():this.Y(m)},Ji.prototype.Y=function(m){try{if(m==this.g)e:{const un=ai(this.g);var E=this.g.Ba();const na=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||OS(this.g)))){this.J||un!=4||E==7||(E==8||0>=na?te(3):te(2)),yy(this);var k=this.g.Z();this.X=k;t:if(pS(this)){var L=OS(this.g);m="";var B=L.length,W=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),cu(this);var ae="";break t}this.h.i=new a.TextDecoder}for(E=0;E<B;E++)this.h.h=!0,m+=this.h.i.decode(L[E],{stream:!(W&&E==B-1)});L.length=0,this.h.g+=m,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=k==200,ZU(this.i,this.u,this.A,this.l,this.R,un,k),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Jt=this.g;if((nt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(nt)){var Ge=nt;break t}}Ge=null}if(k=Ge)Zs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vy(this,k);else{this.o=!1,this.s=3,_e(12),es(this),cu(this);break e}}if(this.P){k=!0;let br;for(;!this.J&&this.C<ae.length;)if(br=n4(this,ae),br==my){un==4&&(this.s=4,_e(14),k=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(br==fS){this.s=4,_e(15),Zs(this.i,this.l,ae,"[Invalid Chunk]"),k=!1;break}else Zs(this.i,this.l,br,null),vy(this,br);if(pS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ae.length!=0||this.h.h||(this.s=1,_e(16),k=!1),this.o=this.o&&k,!k)Zs(this.i,this.l,ae,"[Invalid Chunked Response]"),es(this),cu(this);else if(0<ae.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Sy(ln),ln.M=!0,_e(11))}}else Zs(this.i,this.l,ae,null),vy(this,ae);un==4&&es(this),this.o&&!this.J&&(un==4?FS(this.j,this):(this.o=!1,ff(this)))}else x4(this.g),k==400&&0<ae.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),es(this),cu(this)}}}catch{}finally{}};function pS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function n4(m,E){var k=m.C,L=E.indexOf(`
`,k);return L==-1?my:(k=Number(E.substring(k,L)),isNaN(k)?fS:(L+=1,L+k>E.length?my:(E=E.slice(L,L+k),m.C=L+k,E)))}Ji.prototype.cancel=function(){this.J=!0,es(this)};function ff(m){m.S=Date.now()+m.I,mS(m,m.I)}function mS(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Nn(h(m.ba,m),E)}function yy(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Ji.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(e4(this.i,this.A),this.L!=2&&(te(),_e(17)),es(this),this.s=2,cu(this)):mS(this,this.S-m)};function cu(m){m.j.G==0||m.J||FS(m.j,m)}function es(m){yy(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,of(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function vy(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||xy(k.h,m))){if(!m.K&&xy(k.h,m)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var B=L;if(B[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)wf(k),xf(k);else break e;Ey(k),_e(18)}}else k.za=B[1],0<k.za-k.T&&37500>B[2]&&k.F&&k.v==0&&!k.C&&(k.C=Nn(h(k.Za,k),6e3));if(1>=vS(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ns(k,11)}else if((m.K||k.g==m)&&wf(k),!b(E))for(B=k.Da.g.parse(E),E=0;E<B.length;E++){let Ge=B[E];if(k.T=Ge[0],Ge=Ge[1],k.G==2)if(Ge[0]=="c"){k.K=Ge[1],k.ia=Ge[2];const ln=Ge[3];ln!=null&&(k.la=ln,k.j.info("VER="+k.la));const un=Ge[4];un!=null&&(k.Aa=un,k.j.info("SVER="+k.Aa));const na=Ge[5];na!=null&&typeof na=="number"&&0<na&&(L=1.5*na,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const br=m.g;if(br){const Ef=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ef){var W=L.h;W.g||Ef.indexOf("spdy")==-1&&Ef.indexOf("quic")==-1&&Ef.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(_y(W,W.h),W.h=null))}if(L.D){const Ty=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Ty&&(L.ya=Ty,lt(L.I,L.D,Ty))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var ae=m;if(L.qa=GS(L,L.J?L.ia:null,L.W),ae.K){xS(L.h,ae);var nt=ae,Jt=L.L;Jt&&(nt.I=Jt),nt.B&&(yy(nt),ff(nt)),L.g=ae}else US(L);0<k.i.length&&_f(k)}else Ge[0]!="stop"&&Ge[0]!="close"||ns(k,7);else k.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ns(k,7):by(k):Ge[0]!="noop"&&k.l&&k.l.ta(Ge),k.v=0)}}te(4)}catch{}}var r4=class{constructor(m,E){this.g=m,this.map=E}};function gS(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vS(m){return m.h?1:m.g?m.g.size:0}function xy(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function _y(m,E){m.g?m.g.add(E):m.h=E}function xS(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}gS.prototype.cancel=function(){if(this.i=_S(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function _S(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return w(m.i)}function i4(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var E=[],k=m.length,L=0;L<k;L++)E.push(m[L]);return E}E=[],k=0;for(L in m)E[k++]=m[L];return E}function o4(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const L in m)E[k++]=L;return E}}}function wS(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=o4(m),L=i4(m),B=L.length,W=0;W<B;W++)E.call(void 0,L[W],k&&k[W],m)}var bS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s4(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var L=m[k].indexOf("="),B=null;if(0<=L){var W=m[k].substring(0,L);B=m[k].substring(L+1)}else W=m[k];E(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ts(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ts){this.h=m.h,hf(this,m.j),this.o=m.o,this.g=m.g,pf(this,m.s),this.l=m.l;var E=m.i,k=new hu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),ES(this,k),this.m=m.m}else m&&(E=String(m).match(bS))?(this.h=!1,hf(this,E[1]||"",!0),this.o=du(E[2]||""),this.g=du(E[3]||"",!0),pf(this,E[4]),this.l=du(E[5]||"",!0),ES(this,E[6]||"",!0),this.m=du(E[7]||"")):(this.h=!1,this.i=new hu(null,this.h))}ts.prototype.toString=function(){var m=[],E=this.j;E&&m.push(fu(E,SS,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(fu(E,SS,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(fu(k,k.charAt(0)=="/"?u4:l4,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",fu(k,d4)),m.join("")};function si(m){return new ts(m)}function hf(m,E,k){m.j=k?du(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function pf(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function ES(m,E,k){E instanceof hu?(m.i=E,f4(m.i,m.h)):(k||(E=fu(E,c4)),m.i=new hu(E,m.h))}function lt(m,E,k){m.i.set(E,k)}function mf(m){return lt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function du(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function fu(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,a4),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function a4(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var SS=/[#\/\?@]/g,l4=/[#\?:]/g,u4=/[#\?]/g,c4=/[#\?@]/g,d4=/#/g;function hu(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Yi(m){m.g||(m.g=new Map,m.h=0,m.i&&s4(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=hu.prototype,t.add=function(m,E){Yi(this),this.i=null,m=ea(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function TS(m,E){Yi(m),E=ea(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function AS(m,E){return Yi(m),E=ea(m,E),m.g.has(E)}t.forEach=function(m,E){Yi(this),this.g.forEach(function(k,L){k.forEach(function(B){m.call(E,B,L,this)},this)},this)},t.na=function(){Yi(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const B=m[L];for(let W=0;W<B.length;W++)k.push(E[L])}return k},t.V=function(m){Yi(this);let E=[];if(typeof m=="string")AS(this,m)&&(E=E.concat(this.g.get(ea(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},t.set=function(m,E){return Yi(this),this.i=null,m=ea(this,m),AS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function IS(m,E,k){TS(m,E),0<k.length&&(m.i=null,m.g.set(ea(m,E),w(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const W=encodeURIComponent(String(L)),ae=this.V(L);for(L=0;L<ae.length;L++){var B=W;ae[L]!==""&&(B+="="+encodeURIComponent(String(ae[L]))),m.push(B)}}return this.i=m.join("&")};function ea(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function f4(m,E){E&&!m.j&&(Yi(m),m.i=null,m.g.forEach(function(k,L){var B=L.toLowerCase();L!=B&&(TS(this,L),IS(this,B,k))},m)),m.j=E}function h4(m,E){const k=new Ki;if(a.Image){const L=new Image;L.onload=y(Xi,k,"TestLoadImage: loaded",!0,E,L),L.onerror=y(Xi,k,"TestLoadImage: error",!1,E,L),L.onabort=y(Xi,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=y(Xi,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else E(!1)}function p4(m,E){const k=new Ki,L=new AbortController,B=setTimeout(()=>{L.abort(),Xi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:L.signal}).then(W=>{clearTimeout(B),W.ok?Xi(k,"TestPingServer: ok",!0,E):Xi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(B),Xi(k,"TestPingServer: error",!1,E)})}function Xi(m,E,k,L,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),L(k)}catch{}}function m4(){this.g=new hy}function g4(m,E,k){const L=k||"";try{wS(m,function(B,W){let ae=B;u(B)&&(ae=su(B)),E.push(L+W+"="+encodeURIComponent(ae))})}catch(B){throw E.push(L+"type="+encodeURIComponent("_badmap")),B}}function gf(m){this.l=m.Ub||null,this.j=m.eb||!1}x(gf,au),gf.prototype.g=function(){return new yf(this.l,this.j)},gf.prototype.i=function(m){return function(){return m}}({});function yf(m,E){Ft.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(yf,Ft),t=yf.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,mu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,mu(this)),this.g&&(this.readyState=3,mu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function CS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?pu(this):mu(this),this.readyState==3&&CS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,pu(this))},t.Qa=function(m){this.g&&(this.response=m,pu(this))},t.ga=function(){this.g&&pu(this)};function pu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,mu(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function mu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function PS(m){let E="";return P(m,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function wy(m,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=PS(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):lt(m,E,k))}function wt(m){Ft.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(wt,Ft);var y4=/^https?$/i,v4=["POST","PUT"];t=wt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():py.g(),this.v=this.o?sf(this.o):sf(py),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(W){NS(this,W);return}if(m=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var B in L)k.set(B,L[B]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const W of L.keys())k.set(W,L.get(W));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(W=>W.toLowerCase()=="content-type"),B=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(v4,E,void 0))||L||B||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ae]of k)this.g.setRequestHeader(W,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{MS(this),this.u=!0,this.g.send(m),this.u=!1}catch(W){NS(this,W)}};function NS(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,kS(m),vf(m)}function kS(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Kt(this,"complete"),Kt(this,"abort"),vf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vf(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?RS(this):this.bb())},t.bb=function(){RS(this)};function RS(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ai(m)!=4||m.Z()!=2)){if(m.u&&ai(m)==4)tf(m.Ea,0,m);else if(Kt(m,"readystatechange"),ai(m)==4){m.h=!1;try{const ae=m.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=ae===0){var B=String(m.D).match(bS)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),L=!y4.test(B?B.toLowerCase():"")}k=L}if(k)Kt(m,"complete"),Kt(m,"success");else{m.m=6;try{var W=2<ai(m)?m.g.statusText:""}catch{W=""}m.l=W+" ["+m.Z()+"]",kS(m)}}finally{vf(m)}}}}function vf(m,E){if(m.g){MS(m);const k=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Kt(m,"ready");try{k.onreadystatechange=L}catch{}}}function MS(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ai(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),fy(E)}};function OS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function x4(m){const E={};m=(m.g&&2<=ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(b(m[L]))continue;var k=O(m[L]);const B=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const W=E[B]||[];E[B]=W,W.push(k)}T(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gu(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function DS(m){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gu("baseRetryDelayMs",5e3,m),this.cb=gu("retryDelaySeedMs",1e4,m),this.Wa=gu("forwardChannelMaxRetries",2,m),this.wa=gu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new gS(m&&m.concurrentRequestLimit),this.Da=new m4,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DS.prototype,t.la=8,t.G=1,t.connect=function(m,E,k,L){_e(0),this.W=m,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=GS(this,null,this.W),_f(this)};function by(m){if(LS(m),m.G==3){var E=m.U++,k=si(m.I);if(lt(k,"SID",m.K),lt(k,"RID",E),lt(k,"TYPE","terminate"),yu(m,k),E=new Ji(m,m.j,E),E.L=2,E.v=mf(si(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=zS(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ff(E)}qS(m)}function xf(m){m.g&&(Sy(m),m.g.cancel(),m.g=null)}function LS(m){xf(m),m.u&&(a.clearTimeout(m.u),m.u=null),wf(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function _f(m){if(!yS(m.h)&&!m.s){m.s=!0;var E=m.Ga;K||Q(),U||(K(),U=!0),J.add(E,m),m.B=0}}function _4(m,E){return vS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Nn(h(m.Ga,m,E),BS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const B=new Ji(this,this.j,m);let W=this.o;if(this.S&&(W?(W=C(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=$S(this,B,E),k=si(this.I),lt(k,"RID",m),lt(k,"CVER",22),this.D&&lt(k,"X-HTTP-Session-Id",this.D),yu(this,k),W&&(this.O?E="headers="+encodeURIComponent(String(PS(W)))+"&"+E:this.m&&wy(k,this.m,W)),_y(this.h,B),this.Ua&&lt(k,"TYPE","init"),this.P?(lt(k,"$req",E),lt(k,"SID","null"),B.T=!0,gy(B,k,null)):gy(B,k,E),this.G=2}}else this.G==3&&(m?jS(this,m):this.i.length==0||yS(this.h)||jS(this))};function jS(m,E){var k;E?k=E.l:k=m.U++;const L=si(m.I);lt(L,"SID",m.K),lt(L,"RID",k),lt(L,"AID",m.T),yu(m,L),m.m&&m.o&&wy(L,m.m,m.o),k=new Ji(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=$S(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),_y(m.h,k),gy(k,L,E)}function yu(m,E){m.H&&P(m.H,function(k,L){lt(E,L,k)}),m.l&&wS({},function(k,L){lt(E,L,k)})}function $S(m,E,k){k=Math.min(m.i.length,k);var L=m.l?h(m.l.Na,m.l,m):null;e:{var B=m.i;let W=-1;for(;;){const ae=["count="+k];W==-1?0<k?(W=B[0].g,ae.push("ofs="+W)):W=0:ae.push("ofs="+W);let nt=!0;for(let Jt=0;Jt<k;Jt++){let Ge=B[Jt].g;const ln=B[Jt].map;if(Ge-=W,0>Ge)W=Math.max(0,B[Jt].g-100),nt=!1;else try{g4(ln,ae,"req"+Ge+"_")}catch{L&&L(ln)}}if(nt){L=ae.join("&");break e}}}return m=m.i.splice(0,k),E.D=m,L}function US(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;K||Q(),U||(K(),U=!0),J.add(E,m),m.v=0}}function Ey(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Nn(h(m.Fa,m),BS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,VS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Nn(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),xf(this),VS(this))};function Sy(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function VS(m){m.g=new Ji(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=si(m.qa);lt(E,"RID","rpc"),lt(E,"SID",m.K),lt(E,"AID",m.T),lt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&lt(E,"TO",m.ja),lt(E,"TYPE","xmlhttp"),yu(m,E),m.m&&m.o&&wy(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=mf(si(E)),k.m=null,k.P=!0,hS(k,m)}t.Za=function(){this.C!=null&&(this.C=null,xf(this),Ey(this),_e(19))};function wf(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function FS(m,E){var k=null;if(m.g==E){wf(m),Sy(m),m.g=null;var L=2}else if(xy(m.h,E))k=E.D,xS(m.h,E),L=1;else return;if(m.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var B=m.B;L=Qo(),Kt(L,new Zo(L,k)),_f(m)}else US(m);else if(B=E.s,B==3||B==0&&0<E.X||!(L==1&&_4(m,E)||L==2&&Ey(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),B){case 1:ns(m,5);break;case 4:ns(m,10);break;case 3:ns(m,6);break;default:ns(m,2)}}}function BS(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function ns(m,E){if(m.j.info("Error code "+E),E==2){var k=h(m.fb,m),L=m.Xa;const B=!L;L=new ts(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hf(L,"https"),mf(L),B?h4(L.toString(),k):p4(L.toString(),k)}else _e(2);m.G=0,m.l&&m.l.sa(E),qS(m),LS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function qS(m){if(m.G=0,m.ka=[],m.l){const E=_S(m.h);(E.length!=0||m.i.length!=0)&&(v(m.ka,E),v(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function GS(m,E,k){var L=k instanceof ts?si(k):new ts(k);if(L.g!="")E&&(L.g=E+"."+L.g),pf(L,L.s);else{var B=a.location;L=B.protocol,E=E?E+"."+B.hostname:B.hostname,B=+B.port;var W=new ts(null);L&&hf(W,L),E&&(W.g=E),B&&pf(W,B),k&&(W.l=k),L=W}return k=m.D,E=m.ya,k&&E&&lt(L,k,E),lt(L,"VER",m.la),yu(m,L),L}function zS(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new wt(new gf({eb:k})):new wt(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function HS(){}t=HS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bf(){}bf.prototype.g=function(m,E){return new Fn(m,E)};function Fn(m,E){Ft.call(this),this.g=new DS(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!b(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new ta(this)}x(Fn,Ft),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){by(this.g)},Fn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=su(m),m=k);E.i.push(new r4(E.Ya++,m)),E.G==3&&_f(E)},Fn.prototype.N=function(){this.g.l=null,delete this.j,by(this.g),delete this.g,Fn.aa.N.call(this)};function WS(m){lu.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}x(WS,lu);function KS(){uu.call(this),this.status=1}x(KS,uu);function ta(m){this.g=m}x(ta,HS),ta.prototype.ua=function(){Kt(this.g,"a")},ta.prototype.ta=function(m){Kt(this.g,new WS(m))},ta.prototype.sa=function(m){Kt(this.g,new KS)},ta.prototype.ra=function(){Kt(this.g,"b")},bf.prototype.createWebChannel=bf.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,yM=function(){return new bf},gM=function(){return Qo()},mM=oi,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cf.NO_ERROR=0,cf.TIMEOUT=8,cf.HTTP_ERROR=6,Sh=cf,cS.COMPLETE="complete",pM=cS,af.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Gu=af,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,hM=wt}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const m1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new zw("@firebase/firestore");function Au(){return Rs.logLevel}function we(t,...e){if(Rs.logLevel<=$e.DEBUG){const n=e.map(Kw);Rs.debug(`Firestore (${$l}): ${t}`,...n)}}function Pi(t,...e){if(Rs.logLevel<=$e.ERROR){const n=e.map(Kw);Rs.error(`Firestore (${$l}): ${t}`,...n)}}function nl(t,...e){if(Rs.logLevel<=$e.WARN){const n=e.map(Kw);Rs.warn(`Firestore (${$l}): ${t}`,...n)}}function Kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function Ze(t,e){t||Te()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class P3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N3{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Co,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Co)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new vM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new pn(e)}}class k3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new k3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ze(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new M3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ut(0,0))}static max(){return new Ie(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends Oc{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Oc{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(st.fromString(e))}static fromName(e){return new be(st.fromString(e).popFirst(5))}static empty(){return new be(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new st(e.slice()))}}function j3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Do(i,be.empty(),e)}function $3(t){return new Do(t.readTime,t.key,-1)}class Do{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Do(Ie.min(),be.empty(),-1)}static max(){return new Do(Ie.max(),be.empty(),-1)}}function U3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==V3)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ne((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function B3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ld(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jw.oe=-1;function Jm(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function q3(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _M(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y1(this.data.getIterator())}getIteratorFrom(e){return new y1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class y1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new rn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wM("Invalid base64 string: "+o):o}}(e);return new an(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const G3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=G3.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yw(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Yw(e):e}function Dc(t){const e=Lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Lc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={mapValue:{}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:W3(t)?9007199254740991:H3(t)?10:11:Te()}function ei(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Lo(i.timestampValue),a=Lo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ms(i.bytesValue).isEqual(Ms(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return At(i.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return At(i.integerValue)===At(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=At(i.doubleValue),a=At(o.doubleValue);return s===a?lp(s)===lp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(g1(s)!==g1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ei(s[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function jc(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function il(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=At(o.integerValue||o.doubleValue),l=At(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return v1(t.timestampValue,e.timestampValue);case 4:return v1(Dc(t),Dc(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ms(o),l=Ms(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ze(a[u],l[u]);if(c!==0)return c}return ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ze(At(o.latitude),At(s.latitude));return a!==0?a:ze(At(o.longitude),At(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,x=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=ze(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=x==null?void 0:x.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:x1(y,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gf.mapValue&&s===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(s===Gf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=ze(l[d],c[d]);if(h!==0)return h;const y=il(a[l[d]],u[c[d]]);if(y!==0)return y}return ze(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Te()}}function v1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Lo(t),r=Lo(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function x1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=il(n[i],r[i]);if(o)return o}return ze(n.length,r.length)}function ol(t){return q0(t)}function q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=q0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${q0(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function up(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function G0(t){return!!t&&"integerValue"in t}function Xw(t){return!!t&&"arrayValue"in t}function _1(t){return!!t&&"nullValue"in t}function w1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function H3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function W3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=oc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new On(oc(this.value))}}function bM(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new en([n]);if(Th(r)){const o=bM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.position=e,this.inclusive=n}}function b1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(s.referenceValue),n.key):r=il(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function E1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function K3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EM=class{};class kt extends EM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y3(e,n,r):n==="array-contains"?new Z3(e,r):n==="in"?new eB(e,r):n==="not-in"?new tB(e,r):n==="array-contains-any"?new nB(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X3(e,r):new Q3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(il(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends EM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jr(e,n)}matches(e){return SM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function SM(t){return t.op==="and"}function TM(t){return J3(t)&&SM(t)}function J3(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function z0(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(TM(t))return t.filters.map(e=>z0(e)).join(",");{const e=t.filters.map(n=>z0(n)).join(",");return`${t.op}(${e})`}}function AM(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(t,e):t instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AM(s,i.filters[a]),!0):!1}(t,e):void Te()}function IM(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(IM).join(" ,")+"}"}(t):"Filter"}class Y3 extends kt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class X3 extends kt{constructor(e,n){super(e,"in",n),this.keys=CM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q3 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=CM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class Z3 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xw(n)&&jc(n.arrayValue,this.value)}}class eB extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jc(this.value.arrayValue,n)}}class tB extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jc(this.value.arrayValue,n)}}class nB extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function S1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new rB(t,e,n,r,i,o,s)}function Qw(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>z0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ol(r)).join(",")),e.ue=n}return e.ue}function Zw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E1(t.startAt,e.startAt)&&E1(t.endAt,e.endAt)}function H0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iB(t,e,n,r,i,o,s,a){return new zs(t,e,n,r,i,o,s,a)}function eb(t){return new zs(t)}function T1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tb(t){return t.collectionGroup!==null}function La(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rn(en.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new $c(o,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new $c(en.keyField(),r))}return e.ce}function Kr(t){const e=Ce(t);return e.le||(e.le=oB(e,La(t))),e.le}function oB(t,e){if(t.limitType==="F")return S1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new $c(i.field,o)});const n=t.endAt?new sl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sl(t.startAt.position,t.startAt.inclusive):null;return S1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){const n=t.filters.concat([e]);return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cp(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xm(t,e){return Zw(Kr(t),Kr(e))&&t.limitType===e.limitType}function PM(t){return`${Qw(Kr(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IM(i)).join(", ")}]`),Jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ol(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ol(i)).join(",")),`Target(${r})`}(Kr(t))}; limitType=${t.limitType})`}function Qm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of La(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=b1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,La(r),i)||r.endAt&&!function(s,a,l){const u=b1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,La(r),i))}(t,e)}function sB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NM(t){return(e,n)=>{let r=!1;for(const i of La(t)){const o=aB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function aB(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?il(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _M(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new _t(be.comparator);function Ni(){return lB}const kM=new _t(be.comparator);function zu(...t){let e=kM;for(const n of t)e=e.insert(n.key,n);return e}function RM(t){let e=kM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return sc()}function MM(){return sc()}function sc(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const uB=new _t(be.comparator),cB=new rn(be.comparator);function De(...t){let e=cB;for(const n of t)e=e.add(n);return e}const dB=new rn(ze);function fB(){return dB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function OM(t){return{integerValue:""+t}}function hB(t,e){return q3(e)?OM(e):nb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function pB(t,e,n){return t instanceof dp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ym(o)&&(o=Yw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Uc?LM(t,e):t instanceof Vc?jM(t,e):function(i,o){const s=DM(i,o),a=A1(s)+A1(i.Pe);return G0(s)&&G0(i.Pe)?OM(a):nb(i.serializer,a)}(t,e)}function mB(t,e,n){return t instanceof Uc?LM(t,e):t instanceof Vc?jM(t,e):n}function DM(t,e){return t instanceof fp?function(r){return G0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dp extends Zm{}class Uc extends Zm{constructor(e){super(),this.elements=e}}function LM(t,e){const n=$M(e);for(const r of t.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Zm{constructor(e){super(),this.elements=e}}function jM(t,e){let n=$M(e);for(const r of t.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}class fp extends Zm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function A1(t){return At(t.integerValue||t.doubleValue)}function $M(t){return Xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uc&&i instanceof Uc||r instanceof Vc&&i instanceof Vc?rl(r.elements,i.elements,ei):r instanceof fp&&i instanceof fp?ei(r.Pe,i.Pe):r instanceof dp&&i instanceof dp}(t.transform,e.transform)}class yB{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function UM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rb(t.key,dr.none()):new jd(t.key,t.data,dr.none());{const n=t.data,r=On.empty();let i=new rn(en.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bo(t.key,r,new Wn(i.toArray()),dr.none())}}function vB(t,e,n){t instanceof jd?function(i,o,s){const a=i.value.clone(),l=C1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(i,o,s){if(!Ah(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=C1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(VM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof jd?function(o,s,a,l){if(!Ah(o.precondition,s))return a;const u=o.value.clone(),c=P1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(o,s,a,l){if(!Ah(o.precondition,s))return a;const u=P1(o.fieldTransforms,l,s),c=s.data;return c.setAll(VM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ah(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function xB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=DM(r.transform,i||null);o!=null&&(n===null&&(n=On.empty()),n.set(r.field,o))}return n||null}function I1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rl(r,i,(o,s)=>gB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jd extends eg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends eg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C1(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,mB(s,a,n[i]))}return r}function P1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,pB(o,s,e))}return r}class rb extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _B extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=UM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(n,r)=>I1(n,r))&&rl(this.baseMutations,e.baseMutations,(n,r)=>I1(n,r))}}class ib{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=function(){return uB}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ib(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ve;function SB(t){switch(t){default:return Te();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function FM(t){if(t===void 0)return Pi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return Te()}}(Ve=Ct||(Ct={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new bs([4294967295,4294967295],0);function N1(t){const e=TB().encode(t),n=new fM;return n.update(e),new Uint8Array(n.digest())}function k1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,o],0)]}class ob{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(AB)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=N1(e),[r,i]=k1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ob(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=N1(e),[r,i]=k1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tg(Ie.min(),i,new _t(ze),Ni(),De())}}class $d{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class BM{constructor(e,n){this.targetId=e,this.me=n}}class qM{constructor(e,n,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R1{constructor(){this.fe=0,this.ge=O1(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new $d(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=O1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=M1(),this.Qe=new _t(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(H0(o))if(r===0){const s=new be(o.path);this.Ue(n,s,gn.newNoDocument(s,Ie.min()))}else Ze(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ms(r).toUint8Array()}catch(l){if(l instanceof wM)return nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ob(s,i,o)}catch(l){return nl(l instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&H0(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,gn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=De();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new tg(e,n,this.Qe,this.ke,r);return this.ke=Ni(),this.qe=M1(),this.Qe=new _t(ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new R1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rn(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new R1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function M1(){return new _t(be.comparator)}function O1(){return new _t(be.comparator)}const CB={asc:"ASCENDING",desc:"DESCENDING"},PB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NB={and:"AND",or:"OR"};class kB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K0(t,e){return t.useProto3Json||Jm(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RB(t,e){return hp(t,e.toTimestamp())}function Jr(t){return Ze(!!t),Ie.fromTimestamp(function(n){const r=Lo(n);return new Ut(r.seconds,r.nanos)}(t))}function sb(t,e){return J0(t,e).canonicalString()}function J0(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zM(t){const e=st.fromString(t);return Ze(YM(e)),e}function Y0(t,e){return sb(t.databaseId,e.path)}function rv(t,e){const n=zM(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(WM(n))}function HM(t,e){return sb(t.databaseId,e)}function MB(t){const e=zM(t);return e.length===4?st.emptyPath():WM(e)}function X0(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WM(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function D1(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function OB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ze(c===void 0||typeof c=="string"),an.fromBase64String(c||"")):(Ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array),an.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Z.UNKNOWN:FM(u.code);return new de(c,u.message||"")}(s);n=new qM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rv(t,r.document.name),o=Jr(r.document.updateTime),s=r.document.createTime?Jr(r.document.createTime):Ie.min(),a=new On({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ih(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rv(t,r.document),o=r.readTime?Jr(r.readTime):Ie.min(),s=gn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ih([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rv(t,r.document),o=r.removedTargetIds||[];n=new Ih([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new EB(i,o),a=r.targetId;n=new BM(a,s)}}return n}function DB(t,e){let n;if(e instanceof jd)n={update:D1(t,e.key,e.value)};else if(e instanceof rb)n={delete:Y0(t,e.key)};else if(e instanceof Bo)n={update:D1(t,e.key,e.data),updateMask:GB(e.fieldMask)};else{if(!(e instanceof _B))return Te();n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof dp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:RB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function LB(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jr(i.updateTime):Jr(o);return s.isEqual(Ie.min())&&(s=Jr(o)),new yB(s,i.transformResults||[])}(n,e))):[]}function jB(t,e){return{documents:[HM(t,e.path)]}}function $B(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HM(t,i);const o=function(u){if(u.length!==0)return JM(jr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ua(h.field),direction:FB(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=K0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function UB(t){let e=MB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=KM(d);return h instanceof jr&&TM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(x){return new $c(ca(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Jm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,y=d.values||[];return new sl(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,y=d.values||[];return new sl(y,h)}(n.endAt)),iB(e,i,s,o,a,"F",l,u)}function VB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ca(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ca(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ca(n.unaryFilter.field);return kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(ca(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>KM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function FB(t){return CB[t]}function BB(t){return PB[t]}function qB(t){return NB[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return en.fromServerFormat(t.fieldPath)}function JM(t){return t instanceof kt?function(n){if(n.op==="=="){if(w1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(_1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(_1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:BB(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(i=>JM(i));return r.length===1?r[0]:{compositeFilter:{op:qB(n.op),filters:r}}}(t):Te()}function GB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i,o=Ie.min(),s=Ie.min(),a=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.ct=e}}function HB(t){const e=UB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.un=new KB}addToCollectionParentIndex(e,n){return this.un.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Do.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class KB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(st.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new al(0)}static kn(){return new al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Wn.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ni();const s=sc(),a=function(){return sc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Bo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ac(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new YB(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sc();let i=new _t((s,a)=>s-a),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||De()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=MM();c.forEach(h=>{if(!o.has(h)){const y=UM(n.get(h),r.get(h));y!==null&&d.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ne.resolve(ps());let a=-1,l=o;return s.next(u=>ne.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,De())).next(c=>({batchId:a,changes:RM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=zu();return this.indexManager.getCollectionParents(e,o).next(a=>ne.forEach(a,l=>{const u=function(d,h){return new zs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,gn.newInvalidDocument(c)))});let a=zu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ac(c.mutation,u,Wn.empty(),Ut.now()),Qm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ne.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:HB(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.overlays=new _t(be.comparator),this.Ir=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),o=n.length+1,s=new be(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new _t((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ps(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ps(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new bB(n,r));let o=this.Ir.get(n);o===void 0&&(o=De(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Tr=new rn(Bt.Er),this.dr=new rn(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new st([])),r=new Bt(n,e),i=new Bt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new st([])),r=new Bt(n,e),i=new Bt(n,e+1);let o=De();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rn(Bt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wB(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Bt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(e,n){return ne.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(ze);return n.forEach(i=>{const o=new Bt(i,0),s=new Bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const s=new Bt(new be(o),0);let a=new rn(ze);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ne.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ne.forEach(n.mutations,i=>{const o=new Bt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Bt(n,0),i=this.br.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Mr=e,this.docs=function(){return new _t(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ni();const s=n.path,a=new be(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||U3($3(c),r)<=0||(i.has(c.key)||Qm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r6(this)}getSize(e){return ne.resolve(this.size)}}class r6 extends JB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.persistence=e,this.Nr=new Ul(n=>Qw(n),Zw),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ab,this.targetCount=0,this.kr=al.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new al(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Kn(n),ne.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jw(0),this.Kr=!1,this.Kr=!0,this.$r=new e6,this.referenceDelegate=e(this),this.Ur=new i6(this),this.indexManager=new WB,this.remoteDocumentCache=function(i){return new n6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new zB(n),this.Gr=new QB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new s6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ne.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class s6 extends F3{constructor(e){super(),this.currentSequenceNumber=e}}class lb{constructor(e){this.persistence=e,this.Jr=new ab,this.Yr=null}static Zr(e){return new lb(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ne.or([()=>ne.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=De(),i=De();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ub(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return u5()?8:B3(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new a6;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Au()<=$e.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Au()<=$e.DEBUG&&we("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Au()<=$e.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):ne.resolve())}Yi(e,n){if(T1(n))return ne.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cp(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=De(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,cp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return T1(n)||i.isEqual(Ie.min())?ne.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ne.resolve(null):(Au()<=$e.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),la(n)),this.rs(e,s,n,j3(i,-1)).next(a=>a))})}ts(e,n){let r=new rn(NM(e));return n.forEach((i,o)=>{Qm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Au()<=$e.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",la(n)),this.Ji.getDocumentsMatchingQuery(e,n,Do.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _t(ze),this._s=new Ul(o=>Qw(o),Zw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function c6(t,e,n,r){return new u6(t,e,n,r)}async function XM(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=De();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function d6(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let y=ne.resolve();return h.forEach(x=>{y=y.next(()=>c.getEntry(l,x)).next(w=>{const v=u.docVersions.get(x);Ze(v!==null),w.version.compareTo(v)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=De();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QM(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function f6(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(an.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(w,v,_){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Ni(),u=De();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(h6(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ie.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ne.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function h6(t,e,n){let r=De(),i=De();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ni();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function p6(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m6(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ne.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new po(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Q0(t,e,n){const r=Ce(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ld(s))throw s;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function L1(t,e,n){const r=Ce(t);let i=Ie.min(),o=De();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ce(l),h=d._s.get(c);return h!==void 0?ne.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ie.min(),n?o:De())).next(a=>(g6(r,sB(e),a),{documents:a,Ts:o})))}function g6(t,e,n){let r=t.us.get(e)||Ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class j1{constructor(){this.activeTargetIds=fB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.so=new j1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new j1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function iv(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class w6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=iv(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(we("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw nl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=x6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=iv();return new Promise((s,a)=>{const l=new hM;l.setWithCredentials(!0),l.listenOnce(pM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sh.NO_ERROR:const c=l.getResponseJson();we(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Sh.TIMEOUT:we(fn,`RPC '${e}' ${o} timed out`),a(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const d=l.getStatus();if(we(fn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const x=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(_)>=0?_:Z.UNKNOWN}(y.status);a(new de(x,y.message))}else a(new de(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{we(fn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);we(fn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=iv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yM(),a=gM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");we(fn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,y=!1;const x=new _6({Io:v=>{y?we(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(we(fn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),we(fn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),w=(v,_,b)=>{v.listen(_,S=>{try{b(S)}catch(N){setTimeout(()=>{throw N},0)}})};return w(d,Gu.EventType.OPEN,()=>{y||(we(fn,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),w(d,Gu.EventType.CLOSE,()=>{y||(y=!0,we(fn,`RPC '${e}' stream ${i} transport closed`),x.So())}),w(d,Gu.EventType.ERROR,v=>{y||(y=!0,nl(fn,`RPC '${e}' stream ${i} transport errored:`,v),x.So(new de(Z.UNAVAILABLE,"The operation could not be completed")))}),w(d,Gu.EventType.MESSAGE,v=>{var _;if(!y){const b=v.data[0];Ze(!!b);const S=b,N=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(N){we(fn,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(I){const R=Ct[I];if(R!==void 0)return FM(R)}(A),T=N.message;P===void 0&&(P=Z.INTERNAL,T="Unknown error status: "+A+" with message "+N.message),y=!0,x.So(new de(P,T)),d.close()}else we(fn,`RPC '${e}' stream ${i} received:`,b),x.bo(b)}}),w(a,mM.STAT_EVENT,v=>{v.stat===B0.PROXY?we(fn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===B0.NOPROXY&&we(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function ov(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){return new kB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ZM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new de(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b6 extends eO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=OB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ie.min():s.readTime?Jr(s.readTime):Ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=X0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=H0(l)?{documents:jB(o,l)}:{query:$B(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=GM(o,s.resumeToken);const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ie.min())>0){a.readTime=hp(o,s.snapshotVersion.toTimestamp());const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=VB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.a_(n)}}class E6 extends eO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=LB(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=X0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,J0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(Z.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,J0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(Z.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class T6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Hs(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await Ud(u),u.q_.set("Unknown"),u.L_.delete(4),await rg(u)}(this))})}),this.q_=new T6(r,i)}}async function rg(t){if(Hs(t))for(const e of t.B_)await e(!0)}async function Ud(t){for(const e of t.B_)await e(!1)}function tO(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hb(n)?fb(n):Vl(n).r_()&&db(n,e))}function cb(t,e){const n=Ce(t),r=Vl(n);n.N_.delete(e),r.r_()&&nO(n,e),n.N_.size===0&&(r.r_()?r.o_():Hs(n)&&n.q_.set("Unknown"))}function db(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).A_(e)}function nO(t,e){t.Q_.xe(e),Vl(t).R_(e)}function fb(t){t.Q_=new IB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.q_.v_()}function hb(t){return Hs(t)&&!Vl(t).n_()&&t.N_.size>0}function Hs(t){return Ce(t).L_.size===0}function rO(t){t.Q_=void 0}async function I6(t){t.q_.set("Online")}async function C6(t){t.N_.forEach((e,n)=>{db(t,e)})}async function P6(t,e){rO(t),hb(t)?(t.q_.M_(e),fb(t)):t.q_.set("Unknown")}async function N6(t,e,n){if(t.q_.set("Online"),e instanceof qM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof Ih?t.Q_.Ke(e):e instanceof BM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const r=await QM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(an.EMPTY_BYTE_STRING,c.snapshotVersion)),nO(o,l);const d=new po(c.target,l,u,c.sequenceNumber);db(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Ld(e))throw e;t.L_.add(1),await Ud(t),t.q_.set("Offline"),n||(n=()=>QM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await rg(t)})}function iO(t,e){return e().catch(n=>pp(t,n,e))}async function ig(t){const e=Ce(t),n=jo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;k6(e);)try{const i=await p6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,R6(e,i)}catch(i){await pp(e,i)}oO(e)&&sO(e)}function k6(t){return Hs(t)&&t.O_.length<10}function R6(t,e){t.O_.push(e);const n=jo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oO(t){return Hs(t)&&!jo(t).n_()&&t.O_.length>0}function sO(t){jo(t).start()}async function M6(t){jo(t).p_()}async function O6(t){const e=jo(t);for(const n of t.O_)e.m_(n.mutations)}async function D6(t,e,n){const r=t.O_.shift(),i=ib.from(r,e,n);await iO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ig(t)}async function L6(t,e){e&&jo(t).V_&&await async function(r,i){if(function(s){return SB(s)&&s!==Z.ABORTED}(i.code)){const o=r.O_.shift();jo(r).s_(),await iO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ig(r)}}(t,e),oO(t)&&sO(t)}async function U1(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Hs(n);n.L_.add(3),await Ud(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await rg(n)}async function j6(t,e){const n=Ce(t);e?(n.L_.delete(2),await rg(n)):e||(n.L_.add(2),await Ud(n),n.q_.set("Unknown"))}function Vl(t){return t.K_||(t.K_=function(n,r,i){const o=Ce(n);return o.w_(),new b6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:I6.bind(null,t),Ro:C6.bind(null,t),mo:P6.bind(null,t),d_:N6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),hb(t)?fb(t):t.q_.set("Unknown")):(await t.K_.stop(),rO(t))})),t.K_}function jo(t){return t.U_||(t.U_=function(n,r,i){const o=Ce(n);return o.w_(),new E6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:M6.bind(null,t),mo:L6.bind(null,t),f_:O6.bind(null,t),g_:D6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ig(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new pb(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mb(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Ld(t))return new de(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=zu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new ja(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.W_=new _t(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ll{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ll(e,n,ja.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class U6{constructor(){this.queries=F1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),o=i.queries;i.queries=F1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function F1(){return new Ul(t=>PM(t),Xm)}async function aO(t,e){const n=Ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new $6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=mb(s,`Initialization of query '${la(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&gb(n)}async function lO(t,e){const n=Ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V6(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&gb(n)}function F6(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function gb(t){t.Y_.forEach(e=>{e.next()})}var Z0,B1;(B1=Z0||(Z0={})).ea="default",B1.Cache="cache";class uO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.key=e}}class dO{constructor(e){this.key=e}}class B6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=NM(e),this.Ra=new ja(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new V1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),y=Qm(this.query,d)?d:null,x=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let v=!1;h&&y?h.data.isEqual(y.data)?x!==w&&(r.track({type:3,doc:y}),v=!0):this.ga(h,y)||(r.track({type:2,doc:y}),v=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),v=!0):h&&!y&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(y?(s=s.add(y),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(y,x){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return w(y)-w(x)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new ll(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new V1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new cO(r))}),n}ba(e){this.Ta=e.Ts,this.da=De();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ll.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class q6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G6{constructor(e){this.key=e,this.va=!1}}class z6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ul(a=>PM(a),Xm),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(be.comparator),this.Na=new Map,this.La=new ab,this.Ba={},this.ka=new Map,this.qa=al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H6(t,e,n=!0){const r=yO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await fO(r,e,n,!0),i}async function W6(t,e){const n=yO(t);await fO(n,e,!0,!1)}async function fO(t,e,n,r){const i=await m6(t.localStore,Kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await K6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&tO(t.remoteStore,i),a}async function K6(t,e,n,r,i){t.Ka=(d,h,y)=>async function(w,v,_,b){let S=v.view.ma(_);S.ns&&(S=await L1(w.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,S)));const N=b&&b.targetChanges.get(v.targetId),A=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(S,w.isPrimaryClient,N,A);return G1(w,v.targetId,P.wa),P.snapshot}(t,d,h,y);const o=await L1(t.localStore,e,!0),s=new B6(e,o.Ts),a=s.ma(o.documents),l=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);G1(t,n,u.wa);const c=new q6(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function J6(t,e,n){const r=Ce(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Xm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cb(r.remoteStore,i.targetId),ex(r,i.targetId)}).catch(Dd)):(ex(r,i.targetId),await Q0(r.localStore,i.targetId,!0))}async function Y6(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cb(n.remoteStore,r.targetId))}async function X6(t,e,n){const r=i8(t);try{const i=await function(s,a){const l=Ce(s),u=Ut.now(),c=a.reduce((y,x)=>y.add(x.key),De());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Ni(),w=De();return l.cs.getEntries(y,c).next(v=>{x=v,x.forEach((_,b)=>{b.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(v=>{d=v;const _=[];for(const b of a){const S=xB(b,d.get(b.key).overlayedDocument);S!=null&&_.push(new Bo(b.key,S,bM(S.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(y,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:RM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new _t(ze)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Vd(r,i.changes),await ig(r.remoteStore)}catch(i){const o=mb(i,"Failed to persist write");n.reject(o)}}async function hO(t,e){const n=Ce(t);try{const r=await f6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ze(s.va):i.removedDocuments.size>0&&(Ze(s.va),s.va=!1))}),await Vd(n,r,e)}catch(r){await Dd(r)}}function q1(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&gb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q6(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new _t(be.comparator);s=s.insert(o,gn.newNoDocument(o,Ie.min()));const a=De().add(o),l=new tg(Ie.min(),new Map,new _t(ze),s,a);await hO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),yb(r)}else await Q0(r.localStore,e,!1).then(()=>ex(r,e,n)).catch(Dd)}async function Z6(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await d6(n.localStore,e);mO(n,r,null),pO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vd(n,i)}catch(i){await Dd(i)}}async function e8(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ze(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);mO(r,e,n),pO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vd(r,i)}catch(i){await Dd(i)}}function pO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function mO(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||gO(t,r)})}function gO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(cb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yb(t))}function G1(t,e,n){for(const r of n)r instanceof cO?(t.La.addReference(r.key,e),t8(t,r)):r instanceof dO?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||gO(t,r.key)):Te()}function t8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),yb(t))}function yb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(st.fromString(e)),r=t.qa.next();t.Na.set(r,new G6(n)),t.Oa=t.Oa.insert(n,r),tO(t.remoteStore,new po(Kr(eb(n.path)),r,"TargetPurposeLimboResolution",Jw.oe))}}async function Vd(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ub.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ne.forEach(u,h=>ne.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(d,h.targetId,y)).next(()=>ne.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(d,h.targetId,y)))))}catch(d){if(!Ld(d))throw d;we("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const y=c.os.get(h),x=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(x);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function n8(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await XM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new de(Z.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vd(n,r.hs)}}function r8(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return De().add(r.key);{let i=De();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function yO(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Ca.d_=V6.bind(null,e.eventManager),e.Ca.$a=F6.bind(null,e.eventManager),e}function i8(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e8.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return c6(this.persistence,new l6,e.initialUser,this.serializer)}Ga(e){return new o6(lb.Zr,this.serializer)}Wa(e){return new y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n8.bind(null,this.syncEngine),await j6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U6}()}createDatastore(e){const n=ng(e.databaseInfo.databaseId),r=function(o){return new w6(o)}(e.databaseInfo);return function(o,s,a,l){return new S6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new A6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>q1(this.syncEngine,n,0),function(){return $1.D()?new $1:new v6}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new z6(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ce(i);we("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ud(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tx.provider={build:()=>new tx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=xM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{we("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sv(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s8(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U1(e.remoteStore,i)),t._onlineComponents=e}async function s8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await sv(t,new mp)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await sv(t,new mp);return t._offlineComponents}async function xO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await z1(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await z1(t,new tx))),t._onlineComponents}function a8(t){return xO(t).then(e=>e.syncEngine)}async function nx(t){const e=await xO(t),n=e.eventManager;return n.onListen=H6.bind(null,e.syncEngine),n.onUnlisten=J6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y6.bind(null,e.syncEngine),n}function l8(t,e,n={}){const r=new Co;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new vO({next:h=>{c.Za(),s.enqueueAndForget(()=>lO(o,d)),h.fromCache&&l.source==="server"?u.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new uO(a,c,{includeMetadataChanges:!0,_a:!0});return aO(o,d)}(await nx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t,e,n){if(!n)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u8(t,e,n,r){if(e===!0&&r===!0)throw new de(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!be.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K1(t){if(be.isDocumentKey(t))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=og(t);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function c8(t,e){if(e<=0)throw new de(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_O((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new R3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=H1.get(n);r&&(we("ComponentProvider","Removing Datastore"),H1.delete(n),r.terminate())}(this),Promise.resolve()}}function d8(t,e,n,r={}){var i;const o=(t=fr(t,sg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pn.MOCK_USER;else{a=n5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(u)}t._authCredentials=new P3(new vM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Po extends ri{constructor(e,n,r){super(e,n,eb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new be(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Re(t,e,...n){if(t=sn(t),wO("collection","path",e),t instanceof sg){const r=st.fromString(e,...n);return K1(r),new Po(t,null,r)}{if(!(t instanceof An||t instanceof Po))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return K1(r),new Po(t.firestore,null,r)}}function Xe(t,e,...n){if(t=sn(t),arguments.length===1&&(e=xM.newId()),wO("doc","path",e),t instanceof sg){const r=st.fromString(e,...n);return W1(r),new An(t,null,new be(r))}{if(!(t instanceof An||t instanceof Po))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return W1(r),new An(t.firestore,t instanceof Po?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ZM(this,"async_queue_retry"),this.Vu=()=>{const r=ov();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ov();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ov();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Co;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ld(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=pb.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function X1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends sg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Y1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y1(e),this._firestoreClient=void 0,await e}}}function f8(t,e){const n=typeof t=="object"?t:uM(),r=typeof t=="string"?t:"(default)",i=Ww(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=e5("firestore");o&&d8(i,...o)}return i}function vb(t){if(t._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h8(t),t._firestoreClient}function h8(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new z3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_O(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new o8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(an.fromBase64String(e))}catch(n){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ul(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=/^__.*__$/;class m8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new jd(e,this.data,n,this.fieldTransforms)}}class bO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class bb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(EO(this.Cu)&&p8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class g8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ng(e)}Qu(e,n,r,i=!1){return new bb({Cu:e,methodName:n,qu:r,path:en.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(t){const e=t._freezeSettings(),n=ng(t._databaseId);return new g8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SO(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Eb("Data must be an object, but it was:",s,r);const a=AO(r,s);let l,u;if(o.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=rx(e,d,n);if(!s.contains(h))throw new de(Z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CO(c,h)||c.push(h)}l=new Wn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new m8(new On(a),l,u)}class lg extends xb{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}function y8(t,e,n,r){const i=t.Qu(1,e,n);Eb("Data must be an object, but it was:",i,r);const o=[],s=On.empty();Gs(r,(l,u)=>{const c=Sb(e,l,n);u=sn(u);const d=i.Nu(c);if(u instanceof lg)o.push(c);else{const h=Bd(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Wn(o);return new bO(s,a,i.fieldTransforms)}function v8(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[rx(e,r,n)],l=[i];if(o.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(rx(e,o[h])),l.push(o[h+1]);const u=[],c=On.empty();for(let h=a.length-1;h>=0;--h)if(!CO(u,a[h])){const y=a[h];let x=l[h];x=sn(x);const w=s.Nu(y);if(x instanceof lg)u.push(y);else{const v=Bd(x,w);v!=null&&(u.push(y),c.set(y,v))}}const d=new Wn(u);return new bO(c,d,s.fieldTransforms)}function TO(t,e,n,r=!1){return Bd(n,t.Qu(r?4:3,e))}function Bd(t,e){if(IO(t=sn(t)))return Eb("Unsupported field value:",e,t),AO(t,e);if(t instanceof xb)return function(r,i){if(!EO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Bd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ut.fromDate(r);return{timestampValue:hp(i.serializer,o)}}if(r instanceof Ut){const o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,o)}}if(r instanceof _b)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ul)return{bytesValue:GM(i.serializer,r._byteString)};if(r instanceof An){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wb)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return nb(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${og(r)}`)}(t,e)}function AO(t,e){const n={};return _M(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const o=Bd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function IO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof _b||t instanceof ul||t instanceof An||t instanceof xb||t instanceof wb)}function Eb(t,e,n){if(!IO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=og(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function rx(t,e,n){if((e=sn(e))instanceof ag)return e._internalPath;if(typeof e=="string")return Sb(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const x8=new RegExp("[~\\*/\\[\\]]");function Sb(t,e,n){if(e.search(x8)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new de(Z.INVALID_ARGUMENT,a+t+l)}function CO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _8 extends Tb{data(){return super.data()}}function ug(t,e){return typeof e=="string"?Sb(t,e):e instanceof ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ab{}class cg extends Ab{}function lc(t,e,...n){let r=[];e instanceof Ab&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Ib).length,a=o.filter(l=>l instanceof dg).length;if(s>1||s>0&&a>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dg extends cg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dg(e,n,r)}_apply(e){const n=this._parse(e);return NO(e._query,n),new ri(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=Fd(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Z1(d,c);const y=[];for(const x of d)y.push(Q1(l,o,x));h={arrayValue:{values:y}}}else h=Q1(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Z1(d,c),h=TO(a,s,d,c==="in"||c==="not-in");return kt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function av(t,e,n){const r=e,i=ug("where",t);return dg._create(i,r,n)}class Ib extends Ab{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ib(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)NO(s,l),s=W0(s,l)}(e._query,n),new ri(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cb extends cg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cb(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(o,s)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new zs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function w8(t,e="asc"){const n=e,r=ug("orderBy",t);return Cb._create(r,n)}class Pb extends cg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Pb(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,cp(e._query,this._limit,this._limitType))}}function b8(t){return c8("limit",t),Pb._create("limit",t,"F")}class Nb extends cg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Nb(e,n,r)}_apply(e){const n=S8(e,this.type,this._docOrFields,this._inclusive);return new ri(e.firestore,e.converter,function(i,o){return new zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function E8(...t){return Nb._create("startAfter",t,!1)}function S8(t,e,n,r){if(n[0]=sn(n[0]),n[0]instanceof Tb)return function(o,s,a,l,u){if(!l)throw new de(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of La(o))if(d.field.isKeyField())c.push(up(s,l.key));else{const h=l.data.field(d.field);if(Ym(h))throw new de(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=d.field.canonicalString();throw new de(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(h)}return new sl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fd(t.firestore);return function(s,a,l,u,c,d){const h=s.explicitOrderBy;if(c.length>h.length)throw new de(Z.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<c.length;x++){const w=c[x];if(h[x].field.isKeyField()){if(typeof w!="string")throw new de(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!tb(s)&&w.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const v=s.path.child(st.fromString(w));if(!be.isDocumentKey(v))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const _=new be(v);y.push(up(a,_))}else{const v=TO(l,u,w);y.push(v)}}return new sl(y,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Q1(t,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tb(e)&&n.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!be.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return up(t,new be(r))}if(n instanceof An)return up(t,n._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(n)}.`)}function Z1(t,e){if(!Array.isArray(t)||t.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T8{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>At(s.doubleValue));return new wb(o)}convertGeoPoint(e){return new _b(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ze(YM(r));const i=new Lc(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RO extends Tb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ch extends RO{data(e={}){return super.data(e)}}class MO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ch(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ch(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:A8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function A8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class kb extends T8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function No(t){t=fr(t,ri);const e=fr(t.firestore,$o),n=vb(e),r=new kb(e);return PO(t._query),l8(n,t._query).then(i=>new MO(e,r,t,i))}function I8(t,e,n){t=fr(t,An);const r=fr(t.firestore,$o),i=kO(t.converter,e);return fg(r,[SO(Fd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function Rn(t,e,n,...r){t=fr(t,An);const i=fr(t.firestore,$o),o=Fd(i);let s;return s=typeof(e=sn(e))=="string"||e instanceof ag?v8(o,"updateDoc",t._key,e,n,r):y8(o,"updateDoc",t._key,e),fg(i,[s.toMutation(t._key,dr.exists(!0))])}function kn(t){return fg(fr(t.firestore,$o),[new rb(t._key,dr.none())])}function Yt(t,e){const n=fr(t.firestore,$o),r=Xe(t),i=kO(t.converter,e);return fg(n,[SO(Fd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function tr(t,...e){var n,r,i;t=sn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X1(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X1(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof An)u=fr(t.firestore,$o),c=eb(t._key.path),l={next:d=>{e[s]&&e[s](C8(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=fr(t,ri);u=fr(d.firestore,$o),c=d._query;const h=new kb(u);l={next:y=>{e[s]&&e[s](new MO(u,h,d,y))},error:e[s+1],complete:e[s+2]},PO(t._query)}return function(h,y,x,w){const v=new vO(w),_=new uO(y,v,x);return h.asyncQueue.enqueueAndForget(async()=>aO(await nx(h),_)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>lO(await nx(h),_))}}(vb(u),c,a,l)}function fg(t,e){return function(r,i){const o=new Co;return r.asyncQueue.enqueueAndForget(async()=>X6(await a8(r),i,o)),o.promise}(vb(t),e)}function C8(t,e,n){const r=n.docs.get(e._key),i=new kb(t);return new RO(t,i,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$l=i})(jl),tl(new ks("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $o(new N3(r.getProvider("auth-internal")),new O3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Io(m1,"4.7.3",e),Io(m1,"4.7.3","esm2017")})();function Rb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P8=OO,DO=new Md("auth","Firebase",OO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new zw("@firebase/auth");function N8(t,...e){yp.logLevel<=$e.WARN&&yp.warn(`Auth (${jl}): ${t}`,...e)}function Ph(t,...e){yp.logLevel<=$e.ERROR&&yp.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw Mb(t,...e)}function Yr(t,...e){return Mb(t,...e)}function LO(t,e,n){const r=Object.assign(Object.assign({},P8()),{[e]:n});return new Md("auth","Firebase",r).create(e,{appName:t.name})}function Es(t){return LO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DO.create(t,...e)}function Se(t,e,...n){if(!t)throw Mb(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function Ri(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k8(){return eA()==="http:"||eA()==="https:"}function eA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k8()||s5()||"connection"in navigator)?navigator.onLine:!0}function M8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=r5()||a5()}get(){return R8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=new qd(3e4,6e4);function Db(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,n,r,i={}){return $O(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Od(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return o5()||(u.referrerPolicy="no-referrer"),jO.fetch()(UO(t,t.config.apiHost,n,a),u)})}async function $O(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O8),e);try{const i=new j8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Hf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LO(t,c,u);ki(t,c)}}catch(i){if(i instanceof Fi)throw i;ki(t,"network-request-failed",{message:String(i)})}}async function L8(t,e,n,r,i={}){const o=await Fl(t,e,n,r,i);return"mfaPendingCredential"in o&&ki(t,"multi-factor-auth-required",{_serverResponse:o}),o}function UO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ob(t.config,i):`${t.config.apiScheme}://${i}`}class j8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),D8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function VO(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U8(t,e=!1){const n=sn(t),r=await n.getIdToken(e),i=Lb(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:uc(lv(i.auth_time)),issuedAtTime:uc(lv(i.iat)),expirationTime:uc(lv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function lv(t){return Number(t)*1e3}function Lb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=nM(n);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tA(t){const e=Lb(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&V8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fc(t,VO(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FO(o.providerUserInfo):[],a=q8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ox(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function B8(t){const e=sn(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FO(t){return t.map(e=>{var{providerId:n}=e,r=Rb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){const n=await $O(t,{},async()=>{const r=Od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=UO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z8(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",Db(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=tA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await G8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $a;return r&&(Se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Rb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ox(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U8(this,e)}reload(){return B8(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ho(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Fc(this,$8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:N,isAnonymous:A,providerData:P,stsTokenManager:T}=n;Se(S&&T,e,"internal-error");const C=$a.fromJSON(this.name,T);Se(typeof S=="string",e,"internal-error"),Zi(d,e.name),Zi(h,e.name),Se(typeof N=="boolean",e,"internal-error"),Se(typeof A=="boolean",e,"internal-error"),Zi(y,e.name),Zi(x,e.name),Zi(w,e.name),Zi(v,e.name),Zi(_,e.name),Zi(b,e.name);const I=new mi({uid:S,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:A,photoURL:x,phoneNumber:y,tenantId:w,stsTokenManager:C,createdAt:_,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(R=>Object.assign({},R))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?FO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new $a;a.updateFromIdToken(r);const l=new mi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ox(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Map;function gi(t){Ri(t instanceof Function,"Expected a class definition");let e=nA.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BO.type="NONE";const rA=BO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ua(gi(rA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gi(rA);const s=Nh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=mi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ua(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ua(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KO(e))return"Blackberry";if(JO(e))return"Webos";if(GO(e))return"Safari";if((e.includes("chrome/")||zO(e))&&!e.includes("edge/"))return"Chrome";if(WO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qO(t=wn()){return/firefox\//i.test(t)}function GO(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zO(t=wn()){return/crios\//i.test(t)}function HO(t=wn()){return/iemobile/i.test(t)}function WO(t=wn()){return/android/i.test(t)}function KO(t=wn()){return/blackberry/i.test(t)}function JO(t=wn()){return/webos/i.test(t)}function jb(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H8(t=wn()){var e;return jb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W8(){return l5()&&document.documentMode===10}function YO(t=wn()){return jb(t)||WO(t)||JO(t)||KO(t)||/windows phone/i.test(t)||HO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e=[]){let n;switch(t){case"Browser":n=iA(wn());break;case"Worker":n=`${iA(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",Db(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=6;class X8{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Y8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oA(this),this.idTokenSubscription=new oA(this),this.beforeStateQueue=new K8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VO(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ho(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ho(this.app))return Promise.reject(Es(this));const n=e?sn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ho(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ho(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J8(this),n=new X8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Md("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&N8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $b(t){return sn(t)}class oA{constructor(e){this.auth=e,this.observer=null,this.addObserver=g5(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z8(t){Ub=t}function e9(t){return Ub.loadJS(t)}function t9(){return Ub.gapiScript}function n9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){const n=Ww(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(sp(o,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function i9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o9(t,e,n){const r=$b(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=QO(e),{host:s,port:a}=s9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),a9()}function QO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s9(t){const e=QO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:sA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:sA(s)}}}function sA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e){return L8(t,"POST","/v1/accounts:signInWithIdp",Db(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="http://localhost";class Ds extends ZO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Rb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ds(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Va(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Va(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Va(e,n)}buildRequest(){const e={requestUri:l9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Od(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends eD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Gd{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Gd{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Gd{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mi._fromIdTokenResponse(e,r,i),s=aA(r);return new cl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aA(r);return new cl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xp(e,n,r,i)}}function tD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(t,o,e,r):o})}async function u9(t,e,n=!1){const r=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e,n=!1){const{auth:r}=t;if(ho(r.app))return Promise.reject(Es(r));const i="reauthenticate";try{const o=await Fc(t,tD(r,i,e,t),n);Se(o.idToken,r,"internal-error");const s=Lb(o.idToken);Se(s,r,"internal-error");const{sub:a}=s;return Se(t.uid===a,r,"user-mismatch"),cl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ki(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e,n=!1){if(ho(t.app))return Promise.reject(Es(t));const r="signIn",i=await tD(t,r,e),o=await cl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function f9(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function h9(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}const _p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=1e3,m9=10;class rD extends nD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);W8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rD.type="LOCAL";const g9=rD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends nD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iD.type="SESSION";const oD=iD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await y9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Vb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function x9(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function _9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b9(){return sD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="firebaseLocalStorageDb",E9=1,wp="firebaseLocalStorage",lD="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pg(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function S9(){const t=indexedDB.deleteDatabase(aD);return new zd(t).toPromise()}function sx(){const t=indexedDB.open(aD,E9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wp,{keyPath:lD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wp)?e(r):(r.close(),await S9(),e(await sx()))})})}async function lA(t,e,n){const r=pg(t,!0).put({[lD]:e,value:n});return new zd(r).toPromise()}async function T9(t,e){const n=pg(t,!1).get(e),r=await new zd(n).toPromise();return r===void 0?null:r.value}function uA(t,e){const n=pg(t,!0).delete(e);return new zd(n).toPromise()}const A9=800,I9=3;class uD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hg._getInstance(b9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _9(),!this.activeServiceWorker)return;this.sender=new v9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sx();return await lA(e,_p,"1"),await uA(e,_p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>T9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pg(i,!1).getAll();return new zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uD.type="LOCAL";const C9=uD;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e){return e?gi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends ZO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Va(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N9(t){return d9(t.auth,new Fb(t),t.bypassAuthState)}function k9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),c9(n,new Fb(t),t.bypassAuthState)}async function R9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),u9(n,new Fb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N9;case"linkViaPopup":case"linkViaRedirect":return R9;case"reauthViaPopup":case"reauthViaRedirect":return k9;default:ki(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new qd(2e3,1e4);class Sa extends cD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Vb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M9.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="pendingRedirect",kh=new Map;class D9 extends cD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await L9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L9(t,e){const n=U9(e),r=$9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function j9(t,e){kh.set(t._key(),e)}function $9(t){return gi(t._redirectPersistence)}function U9(t){return Nh(O9,t.config.apiKey,t.name)}async function V9(t,e,n=!1){if(ho(t.app))return Promise.reject(Es(t));const r=$b(t),i=P9(r,e),s=await new D9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=10*60*1e3;class B9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F9&&this.cachedEventUids.clear(),this.cachedEventUids.has(cA(e))}saveEventToCache(e){this.cachedEventUids.add(cA(e)),this.lastProcessedEventTime=Date.now()}}function cA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H9=/^https?/;async function W9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G9(t);for(const n of e)try{if(K9(n))return}catch{}ki(t,"unauthorized-domain")}function K9(t){const e=ix(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!H9.test(n))return!1;if(z9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new qd(3e4,6e4);function dA(){const t=Xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y9(t){return new Promise((e,n)=>{var r,i,o;function s(){dA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dA(),n(Yr(t,"network-request-failed"))},timeout:J9.get()})}if(!((i=(r=Xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xr().gapi)===null||o===void 0)&&o.load)s();else{const a=n9("iframefcb");return Xr()[a]=()=>{gapi.load?s():n(Yr(t,"network-request-failed"))},e9(`${t9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function X9(t){return Rh=Rh||Y9(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new qd(5e3,15e3),Z9="__/auth/iframe",eq="emulator/auth/iframe",tq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rq(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ob(e,eq):`https://${t.config.authDomain}/${Z9}`,r={apiKey:e.apiKey,appName:t.name,v:jl},i=nq.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Od(r).slice(1)}`}async function iq(t){const e=await X9(t),n=Xr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:rq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tq,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Yr(t,"network-request-failed"),a=Xr().setTimeout(()=>{o(s)},Q9.get());function l(){Xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sq=500,aq=600,lq="_blank",uq="http://localhost";class fA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cq(t,e,n,r=sq,i=aq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oq),{width:r.toString(),height:i.toString(),top:o,left:s}),u=wn().toLowerCase();n&&(a=zO(u)?lq:n),qO(u)&&(e=e||uq,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,x])=>`${h}${y}=${x},`,"");if(H8(u)&&a!=="_self")return dq(e||"",a),new fA(null);const d=window.open(e||"",a,c);Se(d,t,"popup-blocked");try{d.focus()}catch{}return new fA(d)}function dq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="__/auth/handler",hq="emulator/auth/handler",pq=encodeURIComponent("fac");async function hA(t,e,n,r,i,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:i};if(e instanceof eD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",m5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof Gd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${pq}=${encodeURIComponent(l)}`:"";return`${mq(t)}?${Od(a).slice(1)}${u}`}function mq({config:t}){return t.emulator?Ob(t,hq):`https://${t.authDomain}/${fq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="webStorageSupport";class gq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oD,this._completeRedirectFn=V9,this._overrideRedirectResult=j9}async _openPopup(e,n,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await hA(e,n,r,ix(),i);return cq(e,s,Vb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await hA(e,n,r,ix(),i);return x9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iq(e),r=new B9(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uv,{type:uv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[uv];s!==void 0&&n(!!s),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YO()||GO()||jb()}}const yq=gq;var pA="@firebase/auth",mA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _q(t){tl(new ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XO(t)},u=new Q8(r,i,o,l);return i9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tl(new ks("auth-internal",e=>{const n=$b(e.getProvider("auth").getImmediate());return(r=>new vq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(pA,mA,xq(t)),Io(pA,mA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=5*60,bq=oM("authIdTokenMaxAge")||wq;let gA=null;const Eq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bq)return;const i=n==null?void 0:n.token;gA!==i&&(gA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Sq(t=uM()){const e=Ww(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r9(t,{popupRedirectResolver:yq,persistence:[C9,g9,oD]}),r=oM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Eq(o.toString());h9(n,s,()=>s(n.currentUser)),f9(n,a=>s(a))}}const i=rM("auth");return i&&o9(n,`http://${i}`),n}function Tq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Yr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Tq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_q("Browser");var ia={};const Aq={apiKey:ia.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:ia.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:ia.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:ia.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:ia.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:ia.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},fD=lM(Aq),ye=f8(fD);Sq(fD);new di;const hD=j.createContext(void 0),Iq=({children:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState([]),[o,s]=j.useState([]),[a,l]=j.useState([]),[u,c]=j.useState([]),[d,h]=j.useState([]),[y,x]=j.useState([]),[w,v]=j.useState([]),[_,b]=j.useState([]),[S,N]=j.useState([]),[A,P]=j.useState([]),[T,C]=j.useState([]),[I,R]=j.useState([]),[O,D]=j.useState([]),[M,V]=j.useState([]),[F,z]=j.useState(!0),[K,U]=j.useState(null);j.useEffect(()=>{const te=[tr(Re(ye,"products"),ce=>n(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"clients"),ce=>i(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"suppliers"),ce=>s(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"priceLists"),ce=>c(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"branches"),ce=>h(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"users"),ce=>N(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"salesZones"),ce=>b(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"sales"),ce=>P(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"remitos"),ce=>C(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"boxes"),ce=>R(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"brands"),ce=>D(ce.docs.map(_e=>({id:_e.id,..._e.data()})))),tr(Re(ye,"categories"),ce=>V(ce.docs.map(_e=>({id:_e.id,..._e.data()}))))];return z(!1),()=>te.forEach(ce=>ce())},[]);const J=j.useCallback(async te=>{let ce=lc(Re(ye,"products"),w8(te.orderByField||"name",te.orderDirection||"asc"));te.startAfterDoc&&(ce=lc(ce,E8(te.startAfterDoc))),ce=lc(ce,b8(te.limit));const _e=await No(ce);return{products:_e.docs.map(Nn=>({id:Nn.id,...Nn.data()})),lastVisible:_e.docs[_e.docs.length-1],hasMore:_e.docs.length===te.limit}},[]),Q=async te=>e.find(ce=>ce.id===te)||null,ie=async te=>{await Yt(Re(ye,"products"),te)},ee=async(te,ce)=>{await Rn(Xe(ye,"products",te),ce)},le=async te=>{await kn(Xe(ye,"products",te))},Pe=async te=>(await Yt(Re(ye,"sales"),te)).id,Ne=async te=>A.find(ce=>ce.id===te)||null,Ke=async te=>{await Yt(Re(ye,"clients"),te)},H=async(te,ce)=>{await Rn(Xe(ye,"clients",te),ce)},je=async te=>{await kn(Xe(ye,"clients",te))},oe=async te=>{await Yt(Re(ye,"suppliers"),te)},ve=async(te,ce)=>{await Rn(Xe(ye,"suppliers",te),ce)},G=async te=>{await kn(Xe(ye,"suppliers",te))},q=async te=>{await Yt(Re(ye,"priceLists"),te)},pe=async(te,ce)=>{await Rn(Xe(ye,"priceLists",te),ce)},xe=async te=>{await kn(Xe(ye,"priceLists",te))},Ue=async te=>{await Yt(Re(ye,"branches"),te)},Y=async(te,ce)=>{await Rn(Xe(ye,"branches",te),ce)},he=async te=>{await kn(Xe(ye,"branches",te))},Je=async te=>{await Yt(Re(ye,"orders"),te)},St=async(te,ce)=>{await Rn(Xe(ye,"orders",te),ce)},Tt=async te=>{await kn(Xe(ye,"orders",te))},qe=async te=>{await Yt(Re(ye,"installmentPlans"),te)},Mt=async(te,ce)=>{await Rn(Xe(ye,"installmentPlans",te),ce)},er=async te=>{await kn(Xe(ye,"installmentPlans",te))},Wi=async te=>{await Yt(Re(ye,"transactions"),te)},Jo=async te=>{await Yt(Re(ye,"users"),te)},Ft=async(te,ce)=>{await Rn(Xe(ye,"users",te),ce)},Kt=async te=>{await kn(Xe(ye,"users",te))},Qs=async te=>{await Yt(Re(ye,"salesZones"),te)},tf=async(te,ce)=>{await Rn(Xe(ye,"salesZones",te),ce)},nf=async te=>{await kn(Xe(ye,"salesZones",te))},dy=async te=>(await Yt(Re(ye,"remitos"),te)).id,Yo=async(te,ce)=>{await Rn(Xe(ye,"remitos",te),ce)},rf=async te=>{await kn(Xe(ye,"remitos",te))},of=async te=>T.find(ce=>ce.id===te)||null,su=async te=>{await Yt(Re(ye,"boxes"),te)},fy=async(te,ce)=>{await Rn(Xe(ye,"boxes",te),ce)},hy=async te=>{await kn(Xe(ye,"boxes",te))},au=async te=>{await Yt(Re(ye,"brands"),te)},sf=async(te,ce)=>{await Rn(Xe(ye,"brands",te),ce)},af=async te=>{await kn(Xe(ye,"brands",te))},Xo=async te=>{await Yt(Re(ye,"categories"),te)},lu=async(te,ce)=>{await Rn(Xe(ye,"categories",te),ce)},uu=async te=>{await kn(Xe(ye,"categories",te))},oi=async te=>{const ce={};for(const _e of te){const Zo=await No(Re(ye,_e));ce[_e]=Zo.docs.map(Nn=>({id:Nn.id,...Nn.data()}))}return ce},lf=async te=>{for(const[ce,_e]of Object.entries(te)){await Qo(ce);for(const Zo of _e){const{id:Nn,...Ki}=Zo;Nn?await I8(Xe(ye,ce,Nn),Ki):await Yt(Re(ye,ce),Ki)}}},Qo=async te=>{const ce=await No(Re(ye,te));for(const _e of ce.docs)await kn(_e.ref)},uf=j.useMemo(()=>({products:e,clients:r,suppliers:o,transactions:a,priceLists:u,branches:d,orders:y,installmentPlans:w,users:S,loading:F,error:K,salesZones:_,sales:A,remitos:T,boxes:I,brands:O,categories:M,fetchProductsPaginatedAndFiltered:J,getProductById:Q,addProduct:ie,updateProduct:ee,deleteProduct:le,addSale:Pe,getSaleById:Ne,addClient:Ke,updateClient:H,deleteClient:je,addSupplier:oe,updateSupplier:ve,deleteSupplier:G,addPriceList:q,updatePriceList:pe,deletePriceList:xe,addBranch:Ue,updateBranch:Y,deleteBranch:he,addOrder:Je,updateOrder:St,deleteOrder:Tt,addInstallmentPlan:qe,updateInstallmentPlan:Mt,deleteInstallmentPlan:er,addTransaction:Wi,exportAllData:oi,importAllData:lf,deleteAllDocumentsInCollection:Qo,addUser:Jo,updateUser:Ft,deleteUser:Kt,addSalesZone:Qs,updateSalesZone:tf,deleteSalesZone:nf,addRemito:dy,updateRemito:Yo,deleteRemito:rf,getRemitoById:of,addBox:su,updateBox:fy,deleteBox:hy,addBrand:au,updateBrand:sf,deleteBrand:af,addCategory:Xo,updateCategory:lu,deleteCategory:uu}),[e,r,o,a,u,d,y,w,S,F,K,_,A,T,I,O,M]);return p.jsx(hD.Provider,{value:uf,children:t})},Bl=()=>{const t=j.useContext(hD);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>j.createElement("svg",{ref:c,...Cq,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Pq(t)}`,a].join(" "),...u},[...e.map(([d,h])=>j.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=ue("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=ue("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=ue("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ue("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ue("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=ue("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ue("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ue("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ue("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ue("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=ue("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=ue("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ue("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=ue("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ue("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=ue("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ue("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=ue("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=ue("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ue("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ue("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=ue("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ue("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=ue("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ue("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ue("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ue("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ue("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ue("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ue("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),iG=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{const[o,s]=j.useState(["Principal","Comercial","Productos & Abastecimiento","Administracin & Finanzas"]),[a,l]=j.useState(!1),[u,c]=j.useState(["sales","inventory","cashier"]);j.useEffect(()=>{const v=localStorage.getItem("ferrogest_shortcuts");if(v)try{c(JSON.parse(v))}catch(_){console.error("Error loading shortcuts",_)}},[]);const d=v=>{const _=u.includes(v)?u.filter(b=>b!==v):[...u,v];c(_),localStorage.setItem("ferrogest_shortcuts",JSON.stringify(_))},h=[{name:"Principal",icon:qq,items:[{id:"dashboard",label:"Dashboard",icon:vD}]},{name:"Comercial",icon:bp,items:[{id:"sales",label:"Ventas",icon:bp,color:"bg-orange-500"},{id:"remitos",label:"Remitos",icon:yD,color:"bg-blue-500"},{id:"quotes",label:"Cotizaciones",icon:Kq,color:"bg-purple-500"},{id:"orders",label:"Pedidos",icon:xD,color:"bg-indigo-500"},{id:"clients",label:"Clientes",icon:Hd,color:"bg-emerald-500"},{id:"loyalty",label:"Fidelizacin",icon:Bq,color:"bg-pink-500"},{id:"ecommerce",label:"E-Commerce",icon:qc,color:"bg-sky-500"}]},{name:"Productos & Abastecimiento",icon:Ep,items:[{id:"inventory",label:"Inventario",icon:Ep,color:"bg-amber-600"},{id:"missing-items",label:"Faltantes",icon:Bb,color:"bg-red-500"},{id:"stock-adjustment",label:"Ajuste de Stock",icon:dl,color:"bg-teal-500"},{id:"bulk-modification",label:"Modificacin Masiva",icon:Gb,color:"bg-violet-500"},{id:"warehouse",label:"Depsito",icon:fx,color:"bg-stone-500"},{id:"purchase-orders",label:"Pedidos Compra",icon:Gq,color:"bg-cyan-600"},{id:"suppliers",label:"Proveedores",icon:Hb,color:"bg-orange-400"},{id:"prices",label:"Lista Precios",icon:Qq,color:"bg-lime-600"},{id:"bulk-import",label:"Importar Datos",icon:Vq,color:"bg-slate-400"},{id:"catalog-config",label:"Marcas & Rubros",icon:wA,color:"bg-purple-500"}]},{name:"Administracin & Finanzas",icon:Gc,items:[{id:"cashier",label:"Cajas y Pagos",icon:Gc,color:"bg-green-600"},{id:"purchases",label:"Compras & IA",icon:gg,color:"bg-yellow-600"},{id:"balances",label:"Saldos y Deudas",icon:cx,color:"bg-rose-500"},{id:"installments",label:"Cuotas Internas",icon:ax,color:"bg-fuchsia-600"},{id:"finance",label:"Finanzas",icon:zb,color:"bg-emerald-600"},{id:"reports",label:"Informes e IVA",icon:mD,color:"bg-blue-400"},{id:"users",label:"Personal y Accesos",icon:ID,color:"bg-indigo-400"}]}],y=h.flatMap(v=>v.items),x=y.filter(v=>u.includes(v.id)),w=v=>{s(_=>_.includes(v)?_.filter(b=>b!==v):[..._,v])};return!n||!("name"in n)?p.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 justify-center items-center",children:[p.jsx(yr,{className:"w-8 h-8 animate-spin text-orange-500 mb-2"}),p.jsx("span",{className:"text-xs text-slate-400",children:"Iniciando..."})]}):p.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 shrink-0 overflow-hidden",children:[p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[n!=null&&n.logo&&(n!=null&&n.showLogoInSidebar)?p.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):p.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:p.jsx(wA,{className:"w-6 h-6 text-white"})}),p.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:(n==null?void 0:n.name)||"Sistems Nova"})]})}),p.jsxs("div",{className:"px-4 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[p.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Accesos Rpidos"}),p.jsx("button",{onClick:()=>l(!0),className:"p-1 hover:bg-slate-800 rounded-md text-slate-500 hover:text-orange-500 transition-colors",children:p.jsx(Zq,{className:"w-3.5 h-3.5"})})]}),p.jsxs("div",{className:"grid grid-cols-4 gap-2 px-2",children:[x.map(v=>p.jsx("button",{onClick:()=>e(v.id),className:`aspect-square flex items-center justify-center rounded-xl transition-all ${t===v.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/40 scale-105":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:v.label,children:p.jsx(v.icon,{className:"w-5 h-5"})},v.id)),p.jsx("button",{onClick:()=>l(!0),className:"aspect-square flex items-center justify-center rounded-xl bg-slate-800/20 border border-dashed border-slate-700 text-slate-600 hover:border-slate-500 hover:text-slate-400 transition-all",children:p.jsx(ti,{className:"w-4 h-4"})})]})]}),p.jsxs("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar overscroll-contain pb-10",children:[h.map(v=>p.jsxs("div",{className:"space-y-1",children:[p.jsxs("button",{onClick:()=>w(v.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(v.icon,{className:"w-4 h-4"}),v.name]}),p.jsx(gD,{className:`w-4 h-4 transition-transform ${o.includes(v.name)?"rotate-0":"-rotate-90"}`})]}),o.includes(v.name)&&p.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:v.items.map(_=>p.jsxs("button",{onClick:()=>e(_.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===_.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(_.icon,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{className:"truncate",children:_.label})]},_.id))})]},v.name)),p.jsxs("div",{className:"pt-4 border-t border-slate-800/50 mt-4 space-y-1",children:[p.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="settings"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(SD,{className:"w-5 h-5"}),p.jsx("span",{children:"Configuracin"})]}),p.jsxs("button",{onClick:()=>e("integrations"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="integrations"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(Xq,{className:"w-5 h-5"}),p.jsx("span",{children:"Integraciones"})]})]})]}),p.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[p.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.name}`,className:"w-10 h-10 rounded-full border border-slate-700 bg-slate-700",alt:"User"}),p.jsxs("div",{className:"overflow-hidden text-left",children:[p.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),p.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),p.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[p.jsx(Hq,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]}),a&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-orange-600 rounded-2xl flex items-center justify-center",children:p.jsx(Yq,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Personalizar Accesos"}),p.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Selecciona tus herramientas favoritas"})]})]}),p.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:p.jsx(Jn,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:p.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.map(v=>p.jsxs("button",{onClick:()=>d(v.id),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left ${u.includes(v.id)?"border-orange-500 bg-orange-50":"border-slate-100 bg-white hover:border-slate-200"}`,children:[p.jsx("div",{className:`p-3 rounded-xl ${u.includes(v.id)?"bg-orange-600 text-white":"bg-slate-100 text-slate-400"}`,children:p.jsx(v.icon,{className:"w-6 h-6"})}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx("p",{className:`font-black text-xs uppercase tracking-tight truncate ${u.includes(v.id)?"text-orange-900":"text-slate-600"}`,children:v.label})}),p.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 ${u.includes(v.id)?"bg-orange-600 border-orange-600 text-white":"border-slate-200 text-transparent"}`,children:p.jsx(Lq,{className:"w-3 h-3 stroke-[4px]"})})]},v.id))})}),p.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 italic",children:"Mximo recomendado: 8 accesos."}),p.jsx("button",{onClick:()=>l(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Listo"})]})]})})]})},oG={dashboard:{label:"Dashboard",icon:vD},inventory:{label:"Inventario",icon:Ep},sales:{label:"Ventas",icon:bp},purchases:{label:"Compras",icon:gg},clients:{label:"Clientes",icon:Hd},suppliers:{label:"Proveedores",icon:Hb},cashier:{label:"Cajas",icon:Gc},reports:{label:"Informes",icon:mD},quotes:{label:"Cotizaciones",icon:Sp},ecommerce:{label:"E-Commerce",icon:qc},"stock-adjustment":{label:"Ajuste Stock",icon:dl},users:{label:"Personal",icon:ID},settings:{label:"Configuracin",icon:SD},"missing-items":{label:"Faltantes",icon:Bb},"bulk-modification":{label:"Modif. Masiva",icon:Gb},remitos:{label:"Remitos",icon:yD}},sG=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>p.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const o=oG[i],s=o==null?void 0:o.icon,a=i===e;return p.jsxs("div",{onClick:()=>n(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${a?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&p.jsx(s,{size:14,className:a?"text-orange-600":"text-slate-400"}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-slate-900":"text-slate-500"}`,children:(o==null?void 0:o.label)||i}),i!=="dashboard"&&p.jsx("button",{onClick:l=>{l.stopPropagation(),r(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:p.jsx(Jn,{size:12})})]},i)})}),aG=({onLoginSuccess:t})=>{const[e,n]=j.useState("employee"),[r,i]=j.useState(""),[o,s]=j.useState(""),[a,l]=j.useState(""),[u,c]=j.useState(!1),[d,h]=j.useState(null),y="admin",x="admin123",w=async _=>{_.preventDefault(),c(!0),h(null);const b=r.trim(),S=o.trim();try{if(b.toLowerCase()===y&&S===x){t("admin","Administrador Maestro");return}if(!b.includes("@")||!b.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),c(!1);return}const N=Re(ye,"users"),A=lc(N,av("email","==",b),av("password","==",S)),P=await No(A);if(P.empty)h("Credenciales de empleado incorrectas.");else{const T=P.docs[0].data();t(T.role.toLowerCase(),T.name)}}catch(N){h(`Error de conexin: ${N.message}`)}finally{c(!1)}},v=async _=>{_.preventDefault(),c(!0),h(null);const b=a.trim();if(!b){h("Por favor ingrese su CUIT o DNI."),c(!1);return}try{const S=Re(ye,"clients"),N=lc(S,av("cuit","==",b)),A=await No(N);if(A.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const P={id:A.docs[0].id,...A.docs[0].data()};t("customer",P.name,P)}}catch{h("Error al validar cliente.")}finally{c(!1)}};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:p.jsx(AD,{className:"w-10 h-10"})}),p.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),p.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[p.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(TD,{className:"w-4 h-4"})," Personal"]}),p.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(dv,{className:"w-4 h-4"})," Portal Clientes"]})]}),d&&p.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[p.jsx(Jn,{className:"w-5 h-5 text-red-600"}),p.jsx("span",{className:"font-bold text-xs uppercase",children:d})]}),e==="employee"?p.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(CD,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),p.jsxs("div",{className:"relative",children:[p.jsx(zq,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"password",value:o,onChange:_=>s(_.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?p.jsx(yr,{className:"w-5 h-5 animate-spin"}):p.jsx(Rq,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):p.jsxs("form",{onSubmit:v,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),p.jsxs("div",{className:"relative",children:[p.jsx(dv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?p.jsx(yr,{className:"w-5 h-5 animate-spin"}):p.jsx(dv,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),p.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function ND(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ND(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Be(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ND(t))&&(r&&(r+=" "),r+=e);return r}var lG=Array.isArray,Vn=lG,uG=typeof Sf=="object"&&Sf&&Sf.Object===Object&&Sf,kD=uG,cG=kD,dG=typeof self=="object"&&self&&self.Object===Object&&self,fG=cG||dG||Function("return this")(),ii=fG,hG=ii,pG=hG.Symbol,Wd=pG,bA=Wd,RD=Object.prototype,mG=RD.hasOwnProperty,gG=RD.toString,Cu=bA?bA.toStringTag:void 0;function yG(t){var e=mG.call(t,Cu),n=t[Cu];try{t[Cu]=void 0;var r=!0}catch{}var i=gG.call(t);return r&&(e?t[Cu]=n:delete t[Cu]),i}var vG=yG,xG=Object.prototype,_G=xG.toString;function wG(t){return _G.call(t)}var bG=wG,EA=Wd,EG=vG,SG=bG,TG="[object Null]",AG="[object Undefined]",SA=EA?EA.toStringTag:void 0;function IG(t){return t==null?t===void 0?AG:TG:SA&&SA in Object(t)?EG(t):SG(t)}var Bi=IG;function CG(t){return t!=null&&typeof t=="object"}var qi=CG,PG=Bi,NG=qi,kG="[object Symbol]";function RG(t){return typeof t=="symbol"||NG(t)&&PG(t)==kG}var ql=RG,MG=Vn,OG=ql,DG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LG=/^\w*$/;function jG(t,e){if(MG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||OG(t)?!0:LG.test(t)||!DG.test(t)||e!=null&&t in Object(e)}var Wb=jG;function $G(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qo=$G;const Gl=it(qo);var UG=Bi,VG=qo,FG="[object AsyncFunction]",BG="[object Function]",qG="[object GeneratorFunction]",GG="[object Proxy]";function zG(t){if(!VG(t))return!1;var e=UG(t);return e==BG||e==qG||e==FG||e==GG}var Kb=zG;const ke=it(Kb);var HG=ii,WG=HG["__core-js_shared__"],KG=WG,fv=KG,TA=function(){var t=/[^.]+$/.exec(fv&&fv.keys&&fv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JG(t){return!!TA&&TA in t}var YG=JG,XG=Function.prototype,QG=XG.toString;function ZG(t){if(t!=null){try{return QG.call(t)}catch{}try{return t+""}catch{}}return""}var MD=ZG,ez=Kb,tz=YG,nz=qo,rz=MD,iz=/[\\^$.*+?()[\]{}|]/g,oz=/^\[object .+?Constructor\]$/,sz=Function.prototype,az=Object.prototype,lz=sz.toString,uz=az.hasOwnProperty,cz=RegExp("^"+lz.call(uz).replace(iz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dz(t){if(!nz(t)||tz(t))return!1;var e=ez(t)?cz:oz;return e.test(rz(t))}var fz=dz;function hz(t,e){return t==null?void 0:t[e]}var pz=hz,mz=fz,gz=pz;function yz(t,e){var n=gz(t,e);return mz(n)?n:void 0}var Ws=yz,vz=Ws,xz=vz(Object,"create"),yg=xz,AA=yg;function _z(){this.__data__=AA?AA(null):{},this.size=0}var wz=_z;function bz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ez=bz,Sz=yg,Tz="__lodash_hash_undefined__",Az=Object.prototype,Iz=Az.hasOwnProperty;function Cz(t){var e=this.__data__;if(Sz){var n=e[t];return n===Tz?void 0:n}return Iz.call(e,t)?e[t]:void 0}var Pz=Cz,Nz=yg,kz=Object.prototype,Rz=kz.hasOwnProperty;function Mz(t){var e=this.__data__;return Nz?e[t]!==void 0:Rz.call(e,t)}var Oz=Mz,Dz=yg,Lz="__lodash_hash_undefined__";function jz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dz&&e===void 0?Lz:e,this}var $z=jz,Uz=wz,Vz=Ez,Fz=Pz,Bz=Oz,qz=$z;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=Uz;zl.prototype.delete=Vz;zl.prototype.get=Fz;zl.prototype.has=Bz;zl.prototype.set=qz;var Gz=zl;function zz(){this.__data__=[],this.size=0}var Hz=zz;function Wz(t,e){return t===e||t!==t&&e!==e}var Jb=Wz,Kz=Jb;function Jz(t,e){for(var n=t.length;n--;)if(Kz(t[n][0],e))return n;return-1}var vg=Jz,Yz=vg,Xz=Array.prototype,Qz=Xz.splice;function Zz(t){var e=this.__data__,n=Yz(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qz.call(e,n,1),--this.size,!0}var eH=Zz,tH=vg;function nH(t){var e=this.__data__,n=tH(e,t);return n<0?void 0:e[n][1]}var rH=nH,iH=vg;function oH(t){return iH(this.__data__,t)>-1}var sH=oH,aH=vg;function lH(t,e){var n=this.__data__,r=aH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var uH=lH,cH=Hz,dH=eH,fH=rH,hH=sH,pH=uH;function Hl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hl.prototype.clear=cH;Hl.prototype.delete=dH;Hl.prototype.get=fH;Hl.prototype.has=hH;Hl.prototype.set=pH;var xg=Hl,mH=Ws,gH=ii,yH=mH(gH,"Map"),Yb=yH,IA=Gz,vH=xg,xH=Yb;function _H(){this.size=0,this.__data__={hash:new IA,map:new(xH||vH),string:new IA}}var wH=_H;function bH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var EH=bH,SH=EH;function TH(t,e){var n=t.__data__;return SH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var _g=TH,AH=_g;function IH(t){var e=AH(this,t).delete(t);return this.size-=e?1:0,e}var CH=IH,PH=_g;function NH(t){return PH(this,t).get(t)}var kH=NH,RH=_g;function MH(t){return RH(this,t).has(t)}var OH=MH,DH=_g;function LH(t,e){var n=DH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jH=LH,$H=wH,UH=CH,VH=kH,FH=OH,BH=jH;function Wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wl.prototype.clear=$H;Wl.prototype.delete=UH;Wl.prototype.get=VH;Wl.prototype.has=FH;Wl.prototype.set=BH;var Xb=Wl,OD=Xb,qH="Expected a function";function Qb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Qb.Cache||OD),n}Qb.Cache=OD;var DD=Qb;const GH=it(DD);var zH=DD,HH=500;function WH(t){var e=zH(t,function(r){return n.size===HH&&n.clear(),r}),n=e.cache;return e}var KH=WH,JH=KH,YH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XH=/\\(\\)?/g,QH=JH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(YH,function(n,r,i,o){e.push(i?o.replace(XH,"$1"):r||n)}),e}),ZH=QH;function e7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Zb=e7,CA=Wd,t7=Zb,n7=Vn,r7=ql,PA=CA?CA.prototype:void 0,NA=PA?PA.toString:void 0;function LD(t){if(typeof t=="string")return t;if(n7(t))return t7(t,LD)+"";if(r7(t))return NA?NA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var i7=LD,o7=i7;function s7(t){return t==null?"":o7(t)}var jD=s7,a7=Vn,l7=Wb,u7=ZH,c7=jD;function d7(t,e){return a7(t)?t:l7(t,e)?[t]:u7(c7(t))}var $D=d7,f7=ql;function h7(t){if(typeof t=="string"||f7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var wg=h7,p7=$D,m7=wg;function g7(t,e){e=p7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[m7(e[n++])];return n&&n==r?t:void 0}var eE=g7,y7=eE;function v7(t,e,n){var r=t==null?void 0:y7(t,e);return r===void 0?n:r}var UD=v7;const hr=it(UD);function x7(t){return t==null}var _7=x7;const Le=it(_7);var w7=Bi,b7=Vn,E7=qi,S7="[object String]";function T7(t){return typeof t=="string"||!b7(t)&&E7(t)&&w7(t)==S7}var A7=T7;const js=it(A7);var VD={exports:{}},et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=Symbol.for("react.element"),nE=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Tg=Symbol.for("react.provider"),Ag=Symbol.for("react.context"),I7=Symbol.for("react.server_context"),Ig=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),kg=Symbol.for("react.lazy"),C7=Symbol.for("react.offscreen"),FD;FD=Symbol.for("react.module.reference");function _r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tE:switch(t=t.type,t){case bg:case Sg:case Eg:case Cg:case Pg:return t;default:switch(t=t&&t.$$typeof,t){case I7:case Ag:case Ig:case kg:case Ng:case Tg:return t;default:return e}}case nE:return e}}}et.ContextConsumer=Ag;et.ContextProvider=Tg;et.Element=tE;et.ForwardRef=Ig;et.Fragment=bg;et.Lazy=kg;et.Memo=Ng;et.Portal=nE;et.Profiler=Sg;et.StrictMode=Eg;et.Suspense=Cg;et.SuspenseList=Pg;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(t){return _r(t)===Ag};et.isContextProvider=function(t){return _r(t)===Tg};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tE};et.isForwardRef=function(t){return _r(t)===Ig};et.isFragment=function(t){return _r(t)===bg};et.isLazy=function(t){return _r(t)===kg};et.isMemo=function(t){return _r(t)===Ng};et.isPortal=function(t){return _r(t)===nE};et.isProfiler=function(t){return _r(t)===Sg};et.isStrictMode=function(t){return _r(t)===Eg};et.isSuspense=function(t){return _r(t)===Cg};et.isSuspenseList=function(t){return _r(t)===Pg};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bg||t===Sg||t===Eg||t===Cg||t===Pg||t===C7||typeof t=="object"&&t!==null&&(t.$$typeof===kg||t.$$typeof===Ng||t.$$typeof===Tg||t.$$typeof===Ag||t.$$typeof===Ig||t.$$typeof===FD||t.getModuleId!==void 0)};et.typeOf=_r;VD.exports=et;var P7=VD.exports,N7=Bi,k7=qi,R7="[object Number]";function M7(t){return typeof t=="number"||k7(t)&&N7(t)==R7}var BD=M7;const O7=it(BD);var D7=BD;function L7(t){return D7(t)&&t!=+t}var j7=L7;const Kl=it(j7);var Nr=function(e){return e===0?0:e>0?1:-1},ms=function(e){return js(e)&&e.indexOf("%")===e.length-1},se=function(e){return O7(e)&&!Kl(e)},$7=function(e){return Le(e)},$t=function(e){return se(e)||js(e)},U7=0,Kd=function(e){var n=++U7;return"".concat(e||"").concat(n)},$s=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(e)&&!js(e))return r;var o;if(ms(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Kl(o)&&(o=r),i&&o>n&&(o=n),o},uo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},V7=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ar=function(e,n){return se(e)&&se(n)?function(r){return e+r*(n-e)}:function(){return n}};function Tp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):hr(r,e))===n})}var F7=function(e,n){return se(e)&&se(n)?e-n:js(e)&&js(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ba(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}var B7=["viewBox","children"],q7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kA=["points","pathLength"],hv={svg:B7,polygon:kA,polyline:kA},rE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ap=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Gl(r))return null;var i={};return Object.keys(r).forEach(function(o){rE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},G7=function(e,n,r){return function(i){return e(n,r,i),null}},Ip=function(e,n,r){if(!Gl(e)||hx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];rE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=G7(s,n,r))}),i},z7=["children"],H7=["children"];function RA(t,e){if(t==null)return{};var n=W7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}var MA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OA=null,pv=null,iE=function t(e){if(e===OA&&Array.isArray(pv))return pv;var n=[];return j.Children.forEach(e,function(r){Le(r)||(P7.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),pv=n,OA=e,n};function Mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wi(i)}):r=[wi(e)],iE(t).forEach(function(i){var o=hr(i,"type.displayName")||hr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Gn(t,e){var n=Mr(t,e);return n&&n[0]}var DA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!se(r)||r<=0||!se(i)||i<=0)},K7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],J7=function(e){return e&&e.type&&js(e.type)&&K7.indexOf(e.type)>=0},Y7=function(e){return e&&px(e)==="object"&&"clipDot"in e},X7=function(e,n,r,i){var o,s=(o=hv==null?void 0:hv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ke(e)&&(i&&s.includes(n)||q7.includes(n))||r&&rE.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Gl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;X7((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},mx=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!LA(o,s))return!1}return!0},LA=function(e,n){if(Le(e)&&Le(n))return!0;if(!Le(e)&&!Le(n)){var r=e.props||{},i=r.children,o=RA(r,z7),s=n.props||{},a=s.children,l=RA(s,H7);return i&&a?Ba(o,l)&&mx(i,a):!i&&!a?Ba(o,l):!1}return!1},jA=function(e,n){var r=[],i={};return iE(e).forEach(function(o,s){if(J7(o))r.push(o);else if(o){var a=wi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},Q7=function(e){var n=e&&e.type;return n&&MA[n]?MA[n]:null},Z7=function(e,n){return iE(n).indexOf(e)},eW=["children","width","height","viewBox","className","style","title","desc"];function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function tW(t,e){if(t==null)return{};var n=nW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=tW(t,eW),c=i||{width:n,height:r,x:0,y:0},d=Be("recharts-surface",o);return $.createElement("svg",gx({},Me(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var rW=["children","className"];function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(this,arguments)}function iW(t,e){if(t==null)return{};var n=oW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yt=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=iW(t,rW),o=Be("recharts-layer",r);return $.createElement("g",vx({className:o},Me(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function sW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var aW=sW,lW=aW;function uW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lW(t,e,n)}var cW=uW,dW="\\ud800-\\udfff",fW="\\u0300-\\u036f",hW="\\ufe20-\\ufe2f",pW="\\u20d0-\\u20ff",mW=fW+hW+pW,gW="\\ufe0e\\ufe0f",yW="\\u200d",vW=RegExp("["+yW+dW+mW+gW+"]");function xW(t){return vW.test(t)}var qD=xW;function _W(t){return t.split("")}var wW=_W,GD="\\ud800-\\udfff",bW="\\u0300-\\u036f",EW="\\ufe20-\\ufe2f",SW="\\u20d0-\\u20ff",TW=bW+EW+SW,AW="\\ufe0e\\ufe0f",IW="["+GD+"]",xx="["+TW+"]",_x="\\ud83c[\\udffb-\\udfff]",CW="(?:"+xx+"|"+_x+")",zD="[^"+GD+"]",HD="(?:\\ud83c[\\udde6-\\uddff]){2}",WD="[\\ud800-\\udbff][\\udc00-\\udfff]",PW="\\u200d",KD=CW+"?",JD="["+AW+"]?",NW="(?:"+PW+"(?:"+[zD,HD,WD].join("|")+")"+JD+KD+")*",kW=JD+KD+NW,RW="(?:"+[zD+xx+"?",xx,HD,WD,IW].join("|")+")",MW=RegExp(_x+"(?="+_x+")|"+RW+kW,"g");function OW(t){return t.match(MW)||[]}var DW=OW,LW=wW,jW=qD,$W=DW;function UW(t){return jW(t)?$W(t):LW(t)}var VW=UW,FW=cW,BW=qD,qW=VW,GW=jD;function zW(t){return function(e){e=GW(e);var n=BW(e)?qW(e):void 0,r=n?n[0]:e.charAt(0),i=n?FW(n,1).join(""):e.slice(1);return r[t]()+i}}var HW=zW,WW=HW,KW=WW("toUpperCase"),JW=KW;const Rg=it(JW);function ot(t){return function(){return t}}const YD=Math.cos,Cp=Math.sin,$r=Math.sqrt,Pp=Math.PI,Mg=2*Pp,wx=Math.PI,bx=2*wx,as=1e-6,YW=bx-as;function XD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class QW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XD:XW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>as)if(!(Math.abs(d*l-u*c)>as)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,x=i-a,w=l*l+u*u,v=y*y+x*x,_=Math.sqrt(w),b=Math.sqrt(h),S=o*Math.tan((wx-Math.acos((w+h-v)/(2*_*b)))/2),N=S/b,A=S/_;Math.abs(N-1)>as&&this._append`L${e+N*c},${n+N*d}`,this._append`A${o},${o},0,0,${+(d*y>c*x)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>as||Math.abs(this._y1-c)>as)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%bx+bx),h>YW?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>as&&this._append`A${r},${r},0,${+(h>=wx)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new QW(e)}function sE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QD(t){this._context=t}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Og(t){return new QD(t)}function ZD(t){return t[0]}function eL(t){return t[1]}function tL(t,e){var n=ot(!0),r=null,i=Og,o=null,s=oE(a);t=typeof t=="function"?t:t===void 0?ZD:ot(t),e=typeof e=="function"?e:e===void 0?eL:ot(e);function a(l){var u,c=(l=sE(l)).length,d,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ot(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ot(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ot(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Wf(t,e,n){var r=null,i=ot(!0),o=null,s=Og,a=null,l=oE(u);t=typeof t=="function"?t:t===void 0?ZD:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eL:ot(+n);function u(d){var h,y,x,w=(d=sE(d)).length,v,_=!1,b,S=new Array(w),N=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(v=d[h],h,d))===_)if(_=!_)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=h-1;x>=y;--x)a.point(S[x],N[x]);a.lineEnd(),a.areaEnd()}_&&(S[h]=+t(v,h,d),N[h]=+e(v,h,d),a.point(r?+r(v,h,d):S[h],n?+n(v,h,d):N[h]))}if(b)return a=null,b+""||null}function c(){return tL().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ot(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ot(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ot(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class nL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZW(t){return new nL(t,!0)}function eK(t){return new nL(t,!1)}const aE={draw(t,e){const n=$r(e/Pp);t.moveTo(n,0),t.arc(0,0,n,0,Mg)}},tK={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rL=$r(1/3),nK=rL*2,rK={draw(t,e){const n=$r(e/nK),r=n*rL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iK={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},oK=.8908130915292852,iL=Cp(Pp/10)/Cp(7*Pp/10),sK=Cp(Mg/10)*iL,aK=-YD(Mg/10)*iL,lK={draw(t,e){const n=$r(e*oK),r=sK*n,i=aK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Mg*o/5,a=YD(s),l=Cp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},mv=$r(3),uK={draw(t,e){const n=-$r(e/(mv*3));t.moveTo(0,n*2),t.lineTo(-mv*n,-n),t.lineTo(mv*n,-n),t.closePath()}},nr=-.5,rr=$r(3)/2,Ex=1/$r(12),cK=(Ex/2+1)*3,dK={draw(t,e){const n=$r(e/cK),r=n/2,i=n*Ex,o=r,s=n*Ex+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(nr*r-rr*i,rr*r+nr*i),t.lineTo(nr*o-rr*s,rr*o+nr*s),t.lineTo(nr*a-rr*l,rr*a+nr*l),t.lineTo(nr*r+rr*i,nr*i-rr*r),t.lineTo(nr*o+rr*s,nr*s-rr*o),t.lineTo(nr*a+rr*l,nr*l-rr*a),t.closePath()}};function fK(t,e){let n=null,r=oE(i);t=typeof t=="function"?t:ot(t||aE),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Np(){}function kp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oL(t){this._context=t}oL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hK(t){return new oL(t)}function sL(t){this._context=t}sL.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pK(t){return new sL(t)}function aL(t){this._context=t}aL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mK(t){return new aL(t)}function lL(t){this._context=t}lL.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gK(t){return new lL(t)}function $A(t){return t<0?-1:1}function UA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return($A(o)+$A(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function VA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Rp(t){this._context=t}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gv(this,this._t0,VA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gv(this,VA(this,n=UA(this,t,e)),n);break;default:gv(this,this._t0,n=UA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uL(t){this._context=new cL(t)}(uL.prototype=Object.create(Rp.prototype)).point=function(t,e){Rp.prototype.point.call(this,e,t)};function cL(t){this._context=t}cL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function yK(t){return new Rp(t)}function vK(t){return new uL(t)}function dL(t){this._context=t}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FA(t),i=FA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function xK(t){return new dL(t)}function Dg(t,e){this._context=t,this._t=e}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _K(t){return new Dg(t,.5)}function wK(t){return new Dg(t,0)}function bK(t){return new Dg(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function EK(t,e){return t[e]}function SK(t){const e=[];return e.key=t,e}function TK(){var t=ot([]),e=Sx,n=fl,r=EK;function i(o){var s=Array.from(t.apply(this,arguments),SK),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=sE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Sx:typeof o=="function"?o:ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fl,i):n},i}function AK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function IK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fl(t,e)}}function CK(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,y=(d-h)/2,x=0;x<a;++x){var w=t[e[x]],v=w[r][1]||0,_=w[r-1][1]||0;y+=v-_}l+=d,u+=y*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var PK=["type","size","sizeType"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(this,arguments)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){NK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NK(t,e,n){return e=kK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=RK(t,"string");return zc(e)=="symbol"?e:e+""}function RK(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MK(t,e){if(t==null)return{};var n=OK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fL={symbolCircle:aE,symbolCross:tK,symbolDiamond:rK,symbolSquare:iK,symbolStar:lK,symbolTriangle:uK,symbolWye:dK},DK=Math.PI/180,LK=function(e){var n="symbol".concat(Rg(e));return fL[n]||aE},jK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*DK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$K=function(e,n){fL["symbol".concat(Rg(e))]=n},lE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=MK(e,PK),u=qA(qA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var v=LK(r),_=fK().type(v).size(jK(o,a,r));return _()},d=u.className,h=u.cx,y=u.cy,x=Me(u,!0);return h===+h&&y===+y&&o===+o?$.createElement("path",Tx({},x,{className:Be("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};lE.registerSymbol=$K;function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){Hc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pL(r.key),r)}}function BK(t,e,n){return e&&FK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qK(t,e,n){return e=Mp(e),GK(t,hL()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function GK(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zK(t)}function zK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function HK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ix(t,e)}function Ix(t,e){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ix(t,e)}function Hc(t,e,n){return e=pL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pL(t){var e=WK(t,"string");return hl(e)=="symbol"?e:e+""}function WK(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ir=32,uE=function(t){function e(){return VK(this,e),qK(this,e,arguments)}return HK(e,t),BK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ir/2,s=ir/6,a=ir/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ir,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ir,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ir/8,"h").concat(ir,"v").concat(ir*3/4,"h").concat(-ir,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=UK({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(lE,{fill:l,cx:o,cy:o,size:ir,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ir,height:ir},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,x){var w=y.formatter||l,v=Be(Hc(Hc({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=ke(y.value)?null:y.value;bi(!ke(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return $.createElement("li",Ax({className:v,style:d,key:"legend-item-".concat(x)},Ip(r.props,y,x)),$.createElement(yx,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w?w(_,y,x):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(j.PureComponent);Hc(uE,"displayName","Legend");Hc(uE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KK=xg;function JK(){this.__data__=new KK,this.size=0}var YK=JK;function XK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var QK=XK;function ZK(t){return this.__data__.get(t)}var eJ=ZK;function tJ(t){return this.__data__.has(t)}var nJ=tJ,rJ=xg,iJ=Yb,oJ=Xb,sJ=200;function aJ(t,e){var n=this.__data__;if(n instanceof rJ){var r=n.__data__;if(!iJ||r.length<sJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new oJ(r)}return n.set(t,e),this.size=n.size,this}var lJ=aJ,uJ=xg,cJ=YK,dJ=QK,fJ=eJ,hJ=nJ,pJ=lJ;function Jl(t){var e=this.__data__=new uJ(t);this.size=e.size}Jl.prototype.clear=cJ;Jl.prototype.delete=dJ;Jl.prototype.get=fJ;Jl.prototype.has=hJ;Jl.prototype.set=pJ;var mL=Jl,mJ="__lodash_hash_undefined__";function gJ(t){return this.__data__.set(t,mJ),this}var yJ=gJ;function vJ(t){return this.__data__.has(t)}var xJ=vJ,_J=Xb,wJ=yJ,bJ=xJ;function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _J;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=wJ;Op.prototype.has=bJ;var gL=Op;function EJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yL=EJ;function SJ(t,e){return t.has(e)}var vL=SJ,TJ=gL,AJ=yL,IJ=vL,CJ=1,PJ=2;function NJ(t,e,n,r,i,o){var s=n&CJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,y=n&PJ?new TJ:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var x=t[d],w=e[d];if(r)var v=s?r(w,x,d,e,t,o):r(x,w,d,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(y){if(!AJ(e,function(_,b){if(!IJ(y,b)&&(x===_||i(x,_,n,r,o)))return y.push(b)})){h=!1;break}}else if(!(x===w||i(x,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var xL=NJ,kJ=ii,RJ=kJ.Uint8Array,MJ=RJ;function OJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var DJ=OJ;function LJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cE=LJ,zA=Wd,HA=MJ,jJ=Jb,$J=xL,UJ=DJ,VJ=cE,FJ=1,BJ=2,qJ="[object Boolean]",GJ="[object Date]",zJ="[object Error]",HJ="[object Map]",WJ="[object Number]",KJ="[object RegExp]",JJ="[object Set]",YJ="[object String]",XJ="[object Symbol]",QJ="[object ArrayBuffer]",ZJ="[object DataView]",WA=zA?zA.prototype:void 0,yv=WA?WA.valueOf:void 0;function eY(t,e,n,r,i,o,s){switch(n){case ZJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case QJ:return!(t.byteLength!=e.byteLength||!o(new HA(t),new HA(e)));case qJ:case GJ:case WJ:return jJ(+t,+e);case zJ:return t.name==e.name&&t.message==e.message;case KJ:case YJ:return t==e+"";case HJ:var a=UJ;case JJ:var l=r&FJ;if(a||(a=VJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=BJ,s.set(t,e);var c=$J(a(t),a(e),r,i,o,s);return s.delete(t),c;case XJ:if(yv)return yv.call(t)==yv.call(e)}return!1}var tY=eY;function nY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _L=nY,rY=_L,iY=Vn;function oY(t,e,n){var r=e(t);return iY(t)?r:rY(r,n(t))}var sY=oY;function aY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var lY=aY;function uY(){return[]}var cY=uY,dY=lY,fY=cY,hY=Object.prototype,pY=hY.propertyIsEnumerable,KA=Object.getOwnPropertySymbols,mY=KA?function(t){return t==null?[]:(t=Object(t),dY(KA(t),function(e){return pY.call(t,e)}))}:fY,gY=mY;function yY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vY=yY,xY=Bi,_Y=qi,wY="[object Arguments]";function bY(t){return _Y(t)&&xY(t)==wY}var EY=bY,JA=EY,SY=qi,wL=Object.prototype,TY=wL.hasOwnProperty,AY=wL.propertyIsEnumerable,IY=JA(function(){return arguments}())?JA:function(t){return SY(t)&&TY.call(t,"callee")&&!AY.call(t,"callee")},dE=IY,Dp={exports:{}};function CY(){return!1}var PY=CY;Dp.exports;(function(t,e){var n=ii,r=PY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Dp,Dp.exports);var bL=Dp.exports,NY=9007199254740991,kY=/^(?:0|[1-9]\d*)$/;function RY(t,e){var n=typeof t;return e=e??NY,!!e&&(n=="number"||n!="symbol"&&kY.test(t))&&t>-1&&t%1==0&&t<e}var fE=RY,MY=9007199254740991;function OY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MY}var hE=OY,DY=Bi,LY=hE,jY=qi,$Y="[object Arguments]",UY="[object Array]",VY="[object Boolean]",FY="[object Date]",BY="[object Error]",qY="[object Function]",GY="[object Map]",zY="[object Number]",HY="[object Object]",WY="[object RegExp]",KY="[object Set]",JY="[object String]",YY="[object WeakMap]",XY="[object ArrayBuffer]",QY="[object DataView]",ZY="[object Float32Array]",eX="[object Float64Array]",tX="[object Int8Array]",nX="[object Int16Array]",rX="[object Int32Array]",iX="[object Uint8Array]",oX="[object Uint8ClampedArray]",sX="[object Uint16Array]",aX="[object Uint32Array]",ct={};ct[ZY]=ct[eX]=ct[tX]=ct[nX]=ct[rX]=ct[iX]=ct[oX]=ct[sX]=ct[aX]=!0;ct[$Y]=ct[UY]=ct[XY]=ct[VY]=ct[QY]=ct[FY]=ct[BY]=ct[qY]=ct[GY]=ct[zY]=ct[HY]=ct[WY]=ct[KY]=ct[JY]=ct[YY]=!1;function lX(t){return jY(t)&&LY(t.length)&&!!ct[DY(t)]}var uX=lX;function cX(t){return function(e){return t(e)}}var EL=cX,Lp={exports:{}};Lp.exports;(function(t,e){var n=kD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Lp,Lp.exports);var dX=Lp.exports,fX=uX,hX=EL,YA=dX,XA=YA&&YA.isTypedArray,pX=XA?hX(XA):fX,SL=pX,mX=vY,gX=dE,yX=Vn,vX=bL,xX=fE,_X=SL,wX=Object.prototype,bX=wX.hasOwnProperty;function EX(t,e){var n=yX(t),r=!n&&gX(t),i=!n&&!r&&vX(t),o=!n&&!r&&!i&&_X(t),s=n||r||i||o,a=s?mX(t.length,String):[],l=a.length;for(var u in t)(e||bX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xX(u,l)))&&a.push(u);return a}var SX=EX,TX=Object.prototype;function AX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TX;return t===n}var IX=AX;function CX(t,e){return function(n){return t(e(n))}}var TL=CX,PX=TL,NX=PX(Object.keys,Object),kX=NX,RX=IX,MX=kX,OX=Object.prototype,DX=OX.hasOwnProperty;function LX(t){if(!RX(t))return MX(t);var e=[];for(var n in Object(t))DX.call(t,n)&&n!="constructor"&&e.push(n);return e}var jX=LX,$X=Kb,UX=hE;function VX(t){return t!=null&&UX(t.length)&&!$X(t)}var Jd=VX,FX=SX,BX=jX,qX=Jd;function GX(t){return qX(t)?FX(t):BX(t)}var Lg=GX,zX=sY,HX=gY,WX=Lg;function KX(t){return zX(t,WX,HX)}var JX=KX,QA=JX,YX=1,XX=Object.prototype,QX=XX.hasOwnProperty;function ZX(t,e,n,r,i,o){var s=n&YX,a=QA(t),l=a.length,u=QA(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:QX.call(e,h)))return!1}var y=o.get(t),x=o.get(e);if(y&&x)return y==e&&x==t;var w=!0;o.set(t,e),o.set(e,t);for(var v=s;++d<l;){h=a[d];var _=t[h],b=e[h];if(r)var S=s?r(b,_,h,e,t,o):r(_,b,h,t,e,o);if(!(S===void 0?_===b||i(_,b,n,r,o):S)){w=!1;break}v||(v=h=="constructor")}if(w&&!v){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return o.delete(t),o.delete(e),w}var eQ=ZX,tQ=Ws,nQ=ii,rQ=tQ(nQ,"DataView"),iQ=rQ,oQ=Ws,sQ=ii,aQ=oQ(sQ,"Promise"),lQ=aQ,uQ=Ws,cQ=ii,dQ=uQ(cQ,"Set"),AL=dQ,fQ=Ws,hQ=ii,pQ=fQ(hQ,"WeakMap"),mQ=pQ,Cx=iQ,Px=Yb,Nx=lQ,kx=AL,Rx=mQ,IL=Bi,Yl=MD,ZA="[object Map]",gQ="[object Object]",eI="[object Promise]",tI="[object Set]",nI="[object WeakMap]",rI="[object DataView]",yQ=Yl(Cx),vQ=Yl(Px),xQ=Yl(Nx),_Q=Yl(kx),wQ=Yl(Rx),ls=IL;(Cx&&ls(new Cx(new ArrayBuffer(1)))!=rI||Px&&ls(new Px)!=ZA||Nx&&ls(Nx.resolve())!=eI||kx&&ls(new kx)!=tI||Rx&&ls(new Rx)!=nI)&&(ls=function(t){var e=IL(t),n=e==gQ?t.constructor:void 0,r=n?Yl(n):"";if(r)switch(r){case yQ:return rI;case vQ:return ZA;case xQ:return eI;case _Q:return tI;case wQ:return nI}return e});var bQ=ls,vv=mL,EQ=xL,SQ=tY,TQ=eQ,iI=bQ,oI=Vn,sI=bL,AQ=SL,IQ=1,aI="[object Arguments]",lI="[object Array]",Kf="[object Object]",CQ=Object.prototype,uI=CQ.hasOwnProperty;function PQ(t,e,n,r,i,o){var s=oI(t),a=oI(e),l=s?lI:iI(t),u=a?lI:iI(e);l=l==aI?Kf:l,u=u==aI?Kf:u;var c=l==Kf,d=u==Kf,h=l==u;if(h&&sI(t)){if(!sI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new vv),s||AQ(t)?EQ(t,e,n,r,i,o):SQ(t,e,l,n,r,i,o);if(!(n&IQ)){var y=c&&uI.call(t,"__wrapped__"),x=d&&uI.call(e,"__wrapped__");if(y||x){var w=y?t.value():t,v=x?e.value():e;return o||(o=new vv),i(w,v,n,r,o)}}return h?(o||(o=new vv),TQ(t,e,n,r,i,o)):!1}var NQ=PQ,kQ=NQ,cI=qi;function CL(t,e,n,r,i){return t===e?!0:t==null||e==null||!cI(t)&&!cI(e)?t!==t&&e!==e:kQ(t,e,n,r,CL,i)}var pE=CL,RQ=mL,MQ=pE,OQ=1,DQ=2;function LQ(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new RQ;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?MQ(c,u,OQ|DQ,r,d):h))return!1}}return!0}var jQ=LQ,$Q=qo;function UQ(t){return t===t&&!$Q(t)}var PL=UQ,VQ=PL,FQ=Lg;function BQ(t){for(var e=FQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,VQ(i)]}return e}var qQ=BQ;function GQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var NL=GQ,zQ=jQ,HQ=qQ,WQ=NL;function KQ(t){var e=HQ(t);return e.length==1&&e[0][2]?WQ(e[0][0],e[0][1]):function(n){return n===t||zQ(n,t,e)}}var JQ=KQ;function YQ(t,e){return t!=null&&e in Object(t)}var XQ=YQ,QQ=$D,ZQ=dE,eZ=Vn,tZ=fE,nZ=hE,rZ=wg;function iZ(t,e,n){e=QQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=rZ(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&nZ(i)&&tZ(s,i)&&(eZ(t)||ZQ(t)))}var oZ=iZ,sZ=XQ,aZ=oZ;function lZ(t,e){return t!=null&&aZ(t,e,sZ)}var uZ=lZ,cZ=pE,dZ=UD,fZ=uZ,hZ=Wb,pZ=PL,mZ=NL,gZ=wg,yZ=1,vZ=2;function xZ(t,e){return hZ(t)&&pZ(e)?mZ(gZ(t),e):function(n){var r=dZ(n,t);return r===void 0&&r===e?fZ(n,t):cZ(e,r,yZ|vZ)}}var _Z=xZ;function wZ(t){return t}var Xl=wZ;function bZ(t){return function(e){return e==null?void 0:e[t]}}var EZ=bZ,SZ=eE;function TZ(t){return function(e){return SZ(e,t)}}var AZ=TZ,IZ=EZ,CZ=AZ,PZ=Wb,NZ=wg;function kZ(t){return PZ(t)?IZ(NZ(t)):CZ(t)}var RZ=kZ,MZ=JQ,OZ=_Z,DZ=Xl,LZ=Vn,jZ=RZ;function $Z(t){return typeof t=="function"?t:t==null?DZ:typeof t=="object"?LZ(t)?OZ(t[0],t[1]):MZ(t):jZ(t)}var Go=$Z;function UZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var kL=UZ;function VZ(t){return t!==t}var FZ=VZ;function BZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qZ=BZ,GZ=kL,zZ=FZ,HZ=qZ;function WZ(t,e,n){return e===e?HZ(t,e,n):GZ(t,zZ,n)}var KZ=WZ,JZ=KZ;function YZ(t,e){var n=t==null?0:t.length;return!!n&&JZ(t,e,0)>-1}var XZ=YZ;function QZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ZZ=QZ;function eee(){}var tee=eee,xv=AL,nee=tee,ree=cE,iee=1/0,oee=xv&&1/ree(new xv([,-0]))[1]==iee?function(t){return new xv(t)}:nee,see=oee,aee=gL,lee=XZ,uee=ZZ,cee=vL,dee=see,fee=cE,hee=200;function pee(t,e,n){var r=-1,i=lee,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=uee;else if(o>=hee){var u=e?null:dee(t);if(u)return fee(u);s=!1,i=cee,l=new aee}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var mee=pee,gee=Go,yee=mee;function vee(t,e){return t&&t.length?yee(t,gee(e)):[]}var xee=vee;const dI=it(xee);function RL(t,e,n){return e===!0?dI(t,n):ke(e)?dI(t,e):t}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}var _ee=["ref"];function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function bee(t,e,n){return e&&hI(t.prototype,e),n&&hI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eee(t,e,n){return e=jp(e),See(t,ML()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function See(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(t)}function Tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function Aee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mx(t,e)}function Mx(t,e){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mx(t,e)}function jg(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=Iee(t,"string");return pl(e)=="symbol"?e:e+""}function Iee(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cee(t,e){if(t==null)return{};var n=Pee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nee(t){return t.value}function kee(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Cee(e,_ee);return $.createElement(uE,n)}var pI=1,qa=function(t){function e(){var n;wee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Eee(this,e,[].concat(i)),jg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Aee(e,t),bee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pI||Math.abs(i.height-this.lastBoundingBox.height)>pI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();h={top:((c||0)-x.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return li(li({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=li(li({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},kee(o,li(li({},this.props),{},{payload:RL(c,u,Nee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=li(li({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&se(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);jg(qa,"displayName","Legend");jg(qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mI=Wd,Ree=dE,Mee=Vn,gI=mI?mI.isConcatSpreadable:void 0;function Oee(t){return Mee(t)||Ree(t)||!!(gI&&t&&t[gI])}var Dee=Oee,Lee=_L,jee=Dee;function DL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=jee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?DL(a,e-1,n,r,i):Lee(i,a):r||(i[i.length]=a)}return i}var LL=DL;function $ee(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Uee=$ee,Vee=Uee,Fee=Vee(),Bee=Fee,qee=Bee,Gee=Lg;function zee(t,e){return t&&qee(t,e,Gee)}var jL=zee,Hee=Jd;function Wee(t,e){return function(n,r){if(n==null)return n;if(!Hee(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Kee=Wee,Jee=jL,Yee=Kee,Xee=Yee(Jee),mE=Xee,Qee=mE,Zee=Jd;function ete(t,e){var n=-1,r=Zee(t)?Array(t.length):[];return Qee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var $L=ete;function tte(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var nte=tte,yI=ql;function rte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=yI(t),s=e!==void 0,a=e===null,l=e===e,u=yI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var ite=rte,ote=ite;function ste(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=ote(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ate=ste,_v=Zb,lte=eE,ute=Go,cte=$L,dte=nte,fte=EL,hte=ate,pte=Xl,mte=Vn;function gte(t,e,n){e.length?e=_v(e,function(o){return mte(o)?function(s){return lte(s,o.length===1?o[0]:o)}:o}):e=[pte];var r=-1;e=_v(e,fte(ute));var i=cte(t,function(o,s,a){var l=_v(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return dte(i,function(o,s){return hte(o,s,n)})}var yte=gte;function vte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var xte=vte,_te=xte,vI=Math.max;function wte(t,e,n){return e=vI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=vI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),_te(t,this,a)}}var bte=wte;function Ete(t){return function(){return t}}var Ste=Ete,Tte=Ws,Ate=function(){try{var t=Tte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UL=Ate,Ite=Ste,xI=UL,Cte=Xl,Pte=xI?function(t,e){return xI(t,"toString",{configurable:!0,enumerable:!1,value:Ite(e),writable:!0})}:Cte,Nte=Pte,kte=800,Rte=16,Mte=Date.now;function Ote(t){var e=0,n=0;return function(){var r=Mte(),i=Rte-(r-n);if(n=r,i>0){if(++e>=kte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Dte=Ote,Lte=Nte,jte=Dte,$te=jte(Lte),Ute=$te,Vte=Xl,Fte=bte,Bte=Ute;function qte(t,e){return Bte(Fte(t,e,Vte),t+"")}var Gte=qte,zte=Jb,Hte=Jd,Wte=fE,Kte=qo;function Jte(t,e,n){if(!Kte(n))return!1;var r=typeof e;return(r=="number"?Hte(n)&&Wte(e,n.length):r=="string"&&e in n)?zte(n[e],t):!1}var $g=Jte,Yte=LL,Xte=yte,Qte=Gte,_I=$g,Zte=Qte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_I(t,e[0],e[1])?e=[]:n>2&&_I(e[0],e[1],e[2])&&(e=[e[0]]),Xte(t,Yte(e,1),[])}),ene=Zte;const gE=it(ene);function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(this,arguments)}function tne(t,e){return one(t)||ine(t,e)||rne(t,e)||nne()}function nne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(t,e){if(t){if(typeof t=="string")return wI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wI(t,e)}}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ine(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function one(t){if(Array.isArray(t))return t}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return e=ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ane(t){var e=lne(t,"string");return Wc(e)=="symbol"?e:e+""}function lne(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function une(t){return Array.isArray(t)&&$t(t[0])&&$t(t[1])?t.join(" ~ "):t}var cne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,y=e.wrapperClassName,x=e.labelClassName,w=e.label,v=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,S=function(){if(c&&c.length){var D={padding:0,margin:0},M=(h?gE(c,h):c).map(function(V,F){if(V.type==="none")return null;var z=wv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},a),K=V.formatter||d||une,U=V.value,J=V.name,Q=U,ie=J;if(K&&Q!=null&&ie!=null){var ee=K(U,J,V,F,c);if(Array.isArray(ee)){var le=tne(ee,2);Q=le[0],ie=le[1]}else Q=ee}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:z},$t(ie)?$.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,$t(ie)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Q),$.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},N=wv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=wv({margin:0},u),P=!Le(w),T=P?w:"",C=Be("recharts-default-tooltip",y),I=Be("recharts-tooltip-label",x);P&&v&&c!==void 0&&c!==null&&(T=v(w,c));var R=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Ox({className:C,style:N},R),$.createElement("p",{className:I,style:A},$.isValidElement(T)?T:"".concat(T)),S())};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Jf(t,e,n){return e=dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=fne(t,"string");return Kc(e)=="symbol"?e:e+""}function fne(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu="recharts-tooltip-wrapper",hne={visibility:"hidden"};function pne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Be(Pu,Jf(Jf(Jf(Jf({},"".concat(Pu,"-right"),se(n)&&e&&se(e.x)&&n>=e.x),"".concat(Pu,"-left"),se(n)&&e&&se(e.x)&&n<e.x),"".concat(Pu,"-bottom"),se(r)&&e&&se(e.y)&&r>=e.y),"".concat(Pu,"-top"),se(r)&&e&&se(e.y)&&r<e.y))}function EI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&se(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,y=l[r];return h<y?Math.max(d,l[r]):Math.max(c,l[r])}var x=d+a,w=l[r]+u;return x>w?Math.max(c,l[r]):Math.max(d,l[r])}function mne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=EI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=EI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=mne({translateX:c,translateY:d,useTranslate3d:a})):u=hne,{cssProperties:u,cssClasses:pne({translateX:c,translateY:d,coordinate:n})}}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FL(r.key),r)}}function xne(t,e,n){return e&&vne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ne(t,e,n){return e=$p(e),wne(t,VL()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function wne(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bne(t)}function bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dx(t,e)}function Lx(t,e,n){return e=FL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FL(t){var e=Sne(t,"string");return ml(e)=="symbol"?e:e+""}function Sne(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AI=1,Tne=function(t){function e(){var n;yne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_ne(this,e,[].concat(i)),Lx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Lx(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Ene(e,t),xne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AI||Math.abs(r.height-this.state.lastBoundingBox.height)>AI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,y=i.offset,x=i.position,w=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,S=gne({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:x,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),N=S.cssClasses,A=S.cssProperties,P=TI(TI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(C){r.wrapperNode=C}},u)}}])}(j.PureComponent),Ane=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ql={isSsr:Ane()};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){yE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qL(r.key),r)}}function Pne(t,e,n){return e&&Cne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=Up(e),kne(t,BL()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function kne(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jx(t,e)}function jx(t,e){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jx(t,e)}function yE(t,e,n){return e=qL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qL(t){var e=One(t,"string");return gl(e)=="symbol"?e:e+""}function One(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dne(t){return t.dataKey}function Lne(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(cne,e)}var Br=function(t){function e(){return Ine(this,e),Nne(this,e,arguments)}return Mne(e,t),Pne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,y=i.offset,x=i.payload,w=i.payloadUniqBy,v=i.position,_=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,A=x??[];d&&A.length&&(A=RL(x.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),w,Dne));var P=A.length>0;return $.createElement(Tne,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:y,position:v,reverseDirection:_,useTranslate3d:b,viewBox:S,wrapperStyle:N},Lne(u,CI(CI({},this.props),{},{payload:A})))}}])}(j.PureComponent);yE(Br,"displayName","Tooltip");yE(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ql.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jne=ii,$ne=function(){return jne.Date.now()},Une=$ne,Vne=/\s/;function Fne(t){for(var e=t.length;e--&&Vne.test(t.charAt(e)););return e}var Bne=Fne,qne=Bne,Gne=/^\s+/;function zne(t){return t&&t.slice(0,qne(t)+1).replace(Gne,"")}var Hne=zne,Wne=Hne,PI=qo,Kne=ql,NI=NaN,Jne=/^[-+]0x[0-9a-f]+$/i,Yne=/^0b[01]+$/i,Xne=/^0o[0-7]+$/i,Qne=parseInt;function Zne(t){if(typeof t=="number")return t;if(Kne(t))return NI;if(PI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=PI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wne(t);var n=Yne.test(t);return n||Xne.test(t)?Qne(t.slice(2),n?2:8):Jne.test(t)?NI:+t}var GL=Zne,ere=qo,bv=Une,kI=GL,tre="Expected a function",nre=Math.max,rre=Math.min;function ire(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(tre);e=kI(e)||0,ere(n)&&(c=!!n.leading,d="maxWait"in n,o=d?nre(kI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(P){var T=r,C=i;return r=i=void 0,u=P,s=t.apply(C,T),s}function x(P){return u=P,a=setTimeout(_,e),c?y(P):s}function w(P){var T=P-l,C=P-u,I=e-T;return d?rre(I,o-C):I}function v(P){var T=P-l,C=P-u;return l===void 0||T>=e||T<0||d&&C>=o}function _(){var P=bv();if(v(P))return b(P);a=setTimeout(_,w(P))}function b(P){return a=void 0,h&&r?y(P):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:b(bv())}function A(){var P=bv(),T=v(P);if(r=arguments,i=this,l=P,T){if(a===void 0)return x(l);if(d)return clearTimeout(a),a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),s}return A.cancel=S,A.flush=N,A}var ore=ire,sre=ore,are=qo,lre="Expected a function";function ure(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lre);return are(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sre(t,e,{leading:r,maxWait:e,trailing:i})}var cre=ure;const zL=it(cre);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return e=fre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return Jc(e)=="symbol"?e:e+""}function hre(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pre(t,e){return vre(t)||yre(t,e)||gre(t,e)||mre()}function mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vre(t){if(Array.isArray(t))return t}var xre=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,y=t.children,x=t.debounce,w=x===void 0?0:x,v=t.id,_=t.className,b=t.onResize,S=t.style,N=S===void 0?{}:S,A=j.useRef(null),P=j.useRef();P.current=b,j.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var T=j.useState({containerWidth:i.width,containerHeight:i.height}),C=pre(T,2),I=C[0],R=C[1],O=j.useCallback(function(M,V){R(function(F){var z=Math.round(M),K=Math.round(V);return F.containerWidth===z&&F.containerHeight===K?F:{containerWidth:z,containerHeight:K}})},[]);j.useEffect(function(){var M=function(J){var Q,ie=J[0].contentRect,ee=ie.width,le=ie.height;O(ee,le),(Q=P.current)===null||Q===void 0||Q.call(P,ee,le)};w>0&&(M=zL(M,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(M),F=A.current.getBoundingClientRect(),z=F.width,K=F.height;return O(z,K),V.observe(A.current),function(){V.disconnect()}},[O,w]);var D=j.useMemo(function(){var M=I.containerWidth,V=I.containerHeight;if(M<0||V<0)return null;bi(ms(s)||ms(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=ms(s)?M:s,z=ms(l)?V:l;n&&n>0&&(F?z=F/n:z&&(F=z*n),h&&z>h&&(z=h)),bi(F>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,z,s,l,c,d,n);var K=!Array.isArray(y)&&wi(y.type).endsWith("Chart");return $.Children.map(y,function(U){return $.isValidElement(U)?j.cloneElement(U,Yf({width:F,height:z},K?{style:Yf({height:"100%",width:"100%",maxHeight:z,maxWidth:F},U.props.style)}:{})):U})},[n,y,l,h,d,c,I,s]);return $.createElement("div",{id:v?"".concat(v):void 0,className:Be("recharts-responsive-container",_),style:Yf(Yf({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:A},D)}),HL=function(e){return null};HL.displayName="Cell";function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return e=wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=bre(t,"string");return Yc(e)=="symbol"?e:e+""}function bre(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oa={widthCache:{},cacheCount:0},Ere=2e3,Sre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DI="recharts_measurement_span";function Tre(t){var e=$x({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ql.isSsr)return{width:0,height:0};var r=Tre(n),i=JSON.stringify({text:e,copyStyle:r});if(oa.widthCache[i])return oa.widthCache[i];try{var o=document.getElementById(DI);o||(o=document.createElement("span"),o.setAttribute("id",DI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=$x($x({},Sre),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return oa.widthCache[i]=l,++oa.cacheCount>Ere&&(oa.cacheCount=0,oa.widthCache={}),l}catch{return{width:0,height:0}}},Are=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Vp(t,e){return Nre(t)||Pre(t,e)||Cre(t,e)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return LI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(t,e)}}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Nre(t){if(Array.isArray(t))return t}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mre(r.key),r)}}function Rre(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t){var e=Ore(t,"string");return Xc(e)=="symbol"?e:e+""}function Ore(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jre=Object.keys(WL),Ta="NaN";function $re(t,e){return t*WL[e]}var Xf=function(){function t(e,n){kre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Dre.test(n)&&(this.num=NaN,this.unit=""),jre.includes(n)&&(this.num=$re(e,n),this.unit="px")}return Rre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Lre.exec(n))!==null&&r!==void 0?r:[],o=Vp(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function KL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=$I.exec(e))!==null&&n!==void 0?n:[],i=Vp(r,4),o=i[1],s=i[2],a=i[3],l=Xf.parse(o??""),u=Xf.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace($I,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=UI.exec(e))!==null&&d!==void 0?d:[],y=Vp(h,4),x=y[1],w=y[2],v=y[3],_=Xf.parse(x??""),b=Xf.parse(v??""),S=w==="+"?_.add(b):_.subtract(b);if(S.isNaN())return Ta;e=e.replace(UI,S.toString())}return e}var VI=/\(([^()]*)\)/;function Ure(t){for(var e=t;e.includes("(");){var n=VI.exec(e),r=Vp(n,2),i=r[1];e=e.replace(VI,KL(i))}return e}function Vre(t){var e=t.replace(/\s+/g,"");return e=Ure(e),e=KL(e),e}function Fre(t){try{return Vre(t)}catch{return Ta}}function Ev(t){var e=Fre(t.slice(5,-1));return e===Ta?"":e}var Bre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qre=["dx","dy","angle","className","breakAll"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(this,arguments)}function FI(t,e){if(t==null)return{};var n=Gre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BI(t,e){return Kre(t)||Wre(t,e)||Hre(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Kre(t){if(Array.isArray(t))return t}var JL=/[ \f\n\r\t\v\u2028\u2029]+/,YL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Le(n)||(r?o=n.toString().split(""):o=n.toString().split(JL));var s=o.map(function(l){return{word:l,width:dc(l,i).width}}),a=r?0:dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Jre=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=se(s),d=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(z,K){var U=K.word,J=K.width,Q=z[z.length-1];if(Q&&(i==null||o||Q.width+J+r<Number(i)))Q.words.push(U),Q.width+=J+r;else{var ie={words:[U],width:J};z.push(ie)}return z},[])},y=h(n),x=function(F){return F.reduce(function(z,K){return z.width>K.width?z:K})};if(!c)return y;for(var w="",v=function(F){var z=d.slice(0,F),K=YL({breakAll:u,style:l,children:z+w}).wordsWithComputedWidth,U=h(K),J=U.length>s||x(U).width>Number(i);return[J,U]},_=0,b=d.length-1,S=0,N;_<=b&&S<=d.length-1;){var A=Math.floor((_+b)/2),P=A-1,T=v(P),C=BI(T,2),I=C[0],R=C[1],O=v(A),D=BI(O,1),M=D[0];if(!I&&!M&&(_=A+1),I&&M&&(b=A-1),!I&&M){N=R;break}S++}return N||y},GI=function(e){var n=Le(e)?[]:e.toString().split(JL);return[{words:n}]},Yre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Ql.isSsr){var l,u,c=YL({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return GI(i);return Jre({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return GI(i)},zI="#808080",Fp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,x=e.verticalAnchor,w=x===void 0?"end":x,v=e.fill,_=v===void 0?zI:v,b=FI(e,Bre),S=j.useMemo(function(){return Yre({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,A=b.dy,P=b.angle,T=b.className,C=b.breakAll,I=FI(b,qre);if(!$t(r)||!$t(o))return null;var R=r+(se(N)?N:0),O=o+(se(A)?A:0),D;switch(w){case"start":D=Ev("calc(".concat(u,")"));break;case"middle":D=Ev("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Ev("calc(".concat(S.length-1," * -").concat(a,")"));break}var M=[];if(d){var V=S[0].width,F=b.width;M.push("scale(".concat((se(F)?F/V:1)/V,")"))}return P&&M.push("rotate(".concat(P,", ").concat(R,", ").concat(O,")")),M.length&&(I.transform=M.join(" ")),$.createElement("text",Ux({},Me(I,!0),{x:R,y:O,className:Be("recharts-text",T),textAnchor:y,fill:_.includes("url")?zI:_}),S.map(function(z,K){var U=z.words.join(C?"":" ");return $.createElement("tspan",{x:R,dy:K===0?D:a,key:"".concat(U,"-").concat(K)},U)}))};function ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vE(t){let e,n,r;t.length!==2?(e=ko,n=(a,l)=>ko(t(a),l),r=(a,l)=>t(a)-l):(e=t===ko||t===Xre?t:Qre,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Qre(){return 0}function XL(t){return t===null?NaN:+t}function*Zre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const eie=vE(ko),Yd=eie.right;vE(XL).center;class HI extends Map{constructor(e,n=rie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(WI(this,e))}has(e){return super.has(WI(this,e))}set(e,n){return super.set(tie(this,e),n)}delete(e){return super.delete(nie(this,e))}}function WI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function tie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function nie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iie(t=ko){if(t===ko)return QL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function QL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oie=Math.sqrt(50),sie=Math.sqrt(10),aie=Math.sqrt(2);function Bp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=oie?10:o>=sie?5:o>=aie?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Bp(t,e,n*2):[a,l,u]}function Vx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Bp(e,t,n):Bp(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Fx(t,e,n){return e=+e,t=+t,n=+n,Bp(t,e,n)[2]}function Bx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fx(e,t,n):Fx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function KI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?QL:iie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*d/l+h)),x=Math.min(r,Math.floor(e+(l-u)*d/l+h));ZL(t,e,y,x,i)}const o=t[e];let s=n,a=r;for(Nu(t,n,e),i(t[r],o)>0&&Nu(t,n,r);s<a;){for(Nu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Nu(t,n,a):(++a,Nu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Nu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lie(t,e,n){if(t=Float64Array.from(Zre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JI(t);if(e>=1)return KI(t);var r,i=(r-1)*e,o=Math.floor(i),s=KI(ZL(t,o).subarray(0,o+1)),a=JI(t.subarray(o+1));return s+(a-s)*(i-o)}}function uie(t,e,n=XL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function cie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qx=Symbol("implicit");function xE(){var t=new HI,e=[],n=[],r=qx;function i(o){let s=t.get(o);if(s===void 0){if(r!==qx)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new HI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xE(e,n).unknown(r)},wr.apply(i,arguments),i}function Qc(){var t=xE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,y=i<r,x=y?i:r,w=y?r:i;o=(w-x)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),x+=(w-x-o*(h-l))*c,s=o*(1-l),a&&(x=Math.round(x),s=Math.round(s));var v=cie(h).map(function(_){return x+o*_});return n(y?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Qc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},wr.apply(d(),arguments)}function ej(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ej(e())},t}function fc(){return ej(Qc.apply(null,arguments).paddingInner(1))}function _E(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xd(){}var Zc=.7,qp=1/Zc,Ga="\\s*([+-]?\\d+)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",die=/^#([0-9a-f]{3,8})$/,fie=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),hie=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),pie=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${ed}\\)$`),mie=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${ed}\\)$`),gie=new RegExp(`^hsl\\(${ed},${Qr},${Qr}\\)$`),yie=new RegExp(`^hsla\\(${ed},${Qr},${Qr},${ed}\\)$`),YI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_E(Xd,td,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XI,formatHex:XI,formatHex8:vie,formatHsl:xie,formatRgb:QI,toString:QI});function XI(){return this.rgb().formatHex()}function vie(){return this.rgb().formatHex8()}function xie(){return nj(this).formatHsl()}function QI(){return this.rgb().formatRgb()}function td(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=die.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ZI(e):n===3?new Ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fie.exec(t))?new Ln(e[1],e[2],e[3],1):(e=hie.exec(t))?new Ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pie.exec(t))?Qf(e[1],e[2],e[3],e[4]):(e=mie.exec(t))?Qf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gie.exec(t))?nC(e[1],e[2]/100,e[3]/100,1):(e=yie.exec(t))?nC(e[1],e[2]/100,e[3]/100,e[4]):YI.hasOwnProperty(t)?ZI(YI[t]):t==="transparent"?new Ln(NaN,NaN,NaN,0):null}function ZI(t){return new Ln(t>>16&255,t>>8&255,t&255,1)}function Qf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ln(t,e,n,r)}function _ie(t){return t instanceof Xd||(t=td(t)),t?(t=t.rgb(),new Ln(t.r,t.g,t.b,t.opacity)):new Ln}function Gx(t,e,n,r){return arguments.length===1?_ie(t):new Ln(t,e,n,r??1)}function Ln(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_E(Ln,Gx,tj(Xd,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zc:Math.pow(Zc,t),new Ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ln(Ss(this.r),Ss(this.g),Ss(this.b),Gp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eC,formatHex:eC,formatHex8:wie,formatRgb:tC,toString:tC}));function eC(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function wie(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function tC(){const t=Gp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ss(this.r)}, ${Ss(this.g)}, ${Ss(this.b)}${t===1?")":`, ${t})`}`}function Gp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ss(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gs(t){return t=Ss(t),(t<16?"0":"")+t.toString(16)}function nC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pr(t,e,n,r)}function nj(t){if(t instanceof Pr)return new Pr(t.h,t.s,t.l,t.opacity);if(t instanceof Xd||(t=td(t)),!t)return new Pr;if(t instanceof Pr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Pr(s,a,l,t.opacity)}function bie(t,e,n,r){return arguments.length===1?nj(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_E(Pr,bie,tj(Xd,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Pr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zc:Math.pow(Zc,t),new Pr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ln(Sv(t>=240?t-240:t+120,i,r),Sv(t,i,r),Sv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pr(rC(this.h),Zf(this.s),Zf(this.l),Gp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gp(this.opacity);return`${t===1?"hsl(":"hsla("}${rC(this.h)}, ${Zf(this.s)*100}%, ${Zf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rC(t){return t=(t||0)%360,t<0?t+360:t}function Zf(t){return Math.max(0,Math.min(1,t||0))}function Sv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wE=t=>()=>t;function Eie(t,e){return function(n){return t+n*e}}function Sie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Tie(t){return(t=+t)==1?rj:function(e,n){return n-e?Sie(e,n,t):wE(isNaN(e)?n:e)}}function rj(t,e){var n=e-t;return n?Eie(t,n):wE(isNaN(t)?e:t)}const iC=function t(e){var n=Tie(e);function r(i,o){var s=n((i=Gx(i)).r,(o=Gx(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=rj(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Aie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Iie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Pie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tv=new RegExp(zx.source,"g");function kie(t){return function(){return t}}function Rie(t){return function(e){return t(e)+""}}function Mie(t,e){var n=zx.lastIndex=Tv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=zx.exec(t))&&(i=Tv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:zp(r,i)})),n=Tv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Rie(l[0].x):kie(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Zl(t,e){var n=typeof e,r;return e==null||n==="boolean"?wE(e):(n==="number"?zp:n==="string"?(r=td(e))?(e=r,iC):Mie:e instanceof td?iC:e instanceof Date?Pie:Iie(e)?Aie:Array.isArray(e)?Cie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nie:zp)(t,e)}function bE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Oie(t,e){e===void 0&&(e=t,t=Zl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Die(t){return function(){return t}}function Hp(t){return+t}var oC=[0,1];function Sn(t){return t}function Hx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Die(isNaN(e)?NaN:.5)}function Lie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jie(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Hx(i,r),o=n(s,o)):(r=Hx(r,i),o=n(o,s)),function(a){return o(r(a))}}function $ie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Hx(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Yd(t,a,1,r)-1;return o[l](i[l](a))}}function Qd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ug(){var t=oC,e=oC,n=Zl,r,i,o,s=Sn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==Sn&&(s=Lie(t[0],t[h-1])),a=h>2?$ie:jie,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),zp)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Hp),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=bE,c()},d.clamp=function(h){return arguments.length?(s=h?!0:Sn,c()):s!==Sn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,y){return r=h,i=y,c()}}function EE(){return Ug()(Sn,Sn)}function Uie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yl(t){return t=Wp(Math.abs(t)),t?t[1]:NaN}function Vie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Fie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nd(t){if(!(e=Bie.exec(t)))throw new Error("invalid format: "+t);var e;return new SE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nd.prototype=SE.prototype;function SE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Kp;function Gie(t,e){var n=Wp(t,e);if(!n)return Kp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Kp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wp(t,Math.max(0,e+o-1))[0]}function sC(t,e){var n=Wp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sC(t*100,e),r:sC,s:Gie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lC(t){return t}var uC=Array.prototype.map,cC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zie(t){var e=t.grouping===void 0||t.thousands===void 0?lC:Vie(uC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?lC:Fie(uC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=nd(d);var y=d.fill,x=d.align,w=d.sign,v=d.symbol,_=d.zero,b=d.width,S=d.comma,N=d.precision,A=d.trim,P=d.type;P==="n"?(S=!0,P="g"):aC[P]||(N===void 0&&(N=12),A=!0,P="g"),(_||y==="0"&&x==="=")&&(_=!0,y="0",x="=");var T=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),C=(v==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=aC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function O(D){var M=T,V=C,F,z,K;if(P==="c")V=I(D)+V,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),N),A&&(D=qie(D)),U&&+D==0&&w!=="+"&&(U=!1),M=(U?w==="("?w:a:w==="-"||w==="("?"":w)+M,V=(P==="s"&&!isNaN(D)&&Kp!==void 0?cC[8+Kp/3]:"")+V+(U&&w==="("?")":""),R){for(F=-1,z=D.length;++F<z;)if(K=D.charCodeAt(F),48>K||K>57){V=(K===46?i+D.slice(F+1):D.slice(F))+V,D=D.slice(0,F);break}}}S&&!_&&(D=e(D,1/0));var J=M.length+D.length+V.length,Q=J<b?new Array(b-J+1).join(y):"";switch(S&&_&&(D=e(Q+D,Q.length?b-V.length:1/0),Q=""),x){case"<":D=M+D+V+Q;break;case"=":D=M+Q+D+V;break;case"^":D=Q.slice(0,J=Q.length>>1)+M+D+V+Q.slice(J);break;default:D=Q+M+D+V;break}return o(D)}return O.toString=function(){return d+""},O}function c(d,h){var y=Math.max(-8,Math.min(8,Math.floor(yl(h)/3)))*3,x=Math.pow(10,-y),w=u((d=nd(d),d.type="f",d),{suffix:cC[8+y/3]});return function(v){return w(x*v)}}return{format:u,formatPrefix:c}}var eh,TE,ij;Hie({thousands:",",grouping:[3],currency:["$",""]});function Hie(t){return eh=zie(t),TE=eh.format,ij=eh.formatPrefix,eh}function Wie(t){return Math.max(0,-yl(Math.abs(t)))}function Kie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(e)/3)))*3-yl(Math.abs(t)))}function Jie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yl(e)-yl(t))+1}function oj(t,e,n,r){var i=Bx(t,e,n),o;switch(r=nd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Kie(i,s))&&(r.precision=o),ij(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Wie(i))&&(r.precision=o-(r.type==="%")*2);break}}return TE(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Vx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return oj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Fx(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Jp(){var t=EE();return t.copy=function(){return Qd(t,Jp())},wr.apply(t,arguments),zo(t)}function sj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Hp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sj(t).unknown(e)},t=arguments.length?Array.from(t,Hp):[0,1],zo(n)}function aj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function dC(t){return Math.log(t)}function fC(t){return Math.exp(t)}function Yie(t){return-Math.log(-t)}function Xie(t){return-Math.exp(-t)}function Qie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zie(t){return t===10?Qie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hC(t){return(e,n)=>-t(-e,n)}function AE(t){const e=t(dC,fC),n=e.domain;let r=10,i,o;function s(){return i=eoe(r),o=Zie(r),n()[0]<0?(i=hC(i),o=hC(o),t(Yie,Xie)):t(dC,fC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),y=i(c),x,w;const v=a==null?10:+a;let _=[];if(!(r%1)&&y-h<v){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(x=1;x<r;++x)if(w=h<0?x/o(-h):x*o(h),!(w<u)){if(w>c)break;_.push(w)}}else for(;h<=y;++h)for(x=r-1;x>=1;--x)if(w=h>0?x/o(-h):x*o(h),!(w<u)){if(w>c)break;_.push(w)}_.length*2<v&&(_=Vx(u,c,v))}else _=Vx(h,y,Math.min(y-h,v)).map(o);return d?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=nd(l)).precision==null&&(l.trim=!0),l=TE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(aj(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function lj(){const t=AE(Ug()).domain([1,10]);return t.copy=()=>Qd(t,lj()).base(t.base()),wr.apply(t,arguments),t}function pC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function IE(t){var e=1,n=t(pC(e),mC(e));return n.constant=function(r){return arguments.length?t(pC(e=+r),mC(e)):e},zo(n)}function uj(){var t=IE(Ug());return t.copy=function(){return Qd(t,uj()).constant(t.constant())},wr.apply(t,arguments)}function gC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function toe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function noe(t){return t<0?-t*t:t*t}function CE(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(toe,noe):t(gC(n),gC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function PE(){var t=CE(Ug());return t.copy=function(){return Qd(t,PE()).exponent(t.exponent())},wr.apply(t,arguments),t}function roe(){return PE.apply(null,arguments).exponent(.5)}function yC(t){return Math.sign(t)*t*t}function ioe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cj(){var t=EE(),e=[0,1],n=!1,r;function i(o){var s=ioe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(yC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Hp)).map(yC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wr.apply(i,arguments),zo(i)}function dj(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=uie(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Yd(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ko),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return dj().domain(t).range(e).unknown(r)},wr.apply(o,arguments)}function fj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Yd(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return fj().domain([t,e]).range(i).unknown(o)},wr.apply(zo(s),arguments)}function hj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Yd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return hj().domain(t).range(e).unknown(n)},wr.apply(i,arguments)}const Av=new Date,Iv=new Date;function Vt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Vt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Av.setTime(+o),Iv.setTime(+s),t(Av),t(Iv),Math.floor(n(Av,Iv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Yp=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yp);Yp.range;const yi=1e3,ur=yi*60,vi=ur*60,Oi=vi*24,NE=Oi*7,vC=Oi*30,Cv=Oi*365,ys=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());ys.range;const kE=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getMinutes());kE.range;const RE=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getUTCMinutes());RE.range;const ME=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*ur)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());ME.range;const OE=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());OE.range;const Zd=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ur)/Oi,t=>t.getDate()-1);Zd.range;const Vg=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);Vg.range;const pj=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));pj.range;function Ks(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ur)/NE)}const Fg=Ks(0),Xp=Ks(1),ooe=Ks(2),soe=Ks(3),vl=Ks(4),aoe=Ks(5),loe=Ks(6);Fg.range;Xp.range;ooe.range;soe.range;vl.range;aoe.range;loe.range;function Js(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NE)}const Bg=Js(0),Qp=Js(1),uoe=Js(2),coe=Js(3),xl=Js(4),doe=Js(5),foe=Js(6);Bg.range;Qp.range;uoe.range;coe.range;xl.range;doe.range;foe.range;const DE=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DE.range;const LE=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LE.range;const Di=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Di.range;const Li=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Li.range;function mj(t,e,n,r,i,o){const s=[[ys,1,yi],[ys,5,5*yi],[ys,15,15*yi],[ys,30,30*yi],[o,1,ur],[o,5,5*ur],[o,15,15*ur],[o,30,30*ur],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[r,1,Oi],[r,2,2*Oi],[n,1,NE],[e,1,vC],[e,3,3*vC],[t,1,Cv]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const y=d&&typeof d.range=="function"?d:l(u,c,d),x=y?y.range(u,+c+1):[];return h?x.reverse():x}function l(u,c,d){const h=Math.abs(c-u)/d,y=vE(([,,v])=>v).right(s,h);if(y===s.length)return t.every(Bx(u/Cv,c/Cv,d));if(y===0)return Yp.every(Math.max(Bx(u,c,d),1));const[x,w]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return x.every(w)}return[a,l]}const[hoe,poe]=mj(Li,LE,Bg,pj,OE,RE),[moe,goe]=mj(Di,DE,Fg,Zd,ME,kE);function Pv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ku(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yoe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Ru(i),c=Mu(i),d=Ru(o),h=Mu(o),y=Ru(s),x=Mu(s),w=Ru(a),v=Mu(a),_=Ru(l),b=Mu(l),S={a:K,A:U,b:J,B:Q,c:null,d:SC,e:SC,f:Voe,g:Yoe,G:Qoe,H:joe,I:$oe,j:Uoe,L:gj,m:Foe,M:Boe,p:ie,q:ee,Q:IC,s:CC,S:qoe,u:Goe,U:zoe,V:Hoe,w:Woe,W:Koe,x:null,X:null,y:Joe,Y:Xoe,Z:Zoe,"%":AC},N={a:le,A:Pe,b:Ne,B:Ke,c:null,d:TC,e:TC,f:rse,g:hse,G:mse,H:ese,I:tse,j:nse,L:vj,m:ise,M:ose,p:H,q:je,Q:IC,s:CC,S:sse,u:ase,U:lse,V:use,w:cse,W:dse,x:null,X:null,y:fse,Y:pse,Z:gse,"%":AC},A={a:R,A:O,b:D,B:M,c:V,d:bC,e:bC,f:Moe,g:wC,G:_C,H:EC,I:EC,j:Poe,L:Roe,m:Coe,M:Noe,p:I,q:Ioe,Q:Doe,s:Loe,S:koe,u:boe,U:Eoe,V:Soe,w:woe,W:Toe,x:F,X:z,y:wC,Y:_C,Z:Aoe,"%":Ooe};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(oe,ve){return function(G){var q=[],pe=-1,xe=0,Ue=oe.length,Y,he,Je;for(G instanceof Date||(G=new Date(+G));++pe<Ue;)oe.charCodeAt(pe)===37&&(q.push(oe.slice(xe,pe)),(he=xC[Y=oe.charAt(++pe)])!=null?Y=oe.charAt(++pe):he=Y==="e"?" ":"0",(Je=ve[Y])&&(Y=Je(G,he)),q.push(Y),xe=pe+1);return q.push(oe.slice(xe,pe)),q.join("")}}function T(oe,ve){return function(G){var q=ku(1900,void 0,1),pe=C(q,oe,G+="",0),xe,Ue;if(pe!=G.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ve&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(xe=Nv(ku(q.y,0,1)),Ue=xe.getUTCDay(),xe=Ue>4||Ue===0?Qp.ceil(xe):Qp(xe),xe=Vg.offset(xe,(q.V-1)*7),q.y=xe.getUTCFullYear(),q.m=xe.getUTCMonth(),q.d=xe.getUTCDate()+(q.w+6)%7):(xe=Pv(ku(q.y,0,1)),Ue=xe.getDay(),xe=Ue>4||Ue===0?Xp.ceil(xe):Xp(xe),xe=Zd.offset(xe,(q.V-1)*7),q.y=xe.getFullYear(),q.m=xe.getMonth(),q.d=xe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ue="Z"in q?Nv(ku(q.y,0,1)).getUTCDay():Pv(ku(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ue+5)%7:q.w+q.U*7-(Ue+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Nv(q)):Pv(q)}}function C(oe,ve,G,q){for(var pe=0,xe=ve.length,Ue=G.length,Y,he;pe<xe;){if(q>=Ue)return-1;if(Y=ve.charCodeAt(pe++),Y===37){if(Y=ve.charAt(pe++),he=A[Y in xC?ve.charAt(pe++):Y],!he||(q=he(oe,G,q))<0)return-1}else if(Y!=G.charCodeAt(q++))return-1}return q}function I(oe,ve,G){var q=u.exec(ve.slice(G));return q?(oe.p=c.get(q[0].toLowerCase()),G+q[0].length):-1}function R(oe,ve,G){var q=y.exec(ve.slice(G));return q?(oe.w=x.get(q[0].toLowerCase()),G+q[0].length):-1}function O(oe,ve,G){var q=d.exec(ve.slice(G));return q?(oe.w=h.get(q[0].toLowerCase()),G+q[0].length):-1}function D(oe,ve,G){var q=_.exec(ve.slice(G));return q?(oe.m=b.get(q[0].toLowerCase()),G+q[0].length):-1}function M(oe,ve,G){var q=w.exec(ve.slice(G));return q?(oe.m=v.get(q[0].toLowerCase()),G+q[0].length):-1}function V(oe,ve,G){return C(oe,e,ve,G)}function F(oe,ve,G){return C(oe,n,ve,G)}function z(oe,ve,G){return C(oe,r,ve,G)}function K(oe){return s[oe.getDay()]}function U(oe){return o[oe.getDay()]}function J(oe){return l[oe.getMonth()]}function Q(oe){return a[oe.getMonth()]}function ie(oe){return i[+(oe.getHours()>=12)]}function ee(oe){return 1+~~(oe.getMonth()/3)}function le(oe){return s[oe.getUTCDay()]}function Pe(oe){return o[oe.getUTCDay()]}function Ne(oe){return l[oe.getUTCMonth()]}function Ke(oe){return a[oe.getUTCMonth()]}function H(oe){return i[+(oe.getUTCHours()>=12)]}function je(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ve=P(oe+="",S);return ve.toString=function(){return oe},ve},parse:function(oe){var ve=T(oe+="",!1);return ve.toString=function(){return oe},ve},utcFormat:function(oe){var ve=P(oe+="",N);return ve.toString=function(){return oe},ve},utcParse:function(oe){var ve=T(oe+="",!0);return ve.toString=function(){return oe},ve}}}var xC={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,voe=/^%/,xoe=/[\\^$*+?|[\]().{}]/g;function He(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _oe(t){return t.replace(xoe,"\\$&")}function Ru(t){return new RegExp("^(?:"+t.map(_oe).join("|")+")","i")}function Mu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function woe(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Toe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _C(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wC(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Aoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ioe(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Coe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bC(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EC(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Moe(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ooe(t,e,n){var r=voe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Doe(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function SC(t,e){return He(t.getDate(),e,2)}function joe(t,e){return He(t.getHours(),e,2)}function $oe(t,e){return He(t.getHours()%12||12,e,2)}function Uoe(t,e){return He(1+Zd.count(Di(t),t),e,3)}function gj(t,e){return He(t.getMilliseconds(),e,3)}function Voe(t,e){return gj(t,e)+"000"}function Foe(t,e){return He(t.getMonth()+1,e,2)}function Boe(t,e){return He(t.getMinutes(),e,2)}function qoe(t,e){return He(t.getSeconds(),e,2)}function Goe(t){var e=t.getDay();return e===0?7:e}function zoe(t,e){return He(Fg.count(Di(t)-1,t),e,2)}function yj(t){var e=t.getDay();return e>=4||e===0?vl(t):vl.ceil(t)}function Hoe(t,e){return t=yj(t),He(vl.count(Di(t),t)+(Di(t).getDay()===4),e,2)}function Woe(t){return t.getDay()}function Koe(t,e){return He(Xp.count(Di(t)-1,t),e,2)}function Joe(t,e){return He(t.getFullYear()%100,e,2)}function Yoe(t,e){return t=yj(t),He(t.getFullYear()%100,e,2)}function Xoe(t,e){return He(t.getFullYear()%1e4,e,4)}function Qoe(t,e){var n=t.getDay();return t=n>=4||n===0?vl(t):vl.ceil(t),He(t.getFullYear()%1e4,e,4)}function Zoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function TC(t,e){return He(t.getUTCDate(),e,2)}function ese(t,e){return He(t.getUTCHours(),e,2)}function tse(t,e){return He(t.getUTCHours()%12||12,e,2)}function nse(t,e){return He(1+Vg.count(Li(t),t),e,3)}function vj(t,e){return He(t.getUTCMilliseconds(),e,3)}function rse(t,e){return vj(t,e)+"000"}function ise(t,e){return He(t.getUTCMonth()+1,e,2)}function ose(t,e){return He(t.getUTCMinutes(),e,2)}function sse(t,e){return He(t.getUTCSeconds(),e,2)}function ase(t){var e=t.getUTCDay();return e===0?7:e}function lse(t,e){return He(Bg.count(Li(t)-1,t),e,2)}function xj(t){var e=t.getUTCDay();return e>=4||e===0?xl(t):xl.ceil(t)}function use(t,e){return t=xj(t),He(xl.count(Li(t),t)+(Li(t).getUTCDay()===4),e,2)}function cse(t){return t.getUTCDay()}function dse(t,e){return He(Qp.count(Li(t)-1,t),e,2)}function fse(t,e){return He(t.getUTCFullYear()%100,e,2)}function hse(t,e){return t=xj(t),He(t.getUTCFullYear()%100,e,2)}function pse(t,e){return He(t.getUTCFullYear()%1e4,e,4)}function mse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xl(t):xl.ceil(t),He(t.getUTCFullYear()%1e4,e,4)}function gse(){return"+0000"}function AC(){return"%"}function IC(t){return+t}function CC(t){return Math.floor(+t/1e3)}var sa,_j,wj;yse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yse(t){return sa=yoe(t),_j=sa.format,sa.parse,wj=sa.utcFormat,sa.utcParse,sa}function vse(t){return new Date(t)}function xse(t){return t instanceof Date?+t:+new Date(+t)}function jE(t,e,n,r,i,o,s,a,l,u){var c=EE(),d=c.invert,h=c.domain,y=u(".%L"),x=u(":%S"),w=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),b=u("%b %d"),S=u("%B"),N=u("%Y");function A(P){return(l(P)<P?y:a(P)<P?x:s(P)<P?w:o(P)<P?v:r(P)<P?i(P)<P?_:b:n(P)<P?S:N)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,xse)):h().map(vse)},c.ticks=function(P){var T=h();return t(T[0],T[T.length-1],P??10)},c.tickFormat=function(P,T){return T==null?A:u(T)},c.nice=function(P){var T=h();return(!P||typeof P.range!="function")&&(P=e(T[0],T[T.length-1],P??10)),P?h(aj(T,P)):c},c.copy=function(){return Qd(c,jE(t,e,n,r,i,o,s,a,l,u))},c}function _se(){return wr.apply(jE(moe,goe,Di,DE,Fg,Zd,ME,kE,ys,_j).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wse(){return wr.apply(jE(hoe,poe,Li,LE,Bg,Vg,OE,RE,ys,wj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qg(){var t=0,e=1,n,r,i,o,s=Sn,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var y,x;return arguments.length?([y,x]=h,s=d(y,x),u):[s(0),s(1)]}}return u.range=c(Zl),u.rangeRound=c(bE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bj(){var t=zo(qg()(Sn));return t.copy=function(){return Ho(t,bj())},Gi.apply(t,arguments)}function Ej(){var t=AE(qg()).domain([1,10]);return t.copy=function(){return Ho(t,Ej()).base(t.base())},Gi.apply(t,arguments)}function Sj(){var t=IE(qg());return t.copy=function(){return Ho(t,Sj()).constant(t.constant())},Gi.apply(t,arguments)}function $E(){var t=CE(qg());return t.copy=function(){return Ho(t,$E()).exponent(t.exponent())},Gi.apply(t,arguments)}function bse(){return $E.apply(null,arguments).exponent(.5)}function Tj(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Yd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ko),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>lie(t,o/r))},n.copy=function(){return Tj(e).domain(t)},Gi.apply(n,arguments)}function Gg(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Sn,c,d=!1,h;function y(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(d?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(d=!!w,y):d},y.interpolator=function(w){return arguments.length?(u=w,y):u};function x(w){return function(v){var _,b,S;return arguments.length?([_,b,S]=v,u=Oie(w,[_,b,S]),y):[u(0),u(.5),u(1)]}}return y.range=x(Zl),y.rangeRound=x(bE),y.unknown=function(w){return arguments.length?(h=w,y):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function Aj(){var t=zo(Gg()(Sn));return t.copy=function(){return Ho(t,Aj())},Gi.apply(t,arguments)}function Ij(){var t=AE(Gg()).domain([.1,1,10]);return t.copy=function(){return Ho(t,Ij()).base(t.base())},Gi.apply(t,arguments)}function Cj(){var t=IE(Gg());return t.copy=function(){return Ho(t,Cj()).constant(t.constant())},Gi.apply(t,arguments)}function UE(){var t=CE(Gg());return t.copy=function(){return Ho(t,UE()).exponent(t.exponent())},Gi.apply(t,arguments)}function Ese(){return UE.apply(null,arguments).exponent(.5)}const PC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qc,scaleDiverging:Aj,scaleDivergingLog:Ij,scaleDivergingPow:UE,scaleDivergingSqrt:Ese,scaleDivergingSymlog:Cj,scaleIdentity:sj,scaleImplicit:qx,scaleLinear:Jp,scaleLog:lj,scaleOrdinal:xE,scalePoint:fc,scalePow:PE,scaleQuantile:dj,scaleQuantize:fj,scaleRadial:cj,scaleSequential:bj,scaleSequentialLog:Ej,scaleSequentialPow:$E,scaleSequentialQuantile:Tj,scaleSequentialSqrt:bse,scaleSequentialSymlog:Sj,scaleSqrt:roe,scaleSymlog:uj,scaleThreshold:hj,scaleTime:_se,scaleUtc:wse,tickFormat:oj},Symbol.toStringTag,{value:"Module"}));var Sse=ql;function Tse(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Sse(s):n(s,a)))var a=s,l=o}return l}var Pj=Tse;function Ase(t,e){return t>e}var Ise=Ase,Cse=Pj,Pse=Ise,Nse=Xl;function kse(t){return t&&t.length?Cse(t,Nse,Pse):void 0}var Rse=kse;const mo=it(Rse);function Mse(t,e){return t<e}var Ose=Mse,Dse=Pj,Lse=Ose,jse=Xl;function $se(t){return t&&t.length?Dse(t,jse,Lse):void 0}var Use=$se;const zg=it(Use);var Vse=Zb,Fse=Go,Bse=$L,qse=Vn;function Gse(t,e){var n=qse(t)?Vse:Bse;return n(t,Fse(e))}var zse=Gse,Hse=LL,Wse=zse;function Kse(t,e){return Hse(Wse(t,e),1)}var Jse=Kse;const Yse=it(Jse);var Xse=pE;function Qse(t,e){return Xse(t,e)}var Zse=Qse;const rd=it(Zse);var eu=1e9,eae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FE,pt=!0,vr="[DecimalError] ",Ts=vr+"Invalid argument: ",VE=vr+"Exponent out of range: ",tu=Math.floor,us=Math.pow,tae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,qt=1e7,dt=7,Nj=9007199254740991,Zp=tu(Nj/dt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return Ei(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return rt(Ei(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Rt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zn))throw Error(vr+"NaN");if(n.s<1)throw Error(vr+(n.s?"NaN":"-Infinity"));return n.eq(zn)?new r(0):(pt=!1,e=Ei(id(n,o),id(t,o),o),pt=!0,rt(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Mj(e,t):kj(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(vr+"NaN");return n.s?(pt=!1,e=Ei(n,t,0,1).times(t),pt=!0,n.minus(e)):rt(new r(n),i)};ge.naturalExponential=ge.exp=function(){return Rj(this)};ge.naturalLogarithm=ge.ln=function(){return id(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kj(e,t):Mj(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=Rt(i)+1,r=i.d.length-1,n=r*dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(vr+"NaN")}for(t=Rt(a),pt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ei(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(rt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return pt=!0,rt(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,y=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%qt|0,e=a/qt|0;o[i]=(o[i]+e)%qt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,pt?rt(t,d.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ni(t,0,eu),e===void 0?e=r.rounding:ni(e,0,8),rt(n,t+Rt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Us(r,!0):(ni(t,0,eu),e===void 0?e=i.rounding:ni(e,0,8),r=rt(new i(r),t+1,e),n=Us(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Us(i):(ni(t,0,eu),e===void 0?e=o.rounding:ni(e,0,8),r=rt(new o(i),t+Rt(i)+1,e),n=Us(r.abs(),!1,t+Rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return rt(new e(t),Rt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(zn);if(a=new l(a),!a.s){if(t.s<1)throw Error(vr+"Infinity");return a}if(a.eq(zn))return a;if(r=l.precision,t.eq(zn))return rt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=Nj){for(i=new l(zn),e=Math.ceil(r/dt+4),pt=!1;n%2&&(i=i.times(a),kC(i.d,e)),n=tu(n/2),n!==0;)a=a.times(a),kC(a.d,e);return pt=!0,t.s<0?new l(zn).div(i):rt(i,r)}}else if(o<0)throw Error(vr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,pt=!1,i=t.times(id(a,r+u)),pt=!0,i=Rj(i),i.s=o,i};ge.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Rt(i),r=Us(i,n<=o.toExpNeg||n>=o.toExpPos)):(ni(t,1,eu),e===void 0?e=o.rounding:ni(e,0,8),i=rt(new o(i),t,e),n=Rt(i),r=Us(i,t<=n||n<=o.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ni(t,1,eu),e===void 0?e=r.rounding:ni(e,0,8)),rt(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rt(t),n=t.constructor;return Us(t,e<=n.toExpNeg||e>=n.toExpPos)};function kj(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),pt?rt(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/dt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/qt|0,l[o]%=qt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,pt?rt(e,d):e}function ni(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=dt-r.length,n&&(o+=ro(n)),o+=r;s=t[e],r=s+"",n=dt-r.length,n&&(o+=ro(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ei=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%qt|0,s=o/qt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,y,x,w,v,_,b,S,N,A,P,T,C,I=r.constructor,R=r.s==i.s?1:-1,O=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(vr+"Division by zero");for(l=r.e-i.e,T=D.length,A=O.length,y=new I(R),x=y.d=[],u=0;D[u]==(O[u]||0);)++u;if(D[u]>(O[u]||0)&&--l,o==null?b=o=I.precision:s?b=o+(Rt(r)-Rt(i))+1:b=o,b<0)return new I(0);if(b=b/dt+2|0,u=0,T==1)for(c=0,D=D[0],b++;(u<A||c)&&b--;u++)S=c*qt+(O[u]||0),x[u]=S/D|0,c=S%D|0;else{for(c=qt/(D[0]+1)|0,c>1&&(D=t(D,c),O=t(O,c),T=D.length,A=O.length),N=T,w=O.slice(0,T),v=w.length;v<T;)w[v++]=0;C=D.slice(),C.unshift(0),P=D[0],D[1]>=qt/2&&++P;do c=0,a=e(D,w,T,v),a<0?(_=w[0],T!=v&&(_=_*qt+(w[1]||0)),c=_/P|0,c>1?(c>=qt&&(c=qt-1),d=t(D,c),h=d.length,v=w.length,a=e(d,w,h,v),a==1&&(c--,n(d,T<h?C:D,h))):(c==0&&(a=c=1),d=D.slice()),h=d.length,h<v&&d.unshift(0),n(w,d,v),a==-1&&(v=w.length,a=e(D,w,T,v),a<1&&(c++,n(w,T<v?C:D,v))),v=w.length):a===0&&(c++,w=[0]),x[u++]=c,a&&w[0]?w[v++]=O[N]||0:(w=[O[N]],v=1);while((N++<A||w[0]!==void 0)&&b--)}return x[0]||x.shift(),y.e=l,rt(y,s?o+Rt(y)+1:o)}}();function Rj(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(Rt(t)>16)throw Error(VE+Rt(t));if(!t.s)return new c(zn);for(pt=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(us(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(zn),c.precision=a;;){if(i=rt(i.times(t),a),n=n.times(++l),s=o.plus(Ei(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;u--;)o=rt(o.times(o),a);return c.precision=d,e==null?(pt=!0,rt(o,d)):o}o=s}}function Rt(t){for(var e=t.e*dt,n=t.d[0];n>=10;n/=10)e++;return e}function kv(t,e,n){if(e>t.LN10.sd())throw pt=!0,n&&(t.precision=n),Error(vr+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function ro(t){for(var e="";t--;)e+="0";return e}function id(t,e){var n,r,i,o,s,a,l,u,c,d=1,h=10,y=t,x=y.d,w=y.constructor,v=w.precision;if(y.s<1)throw Error(vr+(y.s?"NaN":"-Infinity"));if(y.eq(zn))return new w(0);if(e==null?(pt=!1,u=v):u=e,y.eq(10))return e==null&&(pt=!0),kv(w,u);if(u+=h,w.precision=u,n=Gr(x),r=n.charAt(0),o=Rt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Gr(y.d),r=n.charAt(0),d++;o=Rt(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return l=kv(w,u+2,v).times(o+""),y=id(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=v,e==null?(pt=!0,rt(y,v)):y;for(a=s=y=Ei(y.minus(zn),y.plus(zn),u),c=rt(y.times(y),u),i=3;;){if(s=rt(s.times(c),u),l=a.plus(Ei(s,new w(i),u)),Gr(l.d).slice(0,u)===Gr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(kv(w,u+2,v).times(o+""))),a=Ei(a,new w(d),u),w.precision=v,e==null?(pt=!0,rt(a,v)):a;a=l,i+=2}}function NC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tu(n/dt),t.d=[],r=(n+1)%dt,n<0&&(r+=dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dt;r<i;)t.d.push(+e.slice(r,r+=dt));e=e.slice(r),r=dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pt&&(t.e>Zp||t.e<-Zp))throw Error(VE+n)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=dt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/dt),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=dt,i=r-dt+s}if(n!==void 0&&(o=us(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/us(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Rt(t),d.length=1,e=e-o-1,d[0]=us(10,(dt-e%dt)%dt),t.e=tu(-e/dt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=us(10,dt-r),d[c]=i>0?(u/us(10,s-i)%us(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==qt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=qt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(pt&&(t.e>Zp||t.e<-Zp))throw Error(VE+Rt(t));return t}function Mj(t,e){var n,r,i,o,s,a,l,u,c,d,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),pt?rt(e,y):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(y/dt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=qt-1;--l[o],l[i]+=qt}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pt?rt(e,y):e):new h(0)}function Us(t,e,n){var r,i=Rt(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ro(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ro(-i-1)+o,n&&(r=n-s)>0&&(o+=ro(r))):i>=s?(o+=ro(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ro(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ro(r))),t.s<0?"-"+o:o}function kC(t,e){if(t.length>e)return t.length=e,!0}function Oj(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return NC(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,tae.test(o))NC(s,o);else throw Error(Ts+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Oj,i.config=i.set=nae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nae(t){if(!t||typeof t!="object")throw Error(vr+"Object expected");var e,n,r,i=["precision",1,eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var FE=Oj(eae);zn=new FE(1);const tt=FE;function rae(t){return aae(t)||sae(t)||oae(t)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return Wx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wx(t,e)}}function sae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function aae(t){if(Array.isArray(t))return Wx(t)}function Wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lae=function(e){return e},Dj={},Lj=function(e){return e===Dj},RC=function(e){return function n(){return arguments.length===0||arguments.length===1&&Lj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uae=function t(e,n){return e===1?n:RC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==Dj}).length;return s>=e?n.apply(void 0,i):t(e-s,RC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return Lj(d)?l.shift():d});return n.apply(void 0,rae(c).concat(l))}))})},Hg=function(e){return uae(e.length,e)},Kx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cae=Hg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),dae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lae;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Jx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jj=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function fae(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function hae(t,e,n){for(var r=new tt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pae=Hg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mae=Hg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),gae=Hg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Wg={rangeStep:hae,getDigitCount:fae,interpolateNumber:pae,uninterpolateNumber:mae,uninterpolateTruncation:gae};function Yx(t){return xae(t)||vae(t)||$j(t)||yae()}function yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xae(t){if(Array.isArray(t))return Xx(t)}function od(t,e){return bae(t)||wae(t,e)||$j(t,e)||_ae()}function _ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $j(t,e){if(t){if(typeof t=="string")return Xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(t,e)}}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function bae(t){if(Array.isArray(t))return t}function Uj(t){var e=od(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Vj(t,e,n){if(t.lte(0))return new tt(0);var r=Wg.getDigitCount(t.toNumber()),i=new tt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new tt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new tt(Math.ceil(l))}function Eae(t,e,n){var r=1,i=new tt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new tt(10).pow(Wg.getDigitCount(t)-1),i=new tt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):n||(i=new tt(Math.floor(t)));var s=Math.floor((e-1)/2),a=dae(cae(function(l){return i.add(new tt(l-s).mul(r)).toNumber()}),Kx);return a(0,e)}function Fj(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var o=Vj(new tt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new tt(0):(s=new tt(t).add(e).div(2),s=s.sub(new tt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new tt(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?Fj(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new tt(a).mul(o)),tickMax:s.add(new tt(l).mul(o))})}function Sae(t){var e=od(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=Uj([n,r]),l=od(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Yx(Kx(0,i-1).map(function(){return 1/0}))):[].concat(Yx(Kx(0,i-1).map(function(){return-1/0})),[c]);return n>r?Jx(d):d}if(u===c)return Eae(u,i,o);var h=Fj(u,c,s,o),y=h.step,x=h.tickMin,w=h.tickMax,v=Wg.rangeStep(x,w.add(new tt(.1).mul(y)),y);return n>r?Jx(v):v}function Tae(t,e){var n=od(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Uj([r,i]),a=od(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=Vj(new tt(u).sub(l).div(c-1),o,0),h=[].concat(Yx(Wg.rangeStep(new tt(l),new tt(u).sub(new tt(.99).mul(d)),d)),[u]);return r>i?Jx(h):h}var Aae=jj(Sae),Iae=jj(Tae),Cae="Invariant failed";function Vs(t,e){throw new Error(Cae)}var Pae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function Nae(t,e){return Oae(t)||Mae(t,e)||Rae(t,e)||kae()}function kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return MC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(t,e)}}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Oae(t){if(Array.isArray(t))return t}function Dae(t,e){if(t==null)return{};var n=Lae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gj(r.key),r)}}function Uae(t,e,n){return e&&$ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vae(t,e,n){return e=tm(e),Fae(t,Bj()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function Fae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bae(t)}function Bae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bj=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qx(t,e)}function Qx(t,e){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qx(t,e)}function qj(t,e,n){return e=Gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gj(t){var e=Gae(t,"string");return _l(e)=="symbol"?e:e+""}function Gae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kg=function(t){function e(){return jae(this,e),Vae(this,e,arguments)}return qae(e,t),Uae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Dae(r,Pae),y=Me(h,!1);this.props.direction==="x"&&c.type!=="number"&&Vs();var x=l.map(function(w){var v=u(w,a),_=v.x,b=v.y,S=v.value,N=v.errorVal;if(!N)return null;var A=[],P,T;if(Array.isArray(N)){var C=Nae(N,2);P=C[0],T=C[1]}else P=T=N;if(o==="vertical"){var I=c.scale,R=b+i,O=R+s,D=R-s,M=I(S-P),V=I(S+T);A.push({x1:V,y1:O,x2:V,y2:D}),A.push({x1:M,y1:R,x2:V,y2:R}),A.push({x1:M,y1:O,x2:M,y2:D})}else if(o==="horizontal"){var F=d.scale,z=_+i,K=z-s,U=z+s,J=F(S-P),Q=F(S+T);A.push({x1:K,y1:Q,x2:U,y2:Q}),A.push({x1:z,y1:J,x2:z,y2:Q}),A.push({x1:K,y1:J,x2:U,y2:J})}return $.createElement(yt,em({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},y),A.map(function(ie){return $.createElement("line",em({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return $.createElement(yt,{className:"recharts-errorBars"},x)}}])}($.Component);qj(Kg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qj(Kg,"displayName","ErrorBar");function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function OC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Wae(t,"string");return sd(e)=="symbol"?e:e+""}function Wae(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zj=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Gn(n,qa);if(!s)return null;var a=qa.defaultProps,l=a!==void 0?rs(rs({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,y=d.props,x=y.sectors||y.data||[];return c.concat(x.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,y=h!==void 0?rs(rs({},h),d.props):{},x=y.dataKey,w=y.name,v=y.legendType,_=y.hide;return{inactive:_,dataKey:x,type:l.iconType||v||"square",color:BE(d),value:w||x,payload:y}}),rs(rs(rs({},l),qa.getWithHeight(s,i)),{},{payload:u,item:s})};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function DC(t){return Xae(t)||Yae(t)||Jae(t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(t,e){if(t){if(typeof t=="string")return Zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zx(t,e)}}function Yae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xae(t){if(Array.isArray(t))return Zx(t)}function Zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function za(t,e,n){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Zae(t,"string");return ad(e)=="symbol"?e:e+""}function Zae(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return Le(t)||Le(e)?n:$t(e)?hr(t,e,n):ke(e)?e(t):n}function hc(t,e,n,r){var i=Yse(t,function(a){return Xn(a,e)});if(n==="number"){var o=i.filter(function(a){return se(a)||parseFloat(a)});return o.length?[zg(o),mo(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Le(a)}):i;return s.map(function(a){return $t(a)||a instanceof Date?a:""})}var ele=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Nr(d-c)!==Nr(h-d)){var x=[];if(Nr(h-d)===Nr(l[1]-l[0])){y=h;var w=d+l[1]-l[0];x[0]=Math.min(w,(w+c)/2),x[1]=Math.max(w,(w+c)/2)}else{y=c;var v=h+l[1]-l[0];x[0]=Math.min(d,(v+d)/2),x[1]=Math.max(d,(v+d)/2)}var _=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){s=i[u].index;break}}else{var b=Math.min(c,h),S=Math.max(c,h);if(e>(b+d)/2&&e<=(S+d)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},BE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},tle=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),h=0,y=d.length;h<y;h++){var x=c[d[h]],w=x.items,v=x.cateAxisId,_=w.filter(function(T){return wi(T.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,S=b!==void 0?Et(Et({},b),_[0].props):_[0].props,N=S.barSize,A=S[v];s[A]||(s[A]=[]);var P=Le(N)?n:N;s[A].push({item:_[0],stackList:_.slice(1),barSize:Le(P)?void 0:$s(P,r,0)})}}return s},nle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=$s(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,x=s.reduce(function(N,A){return N+A.barSize||0},0);x+=(l-1)*u,x>=i&&(x-=(l-1)*u,u=0),x>=i&&y>0&&(h=!0,y*=.9,x=l*y);var w=(i-x)/2>>0,v={offset:w-u,size:0};c=s.reduce(function(N,A){var P={item:A.item,position:{offset:v.offset+v.size+u,size:h?y:A.barSize}},T=[].concat(DC(N),[P]);return v=T[T.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){T.push({item:C,position:v})}),T},d)}else{var _=$s(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var b=(i-2*_-(l-1)*u)/l;b>1&&(b>>=0);var S=a===+a?Math.min(b,a):b;c=s.reduce(function(N,A,P){var T=[].concat(DC(N),[{item:A.item,position:{offset:_+(b+u)*P+(b-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},d)}return c},rle=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=zj({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,y=u.align,x=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&x==="middle")&&y!=="center"&&se(e[y]))return Et(Et({},e),{},za({},y,e[y]+(d||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&x!=="middle"&&se(e[x]))return Et(Et({},e),{},za({},x,e[x]+(h||0)))}return e},ile=function(e,n,r){return Le(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Hj=function(e,n,r,i,o){var s=n.props.children,a=Mr(s,Kg).filter(function(u){return ile(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Xn(c,r);if(Le(d))return u;var h=Array.isArray(d)?[zg(d),mo(d)]:[d,d],y=l.reduce(function(x,w){var v=Xn(c,w,0),_=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},ole=function(e,n,r,i,o){var s=n.map(function(a){return Hj(e,a,r,o,i)}).filter(function(a){return!Le(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},Wj=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Hj(e,l,u,i)||hc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},Kj=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Jj=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},xi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Nr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Kl(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Rv=new WeakMap,th=function(e,n){if(typeof n!="function")return e;Rv.has(e)||Rv.set(e,new WeakMap);var r=Rv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},sle=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Qc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Jp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fc(),realScaleType:"point"}:o==="category"?{scale:Qc(),realScaleType:"band"}:{scale:Jp(),realScaleType:"linear"};if(js(i)){var l="scale".concat(Rg(i));return{scale:(PC[l]||fc)(),realScaleType:PC[l]?l:"point"}}return ke(i)?{scale:i}:{scale:fc(),realScaleType:"point"}},jC=1e-4,ale=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-jC,s=Math.max(i[0],i[1])+jC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},lle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ule=function(e,n){if(!n||n.length!==2||!se(n[0])||!se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(o[0]=r),(!se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},cle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Kl(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},dle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Kl(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},fle={sign:cle,expand:AK,none:fl,silhouette:IK,wiggle:CK,positive:dle},hle=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=fle[r],s=TK().keys(i).value(function(a,l){return+Xn(a,l,0)}).order(Sx).offset(o);return s(e)},ple=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,h){var y,x=(y=h.type)!==null&&y!==void 0&&y.defaultProps?Et(Et({},h.type.defaultProps),h.props):h.props,w=x.stackId,v=x.hide;if(v)return d;var _=x[r],b=d[_]||{hasStack:!1,stackGroups:{}};if($t(w)){var S=b.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),b.hasStack=!0,b.stackGroups[w]=S}else b.stackGroups[Kd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Et(Et({},d),{},za({},_,b))},l),c={};return Object.keys(u).reduce(function(d,h){var y=u[h];if(y.hasStack){var x={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,v){var _=y.stackGroups[v];return Et(Et({},w),{},za({},v,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:hle(e,_.items,o)}))},x)}return Et(Et({},d),{},za({},h,y))},c)},mle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Aae(u,o,a);return e.domain([zg(c),mo(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=Iae(d,o,a);return{niceTicks:h}}return null};function $C(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Le(i[e.dataKey])){var a=Tp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Xn(i,Le(s)?e.dataKey:s);return Le(l)?null:e.scale(l)}var UC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Xn(s,n.dataKey,n.domain[a]);return Le(l)?null:n.scale(l)-o/2+i},gle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},yle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,o=i.stackId;if($t(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},vle=function(e){return e.reduce(function(n,r){return[zg(r.concat([n[0]]).filter(se)),mo(r.concat([n[1]]).filter(se))]},[1/0,-1/0])},Yj=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=vle(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e_=function(e,n,r){if(ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(VC.test(e[0])){var o=+VC.exec(e[0])[1];i[0]=n[0]-o}else ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(FC.test(e[1])){var s=+FC.exec(e[1])[1];i[1]=n[1]+s}else ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},nm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=gE(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},BC=function(e,n,r){return!e||!e.length||rd(e,hr(r,"type.defaultProps.domain"))?n:e},Xj=function(e,n){var r=e.type.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Et(Et({},Me(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:BE(e),value:Xn(n,i),type:l,payload:n,chartType:u,hide:c})};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return e=_le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=wle(t,"string");return ld(e)=="symbol"?e:e+""}function wle(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rm=Math.PI/180,ble=function(e){return e*180/Math.PI},tn=function(e,n,r,i){return{x:e+Math.cos(-rm*i)*r,y:n+Math.sin(-rm*i)*r}},Ele=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Sle=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Ele({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:ble(u),angleInRadian:u}},Tle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Ale=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},zC=function(e,n){var r=e.x,i=e.y,o=Sle({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Tle(n),d=c.startAngle,h=c.endAngle,y=a,x;if(d<=h){for(;y>h;)y-=360;for(;y<d;)y+=360;x=y>=d&&y<=h}else{for(;y>d;)y-=360;for(;y<h;)y+=360;x=y>=h&&y<=d}return x?GC(GC({},n),{},{radius:s,angle:Ale(y,n)}):null};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}var Ile=["offset"];function Cle(t){return Rle(t)||kle(t)||Nle(t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t,e){if(t){if(typeof t=="string")return t_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(t,e)}}function kle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rle(t){if(Array.isArray(t))return t_(t)}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mle(t,e){if(t==null)return{};var n=Ole(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return e=Lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lle(t){var e=jle(t,"string");return ud(e)=="symbol"?e:e+""}function jle(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}var $le=function(e){var n=e.value,r=e.formatter,i=Le(e.children)?n:e.children;return ke(r)?r(i):i},Ule=function(e,n){var r=Nr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Vle=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,y=l.startAngle,x=l.endAngle,w=l.clockWise,v=(d+h)/2,_=Ule(y,x),b=_>=0?1:-1,S,N;i==="insideStart"?(S=y+b*s,N=w):i==="insideEnd"?(S=x-b*s,N=!w):i==="end"&&(S=x+b*s,N=w),N=_<=0?N:!N;var A=tn(u,c,v,S),P=tn(u,c,v,S+(N?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),C=Le(e.id)?Kd("recharts-radial-line-"):e.id;return $.createElement("text",cd({},r,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:C,d:T})),$.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Fle=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var y=tn(s,a,u+r,h),x=y.x,w=y.y;return{x,y:w,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,_=tn(s,a,v,h),b=_.x,S=_.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Ble=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,y=d>0?"end":"start",x=d>0?"start":"end",w=u>=0?1:-1,v=w*i,_=w>0?"end":"start",b=w>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:y};return Dt(Dt({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:x};return Dt(Dt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Dt(Dt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:a+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Dt(Dt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?Dt({x:a+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideRight"?Dt({x:a+u-v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideTop"?Dt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:x},T):o==="insideBottom"?Dt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},T):o==="insideTopLeft"?Dt({x:a+v,y:l+h,textAnchor:b,verticalAnchor:x},T):o==="insideTopRight"?Dt({x:a+u-v,y:l+h,textAnchor:_,verticalAnchor:x},T):o==="insideBottomLeft"?Dt({x:a+v,y:l+c-h,textAnchor:b,verticalAnchor:y},T):o==="insideBottomRight"?Dt({x:a+u-v,y:l+c-h,textAnchor:_,verticalAnchor:y},T):Gl(o)&&(se(o.x)||ms(o.x))&&(se(o.y)||ms(o.y))?Dt({x:a+$s(o.x,u),y:l+$s(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):Dt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},qle=function(e){return"cx"in e&&se(e.cx)};function yn(t){var e=t.offset,n=e===void 0?5:e,r=Mle(t,Ile),i=Dt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||Le(a)&&Le(l)&&!j.isValidElement(u)&&!ke(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var y;if(ke(u)){if(y=j.createElement(u,i),j.isValidElement(y))return y}else y=$le(i);var x=qle(o),w=Me(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Vle(i,y,w);var v=x?Fle(i):Ble(i);return $.createElement(Fp,cd({className:Be("recharts-label",d)},w,v,{breakAll:h}),y)}yn.displayName="Label";var Qj=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,y=e.top,x=e.left,w=e.width,v=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(se(w)&&se(v)){if(se(d)&&se(h))return{x:d,y:h,width:w,height:v};if(se(y)&&se(x))return{x:y,y:x,width:w,height:v}}return se(d)&&se(h)?{x:d,y:h,width:0,height:0}:se(n)&&se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},Gle=function(e,n){return e?e===!0?$.createElement(yn,{key:"label-implicit",viewBox:n}):$t(e)?$.createElement(yn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===yn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):ke(e)?$.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):Gl(e)?$.createElement(yn,cd({viewBox:n},e,{key:"label-implicit"})):null:null},zle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Qj(e),s=Mr(i,yn).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Gle(e.label,n||o);return[a].concat(Cle(s))};yn.parseViewBox=Qj;yn.renderCallByParent=zle;function Hle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Wle=Hle;const Kle=it(Wle);function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var Jle=["valueAccessor"],Yle=["data","dataKey","clockWise","id","textBreakAll"];function Xle(t){return tue(t)||eue(t)||Zle(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tue(t){if(Array.isArray(t))return n_(t)}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return dd(e)=="symbol"?e:e+""}function iue(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JC(t,e){if(t==null)return{};var n=oue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sue=function(e){return Array.isArray(e.value)?Kle(e.value):e.value};function Ro(t){var e=t.valueAccessor,n=e===void 0?sue:e,r=JC(t,Jle),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=JC(r,Yle);return!i||!i.length?null:$.createElement(yt,{className:"recharts-label-list"},i.map(function(c,d){var h=Le(o)?n(c,d):Xn(c&&c.payload,o),y=Le(a)?{}:{id:"".concat(a,"-").concat(d)};return $.createElement(yn,im({},Me(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:yn.parseViewBox(Le(s)?c:KC(KC({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ro.displayName="LabelList";function aue(t,e){return t?t===!0?$.createElement(Ro,{key:"labelList-implicit",data:e}):$.isValidElement(t)||ke(t)?$.createElement(Ro,{key:"labelList-implicit",data:e,content:t}):Gl(t)?$.createElement(Ro,im({data:e},t,{key:"labelList-implicit"})):null:null}function lue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Mr(r,Ro).map(function(s,a){return j.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=aue(t.label,e);return[o].concat(Xle(i))}Ro.renderCallByParent=lue;function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return e=cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=due(t,"string");return fd(e)=="symbol"?e:e+""}function due(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fue=function(e,n){var r=Nr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},nh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/rm,h=u?o:o+s*d,y=tn(n,r,c,h),x=tn(n,r,i,h),w=u?o-s*d:o,v=tn(n,r,c*Math.cos(d*rm),w);return{center:y,circleTangency:x,lineTangency:v,theta:d}},Zj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=fue(s,a),u=s+l,c=tn(n,r,o,s),d=tn(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=tn(n,r,i,s),x=tn(n,r,i,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},hue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Nr(c-u),h=nh({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,x=h.lineTangency,w=h.theta,v=nh({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),_=v.circleTangency,b=v.lineTangency,S=v.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-S;if(N<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Zj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=nh({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=P.circleTangency,C=P.lineTangency,I=P.theta,R=nh({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=R.circleTangency,D=R.lineTangency,M=R.theta,V=l?Math.abs(u-c):Math.abs(u-c)-I-M;if(V<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},pue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e$=function(e){var n=XC(XC({},pue),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<o||c===d)return null;var y=Be("recharts-sector",h),x=s-o,w=$s(a,x,0,!0),v;return w>0&&Math.abs(c-d)<360?v=hue({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=Zj({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),$.createElement("path",r_({},Me(n,!0),{className:y,d:v,role:"img"}))};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return hd(e)=="symbol"?e:e+""}function yue(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eP={curveBasisClosed:pK,curveBasisOpen:mK,curveBasis:hK,curveBumpX:ZW,curveBumpY:eK,curveLinearClosed:gK,curveLinear:Og,curveMonotoneX:yK,curveMonotoneY:vK,curveNatural:xK,curveStep:_K,curveStepAfter:bK,curveStepBefore:wK},rh=function(e){return e.x===+e.x&&e.y===+e.y},Ou=function(e){return e.x},Du=function(e){return e.y},vue=function(e,n){if(ke(e))return e;var r="curve".concat(Rg(e));return(r==="curveMonotone"||r==="curveBump")&&n?eP["".concat(r).concat(n==="vertical"?"Y":"X")]:eP[r]||Og},xue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=vue(r,a),d=u?o.filter(function(w){return rh(w)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(w){return rh(w)}):s,x=d.map(function(w,v){return ZC(ZC({},w),{},{base:y[v]})});return a==="vertical"?h=Wf().y(Du).x1(Ou).x0(function(w){return w.base.x}):h=Wf().x(Ou).y1(Du).y0(function(w){return w.base.y}),h.defined(rh).curve(c),h(x)}return a==="vertical"&&se(s)?h=Wf().y(Du).x1(Ou).x0(s):se(s)?h=Wf().x(Ou).y1(Du).y0(s):h=tL().x(Ou).y(Du),h.defined(rh).curve(c),h(d)},pc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?xue(e):i;return j.createElement("path",i_({},Me(e,!1),Ap(e),{className:Be("recharts-curve",n),d:s,ref:o}))},t$={exports:{}},_ue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wue=_ue,bue=wue;function n$(){}function r$(){}r$.resetWarningCache=n$;var Eue=function(){function t(r,i,o,s,a,l){if(l!==bue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r$,resetWarningCache:n$};return n.PropTypes=n,n};t$.exports=Eue();var Sue=t$.exports;const Ye=it(Sue),{getOwnPropertyNames:Tue,getOwnPropertySymbols:Aue}=Object,{hasOwnProperty:Iue}=Object.prototype;function Mv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ih(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Cue(t){return t!=null?t[Symbol.toStringTag]:void 0}function tP(t){return Tue(t).concat(Aue(t))}const Pue=Object.hasOwn||((t,e)=>Iue.call(t,e));function Ys(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Nue="__v",kue="__o",Rue="_owner",{getOwnPropertyDescriptor:nP,keys:rP}=Object;function Mue(t,e){return t.byteLength===e.byteLength&&om(new Uint8Array(t),new Uint8Array(e))}function Oue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Due(t,e){return t.byteLength===e.byteLength&&om(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Lue(t,e){return Ys(t.getTime(),e.getTime())}function jue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function $ue(t,e){return t===e}function iP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,d,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const Uue=Ys;function Vue(t,e,n){const r=rP(t);let i=r.length;if(rP(e).length!==i)return!1;for(;i-- >0;)if(!i$(t,e,n,r[i]))return!1;return!0}function Lu(t,e,n){const r=tP(t);let i=r.length;if(tP(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!i$(t,e,n,o)||(s=nP(t,o),a=nP(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Fue(t,e){return Ys(t.valueOf(),e.valueOf())}function Bue(t,e){return t.source===e.source&&t.flags===e.flags}function oP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function om(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function que(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function i$(t,e,n,r){return(r===Rue||r===kue||r===Nue)&&(t.$$typeof||e.$$typeof)?!0:Pue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Gue="[object ArrayBuffer]",zue="[object Arguments]",Hue="[object Boolean]",Wue="[object DataView]",Kue="[object Date]",Jue="[object Error]",Yue="[object Map]",Xue="[object Number]",Que="[object Object]",Zue="[object RegExp]",ece="[object Set]",tce="[object String]",nce={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},rce="[object URL]",ice=Object.prototype.toString;function oce({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:x}){return function(v,_,b){if(v===_)return!0;if(v==null||_==null)return!1;const S=typeof v;if(S!==typeof _)return!1;if(S!=="object")return S==="number"?a(v,_,b):S==="function"?o(v,_,b):!1;const N=v.constructor;if(N!==_.constructor)return!1;if(N===Object)return l(v,_,b);if(Array.isArray(v))return e(v,_,b);if(N===Date)return r(v,_,b);if(N===RegExp)return c(v,_,b);if(N===Map)return s(v,_,b);if(N===Set)return d(v,_,b);const A=ice.call(v);if(A===Kue)return r(v,_,b);if(A===Zue)return c(v,_,b);if(A===Yue)return s(v,_,b);if(A===ece)return d(v,_,b);if(A===Que)return typeof v.then!="function"&&typeof _.then!="function"&&l(v,_,b);if(A===rce)return y(v,_,b);if(A===Jue)return i(v,_,b);if(A===zue)return l(v,_,b);if(nce[A])return h(v,_,b);if(A===Gue)return t(v,_,b);if(A===Wue)return n(v,_,b);if(A===Hue||A===Xue||A===tce)return u(v,_,b);if(x){let P=x[A];if(!P){const T=Cue(v);T&&(P=x[T])}if(P)return P(v,_,b)}return!1}}function sce({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Mue,areArraysEqual:n?Lu:Oue,areDataViewsEqual:Due,areDatesEqual:Lue,areErrorsEqual:jue,areFunctionsEqual:$ue,areMapsEqual:n?Mv(iP,Lu):iP,areNumbersEqual:Uue,areObjectsEqual:n?Lu:Vue,arePrimitiveWrappersEqual:Fue,areRegExpsEqual:Bue,areSetsEqual:n?Mv(oP,Lu):oP,areTypedArraysEqual:n?Mv(om,Lu):om,areUrlsEqual:que,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=ih(r.areArraysEqual),o=ih(r.areMapsEqual),s=ih(r.areObjectsEqual),a=ih(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function ace(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function lce({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const uce=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:()=>Ys});Wo({strict:!0,createInternalComparator:()=>Ys});Wo({circular:!0,createInternalComparator:()=>Ys});Wo({circular:!0,createInternalComparator:()=>Ys,strict:!0});function Wo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=sce(t),s=oce(o),a=n?n(s):ace(s);return lce({circular:e,comparator:s,createState:r,equals:a,strict:i})}function cce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):cce(i)};requestAnimationFrame(r)}function o_(t){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o_(t)}function dce(t){return mce(t)||pce(t)||hce(t)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mce(t){if(Array.isArray(t))return t}function gce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=dce(s),l=a[0],u=a.slice(1);if(typeof l=="number"){sP(i.bind(null,u),l);return}i(l),sP(i.bind(null,u));return}o_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){o$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o$(t,e,n){return e=yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return pd(e)==="symbol"?e:String(e)}function vce(t,e){if(pd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},_ce=function(e){return e},wce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mc=function(e,n){return Object.keys(n).reduce(function(r,i){return uP(uP({},r),{},o$({},i,e(i,n[i])))},{})},cP=function(e,n,r){return e.map(function(i){return"".concat(wce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function bce(t,e){return Tce(t)||Sce(t,e)||s$(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Tce(t){if(Array.isArray(t))return t}function Ace(t){return Pce(t)||Cce(t)||s$(t)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function Cce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pce(t){if(Array.isArray(t))return s_(t)}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sm=1e-4,a$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},l$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dP=function(e,n){return function(r){var i=a$(e,n);return l$(i,r)}},Nce=function(e,n){return function(r){var i=a$(e,n),o=[].concat(Ace(i.map(function(s,a){return s*a}).slice(1)),[0]);return l$(o,r)}},fP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=bce(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=dP(i,s),h=dP(o,a),y=Nce(i,s),x=function(_){return _>1?1:_<0?0:_},w=function(_){for(var b=_>1?1:_,S=b,N=0;N<8;++N){var A=d(S)-b,P=y(S);if(Math.abs(A-b)<sm||P<sm)return h(S);S=x(S-A/P)}return h(S)};return w.isStepper=!1,w},kce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,h){var y=-(c-d)*r,x=h*o,w=h+(y-x)*a/1e3,v=h*a/1e3+c;return Math.abs(v-d)<sm&&Math.abs(w)<sm?[d,0]:[v,w]};return l.isStepper=!0,l.dt=a,l},Rce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fP(i);case"spring":return kce();default:if(i.split("(")[0]==="cubic-bezier")return fP(i)}return typeof i=="function"?i:null};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function hP(t){return Dce(t)||Oce(t)||u$(t)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dce(t){if(Array.isArray(t))return l_(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){a_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=jce(t,"string");return md(e)==="symbol"?e:String(e)}function jce(t,e){if(md(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ce(t,e){return Fce(t)||Vce(t,e)||u$(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Fce(t){if(Array.isArray(t))return t}var am=function(e,n,r){return e+(n-e)*r},u_=function(e){var n=e.from,r=e.to;return n!==r},Bce=function t(e,n,r){var i=mc(function(o,s){if(u_(s)){var a=e(s.from,s.to,s.velocity),l=$ce(a,2),u=l[0],c=l[1];return Xt(Xt({},s),{},{from:u,velocity:c})}return s},n);return r<1?mc(function(o,s){return u_(s)?Xt(Xt({},s),{},{velocity:am(s.velocity,i[o].velocity,r),from:am(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const qce=function(t,e,n,r,i){var o=xce(t,e),s=o.reduce(function(v,_){return Xt(Xt({},v),{},a_({},_,[t[_],e[_]]))},{}),a=o.reduce(function(v,_){return Xt(Xt({},v),{},a_({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return mc(function(_,b){return b.from},a)},y=function(){return!Object.values(a).filter(u_).length},x=function(_){u||(u=_);var b=_-u,S=b/n.dt;a=Bce(n,a,S),i(Xt(Xt(Xt({},t),e),h())),u=_,y()||(l=requestAnimationFrame(d))},w=function(_){c||(c=_);var b=(_-c)/r,S=mc(function(A,P){return am.apply(void 0,hP(P).concat([n(b)]))},s);if(i(Xt(Xt(Xt({},t),e),S)),b<1)l=requestAnimationFrame(d);else{var N=mc(function(A,P){return am.apply(void 0,hP(P).concat([n(1)]))},s);i(Xt(Xt(Xt({},t),e),N))}};return d=n.isStepper?x:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var Gce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zce(t,e){if(t==null)return{};var n=Hce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ov(t){return Yce(t)||Jce(t)||Kce(t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yce(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Ku(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ku(t,e,n){return e=c$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c$(r.key),r)}}function Zce(t,e,n){return e&&Qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c$(t){var e=ede(t,"string");return wl(e)==="symbol"?e:String(e)}function ede(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(t,e)}function nde(t){var e=rde();return function(){var r=lm(t),i;if(e){var o=lm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return f_(this,i)}}function f_(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_(t)}function h_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}var ji=function(t){tde(n,t);var e=nde(n);function n(r,i){var o;Xce(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(h_(o)),o.changeStyle=o.changeStyle.bind(h_(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),f_(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},f_(o);o.state={style:l?Ku({},l,u):u}}else o.state={style:{}};return o}return Zce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Ku({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(uce(i.to,c)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=x||u?d:i.to;if(this.state&&h){var v={style:l?Ku({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(v)}this.runAnimation(Sr(Sr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,y=qce(s,a,Rce(u),l,this.changeStyle),x=function(){o.stopJSAnimation=y()};this.manager.start([h,c,x,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,y=function(w,v,_){if(_===0)return w;var b=v.duration,S=v.easing,N=S===void 0?"ease":S,A=v.style,P=v.properties,T=v.onAnimationEnd,C=_>0?s[_-1]:v,I=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(Ov(w),[o.runJSAnimation.bind(o,{from:C.style,to:A,duration:b,easing:N}),b]);var R=cP(I,b,N),O=Sr(Sr(Sr({},C.style),A),{},{transition:R});return[].concat(Ov(w),[O,b,T]).filter(_ce)};return this.manager.start([l].concat(Ov(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gce());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,y=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?Ku({},a,l):l,v=cP(Object.keys(w),s,u);x.start([c,o,Sr(Sr({},w),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=zce(i,Gce),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(y){var x=y.props,w=x.style,v=w===void 0?{}:w,_=x.className,b=j.cloneElement(y,Sr(Sr({},l),{},{style:Sr(Sr({},v),c),className:_}));return b};return u===1?d(j.Children.only(o)):$.createElement("div",null,j.Children.map(o,function(h){return d(h)}))}}]),n}(j.PureComponent);ji.displayName="Animate";ji.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ji.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function ide(t,e){return lde(t)||ade(t,e)||sde(t,e)||ode()}function ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t,e){if(t){if(typeof t=="string")return gP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ade(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function lde(t){if(Array.isArray(t))return t}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return e=cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=dde(t,"string");return gd(e)=="symbol"?e:e+""}function dde(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xP=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,y=4;h<y;h++)d[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var x=Math.min(s,o);c="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*x," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},fde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},hde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qE=function(e){var n=vP(vP({},hde),e),r=j.useRef(),i=j.useState(-1),o=ide(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,y=n.className,x=n.animationEasing,w=n.animationDuration,v=n.animationBegin,_=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var S=Be("recharts-rectangle",y);return b?$.createElement(ji,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:x,isActive:b},function(N){var A=N.width,P=N.height,T=N.x,C=N.y;return $.createElement(ji,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:_,easing:x},$.createElement("path",um({},Me(n,!0),{className:S,d:xP(T,C,A,P,h),ref:r})))}):$.createElement("path",um({},Me(n,!0),{className:S,d:xP(l,u,c,d,h)}))};function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}var GE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Be("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",p_({},Me(e,!1),Ap(e),{className:s,cx:n,cy:r,r:i})):null};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var pde=["x","y","top","left","width","height","className"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return yd(e)=="symbol"?e:e+""}function vde(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t,e){if(t==null)return{};var n=_de(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _de(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wde=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},bde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,y=h===void 0?0:h,x=e.className,w=xde(e,pde),v=mde({x:r,y:o,top:a,left:u,width:d,height:y},w);return!se(r)||!se(o)||!se(d)||!se(y)||!se(a)||!se(u)?null:$.createElement("path",m_({},Me(v,!0),{className:Be("recharts-cross",x),d:wde(r,o,d,y,a,u)}))},Ede=TL,Sde=Ede(Object.getPrototypeOf,Object),Tde=Sde,Ade=Bi,Ide=Tde,Cde=qi,Pde="[object Object]",Nde=Function.prototype,kde=Object.prototype,d$=Nde.toString,Rde=kde.hasOwnProperty,Mde=d$.call(Object);function Ode(t){if(!Cde(t)||Ade(t)!=Pde)return!1;var e=Ide(t);if(e===null)return!0;var n=Rde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&d$.call(n)==Mde}var Dde=Ode;const Lde=it(Dde);var jde=Bi,$de=qi,Ude="[object Boolean]";function Vde(t){return t===!0||t===!1||$de(t)&&jde(t)==Ude}var Fde=Vde;const Bde=it(Fde);function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function qde(t,e){return Wde(t)||Hde(t,e)||zde(t,e)||Gde()}function Gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zde(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Wde(t){if(Array.isArray(t))return t}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return e=Jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=Yde(t,"string");return vd(e)=="symbol"?e:e+""}function Yde(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SP=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Xde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qde=function(e){var n=EP(EP({},Xde),e),r=j.useRef(),i=j.useState(-1),o=qde(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,y=n.className,x=n.animationEasing,w=n.animationDuration,v=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Be("recharts-trapezoid",y);return _?$.createElement(ji,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:x,isActive:_},function(S){var N=S.upperWidth,A=S.lowerWidth,P=S.height,T=S.x,C=S.y;return $.createElement(ji,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:x},$.createElement("path",cm({},Me(n,!0),{className:b,d:SP(T,C,N,A,P),ref:r})))}):$.createElement("g",null,$.createElement("path",cm({},Me(n,!0),{className:b,d:SP(l,u,c,d,h)})))},Zde=["option","shapeType","propTransformer","activeClassName","isActive"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function efe(t,e){if(t==null)return{};var n=tfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return e=rfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return xd(e)=="symbol"?e:e+""}function ife(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ofe(t,e){return dm(dm({},e),t)}function sfe(t,e){return t==="symbols"}function AP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(qE,n);case"trapezoid":return $.createElement(Qde,n);case"sector":return $.createElement(e$,n);case"symbols":if(sfe(e))return $.createElement(lE,n);break;default:return null}}function afe(t){return j.isValidElement(t)?t.props:t}function lfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ofe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=efe(t,Zde),u;if(j.isValidElement(e))u=j.cloneElement(e,dm(dm({},l),afe(e)));else if(ke(e))u=e(l);else if(Lde(e)&&!Bde(e)){var c=i(e,l);u=$.createElement(AP,{shapeType:n,elementProps:c})}else{var d=l;u=$.createElement(AP,{shapeType:n,elementProps:d})}return a?$.createElement(yt,{className:s},u):u}function Jg(t,e){return e!=null&&"trapezoids"in t.props}function Yg(t,e){return e!=null&&"sectors"in t.props}function _d(t,e){return e!=null&&"points"in t.props}function ufe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function cfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ffe(t,e){var n;return Jg(t,e)?n=ufe:Yg(t,e)?n=cfe:_d(t,e)&&(n=dfe),n}function hfe(t,e){var n;return Jg(t,e)?n="trapezoids":Yg(t,e)?n="sectors":_d(t,e)&&(n="points"),n}function pfe(t,e){if(Jg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Yg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _d(t,e)?e.payload:{}}function mfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=hfe(n,e),o=pfe(n,e),s=r.filter(function(l,u){var c=rd(o,l),d=n.props[i].filter(function(x){var w=ffe(n,e);return w(x,e)}),h=n.props[i].indexOf(d[d.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var gfe=Math.ceil,yfe=Math.max;function vfe(t,e,n,r){for(var i=-1,o=yfe(gfe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var xfe=vfe,_fe=GL,IP=1/0,wfe=17976931348623157e292;function bfe(t){if(!t)return t===0?t:0;if(t=_fe(t),t===IP||t===-IP){var e=t<0?-1:1;return e*wfe}return t===t?t:0}var f$=bfe,Efe=xfe,Sfe=$g,Dv=f$;function Tfe(t){return function(e,n,r){return r&&typeof r!="number"&&Sfe(e,n,r)&&(n=r=void 0),e=Dv(e),n===void 0?(n=e,e=0):n=Dv(n),r=r===void 0?e<n?1:-1:Dv(r),Efe(e,n,r,t)}}var Afe=Tfe,Ife=Afe,Cfe=Ife(),Pfe=Cfe;const fm=it(Pfe);function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){h$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h$(t,e,n){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=kfe(t,"string");return wd(e)=="symbol"?e:e+""}function kfe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe=["Webkit","Moz","O","ms"],Mfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Rfe.reduce(function(o,s){return PP(PP({},o),{},h$({},s+r,n))},{});return i[e]=n,i};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m$(r.key),r)}}function Dfe(t,e,n){return e&&kP(t.prototype,e),n&&kP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lfe(t,e,n){return e=pm(e),jfe(t,p$()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function jfe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(t)}function $fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function Ufe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g_(t,e)}function Bn(t,e,n){return e=m$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=Vfe(t,"string");return bl(e)=="symbol"?e:e+""}function Vfe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ffe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=fc().domain(fm(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},RP=function(e){return e.changedTouches&&!!e.changedTouches.length},El=function(t){function e(n){var r;return Ofe(this,e),r=Lfe(this,e,[n]),Bn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bn(r,"handleSlideDragStart",function(i){var o=RP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ufe(e,t),Dfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,d),x=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:x===c?c:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Xn(o[r],a,r);return ke(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,y=l.endIndex,x=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-a,u+c-d-s):w<0&&(w=Math.max(w,u-s,u-a));var v=this.getIndex({startX:s+w,endX:a+w});(v.startIndex!==h||v.endIndex!==y)&&x&&x(v),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=RP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,y=c.travellerWidth,x=c.onChange,w=c.gap,v=c.data,_={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-y-u):b<0&&(b=Math.max(b,d-u)),_[s]=u+b;var S=this.getIndex(_),N=S.startIndex,A=S.endIndex,P=function(){var C=v.length-1;return s==="startX"&&(a>l?N%w===0:A%w===0)||a<l&&A===C||s==="endX"&&(a>l?A%w===0:N%w===0)||a>l&&A===C};this.setState(Bn(Bn({},s,u+b),"brushMoveStartX",r.pageX),function(){x&&P()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Bn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=j.Children.only(u);return d?$.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,y=l.ariaLabel,x=l.data,w=l.startIndex,v=l.endIndex,_=Math.max(r,this.props.x),b=Lv(Lv({},Me(this.props,!1)),{},{x:_,y:u,width:c,height:d}),S=y||"Min value: ".concat((o=x[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=x[v])===null||s===void 0?void 0:s.name);return $.createElement(yt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,y=5,x={pointerEvents:"none",fill:u};return $.createElement(yt,{className:"recharts-brush-texts"},$.createElement(Fp,hm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-y,y:s+a/2},x),this.getTextOfTick(i)),$.createElement(Fp,hm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+y,y:s+a/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,y=h.startX,x=h.endX,w=h.isTextActive,v=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!se(a)||!se(l)||!se(u)||!se(c)||u<=0||c<=0)return null;var S=Be("recharts-brush",o),N=$.Children.count(s)===1,A=Mfe("userSelect","none");return $.createElement(yt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,x),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(x,"endX"),(w||v||_||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):ke(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Lv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Ffe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(j.PureComponent);Bn(El,"displayName","Brush");Bn(El,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Bfe=mE;function qfe(t,e){var n;return Bfe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Gfe=qfe,zfe=yL,Hfe=Go,Wfe=Gfe,Kfe=Vn,Jfe=$g;function Yfe(t,e,n){var r=Kfe(t)?zfe:Wfe;return n&&Jfe(t,e,n)&&(e=void 0),r(t,Hfe(e))}var Xfe=Yfe;const Qfe=it(Xfe);var Zr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},MP=UL;function Zfe(t,e,n){e=="__proto__"&&MP?MP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ehe=Zfe,the=ehe,nhe=jL,rhe=Go;function ihe(t,e){var n={};return e=rhe(e),nhe(t,function(r,i,o){the(n,i,e(r,i,o))}),n}var ohe=ihe;const she=it(ohe);function ahe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var lhe=ahe,uhe=mE;function che(t,e){var n=!0;return uhe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var dhe=che,fhe=lhe,hhe=dhe,phe=Go,mhe=Vn,ghe=$g;function yhe(t,e,n){var r=mhe(t)?fhe:hhe;return n&&ghe(t,e,n)&&(e=void 0),r(t,phe(e))}var vhe=yhe;const g$=it(vhe);var xhe=["x","y"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=bhe(t,"string");return bd(e)=="symbol"?e:e+""}function bhe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ehe(t,e){if(t==null)return{};var n=She(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function She(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function The(t,e){var n=t.x,r=t.y,i=Ehe(t,xhe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return ju(ju(ju(ju(ju({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function DP(t){return $.createElement(lfe,y_({shapeType:"rectangle",propTransformer:The,activeClassName:"recharts-active-bar"},t))}var Ahe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=se(r)||$7(r);return o?e(r,i):(o||Vs(),n)}},Ihe=["value","background"],y$;function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Che(t,e){if(t==null)return{};var n=Phe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Phe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function khe(t,e,n){return e&&jP(t.prototype,e),n&&jP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rhe(t,e,n){return e=gm(e),Mhe(t,v$()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function Mhe(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ohe(t)}function Ohe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function Dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v_(t,e)}function v_(t,e){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v_(t,e)}function go(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=Lhe(t,"string");return Sl(e)=="symbol"?e:e+""}function Lhe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ef=function(t){function e(){var n;Nhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rhe(this,e,[].concat(i)),go(n,"state",{isAnimationFinished:!1}),go(n,"id",Kd("recharts-bar-")),go(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),go(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Dhe(e,t),khe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Me(this.props,!1);return r&&r.map(function(d,h){var y=h===l,x=y?u:s,w=Pt(Pt(Pt({},c),d),{},{isActive:y,option:x,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(yt,mm({className:"recharts-bar-rectangle"},Ip(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),$.createElement(DP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return $.createElement(ji,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,w=o.map(function(v,_){var b=h&&h[_];if(b){var S=ar(b.x,v.x),N=ar(b.y,v.y),A=ar(b.width,v.width),P=ar(b.height,v.height);return Pt(Pt({},v),{},{x:S(x),y:N(x),width:A(x),height:P(x)})}if(s==="horizontal"){var T=ar(0,v.height),C=T(x);return Pt(Pt({},v),{},{y:v.y+v.height-C,height:C})}var I=ar(0,v.width),R=I(x);return Pt(Pt({},v),{},{width:R})});return $.createElement(yt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!rd(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Me(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=Che(u,Ihe);if(!d)return null;var y=Pt(Pt(Pt(Pt(Pt({},h),{},{fill:"#eee"},d),l),Ip(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(DP,mm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Mr(c,Kg);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(v,_){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Xn(v,_)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(yt,x,d.map(function(w){return $.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,y=r.isAnimationActive,x=r.background,w=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,_=Be("recharts-bar",s),b=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,N=b||S,A=Le(w)?this.id:w;return $.createElement(yt,{className:_},b||S?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(A)},$.createElement("rect",{x:b?u:u-d/2,y:S?c:c-h/2,width:b?d:d*2,height:S?h:h*2}))):null,$.createElement(yt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!y||v)&&Ro.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);y$=ef;go(ef,"displayName","Bar");go(ef,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ql.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});go(ef,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=lle(r,n);if(!y)return null;var x=e.layout,w=n.type.defaultProps,v=w!==void 0?Pt(Pt({},w),n.props):n.props,_=v.dataKey,b=v.children,S=v.minPointSize,N=x==="horizontal"?s:o,A=u?N.scale.domain():null,P=gle({numericAxis:N}),T=Mr(b,HL),C=d.map(function(I,R){var O,D,M,V,F,z;u?O=ule(u[c+R],A):(O=Xn(I,_),Array.isArray(O)||(O=[P,O]));var K=Ahe(S,y$.defaultProps.minPointSize)(O[1],R);if(x==="horizontal"){var U,J=[s.scale(O[0]),s.scale(O[1])],Q=J[0],ie=J[1];D=UC({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:R}),M=(U=ie??Q)!==null&&U!==void 0?U:void 0,V=y.size;var ee=Q-ie;if(F=Number.isNaN(ee)?0:ee,z={x:D,y:s.y,width:V,height:s.height},Math.abs(K)>0&&Math.abs(F)<Math.abs(K)){var le=Nr(F||K)*(Math.abs(K)-Math.abs(F));M-=le,F+=le}}else{var Pe=[o.scale(O[0]),o.scale(O[1])],Ne=Pe[0],Ke=Pe[1];if(D=Ne,M=UC({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),V=Ke-Ne,F=y.size,z={x:o.x,y:M,width:o.width,height:F},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var H=Nr(V||K)*(Math.abs(K)-Math.abs(V));V+=H}}return Pt(Pt(Pt({},I),{},{x:D,y:M,width:V,height:F,value:u?O:O[1],payload:I,background:z},T&&T[R]&&T[R].props),{},{tooltipPayload:[Xj(n,I)],tooltipPosition:{x:D+V/2,y:M+F/2}})});return Pt({data:C,layout:x},h)});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_$(r.key),r)}}function $he(t,e,n){return e&&$P(t.prototype,e),n&&$P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){Xg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xg(t,e,n){return e=_$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=Uhe(t,"string");return Ed(e)=="symbol"?e:e+""}function Uhe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vhe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Gn(u,ef);return c.reduce(function(y,x){var w=n[x],v=w.orientation,_=w.domain,b=w.padding,S=b===void 0?{}:b,N=w.mirror,A=w.reversed,P="".concat(v).concat(N?"Mirror":""),T,C,I,R,O;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=_[1]-_[0],M=1/0,V=w.categoricalDomain.sort(F7);if(V.forEach(function(Pe,Ne){Ne>0&&(M=Math.min((Pe||0)-(V[Ne-1]||0),M))}),Number.isFinite(M)){var F=M/D,z=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(T=F*z/2),w.padding==="no-gap"){var K=$s(e.barCategoryGap,F*z),U=F*z/2;T=U-K-(U-K)/z*K}}}i==="xAxis"?C=[r.left+(S.left||0)+(T||0),r.left+r.width-(S.right||0)-(T||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(T||0),r.top+r.height-(S.bottom||0)-(T||0)]:C=w.range,A&&(C=[C[1],C[0]]);var J=sle(w,o,h),Q=J.scale,ie=J.realScaleType;Q.domain(_).range(C),ale(Q);var ee=mle(Q,Ir(Ir({},w),{},{realScaleType:ie}));i==="xAxis"?(O=v==="top"&&!N||v==="bottom"&&N,I=r.left,R=d[P]-O*w.height):i==="yAxis"&&(O=v==="left"&&!N||v==="right"&&N,I=d[P]-O*w.width,R=r.top);var le=Ir(Ir(Ir({},w),ee),{},{realScaleType:ie,x:I,y:R,scale:Q,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return le.bandSize=nm(le,ee),!w.hide&&i==="xAxis"?d[P]+=(O?-1:1)*le.height:w.hide||(d[P]+=(O?-1:1)*le.width),Ir(Ir({},y),{},Xg({},x,le))},{})},w$=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Fhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return w$({x:n,y:r},{x:i,y:o})},b$=function(){function t(e){jhe(this,t),this.scale=e}return $he(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Xg(b$,"EPS",1e-4);var zE=function(e){var n=Object.keys(e).reduce(function(r,i){return Ir(Ir({},r),{},Xg({},i,b$.create(e[i])))},{});return Ir(Ir({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return she(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return g$(i,function(o,s){return n[s].isInRange(o)})}})};function Bhe(t){return(t%180+180)%180}var qhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Bhe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Ghe=Go,zhe=Jd,Hhe=Lg;function Whe(t){return function(e,n,r){var i=Object(e);if(!zhe(e)){var o=Ghe(n);e=Hhe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Khe=Whe,Jhe=f$;function Yhe(t){var e=Jhe(t),n=e%1;return e===e?n?e-n:e:0}var Xhe=Yhe,Qhe=kL,Zhe=Go,epe=Xhe,tpe=Math.max;function npe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:epe(n);return i<0&&(i=tpe(r+i,0)),Qhe(t,Zhe(e),i)}var rpe=npe,ipe=Khe,ope=rpe,spe=ipe(ope),ape=spe;const lpe=it(ape);var upe=GH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HE=j.createContext(void 0),WE=j.createContext(void 0),E$=j.createContext(void 0),S$=j.createContext({}),T$=j.createContext(void 0),A$=j.createContext(0),I$=j.createContext(0),VP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=upe(o);return $.createElement(HE.Provider,{value:r},$.createElement(WE.Provider,{value:i},$.createElement(S$.Provider,{value:o},$.createElement(E$.Provider,{value:c},$.createElement(T$.Provider,{value:s},$.createElement(A$.Provider,{value:u},$.createElement(I$.Provider,{value:l},a)))))))},cpe=function(){return j.useContext(T$)},C$=function(e){var n=j.useContext(HE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},dpe=function(){var e=j.useContext(HE);return uo(e)},fpe=function(){var e=j.useContext(WE),n=lpe(e,function(r){return g$(r.domain,Number.isFinite)});return n||uo(e)},P$=function(e){var n=j.useContext(WE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},hpe=function(){var e=j.useContext(E$);return e},ppe=function(){return j.useContext(S$)},KE=function(){return j.useContext(I$)},JE=function(){return j.useContext(A$)};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$(r.key),r)}}function ype(t,e,n){return e&&gpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vpe(t,e,n){return e=ym(e),xpe(t,N$()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function xpe(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(t)}function _pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){YE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YE(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=bpe(t,"string");return Tl(e)=="symbol"?e:e+""}function bpe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Epe(t,e){return Ipe(t)||Ape(t,e)||Tpe(t,e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ape(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ipe(t){if(Array.isArray(t))return t}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}var Cpe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):ke(e)?r=e(n):r=$.createElement("line",__({},n,{className:"recharts-reference-line-line"})),r},Ppe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,h=o.width,y=o.height;if(r){var x=u.y,w=e.y.apply(x,{position:s});if(Zr(u,"discard")&&!e.y.isInRange(w))return null;var v=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?v.reverse():v}if(n){var _=u.x,b=e.x.apply(_,{position:s});if(Zr(u,"discard")&&!e.x.isInRange(b))return null;var S=[{x:b,y:d+y},{x:b,y:d}];return a==="top"?S.reverse():S}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:s})});return Zr(u,"discard")&&Qfe(A,function(P){return!e.isInRange(P)})?null:A}return null};function Npe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=cpe(),c=C$(i),d=P$(o),h=hpe();if(!u||!h)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=zE({x:c.scale,y:d.scale}),x=$t(e),w=$t(n),v=r&&r.length===2,_=Ppe(y,x,w,v,h,t.position,c.orientation,d.orientation,t);if(!_)return null;var b=Epe(_,2),S=b[0],N=S.x,A=S.y,P=b[1],T=P.x,C=P.y,I=Zr(t,"hidden")?"url(#".concat(u,")"):void 0,R=BP(BP({clipPath:I},Me(t,!0)),{},{x1:N,y1:A,x2:T,y2:C});return $.createElement(yt,{className:Be("recharts-reference-line",a)},Cpe(s,R),yn.renderCallByParent(t,Fhe({x1:N,y1:A,x2:T,y2:C})))}var XE=function(t){function e(){return mpe(this,e),vpe(this,e,arguments)}return wpe(e,t),ype(e,[{key:"render",value:function(){return $.createElement(Npe,this.props)}}])}($.Component);YE(XE,"displayName","ReferenceLine");YE(XE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M$(r.key),r)}}function Mpe(t,e,n){return e&&Rpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,n){return e=vm(e),Dpe(t,R$()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function Dpe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lpe(t)}function Lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function jpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b_(t,e)}function Qg(t,e,n){return e=M$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=$pe(t,"string");return Al(e)=="symbol"?e:e+""}function $pe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Upe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=zE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Zr(e,"discard")&&!s.isInRange(a)?null:a},Zg=function(t){function e(){return kpe(this,e),Ope(this,e,arguments)}return jpe(e,t),Mpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=$t(i),c=$t(o);if(bi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Upe(this.props);if(!d)return null;var h=d.x,y=d.y,x=this.props,w=x.shape,v=x.className,_=Zr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=zP(zP({clipPath:_},Me(this.props,!0)),{},{cx:h,cy:y});return $.createElement(yt,{className:Be("recharts-reference-dot",v)},e.renderDot(w,b),yn.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}($.Component);Qg(Zg,"displayName","ReferenceDot");Qg(Zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qg(Zg,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):ke(t)?n=t(e):n=$.createElement(GE,w_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D$(r.key),r)}}function Bpe(t,e,n){return e&&Fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qpe(t,e,n){return e=xm(e),Gpe(t,O$()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Gpe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zpe(t)}function zpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function Hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function ey(t,e,n){return e=D$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=Wpe(t,"string");return Il(e)=="symbol"?e:e+""}function Wpe(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kpe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=zE({x:c.scale,y:d.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Zr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(x))?null:w$(y,x)},ty=function(t){function e(){return Vpe(this,e),qpe(this,e,arguments)}return Hpe(e,t),Bpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=$t(i),h=$t(o),y=$t(s),x=$t(a),w=this.props.shape;if(!d&&!h&&!y&&!x&&!w)return null;var v=Kpe(d,h,y,x,this.props);if(!v&&!w)return null;var _=Zr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(yt,{className:Be("recharts-reference-area",l)},e.renderRect(w,WP(WP({clipPath:_},Me(this.props,!0)),v)),yn.renderCallByParent(this.props,v))}}])}($.Component);ey(ty,"displayName","ReferenceArea");ey(ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ey(ty,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):ke(t)?n=t(e):n=$.createElement(qE,E_({},e,{className:"recharts-reference-area-rect"})),n});function L$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Jpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qhe(r,n)}function Ype(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function _m(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Xpe(t,e){return L$(t,e+1)}function Qpe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:L$(r,u)};var w=l,v,_=function(){return v===void 0&&(v=n(x,w)),v},b=x.coordinate,S=l===0||_m(t,b,_,c,a);S||(l=0,c=s,u+=1),S&&(c=b+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return Sd(e)=="symbol"?e:e+""}function tme(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],x,w=function(){return x===void 0&&(x=n(y,h)),x};if(h===s-1){var v=t*(y.coordinate+t*w()/2-l);o[h]=y=hn(hn({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else o[h]=y=hn(hn({},y),{},{tickCoord:y.coordinate});var _=_m(t,y.tickCoord,w,a,l);_&&(l=y.tickCoord-t*(w()/2+i),o[h]=hn(hn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function rme(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),h=t*(c.coordinate+t*d/2-u);s[a-1]=c=hn(hn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=_m(t,c.tickCoord,function(){return d},l,u);y&&(u=c.tickCoord-t*(d/2+i),s[a-1]=hn(hn({},c),{},{isShow:!0}))}for(var x=o?a-1:a,w=function(b){var S=s[b],N,A=function(){return N===void 0&&(N=n(S,b)),N};if(b===0){var P=t*(S.coordinate-t*A()/2-l);s[b]=S=hn(hn({},S),{},{tickCoord:P<0?S.coordinate-P*t:S.coordinate})}else s[b]=S=hn(hn({},S),{},{tickCoord:S.coordinate});var T=_m(t,S.tickCoord,A,l,u);T&&(l=S.tickCoord+t*(A()/2+i),s[b]=hn(hn({},S),{},{isShow:!0}))},v=0;v<x;v++)w(v);return s}function QE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(se(l)||Ql.isSsr)return Xpe(i,typeof l=="number"&&se(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",x=c&&y==="width"?dc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(S,N){var A=ke(u)?u(S.value,N):S.value;return y==="width"?Jpe(dc(A,{fontSize:e,letterSpacing:n}),x,d):dc(A,{fontSize:e,letterSpacing:n})[y]},v=i.length>=2?Nr(i[1].coordinate-i[0].coordinate):1,_=Ype(o,v,y);return l==="equidistantPreserveStart"?Qpe(v,_,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=rme(v,_,w,i,s,l==="preserveStartEnd"):h=nme(v,_,w,i,s),h.filter(function(b){return b.isShow}))}var ime=["viewBox"],ome=["viewBox"],sme=["ticks"];function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jv(t,e){if(t==null)return{};var n=ame(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function ume(t,e,n){return e&&YP(t.prototype,e),n&&YP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cme(t,e,n){return e=wm(e),dme(t,j$()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function dme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fme(t)}function fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function ZE(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=pme(t,"string");return Cl(e)=="symbol"?e:e+""}function pme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nu=function(t){function e(n){var r;return lme(this,e),r=cme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return hme(e,t),ume(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=jv(r,ime),a=this.props,l=a.viewBox,u=jv(a,ome);return!Ba(o,l)||!Ba(s,u)||!Ba(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,y,x,w,v,_,b,S=d?-1:1,N=r.tickSize||c,A=se(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=x=r.coordinate,v=s+ +!d*l,w=v-S*N,b=w-S*h,_=A;break;case"left":w=v=r.coordinate,x=o+ +!d*a,y=x-S*N,_=y-S*h,b=A;break;case"right":w=v=r.coordinate,x=o+ +d*a,y=x+S*N,_=y+S*h,b=A;break;default:y=x=r.coordinate,v=s+ +d*l,w=v+S*N,b=w+S*h,_=A;break}return{line:{x1:y,y1:w,x2:x,y2:v},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=Ot(Ot(Ot({},Me(this.props,!1)),Me(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Ot(Ot({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);d=Ot(Ot({},d),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return $.createElement("line",Aa({},d,{className:Be("recharts-cartesian-axis-line",hr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,y=QE(Ot(Ot({},this.props),{},{ticks:r}),i,o),x=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=Me(this.props,!1),_=Me(c,!1),b=Ot(Ot({},v),{},{fill:"none"},Me(l,!1)),S=y.map(function(N,A){var P=s.getTickLineCoord(N),T=P.line,C=P.tick,I=Ot(Ot(Ot(Ot({textAnchor:x,verticalAnchor:w},v),{},{stroke:"none",fill:u},_),C),{},{index:A,payload:N,visibleTicksCount:y.length,tickFormatter:d});return $.createElement(yt,Aa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ip(s.props,N,A)),l&&$.createElement("line",Aa({},b,T,{className:Be("recharts-cartesian-axis-tick-line",hr(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(ke(d)?d(N.value,A):N.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,y=jv(d,sme),x=h;return ke(l)&&(x=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!x||!x.length?null:$.createElement(yt,{className:Be("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Be(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?s=$.cloneElement(r,Ot(Ot({},i),{},{className:a})):ke(r)?s=r(Ot(Ot({},i),{},{className:a})):s=$.createElement(Fp,Aa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(j.Component);ZE(nu,"displayName","CartesianAxis");ZE(nu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mme=["x1","y1","x2","y2","key"],gme=["offset"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return e=vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=xme(t,"string");return Fs(e)=="symbol"?e:e+""}function xme(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function QP(t,e){if(t==null)return{};var n=_me(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function U$(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(ke(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=QP(e,mme),u=Me(l,!1);u.offset;var c=QP(u,gme);n=$.createElement("line",vs({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function bme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=vn(vn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return U$(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Eme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=vn(vn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return U$(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Sme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var x=!c[y+1],w=x?i+s-h:c[y+1]-h;if(w<=0)return null;var v=y%e.length;return $.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:w,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Tme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var x=!c[y+1],w=x?o+a-h:c[y+1]-h;if(w<=0)return null;var v=y%r.length;return $.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:w,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ame=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return Jj(QE(vn(vn(vn({},nu.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Ime=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return Jj(QE(vn(vn(vn({},nu.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},aa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function V$(t){var e,n,r,i,o,s,a=KE(),l=JE(),u=ppe(),c=vn(vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:aa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:aa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:aa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:aa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:aa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:aa.verticalFill,x:se(t.x)?t.x:u.left,y:se(t.y)?t.y:u.top,width:se(t.width)?t.width:u.width,height:se(t.height)?t.height:u.height}),d=c.x,h=c.y,y=c.width,x=c.height,w=c.syncWithTicks,v=c.horizontalValues,_=c.verticalValues,b=dpe(),S=fpe();if(!se(y)||y<=0||!se(x)||x<=0||!se(d)||d!==+d||!se(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||Ame,A=c.horizontalCoordinatesGenerator||Ime,P=c.horizontalPoints,T=c.verticalPoints;if((!P||!P.length)&&ke(A)){var C=v&&v.length,I=A({yAxis:S?vn(vn({},S),{},{ticks:C?v:S.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);bi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fs(I),"]")),Array.isArray(I)&&(P=I)}if((!T||!T.length)&&ke(N)){var R=_&&_.length,O=N({xAxis:b?vn(vn({},b),{},{ticks:R?_:b.ticks}):void 0,width:a,height:l,offset:u},R?!0:w);bi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fs(O),"]")),Array.isArray(O)&&(T=O)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(wme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(bme,vs({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:S})),$.createElement(Eme,vs({},c,{offset:u,verticalPoints:T,xAxis:b,yAxis:S})),$.createElement(Sme,vs({},c,{horizontalPoints:P})),$.createElement(Tme,vs({},c,{verticalPoints:T})))}V$.displayName="CartesianGrid";var Cme=["layout","type","stroke","connectNulls","isRange","ref"],Pme=["key"],F$;function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function B$(t,e){if(t==null)return{};var n=Nme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G$(r.key),r)}}function Rme(t,e,n){return e&&eN(t.prototype,e),n&&eN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mme(t,e,n){return e=bm(e),Ome(t,q$()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function Ome(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Lme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function zr(t,e,n){return e=G$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){var e=jme(t,"string");return Pl(e)=="symbol"?e:e+""}function jme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $i=function(t){function e(){var n;kme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Mme(this,e,[].concat(i)),zr(n,"state",{isAnimationFinished:!0}),zr(n,"id",Kd("recharts-area-")),zr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ke(s)&&s()}),zr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ke(s)&&s()}),n}return Lme(e,t),Rme(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=Me(this.props,!1),y=Me(u,!0),x=c.map(function(v,_){var b=eo(eo(eo({key:"dot-".concat(_),r:3},h),y),{},{index:_,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,b)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(yt,xs({className:"recharts-area-dots"},w),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=mo(s.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(mo(o.map(function(h){return h.y||0})),d)),se(d)?$.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=mo(s.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(mo(o.map(function(h){return h.x||0})),d)),se(d)?$.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var y=B$(a,Cme);return $.createElement(yt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},$.createElement(pc,xs({},Me(y,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&$.createElement(pc,xs({},Me(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&$.createElement(pc,xs({},Me(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,y=s.animationId,x=this.state,w=x.prevPoints,v=x.prevBaseLine;return $.createElement(ji,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t;if(w){var S=w.length/a.length,N=a.map(function(C,I){var R=Math.floor(I*S);if(w[R]){var O=w[R],D=ar(O.x,C.x),M=ar(O.y,C.y);return eo(eo({},C),{},{x:D(b),y:M(b)})}return C}),A;if(se(l)&&typeof l=="number"){var P=ar(v,l);A=P(b)}else if(Le(l)||Kl(l)){var T=ar(v,0);A=T(b)}else A=l.map(function(C,I){var R=Math.floor(I*S);if(v[R]){var O=v[R],D=ar(O.x,C.x),M=ar(O.y,C.y);return eo(eo({},C),{},{x:D(b),y:M(b)})}return C});return o.renderAreaStatically(N,A,r,i)}return $.createElement(yt,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),$.createElement(yt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!rd(c,s)||!rd(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,y=i.width,x=i.height,w=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,b=a.length===1,S=Be("recharts-area",l),N=d&&d.allowDataOverflow,A=h&&h.allowDataOverflow,P=N||A,T=Le(v)?this.id:v,C=(r=Me(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=C.r,R=I===void 0?3:I,O=C.strokeWidth,D=O===void 0?2:O,M=Y7(s)?s:{},V=M.clipDot,F=V===void 0?!0:V,z=R*2+D;return $.createElement(yt,{className:S},N||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:N?c:c-y/2,y:A?u:u-x/2,width:N?y:y*2,height:A?x:x*2})),!F&&$.createElement("clipPath",{id:"clipPath-dots-".concat(T)},$.createElement("rect",{x:c-z/2,y:u-z/2,width:y+z,height:x+z}))):null,b?null:this.renderArea(P,T),(s||b)&&this.renderDots(P,F,T),(!w||_)&&Ro.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(j.PureComponent);F$=$i;zr($i,"displayName","Area");zr($i,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ql.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zr($i,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(se(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});zr($i,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=e.layout,x=u&&u.length,w=F$.getBaseValue(e,n,r,i),v=y==="horizontal",_=!1,b=d.map(function(N,A){var P;x?P=u[c+A]:(P=Xn(N,l),Array.isArray(P)?_=!0:P=[w,P]);var T=P[1]==null||x&&Xn(N,l)==null;return v?{x:$C({axis:r,ticks:o,bandSize:a,entry:N,index:A}),y:T?null:i.scale(P[1]),value:P,payload:N}:{x:T?null:r.scale(P[1]),y:$C({axis:i,ticks:s,bandSize:a,entry:N,index:A}),value:P,payload:N}}),S;return x||_?S=b.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):S=v?i.scale(w):r.scale(w),eo({points:b,baseLine:S,layout:y,isRange:_},h)});zr($i,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(ke(t))n=t(e);else{var r=Be("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=B$(e,Pme);n=$.createElement(GE,xs({},o,{key:i,className:r}))}return n});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function Vme(t,e,n){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fme(t,e,n){return e=Em(e),Bme(t,z$()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function Bme(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(t)}function qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function Gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function H$(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=zme(t,"string");return Nl(e)=="symbol"?e:e+""}function zme(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function Hme(t){var e=t.xAxisId,n=KE(),r=JE(),i=C$(e);return i==null?null:j.createElement(nu,C_({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return xi(s,!0)}}))}var ny=function(t){function e(){return $me(this,e),Fme(this,e,arguments)}return Gme(e,t),Vme(e,[{key:"render",value:function(){return j.createElement(Hme,this.props)}}])}(j.Component);H$(ny,"displayName","XAxis");H$(ny,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y$(r.key),r)}}function Jme(t,e,n){return e&&Kme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e,n){return e=Sm(e),Xme(t,K$()?Reflect.construct(e,n||[],Sm(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function Zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function J$(t,e,n){return e=Y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y$(t){var e=ege(t,"string");return kl(e)=="symbol"?e:e+""}function ege(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}var tge=function(e){var n=e.yAxisId,r=KE(),i=JE(),o=P$(n);return o==null?null:j.createElement(nu,N_({},o,{className:Be("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return xi(a,!0)}}))},ry=function(t){function e(){return Wme(this,e),Yme(this,e,arguments)}return Zme(e,t),Jme(e,[{key:"render",value:function(){return j.createElement(tge,this.props)}}])}(j.Component);J$(ry,"displayName","YAxis");J$(ry,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tN(t){return oge(t)||ige(t)||rge(t)||nge()}function nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rge(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function ige(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oge(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R_=function(e,n,r,i,o){var s=Mr(e,XE),a=Mr(e,Zg),l=[].concat(tN(s),tN(a)),u=Mr(e,ty),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,v){if(v.props[c]===r&&Zr(v.props,"extendDomain")&&se(v.props[d])){var _=v.props[d];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},h)),u.length){var y="".concat(d,"1"),x="".concat(d,"2");h=u.reduce(function(w,v){if(v.props[c]===r&&Zr(v.props,"extendDomain")&&se(v.props[y])&&se(v.props[x])){var _=v.props[y],b=v.props[x];return[Math.min(w[0],_,b),Math.max(w[1],_,b)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,v){return se(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},h)),h},X$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,d||l,h),x=n?n+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],y]:l._events[x].push(y):(l._events[x]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,x=new Array(y);h<y;h++)x[h]=d[h].fn;return x},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,y,x){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],_=arguments.length,b,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,y),!0;case 6:return v.fn.call(v.context,c,d,h,y,x),!0}for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];v.fn.apply(v.context,b)}else{var N=v.length,A;for(S=0;S<N;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),_){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,c);break;case 3:v[S].fn.call(v[S].context,c,d);break;case 4:v[S].fn.call(v[S].context,c,d,h);break;default:if(!b)for(A=1,b=new Array(_-1);A<_;A++)b[A-1]=arguments[A];v[S].fn.apply(v[S].context,b)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===c&&(!h||x.once)&&(!d||x.context===d)&&s(this,y);else{for(var w=0,v=[],_=x.length;w<_;w++)(x[w].fn!==c||h&&!x[w].once||d&&x[w].context!==d)&&v.push(x[w]);v.length?this._events[y]=v.length===1?v[0]:v:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(X$);var sge=X$.exports;const age=it(sge);var $v=new age,Uv="recharts.syncMouseEvents";function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q$(r.key),r)}}function cge(t,e,n){return e&&uge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vv(t,e,n){return e=Q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t){var e=dge(t,"string");return Td(e)=="symbol"?e:e+""}function dge(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fge=function(){function t(){lge(this,t),Vv(this,"activeIndex",0),Vv(this,"coordinateList",[]),Vv(this,"layout","horizontal")}return cge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function hge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&se(r)&&se(i))return!0}return!1}function pge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Z$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=tn(e,n,r,i),a=tn(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function mge(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=tn(a,l,u,d),y=tn(a,l,c,d);r=h.x,i=h.y,o=y.x,s=y.y}else return Z$(e);return[{x:r,y:i},{x:o,y:s}]}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return e=yge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=vge(t,"string");return Ad(e)=="symbol"?e:e+""}function vge(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xge(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var x,w=pc;if(h==="ScatterChart")x=s,w=bde;else if(h==="BarChart")x=pge(d,s,l,c),w=qE;else if(d==="radial"){var v=Z$(s),_=v.cx,b=v.cy,S=v.radius,N=v.startAngle,A=v.endAngle;x={cx:_,cy:b,startAngle:N,endAngle:A,innerRadius:S,outerRadius:S},w=e$}else x={points:mge(d,s,l)},w=pc;var P=oh(oh(oh(oh({stroke:"#ccc",pointerEvents:"none"},l),x),Me(y,!1)),{},{payload:a,payloadIndex:u,className:Be("recharts-tooltip-cursor",y.className)});return j.isValidElement(y)?j.cloneElement(y,P):j.createElement(w,P)}var _ge=["item"],wge=["children","className","width","height","style","compact","title","desc"];function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(this,arguments)}function rN(t,e){return Sge(t)||Ege(t,e)||tU(t,e)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sge(t){if(Array.isArray(t))return t}function iN(t,e){if(t==null)return{};var n=Tge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ige(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nU(r.key),r)}}function Cge(t,e,n){return e&&Ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,n){return e=Tm(e),Nge(t,eU()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function Nge(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function Rge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function Ml(t){return Dge(t)||Oge(t)||tU(t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(t,e){if(t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function Oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dge(t){if(Array.isArray(t))return O_(t)}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e,n){return e=nU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nU(t){var e=Lge(t,"string");return Rl(e)=="symbol"?e:e+""}function Lge(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jge={xAxis:["bottom","top"],yAxis:["left","right"]},$ge={width:"100%",height:"100%"},rU={x:0,y:0};function sh(t){return t}var Uge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Vge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return X(X(X({},i),tn(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return X(X(X({},i),tn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return rU},iy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ml(a),Ml(u)):a},[]);return s.length>0?s:e&&e.length&&se(i)&&se(o)?e.slice(i,o+1):[]};function iU(t){return t==="number"?[0,"auto"]:void 0}var D_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=iy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=d===void 0?a:d;h=Tp(y,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Ml(l),[Xj(u,h)]):l},[])},sN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Uge(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ele(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=D_(e,n,c,d),y=Vge(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:y}}return null},Fge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,y=Kj(c,o);return r.reduce(function(x,w){var v,_=w.type.defaultProps!==void 0?X(X({},w.type.defaultProps),w.props):w.props,b=_.type,S=_.dataKey,N=_.allowDataOverflow,A=_.allowDuplicatedCategory,P=_.scale,T=_.ticks,C=_.includeHidden,I=_[s];if(x[I])return x;var R=iy(e.data,{graphicalItems:i.filter(function(ee){var le,Pe=s in ee.props?ee.props[s]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[s];return Pe===I}),dataStartIndex:l,dataEndIndex:u}),O=R.length,D,M,V;hge(_.domain,N,b)&&(D=e_(_.domain,null,N),y&&(b==="number"||P!=="auto")&&(V=hc(R,S,"category")));var F=iU(b);if(!D||D.length===0){var z,K=(z=_.domain)!==null&&z!==void 0?z:F;if(S){if(D=hc(R,S,b),b==="category"&&y){var U=V7(D);A&&U?(M=D,D=fm(0,O)):A||(D=BC(K,D,w).reduce(function(ee,le){return ee.indexOf(le)>=0?ee:[].concat(Ml(ee),[le])},[]))}else if(b==="category")A?D=D.filter(function(ee){return ee!==""&&!Le(ee)}):D=BC(K,D,w).reduce(function(ee,le){return ee.indexOf(le)>=0||le===""||Le(le)?ee:[].concat(Ml(ee),[le])},[]);else if(b==="number"){var J=ole(R,i.filter(function(ee){var le,Pe,Ne=s in ee.props?ee.props[s]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[s],Ke="hide"in ee.props?ee.props.hide:(Pe=ee.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return Ne===I&&(C||!Ke)}),S,o,c);J&&(D=J)}y&&(b==="number"||P!=="auto")&&(V=hc(R,S,"category"))}else y?D=fm(0,O):a&&a[I]&&a[I].hasStack&&b==="number"?D=h==="expand"?[0,1]:Yj(a[I].stackGroups,l,u):D=Wj(R,i.filter(function(ee){var le=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Pe="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return le===I&&(C||!Pe)}),b,c,!0);if(b==="number")D=R_(d,D,I,o,T),K&&(D=e_(K,D,N));else if(b==="category"&&K){var Q=K,ie=D.every(function(ee){return Q.indexOf(ee)>=0});ie&&(D=Q)}}return X(X({},x),{},Ee({},I,X(X({},_),{},{axisType:o,domain:D,categoricalDomain:V,duplicateDomain:M,originalDomain:(v=_.domain)!==null&&v!==void 0?v:F,isCategorical:y,layout:c})))},{})},Bge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=iy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,x=Kj(c,o),w=-1;return r.reduce(function(v,_){var b=_.type.defaultProps!==void 0?X(X({},_.type.defaultProps),_.props):_.props,S=b[s],N=iU("number");if(!v[S]){w++;var A;return x?A=fm(0,y):a&&a[S]&&a[S].hasStack?(A=Yj(a[S].stackGroups,l,u),A=R_(d,A,S,o)):(A=e_(N,Wj(h,r.filter(function(P){var T,C,I=s in P.props?P.props[s]:(T=P.type.defaultProps)===null||T===void 0?void 0:T[s],R="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===S&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=R_(d,A,S,o)),X(X({},v),{},Ee({},S,X(X({axisType:o},i.defaultProps),{},{hide:!0,orientation:hr(jge,"".concat(o,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:x,layout:c})))}return v},{})},qge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Mr(c,o),y={};return h&&h.length?y=Fge(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=Bge(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},Gge=function(e){var n=uo(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:nm(n,r)}},aN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Gn(n,El),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},zge=function(e){return!e||!e.length?!1:e.some(function(n){var r=wi(n&&n.type);return r&&r.indexOf("Bar")>=0})},lN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},y=Gn(d,El),x=Gn(d,qa),w=Object.keys(l).reduce(function(A,P){var T=l[P],C=T.orientation;return!T.mirror&&!T.hide?X(X({},A),{},Ee({},C,A[C]+T.width)):A},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(A,P){var T=s[P],C=T.orientation;return!T.mirror&&!T.hide?X(X({},A),{},Ee({},C,hr(A,"".concat(C))+T.height)):A},{top:h.top||0,bottom:h.bottom||0}),_=X(X({},v),w),b=_.bottom;y&&(_.bottom+=y.props.height||El.defaultProps.height),x&&n&&(_=rle(_,i,r,n));var S=u-_.left-_.right,N=c-_.top-_.bottom;return X(X({brushBottom:b},_),{},{width:Math.max(S,0),height:Math.max(N,0)})},Wge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Kge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(_,b){var S=b.graphicalItems,N=b.stackGroups,A=b.offset,P=b.updateId,T=b.dataStartIndex,C=b.dataEndIndex,I=_.barSize,R=_.layout,O=_.barGap,D=_.barCategoryGap,M=_.maxBarSize,V=lN(R),F=V.numericAxisName,z=V.cateAxisName,K=zge(S),U=[];return S.forEach(function(J,Q){var ie=iy(_.data,{graphicalItems:[J],dataStartIndex:T,dataEndIndex:C}),ee=J.type.defaultProps!==void 0?X(X({},J.type.defaultProps),J.props):J.props,le=ee.dataKey,Pe=ee.maxBarSize,Ne=ee["".concat(F,"Id")],Ke=ee["".concat(z,"Id")],H={},je=l.reduce(function(qe,Mt){var er=b["".concat(Mt.axisType,"Map")],Wi=ee["".concat(Mt.axisType,"Id")];er&&er[Wi]||Mt.axisType==="zAxis"||Vs();var Jo=er[Wi];return X(X({},qe),{},Ee(Ee({},Mt.axisType,Jo),"".concat(Mt.axisType,"Ticks"),xi(Jo)))},H),oe=je[z],ve=je["".concat(z,"Ticks")],G=N&&N[Ne]&&N[Ne].hasStack&&yle(J,N[Ne].stackGroups),q=wi(J.type).indexOf("Bar")>=0,pe=nm(oe,ve),xe=[],Ue=K&&tle({barSize:I,stackGroups:N,totalSize:Wge(je,z)});if(q){var Y,he,Je=Le(Pe)?M:Pe,St=(Y=(he=nm(oe,ve,!0))!==null&&he!==void 0?he:Je)!==null&&Y!==void 0?Y:0;xe=nle({barGap:O,barCategoryGap:D,bandSize:St!==pe?St:pe,sizeList:Ue[Ke],maxBarSize:Je}),St!==pe&&(xe=xe.map(function(qe){return X(X({},qe),{},{position:X(X({},qe.position),{},{offset:qe.position.offset-St/2})})}))}var Tt=J&&J.type&&J.type.getComposedData;Tt&&U.push({props:X(X({},Tt(X(X({},je),{},{displayedData:ie,props:_,dataKey:le,item:J,bandSize:pe,barPosition:xe,offset:A,stackedData:G,layout:R,dataStartIndex:T,dataEndIndex:C}))),{},Ee(Ee(Ee({key:J.key||"item-".concat(Q)},F,je[F]),z,je[z]),"animationId",P)),childIndex:Z7(J,_.children),item:J})}),U},y=function(_,b){var S=_.props,N=_.dataStartIndex,A=_.dataEndIndex,P=_.updateId;if(!DA({props:S}))return null;var T=S.children,C=S.layout,I=S.stackOffset,R=S.data,O=S.reverseStackOrder,D=lN(C),M=D.numericAxisName,V=D.cateAxisName,F=Mr(T,r),z=ple(R,F,"".concat(M,"Id"),"".concat(V,"Id"),I,O),K=l.reduce(function(ee,le){var Pe="".concat(le.axisType,"Map");return X(X({},ee),{},Ee({},Pe,qge(S,X(X({},le),{},{graphicalItems:F,stackGroups:le.axisType===M&&z,dataStartIndex:N,dataEndIndex:A}))))},{}),U=Hge(X(X({},K),{},{props:S,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(K).forEach(function(ee){K[ee]=c(S,K[ee],U,ee.replace("Map",""),n)});var J=K["".concat(V,"Map")],Q=Gge(J),ie=h(S,X(X({},K),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:F,stackGroups:z,offset:U}));return X(X({formattedGraphicalItems:ie,graphicalItems:F,offset:U,stackGroups:z},Q),K)},x=function(v){function _(b){var S,N,A;return Age(this,_),A=Pge(this,_,[b]),Ee(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(A,"accessibilityManager",new fge),Ee(A,"handleLegendBBoxUpdate",function(P){if(P){var T=A.state,C=T.dataStartIndex,I=T.dataEndIndex,R=T.updateId;A.setState(X({legendBBox:P},y({props:A.props,dataStartIndex:C,dataEndIndex:I,updateId:R},X(X({},A.state),{},{legendBBox:P}))))}}),Ee(A,"handleReceiveSyncEvent",function(P,T,C){if(A.props.syncId===P){if(C===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(T)}}),Ee(A,"handleBrushChange",function(P){var T=P.startIndex,C=P.endIndex;if(T!==A.state.dataStartIndex||C!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return X({dataStartIndex:T,dataEndIndex:C},y({props:A.props,dataStartIndex:T,dataEndIndex:C,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:T,dataEndIndex:C})}}),Ee(A,"handleMouseEnter",function(P){var T=A.getMouseInfo(P);if(T){var C=X(X({},T),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseEnter;ke(I)&&I(C,P)}}),Ee(A,"triggeredAfterMouseMove",function(P){var T=A.getMouseInfo(P),C=T?X(X({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseMove;ke(I)&&I(C,P)}),Ee(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ee(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ee(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),Ee(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var C=A.props.onMouseLeave;ke(C)&&C(T,P)}),Ee(A,"handleOuterEvent",function(P){var T=Q7(P),C=hr(A.props,"".concat(T));if(T&&ke(C)){var I,R;/.*touch.*/i.test(T)?R=A.getMouseInfo(P.changedTouches[0]):R=A.getMouseInfo(P),C((I=R)!==null&&I!==void 0?I:{},P)}}),Ee(A,"handleClick",function(P){var T=A.getMouseInfo(P);if(T){var C=X(X({},T),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onClick;ke(I)&&I(C,P)}}),Ee(A,"handleMouseDown",function(P){var T=A.props.onMouseDown;if(ke(T)){var C=A.getMouseInfo(P);T(C,P)}}),Ee(A,"handleMouseUp",function(P){var T=A.props.onMouseUp;if(ke(T)){var C=A.getMouseInfo(P);T(C,P)}}),Ee(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ee(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),Ee(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),Ee(A,"handleDoubleClick",function(P){var T=A.props.onDoubleClick;if(ke(T)){var C=A.getMouseInfo(P);T(C,P)}}),Ee(A,"handleContextMenu",function(P){var T=A.props.onContextMenu;if(ke(T)){var C=A.getMouseInfo(P);T(C,P)}}),Ee(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&$v.emit(Uv,A.props.syncId,P,A.eventEmitterSymbol)}),Ee(A,"applySyncEvent",function(P){var T=A.props,C=T.layout,I=T.syncMethod,R=A.state.updateId,O=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(X({dataStartIndex:O,dataEndIndex:D},y({props:A.props,dataStartIndex:O,dataEndIndex:D,updateId:R},A.state)));else if(P.activeTooltipIndex!==void 0){var M=P.chartX,V=P.chartY,F=P.activeTooltipIndex,z=A.state,K=z.offset,U=z.tooltipTicks;if(!K)return;if(typeof I=="function")F=I(U,P);else if(I==="value"){F=-1;for(var J=0;J<U.length;J++)if(U[J].value===P.activeLabel){F=J;break}}var Q=X(X({},K),{},{x:K.left,y:K.top}),ie=Math.min(M,Q.x+Q.width),ee=Math.min(V,Q.y+Q.height),le=U[F]&&U[F].value,Pe=D_(A.state,A.props.data,F),Ne=U[F]?{x:C==="horizontal"?U[F].coordinate:ie,y:C==="horizontal"?ee:U[F].coordinate}:rU;A.setState(X(X({},P),{},{activeLabel:le,activeCoordinate:Ne,activePayload:Pe,activeTooltipIndex:F}))}else A.setState(P)}),Ee(A,"renderCursor",function(P){var T,C=A.state,I=C.isTooltipActive,R=C.activeCoordinate,O=C.activePayload,D=C.offset,M=C.activeTooltipIndex,V=C.tooltipAxisBandSize,F=A.getTooltipEventType(),z=(T=P.props.active)!==null&&T!==void 0?T:I,K=A.props.layout,U=P.key||"_recharts-cursor";return $.createElement(xge,{key:U,activeCoordinate:R,activePayload:O,activeTooltipIndex:M,chartName:n,element:P,isActive:z,layout:K,offset:D,tooltipAxisBandSize:V,tooltipEventType:F})}),Ee(A,"renderPolarAxis",function(P,T,C){var I=hr(P,"type.axisType"),R=hr(A.state,"".concat(I,"Map")),O=P.type.defaultProps,D=O!==void 0?X(X({},O),P.props):P.props,M=R&&R[D["".concat(I,"Id")]];return j.cloneElement(P,X(X({},M),{},{className:Be(I,M.className),key:P.key||"".concat(T,"-").concat(C),ticks:xi(M,!0)}))}),Ee(A,"renderPolarGrid",function(P){var T=P.props,C=T.radialLines,I=T.polarAngles,R=T.polarRadius,O=A.state,D=O.radiusAxisMap,M=O.angleAxisMap,V=uo(D),F=uo(M),z=F.cx,K=F.cy,U=F.innerRadius,J=F.outerRadius;return j.cloneElement(P,{polarAngles:Array.isArray(I)?I:xi(F,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(R)?R:xi(V,!0).map(function(Q){return Q.coordinate}),cx:z,cy:K,innerRadius:U,outerRadius:J,key:P.key||"polar-grid",radialLines:C})}),Ee(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,T=A.props,C=T.children,I=T.width,R=T.height,O=A.props.margin||{},D=I-(O.left||0)-(O.right||0),M=zj({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:u});if(!M)return null;var V=M.item,F=iN(M,_ge);return j.cloneElement(V,X(X({},F),{},{chartWidth:I,chartHeight:R,margin:O,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ee(A,"renderTooltip",function(){var P,T=A.props,C=T.children,I=T.accessibilityLayer,R=Gn(C,Br);if(!R)return null;var O=A.state,D=O.isTooltipActive,M=O.activeCoordinate,V=O.activePayload,F=O.activeLabel,z=O.offset,K=(P=R.props.active)!==null&&P!==void 0?P:D;return j.cloneElement(R,{viewBox:X(X({},z),{},{x:z.left,y:z.top}),active:K,label:F,payload:K?V:[],coordinate:M,accessibilityLayer:I})}),Ee(A,"renderBrush",function(P){var T=A.props,C=T.margin,I=T.data,R=A.state,O=R.offset,D=R.dataStartIndex,M=R.dataEndIndex,V=R.updateId;return j.cloneElement(P,{key:P.key||"_recharts-brush",onChange:th(A.handleBrushChange,P.props.onChange),data:I,x:se(P.props.x)?P.props.x:O.left,y:se(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:se(P.props.width)?P.props.width:O.width,startIndex:D,endIndex:M,updateId:"brush-".concat(V)})}),Ee(A,"renderReferenceElement",function(P,T,C){if(!P)return null;var I=A,R=I.clipPathId,O=A.state,D=O.xAxisMap,M=O.yAxisMap,V=O.offset,F=P.type.defaultProps||{},z=P.props,K=z.xAxisId,U=K===void 0?F.xAxisId:K,J=z.yAxisId,Q=J===void 0?F.yAxisId:J;return j.cloneElement(P,{key:P.key||"".concat(T,"-").concat(C),xAxis:D[U],yAxis:M[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:R})}),Ee(A,"renderActivePoints",function(P){var T=P.item,C=P.activePoint,I=P.basePoint,R=P.childIndex,O=P.isRange,D=[],M=T.props.key,V=T.item.type.defaultProps!==void 0?X(X({},T.item.type.defaultProps),T.item.props):T.item.props,F=V.activeDot,z=V.dataKey,K=X(X({index:R,dataKey:z,cx:C.x,cy:C.y,r:4,fill:BE(T.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Me(F,!1)),Ap(F));return D.push(_.renderActiveDot(F,K,"".concat(M,"-activePoint-").concat(R))),I?D.push(_.renderActiveDot(F,X(X({},K),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(R))):O&&D.push(null),D}),Ee(A,"renderGraphicChild",function(P,T,C){var I=A.filterFormatItem(P,T,C);if(!I)return null;var R=A.getTooltipEventType(),O=A.state,D=O.isTooltipActive,M=O.tooltipAxis,V=O.activeTooltipIndex,F=O.activeLabel,z=A.props.children,K=Gn(z,Br),U=I.props,J=U.points,Q=U.isRange,ie=U.baseLine,ee=I.item.type.defaultProps!==void 0?X(X({},I.item.type.defaultProps),I.item.props):I.item.props,le=ee.activeDot,Pe=ee.hide,Ne=ee.activeBar,Ke=ee.activeShape,H=!!(!Pe&&D&&K&&(le||Ne||Ke)),je={};R!=="axis"&&K&&K.props.trigger==="click"?je={onClick:th(A.handleItemMouseEnter,P.props.onClick)}:R!=="axis"&&(je={onMouseLeave:th(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:th(A.handleItemMouseEnter,P.props.onMouseEnter)});var oe=j.cloneElement(P,X(X({},I.props),je));function ve(Mt){return typeof M.dataKey=="function"?M.dataKey(Mt.payload):null}if(H)if(V>=0){var G,q;if(M.dataKey&&!M.allowDuplicatedCategory){var pe=typeof M.dataKey=="function"?ve:"payload.".concat(M.dataKey.toString());G=Tp(J,pe,F),q=Q&&ie&&Tp(ie,pe,F)}else G=J==null?void 0:J[V],q=Q&&ie&&ie[V];if(Ke||Ne){var xe=P.props.activeIndex!==void 0?P.props.activeIndex:V;return[j.cloneElement(P,X(X(X({},I.props),je),{},{activeIndex:xe})),null,null]}if(!Le(G))return[oe].concat(Ml(A.renderActivePoints({item:I,activePoint:G,basePoint:q,childIndex:V,isRange:Q})))}else{var Ue,Y=(Ue=A.getItemByXY(A.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:oe},he=Y.graphicalItem,Je=he.item,St=Je===void 0?P:Je,Tt=he.childIndex,qe=X(X(X({},I.props),je),{},{activeIndex:Tt});return[j.cloneElement(St,qe),null,null]}return Q?[oe,null,null]:[oe,null]}),Ee(A,"renderCustomized",function(P,T,C){return j.cloneElement(P,X(X({key:"recharts-customized-".concat(C)},A.props),A.state))}),Ee(A,"renderMap",{CartesianGrid:{handler:sh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:sh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:sh},YAxis:{handler:sh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:Kd("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=zL(A.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Rge(_,v),Cge(_,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,A=S.data,P=S.height,T=S.layout,C=Gn(N,Br);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=D_(this.state,A,I,R),D=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+P)/2,V=T==="horizontal",F=V?{x:D,y:M}:{y:D,x:M},z=this.state.formattedGraphicalItems.find(function(U){var J=U.item;return J.type.name==="Scatter"});z&&(F=X(X({},F),z.props.points[I].tooltipPosition),O=z.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:O,activeCoordinate:F};this.setState(K),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(S){mx([Gn(S.children,Br)],[Gn(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Gn(this.props.children,Br);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=Are(A),T={chartX:Math.round(S.pageX-P.left),chartY:Math.round(S.pageY-P.top)},C=A.width/N.offsetWidth||1,I=this.inRange(T.chartX,T.chartY,C);if(!I)return null;var R=this.state,O=R.xAxisMap,D=R.yAxisMap,M=this.getTooltipEventType(),V=sN(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&O&&D){var F=uo(O).scale,z=uo(D).scale,K=F&&F.invert?F.invert(T.chartX):null,U=z&&z.invert?z.invert(T.chartY):null;return X(X({},T),{},{xValue:K,yValue:U},V)}return V?X(X({},T),V):null}},{key:"inRange",value:function(S,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,T=S/A,C=N/A;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,R=T>=I.left&&T<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return R?{x:T,y:C}:null}var O=this.state,D=O.angleAxisMap,M=O.radiusAxisMap;if(D&&M){var V=uo(D);return zC({x:T,y:C},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),A=Gn(S,Br),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ap(this.props,this.handleOuterEvent);return X(X({},T),P)}},{key:"addListener",value:function(){$v.on(Uv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$v.removeListener(Uv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,A){for(var P=this.state.formattedGraphicalItems,T=0,C=P.length;T<C;T++){var I=P[T];if(I.item===S||I.props.key===S.key||N===wi(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,T=N.height,C=N.width;return $.createElement("defs",null,$.createElement("clipPath",{id:S},$.createElement("rect",{x:A,y:P,height:T,width:C})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,A){var P=rN(A,2),T=P[0],C=P[1];return X(X({},N),{},Ee({},T,C.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,A){var P=rN(A,2),T=P[0],C=P[1];return X(X({},N),{},Ee({},T,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var T=0,C=A.length;T<C;T++){var I=A[T],R=I.props,O=I.item,D=O.type.defaultProps!==void 0?X(X({},O.type.defaultProps),O.props):O.props,M=wi(O.type);if(M==="Bar"){var V=(R.data||[]).find(function(U){return fde(S,U)});if(V)return{graphicalItem:I,payload:V}}else if(M==="RadialBar"){var F=(R.data||[]).find(function(U){return zC(S,U)});if(F)return{graphicalItem:I,payload:F}}else if(Jg(I,P)||Yg(I,P)||_d(I,P)){var z=mfe({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),K=D.activeIndex===void 0?z:D.activeIndex;return{graphicalItem:X(X({},I),{},{childIndex:K}),payload:_d(I,P)?D.data[z]:I.props.data[z]}}}return null}},{key:"render",value:function(){var S=this;if(!DA(this))return null;var N=this.props,A=N.children,P=N.className,T=N.width,C=N.height,I=N.style,R=N.compact,O=N.title,D=N.desc,M=iN(N,wge),V=Me(M,!1);if(R)return $.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(yx,Ia({},V,{width:T,height:C,title:O,desc:D}),this.renderClipPath(),jA(A,this.renderMap)));if(this.props.accessibilityLayer){var F,z;V.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,V.role=(z=this.props.role)!==null&&z!==void 0?z:"application",V.onKeyDown=function(U){S.accessibilityManager.keyboardEvent(U)},V.onFocus=function(){S.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return $.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Ia({className:Be("recharts-wrapper",P),style:X({position:"relative",cursor:"default",width:T,height:C},I)},K,{ref:function(J){S.container=J}}),$.createElement(yx,Ia({},V,{width:T,height:C,title:O,desc:D,style:$ge}),this.renderClipPath(),jA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ee(x,"displayName",n),Ee(x,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ee(x,"getDerivedStateFromProps",function(v,_){var b=v.dataKey,S=v.data,N=v.children,A=v.width,P=v.height,T=v.layout,C=v.stackOffset,I=v.margin,R=_.dataStartIndex,O=_.dataEndIndex;if(_.updateId===void 0){var D=aN(v);return X(X(X({},D),{},{updateId:0},y(X(X({props:v},D),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:S,prevWidth:A,prevHeight:P,prevLayout:T,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(b!==_.prevDataKey||S!==_.prevData||A!==_.prevWidth||P!==_.prevHeight||T!==_.prevLayout||C!==_.prevStackOffset||!Ba(I,_.prevMargin)){var M=aN(v),V={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},F=X(X({},sN(_,S,T)),{},{updateId:_.updateId+1}),z=X(X(X({},M),V),F);return X(X(X({},z),y(X({props:v},z),_)),{},{prevDataKey:b,prevData:S,prevWidth:A,prevHeight:P,prevLayout:T,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(!mx(N,_.prevChildren)){var K,U,J,Q,ie=Gn(N,El),ee=ie&&(K=(U=ie.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:R,le=ie&&(J=(Q=ie.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&J!==void 0?J:O,Pe=ee!==R||le!==O,Ne=!Le(S),Ke=Ne&&!Pe?_.updateId:_.updateId+1;return X(X({updateId:Ke},y(X(X({props:v},_),{},{updateId:Ke,dataStartIndex:ee,dataEndIndex:le}),_)),{},{prevChildren:N,dataStartIndex:ee,dataEndIndex:le})}return null}),Ee(x,"renderActiveDot",function(v,_,b){var S;return j.isValidElement(v)?S=j.cloneElement(v,_):ke(v)?S=v(_):S=$.createElement(GE,_),$.createElement(yt,{className:"recharts-active-dot",key:b},S)});var w=j.forwardRef(function(_,b){return $.createElement(x,Ia({},_,{ref:b}))});return w.displayName=x.displayName,w},Jge=Kge({chartName:"AreaChart",GraphicalChild:$i,axisComponents:[{axisType:"xAxis",AxisComp:ny},{axisType:"yAxis",AxisComp:ry}],formatAxisMap:Vhe});const Yge=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Xge=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:bp,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:pD,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:cc,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:Ep,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),p.jsxs("div",{className:"flex gap-2 text-sm",children:[p.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),p.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:zb,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Hd,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:cc,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:Fa,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:p.jsx(n.icon,{className:"w-6 h-6"})}),p.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),p.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[p.jsx(PD,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),p.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>p.jsxs("button",{onClick:()=>t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[p.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:p.jsx(n.icon,{className:"w-6 h-6"})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),p.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),p.jsx(Mq,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),p.jsx("div",{className:"h-80 w-full",children:p.jsx(xre,{width:"100%",height:"100%",children:p.jsxs(Jge,{data:Yge,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),p.jsx(V$,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(ny,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),p.jsx(ry,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),p.jsx(Br,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),p.jsx($i,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),p.jsx($i,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),p.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[p.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"relative z-10 space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(xD,{className:"w-6 h-6 text-orange-500"}),p.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),p.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[p.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?p.jsx(Bc,{className:"w-4 h-4 text-green-400"}):p.jsx(jq,{className:"w-4 h-4 text-orange-500"})]},r))}),p.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[p.jsx(dl,{className:"w-4 h-4"})," Aadir Requisito"]})]}),p.jsx(dx,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(cc,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),p.jsx("div",{className:"space-y-3",children:p.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[p.jsx(ux,{className:"w-5 h-5 text-orange-600 shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),p.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Qge=20,Zge=({companyInfo:t})=>{const{loading:e,addProduct:n,updateProduct:r,deleteProduct:i,suppliers:o,fetchProductsPaginatedAndFiltered:s}=Bl(),[a,l]=j.useState(""),[u,c]=j.useState(!1),[d,h]=j.useState("general"),[y,x]=j.useState(!1),[w,v]=j.useState([]),[_,b]=j.useState(null),[S,N]=j.useState(!0),[A,P]=j.useState(!1),T=j.useRef(null),[C,I]=j.useState(null),[R,O]=j.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[D,M]=j.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),[V,F]=j.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[z,K]=j.useState({isFractionable:!1,saleUnitConversionFactor:1}),[U,J]=j.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),Q=j.useCallback(async(H=!1,je=a,oe=_)=>{P(!0);try{const ve={limit:Qge,searchTerm:je.toLowerCase().trim(),startAfterDoc:H?void 0:oe,orderByField:"name",orderDirection:"asc"},{products:G,lastVisible:q,hasMore:pe}=await s(ve);v(xe=>H?G:[...xe,...G]),b(q),N(pe)}catch(ve){console.error("Error loading products:",ve)}finally{P(!1)}},[a,_,s]);j.useEffect(()=>{e||Q(!0,a,null)},[a,e,Q]);const ie=$.useMemo(()=>{let H=D.baseCost;D.discounts.forEach(G=>{G>0&&(H=H*(1-G/100))});const je=H*(1+D.markup/100),oe=je*(1+D.ivaRate/100),ve=z.isFractionable&&z.saleUnitConversionFactor?oe*z.saleUnitConversionFactor:oe;return{netCost:H,priceWithoutIva:je,finalSalePricePrimaryUnit:oe,finalSalePriceSaleUnit:ve}},[D,z]),ee=()=>{I(null),O({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),M({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),F({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),K({isFractionable:!1,saleUnitConversionFactor:1}),J({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),h("general")},le=H=>{I(H),H?(O({name:H.name,sku:H.sku,category:H.category,brand:H.brand,saleCurrency:H.saleCurrency||"ARS",supplierProductCode:H.supplierProductCode||"",imageUrl:H.imageUrl||"",primaryUnit:H.primaryUnit||"unidad",saleUnit:H.saleUnit||"unidad"}),M({baseCost:H.costPrice||0,ivaRate:21,discounts:[],markup:H.salePrice&&H.costPrice?(H.salePrice/(H.costPrice*1.21)-1)*100:(t==null?void 0:t.defaultMarkup)||30,supplierId:H.supplierId||"",purchaseCurrency:H.purchaseCurrency||"ARS"}),F({stock:H.stock,minStock:H.minStock||5,location:H.location||"",reorderPoint:H.reorderPoint||0,targetStock:H.targetStock||0,packQuantity:H.packQuantity||1}),K({isFractionable:H.isFractionable||!1,saleUnitConversionFactor:H.saleUnitConversionFactor||1}),J({isOnline:H.isOnline||!1,onlinePriceAdjustment:H.onlinePriceAdjustment||0,mlSync:H.mlSync||!1})):ee(),c(!0)},Pe=H=>{var oe;const je=(oe=H.target.files)==null?void 0:oe[0];if(je){const ve=new FileReader;ve.onload=G=>{O(q=>{var pe;return{...q,imageUrl:(pe=G.target)==null?void 0:pe.result}})},ve.readAsDataURL(je)}},Ne=async()=>{if(x(!0),!R.name||!R.sku||!R.primaryUnit||!R.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),x(!1);return}if(D.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),x(!1);return}if(z.isFractionable&&(!z.saleUnitConversionFactor||z.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),x(!1);return}const H={sku:R.sku||"",name:R.name||"",supplierId:D.supplierId||null,costPrice:Number(D.baseCost),salePrice:Number(ie.finalSalePricePrimaryUnit),stock:Number(V.stock),category:R.category||"General",brand:R.brand||"N/A",reorderPoint:Number(V.reorderPoint)||0,targetStock:Number(V.targetStock)||0,packQuantity:Number(V.packQuantity)||1,purchaseCurrency:D.purchaseCurrency||"ARS",saleCurrency:R.saleCurrency||"ARS",supplierProductCode:R.supplierProductCode||"",minStock:Number(V.minStock)||0,location:V.location||"",imageUrl:R.imageUrl||"",primaryUnit:R.primaryUnit,saleUnit:R.saleUnit,isFractionable:!!z.isFractionable,saleUnitConversionFactor:z.isFractionable?Number(z.saleUnitConversionFactor):null,isOnline:!!U.isOnline,onlinePriceAdjustment:U.isOnline?Number(U.onlinePriceAdjustment):null,mlSync:!!U.mlSync};try{C?await r(C.id,H):await n(H),c(!1),ee(),Q(!0)}catch(je){alert("Error al guardar en la base de datos. Verifique los campos."),console.error("Error saving product:",je)}finally{x(!1)}},Ke=H=>{alert(`Producto "${H.name}" aadido a la lista de pedidos de reposicin.`)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),p.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),p.jsxs("button",{onClick:()=>{le(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[p.jsx(ti,{className:"w-5 h-5"})," Nuevo Producto"]})]}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:p.jsxs("div",{className:"relative max-w-xl",children:[p.jsx(Mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:a,onChange:H=>l(H.target.value)})]})}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),p.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.primaryUnit,")"]}),p.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.saleUnit,")"]}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(H=>{var je;return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsxs("td",{className:"px-8 py-6",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:H.name}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:H.sku})]}),p.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[H.stock," ",H.primaryUnit]}),p.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(je=H.salePrice)==null?void 0:je.toLocaleString()]}),p.jsx("td",{className:"px-8 py-6 text-right font-black",children:H.isFractionable&&H.saleUnitConversionFactor&&H.salePrice?`$${(H.salePrice*H.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>Ke(H),className:"p-2 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Pedir Reposicin",children:p.jsx(gg,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>le(H),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Editar",children:p.jsx(wD,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>i(H.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Borrar",children:p.jsx(Ls,{className:"w-4 h-4"})})]})})]},H.id)})})]}),A&&p.jsxs("div",{className:"p-10 text-center",children:[p.jsx(yr,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),u&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[p.jsx("h2",{className:"text-xl font-black uppercase",children:C?"Editar Producto":"Nuevo Producto"}),p.jsx("button",{onClick:()=>c(!1),children:p.jsx(Jn,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"flex h-[600px]",children:[p.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:ux},{id:"costs",label:"Costos y Precios",icon:Fa},{id:"inventory",label:"Inventario Fsico",icon:fx},{id:"fractioned",label:"Venta Fraccionada",icon:cx},{id:"ecommerce",label:"E-commerce",icon:qc}].map(H=>p.jsxs("button",{onClick:()=>h(H.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===H.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[p.jsx(H.icon,{className:"w-4 h-4 inline-block mr-2"}),H.label]},H.id))}),p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(ux,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{value:R.name||"",onChange:H=>O({...R,name:H.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{value:R.sku||"",onChange:H=>O({...R,sku:H.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{value:R.primaryUnit||"unidad",onChange:H=>O({...R,primaryUnit:H.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"unidad",children:"Unidad"}),p.jsx("option",{value:"m2",children:"m2"}),p.jsx("option",{value:"kg",children:"kg"}),p.jsx("option",{value:"litro",children:"Litro"}),p.jsx("option",{value:"pie",children:"Pie"}),p.jsx("option",{value:"cm",children:"cm"}),p.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),p.jsx("option",{value:"tabla",children:"Tabla"}),p.jsx("option",{value:"caja",children:"Caja"}),p.jsx("option",{value:"barra",children:"Barra"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{value:R.saleUnit||"unidad",onChange:H=>O({...R,saleUnit:H.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"unidad",children:"Unidad"}),p.jsx("option",{value:"m2",children:"m2"}),p.jsx("option",{value:"kg",children:"kg"}),p.jsx("option",{value:"litro",children:"Litro"}),p.jsx("option",{value:"tabla",children:"Tabla"}),p.jsx("option",{value:"caja",children:"Caja"}),p.jsx("option",{value:"barra",children:"Barra"}),p.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),p.jsx("option",{value:"pie",children:"Pie"}),p.jsx("option",{value:"cm",children:"cm"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),p.jsx("input",{value:R.category||"",onChange:H=>O({...R,category:H.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),p.jsx("input",{value:R.brand||"",onChange:H=>O({...R,brand:H.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),p.jsx("input",{value:R.supplierProductCode||"",onChange:H=>O({...R,supplierProductCode:H.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),p.jsxs("select",{value:R.saleCurrency||"ARS",onChange:H=>O({...R,saleCurrency:H.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),p.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),p.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[p.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[p.jsx(lx,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:R.imageUrl?p.jsx("img",{src:R.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):p.jsx(lx,{className:"w-8 h-8 text-slate-300"})}),p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>{var H;return(H=T.current)==null?void 0:H.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[p.jsx(nG,{className:"w-4 h-4"})," Subir Imagen"]}),p.jsx("input",{ref:T,type:"file",className:"hidden",accept:"image/*",onChange:Pe})]})]})]})]}),d==="costs"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Fa,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"number",value:D.baseCost||"",onChange:H=>M({...D,baseCost:Number(H.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"IVA (%)"}),p.jsx("input",{type:"number",value:D.ivaRate||"",onChange:H=>M({...D,ivaRate:Number(H.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ganancia (Markup %)"}),p.jsx("input",{type:"number",value:D.markup||"",onChange:H=>M({...D,markup:Number(H.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),p.jsxs("select",{value:D.supplierId||"",onChange:H=>M({...D,supplierId:H.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"",children:"Ninguno"}),o.map(H=>p.jsx("option",{value:H.id,children:H.name},H.id))]})]})]}),p.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[p.jsxs("div",{className:"relative z-10 space-y-2",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio Final Sugerido"}),p.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",ie.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsx(Fa,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(fx,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),p.jsx("input",{type:"number",value:V.stock||"",onChange:H=>F({...V,stock:Number(H.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mnimo de Alerta"}),p.jsx("input",{type:"number",value:V.minStock||"",onChange:H=>F({...V,minStock:Number(H.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin"}),p.jsx("input",{value:V.location||"",onChange:H=>F({...V,location:H.target.value}),placeholder:"Ej: A-05",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(cx,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:z.isFractionable||!1,onChange:H=>K({...z,isFractionable:H.target.checked}),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Fraccionado"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Permite vender en una unidad distinta al stock."})]})]}),z.isFractionable&&p.jsxs("div",{className:"pt-6 border-t border-slate-100 animate-in fade-in",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin (1 ",R.saleUnit," = ? ",R.primaryUnit,")"]}),p.jsx("input",{type:"number",value:z.saleUnitConversionFactor||"",onChange:H=>K({...z,saleUnitConversionFactor:Number(H.target.value)}),placeholder:"1.00",className:"w-full mt-2 px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),d==="ecommerce"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(qc,{className:"w-4 h-4 text-yellow-600"})," E-Commerce"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:U.isOnline||!1,onChange:H=>J({...U,isOnline:H.target.checked}),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),p.jsx("div",{className:"flex-1",children:p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar Online"})})]})]})]})]}),p.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[p.jsx("button",{onClick:()=>c(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsxs("button",{onClick:Ne,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[y?p.jsx(yr,{className:"w-5 h-5 animate-spin"}):p.jsx(ED,{className:"w-5 h-5"}),"Guardar"]})]})]})})]})},eye=({companyInfo:t})=>{const{addSale:e,addOrder:n,fetchProductsPaginatedAndFiltered:r,clients:i,updateProduct:o,boxes:s,addTransaction:a,updateBox:l}=Bl(),[u,c]=j.useState(""),[d,h]=j.useState([]),[y,x]=j.useState(!1),[w,v]=j.useState(!1),[_,b]=j.useState(!1),[S,N]=j.useState({name:"",price:0,quantity:1}),[A,P]=j.useState(null),[T,C]=j.useState(""),[I,R]=j.useState(!1),[O,D]=j.useState("ticket"),[M,V]=j.useState([]),[F,z]=j.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""}),[K,U]=j.useState([]),[J,Q]=j.useState(!1),[ie,ee]=j.useState(null),[le,Pe]=j.useState("primary"),Ne=j.useRef(null),Ke=j.useCallback(Y=>{Ne.current&&clearTimeout(Ne.current),Ne.current=setTimeout(async()=>{if(Y.length<2){U([]);return}Q(!0);try{const{products:he}=await r({limit:8,searchTerm:Y.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});U(he)}finally{Q(!1)}},300)},[r]),H=Y=>{Y.isFractionable&&Y.saleUnitConversionFactor&&Y.saleUnit!==Y.primaryUnit?(ee(Y),Pe("primary")):(je(Y,Y.primaryUnit),ee(null))},je=(Y,he)=>{let Je=Y.salePrice,St=1;he===Y.saleUnit&&Y.isFractionable&&Y.saleUnitConversionFactor&&(Je=Y.salePrice*Y.saleUnitConversionFactor,St=Y.saleUnitConversionFactor);const Tt=d.findIndex(qe=>qe.id===Y.id&&qe.selectedSaleUnit===he);h(Tt!==-1?d.map((qe,Mt)=>Mt===Tt?{...qe,quantity:qe.quantity+1}:qe):[...d,{id:Y.id,sku:Y.sku,name:Y.name,brand:Y.brand,price:parseFloat(Je.toFixed(2)),quantity:1,stockBeforeSale:Y.stock,primaryUnit:Y.primaryUnit,selectedSaleUnit:he,saleUnitConversionFactor:St}]),c(""),U([]),ee(null)},oe=()=>{!S.name||S.price<=0||(h([...d,{id:`manual-${Date.now()}`,sku:"MANUAL",name:S.name,brand:"Venta Libre",price:S.price,quantity:S.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1}]),v(!1),N({name:"",price:0,quantity:1}))},ve=d.reduce((Y,he)=>Y+he.price*he.quantity,0),G=M.reduce((Y,he)=>Y+he.amount,0),q=ve-G,pe=j.useMemo(()=>T?i.filter(Y=>Y.name.toLowerCase().includes(T.toLowerCase())||Y.cuit.includes(T)).slice(0,5):[],[i,T]),xe=()=>{if(F.amount<=0)return;if(!F.targetBoxId){alert("Por favor seleccione una caja de destino para este pago.");return}const Y=t.paymentCommissions[F.method]||0,he=parseFloat((F.amount*(Y/100)).toFixed(2)),Je=parseFloat((F.amount-he).toFixed(2));V([...M,{...F,id:Date.now().toString(),commissionRate:Y,commissionAmount:he,netAmount:Je}]),z({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""})},Ue=async()=>{if(O!=="presupuesto"&&Math.abs(q)>.01){alert(`Falta cubrir $${q.toLocaleString()} del total.`);return}b(!0);try{const Y=d.map(he=>({id:he.id,sku:he.sku,name:he.name,brand:he.brand,price:he.price,quantity:he.quantity,subtotal:parseFloat((he.price*he.quantity).toFixed(2)),isManual:he.isManual,selectedSaleUnit:he.selectedSaleUnit}));if(O!=="presupuesto"){for(const he of d)if(!he.isManual){const Je=he.quantity*he.saleUnitConversionFactor;await o(he.id,{stock:he.stockBeforeSale-Je})}for(const he of M){const Je=s.find(St=>St.id===he.targetBoxId);Je&&(await a({date:new Date().toISOString(),amount:he.netAmount,type:"ingreso",boxId:he.targetBoxId,category:"venta",description:`Venta ${O.toUpperCase()} - Cliente: ${(A==null?void 0:A.name)||"Mostrador"}`,paymentDetails:[he]}),await l(Je.id,{balance:Je.balance+he.netAmount}))}}await e({clientName:(A==null?void 0:A.name)||"Mostrador",clientId:(A==null?void 0:A.id)||null,items:Y,total:ve,paymentDetails:M,docType:O,date:new Date().toISOString(),status:O==="presupuesto"?"pendiente":"completado",seller:"Usuario Actual",remitoIds:[]}),alert("Operacin completada. Caja y stock actualizados con valores NETOS."),h([]),x(!1),V([]),P(null)}catch(Y){console.error(Y),alert("Error al procesar la venta.")}finally{b(!1)}};return p.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),p.jsx("p",{className:"text-slate-500",children:"Ventas integradas con Tesorera y Stock."})]}),p.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold flex items-center gap-2 border border-slate-200 hover:bg-slate-200 transition-all",children:[p.jsx(dl,{className:"w-4 h-4"})," Venta Libre"]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[p.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:p.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Mi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Busca productos o escanea...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:u,onChange:Y=>{c(Y.target.value),Ke(Y.target.value)}})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[J&&p.jsx("div",{className:"col-span-2 py-10 text-center",children:p.jsx(yr,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),K.map(Y=>p.jsxs("div",{onClick:()=>H(Y),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[p.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:p.jsx(_D,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-bold text-slate-800 truncate",children:Y.name}),p.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[Y.sku,"  Stock: ",Y.stock]})]}),p.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",Y.salePrice.toLocaleString()]})]},Y.id))]})]})}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:p.jsx("div",{className:"relative",children:A?p.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[p.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:p.jsx(CD,{className:"w-5 h-5"})}),p.jsx("div",{className:"min-w-0",children:p.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:A.name})})]}),p.jsx("button",{onClick:()=>P(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:p.jsx(Jn,{className:"w-4 h-4"})})]}):p.jsxs("div",{className:"relative",children:[p.jsx(Mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:T,onChange:Y=>{C(Y.target.value),R(!0)},onFocus:()=>R(!0)}),I&&T.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden",children:p.jsx("div",{className:"p-1 space-y-1",children:pe.map(Y=>p.jsxs("button",{onClick:()=>{P(Y),C(""),R(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between text-left",children:[p.jsx("span",{className:"font-bold text-xs",children:Y.name}),p.jsx(vA,{className:"w-3 h-3 text-slate-300"})]},Y.id))})})]})})}),p.jsx("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:p.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[p.jsx(gg,{className:"w-5 h-5 text-orange-600"})," Carrito"]})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:d.map((Y,he)=>p.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[p.jsxs("div",{className:"min-w-0",children:[p.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:Y.name}),p.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[Y.quantity," x $",Y.price.toLocaleString()]})]}),p.jsx("button",{onClick:()=>h(d.filter((Je,St)=>St!==he)),className:"text-slate-300 hover:text-red-500",children:p.jsx(Ls,{className:"w-4 h-4"})})]},he))}),p.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total"}),p.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",ve.toLocaleString()]})]}),p.jsxs("button",{disabled:d.length===0,onClick:()=>x(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3",children:["COBRAR ",p.jsx(vA,{className:"w-6 h-6"})]})]})]})]}),y&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Pago"}),p.jsx("button",{onClick:()=>x(!1),className:"p-2 bg-slate-100 rounded-full",children:p.jsx(Jn,{className:"w-6 h-6 text-slate-400"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Detalle de Medios de Pago"}),p.jsx("div",{className:"space-y-2",children:M.map(Y=>{var he;return p.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Bc,{className:"w-5 h-5 text-green-500"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"font-bold text-slate-700 capitalize",children:Y.method.replace("_"," ")}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:["Hacia: ",(he=s.find(Je=>Je.id===Y.targetBoxId))==null?void 0:he.name]}),Y.commissionAmount>0&&p.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-orange-100 text-orange-700 rounded",children:["Comisin ",Y.commissionRate,"% (-$",Y.commissionAmount,")"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-black text-slate-900",children:["$",Y.amount.toLocaleString()]}),p.jsxs("p",{className:"text-[10px] text-green-600 font-bold",children:["Neto: $",Y.netAmount.toLocaleString()]})]}),p.jsx("button",{onClick:()=>V(M.filter(Je=>Je.id!==Y.id)),className:"text-red-400 hover:text-red-600",children:p.jsx(Ls,{className:"w-4 h-4"})})]})]},Y.id)})}),p.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[p.jsxs("div",{className:"space-y-1 md:col-span-1",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Medio"}),p.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:F.method,onChange:Y=>z({...F,method:Y.target.value}),children:[p.jsx("option",{value:"efectivo",children:"Efectivo"}),p.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),p.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),p.jsx("option",{value:"transferencia",children:"Transferencia"}),p.jsx("option",{value:"cuenta_corriente",children:"Cta. Corriente"})]})]}),p.jsxs("div",{className:"space-y-1 md:col-span-1",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Monto Bruto"}),p.jsxs("div",{className:"relative",children:[p.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),p.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:F.amount||"",onChange:Y=>z({...F,amount:parseFloat(Y.target.value)||0})})]})]}),p.jsxs("div",{className:"space-y-1 md:col-span-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Caja Destino"}),p.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs bg-white",value:F.targetBoxId,onChange:Y=>z({...F,targetBoxId:Y.target.value}),children:[p.jsx("option",{value:"",children:"Seleccionar Caja..."}),s.filter(Y=>Y.status==="abierta").map(Y=>p.jsxs("option",{value:Y.id,children:[Y.name," ($",Y.balance.toLocaleString(),")"]},Y.id))]})]})]}),F.amount>0&&p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-100 rounded-xl animate-in fade-in",children:[p.jsx(mg,{className:"w-4 h-4 text-orange-600"}),p.jsxs("span",{className:"text-[10px] font-bold text-orange-800 uppercase",children:["Comisin bancaria: ",t.paymentCommissions[F.method]||0,"% (-$",(F.amount*((t.paymentCommissions[F.method]||0)/100)).toFixed(2),"). Ingresar neto a caja: $",(F.amount*(1-(t.paymentCommissions[F.method]||0)/100)).toFixed(2)]})]}),p.jsxs("button",{onClick:xe,className:"w-full py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[p.jsx(ti,{className:"w-4 h-4"})," Registrar Cobro"]})]})]})]}),p.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Liquidacin Final"}),p.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:O})]}),p.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[p.jsxs("div",{className:"flex justify-between items-baseline",children:[p.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),p.jsxs("span",{className:"text-4xl font-black text-white",children:["$",ve.toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between items-center text-green-400 font-bold uppercase text-[10px] tracking-widest",children:[p.jsx("span",{children:"A Recibir (Neto)"}),p.jsxs("span",{children:["$",M.reduce((Y,he)=>Y+he.netAmount,0).toLocaleString()]})]})]}),p.jsx("div",{className:"space-y-4 pt-8 border-t border-white/10",children:p.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[p.jsx("span",{className:"text-slate-400",children:"Restante Cobrar:"}),p.jsxs("span",{className:q>0?"text-red-500":"text-orange-500",children:["$",q.toLocaleString()]})]})})]}),p.jsxs("button",{onClick:Ue,disabled:_||O!=="presupuesto"&&Math.abs(q)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[_?p.jsx(yr,{className:"w-6 h-6 animate-spin"}):p.jsx(Bc,{className:"w-6 h-6"}),_?"PROCESANDO...":"FINALIZAR VENTA"]})]})]})}),w&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),p.jsx("button",{onClick:()=>v(!1),children:p.jsx(Jn,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-8 space-y-5",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Descripcin"}),p.jsx("input",{type:"text",value:S.name,onChange:Y=>N({...S,name:Y.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Precio"}),p.jsx("input",{type:"number",value:S.price||"",onChange:Y=>N({...S,price:parseFloat(Y.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none font-bold"})]})}),p.jsx("button",{onClick:oe,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Aadir"})]})]})})]})};var tye={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nye,rye;function iye(){return{geminiUrl:nye,vertexUrl:rye}}function oye(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=iye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zi{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>f(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function sye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}L_(t,i,o,0,s)}}function L_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])L_(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);g(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&L_(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aye(t){const e={},n=f(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function lye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],cye(s)),e}function uye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],dye(s)),e}function cye(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>fye(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function dye(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>hye(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function fye(t){const e={},n=f(t,["video"]);return n!=null&&g(e,["video"],xye(n)),e}function hye(t){const e={},n=f(t,["_self"]);return n!=null&&g(e,["video"],_ye(n)),e}function pye(t){const e={},n=f(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function mye(t){const e={},n=f(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function gye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],yye(s)),e}function yye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function oU(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],vye(s)),e}function vye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function xye(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],eS(r));const i=f(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function _ye(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],eS(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uN||(uN={}));var cN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(cN||(cN={}));var dN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(dN||(dN={}));var mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mt||(mt={}));var fN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fN||(fN={}));var hN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hN||(hN={}));var pN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pN||(pN={}));var mN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mN||(mN={}));var gN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(gN||(gN={}));var yN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yN||(yN={}));var vN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(vN||(vN={}));var xN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(xN||(xN={}));var _N;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_N||(_N={}));var wN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wN||(wN={}));var bN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bN||(bN={}));var EN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(EN||(EN={}));var SN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(SN||(SN={}));var TN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(TN||(TN={}));var AN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(AN||(AN={}));var IN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(IN||(IN={}));var CN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(CN||(CN={}));var Am;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Am||(Am={}));var PN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(PN||(PN={}));var NN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(NN||(NN={}));var kN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kN||(kN={}));var j_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(j_||(j_={}));var RN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RN||(RN={}));var MN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(MN||(MN={}));var $_;(function(t){t.COLLECTION="COLLECTION"})($_||($_={}));var ON;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ON||(ON={}));var DN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DN||(DN={}));var LN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(LN||(LN={}));var jN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jN||(jN={}));var $N;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($N||($N={}));var UN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(UN||(UN={}));var VN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(VN||(VN={}));var FN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(FN||(FN={}));var BN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BN||(BN={}));var qN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(qN||(qN={}));var GN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(GN||(GN={}));var zN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zN||(zN={}));var HN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(HN||(HN={}));var WN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(WN||(WN={}));var KN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(KN||(KN={}));var JN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(JN||(JN={}));var YN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(YN||(YN={}));var XN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(XN||(XN={}));var QN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(QN||(QN={}));var ZN;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ZN||(ZN={}));var ek;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(ek||(ek={}));var tk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tk||(tk={}));var nk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nk||(nk={}));var rk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rk||(rk={}));var ik;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ik||(ik={}));var ok;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ok||(ok={}));var sk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(sk||(sk={}));var Ca;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ca||(Ca={}));class U_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $u{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,x]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(x!==null||x!==void 0)&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class ak{}class lk{}class wye{}class bye{}class Eye{}class Sye{}class uk{}class ck{}class dk{}class Tye{}class Im{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Im;let i;const o=e;return n?i=uye(o):i=lye(o),Object.assign(r,i),r}}class fk{}class hk{}class pk{}class mk{}class Aye{}class Iye{}class Cye{}class tS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new tS,o=gye(e);return Object.assign(r,o),r}}class Pye{}class Nye{}class kye{}class gk{}class Rye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Mye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class nS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new nS,o=oU(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sU(t,e){const n=We(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function aU(t){return Array.isArray(t)?t.map(e=>Cm(e)):[Cm(t)]}function Cm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function lU(t){const e=Cm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uU(t){const e=Cm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function cU(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yk(e)):[yk(t)]}function V_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function xn(t){if(t==null)throw new Error("ContentUnion is required");return V_(t)?t:{role:"user",parts:cU(t)}}function rS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=xn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=xn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>xn(n)):[xn(e)]}function pr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vk(t)||xk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xn(t)]}const e=[],n=[],r=V_(t[0]);for(const i of t){const o=V_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(vk(i)||xk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:cU(n)}),e}function Oye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mt).includes(n[0].toUpperCase())?n[0].toUpperCase():mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mt).includes(r.toUpperCase())?r.toUpperCase():mt.TYPE_UNSPECIFIED})}}function Ha(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Oye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(mt).includes(a.toUpperCase())?a.toUpperCase():mt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ha(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Ha(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=Ha(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function iS(t){return Ha(t)}function oS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function sS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ru(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ha(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ha(e.response));return t}function iu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Dye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Hi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Dye(t,e,"cachedContents")}function dU(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ko(t){return eS(t)}function Lye(t){return t!=null&&typeof t=="object"&&"name"in t}function jye(t){return t!=null&&typeof t=="object"&&"video"in t}function $ye(t){return t!=null&&typeof t=="object"&&"uri"in t}function fU(t){var e;let n;if(Lye(t)&&(n=t.name),!($ye(t)&&(n=t.uri,n===void 0))&&!(jye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function hU(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function pU(t){for(const e of["models","tunedModels","publisherModels"])if(Uye(t,e))return t[e];return[]}function Uye(t,e){return t!==null&&typeof t=="object"&&e in t}function Vye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Fye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Vye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function mU(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Bye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gU(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ou(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yU(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qye(t){const e={},n=f(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Eve(s))),g(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function Gye(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function zye(t){const e={},n=f(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Mh(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&g(e,["state"],yU(i));const o=f(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=f(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=f(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=f(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&g(e,["dest"],qye(gU(u))),e}function F_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["state"]);i!=null&&g(e,["state"],yU(i));const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=f(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=f(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&g(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&g(e,["src"],Hye(d));const h=f(t,["outputConfig"]);h!=null&&g(e,["dest"],Gye(gU(h)));const y=f(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function Hye(t){const e={},n=f(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Wye(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>bve(t,s))),g(n,["requests","requests"],o)}return n}function Kye(t){const e={},n=f(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Jye(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Yye(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function Xye(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function Qye(t){const e={},n=f(t,["content"]);n!=null&&g(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Zye(r));const i=f(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&g(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Zye(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function vU(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Nve(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function eve(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tve(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],zye(Bye(i))),n}function _k(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Wye(t,mU(t,i)));const o=f(e,["config"]);return o!=null&&eve(o,n),n}function nve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],We(t,r));const i=f(e,["src"]);i!=null&&g(n,["inputConfig"],Kye(mU(t,i)));const o=f(e,["config"]);return o!=null&&tve(o,n),n}function rve(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function ive(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["src"]);i!=null&&g(n,["batch","inputConfig"],dve(t,i));const o=f(e,["config"]);return o!=null&&rve(o,n),n}function ove(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function sve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function ave(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);return o!=null&&g(e,["error"],o),e}function lve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);return o!=null&&g(e,["error"],o),e}function uve(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=rS(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(g(n,["_self"],cve(i,n)),sye(n,{"requests[].*":"requests[].request.*"})),n}function cve(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dve(t,e){const n={},r=f(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],uve(t,i)),n}function fve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function hve(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mve(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],vU(xn(i)));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=f(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const _=f(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],iS(_));const b=f(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(V=>kve(V))),g(n,["safetySettings"],M)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let M=iu(N);Array.isArray(M)&&(M=M.map(V=>Mve(ru(V)))),g(n,["tools"],M)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],Rve(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],Hi(t,P));const T=f(e,["responseModalities"]);T!=null&&g(r,["responseModalities"],T);const C=f(e,["mediaResolution"]);C!=null&&g(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],oS(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const O=f(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],wve(O));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function gve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Qye(u))),g(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function yve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function vve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function xve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function _ve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function wve(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["request","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let a=pr(i);Array.isArray(a)&&(a=a.map(l=>vU(l))),g(n,["request","contents"],a)}const o=f(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=f(e,["config"]);return s!=null&&g(n,["request","generationConfig"],mve(t,s,f(n,["request"],{}))),n}function Eve(t){const e={},n=f(t,["response"]);n!=null&&g(e,["response"],gve(n));const r=f(t,["error"]);return r!=null&&g(e,["error"],r),e}function Sve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Tve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function Ave(t){const e={},n=f(t,["config"]);return n!=null&&Sve(n,e),e}function Ive(t){const e={},n=f(t,["config"]);return n!=null&&Tve(n,e),e}function Cve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Mh(s))),g(e,["batchJobs"],o)}return e}function Pve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>F_(s))),g(e,["batchJobs"],o)}return e}function Nve(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],fve(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],hve(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Jye(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function kve(t){const e={},n=f(t,["category"]);if(n!=null&&g(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Rve(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],pve(r)),e}function Mve(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],xve(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],_ve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ui;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ui||(Ui={}));class Xs{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ove extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xs(Ui.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=_k(this.apiClient,e),r=n._url,i=fe("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const y=d.request;y.systemInstruction=h,d.request=y}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nve(this.apiClient,e);return a=fe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>F_(c))}else{const u=_k(this.apiClient,e);return a=fe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Mh(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ive(this.apiClient,e);return o=fe("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Mh(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vve(this.apiClient,e);return a=fe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>F_(c))}else{const u=yve(this.apiClient,e);return a=fe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Mh(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Xye(this.apiClient,e);s=fe("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Yye(this.apiClient,e);s=fe("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ive(e);return a=fe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Pve(c),h=new gk;return Object.assign(h,d),h})}else{const u=Ave(e);return a=fe("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Cve(c),h=new gk;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sve(this.apiClient,e);return a=fe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>lve(c))}else{const u=ove(this.apiClient,e);return a=fe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>ave(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dve(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wk(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>i0e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Lve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let c=pr(s);Array.isArray(c)&&(c=c.map(d=>wk(d))),g(e,["contents"],c)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],wk(xn(a)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>s0e(d))),g(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],o0e(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function jve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let d=pr(s);Array.isArray(d)&&(d=d.map(h=>h)),g(e,["contents"],d)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],xn(a));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>a0e(h))),g(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function $ve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],sU(t,r));const i=f(e,["config"]);return i!=null&&Lve(i,n),n}function Uve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],sU(t,r));const i=f(e,["config"]);return i!=null&&jve(i,n),n}function Vve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Fve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Bve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function qve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Gve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function zve(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wve(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Kve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Jve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],Hi(t,r)),n}function Yve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Xve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Qve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Zve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function e0e(t){const e={},n=f(t,["config"]);return n!=null&&Qve(n,e),e}function t0e(t){const e={},n=f(t,["config"]);return n!=null&&Zve(n,e),e}function n0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function r0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function i0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],Gve(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],zve(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Dve(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function o0e(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Hve(r)),e}function s0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Yve(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Xve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function a0e(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Wve(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function l0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function u0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function c0e(t,e){const n={},r=f(e,["name"]);r!=null&&g(n,["_url","name"],Hi(t,r));const i=f(e,["config"]);return i!=null&&l0e(i,n),n}function d0e(t,e){const n={},r=f(e,["name"]);r!=null&&g(n,["_url","name"],Hi(t,r));const i=f(e,["config"]);return i!=null&&u0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f0e extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xs(Ui.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Uve(this.apiClient,e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=$ve(this.apiClient,e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Jve(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Kve(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Fve(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=qve(c),h=new pk;return Object.assign(h,d),h})}else{const u=Vve(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Bve(c),h=new pk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=d0e(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=c0e(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=t0e(e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=r0e(c),h=new mk;return Object.assign(h,d),h})}else{const u=e0e(e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=n0e(c),h=new mk;return Object.assign(h,d),h})}}}function Pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(t){return this instanceof Ae?(this.v=t,this):new Ae(t)}function Or(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,d)}}function a(y,x){r[y]&&(i[y]=function(w){return new Promise(function(v,_){o.push([y,w,v,_])>1||l(y,w)})},x&&(i[y]=x(i[y])))}function l(y,x){try{u(r[y](x))}catch(w){h(o[0][3],w)}}function u(y){y.value instanceof Ae?Promise.resolve(y.value.v).then(c,d):h(o[0][2],y)}function c(y){l("next",y)}function d(y){l("throw",y)}function h(y,x){y(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Dr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bk=="function"?bk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:xU(n)}function xU(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function p0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ek(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!xU(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class m0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new g0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class g0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),p0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=xn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=xn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Ek(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Or(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,h=Dr(e),y;y=yield Ae(h.next()),i=y.done,!i;d=!0){a=y.value,d=!1;const x=a;if(h0e(x)){const w=(u=(l=x.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield Ae(x)}}catch(x){o={error:x}}finally{try{!d&&!i&&(s=h.return)&&(yield Ae(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ek(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Id extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Id.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y0e(t){const e={},n=f(t,["file"]);return n!=null&&g(e,["file"],n),e}function v0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function x0e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","file"],fU(n)),e}function _0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function w0e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","file"],fU(n)),e}function b0e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function E0e(t){const e={},n=f(t,["config"]);return n!=null&&b0e(n,e),e}function S0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T0e extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xs(Ui.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=E0e(e);return o=fe("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=S0e(l),c=new Pye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=y0e(e);return o=fe("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=v0e(l),c=new Nye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=w0e(e);return o=fe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=x0e(e);return o=fe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_0e(l),c=new kye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oh(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function A0e(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>B0e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function I0e(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function C0e(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function P0e(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function N0e(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const x=f(t,["responseModalities"]);x!=null&&g(e,["responseModalities"],x);const w=f(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const _=f(t,["seed"]);_!=null&&g(e,["seed"],_);const b=f(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const S=f(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const N=f(t,["temperature"]);N!=null&&g(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&g(e,["topK"],P);const T=f(t,["topP"]);if(T!=null&&g(e,["topP"],T),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function k0e(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function R0e(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function M0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],sS(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=f(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],A0e(xn(x)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=iu(w);Array.isArray(P)&&(P=P.map(T=>G0e(ru(T)))),g(e,["setup","tools"],P)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],q0e(v));const _=f(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function O0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],N0e(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],sS(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=f(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],xn(x));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let T=iu(w);Array.isArray(T)&&(T=T.map(C=>z0e(ru(C)))),g(e,["setup","tools"],T)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],v);const _=f(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);e!==void 0&&A!=null&&g(e,["setup","proactivity"],A);const P=f(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&g(e,["setup","explicitVadSignal"],P),n}function D0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],M0e(i,n)),n}function L0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],O0e(i,n)),n}function j0e(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function $0e(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function U0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=aU(n);Array.isArray(u)&&(u=u.map(c=>Oh(c))),g(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],Oh(uU(r)));const i=f(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&g(e,["video"],Oh(lU(o)));const s=f(t,["text"]);s!=null&&g(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function V0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=aU(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],uU(r));const i=f(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&g(e,["video"],lU(o));const s=f(t,["text"]);s!=null&&g(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function F0e(t){const e={},n=f(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=f(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],H0e(s));const a=f(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=f(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=f(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],W0e(c)),e}function B0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],I0e(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],C0e(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Oh(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function q0e(t){const e={},n=f(t,["handle"]);if(n!=null&&g(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function G0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],k0e(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],R0e(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function z0e(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>P0e(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function H0e(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=f(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=f(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=f(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["promptTokensDetails"],y)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["cacheTokensDetails"],y)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["responseTokensDetails"],y)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["toolUsePromptTokensDetails"],y)}const h=f(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function W0e(t){const e={},n=f(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K0e(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function J0e(t){const e={},n=f(t,["content"]);n!=null&&g(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Y0e(r));const i=f(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&g(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Y0e(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function X0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let o=pr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function Q0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function Z0e(t){const e={},n=f(t,["values"]);n!=null&&g(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&g(e,["statistics"],exe(r)),e}function exe(t){const e={},n=f(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function oy(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>u_e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function txe(t){const e={},n=f(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function nxe(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rxe(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],xn(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>EU(a))),g(e,["tools"],s)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],Kxe(o)),n}function ixe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(a=>oy(a))),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&nxe(o),n}function oxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&rxe(o,n),n}function sxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function axe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function lxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function uxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function cxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function dxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function fxe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const x=f(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const v=f(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const _=f(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const b=f(t,["editMode"]);e!==void 0&&b!=null&&g(e,["parameters","editMode"],b);const S=f(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function hxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>m_e(l))),g(n,["instances[0]","referenceImages"],a)}const s=f(e,["config"]);return s!=null&&fxe(s,n),n}function pxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>sy(o))),g(e,["generatedImages"],i)}return e}function mxe(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gxe(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=f(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=f(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function yxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let a=rS(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=f(e,["config"]);o!=null&&mxe(o,n);const s=f(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],We(t,s)),n}function vxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let s=rS(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=f(e,["config"]);return o!=null&&gxe(o,n),n}function xxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function _xe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Z0e(s))),g(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function wxe(t){const e={},n=f(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function bxe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Exe(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sxe(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Txe(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Axe(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],oy(xn(i)));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=f(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const _=f(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],iS(_));const b=f(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(V=>g_e(V))),g(n,["safetySettings"],M)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let M=iu(N);Array.isArray(M)&&(M=M.map(V=>E_e(ru(V)))),g(n,["tools"],M)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],b_e(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],Hi(t,P));const T=f(e,["responseModalities"]);T!=null&&g(r,["responseModalities"],T);const C=f(e,["mediaResolution"]);C!=null&&g(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],oS(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const O=f(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],Zxe(O));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Ixe(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],xn(i));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=f(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const _=f(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],iS(_));const b=f(e,["responseJsonSchema"]);b!=null&&g(r,["responseJsonSchema"],b);const S=f(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const N=f(e,["modelSelectionConfig"]);N!=null&&g(r,["modelConfig"],N);const A=f(e,["safetySettings"]);if(n!==void 0&&A!=null){let K=A;Array.isArray(K)&&(K=K.map(U=>U)),g(n,["safetySettings"],K)}const P=f(e,["tools"]);if(n!==void 0&&P!=null){let K=iu(P);Array.isArray(K)&&(K=K.map(U=>EU(ru(U)))),g(n,["tools"],K)}const T=f(e,["toolConfig"]);n!==void 0&&T!=null&&g(n,["toolConfig"],T);const C=f(e,["labels"]);n!==void 0&&C!=null&&g(n,["labels"],C);const I=f(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],Hi(t,I));const R=f(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const O=f(e,["mediaResolution"]);O!=null&&g(r,["mediaResolution"],O);const D=f(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],oS(D));const M=f(e,["audioTimestamp"]);M!=null&&g(r,["audioTimestamp"],M);const V=f(e,["thinkingConfig"]);V!=null&&g(r,["thinkingConfig"],V);const F=f(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],e_e(F)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=f(e,["modelArmorConfig"]);return n!==void 0&&z!=null&&g(n,["modelArmorConfig"],z),r}function Sk(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(a=>oy(a))),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&g(n,["generationConfig"],Axe(t,o,n)),n}function Tk(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["contents"]);if(i!=null){let s=pr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&g(n,["generationConfig"],Ixe(t,o,n)),n}function Ak(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>J0e(u))),g(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function Ik(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=f(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=f(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=f(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function Cxe(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=f(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=f(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Pxe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const x=f(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const v=f(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const _=f(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b);const S=f(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function Nxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Cxe(o,n),n}function kxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Pxe(o,n),n}function Rxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Gxe(s))),g(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],wU(i)),e}function Mxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>sy(s))),g(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],bU(i)),e}function Oxe(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=f(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=f(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],ay(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>L_e(y))),g(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Dxe(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=f(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=f(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=f(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const x=f(t,["generateAudio"]);e!==void 0&&x!=null&&g(e,["parameters","generateAudio"],x);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],Ur(w));const v=f(t,["referenceImages"]);if(e!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(N=>j_e(N))),g(e,["instances[0]","referenceImages"],S)}const _=f(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],D_e(_));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&g(e,["parameters","compressionQuality"],b),n}function Lxe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],Vxe(s)),e}function jxe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],Fxe(s)),e}function $xe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&g(n,["instances[0]","image"],ay(o));const s=f(e,["video"]);s!=null&&g(n,["instances[0]","video"],SU(s));const a=f(e,["source"]);a!=null&&Bxe(a,n);const l=f(e,["config"]);return l!=null&&Oxe(l,n),n}function Uxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&g(n,["instances[0]","image"],Ur(o));const s=f(e,["video"]);s!=null&&g(n,["instances[0]","video"],TU(s));const a=f(e,["source"]);a!=null&&qxe(a,n);const l=f(e,["config"]);return l!=null&&Dxe(l,n),n}function Vxe(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Hxe(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Fxe(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Wxe(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Bxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ay(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],SU(o)),n}function qxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Ur(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],TU(o)),n}function Gxe(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["image"],t_e(n));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],wU(i)),e}function sy(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["image"],_U(n));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&g(e,["safetyAttributes"],bU(i));const o=f(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function zxe(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["mask"],_U(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function Hxe(t){const e={},n=f(t,["video"]);return n!=null&&g(e,["video"],M_e(n)),e}function Wxe(t){const e={},n=f(t,["_self"]);return n!=null&&g(e,["video"],O_e(n)),e}function Kxe(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const x=f(t,["responseModalities"]);x!=null&&g(e,["responseModalities"],x);const w=f(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const _=f(t,["seed"]);_!=null&&g(e,["seed"],_);const b=f(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const S=f(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const N=f(t,["temperature"]);N!=null&&g(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&g(e,["topK"],P);const T=f(t,["topP"]);if(T!=null&&g(e,["topP"],T),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Jxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function Yxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function Xxe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Qxe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Zxe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function e_e(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=f(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function t_e(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Ko(n));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _U(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Ko(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ay(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Ko(n));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Ur(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ko(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function n_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],hU(t,a)),r}function r_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],hU(t,a)),r}function i_e(t,e){const n={},r=f(e,["config"]);return r!=null&&n_e(t,r,n),n}function o_e(t,e){const n={},r=f(e,["config"]);return r!=null&&r_e(t,r,n),n}function s_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=pU(i);Array.isArray(o)&&(o=o.map(s=>B_(s))),g(e,["models"],o)}return e}function a_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=pU(i);Array.isArray(o)&&(o=o.map(s=>q_(s))),g(e,["models"],o)}return e}function l_e(t){const e={},n=f(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function B_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);i!=null&&g(e,["description"],i);const o=f(t,["version"]);o!=null&&g(e,["version"],o);const s=f(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],S_e(s));const a=f(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=f(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&g(e,["topP"],h);const y=f(t,["topK"]);y!=null&&g(e,["topK"],y);const x=f(t,["thinking"]);return x!=null&&g(e,["thinking"],x),e}function q_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);i!=null&&g(e,["description"],i);const o=f(t,["versionId"]);o!=null&&g(e,["version"],o);const s=f(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>wxe(h))),g(e,["endpoints"],d)}const a=f(t,["labels"]);a!=null&&g(e,["labels"],a);const l=f(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],T_e(l));const u=f(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),g(e,["checkpoints"],d)}return e}function u_e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],bxe(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],Exe(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],K0e(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function c_e(t){const e={},n=f(t,["productImage"]);return n!=null&&g(e,["image"],Ur(n)),e}function d_e(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=f(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=f(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function f_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["source"]);i!=null&&p_e(i,n);const o=f(e,["config"]);return o!=null&&d_e(o,n),n}function h_e(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sy(i))),g(e,["generatedImages"],r)}return e}function p_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Ur(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>c_e(a))),g(e,["instances[0]","productImages"],s)}return n}function m_e(t){const e={},n=f(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Ur(n));const r=f(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],l_e(o));const s=f(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],txe(s));const a=f(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=f(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function wU(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function bU(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function g_e(t){const e={},n=f(t,["category"]);if(n!=null&&g(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function y_e(t){const e={},n=f(t,["image"]);return n!=null&&g(e,["image"],Ur(n)),e}function v_e(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=f(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=f(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=f(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function x_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["source"]);i!=null&&w_e(i,n);const o=f(e,["config"]);return o!=null&&v_e(o,n),n}function __e(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zxe(i))),g(e,["generatedMasks"],r)}return e}function w_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Ur(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],y_e(o)),n}function b_e(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Sxe(r)),e}function E_e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Xxe(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Qxe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function EU(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Txe(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function S_e(t){const e={},n=f(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function T_e(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function A_e(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function I_e(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function C_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","name"],We(t,r));const i=f(e,["config"]);return i!=null&&A_e(i,n),n}function P_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["config"]);return i!=null&&I_e(i,n),n}function N_e(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=f(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=f(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=f(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function k_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=f(e,["image"]);i!=null&&g(n,["instances[0]","image"],Ur(i));const o=f(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=f(e,["config"]);return s!=null&&N_e(s,n),n}function R_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>sy(o))),g(e,["generatedImages"],i)}return e}function M_e(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],Ko(r));const i=f(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function O_e(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Ko(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function D_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["_self"],Ur(n));const r=f(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function L_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["image"],ay(n));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function j_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["image"],Ur(n));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function SU(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],Ko(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function TU(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ko(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_e(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function U_e(t){const e={},n=f(t,["config"]);return n!=null&&$_e(n,e),e}function V_e(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function F_e(t){const e={},n=f(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&V_e(r,e),e}function B_e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function q_e(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function G_e(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],H_e(s)),e}function z_e(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&q_e(i,e),e}function H_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function W_e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function K_e(t){const e={},n=f(t,["config"]);return n!=null&&W_e(n,e),e}function J_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function AU(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=f(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function Y_e(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&AU(r,e),e}function X_e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q_e="Content-Type",Z_e="X-Server-Timeout",ewe="User-Agent",G_="x-goog-api-client",twe="1.38.0",nwe=`google-genai-sdk/${twe}`,rwe="v1beta1",iwe="v1beta";class owe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rwe}else{if(!this.clientOptions.apiKey)throw new Id({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:iwe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===$_.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&swe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ck(i),new U_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ck(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Or(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Ae(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const x=JSON.parse(d);if("error"in x){const w=JSON.parse(JSON.stringify(x.error)),v=w.status,_=w.code,b=`got status: ${v}. ${JSON.stringify(x)}`;if(_>=400&&_<600)throw new Id({message:b,status:_})}}catch(x){if(x.name==="ApiError")throw x}s+=d;let h=-1,y=0;for(;;){h=-1,y=0;for(const v of l){const _=s.indexOf(v);_!==-1&&(h===-1||_<h)&&(h=_,y=v.length)}if(h===-1)break;const x=s.substring(0,h);s=s.substring(h+y);const w=x.trim();if(w.startsWith(a)){const v=w.substring(a.length).trim();try{const _=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ae(new U_(_))}catch(_){throw new Error(`exception parsing stream chunk ${v}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=nwe+" "+this.clientOptions.userAgentExtra;return e[ewe]=n,e[G_]=n,e[Q_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Z_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=fe("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&AU(r,d);const h=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ck(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Id({message:i,status:n}):new Error(i)}}function swe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const awe="mcp_used/unknown";let lwe=!1;function IU(t){for(const e of t)if(uwe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return lwe}function CU(t){var e;const n=(e=t[G_])!==null&&e!==void 0?e:"";t[G_]=(n+` ${awe}`).trimStart()}function uwe(t){return t!==null&&typeof t=="object"&&t instanceof aS}function cwe(t){return Or(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Ae(n.listTools({cursor:i}));for(const a of s.tools)yield yield Ae(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class aS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new aS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Dr(cwe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Fye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dwe(t,e,n){const r=new Mye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class fwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=mwe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,h=function(){u({})},y=this.apiClient,x={onopen:h,onmessage:S=>{dwe(y,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},w=this.webSocketFactory.create(l,pwe(s),x);w.connect(),await c;const b={setup:{model:We(this.apiClient,e.model)}};return w.send(JSON.stringify(b)),new hwe(w,this.apiClient)}}class hwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=j0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ca.PLAY)}pause(){this.sendPlaybackControl(Ca.PAUSE)}stop(){this.sendPlaybackControl(Ca.STOP)}resetContext(){this.sendPlaybackControl(Ca.RESET_CONTEXT)}close(){this.conn.close()}}function pwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ywe(t,e,n){const r=new Rye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=F0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class vwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new fwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&IU(e.config.tools)&&CU(d);const h=bwe(d);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),D=!!I&&!!R||!!O;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${O}=${I}`}let y=()=>{};const x=new Promise(I=>{y=I}),w=e.callbacks,v=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),y({})},_=this.apiClient,b={onopen:v,onmessage:I=>{ywe(_,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(c,wwe(h),b);S.connect(),await x;let N=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(N=`projects/${I}/locations/${R}/`+N)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Am.AUDIO]}:e.config.responseModalities=[Am.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],T=[];for(const I of P)if(this.isCallableTool(I)){const R=I;T.push(await R.tool())}else T.push(I);T.length>0&&(e.config.tools=T);const C={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=L0e(this.apiClient,C):A=D0e(this.apiClient,C),delete A.config,S.send(JSON.stringify(A)),new _we(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const xwe={turnComplete:!0};class _we{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=pr(n.turns),e.isVertexAI()||(r=r.map(i=>oy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(gwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},xwe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:V0e(e)}:n={realtimeInput:U0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function wwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function bwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pk=10;function Nk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Wa(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Wa(t){return"callTool"in t&&typeof t.callTool=="function"}function Ewe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Wa(i)))!==null&&r!==void 0?r:!1}function kk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Wa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Rk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Swe extends zi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Ewe(n)||Nk(n.config))return await this.generateContentInternal(l);const u=kk(n);if(u.length>0){const w=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=pr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Pk;let x=0;for(;x<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,v=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Wa(_)){const S=await _.callTool(c.functionCalls);v.push(...S)}x++,d={role:"user",parts:v},l.contents=pr(l.contents),l.contents.push(w),l.contents.push(d),Rk(l.config)&&(h.push(w),h.push(d))}return Rk(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),Nk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=kk(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Xs(Ui.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Wa(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&IU(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),CU(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wa(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Pk;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Or(this,arguments,function*(){for(var h,y,x,w,v,_;a<o;){s&&(a++,s=!1);const A=yield Ae(u.processParamsMaybeAddMcpUsage(d)),P=yield Ae(u.generateContentStreamInternal(A)),T=[],C=[];try{for(var b=!0,S=(y=void 0,Dr(P)),N;N=yield Ae(S.next()),h=N.done,!h;b=!0){w=N.value,b=!1;const I=w;if(yield yield Ae(I),I.candidates&&(!((v=I.candidates[0])===null||v===void 0)&&v.content)){C.push(I.candidates[0].content);for(const R of(_=I.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(R.functionCall.name)){const O=yield Ae(c.get(R.functionCall.name).callTool([R.functionCall]));T.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!b&&!h&&(x=S.return)&&(yield Ae(x.call(S)))}finally{if(y)throw y.error}}if(T.length>0){s=!0;const I=new $u;I.candidates=[{content:{role:"user",parts:T}}],yield yield Ae(I);const R=[];R.push(...C),R.push({role:"user",parts:T});const O=pr(d.contents).concat(R);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Tk(this.apiClient,e);return a=fe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ik(c),h=new $u;return Object.assign(h,d),h})}else{const u=Sk(this.apiClient,e);return a=fe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ak(c),h=new $u;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Tk(this.apiClient,e);return a=fe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Or(this,arguments,function*(){var h,y,x,w;try{for(var v=!0,_=Dr(d),b;b=yield Ae(_.next()),h=b.done,!h;v=!0){w=b.value,v=!1;const S=w,N=Ik(yield Ae(S.json()));N.sdkHttpResponse={headers:S.headers};const A=new $u;Object.assign(A,N),yield yield Ae(A)}}catch(S){y={error:S}}finally{try{!v&&!h&&(x=_.return)&&(yield Ae(x.call(_)))}finally{if(y)throw y.error}}})})}else{const u=Sk(this.apiClient,e);return a=fe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return Or(this,arguments,function*(){var h,y,x,w;try{for(var v=!0,_=Dr(d),b;b=yield Ae(_.next()),h=b.done,!h;v=!0){w=b.value,v=!1;const S=w,N=Ak(yield Ae(S.json()));N.sdkHttpResponse={headers:S.headers};const A=new $u;Object.assign(A,N),yield yield Ae(A)}}catch(S){y={error:S}}finally{try{!v&&!h&&(x=_.return)&&(yield Ae(x.call(_)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vxe(this.apiClient,e);return a=fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=_xe(c),h=new ak;return Object.assign(h,d),h})}else{const u=yxe(this.apiClient,e);return a=fe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=xxe(c),h=new ak;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kxe(this.apiClient,e);return a=fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Mxe(c),h=new lk;return Object.assign(h,d),h})}else{const u=Nxe(this.apiClient,e);return a=fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Rxe(c),h=new lk;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=hxe(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=pxe(l),c=new wye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=k_e(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=R_e(l),c=new bye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=f_e(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=h_e(l),c=new Eye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=x_e(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=__e(l),c=new Sye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Yxe(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>q_(c))}else{const u=Jxe(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>B_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=o_e(this.apiClient,e);return a=fe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=a_e(c),h=new uk;return Object.assign(h,d),h})}else{const u=i_e(this.apiClient,e);return a=fe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=s_e(c),h=new uk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=P_e(this.apiClient,e);return a=fe("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>q_(c))}else{const u=C_e(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>B_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uxe(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=dxe(c),h=new ck;return Object.assign(h,d),h})}else{const u=lxe(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=cxe(c),h=new ck;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=oxe(this.apiClient,e);return a=fe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=axe(c),h=new dk;return Object.assign(h,d),h})}else{const u=ixe(this.apiClient,e);return a=fe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=sxe(c),h=new dk;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=X0e(this.apiClient,e);return o=fe("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Q0e(l),c=new Tye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Uxe(this.apiClient,e);return a=fe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=jxe(c),h=new Im;return Object.assign(h,d),h})}else{const u=$xe(this.apiClient,e);return a=fe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Lxe(c),h=new Im;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Twe extends zi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mye(e);return a=fe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=pye(e);return a=fe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=aye(e);return o=fe("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Awe(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Iwe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lwe(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Cwe(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=f(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=f(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],Dwe(t,a));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function Pwe(t,e){const n={},r=f(e,["config"]);return r!=null&&g(n,["config"],Cwe(t,r,n)),n}function Nwe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function kwe(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Rwe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Mwe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Owe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],sS(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=f(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],Iwe(xn(x)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=iu(w);Array.isArray(P)&&(P=P.map(T=>$we(ru(T)))),g(e,["setup","tools"],P)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],jwe(v));const _=f(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Dwe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],Owe(i,n)),n}function Lwe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],Nwe(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],kwe(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Awe(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function jwe(t){const e={},n=f(t,["handle"]);if(n!=null&&g(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $we(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Rwe(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Mwe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uwe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Vwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Uwe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Fwe extends zi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Pwe(this.apiClient,e);o=fe("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=Vwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bwe(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function qwe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Bwe(r,e),e}function Gwe(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function zwe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Hwe(t){const e={},n=f(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&zwe(r,e),e}function Wwe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kwe extends zi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Xs(Ui.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Gwe(e);return o=fe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qwe(e);i=fe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Hwe(e);return o=fe("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Wwe(l),c=new Aye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jwe extends zi{constructor(e,n=new Kwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Xs(Ui.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=U_e(e);return o=fe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=B_e(e);return o=fe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=F_e(e);i=fe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=K_e(e);return o=fe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=J_e(l),c=new Iye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Y_e(e);return o=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=X_e(l),c=new Cye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=z_e(e);return o=fe("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=G_e(l),c=new tS;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PU=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return PU=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Ywe=()=>PU();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const H_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xr extends Error{}class In extends xr{constructor(e,n,r,i){super(`${In.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new ly({message:r,cause:H_(n)});const o=n;return e===400?new kU(e,o,r,i):e===401?new RU(e,o,r,i):e===403?new MU(e,o,r,i):e===404?new OU(e,o,r,i):e===409?new DU(e,o,r,i):e===422?new LU(e,o,r,i):e===429?new jU(e,o,r,i):e>=500?new $U(e,o,r,i):new In(e,o,r,i)}}class W_ extends In{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ly extends In{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class NU extends ly{constructor({message:e}={}){super({message:e??"Request timed out."})}}class kU extends In{}class RU extends In{}class MU extends In{}class OU extends In{}class DU extends In{}class LU extends In{}class jU extends In{}class $U extends In{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xwe=/^[a-z][a-z0-9+.-]*:/i,Qwe=t=>Xwe.test(t);let K_=t=>(K_=Array.isArray,K_(t));const Zwe=K_;let ebe=Zwe;const Mk=ebe;function tbe(t){if(!t)return!0;for(const e in t)return!1;return!0}function nbe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const rbe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new xr(`${t} must be an integer`);if(e<0)throw new xr(`${t} must be a positive integer`);return e},ibe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const obe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const da="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sbe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const abe=()=>{var t,e,n,r,i;const o=sbe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":da,"X-Stainless-OS":Dk(Deno.build.os),"X-Stainless-Arch":Ok(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":da,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":da,"X-Stainless-OS":Dk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Ok((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=lbe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":da,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":da,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lbe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Ok=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Dk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ah;const ube=()=>ah??(ah=abe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function UU(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function dbe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return UU({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function VU(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hbe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FU=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fv(t,e,n){return FU(),new File(t,e??"unknown_file",n)}function pbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const mbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BU=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",gbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&BU(t),ybe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function vbe(t,e,n){if(FU(),t=await t,gbe(t))return t instanceof File?t:Fv([await t.arrayBuffer()],t.name);if(ybe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Fv(await J_(i),e,n)}const r=await J_(t);if(e||(e=pbe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Fv(r,e,n)}async function J_(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(BU(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(mbe(t))try{for(var a=!0,l=Dr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await J_(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${xbe(t)}`)}return s}function xbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qU{constructor(e){this._client=e}}qU._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GU(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lk=Object.freeze(Object.create(null)),_be=(t=GU)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,h)=>{var y,x,w;/[?#]/.test(d)&&(i=!0);const v=r[h];let _=(i?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((w=Object.getPrototypeOf((x=Object.getPrototypeOf((y=v.hasOwnProperty)!==null&&y!==void 0?y:Lk))!==null&&x!==void 0?x:Lk))===null||w===void 0?void 0:w.toString))&&(_=v+"",o.push({start:c.length+d.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":_)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,y)=>{const x=" ".repeat(y.start-c),w="^".repeat(y.length);return c=y.start+y.length,h+x+w},"");throw new xr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${d}`)}return s},lh=_be(GU);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zU extends qU{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Pm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new xr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new xr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(lh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(lh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(lh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Pm(o,["api_version"]);return this._client.get(lh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}zU._key=Object.freeze(["interactions"]);class HU extends zU{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wbe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let uh;function lS(t){let e;return(uh??(e=new globalThis.TextEncoder,uh=e.encode.bind(e)))(t)}let ch;function jk(t){let e;return(ch??(e=new globalThis.TextDecoder,ch=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uy{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?lS(e):e;this.buffer=wbe([this.buffer,n]);const r=[];let i;for(;(i=bbe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(jk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=jk(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}uy.NEWLINE_CHARS=new Set([`
`,"\r"]);uy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bbe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Ebe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nm={off:0,error:200,warn:300,info:400,debug:500},$k=(t,e,n)=>{if(t){if(nbe(Nm,t))return t;bn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Nm))}`)}};function Ju(){}function dh(t,e,n){return!e||Nm[t]>Nm[n]?Ju:e[t].bind(e)}const Sbe={error:Ju,warn:Ju,info:Ju,debug:Ju};let Uk=new WeakMap;function bn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Sbe;const i=Uk.get(n);if(i&&i[0]===r)return i[1];const o={error:dh("error",n,r),warn:dh("warn",n,r),info:dh("info",n,r),debug:dh("debug",n,r)};return Uk.set(n,[r,o]),o}const cs=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?bn(r):console;function s(){return Or(this,arguments,function*(){var l,u,c,d;if(i)throw new xr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,x=Dr(Tbe(e,n)),w;w=yield Ae(x.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const v=d;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Ae(JSON.parse(v.data))}catch(_){throw o.error("Could not parse message into JSON:",v.data),o.error("From chunk:",v.raw),_}}}catch(v){u={error:v}}finally{try{!y&&!l&&(c=x.return)&&(yield Ae(c.call(x)))}finally{if(u)throw u.error}}h=!0}catch(v){if(z_(v))return yield Ae(void 0);throw v}finally{h||n.abort()}})}return new Pa(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Or(this,arguments,function*(){var l,u,c,d;const h=new uy,y=VU(e);try{for(var x=!0,w=Dr(y),v;v=yield Ae(w.next()),l=v.done,!l;x=!0){d=v.value,x=!1;const _=d;for(const b of h.decode(_))yield yield Ae(b)}}catch(_){u={error:_}}finally{try{!x&&!l&&(c=w.return)&&(yield Ae(c.call(w)))}finally{if(u)throw u.error}}for(const _ of h.flush())yield yield Ae(_)})}function s(){return Or(this,arguments,function*(){var l,u,c,d;if(i)throw new xr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,x=Dr(o()),w;w=yield Ae(x.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const v=d;h||v&&(yield yield Ae(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!y&&!l&&(c=x.return)&&(yield Ae(c.call(x)))}finally{if(u)throw u.error}}h=!0}catch(v){if(z_(v))return yield Ae(void 0);throw v}finally{h||n.abort()}})}return new Pa(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Pa(()=>i(e),this.controller,this.client),new Pa(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return UU({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=lS(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Tbe(t,e){return Or(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new xr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new xr("Attempted to iterate over a response with no body");const a=new Ibe,l=new uy,u=VU(t.body);try{for(var c=!0,d=Dr(Abe(u)),h;h=yield Ae(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const x of l.decode(y)){const w=a.decode(x);w&&(yield yield Ae(w))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=d.return)&&(yield Ae(o.call(d)))}finally{if(i)throw i.error}}for(const y of l.flush()){const x=a.decode(y);x&&(yield yield Ae(x))}})}function Abe(t){return Or(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Dr(t),u;u=yield Ae(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?lS(c):c;let h=new Uint8Array(s.length+d.length);h.set(s),h.set(d,s.length),s=h;let y;for(;(y=Ebe(s))!==-1;)yield yield Ae(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Ae(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Ae(s))})}class Ibe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Cbe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Cbe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pbe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return bn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Pa.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return bn(t).debug(`[${r}] response parsed`,cs({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS extends Promise{constructor(e,n,r=Pbe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new uS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WU=Symbol("brand.privateNullableHeaders");function*Nbe(t){if(!t)return;if(WU in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Mk(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Mk(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Uu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Nbe(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[WU]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=tye)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KU;class cy{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Bv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Bv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=Pm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:cy.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(o=$k(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:$k(Bv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:cbe(),this.encoder=hbe,this._options=y,this.apiKey=c,this.apiVersion=d,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Uu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new xr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${da}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ywe()}`}makeStatusError(e,n,r,i){return In.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Qwe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return tbe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new uS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(bn(this).debug(`[${h}] sending request`,cs({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new W_;const w=new AbortController,v=await this.fetchWithTimeout(c,u,d,w).catch(H_),_=Date.now();if(v instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new W_;const N=z_(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return bn(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${S}`),bn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${S})`,cs({retryOfRequestLogID:r,url:c,durationMs:_-x,message:v.message})),this.retryRequest(a,n,r??h);throw bn(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),bn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,cs({retryOfRequestLogID:r,url:c,durationMs:_-x,message:v.message})),N?new NU:new ly({cause:v})}const b=`[${h}${y}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${_-x}ms`;if(!v.ok){const S=await this.shouldRetry(v);if(n&&S){const I=`retrying, ${n} attempts remaining`;return await fbe(v.body),bn(this).info(`${b} - ${I}`),bn(this).debug(`[${h}] response error (${I})`,cs({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:_-x})),this.retryRequest(a,n,r??h,v.headers)}const N=S?"error; no more retries left":"error; not retryable";bn(this).info(`${b} - ${N}`);const A=await v.text().catch(I=>H_(I).message),P=ibe(A),T=P?void 0:A;throw bn(this).debug(`[${h}] response error (${N})`,cs({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:T,durationMs:Date.now()-x})),this.makeStatusError(v.status,P,T,v.headers)}return bn(this).info(b),bn(this).debug(`[${h}] response start`,cs({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:_-x})),{response:v,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Pm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await obe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&rbe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),x=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Uu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),ube()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Uu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:dbe(e)}:this.encoder({body:e,headers:r})}}cy.DEFAULT_TIMEOUT=6e4;class Wt extends cy{constructor(){super(...arguments),this.interactions=new HU(this)}}KU=Wt;Wt.GeminiNextGenAPIClient=KU;Wt.GeminiNextGenAPIClientError=xr;Wt.APIError=In;Wt.APIConnectionError=ly;Wt.APIConnectionTimeoutError=NU;Wt.APIUserAbortError=W_;Wt.NotFoundError=OU;Wt.ConflictError=DU;Wt.RateLimitError=jU;Wt.BadRequestError=kU;Wt.AuthenticationError=RU;Wt.InternalServerError=$U;Wt.PermissionDeniedError=MU;Wt.UnprocessableEntityError=LU;Wt.toFile=vbe;Wt.Interactions=HU;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Rbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Mbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Obe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Dbe(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=f(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=f(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Lbe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],Vk(y))}else if(i==="PREFERENCE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],Vk(y))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=f(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=f(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function jbe(t,e){const n={},r=f(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Kbe(o);const s=f(t,["config"]);return s!=null&&Dbe(s,n),n}function $be(t,e){const n={},r=f(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Jbe(o,n,e);const s=f(t,["config"]);return s!=null&&Lbe(s,n,e),n}function Ube(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Vbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Fbe(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function Bbe(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function qbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Fbe(r,n),n}function Gbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Bbe(r,n),n}function zbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>JU(a))),g(n,["tuningJobs"],s)}return n}function Hbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Y_(a))),g(n,["tuningJobs"],s)}return n}function Wbe(t,e){const n={},r=f(t,["name"]);r!=null&&g(n,["model"],r);const i=f(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function Kbe(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function Jbe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function JU(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["state"]);o!=null&&g(n,["state"],dU(o));const s=f(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=f(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=f(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&g(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&g(n,["tunedModel"],Wbe(h)),n}function Y_(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["state"]);o!=null&&g(n,["state"],dU(o));const s=f(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=f(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=f(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&g(n,["error"],c);const d=f(t,["description"]);d!=null&&g(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=f(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const x=f(t,["preTunedModel"]);x!=null&&g(n,["preTunedModel"],x);const w=f(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const v=f(t,["preferenceOptimizationSpec"]);v!=null&&g(n,["preferenceOptimizationSpec"],v);const _=f(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const b=f(t,["encryptionSpec"]);b!=null&&g(n,["encryptionSpec"],b);const S=f(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const N=f(t,["customBaseModel"]);N!=null&&g(n,["customBaseModel"],N);const A=f(t,["experiment"]);A!=null&&g(n,["experiment"],A);const P=f(t,["labels"]);P!=null&&g(n,["labels"],P);const T=f(t,["outputUri"]);T!=null&&g(n,["outputUri"],T);const C=f(t,["pipelineJob"]);C!=null&&g(n,["pipelineJob"],C);const I=f(t,["serviceAccount"]);I!=null&&g(n,["serviceAccount"],I);const R=f(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const O=f(t,["veoTuningSpec"]);return O!=null&&g(n,["veoTuningSpec"],O),n}function Ybe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=f(t,["done"]);s!=null&&g(n,["done"],s);const a=f(t,["error"]);return a!=null&&g(n,["error"],a),n}function Vk(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xbe extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xs(Ui.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:j_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Vbe(e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Y_(c))}else{const u=Ube(e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>JU(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Gbe(e);return a=fe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Hbe(c),h=new fk;return Object.assign(h,d),h})}else{const u=qbe(e);return a=fe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=zbe(c),h=new fk;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Rbe(e);return a=fe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Obe(c),h=new hk;return Object.assign(h,d),h})}else{const u=kbe(e);return a=fe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Mbe(c),h=new hk;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=$be(e,e);return o=fe("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Y_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jbe(e);return o=fe("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Ybe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qbe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Zbe=1024*1024*8,eEe=3,tEe=1e3,nEe=2,km="x-goog-upload-status";async function rEe(t,e,n){var r;const i=await YU(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[km])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function iEe(t,e,n){var r;const i=await YU(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[km])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=oU(o),a=new nS;return Object.assign(a,s),a}async function YU(t,e,n){var r,i;let o=0,s=0,a=new U_(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(Zbe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,h=tEe;for(;d<eEe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[km]));)d++,await sEe(h),h=h*nEe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[km])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function oEe(t){return{size:t.size,type:t.type}}function sEe(t){return new Promise(e=>setTimeout(e,t))}class aEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lEe{create(e,n,r){return new uEe(e,n,r)}}class uEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fk="x-goog-api-key";class cEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Fk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Fk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dEe="gl-node/";class fEe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Wt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=oye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new cEe(this.apiKey);this.apiClient=new owe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dEe+"web",uploader:new aEe,downloader:new Qbe}),this.models=new Swe(this.apiClient),this.live=new vwe(this.apiClient,i,new lEe),this.batches=new Ove(this.apiClient),this.chats=new m0e(this.models,this.apiClient),this.caches=new f0e(this.apiClient),this.files=new T0e(this.apiClient),this.operations=new Twe(this.apiClient),this.authTokens=new Fwe(this.apiClient),this.tunings=new Xbe(this.apiClient),this.fileSearchStores=new Jwe(this.apiClient)}}var hEe={};async function pEe(t,e){const n=new fEe({apiKey:hEe.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:mt.OBJECT,properties:{invoiceNumber:{type:mt.STRING},supplierName:{type:mt.STRING},supplierCuit:{type:mt.STRING},date:{type:mt.STRING},items:{type:mt.ARRAY,items:{type:mt.OBJECT,properties:{sku:{type:mt.STRING},description:{type:mt.STRING},quantity:{type:mt.NUMBER},unitPrice:{type:mt.NUMBER},total:{type:mt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:mt.NUMBER},iva:{type:mt.NUMBER},totalAmount:{type:mt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}const mEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Bl(),n=j.useRef(null),[r,i]=j.useState("ia"),[o,s]=j.useState(!1),[a,l]=j.useState(!1),[u,c]=j.useState(null),[d,h]=j.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=_=>{var S;const b=(S=_.target.files)==null?void 0:S[0];if(b){const N=new FileReader;N.onload=A=>{var P;c({name:b.name,type:b.type,preview:(P=A.target)==null?void 0:P.result})},N.readAsDataURL(b)}},x=async()=>{if(u){s(!0);try{const _=u.preview.split(",")[1],b=await pEe(_,u.type),S=await Promise.all(b.items.map(async N=>{const{products:A}=await e({limit:1,searchTerm:N.sku||N.description.split(" ")[0],orderByField:"name"});return{...N,matchedProduct:A[0]}}));h({invoiceNumber:b.invoiceNumber||"",supplierName:b.supplierName||"",date:b.date||new Date().toISOString().split("T")[0],items:S})}catch(_){console.error(_),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},w=async()=>{l(!0);try{for(const _ of d.items)if(_.matchedProduct){const b=(_.matchedProduct.stock||0)+_.quantity;await t(_.matchedProduct.id,{costPrice:_.unitPrice,stock:b})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),c(null)}finally{l(!1)}},v=d.items.reduce((_,b)=>_+b.unitPrice*b.quantity,0);return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),p.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),p.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[p.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[p.jsx(dx,{className:"w-4 h-4"})," IA Scan"]}),p.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[p.jsx(ti,{className:"w-4 h-4"})," Manual"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(tG,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?p.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[p.jsx(Sp,{className:"w-16 h-16 mb-4 text-orange-500"}),p.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),p.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:p.jsx(Jn,{className:"w-5 h-5"})})]}),p.jsxs("button",{onClick:x,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?p.jsx(yr,{className:"w-5 h-5 animate-spin"}):p.jsx(dx,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):p.jsxs("div",{onClick:()=>{var _;return(_=n.current)==null?void 0:_.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:p.jsx(Sp,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),p.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),p.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),p.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(mg,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),p.jsx("input",{value:d.supplierName,onChange:_=>h({...d,supplierName:_.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),p.jsx("input",{value:d.invoiceNumber,onChange:_=>h({...d,invoiceNumber:_.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),p.jsx("input",{type:"date",value:d.date,onChange:_=>h({...d,date:_.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),p.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[p.jsx(_D,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),p.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[d.items.length," Items"]})]}),p.jsx("div",{className:"flex-1 overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),p.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:d.items.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"p-20 text-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[p.jsx(lx,{className:"w-12 h-12"}),p.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):d.items.map((_,b)=>p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsx("td",{className:"px-8 py-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:_.description}),_.matchedProduct?p.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[p.jsx(Bc,{className:"w-3 h-3"}),p.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",_.matchedProduct.name]})]}):p.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[p.jsx(cc,{className:"w-3 h-3"}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),p.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:_.quantity}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",_.unitPrice.toLocaleString()]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",_.total.toLocaleString()]}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:p.jsx(Ls,{className:"w-4 h-4"})})})]},b))})]})}),p.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex items-center gap-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),p.jsxs("p",{className:"text-3xl font-black",children:["$",v.toLocaleString()]})]}),p.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),p.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(v*1.21).toLocaleString()]})]})]}),p.jsxs("button",{onClick:w,disabled:a||d.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[a?p.jsx(yr,{className:"animate-spin w-6 h-6"}):p.jsx(ED,{className:"w-6 h-6"}),a?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},gEe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState(!0),[s,a]=j.useState(!1),[l,u]=j.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c=async()=>{o(!0);try{const y=await No(Re(ye,"clients"));e(y.docs.map(x=>({id:x.id,...x.data()})))}catch(y){console.error(y)}finally{o(!1)}};j.useEffect(()=>{c()},[]);const d=async y=>{y.preventDefault();try{await Yt(Re(ye,"clients"),{...l,createdAt:new Date().toISOString()}),a(!1),u({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c()}catch{alert("Error al guardar cliente")}},h=t.filter(y=>{var x;return y.name.toLowerCase().includes(n.toLowerCase())||((x=y.cuit)==null?void 0:x.includes(n))});return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[p.jsx(ti,{size:20})," Nuevo Cliente"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:p.jsx(Hd,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),p.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:p.jsx(Gc,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),p.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[p.jsxs("div",{className:"relative w-full md:w-96",children:[p.jsx(Mi,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:n,onChange:y=>r(y.target.value)})]}),p.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[p.jsx($q,{size:16})," Exportar Listado"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):h.map(y=>p.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(y.name||"U").substring(0,2).toUpperCase()}),p.jsx("p",{className:"font-bold text-slate-800",children:y.name})]})}),p.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:y.cuit||y.dni}),p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:p.jsx(Jq,{size:14})}),p.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:p.jsx(Wq,{size:14})})]})}),p.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${y.balance<0?"text-red-500":"text-green-600"}`,children:["$",(y.balance||0).toLocaleString()]})]},y.id))})]})})]}),s&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:p.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),p.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:p.jsx(Jn,{size:24})})]}),p.jsxs("form",{onSubmit:d,className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"col-span-2 space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:y=>u({...l,name:y.target.value})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:y=>u({...l,cuit:y.target.value})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:y=>u({...l,phone:y.target.value})})]}),p.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},yEe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState(!0),[s,a]=j.useState(!1),l=async()=>{o(!0);try{const u=await No(Re(ye,"suppliers"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u)}finally{o(!1)}};return j.useEffect(()=>{l()},[]),p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[p.jsx(ti,{size:20})," Nuevo Proveedor"]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:p.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(u=>p.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:u.name||u.company}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:u.category||"General"})}),p.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:u.phone}),p.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(u.balance||0).toLocaleString()]})]},u.id))})]})]})]})},vEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:o}=Bl(),[s,a]=j.useState("boxes"),[l,u]=j.useState({show:!1,type:null}),[c,d]=j.useState(!1),[h,y]=j.useState(!1),[x,w]=j.useState(null),[v,_]=j.useState(null),[b,S]=j.useState(!1),N=j.useMemo(()=>e.reduce((I,R)=>I+R.balance,0),[e]),A=j.useMemo(()=>e.filter(I=>I.type==="efectivo").reduce((I,R)=>I+R.balance,0),[e]),P=async I=>{I.preventDefault();const R=new FormData(I.currentTarget),O=parseFloat(R.get("amount")),D=R.get("boxId"),M=l.type,V=e.find(F=>F.id===D);if(!V){alert("Debes seleccionar una caja de origen.");return}try{await o({date:new Date().toISOString(),amount:O,type:M,boxId:D,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:O,netAmount:O}]});const F=M==="egreso"?V.balance-O:V.balance+O;await r(D,{balance:F}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},T=async I=>{I.preventDefault(),S(!0);const R=new FormData(I.currentTarget),O=R.get("name"),D=R.get("type"),M=R.get("responsible"),V=parseFloat(R.get("balance"))||0;try{v?await r(v.id,{name:O,type:D,responsible:M}):await n({name:O,type:D,responsible:M,balance:V,status:"abierta"}),y(!1),_(null)}finally{S(!1)}},C=async I=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(I)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),p.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[p.jsx(pD,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),p.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[p.jsx(Nq,{className:"w-5 h-5"})," Ingreso Manual"]}),p.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[p.jsx("button",{onClick:()=>a("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),p.jsx("button",{onClick:()=>a("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),p.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),p.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx(TD,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),p.jsx(Fa,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:p.jsx(yA,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:p.jsx(xA,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="banco").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:p.jsx(ax,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="virtual").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(I=>p.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsx("div",{className:`p-4 rounded-2xl ${I.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:I.type==="banco"?p.jsx(xA,{className:"w-6 h-6"}):I.type==="virtual"?p.jsx(ax,{className:"w-6 h-6"}):p.jsx(Gc,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>{_(I),y(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:p.jsx(wD,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:p.jsx(Ls,{className:"w-4 h-4"})})]})]}),p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:I.name}),p.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",I.balance.toLocaleString()]}),I.status==="abierta"&&p.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[p.jsx(Hd,{className:"w-4 h-4"}),p.jsxs("span",{children:["Resp: ",p.jsx("span",{className:"text-slate-800",children:I.responsible||"Sistema"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>{w(I),d(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[p.jsx(Dq,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),p.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[p.jsx(kq,{className:"w-4 h-4"})," Transferir"]})]})]}),I.status==="cerrada"&&p.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[p.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",I.lastClosed]}),p.jsxs("button",{onClick:()=>r(I.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[p.jsx(ti,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},I.id)),p.jsxs("button",{onClick:()=>{_(null),y(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:p.jsx(ti,{className:"w-8 h-8"})}),p.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),p.jsx("div",{className:"space-y-6",children:p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(zb,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),p.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),p.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:p.jsx(mg,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),p.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[p.jsxs("div",{className:"relative flex-1 w-full",children:[p.jsx(Mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[p.jsx(Fq,{className:"w-4 h-4"})," Filtros"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),p.jsx("th",{className:"px-8 py-5",children:"Caja"}),p.jsx("th",{className:"px-8 py-5",children:"Concepto"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(I=>{var R;return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(I.date).toLocaleDateString()}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(I.date).toLocaleTimeString()})]}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(O=>O.id===I.boxId))==null?void 0:R.name)||"Mostrador"})}),p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.category||"Varios"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:I.description})]}),p.jsx("td",{className:"px-8 py-5 text-right",children:p.jsxs("span",{className:`text-lg font-black ${I.type==="egreso"?"text-red-600":"text-green-600"}`,children:[I.type==="egreso"?"-":"+","$",I.amount.toLocaleString()]})}),p.jsx("td",{className:"px-8 py-5 text-center",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:p.jsx(qb,{className:"w-5 h-5"})})})]},I.id)})})]})})]}),l.show&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:p.jsx(yA,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),p.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),p.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:p.jsx(Jn,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[p.jsx("option",{value:"",children:"Elegir caja..."}),e.map(I=>p.jsxs("option",{value:I.id,children:[I.name," ($",I.balance.toLocaleString(),")"]},I.id))]}),p.jsx(gD,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),p.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),p.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[p.jsx("option",{value:"gasto",children:"Gasto General"}),p.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),p.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),p.jsx("option",{value:"venta",children:"Venta / Cobranza"}),p.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),p.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),p.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),p.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[p.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:v?"Editar Fondo":"Nueva Caja / Fondo"}),p.jsx("button",{onClick:()=>y(!1),children:p.jsx(Jn,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:T,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),p.jsx("input",{name:"name",defaultValue:v==null?void 0:v.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),p.jsxs("select",{name:"type",defaultValue:v==null?void 0:v.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[p.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),p.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),p.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!v&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),p.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),p.jsx("input",{name:"responsible",defaultValue:v==null?void 0:v.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),p.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:b?p.jsx(yr,{className:"animate-spin w-5 h-5 mx-auto"}):v?"Guardar Cambios":"Crear Fondo"})]})]})})]})},xEe=({isAdmin:t,companyInfo:e,setCompanyInfo:n})=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de datos de empresa, impresin y seguridad."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest mb-6 flex items-center gap-2",children:[p.jsx(Oq,{size:18,className:"text-orange-600"})," Datos de la Empresa"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Fantasa"}),p.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border-none rounded-2xl font-bold",defaultValue:"Ferretera Bruzzone"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT"}),p.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border-none rounded-2xl font-bold",defaultValue:"30-XXXXXXXX-9"})]})]})]})}),p.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[3rem] shadow-2xl",children:[p.jsx("h3",{className:"font-black uppercase tracking-widest text-xs mb-6 text-orange-500",children:"Plan Actual"}),p.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10 mb-6",children:[p.jsx("p",{className:"text-2xl font-black",children:"PRO v4.0"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"Suscripcin Activa hasta 2026"})]}),p.jsx("button",{className:"w-full py-4 bg-orange-600 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl",children:"Gestionar Licencia"})]})]})]}),_Ee=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[i,o]=j.useState(!0),s=async()=>{o(!0);const l=await No(Re(ye,"products"));e(l.docs.map(u=>({id:u.id,...u.data()}))),o(!1)};j.useEffect(()=>{s()},[]);const a=async l=>{const u=Xe(ye,"products",l.id);await Rn(u,{isPublic:!l.isPublic}),s()};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:p.jsx(qc,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),p.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),p.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:p.jsx(AD,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),p.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(PD,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),p.jsxs("div",{className:"relative w-96",children:[p.jsx(Mi,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),p.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:n,onChange:l=>r(l.target.value)})]})]}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),p.jsx("td",{className:"px-8 py-5",children:l.isPublic?p.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[p.jsx(qb,{size:12})," Pblico"]}):p.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[p.jsx(Uq,{size:12})," Privado"]})}),p.jsx("td",{className:"px-8 py-5 text-right",children:p.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},wEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),p.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[p.jsx(ti,{size:20})," Nuevo Presupuesto"]})]}),p.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[p.jsx(Sp,{size:48,className:"mx-auto text-slate-200 mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),bEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx(Mi,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),p.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),p.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),EEe=()=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),p.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[p.jsx(rG,{size:20})," Nuevo Acceso"]})]}),p.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),p.jsx("th",{className:"px-8 py-5",children:"Rango"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),p.jsx("td",{className:"px-8 py-6",children:p.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),p.jsx("td",{className:"px-8 py-6 text-right",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:p.jsx(Ls,{size:18})})})]})})]})})]}),SEe=()=>{const{products:t,suppliers:e,updateProduct:n}=Bl(),[r,i]=j.useState(""),[o,s]=j.useState(null),a=j.useMemo(()=>t.filter(d=>{const h=d.stock||0,y=d.reorderPoint||0,x=d.name.toLowerCase().includes(r.toLowerCase())||d.sku.toLowerCase().includes(r.toLowerCase());return h<=y&&x}),[t,r]),l=j.useMemo(()=>{const d={};return a.forEach(h=>{const y=h.supplierId||"unassigned";d[y]||(d[y]=[]),d[y].push(h)}),d},[a]),u=async(d,h)=>{s(d);try{await n(d,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{s(null)}},c=d=>{var h;return d==="unassigned"?"Sin Proveedor Asignado":((h=e.find(y=>y.id===d))==null?void 0:h.name)||"Proveedor Desconocido"};return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:p.jsx(Bb,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente."})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[p.jsx(bD,{className:"w-4 h-4"})," Imprimir"]}),p.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[p.jsx(dl,{className:"w-4 h-4"})," Generar Pedidos"]})]})]}),p.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:p.jsxs("div",{className:"relative max-w-xl",children:[p.jsx(Mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:d=>i(d.target.value)})]})}),a.length===0?p.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:p.jsx(Bc,{className:"w-10 h-10"})}),p.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),p.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente."})]}):p.jsx("div",{className:"space-y-10",children:Object.entries(l).map(([d,h])=>p.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[p.jsxs("div",{className:"flex items-center justify-between px-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:p.jsx(Hb,{className:"w-5 h-5"})}),p.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:c(d)}),p.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),p.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",p.jsx(eG,{className:"w-3 h-3"})]})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer"}),p.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(y=>p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-2xl ${y.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:p.jsx(cc,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:y.name}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:y.sku})]})]})}),p.jsx("td",{className:"px-8 py-6 text-center font-black",children:p.jsx("span",{className:y.stock<=0?"text-red-600":"text-orange-600",children:y.stock})}),p.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:y.reorderPoint||0}),p.jsx("td",{className:"px-8 py-6 text-right font-black text-slate-900",children:(y.targetStock||0)-(y.stock||0)>0?(y.targetStock||0)-(y.stock||0):1}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"relative",children:[p.jsxs("select",{disabled:o===y.id,onChange:x=>u(y.id,x.target.value),value:y.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[p.jsx("option",{value:"",children:"Seleccionar..."}),e.map(x=>p.jsx("option",{value:x.id,children:x.name},x.id))]}),o===y.id&&p.jsx(yr,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg",title:"Aadir",children:p.jsx(dl,{className:"w-4 h-4"})})})]},y.id))})]})})]},d))}),p.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[p.jsx(mg,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona?"}),p.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu cuando su stock actual es menor al ",p.jsx("b",{children:"Punto de Reorden"}),"."]})]})]})]})},TEe=()=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Modificacin Masiva"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Actualizacin general de precios y categoras por porcentaje o monto."})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mb-6",children:p.jsx(Gb,{size:40})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Editor de Precios Global"}),p.jsx("p",{className:"text-slate-400 max-w-sm mb-8 text-sm",children:"Esta herramienta te permite subir los precios de toda una marca o categora en un solo clic."}),p.jsx("button",{className:"px-10 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-orange-900/20",children:"Iniciar Proceso Masivo"})]})]}),qv=[{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",clientId:"client-456",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"},{id:"R-0003",date:"2024-05-22",client:"Alberto Gimenez",clientId:"client-789",itemsCount:2,itemsList:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:25e3,status:"facturado",invoiceId:"F-INV-001"},{id:"R-0004",date:"2024-05-23",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:3,itemsList:[{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:4e3,status:"pendiente"},{id:"R-0005",date:"2024-05-24",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:8,itemsList:[{id:"p8",sku:"TUER-M8",name:"Tuercas M8",quantity:100,price:3,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p9",sku:"LIJA-F100",name:"Lija Grano 100",quantity:10,price:150,brand:"3M",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:1800,status:"pendiente"}],AEe=[{id:"F-INV-001",clientName:"Alberto Gimenez",clientId:"client-789",items:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",subtotal:25e3,selectedSaleUnit:"litro"}],total:25e3,paymentDetails:[{id:"pd1",method:"efectivo",amount:25e3,netAmount:25e3}],docType:"factura_a",date:"2024-05-22T10:00:00Z",status:"completado",seller:"Sistema",remitoIds:["R-0003"]},{id:"F-INV-002",clientName:"Juan Perez S.R.L.",clientId:"client-123",items:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",subtotal:11e3,selectedSaleUnit:"unidad"},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",subtotal:1500,selectedSaleUnit:"metro_lineal"},{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",subtotal:500,selectedSaleUnit:"unidad"},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",subtotal:3500,selectedSaleUnit:"unidad"}],total:16500,paymentDetails:[{id:"pd2",method:"transferencia",amount:16500,netAmount:16500}],docType:"factura_b",date:"2024-05-25T11:30:00Z",status:"completado",seller:"Usuario Actual",remitoIds:["R-0001","R-0004"]}],IEe=()=>{const{addSale:t,clients:e,remitos:n,updateRemito:r,sales:i}=Bl(),[o,s]=j.useState(""),[a,l]=j.useState("todos"),[u,c]=j.useState([]),[d,h]=j.useState(!1),[y,x]=j.useState(!1),[w,v]=j.useState(null),[_,b]=j.useState(null),[S,N]=j.useState([]),[A,P]=j.useState({method:"efectivo",amount:0,notes:"",netAmount:0}),[T,C]=j.useState("factura_a"),[I,R]=j.useState(0),[O,D]=j.useState(""),[M,V]=j.useState([]);j.useEffect(()=>{if(n&&n.length>0){const G=new Map(n.map(xe=>[xe.id,xe])),q=qv.map(xe=>G.get(xe.id)||xe),pe=n.filter(xe=>!qv.some(Ue=>Ue.id===xe.id));V([...q,...pe])}else V(qv)},[n]);const[F,z]=j.useState(!1),K=G=>{switch(G){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";case"facturado":return"bg-blue-50 text-blue-700 border-blue-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},U=M.filter(G=>{const q=G.client.toLowerCase().includes(o.toLowerCase())||G.id.toLowerCase().includes(o.toLowerCase()),pe=a==="todos"||G.status===a;return q&&pe}),J=G=>{c(q=>q.includes(G)?q.filter(pe=>pe!==G):[...q,G])},Q=()=>{const G=U.filter(q=>q.status!=="facturado").map(q=>q.id);u.length===G.length&&G.length>0?c([]):c(G)},ie=j.useMemo(()=>M.filter(G=>u.includes(G.id)),[M,u]),ee=j.useMemo(()=>w?w.total:ie.reduce((G,q)=>G+q.total,0),[w,ie]),le=ee+I,Pe=S.reduce((G,q)=>G+q.amount,0),Ne=le-Pe,Ke=()=>{if(A.amount<=0){alert("Por favor, ingresa un monto mayor a cero.");return}const G={...A,id:Date.now().toString(),netAmount:A.amount};N(q=>[...q,G]),P({method:"efectivo",amount:0,notes:"",netAmount:0})},H=(G=null,q=!1)=>{if(console.log("openBillingModal called:",{remito:G,isBulk:q,selectedIds:u,selectedRemitosData:ie}),q&&u.length===0){alert("No hay remitos seleccionados para facturar.");return}if(q&&u.length>1){const pe=ie[0],xe=pe==null?void 0:pe.clientId,Ue=pe==null?void 0:pe.client;if(!ie.every(he=>he.clientId===xe)){alert(`Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes (ej. "${Ue}" y otros).`);return}}else if(!G&&!q){alert("No se ha seleccionado ningn remito para facturar.");return}v(G),N([]),P({method:"efectivo",amount:0,notes:"",netAmount:0}),C("factura_a"),R(0),D(""),h(!0)},je=async()=>{var xe,Ue;console.log("handleConfirmInvoice called.");const G=ie.length>0?ie:w?[w]:[];if(G.length===0){alert("No hay remitos seleccionados para facturar."),z(!1);return}const q=(xe=G[0])==null?void 0:xe.clientId;if(!G.every(Y=>Y.clientId===q)){alert("Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes."),z(!1);return}if(S.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(Ne)>.01){alert(`Falta asignar $${Ne.toLocaleString()}`);return}z(!0);try{const Y=[];for(const Tt of G)for(const qe of Tt.itemsList){const Mt=Y.findIndex(er=>er.id===qe.id&&er.selectedSaleUnit===qe.selectedSaleUnit);Mt!==-1?(Y[Mt].quantity+=qe.quantity,Y[Mt].subtotal=parseFloat((Y[Mt].quantity*Y[Mt].price).toFixed(2))):Y.push({id:qe.id,sku:qe.sku,name:qe.name,brand:qe.brand,price:qe.price,quantity:qe.quantity,subtotal:parseFloat((qe.price*qe.quantity).toFixed(2)),selectedSaleUnit:qe.selectedSaleUnit})}const he=e.find(Tt=>Tt.id===q),Je={clientName:(he==null?void 0:he.name)||((Ue=G[0])==null?void 0:Ue.client)||"Consumidor Final",clientId:(he==null?void 0:he.id)||null,items:Y,total:le,paymentDetails:S,docType:T,date:new Date().toISOString(),status:"completado",seller:"Usuario Actual",remitoIds:G.map(Tt=>Tt.id)},St=await t(Je);for(const Tt of G)await r(Tt.id,{invoiceId:St,status:"facturado"});alert(`Facturacin completada! Se gener el comprobante N ${St}.`),c([]),h(!1),N([]),v(null)}catch(Y){console.error("Error al confirmar factura:",Y),alert("Error al procesar la facturacin.")}finally{z(!1)}},oe=async G=>{console.log('Clicked "Ver Factura" for invoiceId:',G);let q=i.find(pe=>pe.id===G);q||(q=AEe.find(pe=>pe.id===G)),q?(console.log("Found invoice:",q),b(q),x(!0)):(console.log("Invoice not found for invoiceId:",G),alert("No se encontr la factura."))},ve=()=>{if(!_)return null;const G=M.filter(pe=>{var xe;return(xe=_.remitoIds)==null?void 0:xe.includes(pe.id)}),q=e.find(pe=>pe.id===_.clientId);return p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:p.jsx(Iu,{className:"w-6 h-6","aria-hidden":"true"})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Comprobante N ",_.id]}),p.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Detalle del comprobante ",_.docType.replace("_"," ").toUpperCase()]})]})]}),p.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:p.jsx(Jn,{className:"w-6 h-6","aria-hidden":"true"})})]}),p.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[p.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[p.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informacin General"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),p.jsx("p",{className:"font-bold text-slate-900",children:_.clientName}),q&&p.jsx("p",{className:"text-xs text-slate-600",children:q.cuit})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha"}),p.jsx("p",{className:"font-bold text-slate-900",children:new Date(_.date).toLocaleDateString()})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tipo de Doc."}),p.jsx("p",{className:"font-bold text-slate-900",children:_.docType.replace("_"," ").toUpperCase()})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado"}),p.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${_.status==="completado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:_.status})]})]})]}),p.jsxs("section",{className:"space-y-4",children:[p.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems del Comprobante"}),p.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Artculo"}),p.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:_.items.map((pe,xe)=>p.jsxs("tr",{className:"text-sm",children:[p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("p",{className:"font-bold text-slate-800",children:pe.name}),p.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[pe.sku,"  ",pe.brand]})]}),p.jsx("td",{className:"px-6 py-4 text-center",children:pe.quantity}),p.jsxs("td",{className:"px-6 py-4 text-right",children:["$",pe.price.toLocaleString()]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",pe.subtotal.toLocaleString()]})]},xe))})]})})]}),p.jsxs("section",{className:"space-y-4",children:[p.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remitos Vinculados"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.length>0?G.map(pe=>p.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-2xl flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["Remito N ",pe.id]}),p.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase",children:new Date(pe.date).toLocaleDateString()})]}),p.jsxs("span",{className:"font-black text-blue-900",children:["$",pe.total.toLocaleString()]})]},pe.id)):p.jsx("div",{className:"col-span-full p-4 text-center text-slate-400 italic",children:"No hay remitos vinculados a este comprobante."})})]}),p.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Total Comprobante"}),p.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",_.total.toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[p.jsx("span",{children:"Total Pagado"}),p.jsxs("span",{children:["$",_.paymentDetails.reduce((pe,xe)=>pe+xe.amount,0).toLocaleString()]})]})]})]}),p.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[p.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cerrar"}),p.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[p.jsx(bD,{className:"w-5 h-5","aria-hidden":"true"})," Imprimir Comprobante"]})]})]})})};return p.jsxs("div",{className:"space-y-6 pb-24",children:[y&&ve()," ",p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),p.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]}),p.jsxs("button",{onClick:()=>alert("Aqu se abrira un modal para crear un nuevo remito."),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[p.jsx(ti,{className:"w-5 h-5","aria-hidden":"true"})," Nuevo Remito"]})]}),p.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[p.jsxs("div",{className:"relative flex-1 w-full",children:[p.jsx(Mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),p.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:o,onChange:G=>s(G.target.value)})]}),p.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado","facturado"].map(G=>p.jsx("button",{onClick:()=>l(G),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${a===G?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:G},G))}),u.length>0&&p.jsxs("button",{onClick:()=>H(null,!0),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 ml-4",children:[p.jsx(Iu,{className:"w-5 h-5","aria-hidden":"true"})," Facturar Seleccionados (",u.length,")"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4 w-12 text-center",children:p.jsx("button",{onClick:Q,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:u.length===U.filter(G=>G.status!=="facturado").length&&U.filter(G=>G.status!=="facturado").length>0?p.jsx(cv,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):p.jsx(_A,{className:"w-5 h-5 text-slate-300","aria-hidden":"true"})})}),p.jsx("th",{className:"px-6 py-4",children:"Remito N"}),p.jsx("th",{className:"px-6 py-4",children:"Cliente"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),p.jsx("th",{className:"px-6 py-4",children:"Estado"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:U.map(G=>p.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${u.includes(G.id)?"bg-orange-50/50":""}`,children:[p.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>G.status!=="facturado"&&J(G.id),children:G.status==="facturado"?p.jsx("span",{title:"Remito ya facturado",children:p.jsx(cv,{className:"w-5 h-5 text-blue-600 opacity-50","aria-hidden":"true"})}):u.includes(G.id)?p.jsx(cv,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):p.jsx(_A,{className:"w-5 h-5 text-slate-200","aria-hidden":"true"})}),p.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:G.id}),p.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:G.client}),p.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:G.itemsCount}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${K(G.status)}`,children:G.status}),G.invoiceId&&p.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[p.jsx(Iu,{className:"w-3 h-3 text-blue-600","aria-hidden":"true"}),p.jsxs("button",{onClick:q=>{q.stopPropagation(),oe(G.invoiceId)},className:"text-[9px] font-black uppercase text-blue-600 hover:underline",children:["Factura ",G.invoiceId]})]})]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",G.total.toLocaleString()]}),p.jsx("td",{className:"px-6 py-4 text-center",children:G.status==="facturado"?p.jsx("button",{onClick:q=>{q.stopPropagation(),oe(G.invoiceId)},className:"p-2 text-blue-600 hover:text-blue-700",title:"Ver Factura",children:p.jsx(qb,{className:"w-5 h-5","aria-hidden":"true"})}):p.jsx("button",{onClick:q=>{q.stopPropagation(),H(G,!1)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:p.jsx(Iu,{className:"w-5 h-5","aria-hidden":"true"})})})]},G.id))})]})})]}),d&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),p.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",p.jsx("span",{className:"font-bold text-orange-600",children:(w==null?void 0:w.client)||(ie.length>0?ie[0].client:"N/A")})]})]}),p.jsx("button",{onClick:()=>h(!1),className:"p-3 text-slate-400",children:p.jsx(Jn,{className:"w-7 h-7","aria-hidden":"true"})})]}),p.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Tipo de Comprobante"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"radio",name:"billingDocType",value:"factura_a",checked:T==="factura_a",onChange:G=>C(G.target.value),className:"form-radio h-5 w-5 text-blue-600"}),p.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura A"})]}),p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"radio",name:"billingDocType",value:"factura_b",checked:T==="factura_b",onChange:G=>C(G.target.value),className:"form-radio h-5 w-5 text-blue-600"}),p.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura B"})]}),p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"radio",name:"billingDocType",value:"ticket",checked:T==="ticket",onChange:G=>C(G.target.value),className:"form-radio h-5 w-5 text-blue-600"}),p.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Ticket / Venta Simple"})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),p.jsxs("span",{className:"font-black text-orange-600",children:["Total a Facturar: $",ee.toLocaleString()]})]}),p.jsx("div",{className:"space-y-2",children:S.map(G=>p.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[p.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:G.method.replace("_"," ")}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{className:"font-black text-slate-900",children:["$",G.amount.toLocaleString()]}),p.jsx("button",{onClick:()=>N(S.filter(q=>q.id!==G.id)),className:"text-red-400 hover:text-red-600",children:p.jsx(Ls,{className:"w-4 h-4","aria-hidden":"true"})})]})]},G.id))}),p.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:A.method,onChange:G=>P({...A,method:G.target.value}),children:[p.jsx("option",{value:"efectivo",children:"Efectivo"}),p.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),p.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),p.jsx("option",{value:"transferencia",children:"Transferencia"}),p.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),p.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:A.amount||"",onChange:G=>P({...A,amount:parseFloat(G.target.value)||0})})]}),p.jsx("button",{onClick:Ke,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),p.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[p.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),p.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",le.toLocaleString()]})]})]}),p.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[p.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsxs("button",{disabled:F||Math.abs(Ne)>.01,onClick:je,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[F?p.jsx(yr,{className:"w-5 h-5","aria-hidden":"true"}):p.jsx(Iu,{className:"w-5 h-5","aria-hidden":"true"}),F?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},CEe=()=>{const[t,e]=j.useState(["dashboard"]),[n,r]=j.useState("dashboard"),[i,o]=j.useState(!1),[s,a]=j.useState({name:"",role:"admin"}),[l,u]=j.useState({name:"Ferretera Bruzzone",showLogoInSidebar:!0}),c=(x,w)=>{a({name:w,role:x}),o(!0)},d=x=>{t.includes(x)||e(w=>[...w,x]),r(x)},h=x=>{if(x==="dashboard")return;const w=t.filter(v=>v!==x);e(w),n===x&&r(w[w.length-1])};if(!i)return p.jsx(aG,{onLoginSuccess:c});const y=x=>{switch(x){case"dashboard":return p.jsx(Xge,{});case"inventory":return p.jsx(Zge,{});case"sales":return p.jsx(eye,{});case"purchases":return p.jsx(mEe,{});case"clients":return p.jsx(gEe,{});case"suppliers":return p.jsx(yEe,{});case"cashier":return p.jsx(vEe,{});case"quotes":return p.jsx(wEe,{});case"ecommerce":return p.jsx(_Ee,{});case"stock-adjustment":return p.jsx(bEe,{});case"users":return p.jsx(EEe,{});case"missing-items":return p.jsx(SEe,{});case"bulk-modification":return p.jsx(TEe,{});case"remitos":return p.jsx(IEe,{});case"settings":return p.jsx(xEe,{isAdmin:s.role==="admin",companyInfo:l,setCompanyInfo:u});default:return p.jsxs("div",{className:"p-10",children:["Mdulo ",x," en construccin"]})}};return p.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[p.jsx(iG,{activeTab:n,setActiveTab:d,currentUser:s,companyInfo:l,onLogout:()=>o(!1)}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(sG,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:h}),p.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t.map(x=>p.jsx("div",{className:x===n?"block":"hidden",children:y(x)},x))})]})]})};function PEe(){return p.jsx(Iq,{children:p.jsx(CEe,{})})}const XU=document.getElementById("root");if(!XU)throw new Error("Could not find root element to mount to");const NEe=Gv.createRoot(XU);NEe.render(p.jsx($.StrictMode,{children:p.jsx(PEe,{})}));
