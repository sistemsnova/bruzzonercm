(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ND={exports:{}},Pv={},RD={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=Symbol.for("react.element"),MV=Symbol.for("react.portal"),DV=Symbol.for("react.fragment"),FV=Symbol.for("react.strict_mode"),LV=Symbol.for("react.profiler"),UV=Symbol.for("react.provider"),$V=Symbol.for("react.context"),BV=Symbol.for("react.forward_ref"),VV=Symbol.for("react.suspense"),jV=Symbol.for("react.memo"),GV=Symbol.for("react.lazy"),D2=Symbol.iterator;function HV(t){return t===null||typeof t!="object"?null:(t=D2&&t[D2]||t["@@iterator"],typeof t=="function"?t:null)}var OD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MD=Object.assign,DD={};function Qu(t,e,r){this.props=t,this.context=e,this.refs=DD,this.updater=r||OD}Qu.prototype.isReactComponent={};Qu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FD(){}FD.prototype=Qu.prototype;function dT(t,e,r){this.props=t,this.context=e,this.refs=DD,this.updater=r||OD}var hT=dT.prototype=new FD;hT.constructor=dT;MD(hT,Qu.prototype);hT.isPureReactComponent=!0;var F2=Array.isArray,LD=Object.prototype.hasOwnProperty,pT={current:null},UD={key:!0,ref:!0,__self:!0,__source:!0};function $D(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)LD.call(e,n)&&!UD.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:f0,type:t,key:a,ref:s,props:i,_owner:pT.current}}function zV(t,e){return{$$typeof:f0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mT(t){return typeof t=="object"&&t!==null&&t.$$typeof===f0}function WV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var L2=/\/+/g;function Sx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WV(""+t.key):e.toString(36)}function em(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case f0:case MV:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Sx(s,0):n,F2(i)?(r="",t!=null&&(r=t.replace(L2,"$&/")+"/"),em(i,e,r,"",function(c){return c})):i!=null&&(mT(i)&&(i=zV(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(L2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",F2(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Sx(a,o);s+=em(a,e,r,l,i)}else if(l=HV(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Sx(a,o++),s+=em(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ip(t,e,r){if(t==null)return t;var n=[],i=0;return em(t,n,"","",function(a){return e.call(r,a,i++)}),n}function qV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},tm={transition:null},KV={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:tm,ReactCurrentOwner:pT};function BD(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:ip,forEach:function(t,e,r){ip(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ip(t,function(){e++}),e},toArray:function(t){return ip(t,function(e){return e})||[]},only:function(t){if(!mT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Qu;at.Fragment=DV;at.Profiler=LV;at.PureComponent=dT;at.StrictMode=FV;at.Suspense=VV;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KV;at.act=BD;at.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=MD({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=pT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)LD.call(e,l)&&!UD.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:f0,type:t.type,key:i,ref:a,props:n,_owner:s}};at.createContext=function(t){return t={$$typeof:$V,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UV,_context:t},t.Consumer=t};at.createElement=$D;at.createFactory=function(t){var e=$D.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:BV,render:t}};at.isValidElement=mT;at.lazy=function(t){return{$$typeof:GV,_payload:{_status:-1,_result:t},_init:qV}};at.memo=function(t,e){return{$$typeof:jV,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=tm.transition;tm.transition={};try{t()}finally{tm.transition=e}};at.unstable_act=BD;at.useCallback=function(t,e){return Vn.current.useCallback(t,e)};at.useContext=function(t){return Vn.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};at.useEffect=function(t,e){return Vn.current.useEffect(t,e)};at.useId=function(){return Vn.current.useId()};at.useImperativeHandle=function(t,e,r){return Vn.current.useImperativeHandle(t,e,r)};at.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return Vn.current.useMemo(t,e)};at.useReducer=function(t,e,r){return Vn.current.useReducer(t,e,r)};at.useRef=function(t){return Vn.current.useRef(t)};at.useState=function(t){return Vn.current.useState(t)};at.useSyncExternalStore=function(t,e,r){return Vn.current.useSyncExternalStore(t,e,r)};at.useTransition=function(){return Vn.current.useTransition()};at.version="18.3.1";RD.exports=at;var re=RD.exports;const Q=Rt(re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XV=re,YV=Symbol.for("react.element"),JV=Symbol.for("react.fragment"),QV=Object.prototype.hasOwnProperty,ZV=XV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ej={key:!0,ref:!0,__self:!0,__source:!0};function VD(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)QV.call(e,n)&&!ej.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:YV,type:t,key:a,ref:s,props:i,_owner:ZV.current}}Pv.Fragment=JV;Pv.jsx=VD;Pv.jsxs=VD;ND.exports=Pv;var x=ND.exports,J1={},jD={exports:{}},mi={},GD={exports:{}},HD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,z){var ie=ee.length;ee.push(z);e:for(;0<ie;){var me=ie-1>>>1,U=ee[me];if(0<i(U,z))ee[me]=z,ee[ie]=U,ie=me;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var z=ee[0],ie=ee.pop();if(ie!==z){ee[0]=ie;e:for(var me=0,U=ee.length,q=U>>>1;me<q;){var Y=2*(me+1)-1,K=ee[Y],de=Y+1,xe=ee[de];if(0>i(K,ie))de<U&&0>i(xe,K)?(ee[me]=xe,ee[de]=ie,me=de):(ee[me]=K,ee[Y]=ie,me=Y);else if(de<U&&0>i(xe,ie))ee[me]=xe,ee[de]=ie,me=de;else break e}}return z}function i(ee,z){var ie=ee.sortIndex-z.sortIndex;return ie!==0?ie:ee.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ee){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=ee)n(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(c)}}function k(ee){if(v=!1,E(ee),!y)if(r(l)!==null)y=!0,te(A);else{var z=r(c);z!==null&&Z(k,z.startTime-ee)}}function A(ee,z){y=!1,v&&(v=!1,w(I),I=-1),h=!0;var ie=d;try{for(E(z),f=r(l);f!==null&&(!(f.expirationTime>z)||ee&&!O());){var me=f.callback;if(typeof me=="function"){f.callback=null,d=f.priorityLevel;var U=me(f.expirationTime<=z);z=t.unstable_now(),typeof U=="function"?f.callback=U:f===r(l)&&n(l),E(z)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var Y=r(c);Y!==null&&Z(k,Y.startTime-z),q=!1}return q}finally{f=null,d=ie,h=!1}}var C=!1,S=null,I=-1,b=5,N=-1;function O(){return!(t.unstable_now()-N<b)}function R(){if(S!==null){var ee=t.unstable_now();N=ee;var z=!0;try{z=S(!0,ee)}finally{z?D():(C=!1,S=null)}}else C=!1}var D;if(typeof T=="function")D=function(){T(R)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=R,D=function(){X.postMessage(null)}}else D=function(){_(R,0)};function te(ee){S=ee,C||(C=!0,D())}function Z(ee,z){I=_(function(){ee(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,te(A))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var ie=d;d=z;try{return ee()}finally{d=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,z){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=d;d=ee;try{return z()}finally{d=ie}},t.unstable_scheduleCallback=function(ee,z,ie){var me=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,ee){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ie+U,ee={id:u++,callback:z,priorityLevel:ee,startTime:ie,expirationTime:U,sortIndex:-1},ie>me?(ee.sortIndex=ie,e(c,ee),r(l)===null&&ee===r(c)&&(v?(w(I),I=-1):v=!0,Z(k,ie-me))):(ee.sortIndex=U,e(l,ee),y||h||(y=!0,te(A))),ee},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ee){var z=d;return function(){var ie=d;d=z;try{return ee.apply(this,arguments)}finally{d=ie}}}})(HD);GD.exports=HD;var tj=GD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj=re,di=tj;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zD=new Set,Wd={};function zl(t,e){uu(t,e),uu(t+"Capture",e)}function uu(t,e){for(Wd[t]=e,t=0;t<e.length;t++)zD.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q1=Object.prototype.hasOwnProperty,nj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U2={},$2={};function ij(t){return Q1.call($2,t)?!0:Q1.call(U2,t)?!1:nj.test(t)?$2[t]=!0:(U2[t]=!0,!1)}function aj(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sj(t,e,r,n){if(e===null||typeof e>"u"||aj(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gT=/[\-:]([a-z])/g;function vT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gT,vT);an[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gT,vT);an[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gT,vT);an[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yT(t,e,r,n){var i=an.hasOwnProperty(e)?an[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sj(e,r,i,n)&&(r=null),n||i===null?ij(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ks=rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ap=Symbol.for("react.element"),bc=Symbol.for("react.portal"),Ac=Symbol.for("react.fragment"),xT=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),WD=Symbol.for("react.provider"),qD=Symbol.for("react.context"),_T=Symbol.for("react.forward_ref"),e_=Symbol.for("react.suspense"),t_=Symbol.for("react.suspense_list"),wT=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),KD=Symbol.for("react.offscreen"),B2=Symbol.iterator;function Uf(t){return t===null||typeof t!="object"?null:(t=B2&&t[B2]||t["@@iterator"],typeof t=="function"?t:null)}var er=Object.assign,bx;function ad(t){if(bx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bx=e&&e[1]||""}return`
`+bx+t}var Ax=!1;function Cx(t,e){if(!t||Ax)return"";Ax=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ax=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ad(t):""}function oj(t){switch(t.tag){case 5:return ad(t.type);case 16:return ad("Lazy");case 13:return ad("Suspense");case 19:return ad("SuspenseList");case 0:case 2:case 15:return t=Cx(t.type,!1),t;case 11:return t=Cx(t.type.render,!1),t;case 1:return t=Cx(t.type,!0),t;default:return""}}function r_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ac:return"Fragment";case bc:return"Portal";case Z1:return"Profiler";case xT:return"StrictMode";case e_:return"Suspense";case t_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qD:return(t.displayName||"Context")+".Consumer";case WD:return(t._context.displayName||"Context")+".Provider";case _T:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wT:return e=t.displayName||null,e!==null?e:r_(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return r_(t(e))}catch{}}return null}function lj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r_(e);case 8:return e===xT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cj(t){var e=XD(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sp(t){t._valueTracker||(t._valueTracker=cj(t))}function YD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=XD(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Tm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n_(t,e){var r=e.checked;return er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function V2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Co(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JD(t,e){e=e.checked,e!=null&&yT(t,"checked",e,!1)}function i_(t,e){JD(t,e);var r=Co(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?a_(t,e.type,r):e.hasOwnProperty("defaultValue")&&a_(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function a_(t,e,r){(e!=="number"||Tm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sd=Array.isArray;function Hc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Co(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function s_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function G2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ee(92));if(sd(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Co(r)}}function QD(t,e){var r=Co(e.value),n=Co(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function H2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var op,e4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(op=op||document.createElement("div"),op.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=op.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uj=["Webkit","ms","Moz","O"];Object.keys(xd).forEach(function(t){uj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xd[e]=xd[t]})});function t4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xd.hasOwnProperty(t)&&xd[t]?(""+e).trim():e+"px"}function r4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=t4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var fj=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l_(t,e){if(e){if(fj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function c_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u_=null;function ET(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var f_=null,zc=null,Wc=null;function z2(t){if(t=p0(t)){if(typeof f_!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=Dv(e),f_(t.stateNode,t.type,e))}}function n4(t){zc?Wc?Wc.push(t):Wc=[t]:zc=t}function i4(){if(zc){var t=zc,e=Wc;if(Wc=zc=null,z2(t),e)for(t=0;t<e.length;t++)z2(e[t])}}function a4(t,e){return t(e)}function s4(){}var Ix=!1;function o4(t,e,r){if(Ix)return t(e,r);Ix=!0;try{return a4(t,e,r)}finally{Ix=!1,(zc!==null||Wc!==null)&&(s4(),i4())}}function Kd(t,e){var r=t.stateNode;if(r===null)return null;var n=Dv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ee(231,e,typeof r));return r}var d_=!1;if(ds)try{var $f={};Object.defineProperty($f,"passive",{get:function(){d_=!0}}),window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{d_=!1}function dj(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var _d=!1,Sm=null,bm=!1,h_=null,hj={onError:function(t){_d=!0,Sm=t}};function pj(t,e,r,n,i,a,s,o,l){_d=!1,Sm=null,dj.apply(hj,arguments)}function mj(t,e,r,n,i,a,s,o,l){if(pj.apply(this,arguments),_d){if(_d){var c=Sm;_d=!1,Sm=null}else throw Error(Ee(198));bm||(bm=!0,h_=c)}}function Wl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function l4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W2(t){if(Wl(t)!==t)throw Error(Ee(188))}function gj(t){var e=t.alternate;if(!e){if(e=Wl(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return W2(i),t;if(a===n)return W2(i),e;a=a.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?t:e}function c4(t){return t=gj(t),t!==null?u4(t):null}function u4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u4(t);if(e!==null)return e;t=t.sibling}return null}var f4=di.unstable_scheduleCallback,q2=di.unstable_cancelCallback,vj=di.unstable_shouldYield,yj=di.unstable_requestPaint,hr=di.unstable_now,xj=di.unstable_getCurrentPriorityLevel,TT=di.unstable_ImmediatePriority,d4=di.unstable_UserBlockingPriority,Am=di.unstable_NormalPriority,_j=di.unstable_LowPriority,h4=di.unstable_IdlePriority,Nv=null,ba=null;function wj(t){if(ba&&typeof ba.onCommitFiberRoot=="function")try{ba.onCommitFiberRoot(Nv,t,void 0,(t.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:Sj,Ej=Math.log,Tj=Math.LN2;function Sj(t){return t>>>=0,t===0?32:31-(Ej(t)/Tj|0)|0}var lp=64,cp=4194304;function od(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=od(o):(a&=s,a!==0&&(n=od(a)))}else s=r&~i,s!==0?n=od(s):a!==0&&(n=od(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ia(e),i=1<<r,n|=t[r],e&=~i;return n}function bj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aj(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-ia(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=bj(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function p_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p4(){var t=lp;return lp<<=1,!(lp&4194240)&&(lp=64),t}function kx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function d0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ia(e),t[e]=r}function Cj(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ia(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function ST(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ia(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var St=0;function m4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g4,bT,v4,y4,x4,m_=!1,up=[],uo=null,fo=null,ho=null,Xd=new Map,Yd=new Map,Xs=[],Ij="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K2(t,e){switch(t){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yd.delete(e.pointerId)}}function Bf(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=p0(e),e!==null&&bT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kj(t,e,r,n,i){switch(e){case"focusin":return uo=Bf(uo,t,e,r,n,i),!0;case"dragenter":return fo=Bf(fo,t,e,r,n,i),!0;case"mouseover":return ho=Bf(ho,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Xd.set(a,Bf(Xd.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Yd.set(a,Bf(Yd.get(a)||null,t,e,r,n,i)),!0}return!1}function _4(t){var e=sl(t.target);if(e!==null){var r=Wl(e);if(r!==null){if(e=r.tag,e===13){if(e=l4(r),e!==null){t.blockedOn=e,x4(t.priority,function(){v4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=g_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);u_=n,r.target.dispatchEvent(n),u_=null}else return e=p0(r),e!==null&&bT(e),t.blockedOn=r,!1;e.shift()}return!0}function X2(t,e,r){rm(t)&&r.delete(e)}function Pj(){m_=!1,uo!==null&&rm(uo)&&(uo=null),fo!==null&&rm(fo)&&(fo=null),ho!==null&&rm(ho)&&(ho=null),Xd.forEach(X2),Yd.forEach(X2)}function Vf(t,e){t.blockedOn===e&&(t.blockedOn=null,m_||(m_=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,Pj)))}function Jd(t){function e(i){return Vf(i,t)}if(0<up.length){Vf(up[0],t);for(var r=1;r<up.length;r++){var n=up[r];n.blockedOn===t&&(n.blockedOn=null)}}for(uo!==null&&Vf(uo,t),fo!==null&&Vf(fo,t),ho!==null&&Vf(ho,t),Xd.forEach(e),Yd.forEach(e),r=0;r<Xs.length;r++)n=Xs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)_4(r),r.blockedOn===null&&Xs.shift()}var qc=ks.ReactCurrentBatchConfig,Im=!0;function Nj(t,e,r,n){var i=St,a=qc.transition;qc.transition=null;try{St=1,AT(t,e,r,n)}finally{St=i,qc.transition=a}}function Rj(t,e,r,n){var i=St,a=qc.transition;qc.transition=null;try{St=4,AT(t,e,r,n)}finally{St=i,qc.transition=a}}function AT(t,e,r,n){if(Im){var i=g_(t,e,r,n);if(i===null)$x(t,e,n,km,r),K2(t,n);else if(kj(i,t,e,r,n))n.stopPropagation();else if(K2(t,n),e&4&&-1<Ij.indexOf(t)){for(;i!==null;){var a=p0(i);if(a!==null&&g4(a),a=g_(t,e,r,n),a===null&&$x(t,e,n,km,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else $x(t,e,n,null,r)}}var km=null;function g_(t,e,r,n){if(km=null,t=ET(n),t=sl(t),t!==null)if(e=Wl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=l4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return km=t,null}function w4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xj()){case TT:return 1;case d4:return 4;case Am:case _j:return 16;case h4:return 536870912;default:return 16}default:return 16}}var ro=null,CT=null,nm=null;function E4(){if(nm)return nm;var t,e=CT,r=e.length,n,i="value"in ro?ro.value:ro.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return nm=i.slice(t,1<n?1-n:void 0)}function im(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fp(){return!0}function Y2(){return!1}function gi(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fp:Y2,this.isPropagationStopped=Y2,this}return er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fp)},persist:function(){},isPersistent:fp}),e}var Zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IT=gi(Zu),h0=er({},Zu,{view:0,detail:0}),Oj=gi(h0),Px,Nx,jf,Rv=er({},h0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jf&&(jf&&t.type==="mousemove"?(Px=t.screenX-jf.screenX,Nx=t.screenY-jf.screenY):Nx=Px=0,jf=t),Px)},movementY:function(t){return"movementY"in t?t.movementY:Nx}}),J2=gi(Rv),Mj=er({},Rv,{dataTransfer:0}),Dj=gi(Mj),Fj=er({},h0,{relatedTarget:0}),Rx=gi(Fj),Lj=er({},Zu,{animationName:0,elapsedTime:0,pseudoElement:0}),Uj=gi(Lj),$j=er({},Zu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bj=gi($j),Vj=er({},Zu,{data:0}),Q2=gi(Vj),jj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hj[t])?!!e[t]:!1}function kT(){return zj}var Wj=er({},h0,{key:function(t){if(t.key){var e=jj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=im(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kT,charCode:function(t){return t.type==="keypress"?im(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?im(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qj=gi(Wj),Kj=er({},Rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z2=gi(Kj),Xj=er({},h0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kT}),Yj=gi(Xj),Jj=er({},Zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qj=gi(Jj),Zj=er({},Rv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e9=gi(Zj),t9=[9,13,27,32],PT=ds&&"CompositionEvent"in window,wd=null;ds&&"documentMode"in document&&(wd=document.documentMode);var r9=ds&&"TextEvent"in window&&!wd,T4=ds&&(!PT||wd&&8<wd&&11>=wd),eC=" ",tC=!1;function S4(t,e){switch(t){case"keyup":return t9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cc=!1;function n9(t,e){switch(t){case"compositionend":return b4(e);case"keypress":return e.which!==32?null:(tC=!0,eC);case"textInput":return t=e.data,t===eC&&tC?null:t;default:return null}}function i9(t,e){if(Cc)return t==="compositionend"||!PT&&S4(t,e)?(t=E4(),nm=CT=ro=null,Cc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T4&&e.locale!=="ko"?null:e.data;default:return null}}var a9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a9[t.type]:e==="textarea"}function A4(t,e,r,n){n4(n),e=Pm(e,"onChange"),0<e.length&&(r=new IT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ed=null,Qd=null;function s9(t){L4(t,0)}function Ov(t){var e=Pc(t);if(YD(e))return t}function o9(t,e){if(t==="change")return e}var C4=!1;if(ds){var Ox;if(ds){var Mx="oninput"in document;if(!Mx){var nC=document.createElement("div");nC.setAttribute("oninput","return;"),Mx=typeof nC.oninput=="function"}Ox=Mx}else Ox=!1;C4=Ox&&(!document.documentMode||9<document.documentMode)}function iC(){Ed&&(Ed.detachEvent("onpropertychange",I4),Qd=Ed=null)}function I4(t){if(t.propertyName==="value"&&Ov(Qd)){var e=[];A4(e,Qd,t,ET(t)),o4(s9,e)}}function l9(t,e,r){t==="focusin"?(iC(),Ed=e,Qd=r,Ed.attachEvent("onpropertychange",I4)):t==="focusout"&&iC()}function c9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ov(Qd)}function u9(t,e){if(t==="click")return Ov(e)}function f9(t,e){if(t==="input"||t==="change")return Ov(e)}function d9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fa=typeof Object.is=="function"?Object.is:d9;function Zd(t,e){if(fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Q1.call(e,i)||!fa(t[i],e[i]))return!1}return!0}function aC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sC(t,e){var r=aC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aC(r)}}function k4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?k4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P4(){for(var t=window,e=Tm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Tm(t.document)}return e}function NT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h9(t){var e=P4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&k4(r.ownerDocument.documentElement,r)){if(n!==null&&NT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=sC(r,a);var s=sC(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p9=ds&&"documentMode"in document&&11>=document.documentMode,Ic=null,v_=null,Td=null,y_=!1;function oC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;y_||Ic==null||Ic!==Tm(n)||(n=Ic,"selectionStart"in n&&NT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Td&&Zd(Td,n)||(Td=n,n=Pm(v_,"onSelect"),0<n.length&&(e=new IT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ic)))}function dp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kc={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},Dx={},N4={};ds&&(N4=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function Mv(t){if(Dx[t])return Dx[t];if(!kc[t])return t;var e=kc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in N4)return Dx[t]=e[r];return t}var R4=Mv("animationend"),O4=Mv("animationiteration"),M4=Mv("animationstart"),D4=Mv("transitionend"),F4=new Map,lC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(t,e){F4.set(t,e),zl(e,[t])}for(var Fx=0;Fx<lC.length;Fx++){var Lx=lC[Fx],m9=Lx.toLowerCase(),g9=Lx[0].toUpperCase()+Lx.slice(1);Mo(m9,"on"+g9)}Mo(R4,"onAnimationEnd");Mo(O4,"onAnimationIteration");Mo(M4,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(D4,"onTransitionEnd");uu("onMouseEnter",["mouseout","mouseover"]);uu("onMouseLeave",["mouseout","mouseover"]);uu("onPointerEnter",["pointerout","pointerover"]);uu("onPointerLeave",["pointerout","pointerover"]);zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v9=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function cC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mj(n,e,void 0,t),t.currentTarget=null}function L4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;cC(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;cC(i,o,c),a=l}}}if(bm)throw t=h_,bm=!1,h_=null,t}function $t(t,e){var r=e[T_];r===void 0&&(r=e[T_]=new Set);var n=t+"__bubble";r.has(n)||(U4(e,t,2,!1),r.add(n))}function Ux(t,e,r){var n=0;e&&(n|=4),U4(r,t,n,e)}var hp="_reactListening"+Math.random().toString(36).slice(2);function eh(t){if(!t[hp]){t[hp]=!0,zD.forEach(function(r){r!=="selectionchange"&&(v9.has(r)||Ux(r,!1,t),Ux(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hp]||(e[hp]=!0,Ux("selectionchange",!1,e))}}function U4(t,e,r,n){switch(w4(e)){case 1:var i=Nj;break;case 4:i=Rj;break;default:i=AT}r=i.bind(null,e,r,t),i=void 0,!d_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function $x(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=sl(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}o4(function(){var c=a,u=ET(r),f=[];e:{var d=F4.get(t);if(d!==void 0){var h=IT,y=t;switch(t){case"keypress":if(im(r)===0)break e;case"keydown":case"keyup":h=qj;break;case"focusin":y="focus",h=Rx;break;case"focusout":y="blur",h=Rx;break;case"beforeblur":case"afterblur":h=Rx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=J2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Dj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Yj;break;case R4:case O4:case M4:h=Uj;break;case D4:h=Qj;break;case"scroll":h=Oj;break;case"wheel":h=e9;break;case"copy":case"cut":case"paste":h=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Z2}var v=(e&4)!==0,_=!v&&t==="scroll",w=v?d!==null?d+"Capture":null:d;v=[];for(var T=c,E;T!==null;){E=T;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,w!==null&&(k=Kd(T,w),k!=null&&v.push(th(T,k,E)))),_)break;T=T.return}0<v.length&&(d=new h(d,y,null,r,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==u_&&(y=r.relatedTarget||r.fromElement)&&(sl(y)||y[hs]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?sl(y):null,y!==null&&(_=Wl(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(v=J2,k="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(v=Z2,k="onPointerLeave",w="onPointerEnter",T="pointer"),_=h==null?d:Pc(h),E=y==null?d:Pc(y),d=new v(k,T+"leave",h,r,u),d.target=_,d.relatedTarget=E,k=null,sl(u)===c&&(v=new v(w,T+"enter",y,r,u),v.target=E,v.relatedTarget=_,k=v),_=k,h&&y)t:{for(v=h,w=y,T=0,E=v;E;E=pc(E))T++;for(E=0,k=w;k;k=pc(k))E++;for(;0<T-E;)v=pc(v),T--;for(;0<E-T;)w=pc(w),E--;for(;T--;){if(v===w||w!==null&&v===w.alternate)break t;v=pc(v),w=pc(w)}v=null}else v=null;h!==null&&uC(f,d,h,v,!1),y!==null&&_!==null&&uC(f,_,y,v,!0)}}e:{if(d=c?Pc(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var A=o9;else if(rC(d))if(C4)A=f9;else{A=c9;var C=l9}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=u9);if(A&&(A=A(t,c))){A4(f,A,r,u);break e}C&&C(t,d,c),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&a_(d,"number",d.value)}switch(C=c?Pc(c):window,t){case"focusin":(rC(C)||C.contentEditable==="true")&&(Ic=C,v_=c,Td=null);break;case"focusout":Td=v_=Ic=null;break;case"mousedown":y_=!0;break;case"contextmenu":case"mouseup":case"dragend":y_=!1,oC(f,r,u);break;case"selectionchange":if(p9)break;case"keydown":case"keyup":oC(f,r,u)}var S;if(PT)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Cc?S4(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(T4&&r.locale!=="ko"&&(Cc||I!=="onCompositionStart"?I==="onCompositionEnd"&&Cc&&(S=E4()):(ro=u,CT="value"in ro?ro.value:ro.textContent,Cc=!0)),C=Pm(c,I),0<C.length&&(I=new Q2(I,t,null,r,u),f.push({event:I,listeners:C}),S?I.data=S:(S=b4(r),S!==null&&(I.data=S)))),(S=r9?n9(t,r):i9(t,r))&&(c=Pm(c,"onBeforeInput"),0<c.length&&(u=new Q2("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}L4(f,e)})}function th(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Pm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Kd(t,r),a!=null&&n.unshift(th(t,a,i)),a=Kd(t,e),a!=null&&n.push(th(t,a,i))),t=t.return}return n}function pc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uC(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Kd(r,a),l!=null&&s.unshift(th(r,l,o))):i||(l=Kd(r,a),l!=null&&s.push(th(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var y9=/\r\n?/g,x9=/\u0000|\uFFFD/g;function fC(t){return(typeof t=="string"?t:""+t).replace(y9,`
`).replace(x9,"")}function pp(t,e,r){if(e=fC(e),fC(t)!==e&&r)throw Error(Ee(425))}function Nm(){}var x_=null,__=null;function w_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E_=typeof setTimeout=="function"?setTimeout:void 0,_9=typeof clearTimeout=="function"?clearTimeout:void 0,dC=typeof Promise=="function"?Promise:void 0,w9=typeof queueMicrotask=="function"?queueMicrotask:typeof dC<"u"?function(t){return dC.resolve(null).then(t).catch(E9)}:E_;function E9(t){setTimeout(function(){throw t})}function Bx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Jd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Jd(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ef=Math.random().toString(36).slice(2),Ea="__reactFiber$"+ef,rh="__reactProps$"+ef,hs="__reactContainer$"+ef,T_="__reactEvents$"+ef,T9="__reactListeners$"+ef,S9="__reactHandles$"+ef;function sl(t){var e=t[Ea];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hs]||r[Ea]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hC(t);t!==null;){if(r=t[Ea])return r;t=hC(t)}return e}t=r,r=t.parentNode}return null}function p0(t){return t=t[Ea]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function Dv(t){return t[rh]||null}var S_=[],Nc=-1;function Do(t){return{current:t}}function jt(t){0>Nc||(t.current=S_[Nc],S_[Nc]=null,Nc--)}function Dt(t,e){Nc++,S_[Nc]=t.current,t.current=e}var Io={},Sn=Do(Io),Yn=Do(!1),Al=Io;function fu(t,e){var r=t.type.contextTypes;if(!r)return Io;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jn(t){return t=t.childContextTypes,t!=null}function Rm(){jt(Yn),jt(Sn)}function pC(t,e,r){if(Sn.current!==Io)throw Error(Ee(168));Dt(Sn,e),Dt(Yn,r)}function $4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ee(108,lj(t)||"Unknown",i));return er({},r,n)}function Om(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,Al=Sn.current,Dt(Sn,t),Dt(Yn,Yn.current),!0}function mC(t,e,r){var n=t.stateNode;if(!n)throw Error(Ee(169));r?(t=$4(t,e,Al),n.__reactInternalMemoizedMergedChildContext=t,jt(Yn),jt(Sn),Dt(Sn,t)):jt(Yn),Dt(Yn,r)}var Xa=null,Fv=!1,Vx=!1;function B4(t){Xa===null?Xa=[t]:Xa.push(t)}function b9(t){Fv=!0,B4(t)}function Fo(){if(!Vx&&Xa!==null){Vx=!0;var t=0,e=St;try{var r=Xa;for(St=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Xa=null,Fv=!1}catch(i){throw Xa!==null&&(Xa=Xa.slice(t+1)),f4(TT,Fo),i}finally{St=e,Vx=!1}}return null}var Rc=[],Oc=0,Mm=null,Dm=0,Ai=[],Ci=0,Cl=null,Ja=1,Qa="";function Qo(t,e){Rc[Oc++]=Dm,Rc[Oc++]=Mm,Mm=t,Dm=e}function V4(t,e,r){Ai[Ci++]=Ja,Ai[Ci++]=Qa,Ai[Ci++]=Cl,Cl=t;var n=Ja;t=Qa;var i=32-ia(n)-1;n&=~(1<<i),r+=1;var a=32-ia(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ja=1<<32-ia(e)+i|r<<i|n,Qa=a+t}else Ja=1<<a|r<<i|n,Qa=t}function RT(t){t.return!==null&&(Qo(t,1),V4(t,1,0))}function OT(t){for(;t===Mm;)Mm=Rc[--Oc],Rc[Oc]=null,Dm=Rc[--Oc],Rc[Oc]=null;for(;t===Cl;)Cl=Ai[--Ci],Ai[Ci]=null,Qa=Ai[--Ci],Ai[Ci]=null,Ja=Ai[--Ci],Ai[Ci]=null}var ui=null,li=null,qt=!1,Qi=null;function j4(t,e){var r=ki(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function gC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ui=t,li=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ui=t,li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cl!==null?{id:Ja,overflow:Qa}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ki(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ui=t,li=null,!0):!1;default:return!1}}function b_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function A_(t){if(qt){var e=li;if(e){var r=e;if(!gC(t,e)){if(b_(t))throw Error(Ee(418));e=po(r.nextSibling);var n=ui;e&&gC(t,e)?j4(n,r):(t.flags=t.flags&-4097|2,qt=!1,ui=t)}}else{if(b_(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,qt=!1,ui=t}}}function vC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ui=t}function mp(t){if(t!==ui)return!1;if(!qt)return vC(t),qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!w_(t.type,t.memoizedProps)),e&&(e=li)){if(b_(t))throw G4(),Error(Ee(418));for(;e;)j4(t,e),e=po(e.nextSibling)}if(vC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){li=po(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}li=null}}else li=ui?po(t.stateNode.nextSibling):null;return!0}function G4(){for(var t=li;t;)t=po(t.nextSibling)}function du(){li=ui=null,qt=!1}function MT(t){Qi===null?Qi=[t]:Qi.push(t)}var A9=ks.ReactCurrentBatchConfig;function Gf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,t))}return t}function gp(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yC(t){var e=t._init;return e(t._payload)}function H4(t){function e(w,T){if(t){var E=w.deletions;E===null?(w.deletions=[T],w.flags|=16):E.push(T)}}function r(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function n(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=yo(w,T),w.index=0,w.sibling=null,w}function a(w,T,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<T?(w.flags|=2,T):E):(w.flags|=2,T)):(w.flags|=1048576,T)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,T,E,k){return T===null||T.tag!==6?(T=Kx(E,w.mode,k),T.return=w,T):(T=i(T,E),T.return=w,T)}function l(w,T,E,k){var A=E.type;return A===Ac?u(w,T,E.props.children,k,E.key):T!==null&&(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ws&&yC(A)===T.type)?(k=i(T,E.props),k.ref=Gf(w,T,E),k.return=w,k):(k=fm(E.type,E.key,E.props,null,w.mode,k),k.ref=Gf(w,T,E),k.return=w,k)}function c(w,T,E,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=Xx(E,w.mode,k),T.return=w,T):(T=i(T,E.children||[]),T.return=w,T)}function u(w,T,E,k,A){return T===null||T.tag!==7?(T=vl(E,w.mode,k,A),T.return=w,T):(T=i(T,E),T.return=w,T)}function f(w,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Kx(""+T,w.mode,E),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ap:return E=fm(T.type,T.key,T.props,null,w.mode,E),E.ref=Gf(w,null,T),E.return=w,E;case bc:return T=Xx(T,w.mode,E),T.return=w,T;case Ws:var k=T._init;return f(w,k(T._payload),E)}if(sd(T)||Uf(T))return T=vl(T,w.mode,E,null),T.return=w,T;gp(w,T)}return null}function d(w,T,E,k){var A=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:o(w,T,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ap:return E.key===A?l(w,T,E,k):null;case bc:return E.key===A?c(w,T,E,k):null;case Ws:return A=E._init,d(w,T,A(E._payload),k)}if(sd(E)||Uf(E))return A!==null?null:u(w,T,E,k,null);gp(w,E)}return null}function h(w,T,E,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(E)||null,o(T,w,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ap:return w=w.get(k.key===null?E:k.key)||null,l(T,w,k,A);case bc:return w=w.get(k.key===null?E:k.key)||null,c(T,w,k,A);case Ws:var C=k._init;return h(w,T,E,C(k._payload),A)}if(sd(k)||Uf(k))return w=w.get(E)||null,u(T,w,k,A,null);gp(T,k)}return null}function y(w,T,E,k){for(var A=null,C=null,S=T,I=T=0,b=null;S!==null&&I<E.length;I++){S.index>I?(b=S,S=null):b=S.sibling;var N=d(w,S,E[I],k);if(N===null){S===null&&(S=b);break}t&&S&&N.alternate===null&&e(w,S),T=a(N,T,I),C===null?A=N:C.sibling=N,C=N,S=b}if(I===E.length)return r(w,S),qt&&Qo(w,I),A;if(S===null){for(;I<E.length;I++)S=f(w,E[I],k),S!==null&&(T=a(S,T,I),C===null?A=S:C.sibling=S,C=S);return qt&&Qo(w,I),A}for(S=n(w,S);I<E.length;I++)b=h(S,w,I,E[I],k),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?I:b.key),T=a(b,T,I),C===null?A=b:C.sibling=b,C=b);return t&&S.forEach(function(O){return e(w,O)}),qt&&Qo(w,I),A}function v(w,T,E,k){var A=Uf(E);if(typeof A!="function")throw Error(Ee(150));if(E=A.call(E),E==null)throw Error(Ee(151));for(var C=A=null,S=T,I=T=0,b=null,N=E.next();S!==null&&!N.done;I++,N=E.next()){S.index>I?(b=S,S=null):b=S.sibling;var O=d(w,S,N.value,k);if(O===null){S===null&&(S=b);break}t&&S&&O.alternate===null&&e(w,S),T=a(O,T,I),C===null?A=O:C.sibling=O,C=O,S=b}if(N.done)return r(w,S),qt&&Qo(w,I),A;if(S===null){for(;!N.done;I++,N=E.next())N=f(w,N.value,k),N!==null&&(T=a(N,T,I),C===null?A=N:C.sibling=N,C=N);return qt&&Qo(w,I),A}for(S=n(w,S);!N.done;I++,N=E.next())N=h(S,w,I,N.value,k),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?I:N.key),T=a(N,T,I),C===null?A=N:C.sibling=N,C=N);return t&&S.forEach(function(R){return e(w,R)}),qt&&Qo(w,I),A}function _(w,T,E,k){if(typeof E=="object"&&E!==null&&E.type===Ac&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ap:e:{for(var A=E.key,C=T;C!==null;){if(C.key===A){if(A=E.type,A===Ac){if(C.tag===7){r(w,C.sibling),T=i(C,E.props.children),T.return=w,w=T;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ws&&yC(A)===C.type){r(w,C.sibling),T=i(C,E.props),T.ref=Gf(w,C,E),T.return=w,w=T;break e}r(w,C);break}else e(w,C);C=C.sibling}E.type===Ac?(T=vl(E.props.children,w.mode,k,E.key),T.return=w,w=T):(k=fm(E.type,E.key,E.props,null,w.mode,k),k.ref=Gf(w,T,E),k.return=w,w=k)}return s(w);case bc:e:{for(C=E.key;T!==null;){if(T.key===C)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){r(w,T.sibling),T=i(T,E.children||[]),T.return=w,w=T;break e}else{r(w,T);break}else e(w,T);T=T.sibling}T=Xx(E,w.mode,k),T.return=w,w=T}return s(w);case Ws:return C=E._init,_(w,T,C(E._payload),k)}if(sd(E))return y(w,T,E,k);if(Uf(E))return v(w,T,E,k);gp(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,T!==null&&T.tag===6?(r(w,T.sibling),T=i(T,E),T.return=w,w=T):(r(w,T),T=Kx(E,w.mode,k),T.return=w,w=T),s(w)):r(w,T)}return _}var hu=H4(!0),z4=H4(!1),Fm=Do(null),Lm=null,Mc=null,DT=null;function FT(){DT=Mc=Lm=null}function LT(t){var e=Fm.current;jt(Fm),t._currentValue=e}function C_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Kc(t,e){Lm=t,DT=Mc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(DT!==t)if(t={context:t,memoizedValue:e,next:null},Mc===null){if(Lm===null)throw Error(Ee(308));Mc=t,Lm.dependencies={lanes:0,firstContext:t}}else Mc=Mc.next=t;return e}var ol=null;function UT(t){ol===null?ol=[t]:ol.push(t)}function W4(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,UT(e)):(r.next=i.next,i.next=r),e.interleaved=r,ps(t,n)}function ps(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qs=!1;function $T(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ps(t,r)}return i=n.interleaved,i===null?(e.next=e,UT(n)):(e.next=i.next,i.next=e),n.interleaved=e,ps(t,r)}function am(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ST(t,r)}}function xC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Um(t,e,r,n){var i=t.updateQueue;qs=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,v=o;switch(d=e,h=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=er({},f,d);break e;case 2:qs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);kl|=s,t.lanes=s,t.memoizedState=f}}function _C(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ee(191,i));i.call(n)}}}var m0={},Aa=Do(m0),nh=Do(m0),ih=Do(m0);function ll(t){if(t===m0)throw Error(Ee(174));return t}function BT(t,e){switch(Dt(ih,e),Dt(nh,t),Dt(Aa,m0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=o_(e,t)}jt(Aa),Dt(Aa,e)}function pu(){jt(Aa),jt(nh),jt(ih)}function K4(t){ll(ih.current);var e=ll(Aa.current),r=o_(e,t.type);e!==r&&(Dt(nh,t),Dt(Aa,r))}function VT(t){nh.current===t&&(jt(Aa),jt(nh))}var Jt=Do(0);function $m(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jx=[];function jT(){for(var t=0;t<jx.length;t++)jx[t]._workInProgressVersionPrimary=null;jx.length=0}var sm=ks.ReactCurrentDispatcher,Gx=ks.ReactCurrentBatchConfig,Il=0,Zt=null,Ar=null,Br=null,Bm=!1,Sd=!1,ah=0,C9=0;function cn(){throw Error(Ee(321))}function GT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!fa(t[r],e[r]))return!1;return!0}function HT(t,e,r,n,i,a){if(Il=a,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sm.current=t===null||t.memoizedState===null?N9:R9,t=r(n,i),Sd){a=0;do{if(Sd=!1,ah=0,25<=a)throw Error(Ee(301));a+=1,Br=Ar=null,e.updateQueue=null,sm.current=O9,t=r(n,i)}while(Sd)}if(sm.current=Vm,e=Ar!==null&&Ar.next!==null,Il=0,Br=Ar=Zt=null,Bm=!1,e)throw Error(Ee(300));return t}function zT(){var t=ah!==0;return ah=0,t}function wa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Zt.memoizedState=Br=t:Br=Br.next=t,Br}function Di(){if(Ar===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Ar.next;var e=Br===null?Zt.memoizedState:Br.next;if(e!==null)Br=e,Ar=t;else{if(t===null)throw Error(Ee(310));Ar=t,t={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Br===null?Zt.memoizedState=Br=t:Br=Br.next=t}return Br}function sh(t,e){return typeof e=="function"?e(t):e}function Hx(t){var e=Di(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var n=Ar,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Il&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Zt.lanes|=u,kl|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,fa(n,e.memoizedState)||(Kn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Zt.lanes|=a,kl|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zx(t){var e=Di(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);fa(a,e.memoizedState)||(Kn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function X4(){}function Y4(t,e){var r=Zt,n=Di(),i=e(),a=!fa(n.memoizedState,i);if(a&&(n.memoizedState=i,Kn=!0),n=n.queue,WT(Z4.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,oh(9,Q4.bind(null,r,n,i,e),void 0,null),Vr===null)throw Error(Ee(349));Il&30||J4(r,e,i)}return i}function J4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Q4(t,e,r,n){e.value=r,e.getSnapshot=n,eF(e)&&tF(t)}function Z4(t,e,r){return r(function(){eF(e)&&tF(t)})}function eF(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fa(t,r)}catch{return!0}}function tF(t){var e=ps(t,1);e!==null&&aa(e,t,1,-1)}function wC(t){var e=wa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},e.queue=t,t=t.dispatch=P9.bind(null,Zt,t),[e.memoizedState,t]}function oh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function rF(){return Di().memoizedState}function om(t,e,r,n){var i=wa();Zt.flags|=t,i.memoizedState=oh(1|e,r,void 0,n===void 0?null:n)}function Lv(t,e,r,n){var i=Di();n=n===void 0?null:n;var a=void 0;if(Ar!==null){var s=Ar.memoizedState;if(a=s.destroy,n!==null&&GT(n,s.deps)){i.memoizedState=oh(e,r,a,n);return}}Zt.flags|=t,i.memoizedState=oh(1|e,r,a,n)}function EC(t,e){return om(8390656,8,t,e)}function WT(t,e){return Lv(2048,8,t,e)}function nF(t,e){return Lv(4,2,t,e)}function iF(t,e){return Lv(4,4,t,e)}function aF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sF(t,e,r){return r=r!=null?r.concat([t]):null,Lv(4,4,aF.bind(null,e,t),r)}function qT(){}function oF(t,e){var r=Di();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lF(t,e){var r=Di();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cF(t,e,r){return Il&21?(fa(r,e)||(r=p4(),Zt.lanes|=r,kl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=r)}function I9(t,e){var r=St;St=r!==0&&4>r?r:4,t(!0);var n=Gx.transition;Gx.transition={};try{t(!1),e()}finally{St=r,Gx.transition=n}}function uF(){return Di().memoizedState}function k9(t,e,r){var n=vo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fF(t))dF(e,r);else if(r=W4(t,e,r,n),r!==null){var i=Dn();aa(r,t,n,i),hF(r,e,n)}}function P9(t,e,r){var n=vo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fF(t))dF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,fa(o,s)){var l=e.interleaved;l===null?(i.next=i,UT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=W4(t,e,i,n),r!==null&&(i=Dn(),aa(r,t,n,i),hF(r,e,n))}}function fF(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function dF(t,e){Sd=Bm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ST(t,r)}}var Vm={readContext:Mi,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},N9={readContext:Mi,useCallback:function(t,e){return wa().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:EC,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,om(4194308,4,aF.bind(null,e,t),r)},useLayoutEffect:function(t,e){return om(4194308,4,t,e)},useInsertionEffect:function(t,e){return om(4,2,t,e)},useMemo:function(t,e){var r=wa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=k9.bind(null,Zt,t),[n.memoizedState,t]},useRef:function(t){var e=wa();return t={current:t},e.memoizedState=t},useState:wC,useDebugValue:qT,useDeferredValue:function(t){return wa().memoizedState=t},useTransition:function(){var t=wC(!1),e=t[0];return t=I9.bind(null,t[1]),wa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Zt,i=wa();if(qt){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=e(),Vr===null)throw Error(Ee(349));Il&30||J4(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,EC(Z4.bind(null,n,a,t),[t]),n.flags|=2048,oh(9,Q4.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=wa(),e=Vr.identifierPrefix;if(qt){var r=Qa,n=Ja;r=(n&~(1<<32-ia(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ah++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=C9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R9={readContext:Mi,useCallback:oF,useContext:Mi,useEffect:WT,useImperativeHandle:sF,useInsertionEffect:nF,useLayoutEffect:iF,useMemo:lF,useReducer:Hx,useRef:rF,useState:function(){return Hx(sh)},useDebugValue:qT,useDeferredValue:function(t){var e=Di();return cF(e,Ar.memoizedState,t)},useTransition:function(){var t=Hx(sh)[0],e=Di().memoizedState;return[t,e]},useMutableSource:X4,useSyncExternalStore:Y4,useId:uF,unstable_isNewReconciler:!1},O9={readContext:Mi,useCallback:oF,useContext:Mi,useEffect:WT,useImperativeHandle:sF,useInsertionEffect:nF,useLayoutEffect:iF,useMemo:lF,useReducer:zx,useRef:rF,useState:function(){return zx(sh)},useDebugValue:qT,useDeferredValue:function(t){var e=Di();return Ar===null?e.memoizedState=t:cF(e,Ar.memoizedState,t)},useTransition:function(){var t=zx(sh)[0],e=Di().memoizedState;return[t,e]},useMutableSource:X4,useSyncExternalStore:Y4,useId:uF,unstable_isNewReconciler:!1};function Xi(t,e){if(t&&t.defaultProps){e=er({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function I_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:er({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uv={isMounted:function(t){return(t=t._reactInternals)?Wl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Dn(),i=vo(t),a=ss(n,i);a.payload=e,r!=null&&(a.callback=r),e=mo(t,a,i),e!==null&&(aa(e,t,i,n),am(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Dn(),i=vo(t),a=ss(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=mo(t,a,i),e!==null&&(aa(e,t,i,n),am(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Dn(),n=vo(t),i=ss(r,n);i.tag=2,e!=null&&(i.callback=e),e=mo(t,i,n),e!==null&&(aa(e,t,n,r),am(e,t,n))}};function TC(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Zd(r,n)||!Zd(i,a):!0}function pF(t,e,r){var n=!1,i=Io,a=e.contextType;return typeof a=="object"&&a!==null?a=Mi(a):(i=Jn(e)?Al:Sn.current,n=e.contextTypes,a=(n=n!=null)?fu(t,i):Io),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function SC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Uv.enqueueReplaceState(e,e.state,null)}function k_(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},$T(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Mi(a):(a=Jn(e)?Al:Sn.current,i.context=fu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(I_(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uv.enqueueReplaceState(i,i.state,null),Um(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mu(t,e){try{var r="",n=e;do r+=oj(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Wx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function P_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var M9=typeof WeakMap=="function"?WeakMap:Map;function mF(t,e,r){r=ss(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gm||(Gm=!0,B_=n),P_(t,e)},r}function gF(t,e,r){r=ss(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){P_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){P_(t,e),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function bC(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new M9;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=K9.bind(null,t,e,r),e.then(t,t))}function AC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function CC(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ss(-1,1),e.tag=2,mo(r,e,1))),r.lanes|=1),t)}var D9=ks.ReactCurrentOwner,Kn=!1;function Pn(t,e,r,n){e.child=t===null?z4(e,null,r,n):hu(e,t.child,r,n)}function IC(t,e,r,n,i){r=r.render;var a=e.ref;return Kc(e,i),n=HT(t,e,r,n,a,i),r=zT(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ms(t,e,i)):(qt&&r&&RT(e),e.flags|=1,Pn(t,e,n,i),e.child)}function kC(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!tS(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,vF(t,e,a,n,i)):(t=fm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zd,r(s,n)&&t.ref===e.ref)return ms(t,e,i)}return e.flags|=1,t=yo(a,n),t.ref=e.ref,t.return=e,e.child=t}function vF(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Zd(a,n)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,ms(t,e,i)}return N_(t,e,r,n,i)}function yF(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Fc,ni),ni|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(Fc,ni),ni|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Dt(Fc,ni),ni|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Dt(Fc,ni),ni|=n;return Pn(t,e,i,r),e.child}function xF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function N_(t,e,r,n,i){var a=Jn(r)?Al:Sn.current;return a=fu(e,a),Kc(e,i),r=HT(t,e,r,n,a,i),n=zT(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ms(t,e,i)):(qt&&n&&RT(e),e.flags|=1,Pn(t,e,r,i),e.child)}function PC(t,e,r,n,i){if(Jn(r)){var a=!0;Om(e)}else a=!1;if(Kc(e,i),e.stateNode===null)lm(t,e),pF(e,r,n),k_(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Mi(c):(c=Jn(r)?Al:Sn.current,c=fu(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&SC(e,s,n,c),qs=!1;var d=e.memoizedState;s.state=d,Um(e,n,s,i),l=e.memoizedState,o!==n||d!==l||Yn.current||qs?(typeof u=="function"&&(I_(e,r,u,n),l=e.memoizedState),(o=qs||TC(e,r,o,n,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,q4(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Xi(e.type,o),s.props=c,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mi(l):(l=Jn(r)?Al:Sn.current,l=fu(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&SC(e,s,n,l),qs=!1,d=e.memoizedState,s.state=d,Um(e,n,s,i);var y=e.memoizedState;o!==f||d!==y||Yn.current||qs?(typeof h=="function"&&(I_(e,r,h,n),y=e.memoizedState),(c=qs||TC(e,r,c,n,d,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),s.props=n,s.state=y,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return R_(t,e,r,n,a,i)}function R_(t,e,r,n,i,a){xF(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&mC(e,r,!1),ms(t,e,a);n=e.stateNode,D9.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=hu(e,t.child,null,a),e.child=hu(e,null,o,a)):Pn(t,e,o,a),e.memoizedState=n.state,i&&mC(e,r,!0),e.child}function _F(t){var e=t.stateNode;e.pendingContext?pC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pC(t,e.context,!1),BT(t,e.containerInfo)}function NC(t,e,r,n,i){return du(),MT(i),e.flags|=256,Pn(t,e,r,n),e.child}var O_={dehydrated:null,treeContext:null,retryLane:0};function M_(t){return{baseLanes:t,cachePool:null,transitions:null}}function wF(t,e,r){var n=e.pendingProps,i=Jt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dt(Jt,i&1),t===null)return A_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Vv(s,n,0,null),t=vl(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=M_(r),e.memoizedState=O_,t):KT(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return F9(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=yo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=yo(o,a):(a=vl(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?M_(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=O_,n}return a=t.child,t=a.sibling,n=yo(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function KT(t,e){return e=Vv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vp(t,e,r,n){return n!==null&&MT(n),hu(e,t.child,null,r),t=KT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F9(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Wx(Error(Ee(422))),vp(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Vv({mode:"visible",children:n.children},i,0,null),a=vl(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&hu(e,t.child,null,s),e.child.memoizedState=M_(s),e.memoizedState=O_,a);if(!(e.mode&1))return vp(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ee(419)),n=Wx(a,n,void 0),vp(t,e,s,n)}if(o=(s&t.childLanes)!==0,Kn||o){if(n=Vr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ps(t,i),aa(n,t,i,-1))}return eS(),n=Wx(Error(Ee(421))),vp(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X9.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,li=po(i.nextSibling),ui=e,qt=!0,Qi=null,t!==null&&(Ai[Ci++]=Ja,Ai[Ci++]=Qa,Ai[Ci++]=Cl,Ja=t.id,Qa=t.overflow,Cl=e),e=KT(e,n.children),e.flags|=4096,e)}function RC(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),C_(t.return,e,r)}function qx(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function EF(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Pn(t,e,n.children,r),n=Jt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RC(t,r,e);else if(t.tag===19)RC(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Dt(Jt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&$m(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),qx(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$m(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}qx(e,!0,r,null,a);break;case"together":qx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ms(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),kl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,r=yo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function L9(t,e,r){switch(e.tag){case 3:_F(e),du();break;case 5:K4(e);break;case 1:Jn(e.type)&&Om(e);break;case 4:BT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Dt(Fm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Dt(Jt,Jt.current&1),e.flags|=128,null):r&e.child.childLanes?wF(t,e,r):(Dt(Jt,Jt.current&1),t=ms(t,e,r),t!==null?t.sibling:null);Dt(Jt,Jt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return EF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dt(Jt,Jt.current),n)break;return null;case 22:case 23:return e.lanes=0,yF(t,e,r)}return ms(t,e,r)}var TF,D_,SF,bF;TF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};D_=function(){};SF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ll(Aa.current);var a=null;switch(r){case"input":i=n_(t,i),n=n_(t,n),a=[];break;case"select":i=er({},i,{value:void 0}),n=er({},n,{value:void 0}),a=[];break;case"textarea":i=s_(t,i),n=s_(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Nm)}l_(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wd.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$t("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};bF=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hf(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function U9(t,e,r){var n=e.pendingProps;switch(OT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Jn(e.type)&&Rm(),un(e),null;case 3:return n=e.stateNode,pu(),jt(Yn),jt(Sn),jT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(G_(Qi),Qi=null))),D_(t,e),un(e),null;case 5:VT(e);var i=ll(ih.current);if(r=e.type,t!==null&&e.stateNode!=null)SF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ee(166));return un(e),null}if(t=ll(Aa.current),mp(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ea]=e,n[rh]=a,t=(e.mode&1)!==0,r){case"dialog":$t("cancel",n),$t("close",n);break;case"iframe":case"object":case"embed":$t("load",n);break;case"video":case"audio":for(i=0;i<ld.length;i++)$t(ld[i],n);break;case"source":$t("error",n);break;case"img":case"image":case"link":$t("error",n),$t("load",n);break;case"details":$t("toggle",n);break;case"input":V2(n,a),$t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},$t("invalid",n);break;case"textarea":G2(n,a),$t("invalid",n)}l_(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&pp(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&pp(n.textContent,o,t),i=["children",""+o]):Wd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&$t("scroll",n)}switch(r){case"input":sp(n),j2(n,a,!0);break;case"textarea":sp(n),H2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Nm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZD(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ea]=e,t[rh]=n,TF(t,e,!1,!1),e.stateNode=t;e:{switch(s=c_(r,n),r){case"dialog":$t("cancel",t),$t("close",t),i=n;break;case"iframe":case"object":case"embed":$t("load",t),i=n;break;case"video":case"audio":for(i=0;i<ld.length;i++)$t(ld[i],t);i=n;break;case"source":$t("error",t),i=n;break;case"img":case"image":case"link":$t("error",t),$t("load",t),i=n;break;case"details":$t("toggle",t),i=n;break;case"input":V2(t,n),i=n_(t,n),$t("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=er({},n,{value:void 0}),$t("invalid",t);break;case"textarea":G2(t,n),i=s_(t,n),$t("invalid",t);break;default:i=n}l_(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?r4(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e4(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qd(t,l):typeof l=="number"&&qd(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Wd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&$t("scroll",t):l!=null&&yT(t,a,l,s))}switch(r){case"input":sp(t),j2(t,n,!1);break;case"textarea":sp(t),H2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Co(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Hc(t,!!n.multiple,a,!1):n.defaultValue!=null&&Hc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)bF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ee(166));if(r=ll(ih.current),ll(Aa.current),mp(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ea]=e,(a=n.nodeValue!==r)&&(t=ui,t!==null))switch(t.tag){case 3:pp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pp(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ea]=e,e.stateNode=n}return un(e),null;case 13:if(jt(Jt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qt&&li!==null&&e.mode&1&&!(e.flags&128))G4(),du(),e.flags|=98560,a=!1;else if(a=mp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Ee(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ee(317));a[Ea]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),a=!1}else Qi!==null&&(G_(Qi),Qi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Jt.current&1?Cr===0&&(Cr=3):eS())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return pu(),D_(t,e),t===null&&eh(e.stateNode.containerInfo),un(e),null;case 10:return LT(e.type._context),un(e),null;case 17:return Jn(e.type)&&Rm(),un(e),null;case 19:if(jt(Jt),a=e.memoizedState,a===null)return un(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Hf(a,!1);else{if(Cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=$m(t),s!==null){for(e.flags|=128,Hf(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Dt(Jt,Jt.current&1|2),e.child}t=t.sibling}a.tail!==null&&hr()>gu&&(e.flags|=128,n=!0,Hf(a,!1),e.lanes=4194304)}else{if(!n)if(t=$m(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!qt)return un(e),null}else 2*hr()-a.renderingStartTime>gu&&r!==1073741824&&(e.flags|=128,n=!0,Hf(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=hr(),e.sibling=null,r=Jt.current,Dt(Jt,n?r&1|2:r&1),e):(un(e),null);case 22:case 23:return ZT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ni&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function $9(t,e){switch(OT(e),e.tag){case 1:return Jn(e.type)&&Rm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pu(),jt(Yn),jt(Sn),jT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return VT(e),null;case 13:if(jt(Jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Jt),null;case 4:return pu(),null;case 10:return LT(e.type._context),null;case 22:case 23:return ZT(),null;case 24:return null;default:return null}}var yp=!1,gn=!1,B9=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Dc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(t,e,n)}else r.current=null}function F_(t,e,r){try{r()}catch(n){sr(t,e,n)}}var OC=!1;function V9(t,e){if(x_=Im,t=P4(),NT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++c===i&&(o=s),d===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(__={focusedElem:t,selectionRange:r},Im=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Xi(e.type,v),_);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(k){sr(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return y=OC,OC=!1,y}function bd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&F_(e,r,a)}i=i.next}while(i!==n)}}function $v(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function L_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function AF(t){var e=t.alternate;e!==null&&(t.alternate=null,AF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ea],delete e[rh],delete e[T_],delete e[T9],delete e[S9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CF(t){return t.tag===5||t.tag===3||t.tag===4}function MC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function U_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Nm));else if(n!==4&&(t=t.child,t!==null))for(U_(t,e,r),t=t.sibling;t!==null;)U_(t,e,r),t=t.sibling}function $_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for($_(t,e,r),t=t.sibling;t!==null;)$_(t,e,r),t=t.sibling}var Xr=null,Yi=!1;function js(t,e,r){for(r=r.child;r!==null;)IF(t,e,r),r=r.sibling}function IF(t,e,r){if(ba&&typeof ba.onCommitFiberUnmount=="function")try{ba.onCommitFiberUnmount(Nv,r)}catch{}switch(r.tag){case 5:gn||Dc(r,e);case 6:var n=Xr,i=Yi;Xr=null,js(t,e,r),Xr=n,Yi=i,Xr!==null&&(Yi?(t=Xr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xr.removeChild(r.stateNode));break;case 18:Xr!==null&&(Yi?(t=Xr,r=r.stateNode,t.nodeType===8?Bx(t.parentNode,r):t.nodeType===1&&Bx(t,r),Jd(t)):Bx(Xr,r.stateNode));break;case 4:n=Xr,i=Yi,Xr=r.stateNode.containerInfo,Yi=!0,js(t,e,r),Xr=n,Yi=i;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&F_(r,e,s),i=i.next}while(i!==n)}js(t,e,r);break;case 1:if(!gn&&(Dc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sr(r,e,o)}js(t,e,r);break;case 21:js(t,e,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,js(t,e,r),gn=n):js(t,e,r);break;default:js(t,e,r)}}function DC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new B9),e.forEach(function(n){var i=Y9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Xr=o.stateNode,Yi=!1;break e;case 3:Xr=o.stateNode.containerInfo,Yi=!0;break e;case 4:Xr=o.stateNode.containerInfo,Yi=!0;break e}o=o.return}if(Xr===null)throw Error(Ee(160));IF(a,s,i),Xr=null,Yi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){sr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kF(e,t),e=e.sibling}function kF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zi(e,t),ya(t),n&4){try{bd(3,t,t.return),$v(3,t)}catch(v){sr(t,t.return,v)}try{bd(5,t,t.return)}catch(v){sr(t,t.return,v)}}break;case 1:zi(e,t),ya(t),n&512&&r!==null&&Dc(r,r.return);break;case 5:if(zi(e,t),ya(t),n&512&&r!==null&&Dc(r,r.return),t.flags&32){var i=t.stateNode;try{qd(i,"")}catch(v){sr(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&JD(i,a),c_(o,s);var c=c_(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?r4(i,f):u==="dangerouslySetInnerHTML"?e4(i,f):u==="children"?qd(i,f):yT(i,u,f,c)}switch(o){case"input":i_(i,a);break;case"textarea":QD(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Hc(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?Hc(i,!!a.multiple,a.defaultValue,!0):Hc(i,!!a.multiple,a.multiple?[]:"",!1))}i[rh]=a}catch(v){sr(t,t.return,v)}}break;case 6:if(zi(e,t),ya(t),n&4){if(t.stateNode===null)throw Error(Ee(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){sr(t,t.return,v)}}break;case 3:if(zi(e,t),ya(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(v){sr(t,t.return,v)}break;case 4:zi(e,t),ya(t);break;case 13:zi(e,t),ya(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(JT=hr())),n&4&&DC(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(gn=(c=gn)||u,zi(e,t),gn=c):zi(e,t),ya(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Le=t,u=t.child;u!==null;){for(f=Le=u;Le!==null;){switch(d=Le,h=d.child,d.tag){case 0:case 11:case 14:case 15:bd(4,d,d.return);break;case 1:Dc(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){sr(n,r,v)}}break;case 5:Dc(d,d.return);break;case 22:if(d.memoizedState!==null){LC(f);continue}}h!==null?(h.return=d,Le=h):LC(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=t4("display",s))}catch(v){sr(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){sr(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zi(e,t),ya(t),n&4&&DC(t);break;case 21:break;default:zi(e,t),ya(t)}}function ya(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(CF(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qd(i,""),n.flags&=-33);var a=MC(t);$_(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=MC(t);U_(t,o,s);break;default:throw Error(Ee(161))}}catch(l){sr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j9(t,e,r){Le=t,PF(t)}function PF(t,e,r){for(var n=(t.mode&1)!==0;Le!==null;){var i=Le,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||yp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gn;o=yp;var c=gn;if(yp=s,(gn=l)&&!c)for(Le=i;Le!==null;)s=Le,l=s.child,s.tag===22&&s.memoizedState!==null?UC(i):l!==null?(l.return=s,Le=l):UC(i);for(;a!==null;)Le=a,PF(a),a=a.sibling;Le=i,yp=o,gn=c}FC(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Le=a):FC(t)}}function FC(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||$v(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Xi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&_C(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_C(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Jd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}gn||e.flags&512&&L_(e)}catch(d){sr(e,e.return,d)}}if(e===t){Le=null;break}if(r=e.sibling,r!==null){r.return=e.return,Le=r;break}Le=e.return}}function LC(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Le=r;break}Le=e.return}}function UC(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$v(4,e)}catch(l){sr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){sr(e,i,l)}}var a=e.return;try{L_(e)}catch(l){sr(e,a,l)}break;case 5:var s=e.return;try{L_(e)}catch(l){sr(e,s,l)}}}catch(l){sr(e,e.return,l)}if(e===t){Le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Le=o;break}Le=e.return}}var G9=Math.ceil,jm=ks.ReactCurrentDispatcher,XT=ks.ReactCurrentOwner,Ni=ks.ReactCurrentBatchConfig,pt=0,Vr=null,_r=null,en=0,ni=0,Fc=Do(0),Cr=0,lh=null,kl=0,Bv=0,YT=0,Ad=null,Wn=null,JT=0,gu=1/0,Ka=null,Gm=!1,B_=null,go=null,xp=!1,no=null,Hm=0,Cd=0,V_=null,cm=-1,um=0;function Dn(){return pt&6?hr():cm!==-1?cm:cm=hr()}function vo(t){return t.mode&1?pt&2&&en!==0?en&-en:A9.transition!==null?(um===0&&(um=p4()),um):(t=St,t!==0||(t=window.event,t=t===void 0?16:w4(t.type)),t):1}function aa(t,e,r,n){if(50<Cd)throw Cd=0,V_=null,Error(Ee(185));d0(t,r,n),(!(pt&2)||t!==Vr)&&(t===Vr&&(!(pt&2)&&(Bv|=r),Cr===4&&Ys(t,en)),Qn(t,n),r===1&&pt===0&&!(e.mode&1)&&(gu=hr()+500,Fv&&Fo()))}function Qn(t,e){var r=t.callbackNode;Aj(t,e);var n=Cm(t,t===Vr?en:0);if(n===0)r!==null&&q2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&q2(r),e===1)t.tag===0?b9($C.bind(null,t)):B4($C.bind(null,t)),w9(function(){!(pt&6)&&Fo()}),r=null;else{switch(m4(n)){case 1:r=TT;break;case 4:r=d4;break;case 16:r=Am;break;case 536870912:r=h4;break;default:r=Am}r=UF(r,NF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function NF(t,e){if(cm=-1,um=0,pt&6)throw Error(Ee(327));var r=t.callbackNode;if(Xc()&&t.callbackNode!==r)return null;var n=Cm(t,t===Vr?en:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=zm(t,n);else{e=n;var i=pt;pt|=2;var a=OF();(Vr!==t||en!==e)&&(Ka=null,gu=hr()+500,gl(t,e));do try{W9();break}catch(o){RF(t,o)}while(!0);FT(),jm.current=a,pt=i,_r!==null?e=0:(Vr=null,en=0,e=Cr)}if(e!==0){if(e===2&&(i=p_(t),i!==0&&(n=i,e=j_(t,i))),e===1)throw r=lh,gl(t,0),Ys(t,n),Qn(t,hr()),r;if(e===6)Ys(t,n);else{if(i=t.current.alternate,!(n&30)&&!H9(i)&&(e=zm(t,n),e===2&&(a=p_(t),a!==0&&(n=a,e=j_(t,a))),e===1))throw r=lh,gl(t,0),Ys(t,n),Qn(t,hr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ee(345));case 2:Zo(t,Wn,Ka);break;case 3:if(Ys(t,n),(n&130023424)===n&&(e=JT+500-hr(),10<e)){if(Cm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E_(Zo.bind(null,t,Wn,Ka),e);break}Zo(t,Wn,Ka);break;case 4:if(Ys(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-ia(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*G9(n/1960))-n,10<n){t.timeoutHandle=E_(Zo.bind(null,t,Wn,Ka),n);break}Zo(t,Wn,Ka);break;case 5:Zo(t,Wn,Ka);break;default:throw Error(Ee(329))}}}return Qn(t,hr()),t.callbackNode===r?NF.bind(null,t):null}function j_(t,e){var r=Ad;return t.current.memoizedState.isDehydrated&&(gl(t,e).flags|=256),t=zm(t,e),t!==2&&(e=Wn,Wn=r,e!==null&&G_(e)),t}function G_(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function H9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!fa(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~YT,e&=~Bv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ia(e),n=1<<r;t[r]=-1,e&=~n}}function $C(t){if(pt&6)throw Error(Ee(327));Xc();var e=Cm(t,0);if(!(e&1))return Qn(t,hr()),null;var r=zm(t,e);if(t.tag!==0&&r===2){var n=p_(t);n!==0&&(e=n,r=j_(t,n))}if(r===1)throw r=lh,gl(t,0),Ys(t,e),Qn(t,hr()),r;if(r===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zo(t,Wn,Ka),Qn(t,hr()),null}function QT(t,e){var r=pt;pt|=1;try{return t(e)}finally{pt=r,pt===0&&(gu=hr()+500,Fv&&Fo())}}function Pl(t){no!==null&&no.tag===0&&!(pt&6)&&Xc();var e=pt;pt|=1;var r=Ni.transition,n=St;try{if(Ni.transition=null,St=1,t)return t()}finally{St=n,Ni.transition=r,pt=e,!(pt&6)&&Fo()}}function ZT(){ni=Fc.current,jt(Fc)}function gl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_9(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(OT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rm();break;case 3:pu(),jt(Yn),jt(Sn),jT();break;case 5:VT(n);break;case 4:pu();break;case 13:jt(Jt);break;case 19:jt(Jt);break;case 10:LT(n.type._context);break;case 22:case 23:ZT()}r=r.return}if(Vr=t,_r=t=yo(t.current,null),en=ni=e,Cr=0,lh=null,YT=Bv=kl=0,Wn=Ad=null,ol!==null){for(e=0;e<ol.length;e++)if(r=ol[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}ol=null}return t}function RF(t,e){do{var r=_r;try{if(FT(),sm.current=Vm,Bm){for(var n=Zt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bm=!1}if(Il=0,Br=Ar=Zt=null,Sd=!1,ah=0,XT.current=null,r===null||r.return===null){Cr=1,lh=e,_r=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=en,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=AC(s);if(h!==null){h.flags&=-257,CC(h,s,o,a,e),h.mode&1&&bC(a,c,e),e=h,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){bC(a,c,e),eS();break e}l=Error(Ee(426))}}else if(qt&&o.mode&1){var _=AC(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),CC(_,s,o,a,e),MT(mu(l,o));break e}}a=l=mu(l,o),Cr!==4&&(Cr=2),Ad===null?Ad=[a]:Ad.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=mF(a,l,e);xC(a,w);break e;case 1:o=l;var T=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(go===null||!go.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=gF(a,o,e);xC(a,k);break e}}a=a.return}while(a!==null)}DF(r)}catch(A){e=A,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function OF(){var t=jm.current;return jm.current=Vm,t===null?Vm:t}function eS(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Vr===null||!(kl&268435455)&&!(Bv&268435455)||Ys(Vr,en)}function zm(t,e){var r=pt;pt|=2;var n=OF();(Vr!==t||en!==e)&&(Ka=null,gl(t,e));do try{z9();break}catch(i){RF(t,i)}while(!0);if(FT(),pt=r,jm.current=n,_r!==null)throw Error(Ee(261));return Vr=null,en=0,Cr}function z9(){for(;_r!==null;)MF(_r)}function W9(){for(;_r!==null&&!vj();)MF(_r)}function MF(t){var e=LF(t.alternate,t,ni);t.memoizedProps=t.pendingProps,e===null?DF(t):_r=e,XT.current=null}function DF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$9(r,e),r!==null){r.flags&=32767,_r=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cr=6,_r=null;return}}else if(r=U9(r,e,ni),r!==null){_r=r;return}if(e=e.sibling,e!==null){_r=e;return}_r=e=t}while(e!==null);Cr===0&&(Cr=5)}function Zo(t,e,r){var n=St,i=Ni.transition;try{Ni.transition=null,St=1,q9(t,e,r,n)}finally{Ni.transition=i,St=n}return null}function q9(t,e,r,n){do Xc();while(no!==null);if(pt&6)throw Error(Ee(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Cj(t,a),t===Vr&&(_r=Vr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xp||(xp=!0,UF(Am,function(){return Xc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ni.transition,Ni.transition=null;var s=St;St=1;var o=pt;pt|=4,XT.current=null,V9(t,r),kF(r,t),h9(__),Im=!!x_,__=x_=null,t.current=r,j9(r),yj(),pt=o,St=s,Ni.transition=a}else t.current=r;if(xp&&(xp=!1,no=t,Hm=i),a=t.pendingLanes,a===0&&(go=null),wj(r.stateNode),Qn(t,hr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gm)throw Gm=!1,t=B_,B_=null,t;return Hm&1&&t.tag!==0&&Xc(),a=t.pendingLanes,a&1?t===V_?Cd++:(Cd=0,V_=t):Cd=0,Fo(),null}function Xc(){if(no!==null){var t=m4(Hm),e=Ni.transition,r=St;try{if(Ni.transition=null,St=16>t?16:t,no===null)var n=!1;else{if(t=no,no=null,Hm=0,pt&6)throw Error(Ee(331));var i=pt;for(pt|=4,Le=t.current;Le!==null;){var a=Le,s=a.child;if(Le.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Le=c;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:bd(8,u,a)}var f=u.child;if(f!==null)f.return=u,Le=f;else for(;Le!==null;){u=Le;var d=u.sibling,h=u.return;if(AF(u),u===c){Le=null;break}if(d!==null){d.return=h,Le=d;break}Le=h}}}var y=a.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Le=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Le=s;else e:for(;Le!==null;){if(a=Le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bd(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Le=w;break e}Le=a.return}}var T=t.current;for(Le=T;Le!==null;){s=Le;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Le=E;else e:for(s=T;Le!==null;){if(o=Le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$v(9,o)}}catch(A){sr(o,o.return,A)}if(o===s){Le=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Le=k;break e}Le=o.return}}if(pt=i,Fo(),ba&&typeof ba.onPostCommitFiberRoot=="function")try{ba.onPostCommitFiberRoot(Nv,t)}catch{}n=!0}return n}finally{St=r,Ni.transition=e}}return!1}function BC(t,e,r){e=mu(r,e),e=mF(t,e,1),t=mo(t,e,1),e=Dn(),t!==null&&(d0(t,1,e),Qn(t,e))}function sr(t,e,r){if(t.tag===3)BC(t,t,r);else for(;e!==null;){if(e.tag===3){BC(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){t=mu(r,t),t=gF(e,t,1),e=mo(e,t,1),t=Dn(),e!==null&&(d0(e,1,t),Qn(e,t));break}}e=e.return}}function K9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Dn(),t.pingedLanes|=t.suspendedLanes&r,Vr===t&&(en&r)===r&&(Cr===4||Cr===3&&(en&130023424)===en&&500>hr()-JT?gl(t,0):YT|=r),Qn(t,e)}function FF(t,e){e===0&&(t.mode&1?(e=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):e=1);var r=Dn();t=ps(t,e),t!==null&&(d0(t,e,r),Qn(t,r))}function X9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),FF(t,r)}function Y9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(e),FF(t,r)}var LF;LF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Kn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Kn=!1,L9(t,e,r);Kn=!!(t.flags&131072)}else Kn=!1,qt&&e.flags&1048576&&V4(e,Dm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;lm(t,e),t=e.pendingProps;var i=fu(e,Sn.current);Kc(e,r),i=HT(null,e,n,t,i,r);var a=zT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(n)?(a=!0,Om(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$T(e),i.updater=Uv,e.stateNode=i,i._reactInternals=e,k_(e,n,t,r),e=R_(null,e,n,!0,a,r)):(e.tag=0,qt&&a&&RT(e),Pn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(lm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Q9(n),t=Xi(n,t),i){case 0:e=N_(null,e,n,t,r);break e;case 1:e=PC(null,e,n,t,r);break e;case 11:e=IC(null,e,n,t,r);break e;case 14:e=kC(null,e,n,Xi(n.type,t),r);break e}throw Error(Ee(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),N_(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),PC(t,e,n,i,r);case 3:e:{if(_F(e),t===null)throw Error(Ee(387));n=e.pendingProps,a=e.memoizedState,i=a.element,q4(t,e),Um(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=mu(Error(Ee(423)),e),e=NC(t,e,n,r,i);break e}else if(n!==i){i=mu(Error(Ee(424)),e),e=NC(t,e,n,r,i);break e}else for(li=po(e.stateNode.containerInfo.firstChild),ui=e,qt=!0,Qi=null,r=z4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(du(),n===i){e=ms(t,e,r);break e}Pn(t,e,n,r)}e=e.child}return e;case 5:return K4(e),t===null&&A_(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,w_(n,i)?s=null:a!==null&&w_(n,a)&&(e.flags|=32),xF(t,e),Pn(t,e,s,r),e.child;case 6:return t===null&&A_(e),null;case 13:return wF(t,e,r);case 4:return BT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hu(e,null,n,r):Pn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),IC(t,e,n,i,r);case 7:return Pn(t,e,e.pendingProps,r),e.child;case 8:return Pn(t,e,e.pendingProps.children,r),e.child;case 12:return Pn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Dt(Fm,n._currentValue),n._currentValue=s,a!==null)if(fa(a.value,s)){if(a.children===i.children&&!Yn.current){e=ms(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ss(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),C_(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ee(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),C_(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Pn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Kc(e,r),i=Mi(i),n=n(i),e.flags|=1,Pn(t,e,n,r),e.child;case 14:return n=e.type,i=Xi(n,e.pendingProps),i=Xi(n.type,i),kC(t,e,n,i,r);case 15:return vF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),lm(t,e),e.tag=1,Jn(n)?(t=!0,Om(e)):t=!1,Kc(e,r),pF(e,n,i),k_(e,n,i,r),R_(null,e,n,!0,t,r);case 19:return EF(t,e,r);case 22:return yF(t,e,r)}throw Error(Ee(156,e.tag))};function UF(t,e){return f4(t,e)}function J9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(t,e,r,n){return new J9(t,e,r,n)}function tS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q9(t){if(typeof t=="function")return tS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_T)return 11;if(t===wT)return 14}return 2}function yo(t,e){var r=t.alternate;return r===null?(r=ki(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function fm(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")tS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ac:return vl(r.children,i,a,e);case xT:s=8,i|=8;break;case Z1:return t=ki(12,r,e,i|2),t.elementType=Z1,t.lanes=a,t;case e_:return t=ki(13,r,e,i),t.elementType=e_,t.lanes=a,t;case t_:return t=ki(19,r,e,i),t.elementType=t_,t.lanes=a,t;case KD:return Vv(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WD:s=10;break e;case qD:s=9;break e;case _T:s=11;break e;case wT:s=14;break e;case Ws:s=16,n=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=ki(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function vl(t,e,r,n){return t=ki(7,t,n,e),t.lanes=r,t}function Vv(t,e,r,n){return t=ki(22,t,n,e),t.elementType=KD,t.lanes=r,t.stateNode={isHidden:!1},t}function Kx(t,e,r){return t=ki(6,t,null,e),t.lanes=r,t}function Xx(t,e,r){return e=ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z9(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kx(0),this.expirationTimes=kx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rS(t,e,r,n,i,a,s,o,l){return t=new Z9(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ki(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$T(a),t}function e7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function $F(t){if(!t)return Io;t=t._reactInternals;e:{if(Wl(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var r=t.type;if(Jn(r))return $4(t,r,e)}return e}function BF(t,e,r,n,i,a,s,o,l){return t=rS(r,n,!0,t,i,a,s,o,l),t.context=$F(null),r=t.current,n=Dn(),i=vo(r),a=ss(n,i),a.callback=e??null,mo(r,a,i),t.current.lanes=i,d0(t,i,n),Qn(t,n),t}function jv(t,e,r,n){var i=e.current,a=Dn(),s=vo(i);return r=$F(r),e.context===null?e.context=r:e.pendingContext=r,e=ss(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=mo(i,e,s),t!==null&&(aa(t,i,s,a),am(t,i,s)),s}function Wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function nS(t,e){VC(t,e),(t=t.alternate)&&VC(t,e)}function t7(){return null}var VF=typeof reportError=="function"?reportError:function(t){console.error(t)};function iS(t){this._internalRoot=t}Gv.prototype.render=iS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));jv(t,e,null,null)};Gv.prototype.unmount=iS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pl(function(){jv(null,t,null,null)}),e[hs]=null}};function Gv(t){this._internalRoot=t}Gv.prototype.unstable_scheduleHydration=function(t){if(t){var e=y4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Xs.length&&e!==0&&e<Xs[r].priority;r++);Xs.splice(r,0,t),r===0&&_4(t)}};function aS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jC(){}function r7(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Wm(s);a.call(c)}}var s=BF(e,n,t,0,null,!1,!1,"",jC);return t._reactRootContainer=s,t[hs]=s.current,eh(t.nodeType===8?t.parentNode:t),Pl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Wm(l);o.call(c)}}var l=rS(t,0,!1,null,null,!1,!1,"",jC);return t._reactRootContainer=l,t[hs]=l.current,eh(t.nodeType===8?t.parentNode:t),Pl(function(){jv(e,l,r,n)}),l}function zv(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Wm(s);o.call(l)}}jv(e,s,t,i)}else s=r7(r,e,t,i,n);return Wm(s)}g4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=od(e.pendingLanes);r!==0&&(ST(e,r|1),Qn(e,hr()),!(pt&6)&&(gu=hr()+500,Fo()))}break;case 13:Pl(function(){var n=ps(t,1);if(n!==null){var i=Dn();aa(n,t,1,i)}}),nS(t,1)}};bT=function(t){if(t.tag===13){var e=ps(t,134217728);if(e!==null){var r=Dn();aa(e,t,134217728,r)}nS(t,134217728)}};v4=function(t){if(t.tag===13){var e=vo(t),r=ps(t,e);if(r!==null){var n=Dn();aa(r,t,e,n)}nS(t,e)}};y4=function(){return St};x4=function(t,e){var r=St;try{return St=t,e()}finally{St=r}};f_=function(t,e,r){switch(e){case"input":if(i_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Dv(n);if(!i)throw Error(Ee(90));YD(n),i_(n,i)}}}break;case"textarea":QD(t,r);break;case"select":e=r.value,e!=null&&Hc(t,!!r.multiple,e,!1)}};a4=QT;s4=Pl;var n7={usingClientEntryPoint:!1,Events:[p0,Pc,Dv,n4,i4,QT]},zf={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i7={bundleType:zf.bundleType,version:zf.version,rendererPackageName:zf.rendererPackageName,rendererConfig:zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c4(t),t===null?null:t.stateNode},findFiberByHostInstance:zf.findFiberByHostInstance||t7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Nv=_p.inject(i7),ba=_p}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n7;mi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aS(e))throw Error(Ee(200));return e7(t,e,null,r)};mi.createRoot=function(t,e){if(!aS(t))throw Error(Ee(299));var r=!1,n="",i=VF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rS(t,1,!1,null,null,r,!1,n,i),t[hs]=e.current,eh(t.nodeType===8?t.parentNode:t),new iS(e)};mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=c4(e),t=t===null?null:t.stateNode,t};mi.flushSync=function(t){return Pl(t)};mi.hydrate=function(t,e,r){if(!Hv(e))throw Error(Ee(200));return zv(null,t,e,!0,r)};mi.hydrateRoot=function(t,e,r){if(!aS(t))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=VF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=BF(e,null,t,1,r??null,i,!1,a,s),t[hs]=e.current,eh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Gv(e)};mi.render=function(t,e,r){if(!Hv(e))throw Error(Ee(200));return zv(null,t,e,!1,r)};mi.unmountComponentAtNode=function(t){if(!Hv(t))throw Error(Ee(40));return t._reactRootContainer?(Pl(function(){zv(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};mi.unstable_batchedUpdates=QT;mi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hv(r))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return zv(t,e,r,!1,n)};mi.version="18.3.1-next-f1338f8080-20240426";function jF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jF)}catch(t){console.error(t)}}jF(),jD.exports=mi;var a7=jD.exports,GC=a7;J1.createRoot=GC.createRoot,J1.hydrateRoot=GC.hydrateRoot;var HC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},s7=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},HF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let d=(o&15)<<2|c>>6,h=c&63;l||(h=64,s||(d=64)),n.push(r[u],r[f],r[d],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new o7;const d=a<<2|o>>4;if(n.push(d),c!==64){const h=o<<4&240|c>>2;if(n.push(h),f!==64){const y=c<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l7=function(t){const e=GF(t);return HF.encodeByteArray(e,!0)},qm=function(t){return l7(t).replace(/\./g,"")},zF=function(t){try{return HF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=()=>c7().__FIREBASE_DEFAULTS__,f7=()=>{if(typeof process>"u"||typeof HC>"u")return;const t=HC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},d7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zF(t[1]);return e&&JSON.parse(e)},Wv=()=>{try{return u7()||f7()||d7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WF=t=>{var e,r;return(r=(e=Wv())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},h7=t=>{const e=WF(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},qF=()=>{var t;return(t=Wv())===null||t===void 0?void 0:t.config},KF=t=>{var e;return(e=Wv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qm(JSON.stringify(r)),qm(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function v7(){var t;const e=(t=Wv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w7(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E7(){return!v7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T7(){try{return typeof indexedDB=="object"}catch{return!1}}function S7(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="FirebaseError";class Ps extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=b7,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g0.prototype.create)}}class g0{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?A7(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ps(i,o,n)}}function A7(t,e){return t.replace(C7,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const C7=/\{\$([^}]+)}/g;function I7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Km(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(zC(a)&&zC(s)){if(!Km(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function zC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function k7(t,e){const r=new P7(t,e);return r.subscribe.bind(r)}class P7{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");N7(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Yx),i.error===void 0&&(i.error=Yx),i.complete===void 0&&(i.complete=Yx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N7(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Yx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){return t&&t._delegate?t._delegate:t}class Nl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new p7;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M7(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:O7(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O7(t){return t===el?void 0:t}function M7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new R7(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const F7={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},L7=lt.INFO,U7={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},$7=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=U7[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sS{constructor(e){this.name=e,this._logLevel=L7,this._logHandler=$7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const B7=(t,e)=>e.some(r=>t instanceof r);let WC,qC;function V7(){return WC||(WC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j7(){return qC||(qC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XF=new WeakMap,H_=new WeakMap,YF=new WeakMap,Jx=new WeakMap,oS=new WeakMap;function G7(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(xo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&XF.set(r,t)}).catch(()=>{}),oS.set(e,t),e}function H7(t){if(H_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});H_.set(t,e)}let z_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return H_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YF.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z7(t){z_=t(z_)}function W7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Qx(this),e,...r);return YF.set(n,e.sort?e.sort():[e]),xo(n)}:j7().includes(t)?function(...e){return t.apply(Qx(this),e),xo(XF.get(this))}:function(...e){return xo(t.apply(Qx(this),e))}}function q7(t){return typeof t=="function"?W7(t):(t instanceof IDBTransaction&&H7(t),B7(t,V7())?new Proxy(t,z_):t)}function xo(t){if(t instanceof IDBRequest)return G7(t);if(Jx.has(t))return Jx.get(t);const e=q7(t);return e!==t&&(Jx.set(t,e),oS.set(e,t)),e}const Qx=t=>oS.get(t);function K7(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=xo(s);return n&&s.addEventListener("upgradeneeded",l=>{n(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const X7=["get","getKey","getAll","getAllKeys","count"],Y7=["put","add","delete","clear"],Zx=new Map;function KC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zx.get(e))return Zx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Y7.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||X7.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return Zx.set(e,a),a}z7(t=>({...t,get:(e,r,n)=>KC(e,r)||t.get(e,r,n),has:(e,r)=>!!KC(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Q7(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Q7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W_="@firebase/app",XC="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new sS("@firebase/app"),Z7="@firebase/app-compat",eG="@firebase/analytics-compat",tG="@firebase/analytics",rG="@firebase/app-check-compat",nG="@firebase/app-check",iG="@firebase/auth",aG="@firebase/auth-compat",sG="@firebase/database",oG="@firebase/data-connect",lG="@firebase/database-compat",cG="@firebase/functions",uG="@firebase/functions-compat",fG="@firebase/installations",dG="@firebase/installations-compat",hG="@firebase/messaging",pG="@firebase/messaging-compat",mG="@firebase/performance",gG="@firebase/performance-compat",vG="@firebase/remote-config",yG="@firebase/remote-config-compat",xG="@firebase/storage",_G="@firebase/storage-compat",wG="@firebase/firestore",EG="@firebase/vertexai-preview",TG="@firebase/firestore-compat",SG="firebase",bG="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="[DEFAULT]",AG={[W_]:"fire-core",[Z7]:"fire-core-compat",[tG]:"fire-analytics",[eG]:"fire-analytics-compat",[nG]:"fire-app-check",[rG]:"fire-app-check-compat",[iG]:"fire-auth",[aG]:"fire-auth-compat",[sG]:"fire-rtdb",[oG]:"fire-data-connect",[lG]:"fire-rtdb-compat",[cG]:"fire-fn",[uG]:"fire-fn-compat",[fG]:"fire-iid",[dG]:"fire-iid-compat",[hG]:"fire-fcm",[pG]:"fire-fcm-compat",[mG]:"fire-perf",[gG]:"fire-perf-compat",[vG]:"fire-rc",[yG]:"fire-rc-compat",[xG]:"fire-gcs",[_G]:"fire-gcs-compat",[wG]:"fire-fst",[TG]:"fire-fst-compat",[EG]:"fire-vertex","fire-js":"fire-js",[SG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map,CG=new Map,K_=new Map;function YC(t,e){try{t.container.addComponent(e)}catch(r){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function vu(t){const e=t.name;if(K_.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;K_.set(e,t);for(const r of Xm.values())YC(r,t);for(const r of CG.values())YC(r,t);return!0}function lS(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function io(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new g0("app","Firebase",IG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=bG;function JF(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:q_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(r||(r=qF()),!r)throw _o.create("no-options");const a=Xm.get(i);if(a){if(Km(r,a.options)&&Km(n,a.config))return a;throw _o.create("duplicate-app",{appName:i})}const s=new D7(i);for(const l of K_.values())s.addComponent(l);const o=new kG(r,n,s);return Xm.set(i,o),o}function QF(t=q_){const e=Xm.get(t);if(!e&&t===q_&&qF())return JF();if(!e)throw _o.create("no-app",{appName:t});return e}function wo(t,e,r){var n;let i=(n=AG[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(o.join(" "));return}vu(new Nl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="firebase-heartbeat-database",NG=1,ch="firebase-heartbeat-store";let e1=null;function ZF(){return e1||(e1=K7(PG,NG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ch)}catch(r){console.warn(r)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),e1}async function RG(t){try{const r=(await ZF()).transaction(ch),n=await r.objectStore(ch).get(e3(t));return await r.done,n}catch(e){if(e instanceof Ps)gs.warn(e.message);else{const r=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(r.message)}}}async function JC(t,e){try{const n=(await ZF()).transaction(ch,"readwrite");await n.objectStore(ch).put(e,e3(t)),await n.done}catch(r){if(r instanceof Ps)gs.warn(r.message);else{const n=_o.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});gs.warn(n.message)}}}function e3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=1024,MG=30*24*60*60*1e3;class DG{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new LG(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=QC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=MG}),this._storage.overwrite(this._heartbeatsCache))}catch(n){gs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=QC(),{heartbeatsToSend:n,unsentEntries:i}=FG(this._heartbeatsCache.heartbeats),a=qm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return gs.warn(r),""}}}function QC(){return new Date().toISOString().substring(0,10)}function FG(t,e=OG){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),ZC(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZC(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class LG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T7()?S7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await RG(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return JC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return JC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZC(t){return qm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t){vu(new Nl("platform-logger",e=>new J7(e),"PRIVATE")),vu(new Nl("heartbeat",e=>new DG(e),"PRIVATE")),wo(W_,XC,t),wo(W_,XC,"esm2017"),wo("fire-js","")}UG("");var $G="firebase",BG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo($G,BG,"app");var eI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yl,t3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function b(){}b.prototype=I.prototype,S.D=I.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(N,O,R){for(var D=Array(arguments.length-2),J=2;J<arguments.length;J++)D[J-2]=arguments[J];return I.prototype[O].apply(N,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,b){b||(b=0);var N=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)N[O]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(O=0;16>O;++O)N[O]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=S.g[0],b=S.g[1],O=S.g[2];var R=S.g[3],D=I+(R^b&(O^R))+N[0]+3614090360&4294967295;I=b+(D<<7&4294967295|D>>>25),D=R+(O^I&(b^O))+N[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=O+(b^R&(I^b))+N[2]+606105819&4294967295,O=R+(D<<17&4294967295|D>>>15),D=b+(I^O&(R^I))+N[3]+3250441966&4294967295,b=O+(D<<22&4294967295|D>>>10),D=I+(R^b&(O^R))+N[4]+4118548399&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(O^I&(b^O))+N[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=O+(b^R&(I^b))+N[6]+2821735955&4294967295,O=R+(D<<17&4294967295|D>>>15),D=b+(I^O&(R^I))+N[7]+4249261313&4294967295,b=O+(D<<22&4294967295|D>>>10),D=I+(R^b&(O^R))+N[8]+1770035416&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(O^I&(b^O))+N[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=O+(b^R&(I^b))+N[10]+4294925233&4294967295,O=R+(D<<17&4294967295|D>>>15),D=b+(I^O&(R^I))+N[11]+2304563134&4294967295,b=O+(D<<22&4294967295|D>>>10),D=I+(R^b&(O^R))+N[12]+1804603682&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(O^I&(b^O))+N[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=O+(b^R&(I^b))+N[14]+2792965006&4294967295,O=R+(D<<17&4294967295|D>>>15),D=b+(I^O&(R^I))+N[15]+1236535329&4294967295,b=O+(D<<22&4294967295|D>>>10),D=I+(O^R&(b^O))+N[1]+4129170786&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^O&(I^b))+N[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=O+(I^b&(R^I))+N[11]+643717713&4294967295,O=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(O^R))+N[0]+3921069994&4294967295,b=O+(D<<20&4294967295|D>>>12),D=I+(O^R&(b^O))+N[5]+3593408605&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^O&(I^b))+N[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=O+(I^b&(R^I))+N[15]+3634488961&4294967295,O=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(O^R))+N[4]+3889429448&4294967295,b=O+(D<<20&4294967295|D>>>12),D=I+(O^R&(b^O))+N[9]+568446438&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^O&(I^b))+N[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=O+(I^b&(R^I))+N[3]+4107603335&4294967295,O=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(O^R))+N[8]+1163531501&4294967295,b=O+(D<<20&4294967295|D>>>12),D=I+(O^R&(b^O))+N[13]+2850285829&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^O&(I^b))+N[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=O+(I^b&(R^I))+N[7]+1735328473&4294967295,O=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(O^R))+N[12]+2368359562&4294967295,b=O+(D<<20&4294967295|D>>>12),D=I+(b^O^R)+N[5]+4294588738&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^O)+N[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=O+(R^I^b)+N[11]+1839030562&4294967295,O=R+(D<<16&4294967295|D>>>16),D=b+(O^R^I)+N[14]+4259657740&4294967295,b=O+(D<<23&4294967295|D>>>9),D=I+(b^O^R)+N[1]+2763975236&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^O)+N[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=O+(R^I^b)+N[7]+4139469664&4294967295,O=R+(D<<16&4294967295|D>>>16),D=b+(O^R^I)+N[10]+3200236656&4294967295,b=O+(D<<23&4294967295|D>>>9),D=I+(b^O^R)+N[13]+681279174&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^O)+N[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=O+(R^I^b)+N[3]+3572445317&4294967295,O=R+(D<<16&4294967295|D>>>16),D=b+(O^R^I)+N[6]+76029189&4294967295,b=O+(D<<23&4294967295|D>>>9),D=I+(b^O^R)+N[9]+3654602809&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^O)+N[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=O+(R^I^b)+N[15]+530742520&4294967295,O=R+(D<<16&4294967295|D>>>16),D=b+(O^R^I)+N[2]+3299628645&4294967295,b=O+(D<<23&4294967295|D>>>9),D=I+(O^(b|~R))+N[0]+4096336452&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~O))+N[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=O+(I^(R|~b))+N[14]+2878612391&4294967295,O=R+(D<<15&4294967295|D>>>17),D=b+(R^(O|~I))+N[5]+4237533241&4294967295,b=O+(D<<21&4294967295|D>>>11),D=I+(O^(b|~R))+N[12]+1700485571&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~O))+N[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=O+(I^(R|~b))+N[10]+4293915773&4294967295,O=R+(D<<15&4294967295|D>>>17),D=b+(R^(O|~I))+N[1]+2240044497&4294967295,b=O+(D<<21&4294967295|D>>>11),D=I+(O^(b|~R))+N[8]+1873313359&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~O))+N[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=O+(I^(R|~b))+N[6]+2734768916&4294967295,O=R+(D<<15&4294967295|D>>>17),D=b+(R^(O|~I))+N[13]+1309151649&4294967295,b=O+(D<<21&4294967295|D>>>11),D=I+(O^(b|~R))+N[4]+4149444226&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~O))+N[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=O+(I^(R|~b))+N[2]+718787259&4294967295,O=R+(D<<15&4294967295|D>>>17),D=b+(R^(O|~I))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+R&4294967295}n.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var b=I-this.blockSize,N=this.B,O=this.h,R=0;R<I;){if(O==0)for(;R<=b;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<I;)if(N[O++]=S.charCodeAt(R++),O==this.blockSize){i(this,N),O=0;break}}else for(;R<I;)if(N[O++]=S[R++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=I},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var b=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=b&255,b/=256;for(this.u(S),S=Array(16),I=b=0;4>I;++I)for(var N=0;32>N;N+=8)S[b++]=this.g[I]>>>N&255;return S};function a(S,I){var b=o;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=I(S)}function s(S,I){this.h=I;for(var b=[],N=!0,O=S.length-1;0<=O;O--){var R=S[O]|0;N&&R==I||(b[O]=R,N=!1)}this.g=b}var o={};function l(S){return-128<=S&&128>S?a(S,function(I){return new s([I|0],0>I?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return _(c(-S));for(var I=[],b=1,N=0;S>=b;N++)I[N]=S/b|0,b*=4294967296;return new s(I,0)}function u(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return _(u(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(I,8)),N=f,O=0;O<S.length;O+=8){var R=Math.min(8,S.length-O),D=parseInt(S.substring(O,O+R),I);8>R?(R=c(Math.pow(I,R)),N=N.j(R).add(c(D))):(N=N.j(b),N=N.add(c(D)))}return N}var f=l(0),d=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-_(this).m();for(var S=0,I=1,b=0;b<this.g.length;b++){var N=this.i(b);S+=(0<=N?N:4294967296+N)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(v(this))return"-"+_(this).toString(S);for(var I=c(Math.pow(S,6)),b=this,N="";;){var O=k(b,I).g;b=w(b,O.j(I));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=O,y(b))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=w(this,S),v(S)?-1:y(S)?0:1};function _(S){for(var I=S.g.length,b=[],N=0;N<I;N++)b[N]=~S.g[N];return new s(b,~S.h).add(d)}t.abs=function(){return v(this)?_(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],N=0,O=0;O<=I;O++){var R=N+(this.i(O)&65535)+(S.i(O)&65535),D=(R>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);N=D>>>16,R&=65535,D&=65535,b[O]=D<<16|R}return new s(b,b[b.length-1]&-2147483648?-1:0)};function w(S,I){return S.add(_(I))}t.j=function(S){if(y(this)||y(S))return f;if(v(this))return v(S)?_(this).j(_(S)):_(_(this).j(S));if(v(S))return _(this.j(_(S)));if(0>this.l(h)&&0>S.l(h))return c(this.m()*S.m());for(var I=this.g.length+S.g.length,b=[],N=0;N<2*I;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<S.g.length;O++){var R=this.i(N)>>>16,D=this.i(N)&65535,J=S.i(O)>>>16,X=S.i(O)&65535;b[2*N+2*O]+=D*X,T(b,2*N+2*O),b[2*N+2*O+1]+=R*X,T(b,2*N+2*O+1),b[2*N+2*O+1]+=D*J,T(b,2*N+2*O+1),b[2*N+2*O+2]+=R*J,T(b,2*N+2*O+2)}for(N=0;N<I;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=I;N<2*I;N++)b[N]=0;return new s(b,0)};function T(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function E(S,I){this.g=S,this.h=I}function k(S,I){if(y(I))throw Error("division by zero");if(y(S))return new E(f,f);if(v(S))return I=k(_(S),I),new E(_(I.g),_(I.h));if(v(I))return I=k(S,_(I)),new E(_(I.g),I.h);if(30<S.g.length){if(v(S)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var b=d,N=I;0>=N.l(S);)b=A(b),N=A(N);var O=C(b,1),R=C(N,1);for(N=C(N,2),b=C(b,2);!y(N);){var D=R.add(N);0>=D.l(S)&&(O=O.add(b),R=D),N=C(N,1),b=C(b,1)}return I=w(S,O.j(I)),new E(O,I)}for(O=f;0<=S.l(I);){for(b=Math.max(1,Math.floor(S.m()/I.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=c(b),D=R.j(I);v(D)||0<D.l(S);)b-=N,R=c(b),D=R.j(I);y(R)&&(R=d),O=O.add(R),S=w(S,D)}return new E(O,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],N=0;N<I;N++)b[N]=this.i(N)&S.i(N);return new s(b,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],N=0;N<I;N++)b[N]=this.i(N)|S.i(N);return new s(b,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],N=0;N<I;N++)b[N]=this.i(N)^S.i(N);return new s(b,this.h^S.h)};function A(S){for(var I=S.g.length+1,b=[],N=0;N<I;N++)b[N]=S.i(N)<<1|S.i(N-1)>>>31;return new s(b,S.h)}function C(S,I){var b=I>>5;I%=32;for(var N=S.g.length-b,O=[],R=0;R<N;R++)O[R]=0<I?S.i(R+b)>>>I|S.i(R+b+1)<<32-I:S.i(R+b);return new s(O,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,t3=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,yl=s}).apply(typeof eI<"u"?eI:typeof self<"u"?self:typeof window<"u"?window:{});var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r3,cd,n3,dm,X_,i3,a3,s3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,P,M){return m==Array.prototype||m==Object.prototype||(m[P]=M.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof wp=="object"&&wp];for(var P=0;P<m.length;++P){var M=m[P];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function i(m,P){if(P)e:{var M=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var ne=m[B];if(!(ne in M))break e;M=M[ne]}m=m[m.length-1],B=M[m],P=P(B),P!=B&&P!=null&&e(M,m,{configurable:!0,writable:!0,value:P})}}function a(m,P){m instanceof String&&(m+="");var M=0,B=!1,ne={next:function(){if(!B&&M<m.length){var fe=M++;return{value:P(fe,m[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(m){return m||function(){return a(this,function(P,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(m){var P=typeof m;return P=P!="object"?P:m?Array.isArray(m)?"array":P:"null",P=="array"||P=="object"&&typeof m.length=="number"}function c(m){var P=typeof m;return P=="object"&&m!=null||P=="function"}function u(m,P,M){return m.call.apply(m.bind,arguments)}function f(m,P,M){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,B),m.apply(P,ne)}}return function(){return m.apply(P,arguments)}}function d(m,P,M){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,d.apply(null,arguments)}function h(m,P){var M=Array.prototype.slice.call(arguments,1);return function(){var B=M.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function y(m,P){function M(){}M.prototype=P.prototype,m.aa=P.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function(B,ne,fe){for(var Ce=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Ce[Pt-2]=arguments[Pt];return P.prototype[ne].apply(B,Ce)}}function v(m){const P=m.length;if(0<P){const M=Array(P);for(let B=0;B<P;B++)M[B]=m[B];return M}return[]}function _(m,P){for(let M=1;M<arguments.length;M++){const B=arguments[M];if(l(B)){const ne=m.length||0,fe=B.length||0;m.length=ne+fe;for(let Ce=0;Ce<fe;Ce++)m[ne+Ce]=B[Ce]}else m.push(B)}}class w{constructor(P,M){this.i=P,this.j=M,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function T(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=o.navigator;return m&&(m=m.userAgent)?m:""}function k(m){return k[" "](m),m}k[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(m,P,M){for(const B in m)P.call(M,m[B],B,m)}function S(m,P){for(const M in m)P.call(void 0,m[M],M,m)}function I(m){const P={};for(const M in m)P[M]=m[M];return P}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,P){let M,B;for(let ne=1;ne<arguments.length;ne++){B=arguments[ne];for(M in B)m[M]=B[M];for(let fe=0;fe<b.length;fe++)M=b[fe],Object.prototype.hasOwnProperty.call(B,M)&&(m[M]=B[M])}}function O(m){var P=1;m=m.split(":");const M=[];for(;0<P&&m.length;)M.push(m.shift()),P--;return m.length&&M.push(m.join(":")),M}function R(m){o.setTimeout(()=>{throw m},0)}function D(){var m=z;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}class J{constructor(){this.h=this.g=null}add(P,M){const B=X.get();B.set(P,M),this.h?this.h.next=B:this.g=B,this.h=B}}var X=new w(()=>new te,m=>m.reset());class te{constructor(){this.next=this.g=this.h=null}set(P,M){this.h=P,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ee=!1,z=new J,ie=()=>{const m=o.Promise.resolve(void 0);Z=()=>{m.then(me)}};var me=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(M){R(M)}var P=X;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}ee=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};o.addEventListener("test",M,P),o.removeEventListener("test",M,P)}catch{}return m}();function K(m,P){if(q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(A){e:{try{k(P.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(P=null)}}else M=="mouseover"?P=m.fromElement:M=="mouseout"&&(P=m.toElement);this.relatedTarget=P,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:de[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&K.aa.h.call(this)}}y(K,q);var de={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),be=0;function oe(m,P,M,B,ne){this.listener=m,this.proxy=null,this.src=P,this.type=M,this.capture=!!B,this.ha=ne,this.key=++be,this.da=this.fa=!1}function ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ie(m){this.src=m,this.g={},this.h=0}Ie.prototype.add=function(m,P,M,B,ne){var fe=m.toString();m=this.g[fe],m||(m=this.g[fe]=[],this.h++);var Ce=He(m,P,B,ne);return-1<Ce?(P=m[Ce],M||(P.fa=!1)):(P=new oe(P,this.src,fe,!!B,ne),P.fa=M,m.push(P)),P};function L(m,P){var M=P.type;if(M in m.g){var B=m.g[M],ne=Array.prototype.indexOf.call(B,P,void 0),fe;(fe=0<=ne)&&Array.prototype.splice.call(B,ne,1),fe&&(ue(P),m.g[M].length==0&&(delete m.g[M],m.h--))}}function He(m,P,M,B){for(var ne=0;ne<m.length;++ne){var fe=m[ne];if(!fe.da&&fe.listener==P&&fe.capture==!!M&&fe.ha==B)return ne}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Ge={};function Be(m,P,M,B,ne){if(Array.isArray(P)){for(var fe=0;fe<P.length;fe++)Be(m,P[fe],M,B,ne);return null}return M=Wr(M),m&&m[xe]?m.K(P,M,c(B)?!!B.capture:!1,ne):we(m,P,M,!1,B,ne)}function we(m,P,M,B,ne,fe){if(!P)throw Error("Invalid event type");var Ce=c(ne)?!!ne.capture:!!ne,Pt=Mr(m);if(Pt||(m[Me]=Pt=new Ie(m)),M=Pt.add(P,M,B,Ce,fe),M.proxy)return M;if(B=ut(),M.proxy=B,B.src=m,B.listener=M,m.addEventListener)Y||(ne=Ce),ne===void 0&&(ne=!1),m.addEventListener(P.toString(),B,ne);else if(m.attachEvent)m.attachEvent(rr(P.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return M}function ut(){function m(M){return P.call(m.src,m.listener,M)}const P=zr;return m}function Gt(m,P,M,B,ne){if(Array.isArray(P))for(var fe=0;fe<P.length;fe++)Gt(m,P[fe],M,B,ne);else B=c(B)?!!B.capture:!!B,M=Wr(M),m&&m[xe]?(m=m.i,P=String(P).toString(),P in m.g&&(fe=m.g[P],M=He(fe,M,B,ne),-1<M&&(ue(fe[M]),Array.prototype.splice.call(fe,M,1),fe.length==0&&(delete m.g[P],m.h--)))):m&&(m=Mr(m))&&(P=m.g[P.toString()],m=-1,P&&(m=He(P,M,B,ne)),(M=-1<m?P[m]:null)&&ur(M))}function ur(m){if(typeof m!="number"&&m&&!m.da){var P=m.src;if(P&&P[xe])L(P.i,m);else{var M=m.type,B=m.proxy;P.removeEventListener?P.removeEventListener(M,B,m.capture):P.detachEvent?P.detachEvent(rr(M),B):P.addListener&&P.removeListener&&P.removeListener(B),(M=Mr(P))?(L(M,m),M.h==0&&(M.src=null,P[Me]=null)):ue(m)}}}function rr(m){return m in Ge?Ge[m]:Ge[m]="on"+m}function zr(m,P){if(m.da)m=!0;else{P=new K(P,this);var M=m.listener,B=m.ha||m.src;m.fa&&ur(m),m=M.call(B,P)}return m}function Mr(m){return m=m[Me],m instanceof Ie?m:null}var nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(m){return typeof m=="function"?m:(m[nr]||(m[nr]=function(P){return m.handleEvent(P)}),m[nr])}function It(){U.call(this),this.i=new Ie(this),this.M=this,this.F=null}y(It,U),It.prototype[xe]=!0,It.prototype.removeEventListener=function(m,P,M,B){Gt(this,m,P,M,B)};function Xt(m,P){var M,B=m.F;if(B)for(M=[];B;B=B.F)M.push(B);if(m=m.M,B=P.type||P,typeof P=="string")P=new q(P,m);else if(P instanceof q)P.target=P.target||m;else{var ne=P;P=new q(B,m),N(P,ne)}if(ne=!0,M)for(var fe=M.length-1;0<=fe;fe--){var Ce=P.g=M[fe];ne=ir(Ce,B,!0,P)&&ne}if(Ce=P.g=m,ne=ir(Ce,B,!0,P)&&ne,ne=ir(Ce,B,!1,P)&&ne,M)for(fe=0;fe<M.length;fe++)Ce=P.g=M[fe],ne=ir(Ce,B,!1,P)&&ne}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var m=this.i,P;for(P in m.g){for(var M=m.g[P],B=0;B<M.length;B++)ue(M[B]);delete m.g[P],m.h--}}this.F=null},It.prototype.K=function(m,P,M,B){return this.i.add(String(m),P,!1,M,B)},It.prototype.L=function(m,P,M,B){return this.i.add(String(m),P,!0,M,B)};function ir(m,P,M,B){if(P=m.i.g[String(P)],!P)return!0;P=P.concat();for(var ne=!0,fe=0;fe<P.length;++fe){var Ce=P[fe];if(Ce&&!Ce.da&&Ce.capture==M){var Pt=Ce.listener,qr=Ce.ha||Ce.src;Ce.fa&&L(m.i,Ce),ne=Pt.call(qr,B)!==!1&&ne}}return ne&&!B.defaultPrevented}function In(m,P,M){if(typeof m=="function")M&&(m=d(m,M));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:o.setTimeout(m,P||0)}function et(m){m.g=In(()=>{m.g=null,m.i&&(m.i=!1,et(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}class Lt extends U{constructor(P,M){super(),this.m=P,this.l=M,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(m){U.call(this),this.h=m,this.g={}}y(pr,U);var Ht=[];function vi(m){C(m.g,function(P,M){this.g.hasOwnProperty(M)&&ur(P)},m),m.g={}}pr.prototype.N=function(){pr.aa.N.call(this),vi(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=o.JSON.stringify,kf=o.JSON.parse,Pf=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function Us(){}Us.prototype.h=null;function zo(m){return m.h||(m.h=m.i())}function Wo(){}var Va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qo(){q.call(this,"d")}y(qo,q);function ma(){q.call(this,"c")}y(ma,q);var Gi={},lc=null;function ja(){return lc=lc||new It}Gi.La="serverreachability";function cc(m){q.call(this,Gi.La,m)}y(cc,q);function ve(m){const P=ja();Xt(P,new cc(P))}Gi.STAT_EVENT="statevent";function ke(m,P){q.call(this,Gi.STAT_EVENT,m),this.stat=P}y(ke,q);function $e(m){const P=ja();Xt(P,new ke(P,m))}Gi.Ma="timingevent";function Ga(m,P){q.call(this,Gi.Ma,m),this.size=P}y(Ga,q);function Dr(m,P){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},P)}function ga(){this.g=!0}ga.prototype.xa=function(){this.g=!1};function gx(m,P,M,B,ne,fe){m.info(function(){if(m.g)if(fe)for(var Ce="",Pt=fe.split("&"),qr=0;qr<Pt.length;qr++){var vt=Pt[qr].split("=");if(1<vt.length){var on=vt[0];vt=vt[1];var ln=on.split("_");Ce=2<=ln.length&&ln[1]=="type"?Ce+(on+"="+vt+"&"):Ce+(on+"=redacted&")}}else Ce=null;else Ce=fe;return"XMLHTTP REQ ("+B+") [attempt "+ne+"]: "+P+`
`+M+`
`+Ce})}function vx(m,P,M,B,ne,fe,Ce){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ne+"]: "+P+`
`+M+`
`+fe+" "+Ce})}function F(m,P,M,B){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+V(m,M)+(B?" "+B:"")})}function G(m,P){m.info(function(){return"TIMEOUT: "+P})}ga.prototype.info=function(){};function V(m,P){if(!m.g)return P;if(!P)return null;try{var M=JSON.parse(P);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var B=M[m];if(!(2>B.length)){var ne=B[1];if(Array.isArray(ne)&&!(1>ne.length)){var fe=ne[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ce=1;Ce<ne.length;Ce++)ne[Ce]=""}}}}return Ls(M)}catch{return P}}var j={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},W;function ae(){}y(ae,Us),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},W=new ae;function he(m,P,M,B){this.j=m,this.i=P,this.l=M,this.R=B||1,this.U=new pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var le={},ce={};function _e(m,P,M){m.L=1,m.v=K0(za(P)),m.m=M,m.P=!0,Ae(m,null)}function Ae(m,P){m.F=Date.now(),Pe(m),m.A=za(m.v);var M=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),h2(M.i,"t",B),m.C=0,M=m.j.J,m.h=new se,m.g=N2(m.j,M?P:null,!m.m),0<m.O&&(m.M=new Lt(d(m.Y,m,m.g),m.O)),P=m.U,M=m.g,B=m.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Ht[0]=ne.toString()),ne=Ht);for(var fe=0;fe<ne.length;fe++){var Ce=Be(M,ne[fe],B||P.handleEvent,!1,P.h||P);if(!Ce)break;P.g[Ce.key]=Ce}P=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),ve(),gx(m.i,m.u,m.A,m.l,m.R,m.m)}he.prototype.ca=function(m){m=m.target;const P=this.M;P&&Wa(m)==3?P.j():this.Y(m)},he.prototype.Y=function(m){try{if(m==this.g)e:{const ln=Wa(this.g);var P=this.g.Ba();const hc=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||_2(this.g)))){this.J||ln!=4||P==7||(P==8||0>=hc?ve(3):ve(2)),kt(this);var M=this.g.Z();this.X=M;t:if(Fe(this)){var B=_2(this.g);m="";var ne=B.length,fe=Wa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),Tt(this);var Ce="";break t}this.h.i=new o.TextDecoder}for(P=0;P<ne;P++)this.h.h=!0,m+=this.h.i.decode(B[P],{stream:!(fe&&P==ne-1)});B.length=0,this.h.g+=m,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=M==200,vx(this.i,this.u,this.A,this.l,this.R,ln,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,qr=this.g;if((Pt=qr.g?qr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Pt)){var vt=Pt;break t}}vt=null}if(M=vt)F(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ha(this,M);else{this.o=!1,this.s=3,$e(12),zt(this),Tt(this);break e}}if(this.P){M=!0;let Hi;for(;!this.J&&this.C<Ce.length;)if(Hi=Te(this,Ce),Hi==ce){ln==4&&(this.s=4,$e(14),M=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Hi==le){this.s=4,$e(15),F(this.i,this.l,Ce,"[Invalid Chunk]"),M=!1;break}else F(this.i,this.l,Hi,null),Ha(this,Hi);if(Fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||Ce.length!=0||this.h.h||(this.s=1,$e(16),M=!1),this.o=this.o&&M,!M)F(this.i,this.l,Ce,"[Invalid Chunked Response]"),zt(this),Tt(this);else if(0<Ce.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Ex(on),on.M=!0,$e(11))}}else F(this.i,this.l,Ce,null),Ha(this,Ce);ln==4&&zt(this),this.o&&!this.J&&(ln==4?C2(this.j,this):(this.o=!1,Pe(this)))}else RV(this.g),M==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),zt(this),Tt(this)}}}catch{}finally{}};function Fe(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Te(m,P){var M=m.C,B=P.indexOf(`
`,M);return B==-1?ce:(M=Number(P.substring(M,B)),isNaN(M)?le:(B+=1,B+M>P.length?ce:(P=P.slice(B,B+M),m.C=B+M,P)))}he.prototype.cancel=function(){this.J=!0,zt(this)};function Pe(m){m.S=Date.now()+m.I,qe(m,m.I)}function qe(m,P){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Dr(d(m.ba,m),P)}function kt(m){m.B&&(o.clearTimeout(m.B),m.B=null)}he.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(G(this.i,this.A),this.L!=2&&(ve(),$e(17)),zt(this),this.s=2,Tt(this)):qe(this,this.S-m)};function Tt(m){m.j.G==0||m.J||C2(m.j,m)}function zt(m){kt(m);var P=m.M;P&&typeof P.ma=="function"&&P.ma(),m.M=null,vi(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function Ha(m,P){try{var M=m.j;if(M.G!=0&&(M.g==m||ei(M.h,m))){if(!m.K&&ei(M.h,m)&&M.G==3){try{var B=M.Da.g.parse(P)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ne=B;if(ne[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)ep(M),Q0(M);else break e;wx(M),$e(18)}}else M.za=ne[1],0<M.za-M.T&&37500>ne[2]&&M.F&&M.v==0&&!M.C&&(M.C=Dr(d(M.Za,M),6e3));if(1>=uc(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Yo(M,11)}else if((m.K||M.g==m)&&ep(M),!T(P))for(ne=M.Da.g.parse(P),P=0;P<ne.length;P++){let vt=ne[P];if(M.T=vt[0],vt=vt[1],M.G==2)if(vt[0]=="c"){M.K=vt[1],M.ia=vt[2];const on=vt[3];on!=null&&(M.la=on,M.j.info("VER="+M.la));const ln=vt[4];ln!=null&&(M.Aa=ln,M.j.info("SVER="+M.Aa));const hc=vt[5];hc!=null&&typeof hc=="number"&&0<hc&&(B=1.5*hc,M.L=B,M.j.info("backChannelRequestTimeoutMs_="+B)),B=M;const Hi=m.g;if(Hi){const rp=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rp){var fe=B.h;fe.g||rp.indexOf("spdy")==-1&&rp.indexOf("quic")==-1&&rp.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(yx(fe,fe.h),fe.h=null))}if(B.D){const Tx=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Tx&&(B.ya=Tx,Ut(B.I,B.D,Tx))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),B=M;var Ce=m;if(B.qa=P2(B,B.J?B.ia:null,B.W),Ce.K){a2(B.h,Ce);var Pt=Ce,qr=B.L;qr&&(Pt.I=qr),Pt.B&&(kt(Pt),Pe(Pt)),B.g=Ce}else b2(B);0<M.i.length&&Z0(M)}else vt[0]!="stop"&&vt[0]!="close"||Yo(M,7);else M.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Yo(M,7):_x(M):vt[0]!="noop"&&M.l&&M.l.ta(vt),M.v=0)}}ve(4)}catch{}}var Ko=class{constructor(m,P){this.g=m,this.map=P}};function $s(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function uc(m){return m.h?1:m.g?m.g.size:0}function ei(m,P){return m.h?m.h==P:m.g?m.g.has(P):!1}function yx(m,P){m.g?m.g.add(P):m.h=P}function a2(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}$s.prototype.cancel=function(){if(this.i=s2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function s2(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let P=m.i;for(const M of m.g.values())P=P.concat(M.D);return P}return v(m.i)}function vV(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var P=[],M=m.length,B=0;B<M;B++)P.push(m[B]);return P}P=[],M=0;for(B in m)P[M++]=m[B];return P}function yV(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var P=[];m=m.length;for(var M=0;M<m;M++)P.push(M);return P}P=[],M=0;for(const B in m)P[M++]=B;return P}}}function o2(m,P){if(m.forEach&&typeof m.forEach=="function")m.forEach(P,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,P,void 0);else for(var M=yV(m),B=vV(m),ne=B.length,fe=0;fe<ne;fe++)P.call(void 0,B[fe],M&&M[fe],m)}var l2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xV(m,P){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var B=m[M].indexOf("="),ne=null;if(0<=B){var fe=m[M].substring(0,B);ne=m[M].substring(B+1)}else fe=m[M];P(fe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Xo(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Xo){this.h=m.h,W0(this,m.j),this.o=m.o,this.g=m.g,q0(this,m.s),this.l=m.l;var P=m.i,M=new Of;M.i=P.i,P.g&&(M.g=new Map(P.g),M.h=P.h),c2(this,M),this.m=m.m}else m&&(P=String(m).match(l2))?(this.h=!1,W0(this,P[1]||"",!0),this.o=Nf(P[2]||""),this.g=Nf(P[3]||"",!0),q0(this,P[4]),this.l=Nf(P[5]||"",!0),c2(this,P[6]||"",!0),this.m=Nf(P[7]||"")):(this.h=!1,this.i=new Of(null,this.h))}Xo.prototype.toString=function(){var m=[],P=this.j;P&&m.push(Rf(P,u2,!0),":");var M=this.g;return(M||P=="file")&&(m.push("//"),(P=this.o)&&m.push(Rf(P,u2,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(Rf(M,M.charAt(0)=="/"?EV:wV,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",Rf(M,SV)),m.join("")};function za(m){return new Xo(m)}function W0(m,P,M){m.j=M?Nf(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function q0(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function c2(m,P,M){P instanceof Of?(m.i=P,bV(m.i,m.h)):(M||(P=Rf(P,TV)),m.i=new Of(P,m.h))}function Ut(m,P,M){m.i.set(P,M)}function K0(m){return Ut(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Nf(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Rf(m,P,M){return typeof m=="string"?(m=encodeURI(m).replace(P,_V),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function _V(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var u2=/[#\/\?@]/g,wV=/[#\?:]/g,EV=/[#\?]/g,TV=/[#\?@]/g,SV=/#/g;function Of(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function Bs(m){m.g||(m.g=new Map,m.h=0,m.i&&xV(m.i,function(P,M){m.add(decodeURIComponent(P.replace(/\+/g," ")),M)}))}t=Of.prototype,t.add=function(m,P){Bs(this),this.i=null,m=fc(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(P),this.h+=1,this};function f2(m,P){Bs(m),P=fc(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function d2(m,P){return Bs(m),P=fc(m,P),m.g.has(P)}t.forEach=function(m,P){Bs(this),this.g.forEach(function(M,B){M.forEach(function(ne){m.call(P,ne,B,this)},this)},this)},t.na=function(){Bs(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),M=[];for(let B=0;B<P.length;B++){const ne=m[B];for(let fe=0;fe<ne.length;fe++)M.push(P[B])}return M},t.V=function(m){Bs(this);let P=[];if(typeof m=="string")d2(this,m)&&(P=P.concat(this.g.get(fc(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)P=P.concat(m[M])}return P},t.set=function(m,P){return Bs(this),this.i=null,m=fc(this,m),d2(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},t.get=function(m,P){return m?(m=this.V(m),0<m.length?String(m[0]):P):P};function h2(m,P,M){f2(m,P),0<M.length&&(m.i=null,m.g.set(fc(m,P),v(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var M=0;M<P.length;M++){var B=P[M];const fe=encodeURIComponent(String(B)),Ce=this.V(B);for(B=0;B<Ce.length;B++){var ne=fe;Ce[B]!==""&&(ne+="="+encodeURIComponent(String(Ce[B]))),m.push(ne)}}return this.i=m.join("&")};function fc(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function bV(m,P){P&&!m.j&&(Bs(m),m.i=null,m.g.forEach(function(M,B){var ne=B.toLowerCase();B!=ne&&(f2(this,B),h2(this,ne,M))},m)),m.j=P}function AV(m,P){const M=new ga;if(o.Image){const B=new Image;B.onload=h(Vs,M,"TestLoadImage: loaded",!0,P,B),B.onerror=h(Vs,M,"TestLoadImage: error",!1,P,B),B.onabort=h(Vs,M,"TestLoadImage: abort",!1,P,B),B.ontimeout=h(Vs,M,"TestLoadImage: timeout",!1,P,B),o.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else P(!1)}function CV(m,P){const M=new ga,B=new AbortController,ne=setTimeout(()=>{B.abort(),Vs(M,"TestPingServer: timeout",!1,P)},1e4);fetch(m,{signal:B.signal}).then(fe=>{clearTimeout(ne),fe.ok?Vs(M,"TestPingServer: ok",!0,P):Vs(M,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ne),Vs(M,"TestPingServer: error",!1,P)})}function Vs(m,P,M,B,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),B(M)}catch{}}function IV(){this.g=new Pf}function kV(m,P,M){const B=M||"";try{o2(m,function(ne,fe){let Ce=ne;c(ne)&&(Ce=Ls(ne)),P.push(B+fe+"="+encodeURIComponent(Ce))})}catch(ne){throw P.push(B+"type="+encodeURIComponent("_badmap")),ne}}function X0(m){this.l=m.Ub||null,this.j=m.eb||!1}y(X0,Us),X0.prototype.g=function(){return new Y0(this.l,this.j)},X0.prototype.i=function(m){return function(){return m}}({});function Y0(m,P){It.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Y0,It),t=Y0.prototype,t.open=function(m,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,Df(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||o).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mf(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Df(this)),this.g&&(this.readyState=3,Df(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p2(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function p2(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?Mf(this):Df(this),this.readyState==3&&p2(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Mf(this))},t.Qa=function(m){this.g&&(this.response=m,Mf(this))},t.ga=function(){this.g&&Mf(this)};function Mf(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Df(m)}t.setRequestHeader=function(m,P){this.u.append(m,P)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var M=P.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=P.next();return m.join(`\r
`)};function Df(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Y0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function m2(m){let P="";return C(m,function(M,B){P+=B,P+=":",P+=M,P+=`\r
`}),P}function xx(m,P,M){e:{for(B in M){var B=!1;break e}B=!0}B||(M=m2(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):Ut(m,P,M))}function ar(m){It.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ar,It);var PV=/^https?$/i,NV=["POST","PUT"];t=ar.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,P,M,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():W.g(),this.v=this.o?zo(this.o):zo(W),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(fe){g2(this,fe);return}if(m=M||"",M=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ne in B)M.set(ne,B[ne]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())M.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(M.keys()).find(fe=>fe.toLowerCase()=="content-type"),ne=o.FormData&&m instanceof o.FormData,!(0<=Array.prototype.indexOf.call(NV,P,void 0))||B||ne||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ce]of M)this.g.setRequestHeader(fe,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{x2(this),this.u=!0,this.g.send(m),this.u=!1}catch(fe){g2(this,fe)}};function g2(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,v2(m),J0(m)}function v2(m){m.A||(m.A=!0,Xt(m,"complete"),Xt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Xt(this,"complete"),Xt(this,"abort"),J0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),J0(this,!0)),ar.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?y2(this):this.bb())},t.bb=function(){y2(this)};function y2(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Wa(m)!=4||m.Z()!=2)){if(m.u&&Wa(m)==4)In(m.Ea,0,m);else if(Xt(m,"readystatechange"),Wa(m)==4){m.h=!1;try{const Ce=m.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var M;if(!(M=P)){var B;if(B=Ce===0){var ne=String(m.D).match(l2)[1]||null;!ne&&o.self&&o.self.location&&(ne=o.self.location.protocol.slice(0,-1)),B=!PV.test(ne?ne.toLowerCase():"")}M=B}if(M)Xt(m,"complete"),Xt(m,"success");else{m.m=6;try{var fe=2<Wa(m)?m.g.statusText:""}catch{fe=""}m.l=fe+" ["+m.Z()+"]",v2(m)}}finally{J0(m)}}}}function J0(m,P){if(m.g){x2(m);const M=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||Xt(m,"ready");try{M.onreadystatechange=B}catch{}}}function x2(m){m.I&&(o.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Wa(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Wa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&P.indexOf(m)==0&&(P=P.substring(m.length)),kf(P)}};function _2(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function RV(m){const P={};m=(m.g&&2<=Wa(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(T(m[B]))continue;var M=O(m[B]);const ne=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const fe=P[ne]||[];P[ne]=fe,fe.push(M)}S(P,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ff(m,P,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||P}function w2(m){this.Aa=0,this.i=[],this.j=new ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ff("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ff("baseRetryDelayMs",5e3,m),this.cb=Ff("retryDelaySeedMs",1e4,m),this.Wa=Ff("forwardChannelMaxRetries",2,m),this.wa=Ff("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(m&&m.concurrentRequestLimit),this.Da=new IV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w2.prototype,t.la=8,t.G=1,t.connect=function(m,P,M,B){$e(0),this.W=m,this.H=P||{},M&&B!==void 0&&(this.H.OSID=M,this.H.OAID=B),this.F=this.X,this.I=P2(this,null,this.W),Z0(this)};function _x(m){if(E2(m),m.G==3){var P=m.U++,M=za(m.I);if(Ut(M,"SID",m.K),Ut(M,"RID",P),Ut(M,"TYPE","terminate"),Lf(m,M),P=new he(m,m.j,P),P.L=2,P.v=K0(za(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(P.v.toString(),"")}catch{}!M&&o.Image&&(new Image().src=P.v,M=!0),M||(P.g=N2(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Pe(P)}k2(m)}function Q0(m){m.g&&(Ex(m),m.g.cancel(),m.g=null)}function E2(m){Q0(m),m.u&&(o.clearTimeout(m.u),m.u=null),ep(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&o.clearTimeout(m.s),m.s=null)}function Z0(m){if(!va(m.h)&&!m.s){m.s=!0;var P=m.Ga;Z||ie(),ee||(Z(),ee=!0),z.add(P,m),m.B=0}}function OV(m,P){return uc(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=P.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Dr(d(m.Ga,m,P),I2(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ne=new he(this,this.j,m);let fe=this.o;if(this.S&&(fe?(fe=I(fe),N(fe,this.S)):fe=this.S),this.m!==null||this.O||(ne.H=fe,fe=null),this.P)e:{for(var P=0,M=0;M<this.i.length;M++){t:{var B=this.i[M];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(P+=B,4096<P){P=M;break e}if(P===4096||M===this.i.length-1){P=M+1;break e}}P=1e3}else P=1e3;P=S2(this,ne,P),M=za(this.I),Ut(M,"RID",m),Ut(M,"CVER",22),this.D&&Ut(M,"X-HTTP-Session-Id",this.D),Lf(this,M),fe&&(this.O?P="headers="+encodeURIComponent(String(m2(fe)))+"&"+P:this.m&&xx(M,this.m,fe)),yx(this.h,ne),this.Ua&&Ut(M,"TYPE","init"),this.P?(Ut(M,"$req",P),Ut(M,"SID","null"),ne.T=!0,_e(ne,M,null)):_e(ne,M,P),this.G=2}}else this.G==3&&(m?T2(this,m):this.i.length==0||va(this.h)||T2(this))};function T2(m,P){var M;P?M=P.l:M=m.U++;const B=za(m.I);Ut(B,"SID",m.K),Ut(B,"RID",M),Ut(B,"AID",m.T),Lf(m,B),m.m&&m.o&&xx(B,m.m,m.o),M=new he(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),P&&(m.i=P.D.concat(m.i)),P=S2(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),yx(m.h,M),_e(M,B,P)}function Lf(m,P){m.H&&C(m.H,function(M,B){Ut(P,B,M)}),m.l&&o2({},function(M,B){Ut(P,B,M)})}function S2(m,P,M){M=Math.min(m.i.length,M);var B=m.l?d(m.l.Na,m.l,m):null;e:{var ne=m.i;let fe=-1;for(;;){const Ce=["count="+M];fe==-1?0<M?(fe=ne[0].g,Ce.push("ofs="+fe)):fe=0:Ce.push("ofs="+fe);let Pt=!0;for(let qr=0;qr<M;qr++){let vt=ne[qr].g;const on=ne[qr].map;if(vt-=fe,0>vt)fe=Math.max(0,ne[qr].g-100),Pt=!1;else try{kV(on,Ce,"req"+vt+"_")}catch{B&&B(on)}}if(Pt){B=Ce.join("&");break e}}}return m=m.i.splice(0,M),P.D=m,B}function b2(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;Z||ie(),ee||(Z(),ee=!0),z.add(P,m),m.v=0}}function wx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Dr(d(m.Fa,m),I2(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,A2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Dr(d(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),Q0(this),A2(this))};function Ex(m){m.A!=null&&(o.clearTimeout(m.A),m.A=null)}function A2(m){m.g=new he(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var P=za(m.qa);Ut(P,"RID","rpc"),Ut(P,"SID",m.K),Ut(P,"AID",m.T),Ut(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ut(P,"TO",m.ja),Ut(P,"TYPE","xmlhttp"),Lf(m,P),m.m&&m.o&&xx(P,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=K0(za(P)),M.m=null,M.P=!0,Ae(M,m)}t.Za=function(){this.C!=null&&(this.C=null,Q0(this),wx(this),$e(19))};function ep(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function C2(m,P){var M=null;if(m.g==P){ep(m),Ex(m),m.g=null;var B=2}else if(ei(m.h,P))M=P.D,a2(m.h,P),B=1;else return;if(m.G!=0){if(P.o)if(B==1){M=P.m?P.m.length:0,P=Date.now()-P.F;var ne=m.B;B=ja(),Xt(B,new Ga(B,M)),Z0(m)}else b2(m);else if(ne=P.s,ne==3||ne==0&&0<P.X||!(B==1&&OV(m,P)||B==2&&wx(m)))switch(M&&0<M.length&&(P=m.h,P.i=P.i.concat(M)),ne){case 1:Yo(m,5);break;case 4:Yo(m,10);break;case 3:Yo(m,6);break;default:Yo(m,2)}}}function I2(m,P){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*P}function Yo(m,P){if(m.j.info("Error code "+P),P==2){var M=d(m.fb,m),B=m.Xa;const ne=!B;B=new Xo(B||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||W0(B,"https"),K0(B),ne?AV(B.toString(),M):CV(B.toString(),M)}else $e(2);m.G=0,m.l&&m.l.sa(P),k2(m),E2(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function k2(m){if(m.G=0,m.ka=[],m.l){const P=s2(m.h);(P.length!=0||m.i.length!=0)&&(_(m.ka,P),_(m.ka,m.i),m.h.i.length=0,v(m.i),m.i.length=0),m.l.ra()}}function P2(m,P,M){var B=M instanceof Xo?za(M):new Xo(M);if(B.g!="")P&&(B.g=P+"."+B.g),q0(B,B.s);else{var ne=o.location;B=ne.protocol,P=P?P+"."+ne.hostname:ne.hostname,ne=+ne.port;var fe=new Xo(null);B&&W0(fe,B),P&&(fe.g=P),ne&&q0(fe,ne),M&&(fe.l=M),B=fe}return M=m.D,P=m.ya,M&&P&&Ut(B,M,P),Ut(B,"VER",m.la),Lf(m,B),B}function N2(m,P,M){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=m.Ca&&!m.pa?new ar(new X0({eb:M})):new ar(m.pa),P.Ha(m.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R2(){}t=R2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tp(){}tp.prototype.g=function(m,P){return new ti(m,P)};function ti(m,P){It.call(this),this.g=new w2(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!T(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!T(P)&&(this.g.D=P,m=this.h,m!==null&&P in m&&(m=this.h,P in m&&delete m[P])),this.j=new dc(this)}y(ti,It),ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ti.prototype.close=function(){_x(this.g)},ti.prototype.o=function(m){var P=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=Ls(m),m=M);P.i.push(new Ko(P.Ya++,m)),P.G==3&&Z0(P)},ti.prototype.N=function(){this.g.l=null,delete this.j,_x(this.g),delete this.g,ti.aa.N.call(this)};function O2(m){qo.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const M in P){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,P=P!==null&&m in P?P[m]:void 0),this.data=P}else this.data=m}y(O2,qo);function M2(){ma.call(this),this.status=1}y(M2,ma);function dc(m){this.g=m}y(dc,R2),dc.prototype.ua=function(){Xt(this.g,"a")},dc.prototype.ta=function(m){Xt(this.g,new O2(m))},dc.prototype.sa=function(m){Xt(this.g,new M2)},dc.prototype.ra=function(){Xt(this.g,"b")},tp.prototype.createWebChannel=tp.prototype.g,ti.prototype.send=ti.prototype.o,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,s3=function(){return new tp},a3=function(){return ja()},i3=Gi,X_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},j.NO_ERROR=0,j.TIMEOUT=8,j.HTTP_ERROR=6,dm=j,H.COMPLETE="complete",n3=H,Wo.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",It.prototype.listen=It.prototype.K,cd=Wo,ar.prototype.listenOnce=ar.prototype.L,ar.prototype.getLastError=ar.prototype.Ka,ar.prototype.getLastErrorCode=ar.prototype.Ba,ar.prototype.getStatus=ar.prototype.Z,ar.prototype.getResponseJson=ar.prototype.Oa,ar.prototype.getResponseText=ar.prototype.oa,ar.prototype.send=ar.prototype.ea,ar.prototype.setWithCredentials=ar.prototype.Ha,r3=ar}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});const tI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new sS("@firebase/firestore");function Wf(){return Rl.logLevel}function Ve(t,...e){if(Rl.logLevel<=lt.DEBUG){const r=e.map(cS);Rl.debug(`Firestore (${rf}): ${t}`,...r)}}function vs(t,...e){if(Rl.logLevel<=lt.ERROR){const r=e.map(cS);Rl.error(`Firestore (${rf}): ${t}`,...r)}}function yu(t,...e){if(Rl.logLevel<=lt.WARN){const r=e.map(cS);Rl.warn(`Firestore (${rf}): ${t}`,...r)}}function cS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+t;throw vs(e),new Error(e)}function bt(t,e){t||Xe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ps{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pn.UNAUTHENTICATED))}shutdown(){}}class jG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class GG{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){bt(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Eo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Eo)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bt(typeof n.accessToken=="string"),new o3(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new pn(e)}}class HG{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zG{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new HG(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){bt(this.o===void 0);const n=a=>{a.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(bt(typeof r.token=="string"),this.R=r.token,new WG(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=KG(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function xt(t,e){return t<e?-1:t>e?1:0}function xu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Pr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Pr(0,0))}static max(){return new Je(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xe(),n===void 0?n=e.length-r:n>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return uh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Mt extends uh{construct(e,r,n){return new Mt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Mt(r)}static emptyPath(){return new Mt([])}}const XG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends uh{construct(e,r,n){return new Qr(e,r,n)}static isValidIdentifier(e){return XG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ne(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Ne(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(r)}static emptyPath(){return new Qr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Mt.fromString(e))}static fromName(e){return new je(Mt.fromString(e).popFirst(5))}static empty(){return new je(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Mt(e.slice()))}}function YG(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(n===1e9?new Pr(r+1,0):new Pr(r,n));return new ko(i,je.empty(),e)}function JG(t){return new ko(t.readTime,t.key,-1)}class ko{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ko(Je.min(),je.empty(),-1)}static max(){return new ko(Je.max(),je.empty(),-1)}}function QG(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=je.comparator(t.documentKey,e.documentKey),r!==0?r:xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==ZG)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ye((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.reject(r)}static resolve(e){return new ye((r,n)=>{r(e)})}static reject(e){return new ye((r,n)=>{n(e)})}static waitFor(e){return new ye((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(e){let r=ye.resolve(!1);for(const n of e)r=r.next(i=>i?ye.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ye((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{s[c]=u,++o,o===a&&n(s)},u=>i(u))}})}static doWhile(e,r){return new ye((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function tH(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function x0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uS.oe=-1;function qv(t){return t==null}function Ym(t){return t===0&&1/t==-1/0}function rH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ym(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ql(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function c3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r){this.comparator=e,this.root=r||Yr.EMPTY}insert(e,r){return new tr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Yr.RED,this.left=i??Yr.EMPTY,this.right=a??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Yr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Yr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1;Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Yr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nI(this.data.getIterator())}getIteratorFrom(e){return new nI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tn(this.comparator);return r.data=e,r}}class nI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new ci([])}unionWith(e){let r=new tn(Qr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ci(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new u3("Invalid base64 string: "+a):a}}(e);return new sn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new sn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const nH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(bt(!!t),typeof t=="string"){let e=0;const r=nH.exec(t);if(bt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:dr(t.seconds),nanos:dr(t.nanos)}}function dr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ol(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function fS(t){const e=t.mapValue.fields.__previous_value__;return Kv(e)?fS(e):e}function fh(t){const e=Po(t.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,r,n,i,a,s,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class dh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp={mapValue:{}};function Ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:sH(t)?9007199254740991:aH(t)?10:11:Xe()}function Oa(t,e){if(t===e)return!0;const r=Ml(t);if(r!==Ml(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fh(t).isEqual(fh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Po(i.timestampValue),o=Po(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ol(i.bytesValue).isEqual(Ol(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return dr(i.geoPointValue.latitude)===dr(a.geoPointValue.latitude)&&dr(i.geoPointValue.longitude)===dr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return dr(i.integerValue)===dr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=dr(i.doubleValue),o=dr(a.doubleValue);return s===o?Ym(s)===Ym(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return xu(t.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(rI(s)!==rI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Oa(s[l],o[l])))return!1;return!0}(t,e);default:return Xe()}}function hh(t,e){return(t.values||[]).find(r=>Oa(r,e))!==void 0}function _u(t,e){if(t===e)return 0;const r=Ml(t),n=Ml(e);if(r!==n)return xt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=dr(a.integerValue||a.doubleValue),l=dr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return iI(t.timestampValue,e.timestampValue);case 4:return iI(fh(t),fh(e));case 5:return xt(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ol(a),l=Ol(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=xt(o[c],l[c]);if(u!==0)return u}return xt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=xt(dr(a.latitude),dr(s.latitude));return o!==0?o:xt(dr(a.longitude),dr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aI(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,c,u;const f=a.fields||{},d=s.fields||{},h=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=xt(((c=h==null?void 0:h.values)===null||c===void 0?void 0:c.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:aI(h,y)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Tp.mapValue&&s===Tp.mapValue)return 0;if(a===Tp.mapValue)return 1;if(s===Tp.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const d=xt(l[f],u[f]);if(d!==0)return d;const h=_u(o[l[f]],c[u[f]]);if(h!==0)return h}return xt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function iI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xt(t,e);const r=Po(t),n=Po(e),i=xt(r.seconds,n.seconds);return i!==0?i:xt(r.nanos,n.nanos)}function aI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=_u(r[i],n[i]);if(a)return a}return xt(r.length,n.length)}function wu(t){return Y_(t)}function Y_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Po(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ol(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return je.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Y_(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Y_(r.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function Jm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function J_(t){return!!t&&"integerValue"in t}function dS(t){return!!t&&"arrayValue"in t}function sI(t){return!!t&&"nullValue"in t}function oI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hm(t){return!!t&&"mapValue"in t}function aH(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Id(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Id(t.arrayValue.values[r]);return e}return Object.assign({},t)}function sH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!hm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(r)}setAll(e){let r=Qr.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Id(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());hm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];hm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ql(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new qn(Id(this.value))}}function f3(t){const e=[];return ql(t.fields,(r,n)=>{const i=new Qr([r]);if(hm(n)){const a=f3(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new vn(e,0,Je.min(),Je.min(),Je.min(),qn.empty(),0)}static newFoundDocument(e,r,n,i){return new vn(e,1,r,Je.min(),n,i,0)}static newNoDocument(e,r){return new vn(e,2,r,Je.min(),Je.min(),qn.empty(),0)}static newUnknownDocument(e,r){return new vn(e,3,r,Je.min(),Je.min(),qn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,r){this.position=e,this.inclusive=r}}function lI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=je.comparator(je.fromName(s.referenceValue),r.key):n=_u(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function cI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Oa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,r="asc"){this.field=e,this.dir=r}}function oH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d3=class{};class wr extends d3{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new cH(e,r,n):r==="array-contains"?new dH(e,n):r==="in"?new hH(e,n):r==="not-in"?new pH(e,n):r==="array-contains-any"?new mH(e,n):new wr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new uH(e,n):new fH(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(_u(r,this.value)):r!==null&&Ml(this.value)===Ml(r)&&this.matchesComparison(_u(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class da extends d3{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new da(e,r)}matches(e){return h3(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h3(t){return t.op==="and"}function p3(t){return lH(t)&&h3(t)}function lH(t){for(const e of t.filters)if(e instanceof da)return!1;return!0}function Q_(t){if(t instanceof wr)return t.field.canonicalString()+t.op.toString()+wu(t.value);if(p3(t))return t.filters.map(e=>Q_(e)).join(",");{const e=t.filters.map(r=>Q_(r)).join(",");return`${t.op}(${e})`}}function m3(t,e){return t instanceof wr?function(n,i){return i instanceof wr&&n.op===i.op&&n.field.isEqual(i.field)&&Oa(n.value,i.value)}(t,e):t instanceof da?function(n,i){return i instanceof da&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&m3(s,i.filters[o]),!0):!1}(t,e):void Xe()}function g3(t){return t instanceof wr?function(r){return`${r.field.canonicalString()} ${r.op} ${wu(r.value)}`}(t):t instanceof da?function(r){return r.op.toString()+" {"+r.getFilters().map(g3).join(" ,")+"}"}(t):"Filter"}class cH extends wr{constructor(e,r,n){super(e,r,n),this.key=je.fromName(n.referenceValue)}matches(e){const r=je.comparator(e.key,this.key);return this.matchesComparison(r)}}class uH extends wr{constructor(e,r){super(e,"in",r),this.keys=v3("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class fH extends wr{constructor(e,r){super(e,"not-in",r),this.keys=v3("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function v3(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>je.fromName(n.referenceValue))}class dH extends wr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return dS(r)&&hh(r.arrayValue,this.value)}}class hH extends wr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&hh(this.value.arrayValue,r)}}class pH extends wr{constructor(e,r){super(e,"not-in",r)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!hh(this.value.arrayValue,r)}}class mH extends wr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!dS(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>hh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function uI(t,e=null,r=[],n=[],i=null,a=null,s=null){return new gH(t,e,r,n,i,a,s)}function hS(t){const e=Ze(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Q_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),qv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>wu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>wu(n)).join(",")),e.ue=r}return e.ue}function pS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!oH(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!m3(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cI(t.startAt,e.startAt)&&cI(t.endAt,e.endAt)}function Z_(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vH(t,e,r,n,i,a,s,o){return new Kl(t,e,r,n,i,a,s,o)}function mS(t){return new Kl(t)}function fI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gS(t){return t.collectionGroup!==null}function Yc(t){const e=Ze(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new tn(Qr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ph(a,n))}),r.has(Qr.keyField().canonicalString())||e.ce.push(new ph(Qr.keyField(),n))}return e.ce}function Ca(t){const e=Ze(t);return e.le||(e.le=yH(e,Yc(t))),e.le}function yH(t,e){if(t.limitType==="F")return uI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ph(i.field,a)});const r=t.endAt?new Eu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Eu(t.startAt.position,t.startAt.inclusive):null;return uI(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ew(t,e){const r=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Qm(t,e,r){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Xv(t,e){return pS(Ca(t),Ca(e))&&t.limitType===e.limitType}function y3(t){return`${hS(Ca(t))}|lt:${t.limitType}`}function _c(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>g3(i)).join(", ")}]`),qv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>wu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>wu(i)).join(",")),`Target(${n})`}(Ca(t))}; limitType=${t.limitType})`}function Yv(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):je.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Yc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const c=lI(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Yc(n),i)||n.endAt&&!function(s,o,l){const c=lI(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Yc(n),i))}(t,e)}function xH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x3(t){return(e,r)=>{let n=!1;for(const i of Yc(t)){const a=_H(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function _H(t,e,r){const n=t.field.isKeyField()?je.comparator(e.key,r.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?_u(l,c):Xe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return c3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=new tr(je.comparator);function ys(){return wH}const _3=new tr(je.comparator);function ud(...t){let e=_3;for(const r of t)e=e.insert(r.key,r);return e}function w3(t){let e=_3;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function cl(){return kd()}function E3(){return kd()}function kd(){return new nf(t=>t.toString(),(t,e)=>t.isEqual(e))}const EH=new tr(je.comparator),TH=new tn(je.comparator);function st(...t){let e=TH;for(const r of t)e=e.add(r);return e}const SH=new tn(xt);function bH(){return SH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ym(e)?"-0":e}}function T3(t){return{integerValue:""+t}}function AH(t,e){return rH(e)?T3(e):vS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this._=void 0}}function CH(t,e,r){return t instanceof mh?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Kv(a)&&(a=fS(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof gh?b3(t,e):t instanceof vh?A3(t,e):function(i,a){const s=S3(i,a),o=dI(s)+dI(i.Pe);return J_(s)&&J_(i.Pe)?T3(o):vS(i.serializer,o)}(t,e)}function IH(t,e,r){return t instanceof gh?b3(t,e):t instanceof vh?A3(t,e):r}function S3(t,e){return t instanceof Zm?function(n){return J_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class mh extends Jv{}class gh extends Jv{constructor(e){super(),this.elements=e}}function b3(t,e){const r=C3(e);for(const n of t.elements)r.some(i=>Oa(i,n))||r.push(n);return{arrayValue:{values:r}}}class vh extends Jv{constructor(e){super(),this.elements=e}}function A3(t,e){let r=C3(e);for(const n of t.elements)r=r.filter(i=>!Oa(i,n));return{arrayValue:{values:r}}}class Zm extends Jv{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function dI(t){return dr(t.integerValue||t.doubleValue)}function C3(t){return dS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,r){this.field=e,this.transform=r}}function PH(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gh&&i instanceof gh||n instanceof vh&&i instanceof vh?xu(n.elements,i.elements,Oa):n instanceof Zm&&i instanceof Zm?Oa(n.Pe,i.Pe):n instanceof mh&&i instanceof mh}(t.transform,e.transform)}class NH{constructor(e,r){this.version=e,this.transformResults=r}}class Fn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qv{}function I3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zv(t.key,Fn.none()):new _0(t.key,t.data,Fn.none());{const r=t.data,n=qn.empty();let i=new tn(Qr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Lo(t.key,n,new ci(i.toArray()),Fn.none())}}function RH(t,e,r){t instanceof _0?function(i,a,s){const o=i.value.clone(),l=pI(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Lo?function(i,a,s){if(!pm(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=pI(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(k3(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Pd(t,e,r,n){return t instanceof _0?function(a,s,o,l){if(!pm(a.precondition,s))return o;const c=a.value.clone(),u=mI(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Lo?function(a,s,o,l){if(!pm(a.precondition,s))return o;const c=mI(a.fieldTransforms,l,s),u=s.data;return u.setAll(k3(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,s,o){return pm(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function OH(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=S3(n.transform,i||null);a!=null&&(r===null&&(r=qn.empty()),r.set(n.field,a))}return r||null}function hI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&xu(n,i,(a,s)=>PH(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _0 extends Qv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lo extends Qv{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function k3(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function pI(t,e,r){const n=new Map;bt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,IH(s,o,r[i]))}return n}function mI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,CH(a,s,e))}return n}class Zv extends Qv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MH extends Qv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&RH(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Pd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Pd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=E3();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=I3(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),st())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(r,n)=>hI(r,n))&&xu(this.baseMutations,e.baseMutations,(r,n)=>hI(r,n))}}class yS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){bt(e.mutations.length===n.length);let i=function(){return EH}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new yS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,ft;function UH(t){switch(t){default:return Xe();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function P3(t){if(t===void 0)return vs("GRPC error has no .code"),ge.UNKNOWN;switch(t){case gr.OK:return ge.OK;case gr.CANCELLED:return ge.CANCELLED;case gr.UNKNOWN:return ge.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ge.INTERNAL;case gr.UNAVAILABLE:return ge.UNAVAILABLE;case gr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case gr.NOT_FOUND:return ge.NOT_FOUND;case gr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case gr.ABORTED:return ge.ABORTED;case gr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case gr.DATA_LOSS:return ge.DATA_LOSS;default:return Xe()}}(ft=gr||(gr={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new yl([4294967295,4294967295],0);function gI(t){const e=$H().encode(t),r=new t3;return r.update(e),new Uint8Array(r.digest())}function vI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yl([r,n],0),new yl([i,a],0)]}class xS{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new fd(`Invalid padding: ${r}`);if(n<0)throw new fd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new fd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new fd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=yl.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(yl.fromNumber(n)));return i.compare(BH)===1&&(i=new yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=gI(e),[n,i]=vI(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new xS(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const r=gI(e),[n,i]=vI(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,w0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ey(Je.min(),i,new tr(xt),ys(),st())}}class w0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new w0(n,r,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class N3{constructor(e,r){this.targetId=e,this.me=r}}class R3{constructor(e,r,n=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class yI{constructor(){this.fe=0,this.ge=_I(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=st(),r=st(),n=st();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Xe()}}),new w0(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=_I()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VH{constructor(e){this.Le=e,this.Be=new Map,this.ke=ys(),this.qe=xI(),this.Qe=new tr(xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Z_(a))if(n===0){const s=new je(a.path);this.Ue(r,s,vn.newNoDocument(s,Je.min()))}else bt(n===1);else{const s=this.Ye(r);if(s!==n){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Ol(n).toUint8Array()}catch(l){if(l instanceof u3)return yu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new xS(s,i,a)}catch(l){return yu(l instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&Z_(o.target)){const l=new je(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,vn.newNoDocument(l,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=st();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new ey(e,r,this.Qe,this.ke,n);return this.ke=ys(),this.qe=xI(),this.Qe=new tr(xt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new yI,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tn(xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ve("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yI),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function xI(){return new tr(je.comparator)}function _I(){return new tr(je.comparator)}const jH={asc:"ASCENDING",desc:"DESCENDING"},GH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HH={and:"AND",or:"OR"};class zH{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function tw(t,e){return t.useProto3Json||qv(e)?e:{value:e}}function eg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WH(t,e){return eg(t,e.toTimestamp())}function Ia(t){return bt(!!t),Je.fromTimestamp(function(r){const n=Po(r);return new Pr(n.seconds,n.nanos)}(t))}function _S(t,e){return rw(t,e).canonicalString()}function rw(t,e){const r=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function M3(t){const e=Mt.fromString(t);return bt($3(e)),e}function nw(t,e){return _S(t.databaseId,e.path)}function t1(t,e){const r=M3(e);if(r.get(1)!==t.databaseId.projectId)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new je(F3(r))}function D3(t,e){return _S(t.databaseId,e)}function qH(t){const e=M3(t);return e.length===4?Mt.emptyPath():F3(e)}function iw(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F3(t){return bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wI(t,e,r){return{name:nw(t,e),fields:r.value.mapValue.fields}}function KH(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(bt(u===void 0||typeof u=="string"),sn.fromBase64String(u||"")):(bt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),sn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?ge.UNKNOWN:P3(c.code);return new Ne(u,c.message||"")}(s);r=new R3(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=t1(t,n.document.name),a=Ia(n.document.updateTime),s=n.document.createTime?Ia(n.document.createTime):Je.min(),o=new qn({mapValue:{fields:n.document.fields}}),l=vn.newFoundDocument(i,a,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new mm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=t1(t,n.document),a=n.readTime?Ia(n.readTime):Je.min(),s=vn.newNoDocument(i,a),o=n.removedTargetIds||[];r=new mm([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=t1(t,n.document),a=n.removedTargetIds||[];r=new mm([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new LH(i,a),o=n.targetId;r=new N3(o,s)}}return r}function XH(t,e){let r;if(e instanceof _0)r={update:wI(t,e.key,e.value)};else if(e instanceof Zv)r={delete:nw(t,e.key)};else if(e instanceof Lo)r={update:wI(t,e.key,e.data),updateMask:iz(e.fieldMask)};else{if(!(e instanceof MH))return Xe();r={verify:nw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof mh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zm)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Xe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(t,e.precondition)),r}function YH(t,e){return t&&t.length>0?(bt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?Ia(i.updateTime):Ia(a);return s.isEqual(Je.min())&&(s=Ia(a)),new NH(s,i.transformResults||[])}(r,e))):[]}function JH(t,e){return{documents:[D3(t,e.path)]}}function QH(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=D3(t,i);const a=function(c){if(c.length!==0)return U3(da.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:wc(d.field),direction:tz(d.dir)}}(u))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=tw(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function ZH(t){let e=qH(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){bt(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const d=L3(f);return d instanceof da&&p3(d)?d.getFilters():[d]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(d=>function(y){return new ph(Ec(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,qv(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new Eu(h,d)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const d=!f.before,h=f.values||[];return new Eu(h,d)}(r.endAt)),vH(e,i,s,a,o,"F",l,c)}function ez(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function L3(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ec(r.unaryFilter.field);return wr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ec(r.unaryFilter.field);return wr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ec(r.unaryFilter.field);return wr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ec(r.unaryFilter.field);return wr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(r){return wr.create(Ec(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return da.create(r.compositeFilter.filters.map(n=>L3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(t):Xe()}function tz(t){return jH[t]}function rz(t){return GH[t]}function nz(t){return HH[t]}function wc(t){return{fieldPath:t.canonicalString()}}function Ec(t){return Qr.fromServerFormat(t.fieldPath)}function U3(t){return t instanceof wr?function(r){if(r.op==="=="){if(oI(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NAN"}};if(sI(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(oI(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NOT_NAN"}};if(sI(r.value))return{unaryFilter:{field:wc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(r.field),op:rz(r.op),value:r.value}}}(t):t instanceof da?function(r){const n=r.getFilters().map(i=>U3(i));return n.length===1?n[0]:{compositeFilter:{op:nz(r.op),filters:n}}}(t):Xe()}function iz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function $3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,r,n,i,a=Je.min(),s=Je.min(),o=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.ct=e}}function sz(t){const e=ZH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.un=new lz}addToCollectionParentIndex(e,r){return this.un.add(r),ye.resolve()}getCollectionParents(e,r){return ye.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ye.resolve()}deleteFieldIndex(e,r){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,r){return ye.resolve()}getDocumentsMatchingTarget(e,r){return ye.resolve(null)}getIndexType(e,r){return ye.resolve(0)}getFieldIndexes(e,r){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,r){return ye.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,r){return ye.resolve(ko.min())}updateCollectionGroup(e,r,n){return ye.resolve()}updateIndexEntries(e,r){return ye.resolve()}}class lz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tn(Mt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Tu(0)}static kn(){return new Tu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.changes=new nf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ye.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Pd(n.mutation,i,ci.empty(),Pr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,st()).next(()=>n))}getLocalViewOfDocuments(e,r,n=st()){const i=cl();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=ud();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=cl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,st()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=ys();const s=kd(),o=function(){return kd()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Lo)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Pd(u.mutation,c,u.mutation.getFieldMask(),Pr.now())):s.set(c.key,ci.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new uz(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=kd();let i=new tr((s,o)=>s-o),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||ci.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(i.get(o.batchId)||st()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=E3();u.forEach(d=>{if(!a.has(d)){const h=I3(r.get(d),n.get(d));h!==null&&f.set(d,h),a=a.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ye.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):gS(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ye.resolve(cl());let o=-1,l=a;return s.next(c=>ye.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?ye.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,st())).next(u=>({batchId:o,changes:w3(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new je(r)).next(n=>{let i=ud();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=ud();return this.indexManager.getCollectionParents(e,a).next(o=>ye.forEach(o,l=>{const c=function(f,d){return new Kl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,vn.newInvalidDocument(u)))});let o=ud();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Pd(u.mutation,c,ci.empty(),Pr.now()),Yv(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ye.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ia(i.createTime)}}(r)),ye.resolve()}getNamedQuery(e,r){return ye.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:sz(i.bundledQuery),readTime:Ia(i.readTime)}}(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(){this.overlays=new tr(je.comparator),this.Ir=new Map}getOverlay(e,r){return ye.resolve(this.overlays.get(r))}getOverlays(e,r){const n=cl();return ye.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ye.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ye.resolve()}getOverlaysForCollection(e,r,n){const i=cl(),a=r.length+1,s=new je(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new tr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=cl(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=cl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return ye.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new FH(r,n));let a=this.Ir.get(r);a===void 0&&(a=st(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Tr=new tn(Lr.Er),this.dr=new tn(Lr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Lr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Lr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new je(new Mt([])),n=new Lr(r,e),i=new Lr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new je(new Mt([])),n=new Lr(r,e),i=new Lr(r,e+1);let a=st();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Lr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Lr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return je.comparator(e.key,r.key)||xt(e.wr,r.wr)}static Ar(e,r){return xt(e.wr,r.wr)||je.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tn(Lr.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DH(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new Lr(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ye.resolve(s)}lookupMutationBatch(e,r){return ye.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Lr(r,0),i=new Lr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const o=this.Dr(s.wr);a.push(o)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tn(xt);return r.forEach(i=>{const a=new Lr(i,0),s=new Lr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{n=n.add(o.wr)})}),ye.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;je.isDocumentKey(a)||(a=a.child(""));const s=new Lr(new je(a),0);let o=new tn(xt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},s),ye.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){bt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ye.forEach(r.mutations,i=>{const a=new Lr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Lr(r,0),i=this.br.firstAfterOrEqual(n);return ye.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.Mr=e,this.docs=function(){return new tr(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ye.resolve(n?n.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(e,r){let n=ys();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():vn.newInvalidDocument(i))}),ye.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ys();const s=r.path,o=new je(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||QG(JG(u),n)<=0||(i.has(u.key)||Yv(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Xe()}Or(e,r){return ye.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new vz(this)}getSize(e){return ye.resolve(this.size)}}class vz extends cz{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ye.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.persistence=e,this.Nr=new nf(r=>hS(r),pS),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wS,this.targetCount=0,this.kr=Tu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Tu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ye.resolve()}updateTargetData(e,r){return this.Kn(r),ye.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ye.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ye.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ye.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ye.resolve(n)}containsKey(e,r){return ye.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,r){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new pz,this.referenceDelegate=e(this),this.Ur=new yz(this),this.indexManager=new oz,this.remoteDocumentCache=function(i){return new gz(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new az(r),this.Gr=new dz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new hz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new mz(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ve("MemoryPersistence","Starting transaction:",e);const i=new _z(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ye.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class _z extends eH{constructor(e){super(),this.currentSequenceNumber=e}}class ES{constructor(e){this.persistence=e,this.Jr=new wS,this.Yr=null}static Zr(e){return new ES(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ye.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ye.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,n=>{const i=je.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Je.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ye.or([()=>ye.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=st(),i=st();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new TS(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return E7()?8:tH(bn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new wz;return this.Xi(e,r,s).next(o=>{if(a.result=o,this.zi)return this.es(e,r,s,o.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Wf()<=lt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",_c(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(Wf()<=lt.DEBUG&&Ve("QueryEngine","Query:",_c(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Wf()<=lt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",_c(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ca(r))):ye.resolve())}Yi(e,r){if(fI(r))return ye.resolve(null);let n=Ca(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Qm(r,null,"F"),n=Ca(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=st(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,s,l.readTime)?this.Yi(e,Qm(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return fI(r)||i.isEqual(Je.min())?ye.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?ye.resolve(null):(Wf()<=lt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_c(r)),this.rs(e,s,r,YG(i,-1)).next(o=>o))})}ts(e,r){let n=new tn(x3(e));return r.forEach((i,a)=>{Yv(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Wf()<=lt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",_c(r)),this.Ji.getDocumentsMatchingQuery(e,r,ko.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new tr(xt),this._s=new nf(a=>hS(a),pS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Sz(t,e,r,n){return new Tz(t,e,r,n)}async function B3(t,e){const r=Ze(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=st();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:o}))})})}function bz(t,e){const r=Ze(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,d=f.keys();let h=ye.resolve();return d.forEach(y=>{h=h.next(()=>u.getEntry(l,y)).next(v=>{const _=c.docVersions.get(y);bt(_!==null),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=st();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function V3(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Az(t,e){const r=Ze(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;o.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,f)));let h=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(sn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(f,h),function(v,_,w){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,h,u)&&o.push(r.Ur.updateTargetData(a,h))});let l=ys(),c=st();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Cz(a,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(Je.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(u)}return ye.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function Cz(t,e,r){let n=st(),i=st();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=ys();return r.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Ve("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Iz(t,e){const r=Ze(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function kz(t,e){const r=Ze(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ye.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new ao(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function aw(t,e,r){const n=Ze(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!x0(s))throw s;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function EI(t,e,r){const n=Ze(t);let i=Je.min(),a=st();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ze(l),d=f._s.get(u);return d!==void 0?ye.resolve(f.os.get(d)):f.Ur.getTargetData(c,u)}(n,s,Ca(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Je.min(),r?a:st())).next(o=>(Pz(n,xH(e),o),{documents:o,Ts:a})))}function Pz(t,e,r){let n=t.us.get(e)||Je.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class TI{constructor(){this.activeTargetIds=bH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nz{constructor(){this.so=new TI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new TI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp=null;function r1(){return Sp===null?Sp=function(){return 268435456+Math.round(2147483648*Math.random())}():Sp++,"0x"+Sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class Dz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const o=r1(),l=this.xo(r,n.toUriEncodedString());Ve("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,s),this.No(r,l,c,i).then(u=>(Ve("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw yu("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,s,o){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rf}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=Oz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=r1();return new Promise((s,o)=>{const l=new r3;l.setWithCredentials(!0),l.listenOnce(n3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dm.NO_ERROR:const u=l.getResponseJson();Ve(fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),s(u);break;case dm.TIMEOUT:Ve(fn,`RPC '${e}' ${a} timed out`),o(new Ne(ge.DEADLINE_EXCEEDED,"Request time out"));break;case dm.HTTP_ERROR:const f=l.getStatus();if(Ve(fn,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const y=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(w)>=0?w:ge.UNKNOWN}(h.status);o(new Ne(y,h.message))}else o(new Ne(ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ne(ge.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ve(fn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);Ve(fn,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=r1(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=s3(),o=a3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");Ve(fn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let d=!1,h=!1;const y=new Mz({Io:_=>{h?Ve(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(Ve(fn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),Ve(fn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),v=(_,w,T)=>{_.listen(w,E=>{try{T(E)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,cd.EventType.OPEN,()=>{h||(Ve(fn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),v(f,cd.EventType.CLOSE,()=>{h||(h=!0,Ve(fn,`RPC '${e}' stream ${i} transport closed`),y.So())}),v(f,cd.EventType.ERROR,_=>{h||(h=!0,yu(fn,`RPC '${e}' stream ${i} transport errored:`,_),y.So(new Ne(ge.UNAVAILABLE,"The operation could not be completed")))}),v(f,cd.EventType.MESSAGE,_=>{var w;if(!h){const T=_.data[0];bt(!!T);const E=T,k=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(k){Ve(fn,`RPC '${e}' stream ${i} received error:`,k);const A=k.status;let C=function(b){const N=gr[b];if(N!==void 0)return P3(N)}(A),S=k.message;C===void 0&&(C=ge.INTERNAL,S="Unknown error status: "+A+" with message "+k.message),h=!0,y.So(new Ne(C,S)),f.close()}else Ve(fn,`RPC '${e}' stream ${i} received:`,T),y.bo(T)}}),v(o,i3.STAT_EVENT,_=>{_.stat===X_.PROXY?Ve(fn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===X_.NOPROXY&&Ve(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function n1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new zH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,r,n,i,a,s,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new j3(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ge.RESOURCE_EXHAUSTED?(vs(r.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ne(ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fz extends G3{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=KH(this.serializer,e),n=function(a){if(!("targetChange"in a))return Je.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?Ia(s.readTime):Je.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=iw(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Z_(l)?{documents:JH(a,l)}:{query:QH(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=O3(a,s.resumeToken);const c=tw(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Je.min())>0){o.readTime=eg(a,s.snapshotVersion.toTimestamp());const c=tw(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=ez(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=iw(this.serializer),r.removeTarget=e,this.a_(r)}}class Lz extends G3{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return bt(!!e.streamToken),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=YH(e.writeResults,e.commitTime),n=Ia(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=iw(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>XH(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,rw(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(ge.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,rw(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ge.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $z{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vs(r),this.D_=!1):Ve("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Xl(this)&&(Ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ze(l);c.L_.add(4),await E0(c),c.q_.set("Unknown"),c.L_.delete(4),await ry(c)}(this))})}),this.q_=new $z(n,i)}}async function ry(t){if(Xl(t))for(const e of t.B_)await e(!0)}async function E0(t){for(const e of t.B_)await e(!1)}function H3(t,e){const r=Ze(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),CS(r)?AS(r):af(r).r_()&&bS(r,e))}function SS(t,e){const r=Ze(t),n=af(r);r.N_.delete(e),n.r_()&&z3(r,e),r.N_.size===0&&(n.r_()?n.o_():Xl(r)&&r.q_.set("Unknown"))}function bS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}af(t).A_(e)}function z3(t,e){t.Q_.xe(e),af(t).R_(e)}function AS(t){t.Q_=new VH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),af(t).start(),t.q_.v_()}function CS(t){return Xl(t)&&!af(t).n_()&&t.N_.size>0}function Xl(t){return Ze(t).L_.size===0}function W3(t){t.Q_=void 0}async function Vz(t){t.q_.set("Online")}async function jz(t){t.N_.forEach((e,r)=>{bS(t,e)})}async function Gz(t,e){W3(t),CS(t)?(t.q_.M_(e),AS(t)):t.q_.set("Unknown")}async function Hz(t,e,r){if(t.q_.set("Online"),e instanceof R3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await tg(t,n)}else if(e instanceof mm?t.Q_.Ke(e):e instanceof N3?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Je.min()))try{const n=await V3(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(sn.EMPTY_BYTE_STRING,u.snapshotVersion)),z3(a,l);const f=new ao(u.target,l,c,u.sequenceNumber);bS(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Ve("RemoteStore","Failed to raise snapshot:",n),await tg(t,n)}}async function tg(t,e,r){if(!x0(e))throw e;t.L_.add(1),await E0(t),t.q_.set("Offline"),r||(r=()=>V3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ry(t)})}function q3(t,e){return e().catch(r=>tg(t,r,e))}async function ny(t){const e=Ze(t),r=No(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zz(e);)try{const i=await Iz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Wz(e,i)}catch(i){await tg(e,i)}K3(e)&&X3(e)}function zz(t){return Xl(t)&&t.O_.length<10}function Wz(t,e){t.O_.push(e);const r=No(t);r.r_()&&r.V_&&r.m_(e.mutations)}function K3(t){return Xl(t)&&!No(t).n_()&&t.O_.length>0}function X3(t){No(t).start()}async function qz(t){No(t).p_()}async function Kz(t){const e=No(t);for(const r of t.O_)e.m_(r.mutations)}async function Xz(t,e,r){const n=t.O_.shift(),i=yS.from(n,e,r);await q3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ny(t)}async function Yz(t,e){e&&No(t).V_&&await async function(n,i){if(function(s){return UH(s)&&s!==ge.ABORTED}(i.code)){const a=n.O_.shift();No(n).s_(),await q3(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ny(n)}}(t,e),K3(t)&&X3(t)}async function bI(t,e){const r=Ze(t);r.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const n=Xl(r);r.L_.add(3),await E0(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ry(r)}async function Jz(t,e){const r=Ze(t);e?(r.L_.delete(2),await ry(r)):e||(r.L_.add(2),await E0(r),r.q_.set("Unknown"))}function af(t){return t.K_||(t.K_=function(r,n,i){const a=Ze(r);return a.w_(),new Fz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Vz.bind(null,t),Ro:jz.bind(null,t),mo:Gz.bind(null,t),d_:Hz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),CS(t)?AS(t):t.q_.set("Unknown")):(await t.K_.stop(),W3(t))})),t.K_}function No(t){return t.U_||(t.U_=function(r,n,i){const a=Ze(r);return a.w_(),new Lz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qz.bind(null,t),mo:Yz.bind(null,t),f_:Kz.bind(null,t),g_:Xz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ny(t)):(await t.U_.stop(),t.O_.length>0&&(Ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new IS(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kS(t,e){if(vs("AsyncQueue",`${e}: ${t}`),x0(t))return new Ne(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||je.comparator(r.key,n.key):(r,n)=>je.comparator(r.key,n.key),this.keyedMap=ud(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Jc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Jc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.W_=new tr(je.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Su{constructor(e,r,n,i,a,s,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Su(e,r,Jc.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Zz{constructor(){this.queries=CI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ze(r),a=i.queries;i.queries=CI(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Ne(ge.ABORTED,"Firestore shutting down"))}}function CI(){return new nf(t=>y3(t),Xv)}async function Y3(t,e){const r=Ze(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Qz,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=kS(s,`Initialization of query '${_c(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&PS(r)}async function J3(t,e){const r=Ze(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function eW(t,e){const r=Ze(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(n=!0);s.z_=i}}n&&PS(r)}function tW(t,e,r){const n=Ze(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function PS(t){t.Y_.forEach(e=>{e.next()})}var sw,II;(II=sw||(sw={})).ea="default",II.Cache="cache";class Q3{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Su(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.key=e}}class eL{constructor(e){this.key=e}}class rW{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=st(),this.mutatedKeys=st(),this.Aa=x3(e),this.Ra=new Jc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new AI,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=Yv(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;d&&h?d.data.isEqual(h.data)?y!==v&&(n.track({type:3,doc:h}),_=!0):this.ga(d,h)||(n.track({type:2,doc:h}),_=!0,(l&&this.Aa(h,l)>0||c&&this.Aa(h,c)<0)&&(o=!0)):!d&&h?(n.track({type:0,doc:h}),_=!0):d&&!h&&(n.track({type:1,doc:d}),_=!0,(l||c)&&(o=!0)),_&&(h?(s=s.add(h),a=v?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,f)=>function(h,y){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return v(h)-v(y)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new Su(this.query,e.Ra,a,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new AI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=st(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new eL(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Z3(n))}),r}ba(e){this.Ta=e.Ts,this.da=st();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Su.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class iW{constructor(e){this.key=e,this.va=!1}}class aW{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new nf(o=>y3(o),Xv),this.Ma=new Map,this.xa=new Set,this.Oa=new tr(je.comparator),this.Na=new Map,this.La=new wS,this.Ba={},this.ka=new Map,this.qa=Tu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sW(t,e,r=!0){const n=sL(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await tL(n,e,r,!0),i}async function oW(t,e){const r=sL(t);await tL(r,e,!0,!1)}async function tL(t,e,r,n){const i=await kz(t.localStore,Ca(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await lW(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&H3(t.remoteStore,i),o}async function lW(t,e,r,n,i){t.Ka=(f,d,h)=>async function(v,_,w,T){let E=_.view.ma(w);E.ns&&(E=await EI(v.localStore,_.query,!1).then(({documents:S})=>_.view.ma(S,E)));const k=T&&T.targetChanges.get(_.targetId),A=T&&T.targetMismatches.get(_.targetId)!=null,C=_.view.applyChanges(E,v.isPrimaryClient,k,A);return PI(v,_.targetId,C.wa),C.snapshot}(t,f,d,h);const a=await EI(t.localStore,e,!0),s=new rW(e,a.Ts),o=s.ma(a.documents),l=w0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);PI(t,r,c.wa);const u=new nW(e,r,s);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function cW(t,e,r){const n=Ze(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Xv(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await aw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&SS(n.remoteStore,i.targetId),ow(n,i.targetId)}).catch(y0)):(ow(n,i.targetId),await aw(n.localStore,i.targetId,!0))}async function uW(t,e){const r=Ze(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),SS(r.remoteStore,n.targetId))}async function fW(t,e,r){const n=yW(t);try{const i=await function(s,o){const l=Ze(s),c=Pr.now(),u=o.reduce((h,y)=>h.add(y.key),st());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=ys(),v=st();return l.cs.getEntries(h,u).next(_=>{y=_,y.forEach((w,T)=>{T.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,y)).next(_=>{f=_;const w=[];for(const T of o){const E=OH(T,f.get(T.key).overlayedDocument);E!=null&&w.push(new Lo(T.key,E,f3(E.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,w,o)}).next(_=>{d=_;const w=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(h,_.batchId,w)})}).then(()=>({batchId:d.batchId,changes:w3(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new tr(xt)),c=c.insert(o,l),s.Ba[s.currentUser.toKey()]=c}(n,i.batchId,r),await T0(n,i.changes),await ny(n.remoteStore)}catch(i){const a=kS(i,"Failed to persist write");r.reject(a)}}async function rL(t,e){const r=Ze(t);try{const n=await Az(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?bt(s.va):i.removedDocuments.size>0&&(bt(s.va),s.va=!1))}),await T0(r,n,e)}catch(n){await y0(n)}}function kI(t,e,r){const n=Ze(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ze(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const d of f.j_)d.Z_(o)&&(c=!0)}),c&&PS(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function dW(t,e,r){const n=Ze(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new tr(je.comparator);s=s.insert(a,vn.newNoDocument(a,Je.min()));const o=st().add(a),l=new ey(Je.min(),new Map,new tr(xt),s,o);await rL(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),NS(n)}else await aw(n.localStore,e,!1).then(()=>ow(n,e,r)).catch(y0)}async function hW(t,e){const r=Ze(t),n=e.batch.batchId;try{const i=await bz(r.localStore,e);iL(r,n,null),nL(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await T0(r,i)}catch(i){await y0(i)}}async function pW(t,e,r){const n=Ze(t);try{const i=await function(s,o){const l=Ze(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(bt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);iL(n,e,r),nL(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await T0(n,i)}catch(i){await y0(i)}}function nL(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function iL(t,e,r){const n=Ze(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function ow(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||aL(t,n)})}function aL(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(SS(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),NS(t))}function PI(t,e,r){for(const n of r)n instanceof Z3?(t.La.addReference(n.key,e),mW(t,n)):n instanceof eL?(Ve("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||aL(t,n.key)):Xe()}function mW(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ve("SyncEngine","New document in limbo: "+r),t.xa.add(n),NS(t))}function NS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new je(Mt.fromString(e)),n=t.qa.next();t.Na.set(n,new iW(r)),t.Oa=t.Oa.insert(r,n),H3(t.remoteStore,new ao(Ca(mS(r.path)),n,"TargetPurposeLimboResolution",uS.oe))}}async function T0(t,e,r){const n=Ze(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{s.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=TS.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(l,c){const u=Ze(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ye.forEach(c,d=>ye.forEach(d.$i,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>ye.forEach(d.Ui,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!x0(f))throw f;Ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const h=u.os.get(d),y=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(d,v)}}}(n.localStore,a))}async function gW(t,e){const r=Ze(t);if(!r.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const n=await B3(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new Ne(ge.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await T0(r,n.hs)}}function vW(t,e){const r=Ze(t),n=r.Na.get(e);if(n&&n.va)return st().add(n.key);{let i=st();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const o=r.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function sL(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dW.bind(null,e),e.Ca.d_=eW.bind(null,e.eventManager),e.Ca.$a=tW.bind(null,e.eventManager),e}function yW(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pW.bind(null,e),e}class rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Sz(this.persistence,new Ez,e.initialUser,this.serializer)}Ga(e){return new xz(ES.Zr,this.serializer)}Wa(e){return new Nz}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rg.provider={build:()=>new rg};class lw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>kI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gW.bind(null,this.syncEngine),await Jz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zz}()}createDatastore(e){const r=ty(e.databaseInfo.databaseId),n=function(a){return new Dz(a)}(e.databaseInfo);return function(a,s,o,l){return new Uz(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new Bz(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>kI(this.syncEngine,r,0),function(){return SI.D()?new SI:new Rz}())}createSyncEngine(e,r){return function(i,a,s,o,l,c,u){const f=new aW(i,a,s,o,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ze(i);Ve("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await E0(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}lw.provider={build:()=>new lw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=l3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=kS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function i1(t,e){t.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await B3(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await _W(t);Ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>bI(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>bI(e.remoteStore,i)),t._onlineComponents=e}async function _W(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await i1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;yu("Error using user provided cache. Falling back to memory cache: "+r),await i1(t,new rg)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),await i1(t,new rg);return t._offlineComponents}async function lL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),await NI(t,t._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),await NI(t,new lw))),t._onlineComponents}function wW(t){return lL(t).then(e=>e.syncEngine)}async function cw(t){const e=await lL(t),r=e.eventManager;return r.onListen=sW.bind(null,e.syncEngine),r.onUnlisten=cW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=oW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=uW.bind(null,e.syncEngine),r}function EW(t,e,r={}){const n=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new oL({next:d=>{u.Za(),s.enqueueAndForget(()=>J3(a,f)),d.fromCache&&l.source==="server"?c.reject(new Ne(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new Q3(o,u,{includeMetadataChanges:!0,_a:!0});return Y3(a,f)}(await cw(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e,r){if(!r)throw new Ne(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TW(t,e,r,n){if(e===!0&&n===!0)throw new Ne(ge.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function OI(t){if(!je.isDocumentKey(t))throw new Ne(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MI(t){if(je.isDocumentKey(t))throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=iy(t);throw new Ne(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function SW(t,e){if(e<=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ne(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cL((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ay{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new VG;switch(n.type){case"firstParty":return new zG(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ne(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=RI.get(r);n&&(Ve("ComponentProvider","Removing Datastore"),RI.delete(r),n.terminate())}(this),Promise.resolve()}}function bW(t,e,r,n={}){var i;const a=(t=fi(t,ay))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=pn.MOCK_USER;else{o=m7(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Ne(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(c)}t._authCredentials=new jG(new o3(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Ln{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class To extends La{constructor(e,r,n){super(e,r,mS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new je(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function tt(t,e,...r){if(t=Rr(t),uL("collection","path",e),t instanceof ay){const n=Mt.fromString(e,...r);return MI(n),new To(t,null,n)}{if(!(t instanceof Ln||t instanceof To))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Mt.fromString(e,...r));return MI(n),new To(t.firestore,null,n)}}function yt(t,e,...r){if(t=Rr(t),arguments.length===1&&(e=l3.newId()),uL("doc","path",e),t instanceof ay){const n=Mt.fromString(e,...r);return OI(n),new Ln(t,null,new je(n))}{if(!(t instanceof Ln||t instanceof To))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Mt.fromString(e,...r));return OI(n),new Ln(t.firestore,t instanceof To?t.converter:null,new je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new j3(this,"async_queue_retry"),this.Vu=()=>{const n=n1();n&&Ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=n1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=n1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Eo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!x0(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(n);throw vs("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=IS.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function LI(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class xs extends ay{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new FI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FI(e),this._firestoreClient=void 0,await e}}}function AW(t,e){const r=typeof t=="object"?t:QF(),n=typeof t=="string"?t:"(default)",i=lS(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=h7("firestore");a&&bW(i,...a)}return i}function sy(t){if(t._terminated)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CW(t),t._firestoreClient}function CW(t){var e,r,n;const i=t._freezeSettings(),a=function(o,l,c,u){return new iH(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xW(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bu(sn.fromBase64String(e))}catch(r){throw new Ne(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new bu(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ne(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ne(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ne(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=/^__.*__$/;class kW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,r,this.fieldTransforms):new _0(e,this.data,r,this.fieldTransforms)}}class fL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Lo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function dL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class MS{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new MS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ng(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(dL(this.Cu)&&IW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class PW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ty(e)}Qu(e,r,n,i=!1){return new MS({Cu:e,methodName:r,qu:n,path:Qr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(t){const e=t._freezeSettings(),r=ty(t._databaseId);return new PW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function DS(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);LS("Data must be an object, but it was:",s,n);const o=gL(n,s);let l,c;if(a.merge)l=new ci(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const d=uw(e,f,r);if(!s.contains(d))throw new Ne(ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);yL(u,d)||u.push(d)}l=new ci(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new kW(new qn(o),l,c)}class ly extends oy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ly}}class FS extends oy{_toFieldTransform(e){return new kH(e.path,new mh)}isEqual(e){return e instanceof FS}}function hL(t,e,r,n){const i=t.Qu(1,e,r);LS("Data must be an object, but it was:",i,n);const a=[],s=qn.empty();ql(n,(l,c)=>{const u=US(e,l,r);c=Rr(c);const f=i.Nu(u);if(c instanceof ly)a.push(u);else{const d=b0(c,f);d!=null&&(a.push(u),s.set(u,d))}});const o=new ci(a);return new fL(s,o,i.fieldTransforms)}function pL(t,e,r,n,i,a){const s=t.Qu(1,e,r),o=[uw(e,n,r)],l=[i];if(a.length%2!=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)o.push(uw(e,a[d])),l.push(a[d+1]);const c=[],u=qn.empty();for(let d=o.length-1;d>=0;--d)if(!yL(c,o[d])){const h=o[d];let y=l[d];y=Rr(y);const v=s.Nu(h);if(y instanceof ly)c.push(h);else{const _=b0(y,v);_!=null&&(c.push(h),u.set(h,_))}}const f=new ci(c);return new fL(u,f,s.fieldTransforms)}function mL(t,e,r,n=!1){return b0(r,t.Qu(n?4:3,e))}function b0(t,e){if(vL(t=Rr(t)))return LS("Unsupported field value:",e,t),gL(t,e);if(t instanceof oy)return function(n,i){if(!dL(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=b0(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Rr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AH(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Pr.fromDate(n);return{timestampValue:eg(i.serializer,a)}}if(n instanceof Pr){const a=new Pr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:eg(i.serializer,a)}}if(n instanceof RS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bu)return{bytesValue:O3(i.serializer,n._byteString)};if(n instanceof Ln){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_S(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof OS)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return vS(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${iy(n)}`)}(t,e)}function gL(t,e){const r={};return c3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(t,(n,i)=>{const a=b0(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function vL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pr||t instanceof RS||t instanceof bu||t instanceof Ln||t instanceof oy||t instanceof OS)}function LS(t,e,r){if(!vL(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=iy(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function uw(t,e,r){if((e=Rr(e))instanceof S0)return e._internalPath;if(typeof e=="string")return US(t,e);throw ng("Field path arguments must be of type string or ",t,!1,void 0,r)}const NW=new RegExp("[~\\*/\\[\\]]");function US(t,e,r){if(e.search(NW)>=0)throw ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new S0(...e.split("."))._internalPath}catch{throw ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ng(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Ne(ge.INVALID_ARGUMENT,o+t+l)}function yL(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class RW extends $S{data(){return super.data()}}function cy(t,e){return typeof e=="string"?US(t,e):e instanceof S0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BS{}class uy extends BS{}function xl(t,e,...r){let n=[];e instanceof BS&&n.push(e),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof VS).length,o=a.filter(l=>l instanceof fy).length;if(s>1||s>0&&o>0)throw new Ne(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class fy extends uy{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new fy(e,r,n)}_apply(e){const r=this._parse(e);return _L(e._query,r),new La(e.firestore,e.converter,ew(e._query,r))}_parse(e){const r=sf(e.firestore);return function(a,s,o,l,c,u,f){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$I(f,u);const h=[];for(const y of f)h.push(UI(l,a,y));d={arrayValue:{values:h}}}else d=UI(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$I(f,u),d=mL(o,s,f,u==="in"||u==="not-in");return wr.create(c,u,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function a1(t,e,r){const n=e,i=cy("where",t);return fy._create(i,n,r)}class VS extends BS{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new VS(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:da.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)_L(s,l),s=ew(s,l)}(e._query,r),new La(e.firestore,e.converter,ew(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jS extends uy{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new jS(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ph(a,s)}(e._query,this._field,this._direction);return new La(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Kl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function OW(t,e="asc"){const r=e,n=cy("orderBy",t);return jS._create(n,r)}class GS extends uy{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new GS(e,r,n)}_apply(e){return new La(e.firestore,e.converter,Qm(e._query,this._limit,this._limitType))}}function MW(t){return SW("limit",t),GS._create("limit",t,"F")}class HS extends uy{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new HS(e,r,n)}_apply(e){const r=FW(e,this.type,this._docOrFields,this._inclusive);return new La(e.firestore,e.converter,function(i,a){return new Kl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,r))}}function DW(...t){return HS._create("startAfter",t,!1)}function FW(t,e,r,n){if(r[0]=Rr(r[0]),r[0]instanceof $S)return function(a,s,o,l,c){if(!l)throw new Ne(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of Yc(a))if(f.field.isKeyField())u.push(Jm(s,l.key));else{const d=l.data.field(f.field);if(Kv(d))throw new Ne(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=f.field.canonicalString();throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new Eu(u,c)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=sf(t.firestore);return function(s,o,l,c,u,f){const d=s.explicitOrderBy;if(u.length>d.length)throw new Ne(ge.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let y=0;y<u.length;y++){const v=u[y];if(d[y].field.isKeyField()){if(typeof v!="string")throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!gS(s)&&v.indexOf("/")!==-1)throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const _=s.path.child(Mt.fromString(v));if(!je.isDocumentKey(_))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const w=new je(_);h.push(Jm(o,w))}else{const _=mL(l,c,v);h.push(_)}}return new Eu(h,f)}(t._query,t.firestore._databaseId,i,e,r,n)}}function UI(t,e,r){if(typeof(r=Rr(r))=="string"){if(r==="")throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gS(e)&&r.indexOf("/")!==-1)throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Mt.fromString(r));if(!je.isDocumentKey(n))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Jm(t,new je(n))}if(r instanceof Ln)return Jm(t,r._key);throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iy(r)}.`)}function $I(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _L(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ne(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class LW{convertValue(e,r="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ql(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>dr(s.doubleValue));return new OS(a)}convertGeoPoint(e){return new RS(dr(e.latitude),dr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=fS(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){const r=Po(e);return new Pr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Mt.fromString(e);bt($3(n));const i=new dh(n.get(1),n.get(3)),a=new je(n.popFirst(5));return i.isEqual(r)||vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wL extends $S{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class gm extends wL{data(e={}){return super.data(e)}}class EL{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new dd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new gm(this._firestore,this._userDataWriter,n.key,n,new dd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new gm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new dd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new gm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new dd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:UW(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function UW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class WS extends LW{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,r)}}function sa(t){t=fi(t,La);const e=fi(t.firestore,xs),r=sy(e),n=new WS(e);return xL(t._query),EW(r,t._query).then(i=>new EL(e,n,t,i))}function $W(t,e,r){t=fi(t,Ln);const n=fi(t.firestore,xs),i=zS(t.converter,e,r);return A0(n,[DS(sf(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Fn.none())])}function Hn(t,e,r,...n){t=fi(t,Ln);const i=fi(t.firestore,xs),a=sf(i);let s;return s=typeof(e=Rr(e))=="string"||e instanceof S0?pL(a,"updateDoc",t._key,e,r,n):hL(a,"updateDoc",t._key,e),A0(i,[s.toMutation(t._key,Fn.exists(!0))])}function Gn(t){return A0(fi(t.firestore,xs),[new Zv(t._key,Fn.none())])}function Fr(t,e){const r=fi(t.firestore,xs),n=yt(t),i=zS(t.converter,e);return A0(r,[DS(sf(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Fn.exists(!1))]).then(()=>n)}function yi(t,...e){var r,n,i;t=Rr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||LI(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(LI(e[s])){const f=e[s];e[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof Ln)c=fi(t.firestore,xs),u=mS(t._key.path),l={next:f=>{e[s]&&e[s](BW(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=fi(t,La);c=fi(f.firestore,xs),u=f._query;const d=new WS(c);l={next:h=>{e[s]&&e[s](new EL(c,d,f,h))},error:e[s+1],complete:e[s+2]},xL(t._query)}return function(d,h,y,v){const _=new oL(v),w=new Q3(h,_,y);return d.asyncQueue.enqueueAndForget(async()=>Y3(await cw(d),w)),()=>{_.Za(),d.asyncQueue.enqueueAndForget(async()=>J3(await cw(d),w))}}(sy(c),u,o,l)}function A0(t,e){return function(n,i){const a=new Eo;return n.asyncQueue.enqueueAndForget(async()=>fW(await wW(n),i,a)),a.promise}(sy(t),e)}function BW(t,e,r){const n=r.docs.get(e._key),i=new WS(t);return new wL(t,i,e._key,n,new dd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=sf(e)}set(e,r,n){this._verifyNotCommitted();const i=s1(e,this._firestore),a=zS(i.converter,r,n),s=DS(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Fn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=s1(e,this._firestore);let s;return s=typeof(r=Rr(r))=="string"||r instanceof S0?pL(this._dataReader,"WriteBatch.update",a._key,r,n,i):hL(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=s1(e,this._firestore);return this._mutations=this._mutations.concat(new Zv(r._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s1(t,e){if((t=Rr(t)).firestore!==e)throw new Ne(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function jW(){return new FS("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){return sy(t=fi(t,xs)),new VW(t,e=>A0(t,e))}(function(e,r=!0){(function(i){rf=i})(tf),vu(new Nl("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new xs(new GG(n.getProvider("auth-internal")),new qG(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ne(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(c.options.projectId,u)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),wo(tI,"4.7.3",e),wo(tI,"4.7.3","esm2017")})();function qS(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function SL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GW=SL,bL=new g0("auth","Firebase",SL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new sS("@firebase/auth");function HW(t,...e){ig.logLevel<=lt.WARN&&ig.warn(`Auth (${tf}): ${t}`,...e)}function vm(t,...e){ig.logLevel<=lt.ERROR&&ig.error(`Auth (${tf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,...e){throw KS(t,...e)}function ka(t,...e){return KS(t,...e)}function AL(t,e,r){const n=Object.assign(Object.assign({},GW()),{[e]:r});return new g0("auth","Firebase",n).create(e,{appName:t.name})}function _l(t){return AL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KS(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return bL.create(t,...e)}function Ke(t,e,...r){if(!t)throw KS(e,...r)}function Za(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vm(e),new Error(e)}function ws(t,e){t||Za(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zW(){return BI()==="http:"||BI()==="https:"}function BI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zW()||x7()||"connection"in navigator)?navigator.onLine:!0}function qW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r){this.shortDelay=e,this.longDelay=r,ws(r>e,"Short delay should be less than long delay!"),this.isMobile=g7()||_7()}get(){return WW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){ws(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=new C0(3e4,6e4);function YS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function of(t,e,r,n,i={}){return IL(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=v0(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return y7()||(c.referrerPolicy="no-referrer"),CL.fetch()(kL(t,t.config.apiHost,r,o),c)})}async function IL(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},KW),e);try{const i=new JW(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw bp(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw bp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw bp(t,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AL(t,u,c);_s(t,u)}}catch(i){if(i instanceof Ps)throw i;_s(t,"network-request-failed",{message:String(i)})}}async function YW(t,e,r,n,i={}){const a=await of(t,e,r,n,i);return"mfaPendingCredential"in a&&_s(t,"multi-factor-auth-required",{_serverResponse:a}),a}function kL(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?XS(t.config,i):`${t.config.apiScheme}://${i}`}class JW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ka(this.auth,"network-request-failed")),XW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ka(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QW(t,e){return of(t,"POST","/v1/accounts:delete",e)}async function PL(t,e){return of(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZW(t,e=!1){const r=Rr(t),n=await r.getIdToken(e),i=JS(n);Ke(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Nd(o1(i.auth_time)),issuedAtTime:Nd(o1(i.iat)),expirationTime:Nd(o1(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function o1(t){return Number(t)*1e3}function JS(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return vm("JWT malformed, contained fewer than 3 sections"),null;try{const i=zF(r);return i?JSON.parse(i):(vm("Failed to decode base64 JWT payload"),null)}catch(i){return vm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VI(t){const e=JS(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ps&&eq(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function eq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nd(this.lastLoginAt),this.creationTime=Nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(t){var e;const r=t.auth,n=await t.getIdToken(),i=await yh(t,PL(r,{idToken:n}));Ke(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NL(a.providerUserInfo):[],o=nq(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new dw(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function rq(t){const e=Rr(t);await ag(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nq(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function NL(t){return t.map(e=>{var{providerId:r}=e,n=qS(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iq(t,e){const r=await IL(t,{},async()=>{const n=v0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=kL(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",CL.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function aq(t,e){return of(t,"POST","/v2/accounts:revokeToken",YS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=VI(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await iq(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Qc;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qc,this.toJSON())}_performRefresh(){return Za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=qS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await yh(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return ZW(this,e)}reload(){return rq(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ag(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(io(this.auth.app))return Promise.reject(_l(this.auth));const e=await this.getIdToken();return await yh(this,QW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,o,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,h=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=r.photoURL)!==null&&s!==void 0?s:void 0,v=(o=r.tenantId)!==null&&o!==void 0?o:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=r.createdAt)!==null&&c!==void 0?c:void 0,T=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:k,isAnonymous:A,providerData:C,stsTokenManager:S}=r;Ke(E&&S,e,"internal-error");const I=Qc.fromJSON(this.name,S);Ke(typeof E=="string",e,"internal-error"),Gs(f,e.name),Gs(d,e.name),Ke(typeof k=="boolean",e,"internal-error"),Ke(typeof A=="boolean",e,"internal-error"),Gs(h,e.name),Gs(y,e.name),Gs(v,e.name),Gs(_,e.name),Gs(w,e.name),Gs(T,e.name);const b=new es({uid:E,auth:e,email:d,emailVerified:k,displayName:f,isAnonymous:A,photoURL:y,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:w,lastLoginAt:T});return C&&Array.isArray(C)&&(b.providerData=C.map(N=>Object.assign({},N))),_&&(b._redirectEventId=_),b}static async _fromIdTokenResponse(e,r,n=!1){const i=new Qc;i.updateFromServerResponse(r);const a=new es({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ag(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?NL(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Qc;o.updateFromIdToken(n);const l=new es({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new dw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Map;function ts(t){ws(t instanceof Function,"Expected a class definition");let e=jI.get(t);return e?(ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}RL.type="NONE";const GI=RL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e,r){return`firebase:${t}:${e}:${r}`}class Zc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=ym(this.userKey,i.apiKey,a),this.fullPersistenceKey=ym("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Zc(ts(GI),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ts(GI);const s=ym(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){const f=es._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Zc(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Zc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UL(e))return"Blackberry";if($L(e))return"Webos";if(ML(e))return"Safari";if((e.includes("chrome/")||DL(e))&&!e.includes("edge/"))return"Chrome";if(LL(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function OL(t=bn()){return/firefox\//i.test(t)}function ML(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DL(t=bn()){return/crios\//i.test(t)}function FL(t=bn()){return/iemobile/i.test(t)}function LL(t=bn()){return/android/i.test(t)}function UL(t=bn()){return/blackberry/i.test(t)}function $L(t=bn()){return/webos/i.test(t)}function QS(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sq(t=bn()){var e;return QS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oq(){return w7()&&document.documentMode===10}function BL(t=bn()){return QS(t)||LL(t)||$L(t)||UL(t)||/windows phone/i.test(t)||FL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e=[]){let r;switch(t){case"Browser":r=HI(bn());break;case"Worker":r=`${HI(bn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${tf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cq(t,e={}){return of(t,"GET","/v2/passwordPolicy",YS(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=6;class fq{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:uq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zI(this),this.idTokenSubscription=new zI(this),this.beforeStateQueue=new lq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ts(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Zc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await PL(this,{idToken:e}),n=await es._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(io(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ag(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(io(this.app))return Promise.reject(_l(this));const r=e?Rr(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return io(this.app)?Promise.reject(_l(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return io(this.app)?Promise.reject(_l(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cq(this),r=new fq(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new g0("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await aq(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ts(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await Zc.create(this,[ts(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&HW(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ZS(t){return Rr(t)}class zI{constructor(e){this.auth=e,this.observer=null,this.addObserver=k7(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hq(t){eb=t}function pq(t){return eb.loadJS(t)}function mq(){return eb.gapiScript}function gq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t,e){const r=lS(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Km(a,e??{}))return i;_s(i,"already-initialized")}return r.initialize({options:e})}function yq(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function xq(t,e,r){const n=ZS(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=jL(e),{host:s,port:o}=_q(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${a}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),wq()}function jL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _q(t){const e=jL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:WI(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:WI(s)}}}function WI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wq(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Za("not implemented")}_getIdTokenResponse(e){return Za("not implemented")}_linkToIdToken(e,r){return Za("not implemented")}_getReauthenticationResolver(e){return Za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e){return YW(t,"POST","/v1/accounts:signInWithIdp",YS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="http://localhost";class Dl extends GL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):_s("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=qS(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Dl(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return eu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,eu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,eu(e,r)}buildRequest(){const e={requestUri:Eq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=v0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends HL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends I0{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends I0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Dl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ya.credential(r,n)}catch{return null}}}Ya.GOOGLE_SIGN_IN_METHOD="google.com";Ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends I0{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends I0{constructor(){super("twitter.com")}static credential(e,r){return Dl._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Zs.credential(r,n)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await es._fromIdTokenResponse(e,n,i),s=qI(n);return new Au({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=qI(n);return new Au({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function qI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends Ps{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,sg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new sg(e,r,n,i)}}function zL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(t,a,e,n):a})}async function Tq(t,e,r=!1){const n=await yh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Au._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e,r=!1){const{auth:n}=t;if(io(n.app))return Promise.reject(_l(n));const i="reauthenticate";try{const a=await yh(t,zL(n,i,e,t),r);Ke(a.idToken,n,"internal-error");const s=JS(a.idToken);Ke(s,n,"internal-error");const{sub:o}=s;return Ke(t.uid===o,n,"user-mismatch"),Au._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_s(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e,r=!1){if(io(t.app))return Promise.reject(_l(t));const n="signIn",i=await zL(t,n,e),a=await Au._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function Aq(t,e,r,n){return Rr(t).onIdTokenChanged(e,r,n)}function Cq(t,e,r){return Rr(t).beforeAuthStateChanged(e,r)}const og="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(og,"1"),this.storage.removeItem(og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=1e3,kq=10;class qL extends WL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);oq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kq):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Iq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}qL.type="LOCAL";const Pq=qL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL extends WL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}KL.type="SESSION";const XL=KL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new dy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async c=>c(r.origin,a)),l=await Nq(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=tb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(d.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return window}function Oq(t){Pa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return typeof Pa().WorkerGlobalScope<"u"&&typeof Pa().importScripts=="function"}async function Mq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Fq(){return YL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="firebaseLocalStorageDb",Lq=1,lg="firebaseLocalStorage",QL="fbase_key";class k0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function hy(t,e){return t.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function Uq(){const t=indexedDB.deleteDatabase(JL);return new k0(t).toPromise()}function hw(){const t=indexedDB.open(JL,Lq);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(lg,{keyPath:QL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(lg)?e(n):(n.close(),await Uq(),e(await hw()))})})}async function KI(t,e,r){const n=hy(t,!0).put({[QL]:e,value:r});return new k0(n).toPromise()}async function $q(t,e){const r=hy(t,!1).get(e),n=await new k0(r).toPromise();return n===void 0?null:n.value}function XI(t,e){const r=hy(t,!0).delete(e);return new k0(r).toPromise()}const Bq=800,Vq=3;class ZL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Vq)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dy._getInstance(Fq()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Mq(),!this.activeServiceWorker)return;this.sender=new Rq(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hw();return await KI(e,og,"1"),await XI(e,og),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>KI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>$q(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>XI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hy(i,!1).getAll();return new k0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZL.type="LOCAL";const jq=ZL;new C0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t,e){return e?ts(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends GL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return eu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Hq(t){return bq(t.auth,new rb(t),t.bypassAuthState)}function zq(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),Sq(r,new rb(t),t.bypassAuthState)}async function Wq(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),Tq(r,new rb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hq;case"linkViaPopup":case"linkViaRedirect":return Wq;case"reauthViaPopup":case"reauthViaRedirect":return zq;default:_s(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=new C0(2e3,1e4);class Lc extends e6{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=tb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qq.get())};e()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="pendingRedirect",xm=new Map;class Xq extends e6{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=xm.get(this.auth._key());if(!e){try{const n=await Yq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yq(t,e){const r=Zq(e),n=Qq(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Jq(t,e){xm.set(t._key(),e)}function Qq(t){return ts(t._redirectPersistence)}function Zq(t){return ym(Kq,t.config.apiKey,t.name)}async function eK(t,e,r=!1){if(io(t.app))return Promise.reject(_l(t));const n=ZS(t),i=Gq(n,e),s=await new Xq(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=10*60*1e3;class rK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nK(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!t6(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ka(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tK&&this.cachedEventUids.clear(),this.cachedEventUids.has(YI(e))}saveEventToCache(e){this.cachedEventUids.add(YI(e)),this.lastProcessedEventTime=Date.now()}}function YI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function t6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iK(t,e={}){return of(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sK=/^https?/;async function oK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iK(t);for(const r of e)try{if(lK(r))return}catch{}_s(t,"unauthorized-domain")}function lK(t){const e=fw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!sK.test(r))return!1;if(aK.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new C0(3e4,6e4);function JI(){const t=Pa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function uK(t){return new Promise((e,r)=>{var n,i,a;function s(){JI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JI(),r(ka(t,"network-request-failed"))},timeout:cK.get()})}if(!((i=(n=Pa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Pa().gapi)===null||a===void 0)&&a.load)s();else{const o=gq("iframefcb");return Pa()[o]=()=>{gapi.load?s():r(ka(t,"network-request-failed"))},pq(`${mq()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw _m=null,e})}let _m=null;function fK(t){return _m=_m||uK(t),_m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=new C0(5e3,15e3),hK="__/auth/iframe",pK="emulator/auth/iframe",mK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vK(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?XS(e,pK):`https://${t.config.authDomain}/${hK}`,n={apiKey:e.apiKey,appName:t.name,v:tf},i=gK.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${v0(n).slice(1)}`}async function yK(t){const e=await fK(t),r=Pa().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:vK(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mK,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=ka(t,"network-request-failed"),o=Pa().setTimeout(()=>{a(s)},dK.get());function l(){Pa().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_K=500,wK=600,EK="_blank",TK="http://localhost";class QI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SK(t,e,r,n=_K,i=wK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},xK),{width:n.toString(),height:i.toString(),top:a,left:s}),c=bn().toLowerCase();r&&(o=DL(c)?EK:r),OL(c)&&(e=e||TK,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,y])=>`${d}${h}=${y},`,"");if(sq(c)&&o!=="_self")return bK(e||"",o),new QI(null);const f=window.open(e||"",o,u);Ke(f,t,"popup-blocked");try{f.focus()}catch{}return new QI(f)}function bK(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK="__/auth/handler",CK="emulator/auth/handler",IK=encodeURIComponent("fac");async function ZI(t,e,r,n,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:tf,eventId:i};if(e instanceof HL){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",I7(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof I0){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${IK}=${encodeURIComponent(l)}`:"";return`${kK(t)}?${v0(o).slice(1)}${c}`}function kK({config:t}){return t.emulator?XS(t,CK):`https://${t.authDomain}/${AK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="webStorageSupport";class PK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XL,this._completeRedirectFn=eK,this._overrideRedirectResult=Jq}async _openPopup(e,r,n,i){var a;ws((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await ZI(e,r,n,fw(),i);return SK(e,s,tb())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await ZI(e,r,n,fw(),i);return Oq(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ws(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await yK(e),n=new rK(e);return r.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(l1,{type:l1},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[l1];s!==void 0&&r(!!s),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=oK(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return BL()||ML()||QS()}}const NK=PK;var ek="@firebase/auth",tk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MK(t){vu(new Nl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VL(t)},c=new dq(n,i,a,l);return yq(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),vu(new Nl("auth-internal",e=>{const r=ZS(e.getProvider("auth").getImmediate());return(n=>new RK(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(ek,tk,OK(t)),wo(ek,tk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=5*60,FK=KF("authIdTokenMaxAge")||DK;let rk=null;const LK=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>FK)return;const i=r==null?void 0:r.token;rk!==i&&(rk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UK(t=QF()){const e=lS(t,"auth");if(e.isInitialized())return e.getImmediate();const r=vq(t,{popupRedirectResolver:NK,persistence:[jq,Pq,XL]}),n=KF("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=LK(a.toString());Cq(r,s,()=>s(r.currentUser)),Aq(r,o=>s(o))}}const i=WF("auth");return i&&xq(r,`http://${i}`),r}function $K(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hq({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ka("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",$K().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MK("Browser");var mc={};const BK={apiKey:mc.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:mc.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:mc.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:mc.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:mc.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:mc.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},r6=JF(BK),Re=AW(r6);UK(r6);new Ya;const n6=re.createContext(void 0),VK=({children:t})=>{const[e,r]=re.useState([]),[n,i]=re.useState([]),[a,s]=re.useState([]),[o,l]=re.useState([]),[c,u]=re.useState([]),[f,d]=re.useState([]),[h,y]=re.useState([]),[v,_]=re.useState([]),[w,T]=re.useState([]),[E,k]=re.useState([]),[A,C]=re.useState([]),[S,I]=re.useState([]),[b,N]=re.useState([]),[O,R]=re.useState([]),[D,J]=re.useState([]),[X,te]=re.useState(!0),[Z,ee]=re.useState(null);re.useEffect(()=>{const ve=[yi(tt(Re,"products"),ke=>r(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"clients"),ke=>i(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"suppliers"),ke=>s(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"priceLists"),ke=>u(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"branches"),ke=>d(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"users"),ke=>k(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"salesZones"),ke=>T(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"sales"),ke=>C(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"remitos"),ke=>I(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"boxes"),ke=>N(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"brands"),ke=>R(ke.docs.map($e=>({id:$e.id,...$e.data()})))),yi(tt(Re,"categories"),ke=>J(ke.docs.map($e=>({id:$e.id,...$e.data()}))))];return te(!1),()=>ve.forEach(ke=>ke())},[]);const z=re.useCallback(async ve=>{let ke=xl(tt(Re,"products"),OW(ve.orderByField||"name",ve.orderDirection||"asc"));ve.startAfterDoc&&(ke=xl(ke,DW(ve.startAfterDoc))),ke=xl(ke,MW(ve.limit));const $e=await sa(ke);return{products:$e.docs.map(Dr=>({id:Dr.id,...Dr.data()})),lastVisible:$e.docs[$e.docs.length-1],hasMore:$e.docs.length===ve.limit}},[]),ie=async ve=>e.find(ke=>ke.id===ve)||null,me=async ve=>{await Fr(tt(Re,"products"),ve)},U=async(ve,ke)=>{await Hn(yt(Re,"products",ve),ke)},q=async ve=>{await Gn(yt(Re,"products",ve))},Y=async ve=>(await Fr(tt(Re,"sales"),ve)).id,K=async ve=>A.find(ke=>ke.id===ve)||null,de=async ve=>{await Fr(tt(Re,"clients"),ve)},xe=async(ve,ke)=>{await Hn(yt(Re,"clients",ve),ke)},be=async ve=>{await Gn(yt(Re,"clients",ve))},oe=async ve=>{await Fr(tt(Re,"suppliers"),ve)},ue=async(ve,ke)=>{await Hn(yt(Re,"suppliers",ve),ke)},Ie=async ve=>{await Gn(yt(Re,"suppliers",ve))},L=async ve=>{await Fr(tt(Re,"priceLists"),ve)},He=async(ve,ke)=>{await Hn(yt(Re,"priceLists",ve),ke)},Me=async ve=>{await Gn(yt(Re,"priceLists",ve))},Ge=async ve=>{await Fr(tt(Re,"branches"),ve)},Be=async(ve,ke)=>{await Hn(yt(Re,"branches",ve),ke)},we=async ve=>{await Gn(yt(Re,"branches",ve))},ut=async ve=>{await Fr(tt(Re,"orders"),ve)},Gt=async(ve,ke)=>{await Hn(yt(Re,"orders",ve),ke)},ur=async ve=>{await Gn(yt(Re,"orders",ve))},rr=async ve=>{await Fr(tt(Re,"installmentPlans"),ve)},zr=async(ve,ke)=>{await Hn(yt(Re,"installmentPlans",ve),ke)},Mr=async ve=>{await Gn(yt(Re,"installmentPlans",ve))},nr=async ve=>{await Fr(tt(Re,"transactions"),ve)},Wr=async ve=>{await Fr(tt(Re,"users"),ve)},It=async(ve,ke)=>{await Hn(yt(Re,"users",ve),ke)},Xt=async ve=>{await Gn(yt(Re,"users",ve))},ir=async ve=>{await Fr(tt(Re,"salesZones"),ve)},In=async(ve,ke)=>{await Hn(yt(Re,"salesZones",ve),ke)},et=async ve=>{await Gn(yt(Re,"salesZones",ve))},Lt=async ve=>(await Fr(tt(Re,"remitos"),ve)).id,pr=async(ve,ke)=>{await Hn(yt(Re,"remitos",ve),ke)},Ht=async ve=>{await Gn(yt(Re,"remitos",ve))},vi=async ve=>S.find(ke=>ke.id===ve)||null,Ls=async ve=>{await Fr(tt(Re,"boxes"),ve)},kf=async(ve,ke)=>{await Hn(yt(Re,"boxes",ve),ke)},Pf=async ve=>{await Gn(yt(Re,"boxes",ve))},Us=async ve=>{await Fr(tt(Re,"brands"),ve)},zo=async(ve,ke)=>{await Hn(yt(Re,"brands",ve),ke)},Wo=async ve=>{await Gn(yt(Re,"brands",ve))},Va=async ve=>{await Fr(tt(Re,"categories"),ve)},qo=async(ve,ke)=>{await Hn(yt(Re,"categories",ve),ke)},ma=async ve=>{await Gn(yt(Re,"categories",ve))},Gi=async ve=>{const ke={};for(const $e of ve){const Ga=await sa(tt(Re,$e));ke[$e]=Ga.docs.map(Dr=>({id:Dr.id,...Dr.data()}))}return ke},lc=async ve=>{for(const[ke,$e]of Object.entries(ve)){await ja(ke);for(const Ga of $e){const{id:Dr,...ga}=Ga;Dr?await $W(yt(Re,ke,Dr),ga):await Fr(tt(Re,ke),ga)}}},ja=async ve=>{const ke=await sa(tt(Re,ve));for(const $e of ke.docs)await Gn($e.ref)},cc=re.useMemo(()=>({products:e,clients:n,suppliers:a,transactions:o,priceLists:c,branches:f,orders:h,installmentPlans:v,users:E,loading:X,error:Z,salesZones:w,sales:A,remitos:S,boxes:b,brands:O,categories:D,fetchProductsPaginatedAndFiltered:z,getProductById:ie,addProduct:me,updateProduct:U,deleteProduct:q,addSale:Y,getSaleById:K,addClient:de,updateClient:xe,deleteClient:be,addSupplier:oe,updateSupplier:ue,deleteSupplier:Ie,addPriceList:L,updatePriceList:He,deletePriceList:Me,addBranch:Ge,updateBranch:Be,deleteBranch:we,addOrder:ut,updateOrder:Gt,deleteOrder:ur,addInstallmentPlan:rr,updateInstallmentPlan:zr,deleteInstallmentPlan:Mr,addTransaction:nr,exportAllData:Gi,importAllData:lc,deleteAllDocumentsInCollection:ja,addUser:Wr,updateUser:It,deleteUser:Xt,addSalesZone:ir,updateSalesZone:In,deleteSalesZone:et,addRemito:Lt,updateRemito:pr,deleteRemito:Ht,getRemitoById:vi,addBox:Ls,updateBox:kf,deleteBox:Pf,addBrand:Us,updateBrand:zo,deleteBrand:Wo,addCategory:Va,updateCategory:qo,deleteCategory:ma}),[e,n,a,o,c,f,h,v,E,X,Z,w,A,S,b,O,D]);return x.jsx(n6.Provider,{value:cc,children:t})},i6=()=>{const t=re.useContext(n6);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(t,e)=>{const r=re.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>re.createElement("svg",{ref:u,...jK,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${GK(t)}`,o].join(" "),...c},[...e.map(([f,d])=>re.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=De("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=De("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=De("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=De("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=De("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=De("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=De("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=De("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=De("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=De("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=De("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=De("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=De("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=De("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=De("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=De("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=De("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=De("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=De("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=De("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=De("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=De("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=De("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=De("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=De("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=De("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=De("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=De("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=De("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=De("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=De("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),gX=({activeTab:t,setActiveTab:e,companyInfo:r,currentUser:n,onLogout:i})=>{var s;const a=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:f6}]},{title:"Comercial",items:[{id:"sales",label:"Ventas",icon:ub},{id:"quotes",label:"Cotizaciones",icon:Cu},{id:"clients",label:"Clientes",icon:N0},{id:"ecommerce",label:"E-Commerce",icon:my}]},{title:"Productos & Stock",items:[{id:"inventory",label:"Inventario",icon:ab},{id:"stock-adjustment",label:"Ajuste de Stock",icon:sb},{id:"suppliers",label:"Proveedores",icon:db},{id:"catalog-config",label:"Marcas & Rubros",icon:p6}]},{title:"Administracin",items:[{id:"cashier",label:"Cajas y Pagos",icon:pw},{id:"reports",label:"Informes e IVA",icon:nb}]},{title:"Sistema",items:[{id:"users",label:"Personal",icon:lb},{id:"settings",label:"Configuracin",icon:ob},{id:"backup",label:"Backup",icon:py}]}];return x.jsxs("div",{className:"w-72 bg-slate-950 h-full flex flex-col text-slate-400 border-r border-slate-900 shadow-2xl relative z-20",children:[x.jsx("div",{className:"p-8",children:x.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-[2rem] border border-white/5 shadow-inner",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-orange-900/20 rotate-3",children:x.jsx(cb,{className:"text-white",size:24})}),x.jsxs("div",{className:"overflow-hidden text-left",children:[x.jsx("h1",{className:"text-white font-black text-sm truncate uppercase tracking-tighter italic",children:(r==null?void 0:r.name)||"FerroGest"}),x.jsx("p",{className:"text-[9px] font-black text-orange-500 uppercase tracking-[0.2em] opacity-80",children:"ERP v4.0"})]})]})}),x.jsx("nav",{className:"flex-1 px-4 space-y-8 overflow-y-auto custom-scrollbar pb-10 text-left",children:a.map(o=>x.jsxs("div",{className:"space-y-3",children:[x.jsx("h3",{className:"px-4 text-[9px] font-black text-slate-600 uppercase tracking-[0.3em] opacity-50",children:o.title}),x.jsx("div",{className:"space-y-1",children:o.items.map(l=>{const c=l.icon,u=t===l.id;return x.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all duration-300 group ${u?"bg-orange-600 text-white shadow-xl shadow-orange-900/40 translate-x-1":"hover:bg-white/5 hover:text-slate-200"}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(c,{size:18,strokeWidth:u?3:2,className:u?"text-white":"text-slate-500 group-hover:text-orange-500 transition-colors"}),x.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${u?"text-white":""}`,children:l.label})]}),u&&x.jsx(ib,{size:14,className:"animate-pulse"})]},l.id)})})]},o.title))}),x.jsxs("div",{className:"p-6 bg-black/20 border-t border-white/5",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-black text-xs text-orange-500 border-2 border-slate-700",children:((s=n==null?void 0:n.name)==null?void 0:s.substring(0,2).toUpperCase())||"AD"}),x.jsxs("div",{className:"overflow-hidden text-left",children:[x.jsx("p",{className:"text-xs font-black text-white truncate uppercase tracking-tighter",children:(n==null?void 0:n.name)||"Administrador"}),x.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest",children:(n==null?void 0:n.role)||"Master"})]})]}),x.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[x.jsx(d6,{size:16})," Salir del Sistema"]})]})]})},vX={dashboard:{label:"Dashboard",icon:f6},inventory:{label:"Inventario",icon:o6},sales:{label:"Ventas",icon:s6},purchases:{label:"Compras",icon:ub},clients:{label:"Clientes",icon:N0},suppliers:{label:"Proveedores",icon:db},cashier:{label:"Cajas",icon:vy},reports:{label:"Informes",icon:nb},quotes:{label:"Cotizaciones",icon:Cu},ecommerce:{label:"E-Commerce",icon:my},"stock-adjustment":{label:"Ajuste Stock",icon:sb},users:{label:"Personal",icon:hX},settings:{label:"Configuracin",icon:lb},"catalog-config":{label:"Marcas & Rubros",icon:p6},"bulk-import":{label:"Importar",icon:ug},balances:{label:"Saldos",icon:cX},backup:{label:"Backup",icon:py}},yX=({openTabs:t,activeTabId:e,setActiveTabId:r,onCloseTab:n})=>x.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const a=vX[i],s=a==null?void 0:a.icon,o=i===e;return x.jsxs("div",{onClick:()=>r(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${o?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&x.jsx(s,{size:14,className:o?"text-orange-600":"text-slate-400"}),x.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${o?"text-slate-900":"text-slate-500"}`,children:(a==null?void 0:a.label)||i}),i!=="dashboard"&&x.jsx("button",{onClick:l=>{l.stopPropagation(),n(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:x.jsx(Es,{size:12})})]},i)})}),xX=({onLoginSuccess:t})=>{const[e,r]=re.useState("employee"),[n,i]=re.useState(""),[a,s]=re.useState(""),[o,l]=re.useState(""),[c,u]=re.useState(!1),[f,d]=re.useState(null),h="admin",y="admin123",v=async w=>{w.preventDefault(),u(!0),d(null);const T=n.trim(),E=a.trim();try{if(T.toLowerCase()===h&&E===y){t("admin","Administrador Maestro");return}if(!T.includes("@")||!T.includes(".")){d("El formato del usuario debe ser un correo electrnico vlido."),u(!1);return}const k=tt(Re,"users"),A=xl(k,a1("email","==",T),a1("password","==",E)),C=await sa(A);if(C.empty)d("Credenciales de empleado incorrectas.");else{const S=C.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(k){d(`Error de conexin: ${k.message}`)}finally{u(!1)}},_=async w=>{w.preventDefault(),u(!0),d(null);const T=o.trim();if(!T){d("Por favor ingrese su CUIT o DNI."),u(!1);return}try{const E=tt(Re,"clients"),k=xl(E,a1("cuit","==",T)),A=await sa(k);if(A.empty)d("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const C={id:A.docs[0].id,...A.docs[0].data()};t("customer",C.name,C)}}catch{d("Error al validar cliente.")}finally{u(!1)}};return x.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[x.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),x.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),x.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:x.jsx(cb,{className:"w-10 h-10"})}),x.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),x.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),x.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[x.jsxs("button",{onClick:()=>{r("employee"),d(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[x.jsx(fg,{className:"w-4 h-4"})," Personal"]}),x.jsxs("button",{onClick:()=>{r("customer"),d(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[x.jsx(c1,{className:"w-4 h-4"})," Portal Clientes"]})]}),f&&x.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[x.jsx(Es,{className:"w-5 h-5 text-red-600"}),x.jsx("span",{className:"font-bold text-xs uppercase",children:f})]}),e==="employee"?x.jsxs("form",{onSubmit:v,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),x.jsxs("div",{className:"relative",children:[x.jsx(mX,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),x.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),x.jsxs("div",{className:"relative",children:[x.jsx(iX,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),x.jsx("input",{type:"password",value:a,onChange:w=>s(w.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),x.jsxs("button",{type:"submit",disabled:c,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[c?x.jsx(Fl,{className:"w-5 h-5 animate-spin"}):x.jsx(qK,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):x.jsxs("form",{onSubmit:_,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),x.jsxs("div",{className:"relative",children:[x.jsx(c1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),x.jsx("input",{type:"text",value:o,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),x.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),x.jsxs("button",{type:"submit",disabled:c,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[c?x.jsx(Fl,{className:"w-5 h-5 animate-spin"}):x.jsx(c1,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),x.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function g6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=g6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=g6(t))&&(n&&(n+=" "),n+=e);return n}var _X=Array.isArray,Zn=_X,wX=typeof np=="object"&&np&&np.Object===Object&&np,v6=wX,EX=v6,TX=typeof self=="object"&&self&&self.Object===Object&&self,SX=EX||TX||Function("return this")(),Ua=SX,bX=Ua,AX=bX.Symbol,R0=AX,lk=R0,y6=Object.prototype,CX=y6.hasOwnProperty,IX=y6.toString,qf=lk?lk.toStringTag:void 0;function kX(t){var e=CX.call(t,qf),r=t[qf];try{t[qf]=void 0;var n=!0}catch{}var i=IX.call(t);return n&&(e?t[qf]=r:delete t[qf]),i}var PX=kX,NX=Object.prototype,RX=NX.toString;function OX(t){return RX.call(t)}var MX=OX,ck=R0,DX=PX,FX=MX,LX="[object Null]",UX="[object Undefined]",uk=ck?ck.toStringTag:void 0;function $X(t){return t==null?t===void 0?UX:LX:uk&&uk in Object(t)?DX(t):FX(t)}var Ns=$X;function BX(t){return t!=null&&typeof t=="object"}var Rs=BX,VX=Ns,jX=Rs,GX="[object Symbol]";function HX(t){return typeof t=="symbol"||jX(t)&&VX(t)==GX}var lf=HX,zX=Zn,WX=lf,qX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KX=/^\w*$/;function XX(t,e){if(zX(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||WX(t)?!0:KX.test(t)||!qX.test(t)||e!=null&&t in Object(e)}var hb=XX;function YX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=YX;const cf=Rt(Uo);var JX=Ns,QX=Uo,ZX="[object AsyncFunction]",eY="[object Function]",tY="[object GeneratorFunction]",rY="[object Proxy]";function nY(t){if(!QX(t))return!1;var e=JX(t);return e==eY||e==tY||e==ZX||e==rY}var pb=nY;const nt=Rt(pb);var iY=Ua,aY=iY["__core-js_shared__"],sY=aY,u1=sY,fk=function(){var t=/[^.]+$/.exec(u1&&u1.keys&&u1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oY(t){return!!fk&&fk in t}var lY=oY,cY=Function.prototype,uY=cY.toString;function fY(t){if(t!=null){try{return uY.call(t)}catch{}try{return t+""}catch{}}return""}var x6=fY,dY=pb,hY=lY,pY=Uo,mY=x6,gY=/[\\^$.*+?()[\]{}|]/g,vY=/^\[object .+?Constructor\]$/,yY=Function.prototype,xY=Object.prototype,_Y=yY.toString,wY=xY.hasOwnProperty,EY=RegExp("^"+_Y.call(wY).replace(gY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TY(t){if(!pY(t)||hY(t))return!1;var e=dY(t)?EY:vY;return e.test(mY(t))}var SY=TY;function bY(t,e){return t==null?void 0:t[e]}var AY=bY,CY=SY,IY=AY;function kY(t,e){var r=IY(t,e);return CY(r)?r:void 0}var Jl=kY,PY=Jl,NY=PY(Object,"create"),yy=NY,dk=yy;function RY(){this.__data__=dk?dk(null):{},this.size=0}var OY=RY;function MY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var DY=MY,FY=yy,LY="__lodash_hash_undefined__",UY=Object.prototype,$Y=UY.hasOwnProperty;function BY(t){var e=this.__data__;if(FY){var r=e[t];return r===LY?void 0:r}return $Y.call(e,t)?e[t]:void 0}var VY=BY,jY=yy,GY=Object.prototype,HY=GY.hasOwnProperty;function zY(t){var e=this.__data__;return jY?e[t]!==void 0:HY.call(e,t)}var WY=zY,qY=yy,KY="__lodash_hash_undefined__";function XY(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qY&&e===void 0?KY:e,this}var YY=XY,JY=OY,QY=DY,ZY=VY,eJ=WY,tJ=YY;function uf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uf.prototype.clear=JY;uf.prototype.delete=QY;uf.prototype.get=ZY;uf.prototype.has=eJ;uf.prototype.set=tJ;var rJ=uf;function nJ(){this.__data__=[],this.size=0}var iJ=nJ;function aJ(t,e){return t===e||t!==t&&e!==e}var mb=aJ,sJ=mb;function oJ(t,e){for(var r=t.length;r--;)if(sJ(t[r][0],e))return r;return-1}var xy=oJ,lJ=xy,cJ=Array.prototype,uJ=cJ.splice;function fJ(t){var e=this.__data__,r=lJ(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():uJ.call(e,r,1),--this.size,!0}var dJ=fJ,hJ=xy;function pJ(t){var e=this.__data__,r=hJ(e,t);return r<0?void 0:e[r][1]}var mJ=pJ,gJ=xy;function vJ(t){return gJ(this.__data__,t)>-1}var yJ=vJ,xJ=xy;function _J(t,e){var r=this.__data__,n=xJ(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wJ=_J,EJ=iJ,TJ=dJ,SJ=mJ,bJ=yJ,AJ=wJ;function ff(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ff.prototype.clear=EJ;ff.prototype.delete=TJ;ff.prototype.get=SJ;ff.prototype.has=bJ;ff.prototype.set=AJ;var _y=ff,CJ=Jl,IJ=Ua,kJ=CJ(IJ,"Map"),gb=kJ,hk=rJ,PJ=_y,NJ=gb;function RJ(){this.size=0,this.__data__={hash:new hk,map:new(NJ||PJ),string:new hk}}var OJ=RJ;function MJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var DJ=MJ,FJ=DJ;function LJ(t,e){var r=t.__data__;return FJ(e)?r[typeof e=="string"?"string":"hash"]:r.map}var wy=LJ,UJ=wy;function $J(t){var e=UJ(this,t).delete(t);return this.size-=e?1:0,e}var BJ=$J,VJ=wy;function jJ(t){return VJ(this,t).get(t)}var GJ=jJ,HJ=wy;function zJ(t){return HJ(this,t).has(t)}var WJ=zJ,qJ=wy;function KJ(t,e){var r=qJ(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var XJ=KJ,YJ=OJ,JJ=BJ,QJ=GJ,ZJ=WJ,eQ=XJ;function df(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}df.prototype.clear=YJ;df.prototype.delete=JJ;df.prototype.get=QJ;df.prototype.has=ZJ;df.prototype.set=eQ;var vb=df,_6=vb,tQ="Expected a function";function yb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tQ);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(yb.Cache||_6),r}yb.Cache=_6;var w6=yb;const rQ=Rt(w6);var nQ=w6,iQ=500;function aQ(t){var e=nQ(t,function(n){return r.size===iQ&&r.clear(),n}),r=e.cache;return e}var sQ=aQ,oQ=sQ,lQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cQ=/\\(\\)?/g,uQ=oQ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lQ,function(r,n,i,a){e.push(i?a.replace(cQ,"$1"):n||r)}),e}),fQ=uQ;function dQ(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var xb=dQ,pk=R0,hQ=xb,pQ=Zn,mQ=lf,mk=pk?pk.prototype:void 0,gk=mk?mk.toString:void 0;function E6(t){if(typeof t=="string")return t;if(pQ(t))return hQ(t,E6)+"";if(mQ(t))return gk?gk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gQ=E6,vQ=gQ;function yQ(t){return t==null?"":vQ(t)}var T6=yQ,xQ=Zn,_Q=hb,wQ=fQ,EQ=T6;function TQ(t,e){return xQ(t)?t:_Q(t,e)?[t]:wQ(EQ(t))}var S6=TQ,SQ=lf;function bQ(t){if(typeof t=="string"||SQ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ey=bQ,AQ=S6,CQ=Ey;function IQ(t,e){e=AQ(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[CQ(e[r++])];return r&&r==n?t:void 0}var _b=IQ,kQ=_b;function PQ(t,e,r){var n=t==null?void 0:kQ(t,e);return n===void 0?r:n}var b6=PQ;const Ri=Rt(b6);function NQ(t){return t==null}var RQ=NQ;const ot=Rt(RQ);var OQ=Ns,MQ=Zn,DQ=Rs,FQ="[object String]";function LQ(t){return typeof t=="string"||!MQ(t)&&DQ(t)&&OQ(t)==FQ}var UQ=LQ;const Ll=Rt(UQ);var A6={exports:{}},At={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=Symbol.for("react.element"),Eb=Symbol.for("react.portal"),Ty=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),$Q=Symbol.for("react.server_context"),Iy=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Ry=Symbol.for("react.lazy"),BQ=Symbol.for("react.offscreen"),C6;C6=Symbol.for("react.module.reference");function Bi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wb:switch(t=t.type,t){case Ty:case by:case Sy:case ky:case Py:return t;default:switch(t=t&&t.$$typeof,t){case $Q:case Cy:case Iy:case Ry:case Ny:case Ay:return t;default:return e}}case Eb:return e}}}At.ContextConsumer=Cy;At.ContextProvider=Ay;At.Element=wb;At.ForwardRef=Iy;At.Fragment=Ty;At.Lazy=Ry;At.Memo=Ny;At.Portal=Eb;At.Profiler=by;At.StrictMode=Sy;At.Suspense=ky;At.SuspenseList=Py;At.isAsyncMode=function(){return!1};At.isConcurrentMode=function(){return!1};At.isContextConsumer=function(t){return Bi(t)===Cy};At.isContextProvider=function(t){return Bi(t)===Ay};At.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wb};At.isForwardRef=function(t){return Bi(t)===Iy};At.isFragment=function(t){return Bi(t)===Ty};At.isLazy=function(t){return Bi(t)===Ry};At.isMemo=function(t){return Bi(t)===Ny};At.isPortal=function(t){return Bi(t)===Eb};At.isProfiler=function(t){return Bi(t)===by};At.isStrictMode=function(t){return Bi(t)===Sy};At.isSuspense=function(t){return Bi(t)===ky};At.isSuspenseList=function(t){return Bi(t)===Py};At.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ty||t===by||t===Sy||t===ky||t===Py||t===BQ||typeof t=="object"&&t!==null&&(t.$$typeof===Ry||t.$$typeof===Ny||t.$$typeof===Ay||t.$$typeof===Cy||t.$$typeof===Iy||t.$$typeof===C6||t.getModuleId!==void 0)};At.typeOf=Bi;A6.exports=At;var VQ=A6.exports,jQ=Ns,GQ=Rs,HQ="[object Number]";function zQ(t){return typeof t=="number"||GQ(t)&&jQ(t)==HQ}var I6=zQ;const WQ=Rt(I6);var qQ=I6;function KQ(t){return qQ(t)&&t!=+t}var XQ=KQ;const hf=Rt(XQ);var ta=function(e){return e===0?0:e>0?1:-1},ul=function(e){return Ll(e)&&e.indexOf("%")===e.length-1},Se=function(e){return WQ(e)&&!hf(e)},YQ=function(e){return ot(e)},Ir=function(e){return Se(e)||Ll(e)},JQ=0,O0=function(e){var r=++JQ;return"".concat(e||"").concat(r)},Ul=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&!Ll(e))return n;var a;if(ul(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return hf(a)&&(a=n),i&&a>r&&(a=r),a},eo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},QQ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ii=function(e,r){return Se(e)&&Se(r)?function(n){return e+n*(r-e)}:function(){return r}};function dg(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ri(n,e))===r})}var ZQ=function(e,r){return Se(e)&&Se(r)?e-r:Ll(e)&&Ll(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function tu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}var eZ=["viewBox","children"],tZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vk=["points","pathLength"],f1={svg:eZ,polygon:vk,polyline:vk},Tb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(re.isValidElement(e)&&(n=e.props),!cf(n))return null;var i={};return Object.keys(n).forEach(function(a){Tb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},rZ=function(e,r,n){return function(i){return e(r,n,i),null}},pg=function(e,r,n){if(!cf(e)||vw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Tb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=rZ(s,r,n))}),i},nZ=["children"],iZ=["children"];function yk(t,e){if(t==null)return{};var r=aZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yw(t){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(t)}var xk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},os=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_k=null,d1=null,Sb=function t(e){if(e===_k&&Array.isArray(d1))return d1;var r=[];return re.Children.forEach(e,function(n){ot(n)||(VQ.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),d1=r,_k=e,r};function oa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return os(i)}):n=[os(e)],Sb(t).forEach(function(i){var a=Ri(i,"type.displayName")||Ri(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ii(t,e){var r=oa(t,e);return r&&r[0]}var wk=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Se(n)||n<=0||!Se(i)||i<=0)},sZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oZ=function(e){return e&&e.type&&Ll(e.type)&&sZ.indexOf(e.type)>=0},lZ=function(e){return e&&yw(e)==="object"&&"clipDot"in e},cZ=function(e,r,n,i){var a,s=(a=f1==null?void 0:f1[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!nt(e)&&(i&&s.includes(r)||tZ.includes(r))||n&&Tb.includes(r)},it=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(re.isValidElement(e)&&(i=e.props),!cf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;cZ((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},xw=function t(e,r){if(e===r)return!0;var n=re.Children.count(e);if(n!==re.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ek(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Ek(a,s))return!1}return!0},Ek=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,a=yk(n,nZ),s=r.props||{},o=s.children,l=yk(s,iZ);return i&&o?tu(a,l)&&xw(i,o):!i&&!o?tu(a,l):!1}return!1},Tk=function(e,r){var n=[],i={};return Sb(e).forEach(function(a,s){if(oZ(a))n.push(a);else if(a){var o=os(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},uZ=function(e){var r=e&&e.type;return r&&xk[r]?xk[r]:null},fZ=function(e,r){return Sb(r).indexOf(e)},dZ=["children","width","height","viewBox","className","style","title","desc"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}function hZ(t,e){if(t==null)return{};var r=pZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ww(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=hZ(t,dZ),u=i||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",a);return Q.createElement("svg",_w({},it(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Q.createElement("title",null,o),Q.createElement("desc",null,l),e)}var mZ=["children","className"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function gZ(t,e){if(t==null)return{};var r=vZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qt=Q.forwardRef(function(t,e){var r=t.children,n=t.className,i=gZ(t,mZ),a=gt("recharts-layer",n);return Q.createElement("g",Ew({className:a},it(i,!0),{ref:e}),r)}),ls=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function yZ(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var xZ=yZ,_Z=xZ;function wZ(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:_Z(t,e,r)}var EZ=wZ,TZ="\\ud800-\\udfff",SZ="\\u0300-\\u036f",bZ="\\ufe20-\\ufe2f",AZ="\\u20d0-\\u20ff",CZ=SZ+bZ+AZ,IZ="\\ufe0e\\ufe0f",kZ="\\u200d",PZ=RegExp("["+kZ+TZ+CZ+IZ+"]");function NZ(t){return PZ.test(t)}var k6=NZ;function RZ(t){return t.split("")}var OZ=RZ,P6="\\ud800-\\udfff",MZ="\\u0300-\\u036f",DZ="\\ufe20-\\ufe2f",FZ="\\u20d0-\\u20ff",LZ=MZ+DZ+FZ,UZ="\\ufe0e\\ufe0f",$Z="["+P6+"]",Tw="["+LZ+"]",Sw="\\ud83c[\\udffb-\\udfff]",BZ="(?:"+Tw+"|"+Sw+")",N6="[^"+P6+"]",R6="(?:\\ud83c[\\udde6-\\uddff]){2}",O6="[\\ud800-\\udbff][\\udc00-\\udfff]",VZ="\\u200d",M6=BZ+"?",D6="["+UZ+"]?",jZ="(?:"+VZ+"(?:"+[N6,R6,O6].join("|")+")"+D6+M6+")*",GZ=D6+M6+jZ,HZ="(?:"+[N6+Tw+"?",Tw,R6,O6,$Z].join("|")+")",zZ=RegExp(Sw+"(?="+Sw+")|"+HZ+GZ,"g");function WZ(t){return t.match(zZ)||[]}var qZ=WZ,KZ=OZ,XZ=k6,YZ=qZ;function JZ(t){return XZ(t)?YZ(t):KZ(t)}var QZ=JZ,ZZ=EZ,eee=k6,tee=QZ,ree=T6;function nee(t){return function(e){e=ree(e);var r=eee(e)?tee(e):void 0,n=r?r[0]:e.charAt(0),i=r?ZZ(r,1).join(""):e.slice(1);return n[t]()+i}}var iee=nee,aee=iee,see=aee("toUpperCase"),oee=see;const Oy=Rt(oee);function Ot(t){return function(){return t}}const F6=Math.cos,mg=Math.sin,ha=Math.sqrt,gg=Math.PI,My=2*gg,bw=Math.PI,Aw=2*bw,tl=1e-6,lee=Aw-tl;function L6(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function cee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return L6;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class uee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?L6:cee(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>tl)if(!(Math.abs(f*l-c*u)>tl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,y=i-o,v=l*l+c*c,_=h*h+y*y,w=Math.sqrt(v),T=Math.sqrt(d),E=a*Math.tan((bw-Math.acos((v+d-_)/(2*w*T)))/2),k=E/T,A=E/w;Math.abs(k-1)>tl&&this._append`L${e+k*u},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*h>u*y)},${this._x1=e+A*l},${this._y1=r+A*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>tl||Math.abs(this._y1-u)>tl)&&this._append`L${c},${u}`,n&&(d<0&&(d=d%Aw+Aw),d>lee?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:d>tl&&this._append`A${n},${n},0,${+(d>=bw)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function bb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new uee(e)}function Ab(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U6(t){this._context=t}U6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dy(t){return new U6(t)}function $6(t){return t[0]}function B6(t){return t[1]}function V6(t,e){var r=Ot(!0),n=null,i=Dy,a=null,s=bb(o);t=typeof t=="function"?t:t===void 0?$6:Ot(t),e=typeof e=="function"?e:e===void 0?B6:Ot(e);function o(l){var c,u=(l=Ab(l)).length,f,d=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ot(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Ap(t,e,r){var n=null,i=Ot(!0),a=null,s=Dy,o=null,l=bb(c);t=typeof t=="function"?t:t===void 0?$6:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?B6:Ot(+r);function c(f){var d,h,y,v=(f=Ab(f)).length,_,w=!1,T,E=new Array(v),k=new Array(v);for(a==null&&(o=s(T=l())),d=0;d<=v;++d){if(!(d<v&&i(_=f[d],d,f))===w)if(w=!w)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=d-1;y>=h;--y)o.point(E[y],k[y]);o.lineEnd(),o.areaEnd()}w&&(E[d]=+t(_,d,f),k[d]=+e(_,d,f),o.point(n?+n(_,d,f):E[d],r?+r(_,d,f):k[d]))}if(T)return o=null,T+""||null}function u(){return V6().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ot(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ot(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ot(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class j6{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function fee(t){return new j6(t,!0)}function dee(t){return new j6(t,!1)}const Cb={draw(t,e){const r=ha(e/gg);t.moveTo(r,0),t.arc(0,0,r,0,My)}},hee={draw(t,e){const r=ha(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},G6=ha(1/3),pee=G6*2,mee={draw(t,e){const r=ha(e/pee),n=r*G6;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},gee={draw(t,e){const r=ha(e),n=-r/2;t.rect(n,n,r,r)}},vee=.8908130915292852,H6=mg(gg/10)/mg(7*gg/10),yee=mg(My/10)*H6,xee=-F6(My/10)*H6,_ee={draw(t,e){const r=ha(e*vee),n=yee*r,i=xee*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=My*a/5,o=F6(s),l=mg(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},h1=ha(3),wee={draw(t,e){const r=-ha(e/(h1*3));t.moveTo(0,r*2),t.lineTo(-h1*r,-r),t.lineTo(h1*r,-r),t.closePath()}},xi=-.5,_i=ha(3)/2,Cw=1/ha(12),Eee=(Cw/2+1)*3,Tee={draw(t,e){const r=ha(e/Eee),n=r/2,i=r*Cw,a=n,s=r*Cw+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(xi*n-_i*i,_i*n+xi*i),t.lineTo(xi*a-_i*s,_i*a+xi*s),t.lineTo(xi*o-_i*l,_i*o+xi*l),t.lineTo(xi*n+_i*i,xi*i-_i*n),t.lineTo(xi*a+_i*s,xi*s-_i*a),t.lineTo(xi*o+_i*l,xi*l-_i*o),t.closePath()}};function See(t,e){let r=null,n=bb(i);t=typeof t=="function"?t:Ot(t||Cb),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function vg(){}function yg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function z6(t){this._context=t}z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bee(t){return new z6(t)}function W6(t){this._context=t}W6.prototype={areaStart:vg,areaEnd:vg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Aee(t){return new W6(t)}function q6(t){this._context=t}q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cee(t){return new q6(t)}function K6(t){this._context=t}K6.prototype={areaStart:vg,areaEnd:vg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Iee(t){return new K6(t)}function Sk(t){return t<0?-1:1}function bk(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(Sk(a)+Sk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Ak(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function p1(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function xg(t){this._context=t}xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,Ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,Ak(this,r=bk(this,t,e)),r);break;default:p1(this,this._t0,r=bk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function X6(t){this._context=new Y6(t)}(X6.prototype=Object.create(xg.prototype)).point=function(t,e){xg.prototype.point.call(this,e,t)};function Y6(t){this._context=t}Y6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function kee(t){return new xg(t)}function Pee(t){return new X6(t)}function J6(t){this._context=t}J6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Ck(t),i=Ck(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ck(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Nee(t){return new J6(t)}function Fy(t,e){this._context=t,this._t=e}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Ree(t){return new Fy(t,.5)}function Oee(t){return new Fy(t,0)}function Mee(t){return new Fy(t,1)}function Iu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Iw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Dee(t,e){return t[e]}function Fee(t){const e=[];return e.key=t,e}function Lee(){var t=Ot([]),e=Iw,r=Iu,n=Dee;function i(a){var s=Array.from(t.apply(this,arguments),Fee),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=Ab(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ot(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Iw:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Iu,i):r},i}function Uee(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Iu(t,e)}}function $ee(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Iu(t,e)}}function Bee(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,d=u[n-1][1]||0,h=(f-d)/2,y=0;y<o;++y){var v=t[e[y]],_=v[n][1]||0,w=v[n-1][1]||0;h+=_-w}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Iu(t,e)}}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var Vee=["type","size","sizeType"];function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(this,arguments)}function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jee(t,e,r){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=Hee(t,"string");return xh(e)=="symbol"?e:e+""}function Hee(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zee(t,e){if(t==null)return{};var r=Wee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Q6={symbolCircle:Cb,symbolCross:hee,symbolDiamond:mee,symbolSquare:gee,symbolStar:_ee,symbolTriangle:wee,symbolWye:Tee},qee=Math.PI/180,Kee=function(e){var r="symbol".concat(Oy(e));return Q6[r]||Cb},Xee=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qee;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Yee=function(e,r){Q6["symbol".concat(Oy(e))]=r},Ib=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=zee(e,Vee),c=kk(kk({},l),{},{type:n,size:a,sizeType:o}),u=function(){var _=Kee(n),w=See().type(_).size(Xee(a,o,n));return w()},f=c.className,d=c.cx,h=c.cy,y=it(c,!0);return d===+d&&h===+h&&a===+a?Q.createElement("path",kw({},y,{className:gt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};Ib.registerSymbol=Yee;function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pw.apply(this,arguments)}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){_h(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e5(n.key),n)}}function ete(t,e,r){return e&&Zee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tte(t,e,r){return e=_g(e),rte(t,Z6()?Reflect.construct(e,r||[],_g(t).constructor):e.apply(t,r))}function rte(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nte(t)}function nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z6=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}function ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nw(t,e)}function _h(t,e,r){return e=e5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e5(t){var e=ate(t,"string");return ku(e)=="symbol"?e:e+""}function ate(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=32,kb=function(t){function e(){return Qee(this,e),tte(this,e,arguments)}return ite(e,t),ete(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=wi/2,s=wi/6,o=wi/3,l=n.inactive?i:n.color;if(n.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:wi,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(wi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(wi/8,"h").concat(wi,"v").concat(wi*3/4,"h").concat(-wi,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(n.legendIcon)){var c=Jee({},n);return delete c.legendIcon,Q.cloneElement(n.legendIcon,c)}return Q.createElement(Ib,{fill:l,cx:a,cy:a,size:wi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:wi,height:wi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var v=h.formatter||l,_=gt(_h(_h({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var w=nt(h.value)?null:h.value;ls(!nt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=h.inactive?c:h.color;return Q.createElement("li",Pw({className:_,style:f,key:"legend-item-".concat(y)},pg(n.props,h,y)),Q.createElement(ww,{width:s,height:s,viewBox:u,style:d},n.renderIcon(h)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},v?v(w,h,y):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(re.PureComponent);_h(kb,"displayName","Legend");_h(kb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ste=_y;function ote(){this.__data__=new ste,this.size=0}var lte=ote;function cte(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var ute=cte;function fte(t){return this.__data__.get(t)}var dte=fte;function hte(t){return this.__data__.has(t)}var pte=hte,mte=_y,gte=gb,vte=vb,yte=200;function xte(t,e){var r=this.__data__;if(r instanceof mte){var n=r.__data__;if(!gte||n.length<yte-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new vte(n)}return r.set(t,e),this.size=r.size,this}var _te=xte,wte=_y,Ete=lte,Tte=ute,Ste=dte,bte=pte,Ate=_te;function pf(t){var e=this.__data__=new wte(t);this.size=e.size}pf.prototype.clear=Ete;pf.prototype.delete=Tte;pf.prototype.get=Ste;pf.prototype.has=bte;pf.prototype.set=Ate;var t5=pf,Cte="__lodash_hash_undefined__";function Ite(t){return this.__data__.set(t,Cte),this}var kte=Ite;function Pte(t){return this.__data__.has(t)}var Nte=Pte,Rte=vb,Ote=kte,Mte=Nte;function wg(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Rte;++e<r;)this.add(t[e])}wg.prototype.add=wg.prototype.push=Ote;wg.prototype.has=Mte;var r5=wg;function Dte(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var n5=Dte;function Fte(t,e){return t.has(e)}var i5=Fte,Lte=r5,Ute=n5,$te=i5,Bte=1,Vte=2;function jte(t,e,r,n,i,a){var s=r&Bte,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=r&Vte?new Lte:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var y=t[f],v=e[f];if(n)var _=s?n(v,y,f,e,t,a):n(y,v,f,t,e,a);if(_!==void 0){if(_)continue;d=!1;break}if(h){if(!Ute(e,function(w,T){if(!$te(h,T)&&(y===w||i(y,w,r,n,a)))return h.push(T)})){d=!1;break}}else if(!(y===v||i(y,v,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var a5=jte,Gte=Ua,Hte=Gte.Uint8Array,zte=Hte;function Wte(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var qte=Wte;function Kte(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Pb=Kte,Nk=R0,Rk=zte,Xte=mb,Yte=a5,Jte=qte,Qte=Pb,Zte=1,ere=2,tre="[object Boolean]",rre="[object Date]",nre="[object Error]",ire="[object Map]",are="[object Number]",sre="[object RegExp]",ore="[object Set]",lre="[object String]",cre="[object Symbol]",ure="[object ArrayBuffer]",fre="[object DataView]",Ok=Nk?Nk.prototype:void 0,m1=Ok?Ok.valueOf:void 0;function dre(t,e,r,n,i,a,s){switch(r){case fre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ure:return!(t.byteLength!=e.byteLength||!a(new Rk(t),new Rk(e)));case tre:case rre:case are:return Xte(+t,+e);case nre:return t.name==e.name&&t.message==e.message;case sre:case lre:return t==e+"";case ire:var o=Jte;case ore:var l=n&Zte;if(o||(o=Qte),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=ere,s.set(t,e);var u=Yte(o(t),o(e),n,i,a,s);return s.delete(t),u;case cre:if(m1)return m1.call(t)==m1.call(e)}return!1}var hre=dre;function pre(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var s5=pre,mre=s5,gre=Zn;function vre(t,e,r){var n=e(t);return gre(t)?n:mre(n,r(t))}var yre=vre;function xre(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var _re=xre;function wre(){return[]}var Ere=wre,Tre=_re,Sre=Ere,bre=Object.prototype,Are=bre.propertyIsEnumerable,Mk=Object.getOwnPropertySymbols,Cre=Mk?function(t){return t==null?[]:(t=Object(t),Tre(Mk(t),function(e){return Are.call(t,e)}))}:Sre,Ire=Cre;function kre(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Pre=kre,Nre=Ns,Rre=Rs,Ore="[object Arguments]";function Mre(t){return Rre(t)&&Nre(t)==Ore}var Dre=Mre,Dk=Dre,Fre=Rs,o5=Object.prototype,Lre=o5.hasOwnProperty,Ure=o5.propertyIsEnumerable,$re=Dk(function(){return arguments}())?Dk:function(t){return Fre(t)&&Lre.call(t,"callee")&&!Ure.call(t,"callee")},Nb=$re,Eg={exports:{}};function Bre(){return!1}var Vre=Bre;Eg.exports;(function(t,e){var r=Ua,n=Vre,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(Eg,Eg.exports);var l5=Eg.exports,jre=9007199254740991,Gre=/^(?:0|[1-9]\d*)$/;function Hre(t,e){var r=typeof t;return e=e??jre,!!e&&(r=="number"||r!="symbol"&&Gre.test(t))&&t>-1&&t%1==0&&t<e}var Rb=Hre,zre=9007199254740991;function Wre(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zre}var Ob=Wre,qre=Ns,Kre=Ob,Xre=Rs,Yre="[object Arguments]",Jre="[object Array]",Qre="[object Boolean]",Zre="[object Date]",ene="[object Error]",tne="[object Function]",rne="[object Map]",nne="[object Number]",ine="[object Object]",ane="[object RegExp]",sne="[object Set]",one="[object String]",lne="[object WeakMap]",cne="[object ArrayBuffer]",une="[object DataView]",fne="[object Float32Array]",dne="[object Float64Array]",hne="[object Int8Array]",pne="[object Int16Array]",mne="[object Int32Array]",gne="[object Uint8Array]",vne="[object Uint8ClampedArray]",yne="[object Uint16Array]",xne="[object Uint32Array]",Bt={};Bt[fne]=Bt[dne]=Bt[hne]=Bt[pne]=Bt[mne]=Bt[gne]=Bt[vne]=Bt[yne]=Bt[xne]=!0;Bt[Yre]=Bt[Jre]=Bt[cne]=Bt[Qre]=Bt[une]=Bt[Zre]=Bt[ene]=Bt[tne]=Bt[rne]=Bt[nne]=Bt[ine]=Bt[ane]=Bt[sne]=Bt[one]=Bt[lne]=!1;function _ne(t){return Xre(t)&&Kre(t.length)&&!!Bt[qre(t)]}var wne=_ne;function Ene(t){return function(e){return t(e)}}var c5=Ene,Tg={exports:{}};Tg.exports;(function(t,e){var r=v6,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Tg,Tg.exports);var Tne=Tg.exports,Sne=wne,bne=c5,Fk=Tne,Lk=Fk&&Fk.isTypedArray,Ane=Lk?bne(Lk):Sne,u5=Ane,Cne=Pre,Ine=Nb,kne=Zn,Pne=l5,Nne=Rb,Rne=u5,One=Object.prototype,Mne=One.hasOwnProperty;function Dne(t,e){var r=kne(t),n=!r&&Ine(t),i=!r&&!n&&Pne(t),a=!r&&!n&&!i&&Rne(t),s=r||n||i||a,o=s?Cne(t.length,String):[],l=o.length;for(var c in t)(e||Mne.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Nne(c,l)))&&o.push(c);return o}var Fne=Dne,Lne=Object.prototype;function Une(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Lne;return t===r}var $ne=Une;function Bne(t,e){return function(r){return t(e(r))}}var f5=Bne,Vne=f5,jne=Vne(Object.keys,Object),Gne=jne,Hne=$ne,zne=Gne,Wne=Object.prototype,qne=Wne.hasOwnProperty;function Kne(t){if(!Hne(t))return zne(t);var e=[];for(var r in Object(t))qne.call(t,r)&&r!="constructor"&&e.push(r);return e}var Xne=Kne,Yne=pb,Jne=Ob;function Qne(t){return t!=null&&Jne(t.length)&&!Yne(t)}var M0=Qne,Zne=Fne,eie=Xne,tie=M0;function rie(t){return tie(t)?Zne(t):eie(t)}var Ly=rie,nie=yre,iie=Ire,aie=Ly;function sie(t){return nie(t,aie,iie)}var oie=sie,Uk=oie,lie=1,cie=Object.prototype,uie=cie.hasOwnProperty;function fie(t,e,r,n,i,a){var s=r&lie,o=Uk(t),l=o.length,c=Uk(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=o[f];if(!(s?d in e:uie.call(e,d)))return!1}var h=a.get(t),y=a.get(e);if(h&&y)return h==e&&y==t;var v=!0;a.set(t,e),a.set(e,t);for(var _=s;++f<l;){d=o[f];var w=t[d],T=e[d];if(n)var E=s?n(T,w,d,e,t,a):n(w,T,d,t,e,a);if(!(E===void 0?w===T||i(w,T,r,n,a):E)){v=!1;break}_||(_=d=="constructor")}if(v&&!_){var k=t.constructor,A=e.constructor;k!=A&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof A=="function"&&A instanceof A)&&(v=!1)}return a.delete(t),a.delete(e),v}var die=fie,hie=Jl,pie=Ua,mie=hie(pie,"DataView"),gie=mie,vie=Jl,yie=Ua,xie=vie(yie,"Promise"),_ie=xie,wie=Jl,Eie=Ua,Tie=wie(Eie,"Set"),d5=Tie,Sie=Jl,bie=Ua,Aie=Sie(bie,"WeakMap"),Cie=Aie,Rw=gie,Ow=gb,Mw=_ie,Dw=d5,Fw=Cie,h5=Ns,mf=x6,$k="[object Map]",Iie="[object Object]",Bk="[object Promise]",Vk="[object Set]",jk="[object WeakMap]",Gk="[object DataView]",kie=mf(Rw),Pie=mf(Ow),Nie=mf(Mw),Rie=mf(Dw),Oie=mf(Fw),rl=h5;(Rw&&rl(new Rw(new ArrayBuffer(1)))!=Gk||Ow&&rl(new Ow)!=$k||Mw&&rl(Mw.resolve())!=Bk||Dw&&rl(new Dw)!=Vk||Fw&&rl(new Fw)!=jk)&&(rl=function(t){var e=h5(t),r=e==Iie?t.constructor:void 0,n=r?mf(r):"";if(n)switch(n){case kie:return Gk;case Pie:return $k;case Nie:return Bk;case Rie:return Vk;case Oie:return jk}return e});var Mie=rl,g1=t5,Die=a5,Fie=hre,Lie=die,Hk=Mie,zk=Zn,Wk=l5,Uie=u5,$ie=1,qk="[object Arguments]",Kk="[object Array]",Cp="[object Object]",Bie=Object.prototype,Xk=Bie.hasOwnProperty;function Vie(t,e,r,n,i,a){var s=zk(t),o=zk(e),l=s?Kk:Hk(t),c=o?Kk:Hk(e);l=l==qk?Cp:l,c=c==qk?Cp:c;var u=l==Cp,f=c==Cp,d=l==c;if(d&&Wk(t)){if(!Wk(e))return!1;s=!0,u=!1}if(d&&!u)return a||(a=new g1),s||Uie(t)?Die(t,e,r,n,i,a):Fie(t,e,l,r,n,i,a);if(!(r&$ie)){var h=u&&Xk.call(t,"__wrapped__"),y=f&&Xk.call(e,"__wrapped__");if(h||y){var v=h?t.value():t,_=y?e.value():e;return a||(a=new g1),i(v,_,r,n,a)}}return d?(a||(a=new g1),Lie(t,e,r,n,i,a)):!1}var jie=Vie,Gie=jie,Yk=Rs;function p5(t,e,r,n,i){return t===e?!0:t==null||e==null||!Yk(t)&&!Yk(e)?t!==t&&e!==e:Gie(t,e,r,n,p5,i)}var Mb=p5,Hie=t5,zie=Mb,Wie=1,qie=2;function Kie(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Hie;if(n)var d=n(c,u,l,t,e,f);if(!(d===void 0?zie(u,c,Wie|qie,n,f):d))return!1}}return!0}var Xie=Kie,Yie=Uo;function Jie(t){return t===t&&!Yie(t)}var m5=Jie,Qie=m5,Zie=Ly;function eae(t){for(var e=Zie(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Qie(i)]}return e}var tae=eae;function rae(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var g5=rae,nae=Xie,iae=tae,aae=g5;function sae(t){var e=iae(t);return e.length==1&&e[0][2]?aae(e[0][0],e[0][1]):function(r){return r===t||nae(r,t,e)}}var oae=sae;function lae(t,e){return t!=null&&e in Object(t)}var cae=lae,uae=S6,fae=Nb,dae=Zn,hae=Rb,pae=Ob,mae=Ey;function gae(t,e,r){e=uae(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=mae(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&pae(i)&&hae(s,i)&&(dae(t)||fae(t)))}var vae=gae,yae=cae,xae=vae;function _ae(t,e){return t!=null&&xae(t,e,yae)}var wae=_ae,Eae=Mb,Tae=b6,Sae=wae,bae=hb,Aae=m5,Cae=g5,Iae=Ey,kae=1,Pae=2;function Nae(t,e){return bae(t)&&Aae(e)?Cae(Iae(t),e):function(r){var n=Tae(r,t);return n===void 0&&n===e?Sae(r,t):Eae(e,n,kae|Pae)}}var Rae=Nae;function Oae(t){return t}var gf=Oae;function Mae(t){return function(e){return e==null?void 0:e[t]}}var Dae=Mae,Fae=_b;function Lae(t){return function(e){return Fae(e,t)}}var Uae=Lae,$ae=Dae,Bae=Uae,Vae=hb,jae=Ey;function Gae(t){return Vae(t)?$ae(jae(t)):Bae(t)}var Hae=Gae,zae=oae,Wae=Rae,qae=gf,Kae=Zn,Xae=Hae;function Yae(t){return typeof t=="function"?t:t==null?qae:typeof t=="object"?Kae(t)?Wae(t[0],t[1]):zae(t):Xae(t)}var $o=Yae;function Jae(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var v5=Jae;function Qae(t){return t!==t}var Zae=Qae;function ese(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var tse=ese,rse=v5,nse=Zae,ise=tse;function ase(t,e,r){return e===e?ise(t,e,r):rse(t,nse,r)}var sse=ase,ose=sse;function lse(t,e){var r=t==null?0:t.length;return!!r&&ose(t,e,0)>-1}var cse=lse;function use(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var fse=use;function dse(){}var hse=dse,v1=d5,pse=hse,mse=Pb,gse=1/0,vse=v1&&1/mse(new v1([,-0]))[1]==gse?function(t){return new v1(t)}:pse,yse=vse,xse=r5,_se=cse,wse=fse,Ese=i5,Tse=yse,Sse=Pb,bse=200;function Ase(t,e,r){var n=-1,i=_se,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=wse;else if(a>=bse){var c=e?null:Tse(t);if(c)return Sse(c);s=!1,i=Ese,l=new xse}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Cse=Ase,Ise=$o,kse=Cse;function Pse(t,e){return t&&t.length?kse(t,Ise(e)):[]}var Nse=Pse;const Jk=Rt(Nse);function y5(t,e,r){return e===!0?Jk(t,r):nt(e)?Jk(t,e):t}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var Rse=["ref"];function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){Uy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_5(n.key),n)}}function Mse(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dse(t,e,r){return e=Sg(e),Fse(t,x5()?Reflect.construct(e,r||[],Sg(t).constructor):e.apply(t,r))}function Fse(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lse(t)}function Lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x5=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(t)}function Use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lw(t,e)}function Uy(t,e,r){return e=_5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _5(t){var e=$se(t,"string");return Pu(e)=="symbol"?e:e+""}function $se(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bse(t,e){if(t==null)return{};var r=Vse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jse(t){return t.value}function Gse(t,e){if(Q.isValidElement(t))return Q.cloneElement(t,e);if(typeof t=="function")return Q.createElement(t,e);e.ref;var r=Bse(e,Rse);return Q.createElement(kb,r)}var eP=1,ru=function(t){function e(){var r;Ose(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Dse(this,e,[].concat(i)),Uy(r,"lastBoundingBox",{width:-1,height:-1}),r}return Use(e,t),Mse(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eP||Math.abs(i.height-this.lastBoundingBox.height)>eP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();d={top:((u||0)-y.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return qa(qa({},f),d)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=qa(qa({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Gse(a,qa(qa({},this.props),{},{payload:y5(u,c,jse)})))}}],[{key:"getWithHeight",value:function(n,i){var a=qa(qa({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Se(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(re.PureComponent);Uy(ru,"displayName","Legend");Uy(ru,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tP=R0,Hse=Nb,zse=Zn,rP=tP?tP.isConcatSpreadable:void 0;function Wse(t){return zse(t)||Hse(t)||!!(rP&&t&&t[rP])}var qse=Wse,Kse=s5,Xse=qse;function w5(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=Xse),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?w5(o,e-1,r,n,i):Kse(i,o):n||(i[i.length]=o)}return i}var E5=w5;function Yse(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var Jse=Yse,Qse=Jse,Zse=Qse(),eoe=Zse,toe=eoe,roe=Ly;function noe(t,e){return t&&toe(t,e,roe)}var T5=noe,ioe=M0;function aoe(t,e){return function(r,n){if(r==null)return r;if(!ioe(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var soe=aoe,ooe=T5,loe=soe,coe=loe(ooe),Db=coe,uoe=Db,foe=M0;function doe(t,e){var r=-1,n=foe(t)?Array(t.length):[];return uoe(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var S5=doe;function hoe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var poe=hoe,nP=lf;function moe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=nP(t),s=e!==void 0,o=e===null,l=e===e,c=nP(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var goe=moe,voe=goe;function yoe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=voe(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var xoe=yoe,y1=xb,_oe=_b,woe=$o,Eoe=S5,Toe=poe,Soe=c5,boe=xoe,Aoe=gf,Coe=Zn;function Ioe(t,e,r){e.length?e=y1(e,function(a){return Coe(a)?function(s){return _oe(s,a.length===1?a[0]:a)}:a}):e=[Aoe];var n=-1;e=y1(e,Soe(woe));var i=Eoe(t,function(a,s,o){var l=y1(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return Toe(i,function(a,s){return boe(a,s,r)})}var koe=Ioe;function Poe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Noe=Poe,Roe=Noe,iP=Math.max;function Ooe(t,e,r){return e=iP(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=iP(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Roe(t,this,o)}}var Moe=Ooe;function Doe(t){return function(){return t}}var Foe=Doe,Loe=Jl,Uoe=function(){try{var t=Loe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),b5=Uoe,$oe=Foe,aP=b5,Boe=gf,Voe=aP?function(t,e){return aP(t,"toString",{configurable:!0,enumerable:!1,value:$oe(e),writable:!0})}:Boe,joe=Voe,Goe=800,Hoe=16,zoe=Date.now;function Woe(t){var e=0,r=0;return function(){var n=zoe(),i=Hoe-(n-r);if(r=n,i>0){if(++e>=Goe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qoe=Woe,Koe=joe,Xoe=qoe,Yoe=Xoe(Koe),Joe=Yoe,Qoe=gf,Zoe=Moe,ele=Joe;function tle(t,e){return ele(Zoe(t,e,Qoe),t+"")}var rle=tle,nle=mb,ile=M0,ale=Rb,sle=Uo;function ole(t,e,r){if(!sle(r))return!1;var n=typeof e;return(n=="number"?ile(r)&&ale(e,r.length):n=="string"&&e in r)?nle(r[e],t):!1}var $y=ole,lle=E5,cle=koe,ule=rle,sP=$y,fle=ule(function(t,e){if(t==null)return[];var r=e.length;return r>1&&sP(t,e[0],e[1])?e=[]:r>2&&sP(e[0],e[1],e[2])&&(e=[e[0]]),cle(t,lle(e,1),[])}),dle=fle;const Fb=Rt(dle);function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}function hle(t,e){return vle(t)||gle(t,e)||mle(t,e)||ple()}function ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mle(t,e){if(t){if(typeof t=="string")return oP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function vle(t){if(Array.isArray(t))return t}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){yle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yle(t,e,r){return e=xle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xle(t){var e=_le(t,"string");return wh(e)=="symbol"?e:e+""}function _le(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wle(t){return Array.isArray(t)&&Ir(t[0])&&Ir(t[1])?t.join(" ~ "):t}var Ele=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,v=e.label,_=e.labelFormatter,w=e.accessibilityLayer,T=w===void 0?!1:w,E=function(){if(u&&u.length){var R={padding:0,margin:0},D=(d?Fb(u,d):u).map(function(J,X){if(J.type==="none")return null;var te=x1({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},o),Z=J.formatter||f||wle,ee=J.value,z=J.name,ie=ee,me=z;if(Z&&ie!=null&&me!=null){var U=Z(ee,z,J,X,u);if(Array.isArray(U)){var q=hle(U,2);ie=q[0],me=q[1]}else ie=U}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:te},Ir(me)?Q.createElement("span",{className:"recharts-tooltip-item-name"},me):null,Ir(me)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},ie),Q.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},D)}return null},k=x1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=x1({margin:0},c),C=!ot(v),S=C?v:"",I=gt("recharts-default-tooltip",h),b=gt("recharts-tooltip-label",y);C&&_&&u!==void 0&&u!==null&&(S=_(v,u));var N=T?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",Uw({className:I,style:k},N),Q.createElement("p",{className:b,style:A},Q.isValidElement(S)?S:"".concat(S)),E())};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function Ip(t,e,r){return e=Tle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tle(t){var e=Sle(t,"string");return Eh(e)=="symbol"?e:e+""}function Sle(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kf="recharts-tooltip-wrapper",ble={visibility:"hidden"};function Ale(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return gt(Kf,Ip(Ip(Ip(Ip({},"".concat(Kf,"-right"),Se(r)&&e&&Se(e.x)&&r>=e.x),"".concat(Kf,"-left"),Se(r)&&e&&Se(e.x)&&r<e.x),"".concat(Kf,"-bottom"),Se(n)&&e&&Se(e.y)&&n>=e.y),"".concat(Kf,"-top"),Se(n)&&e&&Se(e.y)&&n<e.y))}function cP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Se(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var d=u,h=l[n];return d<h?Math.max(f,l[n]):Math.max(u,l[n])}var y=f+o,v=l[n]+c;return y>v?Math.max(u,l[n]):Math.max(f,l[n])}function Cle(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Ile(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=cP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=cP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Cle({translateX:u,translateY:f,useTranslate3d:o})):c=ble,{cssProperties:c,cssClasses:Ale({translateX:u,translateY:f,coordinate:r})}}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){Bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ple(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C5(n.key),n)}}function Nle(t,e,r){return e&&Ple(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rle(t,e,r){return e=bg(e),Ole(t,A5()?Reflect.construct(e,r||[],bg(t).constructor):e.apply(t,r))}function Ole(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mle(t)}function Mle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}function Dle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$w(t,e)}function Bw(t,e,r){return e=C5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C5(t){var e=Fle(t,"string");return Nu(e)=="symbol"?e:e+""}function Fle(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dP=1,Lle=function(t){function e(){var r;kle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Rle(this,e,[].concat(i)),Bw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Bw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Dle(e,t),Nle(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>dP||Math.abs(n.height-this.state.lastBoundingBox.height)>dP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,y=i.position,v=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,T=i.wrapperStyle,E=Ile({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:w}),k=E.cssClasses,A=E.cssProperties,C=fP(fP({transition:d&&a?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},T);return Q.createElement("div",{tabIndex:-1,className:k,style:C,ref:function(I){n.wrapperNode=I}},c)}}])}(re.PureComponent),Ule=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vf={isSsr:Ule()};function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){Lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ble(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k5(n.key),n)}}function Vle(t,e,r){return e&&Ble(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jle(t,e,r){return e=Ag(e),Gle(t,I5()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Gle(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(t,e)}function Lb(t,e,r){return e=k5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k5(t){var e=Wle(t,"string");return Ru(e)=="symbol"?e:e+""}function Wle(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qle(t){return t.dataKey}function Kle(t,e){return Q.isValidElement(t)?Q.cloneElement(t,e):typeof t=="function"?Q.createElement(t,e):Q.createElement(Ele,e)}var bi=function(t){function e(){return $le(this,e),jle(this,e,arguments)}return zle(e,t),Vle(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,y=i.payload,v=i.payloadUniqBy,_=i.position,w=i.reverseDirection,T=i.useTranslate3d,E=i.viewBox,k=i.wrapperStyle,A=y??[];f&&A.length&&(A=y5(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),v,qle));var C=A.length>0;return Q.createElement(Lle,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:a,coordinate:u,hasPayload:C,offset:h,position:_,reverseDirection:w,useTranslate3d:T,viewBox:E,wrapperStyle:k},Kle(c,pP(pP({},this.props),{},{payload:A})))}}])}(re.PureComponent);Lb(bi,"displayName","Tooltip");Lb(bi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xle=Ua,Yle=function(){return Xle.Date.now()},Jle=Yle,Qle=/\s/;function Zle(t){for(var e=t.length;e--&&Qle.test(t.charAt(e)););return e}var ece=Zle,tce=ece,rce=/^\s+/;function nce(t){return t&&t.slice(0,tce(t)+1).replace(rce,"")}var ice=nce,ace=ice,mP=Uo,sce=lf,gP=NaN,oce=/^[-+]0x[0-9a-f]+$/i,lce=/^0b[01]+$/i,cce=/^0o[0-7]+$/i,uce=parseInt;function fce(t){if(typeof t=="number")return t;if(sce(t))return gP;if(mP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ace(t);var r=lce.test(t);return r||cce.test(t)?uce(t.slice(2),r?2:8):oce.test(t)?gP:+t}var P5=fce,dce=Uo,_1=Jle,vP=P5,hce="Expected a function",pce=Math.max,mce=Math.min;function gce(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(hce);e=vP(e)||0,dce(r)&&(u=!!r.leading,f="maxWait"in r,a=f?pce(vP(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function h(C){var S=n,I=i;return n=i=void 0,c=C,s=t.apply(I,S),s}function y(C){return c=C,o=setTimeout(w,e),u?h(C):s}function v(C){var S=C-l,I=C-c,b=e-S;return f?mce(b,a-I):b}function _(C){var S=C-l,I=C-c;return l===void 0||S>=e||S<0||f&&I>=a}function w(){var C=_1();if(_(C))return T(C);o=setTimeout(w,v(C))}function T(C){return o=void 0,d&&n?h(C):(n=i=void 0,s)}function E(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function k(){return o===void 0?s:T(_1())}function A(){var C=_1(),S=_(C);if(n=arguments,i=this,l=C,S){if(o===void 0)return y(l);if(f)return clearTimeout(o),o=setTimeout(w,e),h(l)}return o===void 0&&(o=setTimeout(w,e)),s}return A.cancel=E,A.flush=k,A}var vce=gce,yce=vce,xce=Uo,_ce="Expected a function";function wce(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(_ce);return xce(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),yce(t,e,{leading:n,maxWait:e,trailing:i})}var Ece=wce;const N5=Rt(Ece);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){Tce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tce(t,e,r){return e=Sce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sce(t){var e=bce(t,"string");return Th(e)=="symbol"?e:e+""}function bce(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ace(t,e){return Pce(t)||kce(t,e)||Ice(t,e)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(t,e){if(t){if(typeof t=="string")return xP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Pce(t){if(Array.isArray(t))return t}var Ub=re.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,h=t.children,y=t.debounce,v=y===void 0?0:y,_=t.id,w=t.className,T=t.onResize,E=t.style,k=E===void 0?{}:E,A=re.useRef(null),C=re.useRef();C.current=T,re.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=re.useState({containerWidth:i.width,containerHeight:i.height}),I=Ace(S,2),b=I[0],N=I[1],O=re.useCallback(function(D,J){N(function(X){var te=Math.round(D),Z=Math.round(J);return X.containerWidth===te&&X.containerHeight===Z?X:{containerWidth:te,containerHeight:Z}})},[]);re.useEffect(function(){var D=function(z){var ie,me=z[0].contentRect,U=me.width,q=me.height;O(U,q),(ie=C.current)===null||ie===void 0||ie.call(C,U,q)};v>0&&(D=N5(D,v,{trailing:!0,leading:!1}));var J=new ResizeObserver(D),X=A.current.getBoundingClientRect(),te=X.width,Z=X.height;return O(te,Z),J.observe(A.current),function(){J.disconnect()}},[O,v]);var R=re.useMemo(function(){var D=b.containerWidth,J=b.containerHeight;if(D<0||J<0)return null;ls(ul(s)||ul(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ls(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=ul(s)?D:s,te=ul(l)?J:l;r&&r>0&&(X?te=X/r:te&&(X=te*r),d&&te>d&&(te=d)),ls(X>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,te,s,l,u,f,r);var Z=!Array.isArray(h)&&os(h.type).endsWith("Chart");return Q.Children.map(h,function(ee){return Q.isValidElement(ee)?re.cloneElement(ee,kp({width:X,height:te},Z?{style:kp({height:"100%",width:"100%",maxHeight:te,maxWidth:X},ee.props.style)}:{})):ee})},[r,h,l,d,f,u,b,s]);return Q.createElement("div",{id:_?"".concat(_):void 0,className:gt("recharts-responsive-container",w),style:kp(kp({},k),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:A},R)}),R5=function(e){return null};R5.displayName="Cell";function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){Nce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nce(t,e,r){return e=Rce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rce(t){var e=Oce(t,"string");return Sh(e)=="symbol"?e:e+""}function Oce(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gc={widthCache:{},cacheCount:0},Mce=2e3,Dce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wP="recharts_measurement_span";function Fce(t){var e=jw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Rd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vf.isSsr)return{width:0,height:0};var n=Fce(r),i=JSON.stringify({text:e,copyStyle:n});if(gc.widthCache[i])return gc.widthCache[i];try{var a=document.getElementById(wP);a||(a=document.createElement("span"),a.setAttribute("id",wP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=jw(jw({},Dce),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return gc.widthCache[i]=l,++gc.cacheCount>Mce&&(gc.cacheCount=0,gc.widthCache={}),l}catch{return{width:0,height:0}}},Lce=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Cg(t,e){return Vce(t)||Bce(t,e)||$ce(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(t,e){if(t){if(typeof t=="string")return EP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EP(t,e)}}function EP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Vce(t){if(Array.isArray(t))return t}function jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hce(n.key),n)}}function Gce(t,e,r){return e&&TP(t.prototype,e),r&&TP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t){var e=zce(t,"string");return bh(e)=="symbol"?e:e+""}function zce(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,O5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kce=Object.keys(O5),Uc="NaN";function Xce(t,e){return t*O5[e]}var Pp=function(){function t(e,r){jce(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Wce.test(r)&&(this.num=NaN,this.unit=""),Kce.includes(r)&&(this.num=Xce(e,r),this.unit="px")}return Gce(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=qce.exec(r))!==null&&n!==void 0?n:[],a=Cg(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function M5(t){if(t.includes(Uc))return Uc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=SP.exec(e))!==null&&r!==void 0?r:[],i=Cg(n,4),a=i[1],s=i[2],o=i[3],l=Pp.parse(a??""),c=Pp.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Uc;e=e.replace(SP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=bP.exec(e))!==null&&f!==void 0?f:[],h=Cg(d,4),y=h[1],v=h[2],_=h[3],w=Pp.parse(y??""),T=Pp.parse(_??""),E=v==="+"?w.add(T):w.subtract(T);if(E.isNaN())return Uc;e=e.replace(bP,E.toString())}return e}var AP=/\(([^()]*)\)/;function Yce(t){for(var e=t;e.includes("(");){var r=AP.exec(e),n=Cg(r,2),i=n[1];e=e.replace(AP,M5(i))}return e}function Jce(t){var e=t.replace(/\s+/g,"");return e=Yce(e),e=M5(e),e}function Qce(t){try{return Jce(t)}catch{return Uc}}function w1(t){var e=Qce(t.slice(5,-1));return e===Uc?"":e}var Zce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eue=["dx","dy","angle","className","breakAll"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gw.apply(this,arguments)}function CP(t,e){if(t==null)return{};var r=tue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IP(t,e){return aue(t)||iue(t,e)||nue(t,e)||rue()}function rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t,e){if(t){if(typeof t=="string")return kP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function aue(t){if(Array.isArray(t))return t}var D5=/[ \f\n\r\t\v\u2028\u2029]+/,F5=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ot(r)||(n?a=r.toString().split(""):a=r.toString().split(D5));var s=a.map(function(l){return{word:l,width:Rd(l,i).width}}),o=n?0:Rd("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},sue=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Se(s),f=o,d=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(te,Z){var ee=Z.word,z=Z.width,ie=te[te.length-1];if(ie&&(i==null||a||ie.width+z+n<Number(i)))ie.words.push(ee),ie.width+=z+n;else{var me={words:[ee],width:z};te.push(me)}return te},[])},h=d(r),y=function(X){return X.reduce(function(te,Z){return te.width>Z.width?te:Z})};if(!u)return h;for(var v="",_=function(X){var te=f.slice(0,X),Z=F5({breakAll:c,style:l,children:te+v}).wordsWithComputedWidth,ee=d(Z),z=ee.length>s||y(ee).width>Number(i);return[z,ee]},w=0,T=f.length-1,E=0,k;w<=T&&E<=f.length-1;){var A=Math.floor((w+T)/2),C=A-1,S=_(C),I=IP(S,2),b=I[0],N=I[1],O=_(A),R=IP(O,1),D=R[0];if(!b&&!D&&(w=A+1),b&&D&&(T=A-1),!b&&D){k=N;break}E++}return k||h},PP=function(e){var r=ot(e)?[]:e.toString().split(D5);return[{words:r}]},oue=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!vf.isSsr){var l,c,u=F5({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return PP(i);return sue({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return PP(i)},NP="#808080",Ig=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,y=e.verticalAnchor,v=y===void 0?"end":y,_=e.fill,w=_===void 0?NP:_,T=CP(e,Zce),E=re.useMemo(function(){return oue({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:f,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,f,T.style,T.width]),k=T.dx,A=T.dy,C=T.angle,S=T.className,I=T.breakAll,b=CP(T,eue);if(!Ir(n)||!Ir(a))return null;var N=n+(Se(k)?k:0),O=a+(Se(A)?A:0),R;switch(v){case"start":R=w1("calc(".concat(c,")"));break;case"middle":R=w1("calc(".concat((E.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:R=w1("calc(".concat(E.length-1," * -").concat(o,")"));break}var D=[];if(f){var J=E[0].width,X=T.width;D.push("scale(".concat((Se(X)?X/J:1)/J,")"))}return C&&D.push("rotate(".concat(C,", ").concat(N,", ").concat(O,")")),D.length&&(b.transform=D.join(" ")),Q.createElement("text",Gw({},it(b,!0),{x:N,y:O,className:gt("recharts-text",S),textAnchor:h,fill:w.includes("url")?NP:w}),E.map(function(te,Z){var ee=te.words.join(I?"":" ");return Q.createElement("tspan",{x:N,dy:Z===0?R:o,key:"".concat(ee,"-").concat(Z)},ee)}))};function So(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $b(t){let e,r,n;t.length!==2?(e=So,r=(o,l)=>So(t(o),l),n=(o,l)=>t(o)-l):(e=t===So||t===lue?t:cue,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function cue(){return 0}function L5(t){return t===null?NaN:+t}function*uue(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const fue=$b(So),D0=fue.right;$b(L5).center;class RP extends Map{constructor(e,r=pue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(OP(this,e))}has(e){return super.has(OP(this,e))}set(e,r){return super.set(due(this,e),r)}delete(e){return super.delete(hue(this,e))}}function OP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function due({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function hue({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function pue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mue(t=So){if(t===So)return U5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function U5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gue=Math.sqrt(50),vue=Math.sqrt(10),yue=Math.sqrt(2);function kg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=gue?10:a>=vue?5:a>=yue?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?kg(t,e,r*2):[o,l,c]}function Hw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?kg(e,t,r):kg(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function zw(t,e,r){return e=+e,t=+t,r=+r,kg(t,e,r)[2]}function Ww(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?zw(e,t,r):zw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function MP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function DP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $5(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?U5:mue(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+d)),y=Math.min(n,Math.floor(e+(l-c)*f/l+d));$5(t,e,h,y,i)}const a=t[e];let s=r,o=n;for(Xf(t,r,e),i(t[n],a)>0&&Xf(t,r,n);s<o;){for(Xf(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Xf(t,r,o):(++o,Xf(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Xf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xue(t,e,r){if(t=Float64Array.from(uue(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return DP(t);if(e>=1)return MP(t);var n,i=(n-1)*e,a=Math.floor(i),s=MP($5(t,a).subarray(0,a+1)),o=DP(t.subarray(a+1));return s+(o-s)*(i-a)}}function _ue(t,e,r=L5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function wue(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qw=Symbol("implicit");function Bb(){var t=new RP,e=[],r=[],n=qw;function i(a){let s=t.get(a);if(s===void 0){if(n!==qw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new RP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Bb(e,r).unknown(n)},Vi.apply(i,arguments),i}function Ah(){var t=Bb().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<n,y=h?i:n,v=h?n:i;a=(v-y)/Math.max(1,d-l+c*2),o&&(a=Math.floor(a)),y+=(v-y-a*(d-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var _=wue(d).map(function(w){return y+a*w});return r(h?_.reverse():_)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return Ah(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Vi.apply(f(),arguments)}function B5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return B5(e())},t}function Od(){return B5(Ah.apply(null,arguments).paddingInner(1))}function Vb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function V5(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function F0(){}var Ch=.7,Pg=1/Ch,nu="\\s*([+-]?\\d+)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eue=/^#([0-9a-f]{3,8})$/,Tue=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),Sue=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),bue=new RegExp(`^rgba\\(${nu},${nu},${nu},${Ih}\\)$`),Aue=new RegExp(`^rgba\\(${Na},${Na},${Na},${Ih}\\)$`),Cue=new RegExp(`^hsl\\(${Ih},${Na},${Na}\\)$`),Iue=new RegExp(`^hsla\\(${Ih},${Na},${Na},${Ih}\\)$`),FP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vb(F0,kh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LP,formatHex:LP,formatHex8:kue,formatHsl:Pue,formatRgb:UP,toString:UP});function LP(){return this.rgb().formatHex()}function kue(){return this.rgb().formatHex8()}function Pue(){return j5(this).formatHsl()}function UP(){return this.rgb().formatRgb()}function kh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Eue.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?$P(e):r===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tue.exec(t))?new Xn(e[1],e[2],e[3],1):(e=Sue.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bue.exec(t))?Np(e[1],e[2],e[3],e[4]):(e=Aue.exec(t))?Np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cue.exec(t))?jP(e[1],e[2]/100,e[3]/100,1):(e=Iue.exec(t))?jP(e[1],e[2]/100,e[3]/100,e[4]):FP.hasOwnProperty(t)?$P(FP[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function $P(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function Np(t,e,r,n){return n<=0&&(t=e=r=NaN),new Xn(t,e,r,n)}function Nue(t){return t instanceof F0||(t=kh(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function Kw(t,e,r,n){return arguments.length===1?Nue(t):new Xn(t,e,r,n??1)}function Xn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Vb(Xn,Kw,V5(F0,{brighter(t){return t=t==null?Pg:Math.pow(Pg,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ch:Math.pow(Ch,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(El(this.r),El(this.g),El(this.b),Ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BP,formatHex:BP,formatHex8:Rue,formatRgb:VP,toString:VP}));function BP(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}`}function Rue(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}${fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function VP(){const t=Ng(this.opacity);return`${t===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${t===1?")":`, ${t})`}`}function Ng(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function El(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fl(t){return t=El(t),(t<16?"0":"")+t.toString(16)}function jP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,r,n)}function j5(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof F0||(t=kh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Zi(s,o,l,t.opacity)}function Oue(t,e,r,n){return arguments.length===1?j5(t):new Zi(t,e,r,n??1)}function Zi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Vb(Zi,Oue,V5(F0,{brighter(t){return t=t==null?Pg:Math.pow(Pg,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ch:Math.pow(Ch,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Xn(E1(t>=240?t-240:t+120,i,n),E1(t,i,n),E1(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Zi(GP(this.h),Rp(this.s),Rp(this.l),Ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ng(this.opacity);return`${t===1?"hsl(":"hsla("}${GP(this.h)}, ${Rp(this.s)*100}%, ${Rp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GP(t){return t=(t||0)%360,t<0?t+360:t}function Rp(t){return Math.max(0,Math.min(1,t||0))}function E1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const jb=t=>()=>t;function Mue(t,e){return function(r){return t+r*e}}function Due(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Fue(t){return(t=+t)==1?G5:function(e,r){return r-e?Due(e,r,t):jb(isNaN(e)?r:e)}}function G5(t,e){var r=e-t;return r?Mue(t,r):jb(isNaN(t)?e:t)}const HP=function t(e){var r=Fue(e);function n(i,a){var s=r((i=Kw(i)).r,(a=Kw(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=G5(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Lue(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Uue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $ue(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=yf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Bue(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Rg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vue(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=yf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Xw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T1=new RegExp(Xw.source,"g");function jue(t){return function(){return t}}function Gue(t){return function(e){return t(e)+""}}function Hue(t,e){var r=Xw.lastIndex=T1.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Xw.exec(t))&&(i=T1.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Rg(n,i)})),r=T1.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Gue(l[0].x):jue(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function yf(t,e){var r=typeof e,n;return e==null||r==="boolean"?jb(e):(r==="number"?Rg:r==="string"?(n=kh(e))?(e=n,HP):Hue:e instanceof kh?HP:e instanceof Date?Bue:Uue(e)?Lue:Array.isArray(e)?$ue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vue:Rg)(t,e)}function Gb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function zue(t,e){e===void 0&&(e=t,t=yf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Wue(t){return function(){return t}}function Og(t){return+t}var zP=[0,1];function On(t){return t}function Yw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Wue(isNaN(e)?NaN:.5)}function que(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Kue(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Yw(i,n),a=r(s,a)):(n=Yw(n,i),a=r(a,s)),function(o){return a(n(o))}}function Xue(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Yw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=D0(t,o,1,n)-1;return a[l](i[l](o))}}function L0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function By(){var t=zP,e=zP,r=yf,n,i,a,s=On,o,l,c;function u(){var d=Math.min(t.length,e.length);return s!==On&&(s=que(t[0],t[d-1])),o=d>2?Xue:Kue,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(n),e,r)))(n(s(d)))}return f.invert=function(d){return s(i((c||(c=o(e,t.map(n),Rg)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Og),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=Gb,u()},f.clamp=function(d){return arguments.length?(s=d?!0:On,u()):s!==On},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return n=d,i=h,u()}}function Hb(){return By()(On,On)}function Yue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mg(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ou(t){return t=Mg(Math.abs(t)),t?t[1]:NaN}function Jue(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Que(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Zue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(t){if(!(e=Zue.exec(t)))throw new Error("invalid format: "+t);var e;return new zb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ph.prototype=zb.prototype;function zb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function efe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Dg;function tfe(t,e){var r=Mg(t,e);if(!r)return Dg=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(Dg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Mg(t,Math.max(0,e+a-1))[0]}function WP(t,e){var r=Mg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const qP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WP(t*100,e),r:WP,s:tfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KP(t){return t}var XP=Array.prototype.map,YP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rfe(t){var e=t.grouping===void 0||t.thousands===void 0?KP:Jue(XP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?KP:Que(XP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,d){f=Ph(f);var h=f.fill,y=f.align,v=f.sign,_=f.symbol,w=f.zero,T=f.width,E=f.comma,k=f.precision,A=f.trim,C=f.type;C==="n"?(E=!0,C="g"):qP[C]||(k===void 0&&(k=12),A=!0,C="g"),(w||h==="0"&&y==="=")&&(w=!0,h="0",y="=");var S=(d&&d.prefix!==void 0?d.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),I=(_==="$"?n:/[%p]/.test(C)?s:"")+(d&&d.suffix!==void 0?d.suffix:""),b=qP[C],N=/[defgprs%]/.test(C);k=k===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function O(R){var D=S,J=I,X,te,Z;if(C==="c")J=b(R)+J,R="";else{R=+R;var ee=R<0||1/R<0;if(R=isNaN(R)?l:b(Math.abs(R),k),A&&(R=efe(R)),ee&&+R==0&&v!=="+"&&(ee=!1),D=(ee?v==="("?v:o:v==="-"||v==="("?"":v)+D,J=(C==="s"&&!isNaN(R)&&Dg!==void 0?YP[8+Dg/3]:"")+J+(ee&&v==="("?")":""),N){for(X=-1,te=R.length;++X<te;)if(Z=R.charCodeAt(X),48>Z||Z>57){J=(Z===46?i+R.slice(X+1):R.slice(X))+J,R=R.slice(0,X);break}}}E&&!w&&(R=e(R,1/0));var z=D.length+R.length+J.length,ie=z<T?new Array(T-z+1).join(h):"";switch(E&&w&&(R=e(ie+R,ie.length?T-J.length:1/0),ie=""),y){case"<":R=D+R+J+ie;break;case"=":R=D+ie+R+J;break;case"^":R=ie.slice(0,z=ie.length>>1)+D+R+J+ie.slice(z);break;default:R=ie+D+R+J;break}return a(R)}return O.toString=function(){return f+""},O}function u(f,d){var h=Math.max(-8,Math.min(8,Math.floor(Ou(d)/3)))*3,y=Math.pow(10,-h),v=c((f=Ph(f),f.type="f",f),{suffix:YP[8+h/3]});return function(_){return v(y*_)}}return{format:c,formatPrefix:u}}var Op,Wb,H5;nfe({thousands:",",grouping:[3],currency:["$",""]});function nfe(t){return Op=rfe(t),Wb=Op.format,H5=Op.formatPrefix,Op}function ife(t){return Math.max(0,-Ou(Math.abs(t)))}function afe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ou(e)/3)))*3-Ou(Math.abs(t)))}function sfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ou(e)-Ou(t))+1}function z5(t,e,r,n){var i=Ww(t,e,r),a;switch(n=Ph(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=afe(i,s))&&(n.precision=a),H5(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=sfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=ife(i))&&(n.precision=a-(n.type==="%")*2);break}}return Wb(n)}function Bo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Hw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return z5(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=zw(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Fg(){var t=Hb();return t.copy=function(){return L0(t,Fg())},Vi.apply(t,arguments),Bo(t)}function W5(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Og),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return W5(t).unknown(e)},t=arguments.length?Array.from(t,Og):[0,1],Bo(r)}function q5(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function JP(t){return Math.log(t)}function QP(t){return Math.exp(t)}function ofe(t){return-Math.log(-t)}function lfe(t){return-Math.exp(-t)}function cfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ufe(t){return t===10?cfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ffe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZP(t){return(e,r)=>-t(-e,r)}function qb(t){const e=t(JP,QP),r=e.domain;let n=10,i,a;function s(){return i=ffe(n),a=ufe(n),r()[0]<0?(i=ZP(i),a=ZP(a),t(ofe,lfe)):t(JP,QP),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),y,v;const _=o==null?10:+o;let w=[];if(!(n%1)&&h-d<_){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(y=1;y<n;++y)if(v=d<0?y/a(-d):y*a(d),!(v<c)){if(v>u)break;w.push(v)}}else for(;d<=h;++d)for(y=n-1;y>=1;--y)if(v=d>0?y/a(-d):y*a(d),!(v<c)){if(v>u)break;w.push(v)}w.length*2<_&&(w=Hw(c,u,_))}else w=Hw(d,h,Math.min(h-d,_)).map(a);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ph(l)).precision==null&&(l.trim=!0),l=Wb(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(q5(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function K5(){const t=qb(By()).domain([1,10]);return t.copy=()=>L0(t,K5()).base(t.base()),Vi.apply(t,arguments),t}function eN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Kb(t){var e=1,r=t(eN(e),tN(e));return r.constant=function(n){return arguments.length?t(eN(e=+n),tN(e)):e},Bo(r)}function X5(){var t=Kb(By());return t.copy=function(){return L0(t,X5()).constant(t.constant())},Vi.apply(t,arguments)}function rN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hfe(t){return t<0?-t*t:t*t}function Xb(t){var e=t(On,On),r=1;function n(){return r===1?t(On,On):r===.5?t(dfe,hfe):t(rN(r),rN(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Bo(e)}function Yb(){var t=Xb(By());return t.copy=function(){return L0(t,Yb()).exponent(t.exponent())},Vi.apply(t,arguments),t}function pfe(){return Yb.apply(null,arguments).exponent(.5)}function nN(t){return Math.sign(t)*t*t}function mfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Y5(){var t=Hb(),e=[0,1],r=!1,n;function i(a){var s=mfe(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(nN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Og)).map(nN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Y5(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vi.apply(i,arguments),Bo(i)}function J5(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=_ue(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[D0(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(So),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return J5().domain(t).range(e).unknown(n)},Vi.apply(a,arguments)}function Q5(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[D0(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Q5().domain([t,e]).range(i).unknown(a)},Vi.apply(Bo(s),arguments)}function Z5(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[D0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Z5().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}const S1=new Date,b1=new Date;function Or(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Or(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(S1.setTime(+a),b1.setTime(+s),t(S1),t(b1),Math.floor(r(S1,b1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Lg=Or(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Or(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Lg);Lg.range;const rs=1e3,Pi=rs*60,ns=Pi*60,Ts=ns*24,Jb=Ts*7,iN=Ts*30,A1=Ts*365,dl=Or(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCSeconds());dl.range;const Qb=Or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getMinutes());Qb.range;const Zb=Or(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCMinutes());Zb.range;const eA=Or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs-t.getMinutes()*Pi)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getHours());eA.range;const tA=Or(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCHours());tA.range;const U0=Or(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/Ts,t=>t.getDate()-1);U0.range;const Vy=Or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>t.getUTCDate()-1);Vy.range;const e8=Or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>Math.floor(t/Ts));e8.range;function Ql(t){return Or(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Pi)/Jb)}const jy=Ql(0),Ug=Ql(1),gfe=Ql(2),vfe=Ql(3),Mu=Ql(4),yfe=Ql(5),xfe=Ql(6);jy.range;Ug.range;gfe.range;vfe.range;Mu.range;yfe.range;xfe.range;function Zl(t){return Or(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Jb)}const Gy=Zl(0),$g=Zl(1),_fe=Zl(2),wfe=Zl(3),Du=Zl(4),Efe=Zl(5),Tfe=Zl(6);Gy.range;$g.range;_fe.range;wfe.range;Du.range;Efe.range;Tfe.range;const rA=Or(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rA.range;const nA=Or(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nA.range;const Ss=Or(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Or(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ss.range;const bs=Or(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Or(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});bs.range;function t8(t,e,r,n,i,a){const s=[[dl,1,rs],[dl,5,5*rs],[dl,15,15*rs],[dl,30,30*rs],[a,1,Pi],[a,5,5*Pi],[a,15,15*Pi],[a,30,30*Pi],[i,1,ns],[i,3,3*ns],[i,6,6*ns],[i,12,12*ns],[n,1,Ts],[n,2,2*Ts],[r,1,Jb],[e,1,iN],[e,3,3*iN],[t,1,A1]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),y=h?h.range(c,+u+1):[];return d?y.reverse():y}function l(c,u,f){const d=Math.abs(u-c)/f,h=$b(([,,_])=>_).right(s,d);if(h===s.length)return t.every(Ww(c/A1,u/A1,f));if(h===0)return Lg.every(Math.max(Ww(c,u,f),1));const[y,v]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return y.every(v)}return[o,l]}const[Sfe,bfe]=t8(bs,nA,Gy,e8,tA,Zb),[Afe,Cfe]=t8(Ss,rA,jy,U0,eA,Qb);function C1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Ife(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Jf(i),u=Qf(i),f=Jf(a),d=Qf(a),h=Jf(s),y=Qf(s),v=Jf(o),_=Qf(o),w=Jf(l),T=Qf(l),E={a:Z,A:ee,b:z,B:ie,c:null,d:uN,e:uN,f:Jfe,g:ode,G:cde,H:Kfe,I:Xfe,j:Yfe,L:r8,m:Qfe,M:Zfe,p:me,q:U,Q:hN,s:pN,S:ede,u:tde,U:rde,V:nde,w:ide,W:ade,x:null,X:null,y:sde,Y:lde,Z:ude,"%":dN},k={a:q,A:Y,b:K,B:de,c:null,d:fN,e:fN,f:pde,g:Sde,G:Ade,H:fde,I:dde,j:hde,L:i8,m:mde,M:gde,p:xe,q:be,Q:hN,s:pN,S:vde,u:yde,U:xde,V:_de,w:wde,W:Ede,x:null,X:null,y:Tde,Y:bde,Z:Cde,"%":dN},A={a:N,A:O,b:R,B:D,c:J,d:lN,e:lN,f:Hfe,g:oN,G:sN,H:cN,I:cN,j:Bfe,L:Gfe,m:$fe,M:Vfe,p:b,q:Ufe,Q:Wfe,s:qfe,S:jfe,u:Ofe,U:Mfe,V:Dfe,w:Rfe,W:Ffe,x:X,X:te,y:oN,Y:sN,Z:Lfe,"%":zfe};E.x=C(r,E),E.X=C(n,E),E.c=C(e,E),k.x=C(r,k),k.X=C(n,k),k.c=C(e,k);function C(oe,ue){return function(Ie){var L=[],He=-1,Me=0,Ge=oe.length,Be,we,ut;for(Ie instanceof Date||(Ie=new Date(+Ie));++He<Ge;)oe.charCodeAt(He)===37&&(L.push(oe.slice(Me,He)),(we=aN[Be=oe.charAt(++He)])!=null?Be=oe.charAt(++He):we=Be==="e"?" ":"0",(ut=ue[Be])&&(Be=ut(Ie,we)),L.push(Be),Me=He+1);return L.push(oe.slice(Me,He)),L.join("")}}function S(oe,ue){return function(Ie){var L=Yf(1900,void 0,1),He=I(L,oe,Ie+="",0),Me,Ge;if(He!=Ie.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ue&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(Me=I1(Yf(L.y,0,1)),Ge=Me.getUTCDay(),Me=Ge>4||Ge===0?$g.ceil(Me):$g(Me),Me=Vy.offset(Me,(L.V-1)*7),L.y=Me.getUTCFullYear(),L.m=Me.getUTCMonth(),L.d=Me.getUTCDate()+(L.w+6)%7):(Me=C1(Yf(L.y,0,1)),Ge=Me.getDay(),Me=Ge>4||Ge===0?Ug.ceil(Me):Ug(Me),Me=U0.offset(Me,(L.V-1)*7),L.y=Me.getFullYear(),L.m=Me.getMonth(),L.d=Me.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ge="Z"in L?I1(Yf(L.y,0,1)).getUTCDay():C1(Yf(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ge+5)%7:L.w+L.U*7-(Ge+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,I1(L)):C1(L)}}function I(oe,ue,Ie,L){for(var He=0,Me=ue.length,Ge=Ie.length,Be,we;He<Me;){if(L>=Ge)return-1;if(Be=ue.charCodeAt(He++),Be===37){if(Be=ue.charAt(He++),we=A[Be in aN?ue.charAt(He++):Be],!we||(L=we(oe,Ie,L))<0)return-1}else if(Be!=Ie.charCodeAt(L++))return-1}return L}function b(oe,ue,Ie){var L=c.exec(ue.slice(Ie));return L?(oe.p=u.get(L[0].toLowerCase()),Ie+L[0].length):-1}function N(oe,ue,Ie){var L=h.exec(ue.slice(Ie));return L?(oe.w=y.get(L[0].toLowerCase()),Ie+L[0].length):-1}function O(oe,ue,Ie){var L=f.exec(ue.slice(Ie));return L?(oe.w=d.get(L[0].toLowerCase()),Ie+L[0].length):-1}function R(oe,ue,Ie){var L=w.exec(ue.slice(Ie));return L?(oe.m=T.get(L[0].toLowerCase()),Ie+L[0].length):-1}function D(oe,ue,Ie){var L=v.exec(ue.slice(Ie));return L?(oe.m=_.get(L[0].toLowerCase()),Ie+L[0].length):-1}function J(oe,ue,Ie){return I(oe,e,ue,Ie)}function X(oe,ue,Ie){return I(oe,r,ue,Ie)}function te(oe,ue,Ie){return I(oe,n,ue,Ie)}function Z(oe){return s[oe.getDay()]}function ee(oe){return a[oe.getDay()]}function z(oe){return l[oe.getMonth()]}function ie(oe){return o[oe.getMonth()]}function me(oe){return i[+(oe.getHours()>=12)]}function U(oe){return 1+~~(oe.getMonth()/3)}function q(oe){return s[oe.getUTCDay()]}function Y(oe){return a[oe.getUTCDay()]}function K(oe){return l[oe.getUTCMonth()]}function de(oe){return o[oe.getUTCMonth()]}function xe(oe){return i[+(oe.getUTCHours()>=12)]}function be(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ue=C(oe+="",E);return ue.toString=function(){return oe},ue},parse:function(oe){var ue=S(oe+="",!1);return ue.toString=function(){return oe},ue},utcFormat:function(oe){var ue=C(oe+="",k);return ue.toString=function(){return oe},ue},utcParse:function(oe){var ue=S(oe+="",!0);return ue.toString=function(){return oe},ue}}}var aN={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,kfe=/^%/,Pfe=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Nfe(t){return t.replace(Pfe,"\\$&")}function Jf(t){return new RegExp("^(?:"+t.map(Nfe).join("|")+")","i")}function Qf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Rfe(t,e,r){var n=Gr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Ofe(t,e,r){var n=Gr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Mfe(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Dfe(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ffe(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function sN(t,e,r){var n=Gr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function oN(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lfe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ufe(t,e,r){var n=Gr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function $fe(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function lN(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Bfe(t,e,r){var n=Gr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function cN(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Vfe(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function jfe(t,e,r){var n=Gr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Gfe(t,e,r){var n=Gr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Hfe(t,e,r){var n=Gr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zfe(t,e,r){var n=kfe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Wfe(t,e,r){var n=Gr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function qfe(t,e,r){var n=Gr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function uN(t,e){return _t(t.getDate(),e,2)}function Kfe(t,e){return _t(t.getHours(),e,2)}function Xfe(t,e){return _t(t.getHours()%12||12,e,2)}function Yfe(t,e){return _t(1+U0.count(Ss(t),t),e,3)}function r8(t,e){return _t(t.getMilliseconds(),e,3)}function Jfe(t,e){return r8(t,e)+"000"}function Qfe(t,e){return _t(t.getMonth()+1,e,2)}function Zfe(t,e){return _t(t.getMinutes(),e,2)}function ede(t,e){return _t(t.getSeconds(),e,2)}function tde(t){var e=t.getDay();return e===0?7:e}function rde(t,e){return _t(jy.count(Ss(t)-1,t),e,2)}function n8(t){var e=t.getDay();return e>=4||e===0?Mu(t):Mu.ceil(t)}function nde(t,e){return t=n8(t),_t(Mu.count(Ss(t),t)+(Ss(t).getDay()===4),e,2)}function ide(t){return t.getDay()}function ade(t,e){return _t(Ug.count(Ss(t)-1,t),e,2)}function sde(t,e){return _t(t.getFullYear()%100,e,2)}function ode(t,e){return t=n8(t),_t(t.getFullYear()%100,e,2)}function lde(t,e){return _t(t.getFullYear()%1e4,e,4)}function cde(t,e){var r=t.getDay();return t=r>=4||r===0?Mu(t):Mu.ceil(t),_t(t.getFullYear()%1e4,e,4)}function ude(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function fN(t,e){return _t(t.getUTCDate(),e,2)}function fde(t,e){return _t(t.getUTCHours(),e,2)}function dde(t,e){return _t(t.getUTCHours()%12||12,e,2)}function hde(t,e){return _t(1+Vy.count(bs(t),t),e,3)}function i8(t,e){return _t(t.getUTCMilliseconds(),e,3)}function pde(t,e){return i8(t,e)+"000"}function mde(t,e){return _t(t.getUTCMonth()+1,e,2)}function gde(t,e){return _t(t.getUTCMinutes(),e,2)}function vde(t,e){return _t(t.getUTCSeconds(),e,2)}function yde(t){var e=t.getUTCDay();return e===0?7:e}function xde(t,e){return _t(Gy.count(bs(t)-1,t),e,2)}function a8(t){var e=t.getUTCDay();return e>=4||e===0?Du(t):Du.ceil(t)}function _de(t,e){return t=a8(t),_t(Du.count(bs(t),t)+(bs(t).getUTCDay()===4),e,2)}function wde(t){return t.getUTCDay()}function Ede(t,e){return _t($g.count(bs(t)-1,t),e,2)}function Tde(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Sde(t,e){return t=a8(t),_t(t.getUTCFullYear()%100,e,2)}function bde(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Ade(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Du(t):Du.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Cde(){return"+0000"}function dN(){return"%"}function hN(t){return+t}function pN(t){return Math.floor(+t/1e3)}var vc,s8,o8;Ide({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ide(t){return vc=Ife(t),s8=vc.format,vc.parse,o8=vc.utcFormat,vc.utcParse,vc}function kde(t){return new Date(t)}function Pde(t){return t instanceof Date?+t:+new Date(+t)}function iA(t,e,r,n,i,a,s,o,l,c){var u=Hb(),f=u.invert,d=u.domain,h=c(".%L"),y=c(":%S"),v=c("%I:%M"),_=c("%I %p"),w=c("%a %d"),T=c("%b %d"),E=c("%B"),k=c("%Y");function A(C){return(l(C)<C?h:o(C)<C?y:s(C)<C?v:a(C)<C?_:n(C)<C?i(C)<C?w:T:r(C)<C?E:k)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?d(Array.from(C,Pde)):d().map(kde)},u.ticks=function(C){var S=d();return t(S[0],S[S.length-1],C??10)},u.tickFormat=function(C,S){return S==null?A:c(S)},u.nice=function(C){var S=d();return(!C||typeof C.range!="function")&&(C=e(S[0],S[S.length-1],C??10)),C?d(q5(S,C)):u},u.copy=function(){return L0(u,iA(t,e,r,n,i,a,s,o,l,c))},u}function Nde(){return Vi.apply(iA(Afe,Cfe,Ss,rA,jy,U0,eA,Qb,dl,s8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rde(){return Vi.apply(iA(Sfe,bfe,bs,nA,Gy,Vy,tA,Zb,dl,o8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hy(){var t=0,e=1,r,n,i,a,s=On,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,y;return arguments.length?([h,y]=d,s=f(h,y),c):[s(0),s(1)]}}return c.range=u(yf),c.rangeRound=u(Gb),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Vo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function l8(){var t=Bo(Hy()(On));return t.copy=function(){return Vo(t,l8())},Os.apply(t,arguments)}function c8(){var t=qb(Hy()).domain([1,10]);return t.copy=function(){return Vo(t,c8()).base(t.base())},Os.apply(t,arguments)}function u8(){var t=Kb(Hy());return t.copy=function(){return Vo(t,u8()).constant(t.constant())},Os.apply(t,arguments)}function aA(){var t=Xb(Hy());return t.copy=function(){return Vo(t,aA()).exponent(t.exponent())},Os.apply(t,arguments)}function Ode(){return aA.apply(null,arguments).exponent(.5)}function f8(){var t=[],e=On;function r(n){if(n!=null&&!isNaN(n=+n))return e((D0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(So),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>xue(t,a/n))},r.copy=function(){return f8(e).domain(t)},Os.apply(r,arguments)}function zy(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=On,u,f=!1,d;function h(v){return isNaN(v=+v)?d:(v=.5+((v=+u(v))-a)*(n*v<n*a?o:l),c(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,r]=v,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function y(v){return function(_){var w,T,E;return arguments.length?([w,T,E]=_,c=zue(v,[w,T,E]),h):[c(0),c(.5),c(1)]}}return h.range=y(yf),h.rangeRound=y(Gb),h.unknown=function(v){return arguments.length?(d=v,h):d},function(v){return u=v,i=v(t),a=v(e),s=v(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function d8(){var t=Bo(zy()(On));return t.copy=function(){return Vo(t,d8())},Os.apply(t,arguments)}function h8(){var t=qb(zy()).domain([.1,1,10]);return t.copy=function(){return Vo(t,h8()).base(t.base())},Os.apply(t,arguments)}function p8(){var t=Kb(zy());return t.copy=function(){return Vo(t,p8()).constant(t.constant())},Os.apply(t,arguments)}function sA(){var t=Xb(zy());return t.copy=function(){return Vo(t,sA()).exponent(t.exponent())},Os.apply(t,arguments)}function Mde(){return sA.apply(null,arguments).exponent(.5)}const mN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ah,scaleDiverging:d8,scaleDivergingLog:h8,scaleDivergingPow:sA,scaleDivergingSqrt:Mde,scaleDivergingSymlog:p8,scaleIdentity:W5,scaleImplicit:qw,scaleLinear:Fg,scaleLog:K5,scaleOrdinal:Bb,scalePoint:Od,scalePow:Yb,scaleQuantile:J5,scaleQuantize:Q5,scaleRadial:Y5,scaleSequential:l8,scaleSequentialLog:c8,scaleSequentialPow:aA,scaleSequentialQuantile:f8,scaleSequentialSqrt:Ode,scaleSequentialSymlog:u8,scaleSqrt:pfe,scaleSymlog:X5,scaleThreshold:Z5,scaleTime:Nde,scaleUtc:Rde,tickFormat:z5},Symbol.toStringTag,{value:"Module"}));var Dde=lf;function Fde(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Dde(s):r(s,o)))var o=s,l=a}return l}var m8=Fde;function Lde(t,e){return t>e}var Ude=Lde,$de=m8,Bde=Ude,Vde=gf;function jde(t){return t&&t.length?$de(t,Vde,Bde):void 0}var Gde=jde;const so=Rt(Gde);function Hde(t,e){return t<e}var zde=Hde,Wde=m8,qde=zde,Kde=gf;function Xde(t){return t&&t.length?Wde(t,Kde,qde):void 0}var Yde=Xde;const Wy=Rt(Yde);var Jde=xb,Qde=$o,Zde=S5,ehe=Zn;function the(t,e){var r=ehe(t)?Jde:Zde;return r(t,Qde(e))}var rhe=the,nhe=E5,ihe=rhe;function ahe(t,e){return nhe(ihe(t,e),1)}var she=ahe;const ohe=Rt(she);var lhe=Mb;function che(t,e){return lhe(t,e)}var uhe=che;const Nh=Rt(uhe);var xf=1e9,fhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lA,Kt=!0,Fi="[DecimalError] ",Tl=Fi+"Invalid argument: ",oA=Fi+"Exponent out of range: ",_f=Math.floor,nl=Math.pow,dhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,Ur=1e7,Vt=7,g8=9007199254740991,Bg=_f(g8/Vt),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Vt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(t){return cs(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,r=e.constructor;return Nt(cs(e,new r(t),0,1),r.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return Er(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(si))throw Error(Fi+"NaN");if(r.s<1)throw Error(Fi+(r.s?"NaN":"-Infinity"));return r.eq(si)?new n(0):(Kt=!1,e=cs(Rh(r,a),Rh(t,a),a),Kt=!0,Nt(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x8(e,t):v8(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Fi+"NaN");return r.s?(Kt=!1,e=cs(r,t,0,1).times(t),Kt=!0,r.minus(e)):Nt(new n(r),i)};Ue.naturalExponential=Ue.exp=function(){return y8(this)};Ue.naturalLogarithm=Ue.ln=function(){return Rh(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v8(e,t):x8(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tl+t);if(e=Er(i)+1,n=i.d.length-1,r=n*Vt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ue.squareRoot=Ue.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Fi+"NaN")}for(t=Er(o),Kt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ta(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_f((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(cs(o,a,s+2)).times(.5),Ta(a.d).slice(0,s)===(e=Ta(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Nt(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Kt=!0,Nt(n,r)};Ue.times=Ue.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=d.length,c=h.length,l<c&&(a=d,d=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*d[i-n-1]+e,a[i--]=o%Ur|0,e=o/Ur|0;a[i]=(a[i]+e)%Ur|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Kt?Nt(t,f.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Da(t,0,xf),e===void 0?e=n.rounding:Da(e,0,8),Nt(r,t+Er(r)+1,e))};Ue.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=$l(n,!0):(Da(t,0,xf),e===void 0?e=i.rounding:Da(e,0,8),n=Nt(new i(n),t+1,e),r=$l(n,!0,t+1)),r};Ue.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?$l(i):(Da(t,0,xf),e===void 0?e=a.rounding:Da(e,0,8),n=Nt(new a(i),t+Er(i)+1,e),r=$l(n.abs(),!1,t+Er(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),Er(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(si);if(o=new l(o),!o.s){if(t.s<1)throw Error(Fi+"Infinity");return o}if(o.eq(si))return o;if(n=l.precision,t.eq(si))return Nt(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=g8){for(i=new l(si),e=Math.ceil(n/Vt+4),Kt=!1;r%2&&(i=i.times(o),vN(i.d,e)),r=_f(r/2),r!==0;)o=o.times(o),vN(o.d,e);return Kt=!0,t.s<0?new l(si).div(i):Nt(i,n)}}else if(a<0)throw Error(Fi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Kt=!1,i=t.times(Rh(o,n+c)),Kt=!0,i=y8(i),i.s=a,i};Ue.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Er(i),n=$l(i,r<=a.toExpNeg||r>=a.toExpPos)):(Da(t,1,xf),e===void 0?e=a.rounding:Da(e,0,8),i=Nt(new a(i),t,e),r=Er(i),n=$l(i,t<=r||r<=a.toExpNeg,t)),n};Ue.toSignificantDigits=Ue.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Da(t,1,xf),e===void 0?e=n.rounding:Da(e,0,8)),Nt(new n(r),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Er(t),r=t.constructor;return $l(t,e<=r.toExpNeg||e>=r.toExpPos)};function v8(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Kt?Nt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Vt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Ur|0,l[a]%=Ur;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Kt?Nt(e,f):e}function Da(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Tl+t)}function Ta(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Vt-n.length,r&&(a+=Ks(r)),a+=n;s=t[e],n=s+"",r=Vt-n.length,r&&(a+=Ks(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var cs=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ur|0,s=a/Ur|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ur+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,d,h,y,v,_,w,T,E,k,A,C,S,I,b=n.constructor,N=n.s==i.s?1:-1,O=n.d,R=i.d;if(!n.s)return new b(n);if(!i.s)throw Error(Fi+"Division by zero");for(l=n.e-i.e,S=R.length,A=O.length,h=new b(N),y=h.d=[],c=0;R[c]==(O[c]||0);)++c;if(R[c]>(O[c]||0)&&--l,a==null?T=a=b.precision:s?T=a+(Er(n)-Er(i))+1:T=a,T<0)return new b(0);if(T=T/Vt+2|0,c=0,S==1)for(u=0,R=R[0],T++;(c<A||u)&&T--;c++)E=u*Ur+(O[c]||0),y[c]=E/R|0,u=E%R|0;else{for(u=Ur/(R[0]+1)|0,u>1&&(R=t(R,u),O=t(O,u),S=R.length,A=O.length),k=S,v=O.slice(0,S),_=v.length;_<S;)v[_++]=0;I=R.slice(),I.unshift(0),C=R[0],R[1]>=Ur/2&&++C;do u=0,o=e(R,v,S,_),o<0?(w=v[0],S!=_&&(w=w*Ur+(v[1]||0)),u=w/C|0,u>1?(u>=Ur&&(u=Ur-1),f=t(R,u),d=f.length,_=v.length,o=e(f,v,d,_),o==1&&(u--,r(f,S<d?I:R,d))):(u==0&&(o=u=1),f=R.slice()),d=f.length,d<_&&f.unshift(0),r(v,f,_),o==-1&&(_=v.length,o=e(R,v,S,_),o<1&&(u++,r(v,S<_?I:R,_))),_=v.length):o===0&&(u++,v=[0]),y[c++]=u,o&&v[0]?v[_++]=O[k]||0:(v=[O[k]],_=1);while((k++<A||v[0]!==void 0)&&T--)}return y[0]||y.shift(),h.e=l,Nt(h,s?a+Er(h)+1:a)}}();function y8(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Er(t)>16)throw Error(oA+Er(t));if(!t.s)return new u(si);for(Kt=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(nl(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(si),u.precision=o;;){if(i=Nt(i.times(t),o),r=r.times(++l),s=a.plus(cs(i,r,o)),Ta(s.d).slice(0,o)===Ta(a.d).slice(0,o)){for(;c--;)a=Nt(a.times(a),o);return u.precision=f,e==null?(Kt=!0,Nt(a,f)):a}a=s}}function Er(t){for(var e=t.e*Vt,r=t.d[0];r>=10;r/=10)e++;return e}function k1(t,e,r){if(e>t.LN10.sd())throw Kt=!0,r&&(t.precision=r),Error(Fi+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function Ks(t){for(var e="";t--;)e+="0";return e}function Rh(t,e){var r,n,i,a,s,o,l,c,u,f=1,d=10,h=t,y=h.d,v=h.constructor,_=v.precision;if(h.s<1)throw Error(Fi+(h.s?"NaN":"-Infinity"));if(h.eq(si))return new v(0);if(e==null?(Kt=!1,c=_):c=e,h.eq(10))return e==null&&(Kt=!0),k1(v,c);if(c+=d,v.precision=c,r=Ta(y),n=r.charAt(0),a=Er(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ta(h.d),n=r.charAt(0),f++;a=Er(h),n>1?(h=new v("0."+r),a++):h=new v(n+"."+r.slice(1))}else return l=k1(v,c+2,_).times(a+""),h=Rh(new v(n+"."+r.slice(1)),c-d).plus(l),v.precision=_,e==null?(Kt=!0,Nt(h,_)):h;for(o=s=h=cs(h.minus(si),h.plus(si),c),u=Nt(h.times(h),c),i=3;;){if(s=Nt(s.times(u),c),l=o.plus(cs(s,new v(i),c)),Ta(l.d).slice(0,c)===Ta(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(k1(v,c+2,_).times(a+""))),o=cs(o,new v(f),c),v.precision=_,e==null?(Kt=!0,Nt(o,_)):o;o=l,i+=2}}function gN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=_f(r/Vt),t.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Vt;n<i;)t.d.push(+e.slice(n,n+=Vt));e=e.slice(n),n=Vt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Kt&&(t.e>Bg||t.e<-Bg))throw Error(oA+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Vt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Vt),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Vt,i=n-Vt+s}if(r!==void 0&&(a=nl(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/nl(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Er(t),f.length=1,e=e-a-1,f[0]=nl(10,(Vt-e%Vt)%Vt),t.e=_f(-e/Vt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=nl(10,Vt-n),f[u]=i>0?(c/nl(10,s-i)%nl(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Ur&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Ur)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Kt&&(t.e>Bg||t.e<-Bg))throw Error(oA+Er(t));return t}function x8(t,e){var r,n,i,a,s,o,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Kt?Nt(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Vt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ur-1;--l[a],l[i]+=Ur}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Kt?Nt(e,h):e):new d(0)}function $l(t,e,r){var n,i=Er(t),a=Ta(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ks(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ks(-i-1)+a,r&&(n=r-s)>0&&(a+=Ks(n))):i>=s?(a+=Ks(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ks(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ks(n))),t.s<0?"-"+a:a}function vN(t,e){if(t.length>e)return t.length=e,!0}function _8(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Tl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return gN(s,a.toString())}else if(typeof a!="string")throw Error(Tl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dhe.test(a))gN(s,a);else throw Error(Tl+a)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_8,i.config=i.set=hhe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function hhe(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,r,n,i=["precision",1,xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(_f(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Tl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tl+r+": "+n);return this}var lA=_8(fhe);si=new lA(1);const Ct=lA;function phe(t){return yhe(t)||vhe(t)||ghe(t)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(t,e){if(t){if(typeof t=="string")return Jw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(t,e)}}function vhe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yhe(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xhe=function(e){return e},w8={},E8=function(e){return e===w8},yN=function(e){return function r(){return arguments.length===0||arguments.length===1&&E8(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},_he=function t(e,r){return e===1?r:yN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==w8}).length;return s>=e?r.apply(void 0,i):t(e-s,yN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return E8(f)?l.shift():f});return r.apply(void 0,phe(u).concat(l))}))})},qy=function(e){return _he(e.length,e)},Qw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},whe=qy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Ehe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return xhe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Zw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},T8=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function The(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function She(t,e,r){for(var n=new Ct(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var bhe=qy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Ahe=qy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Che=qy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ky={rangeStep:She,getDigitCount:The,interpolateNumber:bhe,uninterpolateNumber:Ahe,uninterpolateTruncation:Che};function eE(t){return Phe(t)||khe(t)||S8(t)||Ihe()}function Ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Phe(t){if(Array.isArray(t))return tE(t)}function Oh(t,e){return Ohe(t)||Rhe(t,e)||S8(t,e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rhe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Ohe(t){if(Array.isArray(t))return t}function b8(t){var e=Oh(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function A8(t,e,r){if(t.lte(0))return new Ct(0);var n=Ky.getDigitCount(t.toNumber()),i=new Ct(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Ct(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Ct(Math.ceil(l))}function Mhe(t,e,r){var n=1,i=new Ct(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ct(10).pow(Ky.getDigitCount(t)-1),i=new Ct(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):r||(i=new Ct(Math.floor(t)));var s=Math.floor((e-1)/2),o=Ehe(whe(function(l){return i.add(new Ct(l-s).mul(n)).toNumber()}),Qw);return o(0,e)}function C8(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var a=A8(new Ct(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Ct(0):(s=new Ct(t).add(e).div(2),s=s.sub(new Ct(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Ct(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?C8(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new Ct(o).mul(a)),tickMax:s.add(new Ct(l).mul(a))})}function Dhe(t){var e=Oh(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=b8([r,n]),l=Oh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(eE(Qw(0,i-1).map(function(){return 1/0}))):[].concat(eE(Qw(0,i-1).map(function(){return-1/0})),[u]);return r>n?Zw(f):f}if(c===u)return Mhe(c,i,a);var d=C8(c,u,s,a),h=d.step,y=d.tickMin,v=d.tickMax,_=Ky.rangeStep(y,v.add(new Ct(.1).mul(h)),h);return r>n?Zw(_):_}function Fhe(t,e){var r=Oh(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=b8([n,i]),o=Oh(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=A8(new Ct(c).sub(l).div(u-1),a,0),d=[].concat(eE(Ky.rangeStep(new Ct(l),new Ct(c).sub(new Ct(.99).mul(f)),f)),[c]);return n>i?Zw(d):d}var Lhe=T8(Dhe),Uhe=T8(Fhe),$he="Invariant failed";function Bl(t,e){throw new Error($he)}var Bhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vg.apply(this,arguments)}function Vhe(t,e){return zhe(t)||Hhe(t,e)||Ghe(t,e)||jhe()}function jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){if(t){if(typeof t=="string")return xN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function zhe(t){if(Array.isArray(t))return t}function Whe(t,e){if(t==null)return{};var r=qhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Khe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P8(n.key),n)}}function Yhe(t,e,r){return e&&Xhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,r){return e=jg(e),Qhe(t,I8()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function Qhe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zhe(t)}function Zhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function e0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rE(t,e)}function k8(t,e,r){return e=P8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P8(t){var e=t0e(t,"string");return Fu(e)=="symbol"?e:e+""}function t0e(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xy=function(t){function e(){return Khe(this,e),Jhe(this,e,arguments)}return e0e(e,t),Yhe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,d=Whe(n,Bhe),h=it(d,!1);this.props.direction==="x"&&u.type!=="number"&&Bl();var y=l.map(function(v){var _=c(v,o),w=_.x,T=_.y,E=_.value,k=_.errorVal;if(!k)return null;var A=[],C,S;if(Array.isArray(k)){var I=Vhe(k,2);C=I[0],S=I[1]}else C=S=k;if(a==="vertical"){var b=u.scale,N=T+i,O=N+s,R=N-s,D=b(E-C),J=b(E+S);A.push({x1:J,y1:O,x2:J,y2:R}),A.push({x1:D,y1:N,x2:J,y2:N}),A.push({x1:D,y1:O,x2:D,y2:R})}else if(a==="horizontal"){var X=f.scale,te=w+i,Z=te-s,ee=te+s,z=X(E-C),ie=X(E+S);A.push({x1:Z,y1:ie,x2:ee,y2:ie}),A.push({x1:te,y1:z,x2:te,y2:ie}),A.push({x1:Z,y1:z,x2:ee,y2:z})}return Q.createElement(Qt,Vg({className:"recharts-errorBar",key:"bar-".concat(A.map(function(me){return"".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))},h),A.map(function(me){return Q.createElement("line",Vg({},me,{key:"line-".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))}))});return Q.createElement(Qt,{className:"recharts-errorBars"},y)}}])}(Q.Component);k8(Xy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});k8(Xy,"displayName","ErrorBar");function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){r0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r0e(t,e,r){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n0e(t){var e=i0e(t,"string");return Mh(e)=="symbol"?e:e+""}function i0e(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N8=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ii(r,ru);if(!s)return null;var o=ru.defaultProps,l=o!==void 0?Jo(Jo({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var d=f.item,h=f.props,y=h.sectors||h.data||[];return u.concat(y.map(function(v){return{type:s.props.iconType||d.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?Jo(Jo({},d),f.props):{},y=h.dataKey,v=h.name,_=h.legendType,w=h.hide;return{inactive:w,dataKey:y,type:l.iconType||_||"square",color:cA(f),value:v||y,payload:h}}),Jo(Jo(Jo({},l),ru.getWithHeight(s,i)),{},{payload:c,item:s})};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function wN(t){return l0e(t)||o0e(t)||s0e(t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s0e(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function o0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l0e(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){iu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iu(t,e,r){return e=c0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c0e(t){var e=u0e(t,"string");return Dh(e)=="symbol"?e:e+""}function u0e(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hi(t,e,r){return ot(t)||ot(e)?r:Ir(e)?Ri(t,e,r):nt(e)?e(t):r}function Md(t,e,r,n){var i=ohe(t,function(o){return hi(o,e)});if(r==="number"){var a=i.filter(function(o){return Se(o)||parseFloat(o)});return a.length?[Wy(a),so(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!ot(o)}):i;return s.map(function(o){return Ir(o)||o instanceof Date?o:""})}var f0e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,d=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ta(f-u)!==ta(d-f)){var y=[];if(ta(d-f)===ta(l[1]-l[0])){h=d;var v=f+l[1]-l[0];y[0]=Math.min(v,(v+u)/2),y[1]=Math.max(v,(v+u)/2)}else{h=u;var _=d+l[1]-l[0];y[0]=Math.min(f,(_+f)/2),y[1]=Math.max(f,(_+f)/2)}var w=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var T=Math.min(u,d),E=Math.max(u,d);if(e>(T+f)/2&&e<=(E+f)/2){s=i[c].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<o-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===o-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},cA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?or(or({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},d0e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var y=u[f[d]],v=y.items,_=y.cateAxisId,w=v.filter(function(S){return os(S.type).indexOf("Bar")>=0});if(w&&w.length){var T=w[0].type.defaultProps,E=T!==void 0?or(or({},T),w[0].props):w[0].props,k=E.barSize,A=E[_];s[A]||(s[A]=[]);var C=ot(k)?r:k;s[A].push({item:w[0],stackList:w.slice(1),barSize:ot(C)?void 0:Ul(C,n,0)})}}return s},h0e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=Ul(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=i/l,y=s.reduce(function(k,A){return k+A.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&h>0&&(d=!0,h*=.9,y=l*h);var v=(i-y)/2>>0,_={offset:v-c,size:0};u=s.reduce(function(k,A){var C={item:A.item,position:{offset:_.offset+_.size+c,size:d?h:A.barSize}},S=[].concat(wN(k),[C]);return _=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){S.push({item:I,position:_})}),S},f)}else{var w=Ul(n,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var T=(i-2*w-(l-1)*c)/l;T>1&&(T>>=0);var E=o===+o?Math.min(T,o):T;u=s.reduce(function(k,A,C){var S=[].concat(wN(k),[{item:A.item,position:{offset:w+(T+c)*C+(T-E)/2,size:E}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){S.push({item:I,position:S[S.length-1].position})}),S},f)}return u},p0e=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=N8({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,h=c.align,y=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&h!=="center"&&Se(e[h]))return or(or({},e),{},iu({},h,e[h]+(f||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&y!=="middle"&&Se(e[y]))return or(or({},e),{},iu({},y,e[y]+(d||0)))}return e},m0e=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},R8=function(e,r,n,i,a){var s=r.props.children,o=oa(s,Xy).filter(function(c){return m0e(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=hi(u,n);if(ot(f))return c;var d=Array.isArray(f)?[Wy(f),so(f)]:[f,f],h=l.reduce(function(y,v){var _=hi(u,v,0),w=d[0]-Math.abs(Array.isArray(_)?_[0]:_),T=d[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(w,y[0]),Math.max(T,y[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},g0e=function(e,r,n,i,a){var s=r.map(function(o){return R8(e,o,n,a,i)}).filter(function(o){return!ot(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},O8=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&R8(e,l,c,i)||Md(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},M8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},D8=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},is=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ta(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!hf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:a?a[f]:f,index:d,offset:c}})},P1=new WeakMap,Mp=function(e,r){if(typeof r!="function")return e;P1.has(e)||P1.set(e,new WeakMap);var n=P1.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},v0e=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Ah(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Fg(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Od(),realScaleType:"point"}:a==="category"?{scale:Ah(),realScaleType:"band"}:{scale:Fg(),realScaleType:"linear"};if(Ll(i)){var l="scale".concat(Oy(i));return{scale:(mN[l]||Od)(),realScaleType:mN[l]?l:"point"}}return nt(i)?{scale:i}:{scale:Od(),realScaleType:"point"}},TN=1e-4,y0e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-TN,s=Math.max(i[0],i[1])+TN,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},x0e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},_0e=function(e,r){if(!r||r.length!==2||!Se(r[0])||!Se(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(a[0]=n),(!Se(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},w0e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=hf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},E0e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=hf(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},T0e={sign:w0e,expand:Uee,none:Iu,silhouette:$ee,wiggle:Bee,positive:E0e},S0e=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=T0e[n],s=Lee().keys(i).value(function(o,l){return+hi(o,l,0)}).order(Iw).offset(a);return s(e)},b0e=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,d){var h,y=(h=d.type)!==null&&h!==void 0&&h.defaultProps?or(or({},d.type.defaultProps),d.props):d.props,v=y.stackId,_=y.hide;if(_)return f;var w=y[n],T=f[w]||{hasStack:!1,stackGroups:{}};if(Ir(v)){var E=T.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(d),T.hasStack=!0,T.stackGroups[v]=E}else T.stackGroups[O0("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return or(or({},f),{},iu({},w,T))},l),u={};return Object.keys(c).reduce(function(f,d){var h=c[d];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,_){var w=h.stackGroups[_];return or(or({},v),{},iu({},_,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:S0e(e,w.items,a)}))},y)}return or(or({},f),{},iu({},d,h))},u)},A0e=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Lhe(c,a,o);return e.domain([Wy(u),so(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),d=Uhe(f,a,o);return{niceTicks:d}}return null};function SN(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ot(i[e.dataKey])){var o=dg(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=hi(i,ot(s)?e.dataKey:s);return ot(l)?null:e.scale(l)}var bN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=hi(s,r.dataKey,r.domain[o]);return ot(l)?null:r.scale(l)-a/2+i},C0e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},I0e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?or(or({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ir(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},k0e=function(e){return e.reduce(function(r,n){return[Wy(n.concat([r[0]]).filter(Se)),so(n.concat([r[1]]).filter(Se))]},[1/0,-1/0])},F8=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=k0e(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},AN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iE=function(e,r,n){if(nt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Se(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(AN.test(e[0])){var a=+AN.exec(e[0])[1];i[0]=r[0]-a}else nt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Se(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(CN.test(e[1])){var s=+CN.exec(e[1])[1];i[1]=r[1]+s}else nt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Gg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Fb(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},IN=function(e,r,n){return!e||!e.length||Nh(e,Ri(n,"type.defaultProps.domain"))?r:e},L8=function(e,r){var n=e.type.defaultProps?or(or({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return or(or({},it(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:cA(e),value:hi(r,i),type:l,payload:r,chartType:c,hide:u})};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){P0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P0e(t,e,r){return e=N0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N0e(t){var e=R0e(t,"string");return Fh(e)=="symbol"?e:e+""}function R0e(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hg=Math.PI/180,O0e=function(e){return e*180/Math.PI},Zr=function(e,r,n,i){return{x:e+Math.cos(-Hg*i)*n,y:r+Math.sin(-Hg*i)*n}},M0e=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},D0e=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=M0e({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:O0e(c),angleInRadian:c}},F0e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},L0e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},NN=function(e,r){var n=e.x,i=e.y,a=D0e({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=F0e(r),f=u.startAngle,d=u.endAngle,h=o,y;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;y=h>=d&&h<=f}return y?PN(PN({},r),{},{radius:s,angle:L0e(h,r)}):null};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}var U0e=["offset"];function $0e(t){return G0e(t)||j0e(t)||V0e(t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function j0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G0e(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H0e(t,e){if(t==null)return{};var r=z0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(r),!0).forEach(function(n){W0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W0e(t,e,r){return e=q0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q0e(t){var e=K0e(t,"string");return Lh(e)=="symbol"?e:e+""}function K0e(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uh.apply(this,arguments)}var X0e=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return nt(n)?n(i):i},Y0e=function(e,r){var n=ta(r-e),i=Math.min(Math.abs(r-e),360);return n*i},J0e=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,y=l.endAngle,v=l.clockWise,_=(f+d)/2,w=Y0e(h,y),T=w>=0?1:-1,E,k;i==="insideStart"?(E=h+T*s,k=v):i==="insideEnd"?(E=y-T*s,k=!v):i==="end"&&(E=y+T*s,k=v),k=w<=0?k:!k;var A=Zr(c,u,_,E),C=Zr(c,u,_,E+(k?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),I=ot(e.id)?O0("recharts-radial-line-"):e.id;return Q.createElement("text",Uh({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",o)}),Q.createElement("defs",null,Q.createElement("path",{id:I,d:S})),Q.createElement("textPath",{xlinkHref:"#".concat(I)},r))},Q0e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,d=(u+f)/2;if(i==="outside"){var h=Zr(s,o,c+n,d),y=h.x,v=h.y;return{x:y,y:v,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var _=(l+c)/2,w=Zr(s,o,_,d),T=w.x,E=w.y;return{x:T,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Z0e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",y=f>0?"start":"end",v=c>=0?1:-1,_=v*i,w=v>0?"end":"start",T=v>0?"start":"end";if(a==="top"){var E={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return Sr(Sr({},E),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var k={x:o+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:y};return Sr(Sr({},k),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var A={x:o-_,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Sr(Sr({},A),n?{width:Math.max(A.x-n.x,0),height:u}:{})}if(a==="right"){var C={x:o+c+_,y:l+u/2,textAnchor:T,verticalAnchor:"middle"};return Sr(Sr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var S=n?{width:c,height:u}:{};return a==="insideLeft"?Sr({x:o+_,y:l+u/2,textAnchor:T,verticalAnchor:"middle"},S):a==="insideRight"?Sr({x:o+c-_,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},S):a==="insideTop"?Sr({x:o+c/2,y:l+d,textAnchor:"middle",verticalAnchor:y},S):a==="insideBottom"?Sr({x:o+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:h},S):a==="insideTopLeft"?Sr({x:o+_,y:l+d,textAnchor:T,verticalAnchor:y},S):a==="insideTopRight"?Sr({x:o+c-_,y:l+d,textAnchor:w,verticalAnchor:y},S):a==="insideBottomLeft"?Sr({x:o+_,y:l+u-d,textAnchor:T,verticalAnchor:h},S):a==="insideBottomRight"?Sr({x:o+c-_,y:l+u-d,textAnchor:w,verticalAnchor:h},S):cf(a)&&(Se(a.x)||ul(a.x))&&(Se(a.y)||ul(a.y))?Sr({x:o+Ul(a.x,c),y:l+Ul(a.y,u),textAnchor:"end",verticalAnchor:"end"},S):Sr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},epe=function(e){return"cx"in e&&Se(e.cx)};function yn(t){var e=t.offset,r=e===void 0?5:e,n=H0e(t,U0e),i=Sr({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!a||ot(o)&&ot(l)&&!re.isValidElement(c)&&!nt(c))return null;if(re.isValidElement(c))return re.cloneElement(c,i);var h;if(nt(c)){if(h=re.createElement(c,i),re.isValidElement(h))return h}else h=X0e(i);var y=epe(a),v=it(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return J0e(i,h,v);var _=y?Q0e(i):Z0e(i);return Q.createElement(Ig,Uh({className:gt("recharts-label",f)},v,_,{breakAll:d}),h)}yn.displayName="Label";var U8=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,y=e.left,v=e.width,_=e.height,w=e.clockWise,T=e.labelViewBox;if(T)return T;if(Se(v)&&Se(_)){if(Se(f)&&Se(d))return{x:f,y:d,width:v,height:_};if(Se(h)&&Se(y))return{x:h,y,width:v,height:_}}return Se(f)&&Se(d)?{x:f,y:d,width:0,height:0}:Se(r)&&Se(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},tpe=function(e,r){return e?e===!0?Q.createElement(yn,{key:"label-implicit",viewBox:r}):Ir(e)?Q.createElement(yn,{key:"label-implicit",viewBox:r,value:e}):re.isValidElement(e)?e.type===yn?re.cloneElement(e,{key:"label-implicit",viewBox:r}):Q.createElement(yn,{key:"label-implicit",content:e,viewBox:r}):nt(e)?Q.createElement(yn,{key:"label-implicit",content:e,viewBox:r}):cf(e)?Q.createElement(yn,Uh({viewBox:r},e,{key:"label-implicit"})):null:null},rpe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=U8(e),s=oa(i,yn).map(function(l,c){return re.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=tpe(e.label,r||a);return[o].concat($0e(s))};yn.parseViewBox=U8;yn.renderCallByParent=rpe;function npe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ipe=npe;const ape=Rt(ipe);function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}var spe=["valueAccessor"],ope=["data","dataKey","clockWise","id","textBreakAll"];function lpe(t){return dpe(t)||fpe(t)||upe(t)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(t,e){if(t){if(typeof t=="string")return sE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(t,e)}}function fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dpe(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zg.apply(this,arguments)}function ON(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(r),!0).forEach(function(n){hpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hpe(t,e,r){return e=ppe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ppe(t){var e=mpe(t,"string");return $h(e)=="symbol"?e:e+""}function mpe(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DN(t,e){if(t==null)return{};var r=gpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vpe=function(e){return Array.isArray(e.value)?ape(e.value):e.value};function bo(t){var e=t.valueAccessor,r=e===void 0?vpe:e,n=DN(t,spe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=DN(n,ope);return!i||!i.length?null:Q.createElement(Qt,{className:"recharts-label-list"},i.map(function(u,f){var d=ot(a)?r(u,f):hi(u&&u.payload,a),h=ot(o)?{}:{id:"".concat(o,"-").concat(f)};return Q.createElement(yn,zg({},it(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:yn.parseViewBox(ot(s)?u:MN(MN({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}bo.displayName="LabelList";function ype(t,e){return t?t===!0?Q.createElement(bo,{key:"labelList-implicit",data:e}):Q.isValidElement(t)||nt(t)?Q.createElement(bo,{key:"labelList-implicit",data:e,content:t}):cf(t)?Q.createElement(bo,zg({data:e},t,{key:"labelList-implicit"})):null:null}function xpe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=oa(n,bo).map(function(s,o){return re.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=ype(t.label,e);return[a].concat(lpe(i))}bo.renderCallByParent=xpe;function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oE.apply(this,arguments)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){_pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _pe(t,e,r){return e=wpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wpe(t){var e=Epe(t,"string");return Bh(e)=="symbol"?e:e+""}function Epe(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tpe=function(e,r){var n=ta(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Dp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/Hg,d=c?a:a+s*f,h=Zr(r,n,u,d),y=Zr(r,n,i,d),v=c?a-s*f:a,_=Zr(r,n,u*Math.cos(f*Hg),v);return{center:h,circleTangency:y,lineTangency:_,theta:f}},$8=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Tpe(s,o),c=s+l,u=Zr(r,n,a,s),f=Zr(r,n,a,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Zr(r,n,i,s),y=Zr(r,n,i,c);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(r,",").concat(n," Z");return d},Spe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ta(u-c),d=Dp({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=d.circleTangency,y=d.lineTangency,v=d.theta,_=Dp({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=_.circleTangency,T=_.lineTangency,E=_.theta,k=l?Math.abs(c-u):Math.abs(c-u)-v-E;if(k<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$8({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var C=Dp({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=C.circleTangency,I=C.lineTangency,b=C.theta,N=Dp({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=N.circleTangency,R=N.lineTangency,D=N.theta,J=l?Math.abs(c-u):Math.abs(c-u)-b-D;if(J<0&&s===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},bpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},B8=function(e){var r=LN(LN({},bpe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,d=r.className;if(s<a||u===f)return null;var h=gt("recharts-sector",d),y=s-a,v=Ul(o,y,0,!0),_;return v>0&&Math.abs(u-f)<360?_=Spe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):_=$8({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),Q.createElement("path",oE({},it(r,!0),{className:h,d:_,role:"img"}))};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lE.apply(this,arguments)}function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){Ape(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ape(t,e,r){return e=Cpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cpe(t){var e=Ipe(t,"string");return Vh(e)=="symbol"?e:e+""}function Ipe(t,e){if(Vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BN={curveBasisClosed:Aee,curveBasisOpen:Cee,curveBasis:bee,curveBumpX:fee,curveBumpY:dee,curveLinearClosed:Iee,curveLinear:Dy,curveMonotoneX:kee,curveMonotoneY:Pee,curveNatural:Nee,curveStep:Ree,curveStepAfter:Mee,curveStepBefore:Oee},Fp=function(e){return e.x===+e.x&&e.y===+e.y},Zf=function(e){return e.x},ed=function(e){return e.y},kpe=function(e,r){if(nt(e))return e;var n="curve".concat(Oy(e));return(n==="curveMonotone"||n==="curveBump")&&r?BN["".concat(n).concat(r==="vertical"?"Y":"X")]:BN[n]||Dy},Ppe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=kpe(n,o),f=c?a.filter(function(v){return Fp(v)}):a,d;if(Array.isArray(s)){var h=c?s.filter(function(v){return Fp(v)}):s,y=f.map(function(v,_){return $N($N({},v),{},{base:h[_]})});return o==="vertical"?d=Ap().y(ed).x1(Zf).x0(function(v){return v.base.x}):d=Ap().x(Zf).y1(ed).y0(function(v){return v.base.y}),d.defined(Fp).curve(u),d(y)}return o==="vertical"&&Se(s)?d=Ap().y(ed).x1(Zf).x0(s):Se(s)?d=Ap().x(Zf).y1(ed).y0(s):d=V6().x(Zf).y(ed),d.defined(Fp).curve(u),d(f)},Dd=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Ppe(e):i;return re.createElement("path",lE({},it(e,!1),hg(e),{className:gt("recharts-curve",r),d:s,ref:a}))},V8={exports:{}},Npe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rpe=Npe,Ope=Rpe;function j8(){}function G8(){}G8.resetWarningCache=j8;var Mpe=function(){function t(n,i,a,s,o,l){if(l!==Ope){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G8,resetWarningCache:j8};return r.PropTypes=r,r};V8.exports=Mpe();var Dpe=V8.exports;const Et=Rt(Dpe),{getOwnPropertyNames:Fpe,getOwnPropertySymbols:Lpe}=Object,{hasOwnProperty:Upe}=Object.prototype;function N1(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Lp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);const l=t(r,n,i);return a.delete(r),a.delete(n),l}}function $pe(t){return t!=null?t[Symbol.toStringTag]:void 0}function VN(t){return Fpe(t).concat(Lpe(t))}const Bpe=Object.hasOwn||((t,e)=>Upe.call(t,e));function ec(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Vpe="__v",jpe="__o",Gpe="_owner",{getOwnPropertyDescriptor:jN,keys:GN}=Object;function Hpe(t,e){return t.byteLength===e.byteLength&&Wg(new Uint8Array(t),new Uint8Array(e))}function zpe(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Wpe(t,e){return t.byteLength===e.byteLength&&Wg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function qpe(t,e){return ec(t.getTime(),e.getTime())}function Kpe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Xpe(t,e){return t===e}function HN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const d=s.value,h=o.value;if(r.equals(d[0],h[0],l,f,t,e,r)&&r.equals(d[1],h[1],d[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const Ype=ec;function Jpe(t,e,r){const n=GN(t);let i=n.length;if(GN(e).length!==i)return!1;for(;i-- >0;)if(!H8(t,e,r,n[i]))return!1;return!0}function td(t,e,r){const n=VN(t);let i=n.length;if(VN(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=n[i],!H8(t,e,r,a)||(s=jN(t,a),o=jN(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Qpe(t,e){return ec(t.valueOf(),e.valueOf())}function Zpe(t,e){return t.source===e.source&&t.flags===e.flags}function zN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Wg(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function eme(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function H8(t,e,r,n){return(n===Gpe||n===jpe||n===Vpe)&&(t.$$typeof||e.$$typeof)?!0:Bpe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const tme="[object ArrayBuffer]",rme="[object Arguments]",nme="[object Boolean]",ime="[object DataView]",ame="[object Date]",sme="[object Error]",ome="[object Map]",lme="[object Number]",cme="[object Object]",ume="[object RegExp]",fme="[object Set]",dme="[object String]",hme={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pme="[object URL]",mme=Object.prototype.toString;function gme({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:h,unknownTagComparators:y}){return function(_,w,T){if(_===w)return!0;if(_==null||w==null)return!1;const E=typeof _;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?o(_,w,T):E==="function"?a(_,w,T):!1;const k=_.constructor;if(k!==w.constructor)return!1;if(k===Object)return l(_,w,T);if(Array.isArray(_))return e(_,w,T);if(k===Date)return n(_,w,T);if(k===RegExp)return u(_,w,T);if(k===Map)return s(_,w,T);if(k===Set)return f(_,w,T);const A=mme.call(_);if(A===ame)return n(_,w,T);if(A===ume)return u(_,w,T);if(A===ome)return s(_,w,T);if(A===fme)return f(_,w,T);if(A===cme)return typeof _.then!="function"&&typeof w.then!="function"&&l(_,w,T);if(A===pme)return h(_,w,T);if(A===sme)return i(_,w,T);if(A===rme)return l(_,w,T);if(hme[A])return d(_,w,T);if(A===tme)return t(_,w,T);if(A===ime)return r(_,w,T);if(A===nme||A===lme||A===dme)return c(_,w,T);if(y){let C=y[A];if(!C){const S=$pe(_);S&&(C=y[S])}if(C)return C(_,w,T)}return!1}}function vme({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Hpe,areArraysEqual:r?td:zpe,areDataViewsEqual:Wpe,areDatesEqual:qpe,areErrorsEqual:Kpe,areFunctionsEqual:Xpe,areMapsEqual:r?N1(HN,td):HN,areNumbersEqual:Ype,areObjectsEqual:r?td:Jpe,arePrimitiveWrappersEqual:Qpe,areRegExpsEqual:Zpe,areSetsEqual:r?N1(zN,td):zN,areTypedArraysEqual:r?N1(Wg,td):Wg,areUrlsEqual:eme,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Lp(n.areArraysEqual),a=Lp(n.areMapsEqual),s=Lp(n.areObjectsEqual),o=Lp(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return n}function yme(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function xme({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=r();return e(o,l,{cache:c,equals:n,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const _me=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:()=>ec});jo({strict:!0,createInternalComparator:()=>ec});jo({circular:!0,createInternalComparator:()=>ec});jo({circular:!0,createInternalComparator:()=>ec,strict:!0});function jo(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=vme(t),s=gme(a),o=r?r(s):yme(s);return xme({circular:e,comparator:s,createState:n,equals:o,strict:i})}function wme(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function WN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):wme(i)};requestAnimationFrame(n)}function cE(t){"@babel/helpers - typeof";return cE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cE(t)}function Eme(t){return Ame(t)||bme(t)||Sme(t)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(t,e){if(t){if(typeof t=="string")return qN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(t,e)}}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ame(t){if(Array.isArray(t))return t}function Cme(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Eme(s),l=o[0],c=o.slice(1);if(typeof l=="number"){WN(i.bind(null,c),l);return}i(l),WN(i.bind(null,c));return}cE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function KN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(r),!0).forEach(function(n){z8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z8(t,e,r){return e=Ime(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ime(t){var e=kme(t,"string");return jh(e)==="symbol"?e:String(e)}function kme(t,e){if(jh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pme=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Nme=function(e){return e},Rme=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fd=function(e,r){return Object.keys(r).reduce(function(n,i){return XN(XN({},n),{},z8({},i,e(i,r[i])))},{})},YN=function(e,r,n){return e.map(function(i){return"".concat(Rme(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Ome(t,e){return Fme(t)||Dme(t,e)||W8(t,e)||Mme()}function Mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Fme(t){if(Array.isArray(t))return t}function Lme(t){return Bme(t)||$me(t)||W8(t)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8(t,e){if(t){if(typeof t=="string")return uE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uE(t,e)}}function $me(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bme(t){if(Array.isArray(t))return uE(t)}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qg=1e-4,q8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},K8=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},JN=function(e,r){return function(n){var i=q8(e,r);return K8(i,n)}},Vme=function(e,r){return function(n){var i=q8(e,r),a=[].concat(Lme(i.map(function(s,o){return s*o}).slice(1)),[0]);return K8(a,n)}},QN=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),u=Ome(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=JN(i,s),d=JN(a,o),h=Vme(i,s),y=function(w){return w>1?1:w<0?0:w},v=function(w){for(var T=w>1?1:w,E=T,k=0;k<8;++k){var A=f(E)-T,C=h(E);if(Math.abs(A-T)<qg||C<qg)return d(E);E=y(E-A/C)}return d(E)};return v.isStepper=!1,v},jme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,d){var h=-(u-f)*n,y=d*a,v=d+(h-y)*o/1e3,_=d*o/1e3+u;return Math.abs(_-f)<qg&&Math.abs(v)<qg?[f,0]:[_,v]};return l.isStepper=!0,l.dt=o,l},Gme=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QN(i);case"spring":return jme();default:if(i.split("(")[0]==="cubic-bezier")return QN(i)}return typeof i=="function"?i:null};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function ZN(t){return Wme(t)||zme(t)||X8(t)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wme(t){if(Array.isArray(t))return dE(t)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){fE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fE(t,e,r){return e=qme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qme(t){var e=Kme(t,"string");return Gh(e)==="symbol"?e:String(e)}function Kme(t,e){if(Gh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xme(t,e){return Qme(t)||Jme(t,e)||X8(t,e)||Yme()}function Yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8(t,e){if(t){if(typeof t=="string")return dE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dE(t,e)}}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Qme(t){if(Array.isArray(t))return t}var Kg=function(e,r,n){return e+(r-e)*n},hE=function(e){var r=e.from,n=e.to;return r!==n},Zme=function t(e,r,n){var i=Fd(function(a,s){if(hE(s)){var o=e(s.from,s.to,s.velocity),l=Xme(o,2),c=l[0],u=l[1];return Kr(Kr({},s),{},{from:c,velocity:u})}return s},r);return n<1?Fd(function(a,s){return hE(s)?Kr(Kr({},s),{},{velocity:Kg(s.velocity,i[a].velocity,n),from:Kg(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const ege=function(t,e,r,n,i){var a=Pme(t,e),s=a.reduce(function(_,w){return Kr(Kr({},_),{},fE({},w,[t[w],e[w]]))},{}),o=a.reduce(function(_,w){return Kr(Kr({},_),{},fE({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return Fd(function(w,T){return T.from},o)},h=function(){return!Object.values(o).filter(hE).length},y=function(w){c||(c=w);var T=w-c,E=T/r.dt;o=Zme(r,o,E),i(Kr(Kr(Kr({},t),e),d())),c=w,h()||(l=requestAnimationFrame(f))},v=function(w){u||(u=w);var T=(w-u)/n,E=Fd(function(A,C){return Kg.apply(void 0,ZN(C).concat([r(T)]))},s);if(i(Kr(Kr(Kr({},t),e),E)),T<1)l=requestAnimationFrame(f);else{var k=Fd(function(A,C){return Kg.apply(void 0,ZN(C).concat([r(1)]))},s);i(Kr(Kr(Kr({},t),e),k))}};return f=r.isStepper?y:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}var tge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rge(t,e){if(t==null)return{};var r=nge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nge(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function R1(t){return oge(t)||sge(t)||age(t)||ige()}function ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(t,e){if(t){if(typeof t=="string")return pE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(t,e)}}function sge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oge(t){if(Array.isArray(t))return pE(t)}function pE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){hd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hd(t,e,r){return e=Y8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y8(n.key),n)}}function uge(t,e,r){return e&&cge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y8(t){var e=fge(t,"string");return Lu(e)==="symbol"?e:String(e)}function fge(t,e){if(Lu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(t,e)}function hge(t){var e=pge();return function(){var n=Xg(t),i;if(e){var a=Xg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gE(this,i)}}function gE(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vE(t)}function vE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}var As=function(t){dge(r,t);var e=hge(r);function r(n,i){var a;lge(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,d=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(vE(a)),a.changeStyle=a.changeStyle.bind(vE(a)),!o||h<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:u}),gE(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof d=="function")return a.state={style:c},gE(a);a.state={style:l?hd({},l,c):c}}else a.state={style:{}};return a}return uge(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,d=this.state.style;if(o){if(!s){var h={style:l?hd({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(h);return}if(!(_me(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||c?f:i.to;if(this.state&&d){var _={style:l?hd({},l,v):v};(l&&d[l]!==v||!l&&d!==v)&&this.setState(_)}this.runAnimation(Wi(Wi({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=ege(s,o,Gme(c),l,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([d,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,d=f===void 0?0:f,h=function(v,_,w){if(w===0)return v;var T=_.duration,E=_.easing,k=E===void 0?"ease":E,A=_.style,C=_.properties,S=_.onAnimationEnd,I=w>0?s[w-1]:_,b=C||Object.keys(A);if(typeof k=="function"||k==="spring")return[].concat(R1(v),[a.runJSAnimation.bind(a,{from:I.style,to:A,duration:T,easing:k}),T]);var N=YN(b,T,k),O=Wi(Wi(Wi({},I.style),A),{},{transition:N});return[].concat(R1(v),[O,T,S]).filter(Nme)};return this.manager.start([l].concat(R1(s.reduce(h,[u,Math.max(d,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Cme());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var v=o?hd({},o,l):l,_=YN(Object.keys(v),s,c);y.start([u,a,Wi(Wi({},v),{},{transition:_}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=rge(i,tge),c=re.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var y=h.props,v=y.style,_=v===void 0?{}:v,w=y.className,T=re.cloneElement(h,Wi(Wi({},l),{},{style:Wi(Wi({},_),u),className:w}));return T};return c===1?f(re.Children.only(a)):Q.createElement("div",null,re.Children.map(a,function(d){return f(d)}))}}]),r}(re.PureComponent);As.displayName="Animate";As.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};As.propTypes={from:Et.oneOfType([Et.object,Et.string]),to:Et.oneOfType([Et.object,Et.string]),attributeName:Et.string,duration:Et.number,begin:Et.number,easing:Et.oneOfType([Et.string,Et.func]),steps:Et.arrayOf(Et.shape({duration:Et.number.isRequired,style:Et.object.isRequired,easing:Et.oneOfType([Et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Et.func]),properties:Et.arrayOf("string"),onAnimationEnd:Et.func})),children:Et.oneOfType([Et.node,Et.func]),isActive:Et.bool,canBegin:Et.bool,onAnimationEnd:Et.func,shouldReAnimate:Et.bool,onAnimationStart:Et.func,onAnimationReStart:Et.func};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yg.apply(this,arguments)}function mge(t,e){return xge(t)||yge(t,e)||vge(t,e)||gge()}function gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(t,e){if(t){if(typeof t=="string")return rR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xge(t){if(Array.isArray(t))return t}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){_ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ge(t,e,r){return e=wge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wge(t){var e=Ege(t,"string");return Hh(e)=="symbol"?e:e+""}function Ege(t,e){if(Hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aR=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>s?s:a[d];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);u="M ".concat(e,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*y,`
            L `).concat(e+n,",").concat(r+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*y," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Tge=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),d=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=d}return!1},Sge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uA=function(e){var r=iR(iR({},Sge),e),n=re.useRef(),i=re.useState(-1),a=mge(i,2),s=a[0],o=a[1];re.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&o(k)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,d=r.radius,h=r.className,y=r.animationEasing,v=r.animationDuration,_=r.animationBegin,w=r.isAnimationActive,T=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var E=gt("recharts-rectangle",h);return T?Q.createElement(As,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:y,isActive:T},function(k){var A=k.width,C=k.height,S=k.x,I=k.y;return Q.createElement(As,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,isActive:w,easing:y},Q.createElement("path",Yg({},it(r,!0),{className:E,d:aR(S,I,A,C,d),ref:n})))}):Q.createElement("path",Yg({},it(r,!0),{className:E,d:aR(l,c,u,f,d)}))};function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yE.apply(this,arguments)}var fA=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=gt("recharts-dot",a);return r===+r&&n===+n&&i===+i?re.createElement("circle",yE({},it(e,!1),hg(e),{className:s,cx:r,cy:n,r:i})):null};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}var bge=["x","y","top","left","width","height","className"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xE.apply(this,arguments)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Age(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){Cge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cge(t,e,r){return e=Ige(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ige(t){var e=kge(t,"string");return zh(e)=="symbol"?e:e+""}function kge(t,e){if(zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pge(t,e){if(t==null)return{};var r=Nge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Rge=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Oge=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,y=e.className,v=Pge(e,bge),_=Age({x:n,y:a,top:o,left:c,width:f,height:h},v);return!Se(n)||!Se(a)||!Se(f)||!Se(h)||!Se(o)||!Se(c)?null:Q.createElement("path",xE({},it(_,!0),{className:gt("recharts-cross",y),d:Rge(n,a,f,h,o,c)}))},Mge=f5,Dge=Mge(Object.getPrototypeOf,Object),Fge=Dge,Lge=Ns,Uge=Fge,$ge=Rs,Bge="[object Object]",Vge=Function.prototype,jge=Object.prototype,J8=Vge.toString,Gge=jge.hasOwnProperty,Hge=J8.call(Object);function zge(t){if(!$ge(t)||Lge(t)!=Bge)return!1;var e=Uge(t);if(e===null)return!0;var r=Gge.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&J8.call(r)==Hge}var Wge=zge;const qge=Rt(Wge);var Kge=Ns,Xge=Rs,Yge="[object Boolean]";function Jge(t){return t===!0||t===!1||Xge(t)&&Kge(t)==Yge}var Qge=Jge;const Zge=Rt(Qge);function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jg.apply(this,arguments)}function eve(t,e){return ive(t)||nve(t,e)||rve(t,e)||tve()}function tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rve(t,e){if(t){if(typeof t=="string")return oR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ive(t){if(Array.isArray(t))return t}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){ave(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ave(t,e,r){return e=sve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sve(t){var e=ove(t,"string");return Wh(e)=="symbol"?e:e+""}function ove(t,e){if(Wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uR=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},lve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cve=function(e){var r=cR(cR({},lve),e),n=re.useRef(),i=re.useState(-1),a=eve(i,2),s=a[0],o=a[1];re.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&o(E)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,d=r.height,h=r.className,y=r.animationEasing,v=r.animationDuration,_=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var T=gt("recharts-trapezoid",h);return w?Q.createElement(As,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:v,animationEasing:y,isActive:w},function(E){var k=E.upperWidth,A=E.lowerWidth,C=E.height,S=E.x,I=E.y;return Q.createElement(As,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,easing:y},Q.createElement("path",Jg({},it(r,!0),{className:T,d:uR(S,I,k,A,C),ref:n})))}):Q.createElement("g",null,Q.createElement("path",Jg({},it(r,!0),{className:T,d:uR(l,c,u,f,d)})))},uve=["option","shapeType","propTransformer","activeClassName","isActive"];function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function fve(t,e){if(t==null)return{};var r=dve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){hve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hve(t,e,r){return e=pve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pve(t){var e=mve(t,"string");return qh(e)=="symbol"?e:e+""}function mve(t,e){if(qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gve(t,e){return Qg(Qg({},e),t)}function vve(t,e){return t==="symbols"}function dR(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Q.createElement(uA,r);case"trapezoid":return Q.createElement(cve,r);case"sector":return Q.createElement(B8,r);case"symbols":if(vve(e))return Q.createElement(Ib,r);break;default:return null}}function yve(t){return re.isValidElement(t)?t.props:t}function xve(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?gve:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=fve(t,uve),c;if(re.isValidElement(e))c=re.cloneElement(e,Qg(Qg({},l),yve(e)));else if(nt(e))c=e(l);else if(qge(e)&&!Zge(e)){var u=i(e,l);c=Q.createElement(dR,{shapeType:r,elementProps:u})}else{var f=l;c=Q.createElement(dR,{shapeType:r,elementProps:f})}return o?Q.createElement(Qt,{className:s},c):c}function Yy(t,e){return e!=null&&"trapezoids"in t.props}function Jy(t,e){return e!=null&&"sectors"in t.props}function Kh(t,e){return e!=null&&"points"in t.props}function _ve(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function wve(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Eve(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Tve(t,e){var r;return Yy(t,e)?r=_ve:Jy(t,e)?r=wve:Kh(t,e)&&(r=Eve),r}function Sve(t,e){var r;return Yy(t,e)?r="trapezoids":Jy(t,e)?r="sectors":Kh(t,e)&&(r="points"),r}function bve(t,e){if(Yy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kh(t,e)?e.payload:{}}function Ave(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Sve(r,e),a=bve(r,e),s=n.filter(function(l,c){var u=Nh(a,l),f=r.props[i].filter(function(y){var v=Tve(r,e);return v(y,e)}),d=r.props[i].indexOf(f[f.length-1]),h=c===d;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var Cve=Math.ceil,Ive=Math.max;function kve(t,e,r,n){for(var i=-1,a=Ive(Cve((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var Pve=kve,Nve=P5,hR=1/0,Rve=17976931348623157e292;function Ove(t){if(!t)return t===0?t:0;if(t=Nve(t),t===hR||t===-hR){var e=t<0?-1:1;return e*Rve}return t===t?t:0}var Q8=Ove,Mve=Pve,Dve=$y,O1=Q8;function Fve(t){return function(e,r,n){return n&&typeof n!="number"&&Dve(e,r,n)&&(r=n=void 0),e=O1(e),r===void 0?(r=e,e=0):r=O1(r),n=n===void 0?e<r?1:-1:O1(n),Mve(e,r,n,t)}}var Lve=Fve,Uve=Lve,$ve=Uve(),Bve=$ve;const Zg=Rt(Bve);function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){Z8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z8(t,e,r){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vve(t){var e=jve(t,"string");return Xh(e)=="symbol"?e:e+""}function jve(t,e){if(Xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gve=["Webkit","Moz","O","ms"],Hve=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gve.reduce(function(a,s){return mR(mR({},a),{},Z8({},s+n,r))},{});return i[e]=r,i};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ev.apply(this,arguments)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tU(n.key),n)}}function Wve(t,e,r){return e&&vR(t.prototype,e),r&&vR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qve(t,e,r){return e=tv(e),Kve(t,eU()?Reflect.construct(e,r||[],tv(t).constructor):e.apply(t,r))}function Kve(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(t)}function Xve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(t)}function Yve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_E(t,e)}function ri(t,e,r){return e=tU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tU(t){var e=Jve(t,"string");return Uu(e)=="symbol"?e:e+""}function Jve(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qve=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Od().domain(Zg(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},yR=function(e){return e.changedTouches&&!!e.changedTouches.length},$u=function(t){function e(r){var n;return zve(this,e),n=qve(this,e,[r]),ri(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ri(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ri(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),ri(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ri(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ri(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ri(n,"handleSlideDragStart",function(i){var a=yR(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Yve(e,t),Wve(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),d=Math.max(i,a),h=e.getIndexInRange(s,f),y=e.getIndexInRange(s,d);return{startIndex:h-h%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=hi(a[n],o,n);return nt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,y=l.onChange,v=n.pageX-a;v>0?v=Math.min(v,c+u-f-o,c+u-f-s):v<0&&(v=Math.max(v,c-s,c-o));var _=this.getIndex({startX:s+v,endX:o+v});(_.startIndex!==d||_.endIndex!==h)&&y&&y(_),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=yR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,y=u.onChange,v=u.gap,_=u.data,w={startX:this.state.startX,endX:this.state.endX},T=n.pageX-a;T>0?T=Math.min(T,f+d-h-c):T<0&&(T=Math.max(T,f-c)),w[s]=c+T;var E=this.getIndex(w),k=E.startIndex,A=E.endIndex,C=function(){var I=_.length-1;return s==="startX"&&(o>l?k%v===0:A%v===0)||o<l&&A===I||s==="endX"&&(o>l?A%v===0:k%v===0)||o>l&&A===I};this.setState(ri(ri({},s,c+T),"brushMoveStartX",n.pageX),function(){y&&C()&&y(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var d=f+n;if(!(d===-1||d>=o.length)){var h=o[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(ri({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Q.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=re.Children.only(c);return f?Q.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,y=l.data,v=l.startIndex,_=l.endIndex,w=Math.max(n,this.props.x),T=M1(M1({},it(this.props,!1)),{},{x:w,y:c,width:u,height:f}),E=h||"Min value: ".concat((a=y[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[_])===null||s===void 0?void 0:s.name);return Q.createElement(Qt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,T))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,d=u.endX,h=5,y={pointerEvents:"none",fill:c};return Q.createElement(Qt,{className:"recharts-brush-texts"},Q.createElement(Ig,ev({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:s+o/2},y),this.getTextOfTick(i)),Q.createElement(Ig,ev({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,d=this.state,h=d.startX,y=d.endX,v=d.isTextActive,_=d.isSlideMoving,w=d.isTravellerMoving,T=d.isTravellerFocused;if(!i||!i.length||!Se(o)||!Se(l)||!Se(c)||!Se(u)||c<=0||u<=0)return null;var E=gt("recharts-brush",a),k=Q.Children.count(s)===1,A=Hve("userSelect","none");return Q.createElement(Qt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(v||_||w||T||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),Q.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Q.isValidElement(n)?a=Q.cloneElement(n,i):nt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return M1({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?Qve({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(re.PureComponent);ri($u,"displayName","Brush");ri($u,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zve=Db;function eye(t,e){var r;return Zve(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var tye=eye,rye=n5,nye=$o,iye=tye,aye=Zn,sye=$y;function oye(t,e,r){var n=aye(t)?rye:iye;return r&&sye(t,e,r)&&(e=void 0),n(t,nye(e))}var lye=oye;const cye=Rt(lye);var Ra=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},xR=b5;function uye(t,e,r){e=="__proto__"&&xR?xR(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var fye=uye,dye=fye,hye=T5,pye=$o;function mye(t,e){var r={};return e=pye(e),hye(t,function(n,i,a){dye(r,i,e(n,i,a))}),r}var gye=mye;const vye=Rt(gye);function yye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var xye=yye,_ye=Db;function wye(t,e){var r=!0;return _ye(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Eye=wye,Tye=xye,Sye=Eye,bye=$o,Aye=Zn,Cye=$y;function Iye(t,e,r){var n=Aye(t)?Tye:Sye;return r&&Cye(t,e,r)&&(e=void 0),n(t,bye(e))}var kye=Iye;const rU=Rt(kye);var Pye=["x","y"];function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wE.apply(this,arguments)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){Nye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nye(t,e,r){return e=Rye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rye(t){var e=Oye(t,"string");return Yh(e)=="symbol"?e:e+""}function Oye(t,e){if(Yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mye(t,e){if(t==null)return{};var r=Dye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fye(t,e){var r=t.x,n=t.y,i=Mye(t,Pye),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return rd(rd(rd(rd(rd({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function wR(t){return Q.createElement(xve,wE({shapeType:"rectangle",propTransformer:Fye,activeClassName:"recharts-active-bar"},t))}var Lye=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Se(n)||YQ(n);return a?e(n,i):(a||Bl(),r)}},Uye=["value","background"],nU;function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function $ye(t,e){if(t==null)return{};var r=Bye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rv.apply(this,arguments)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aU(n.key),n)}}function jye(t,e,r){return e&&TR(t.prototype,e),r&&TR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,r){return e=nv(e),Hye(t,iU()?Reflect.construct(e,r||[],nv(t).constructor):e.apply(t,r))}function Hye(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zye(t)}function zye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(t)}function Wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EE(t,e)}function oo(t,e,r){return e=aU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aU(t){var e=qye(t,"string");return Bu(e)=="symbol"?e:e+""}function qye(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $0=function(t){function e(){var r;Vye(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gye(this,e,[].concat(i)),oo(r,"state",{isAnimationFinished:!1}),oo(r,"id",O0("recharts-bar-")),oo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),oo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Wye(e,t),jye(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=it(this.props,!1);return n&&n.map(function(f,d){var h=d===l,y=h?c:s,v=vr(vr(vr({},u),f),{},{isActive:h,option:y,index:d,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Q.createElement(Qt,rv({className:"recharts-bar-rectangle"},pg(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),Q.createElement(wR,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return Q.createElement(As,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=a.map(function(_,w){var T=d&&d[w];if(T){var E=Ii(T.x,_.x),k=Ii(T.y,_.y),A=Ii(T.width,_.width),C=Ii(T.height,_.height);return vr(vr({},_),{},{x:E(y),y:k(y),width:A(y),height:C(y)})}if(s==="horizontal"){var S=Ii(0,_.height),I=S(y);return vr(vr({},_),{},{y:_.y+_.height-I,height:I})}var b=Ii(0,_.width),N=b(y);return vr(vr({},_),{},{width:N})});return Q.createElement(Qt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Nh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=it(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,d=$ye(c,Uye);if(!f)return null;var h=vr(vr(vr(vr(vr({},d),{},{fill:"#eee"},f),l),pg(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Q.createElement(wR,rv({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=oa(u,Xy);if(!f)return null;var d=c==="vertical"?s[0].height/2:s[0].width/2,h=function(_,w){var T=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:T,errorVal:hi(_,w)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(Qt,y,f.map(function(v){return Q.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,d=n.height,h=n.isAnimationActive,y=n.background,v=n.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,w=gt("recharts-bar",s),T=o&&o.allowDataOverflow,E=l&&l.allowDataOverflow,k=T||E,A=ot(v)?this.id:v;return Q.createElement(Qt,{className:w},T||E?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(A)},Q.createElement("rect",{x:T?c:c-f/2,y:E?u:u-d/2,width:T?f:f*2,height:E?d:d*2}))):null,Q.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(A,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,A),(!h||_)&&bo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(re.PureComponent);nU=$0;oo($0,"displayName","Bar");oo($0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oo($0,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=x0e(n,r);if(!h)return null;var y=e.layout,v=r.type.defaultProps,_=v!==void 0?vr(vr({},v),r.props):r.props,w=_.dataKey,T=_.children,E=_.minPointSize,k=y==="horizontal"?s:a,A=c?k.scale.domain():null,C=C0e({numericAxis:k}),S=oa(T,R5),I=f.map(function(b,N){var O,R,D,J,X,te;c?O=_0e(c[u+N],A):(O=hi(b,w),Array.isArray(O)||(O=[C,O]));var Z=Lye(E,nU.defaultProps.minPointSize)(O[1],N);if(y==="horizontal"){var ee,z=[s.scale(O[0]),s.scale(O[1])],ie=z[0],me=z[1];R=bN({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:b,index:N}),D=(ee=me??ie)!==null&&ee!==void 0?ee:void 0,J=h.size;var U=ie-me;if(X=Number.isNaN(U)?0:U,te={x:R,y:s.y,width:J,height:s.height},Math.abs(Z)>0&&Math.abs(X)<Math.abs(Z)){var q=ta(X||Z)*(Math.abs(Z)-Math.abs(X));D-=q,X+=q}}else{var Y=[a.scale(O[0]),a.scale(O[1])],K=Y[0],de=Y[1];if(R=K,D=bN({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:b,index:N}),J=de-K,X=h.size,te={x:a.x,y:D,width:a.width,height:X},Math.abs(Z)>0&&Math.abs(J)<Math.abs(Z)){var xe=ta(J||Z)*(Math.abs(Z)-Math.abs(J));J+=xe}}return vr(vr(vr({},b),{},{x:R,y:D,width:J,height:X,value:c?O:O[1],payload:b,background:te},S&&S[N]&&S[N].props),{},{tooltipPayload:[L8(r,b)],tooltipPosition:{x:R+J/2,y:D+X/2}})});return vr({data:I,layout:y},d)});function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sU(n.key),n)}}function Xye(t,e,r){return e&&SR(t.prototype,e),r&&SR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){Qy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qy(t,e,r){return e=sU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sU(t){var e=Yye(t,"string");return Jh(e)=="symbol"?e:e+""}function Yye(t,e){if(Jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jye=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!ii(c,$0);return u.reduce(function(h,y){var v=r[y],_=v.orientation,w=v.domain,T=v.padding,E=T===void 0?{}:T,k=v.mirror,A=v.reversed,C="".concat(_).concat(k?"Mirror":""),S,I,b,N,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var R=w[1]-w[0],D=1/0,J=v.categoricalDomain.sort(ZQ);if(J.forEach(function(Y,K){K>0&&(D=Math.min((Y||0)-(J[K-1]||0),D))}),Number.isFinite(D)){var X=D/R,te=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(S=X*te/2),v.padding==="no-gap"){var Z=Ul(e.barCategoryGap,X*te),ee=X*te/2;S=ee-Z-(ee-Z)/te*Z}}}i==="xAxis"?I=[n.left+(E.left||0)+(S||0),n.left+n.width-(E.right||0)-(S||0)]:i==="yAxis"?I=l==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(S||0),n.top+n.height-(E.bottom||0)-(S||0)]:I=v.range,A&&(I=[I[1],I[0]]);var z=v0e(v,a,d),ie=z.scale,me=z.realScaleType;ie.domain(w).range(I),y0e(ie);var U=A0e(ie,Ji(Ji({},v),{},{realScaleType:me}));i==="xAxis"?(O=_==="top"&&!k||_==="bottom"&&k,b=n.left,N=f[C]-O*v.height):i==="yAxis"&&(O=_==="left"&&!k||_==="right"&&k,b=f[C]-O*v.width,N=n.top);var q=Ji(Ji(Ji({},v),U),{},{realScaleType:me,x:b,y:N,scale:ie,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return q.bandSize=Gg(q,U),!v.hide&&i==="xAxis"?f[C]+=(O?-1:1)*q.height:v.hide||(f[C]+=(O?-1:1)*q.width),Ji(Ji({},h),{},Qy({},y,q))},{})},oU=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Qye=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return oU({x:r,y:n},{x:i,y:a})},lU=function(){function t(e){Kye(this,t),this.scale=e}return Xye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Qy(lU,"EPS",1e-4);var dA=function(e){var r=Object.keys(e).reduce(function(n,i){return Ji(Ji({},n),{},Qy({},i,lU.create(e[i])))},{});return Ji(Ji({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return vye(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return rU(i,function(a,s){return r[s].isInRange(a)})}})};function Zye(t){return(t%180+180)%180}var exe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Zye(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},txe=$o,rxe=M0,nxe=Ly;function ixe(t){return function(e,r,n){var i=Object(e);if(!rxe(e)){var a=txe(r);e=nxe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var axe=ixe,sxe=Q8;function oxe(t){var e=sxe(t),r=e%1;return e===e?r?e-r:e:0}var lxe=oxe,cxe=v5,uxe=$o,fxe=lxe,dxe=Math.max;function hxe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:fxe(r);return i<0&&(i=dxe(n+i,0)),cxe(t,uxe(e),i)}var pxe=hxe,mxe=axe,gxe=pxe,vxe=mxe(gxe),yxe=vxe;const xxe=Rt(yxe);var _xe=rQ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hA=re.createContext(void 0),pA=re.createContext(void 0),cU=re.createContext(void 0),uU=re.createContext({}),fU=re.createContext(void 0),dU=re.createContext(0),hU=re.createContext(0),AR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=_xe(a);return Q.createElement(hA.Provider,{value:n},Q.createElement(pA.Provider,{value:i},Q.createElement(uU.Provider,{value:a},Q.createElement(cU.Provider,{value:u},Q.createElement(fU.Provider,{value:s},Q.createElement(dU.Provider,{value:c},Q.createElement(hU.Provider,{value:l},o)))))))},wxe=function(){return re.useContext(fU)},pU=function(e){var r=re.useContext(hA);r==null&&Bl();var n=r[e];return n==null&&Bl(),n},Exe=function(){var e=re.useContext(hA);return eo(e)},Txe=function(){var e=re.useContext(pA),r=xxe(e,function(n){return rU(n.domain,Number.isFinite)});return r||eo(e)},mU=function(e){var r=re.useContext(pA);r==null&&Bl();var n=r[e];return n==null&&Bl(),n},Sxe=function(){var e=re.useContext(cU);return e},bxe=function(){return re.useContext(uU)},mA=function(){return re.useContext(hU)},gA=function(){return re.useContext(dU)};function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function Axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vU(n.key),n)}}function Ixe(t,e,r){return e&&Cxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kxe(t,e,r){return e=iv(e),Pxe(t,gU()?Reflect.construct(e,r||[],iv(t).constructor):e.apply(t,r))}function Pxe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(t)}function Nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gU=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(t)}function Rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TE(t,e)}function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){vA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vA(t,e,r){return e=vU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vU(t){var e=Oxe(t,"string");return Vu(e)=="symbol"?e:e+""}function Oxe(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mxe(t,e){return Uxe(t)||Lxe(t,e)||Fxe(t,e)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fxe(t,e){if(t){if(typeof t=="string")return kR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kR(t,e)}}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Uxe(t){if(Array.isArray(t))return t}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SE.apply(this,arguments)}var $xe=function(e,r){var n;return Q.isValidElement(e)?n=Q.cloneElement(e,r):nt(e)?n=e(r):n=Q.createElement("line",SE({},r,{className:"recharts-reference-line-line"})),n},Bxe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,d=a.width,h=a.height;if(n){var y=c.y,v=e.y.apply(y,{position:s});if(Ra(c,"discard")&&!e.y.isInRange(v))return null;var _=[{x:u+d,y:v},{x:u,y:v}];return l==="left"?_.reverse():_}if(r){var w=c.x,T=e.x.apply(w,{position:s});if(Ra(c,"discard")&&!e.x.isInRange(T))return null;var E=[{x:T,y:f+h},{x:T,y:f}];return o==="top"?E.reverse():E}if(i){var k=c.segment,A=k.map(function(C){return e.apply(C,{position:s})});return Ra(c,"discard")&&cye(A,function(C){return!e.isInRange(C)})?null:A}return null};function Vxe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=wxe(),u=pU(i),f=mU(a),d=Sxe();if(!c||!d)return null;ls(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=dA({x:u.scale,y:f.scale}),y=Ir(e),v=Ir(r),_=n&&n.length===2,w=Bxe(h,y,v,_,d,t.position,u.orientation,f.orientation,t);if(!w)return null;var T=Mxe(w,2),E=T[0],k=E.x,A=E.y,C=T[1],S=C.x,I=C.y,b=Ra(t,"hidden")?"url(#".concat(c,")"):void 0,N=IR(IR({clipPath:b},it(t,!0)),{},{x1:k,y1:A,x2:S,y2:I});return Q.createElement(Qt,{className:gt("recharts-reference-line",o)},$xe(s,N),yn.renderCallByParent(t,Qye({x1:k,y1:A,x2:S,y2:I})))}var yA=function(t){function e(){return Axe(this,e),kxe(this,e,arguments)}return Rxe(e,t),Ixe(e,[{key:"render",value:function(){return Q.createElement(Vxe,this.props)}}])}(Q.Component);vA(yA,"displayName","ReferenceLine");vA(yA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(this,arguments)}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){Zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xU(n.key),n)}}function Hxe(t,e,r){return e&&Gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,r){return e=av(e),Wxe(t,yU()?Reflect.construct(e,r||[],av(t).constructor):e.apply(t,r))}function Wxe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qxe(t)}function qxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yU=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(t)}function Kxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AE(t,e)}function Zy(t,e,r){return e=xU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xU(t){var e=Xxe(t,"string");return ju(e)=="symbol"?e:e+""}function Xxe(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yxe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=dA({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ra(e,"discard")&&!s.isInRange(o)?null:o},ex=function(t){function e(){return jxe(this,e),zxe(this,e,arguments)}return Kxe(e,t),Hxe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ir(i),u=Ir(a);if(ls(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Yxe(this.props);if(!f)return null;var d=f.x,h=f.y,y=this.props,v=y.shape,_=y.className,w=Ra(this.props,"hidden")?"url(#".concat(l,")"):void 0,T=NR(NR({clipPath:w},it(this.props,!0)),{},{cx:d,cy:h});return Q.createElement(Qt,{className:gt("recharts-reference-dot",_)},e.renderDot(v,T),yn.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}])}(Q.Component);Zy(ex,"displayName","ReferenceDot");Zy(ex,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zy(ex,"renderDot",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):nt(t)?r=t(e):r=Q.createElement(fA,bE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CE.apply(this,arguments)}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){tx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wU(n.key),n)}}function Zxe(t,e,r){return e&&Qxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e1e(t,e,r){return e=sv(e),t1e(t,_U()?Reflect.construct(e,r||[],sv(t).constructor):e.apply(t,r))}function t1e(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(t)}function r1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_U=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(t)}function n1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IE(t,e)}function tx(t,e,r){return e=wU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wU(t){var e=i1e(t,"string");return Gu(e)=="symbol"?e:e+""}function i1e(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a1e=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var d=dA({x:u.scale,y:f.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(l,{position:"start"}):d.y.rangeMin},y={x:r?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Ra(a,"discard")&&(!d.isInRange(h)||!d.isInRange(y))?null:oU(h,y)},rx=function(t){function e(){return Jxe(this,e),e1e(this,e,arguments)}return n1e(e,t),Zxe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;ls(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ir(i),d=Ir(a),h=Ir(s),y=Ir(o),v=this.props.shape;if(!f&&!d&&!h&&!y&&!v)return null;var _=a1e(f,d,h,y,this.props);if(!_&&!v)return null;var w=Ra(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Q.createElement(Qt,{className:gt("recharts-reference-area",l)},e.renderRect(v,OR(OR({clipPath:w},it(this.props,!0)),_)),yn.renderCallByParent(this.props,_))}}])}(Q.Component);tx(rx,"displayName","ReferenceArea");tx(rx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tx(rx,"renderRect",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):nt(t)?r=t(e):r=Q.createElement(uA,CE({},e,{className:"recharts-reference-area-rect"})),r});function EU(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function s1e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return exe(n,r)}function o1e(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function ov(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function l1e(t,e){return EU(t,e+1)}function c1e(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:EU(n,c)};var v=l,_,w=function(){return _===void 0&&(_=r(y,v)),_},T=y.coordinate,E=l===0||ov(t,T,w,u,o);E||(l=0,u=s,c+=1),E&&(u=T+t*(w()/2+i),l+=c)},d;c<=a.length;)if(d=f(),d)return d.v;return[]}function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){u1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1e(t,e,r){return e=f1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f1e(t){var e=d1e(t,"string");return Qh(e)=="symbol"?e:e+""}function d1e(t,e){if(Qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h1e(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(d){var h=a[d],y,v=function(){return y===void 0&&(y=r(h,d)),y};if(d===s-1){var _=t*(h.coordinate+t*v()/2-l);a[d]=h=hn(hn({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate})}else a[d]=h=hn(hn({},h),{},{tickCoord:h.coordinate});var w=ov(t,h.tickCoord,v,o,l);w&&(l=h.tickCoord-t*(v()/2+i),a[d]=hn(hn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function p1e(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),d=t*(u.coordinate+t*f/2-c);s[o-1]=u=hn(hn({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=ov(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=hn(hn({},u),{},{isShow:!0}))}for(var y=a?o-1:o,v=function(T){var E=s[T],k,A=function(){return k===void 0&&(k=r(E,T)),k};if(T===0){var C=t*(E.coordinate-t*A()/2-l);s[T]=E=hn(hn({},E),{},{tickCoord:C<0?E.coordinate-C*t:E.coordinate})}else s[T]=E=hn(hn({},E),{},{tickCoord:E.coordinate});var S=ov(t,E.tickCoord,A,l,c);S&&(l=E.tickCoord+t*(A()/2+i),s[T]=hn(hn({},E),{},{isShow:!0}))},_=0;_<y;_++)v(_);return s}function xA(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Se(l)||vf.isSsr)return l1e(i,typeof l=="number"&&Se(l)?l:0);var d=[],h=o==="top"||o==="bottom"?"width":"height",y=u&&h==="width"?Rd(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(E,k){var A=nt(c)?c(E.value,k):E.value;return h==="width"?s1e(Rd(A,{fontSize:e,letterSpacing:r}),y,f):Rd(A,{fontSize:e,letterSpacing:r})[h]},_=i.length>=2?ta(i[1].coordinate-i[0].coordinate):1,w=o1e(a,_,h);return l==="equidistantPreserveStart"?c1e(_,w,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=p1e(_,w,v,i,s,l==="preserveStartEnd"):d=h1e(_,w,v,i,s),d.filter(function(T){return T.isShow}))}var m1e=["viewBox"],g1e=["viewBox"],v1e=["ticks"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$c.apply(this,arguments)}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){_A(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D1(t,e){if(t==null)return{};var r=y1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SU(n.key),n)}}function _1e(t,e,r){return e&&FR(t.prototype,e),r&&FR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w1e(t,e,r){return e=lv(e),E1e(t,TU()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function E1e(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1e(t)}function T1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kE(t,e)}function _A(t,e,r){return e=SU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SU(t){var e=b1e(t,"string");return Hu(e)=="symbol"?e:e+""}function b1e(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wf=function(t){function e(r){var n;return x1e(this,e),n=w1e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return S1e(e,t),_1e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=D1(n,m1e),o=this.props,l=o.viewBox,c=D1(o,g1e);return!tu(a,l)||!tu(s,c)||!tu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,y,v,_,w,T,E=f?-1:1,k=n.tickSize||u,A=Se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=y=n.coordinate,_=s+ +!f*l,v=_-E*k,T=v-E*d,w=A;break;case"left":v=_=n.coordinate,y=a+ +!f*o,h=y-E*k,w=h-E*d,T=A;break;case"right":v=_=n.coordinate,y=a+ +f*o,h=y+E*k,w=h+E*d,T=A;break;default:h=y=n.coordinate,_=s+ +f*l,v=_+E*k,T=v+E*d,w=A;break}return{line:{x1:h,y1:v,x2:y,y2:_},tick:{x:w,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Tr(Tr(Tr({},it(this.props,!1)),it(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=Tr(Tr({},f),{},{x1:i,y1:a+d*o,x2:i+s,y2:a+d*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Tr(Tr({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return Q.createElement("line",$c({},f,{className:gt("recharts-cartesian-axis-line",Ri(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,d=o.unit,h=xA(Tr(Tr({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),_=it(this.props,!1),w=it(u,!1),T=Tr(Tr({},_),{},{fill:"none"},it(l,!1)),E=h.map(function(k,A){var C=s.getTickLineCoord(k),S=C.line,I=C.tick,b=Tr(Tr(Tr(Tr({textAnchor:y,verticalAnchor:v},_),{},{stroke:"none",fill:c},w),I),{},{index:A,payload:k,visibleTicksCount:h.length,tickFormatter:f});return Q.createElement(Qt,$c({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},pg(s.props,k,A)),l&&Q.createElement("line",$c({},T,S,{className:gt("recharts-cartesian-axis-tick-line",Ri(l,"className"))})),u&&e.renderTickItem(u,b,"".concat(nt(f)?f(k.value,A):k.value).concat(d||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=D1(f,v1e),y=d;return nt(l)&&(y=d&&d.length>0?l(this.props):l(h)),s<=0||o<=0||!y||!y.length?null:Q.createElement(Qt,{className:gt("recharts-cartesian-axis",c),ref:function(_){n.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=gt(i.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(n)?s=Q.cloneElement(n,Tr(Tr({},i),{},{className:o})):nt(n)?s=n(Tr(Tr({},i),{},{className:o})):s=Q.createElement(Ig,$c({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(re.Component);_A(wf,"displayName","CartesianAxis");_A(wf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var A1e=["x1","y1","x2","y2","key"],C1e=["offset"];function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(r),!0).forEach(function(n){I1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I1e(t,e,r){return e=k1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k1e(t){var e=P1e(t,"string");return Vl(e)=="symbol"?e:e+""}function P1e(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hl.apply(this,arguments)}function UR(t,e){if(t==null)return{};var r=N1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var R1e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return Q.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bU(t,e){var r;if(Q.isValidElement(t))r=Q.cloneElement(t,e);else if(nt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=UR(e,A1e),c=it(l,!1);c.offset;var u=UR(c,C1e);r=Q.createElement("line",hl({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function O1e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=xn(xn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return bU(i,c)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function M1e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=xn(xn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return bU(i,c)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function D1e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var y=!u[h+1],v=y?i+s-d:u[h+1]-d;if(v<=0)return null;var _=h%e.length;return Q.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:v,width:a,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function F1e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(d){return Math.round(d+a-a)}).sort(function(d,h){return d-h});a!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var y=!u[h+1],v=y?a+o-d:u[h+1]-d;if(v<=0)return null;var _=h%n.length;return Q.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:v,height:l,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var L1e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return D8(xA(xn(xn(xn({},wf.defaultProps),n),{},{ticks:is(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},U1e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return D8(xA(xn(xn(xn({},wf.defaultProps),n),{},{ticks:is(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},yc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nx(t){var e,r,n,i,a,s,o=mA(),l=gA(),c=bxe(),u=xn(xn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:yc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:yc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:yc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:yc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:yc.verticalFill,x:Se(t.x)?t.x:c.left,y:Se(t.y)?t.y:c.top,width:Se(t.width)?t.width:c.width,height:Se(t.height)?t.height:c.height}),f=u.x,d=u.y,h=u.width,y=u.height,v=u.syncWithTicks,_=u.horizontalValues,w=u.verticalValues,T=Exe(),E=Txe();if(!Se(h)||h<=0||!Se(y)||y<=0||!Se(f)||f!==+f||!Se(d)||d!==+d)return null;var k=u.verticalCoordinatesGenerator||L1e,A=u.horizontalCoordinatesGenerator||U1e,C=u.horizontalPoints,S=u.verticalPoints;if((!C||!C.length)&&nt(A)){var I=_&&_.length,b=A({yAxis:E?xn(xn({},E),{},{ticks:I?_:E.ticks}):void 0,width:o,height:l,offset:c},I?!0:v);ls(Array.isArray(b),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vl(b),"]")),Array.isArray(b)&&(C=b)}if((!S||!S.length)&&nt(k)){var N=w&&w.length,O=k({xAxis:T?xn(xn({},T),{},{ticks:N?w:T.ticks}):void 0,width:o,height:l,offset:c},N?!0:v);ls(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vl(O),"]")),Array.isArray(O)&&(S=O)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(R1e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Q.createElement(O1e,hl({},u,{offset:c,horizontalPoints:C,xAxis:T,yAxis:E})),Q.createElement(M1e,hl({},u,{offset:c,verticalPoints:S,xAxis:T,yAxis:E})),Q.createElement(D1e,hl({},u,{horizontalPoints:C})),Q.createElement(F1e,hl({},u,{verticalPoints:S})))}nx.displayName="CartesianGrid";var $1e=["layout","type","stroke","connectNulls","isRange","ref"],B1e=["key"],AU;function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function CU(t,e){if(t==null)return{};var r=V1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pl.apply(this,arguments)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){Sa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kU(n.key),n)}}function G1e(t,e,r){return e&&BR(t.prototype,e),r&&BR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H1e(t,e,r){return e=cv(e),z1e(t,IU()?Reflect.construct(e,r||[],cv(t).constructor):e.apply(t,r))}function z1e(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W1e(t)}function W1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(t)}function q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PE(t,e)}function Sa(t,e,r){return e=kU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kU(t){var e=K1e(t,"string");return zu(e)=="symbol"?e:e+""}function K1e(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Li=function(t){function e(){var r;j1e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=H1e(this,e,[].concat(i)),Sa(r,"state",{isAnimationFinished:!0}),Sa(r,"id",O0("recharts-area-")),Sa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(s)&&s()}),Sa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(s)&&s()}),r}return q1e(e,t),G1e(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=it(this.props,!1),h=it(c,!0),y=u.map(function(_,w){var T=zs(zs(zs({key:"dot-".concat(w),r:3},d),h),{},{index:w,cx:_.x,cy:_.y,dataKey:f,value:_.value,payload:_.payload,points:u});return e.renderDotItem(c,T)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Q.createElement(Qt,pl({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=n*Math.abs(l-c),f=so(s.map(function(d){return d.y||0}));return Se(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(so(a.map(function(d){return d.y||0})),f)),Se(f)?Q.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=n*Math.abs(l-c),f=so(s.map(function(d){return d.x||0}));return Se(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(so(a.map(function(d){return d.x||0})),f)),Se(f)?Q.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,d=o.isRange;o.ref;var h=CU(o,$1e);return Q.createElement(Qt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},Q.createElement(Dd,pl({},it(h,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Q.createElement(Dd,pl({},it(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&d&&Q.createElement(Dd,pl({},it(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,d=s.animationEasing,h=s.animationId,y=this.state,v=y.prevPoints,_=y.prevBaseLine;return Q.createElement(As,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var T=w.t;if(v){var E=v.length/o.length,k=o.map(function(I,b){var N=Math.floor(b*E);if(v[N]){var O=v[N],R=Ii(O.x,I.x),D=Ii(O.y,I.y);return zs(zs({},I),{},{x:R(T),y:D(T)})}return I}),A;if(Se(l)&&typeof l=="number"){var C=Ii(_,l);A=C(T)}else if(ot(l)||hf(l)){var S=Ii(_,0);A=S(T)}else A=l.map(function(I,b){var N=Math.floor(b*E);if(_[N]){var O=_[N],R=Ii(O.x,I.x),D=Ii(O.y,I.y);return zs(zs({},I),{},{x:R(T),y:D(T)})}return I});return a.renderAreaStatically(k,A,n,i)}return Q.createElement(Qt,null,Q.createElement("defs",null,Q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(T))),Q.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Nh(u,s)||!Nh(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,d=i.yAxis,h=i.width,y=i.height,v=i.isAnimationActive,_=i.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,T=o.length===1,E=gt("recharts-area",l),k=f&&f.allowDataOverflow,A=d&&d.allowDataOverflow,C=k||A,S=ot(_)?this.id:_,I=(n=it(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},b=I.r,N=b===void 0?3:b,O=I.strokeWidth,R=O===void 0?2:O,D=lZ(s)?s:{},J=D.clipDot,X=J===void 0?!0:J,te=N*2+R;return Q.createElement(Qt,{className:E},k||A?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(S)},Q.createElement("rect",{x:k?u:u-h/2,y:A?c:c-y/2,width:k?h:h*2,height:A?y:y*2})),!X&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(S)},Q.createElement("rect",{x:u-te/2,y:c-te/2,width:h+te,height:y+te}))):null,T?null:this.renderArea(C,S),(s||T)&&this.renderDots(C,X,S),(!v||w)&&bo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(re.PureComponent);AU=Li;Sa(Li,"displayName","Area");Sa(Li,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!vf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Sa(Li,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(Se(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Sa(Li,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=e.layout,y=c&&c.length,v=AU.getBaseValue(e,r,n,i),_=h==="horizontal",w=!1,T=f.map(function(k,A){var C;y?C=c[u+A]:(C=hi(k,l),Array.isArray(C)?w=!0:C=[v,C]);var S=C[1]==null||y&&hi(k,l)==null;return _?{x:SN({axis:n,ticks:a,bandSize:o,entry:k,index:A}),y:S?null:i.scale(C[1]),value:C,payload:k}:{x:S?null:n.scale(C[1]),y:SN({axis:i,ticks:s,bandSize:o,entry:k,index:A}),value:C,payload:k}}),E;return y||w?E=T.map(function(k){var A=Array.isArray(k.value)?k.value[0]:null;return _?{x:k.x,y:A!=null&&k.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:k.y}}):E=_?i.scale(v):n.scale(v),zs({points:T,baseLine:E,layout:h,isRange:w},d)});Sa(Li,"renderDotItem",function(t,e){var r;if(Q.isValidElement(t))r=Q.cloneElement(t,e);else if(nt(t))r=t(e);else{var n=gt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=CU(e,B1e);r=Q.createElement(fA,pl({},a,{key:i,className:n}))}return r});function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function X1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RU(n.key),n)}}function J1e(t,e,r){return e&&Y1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q1e(t,e,r){return e=uv(e),Z1e(t,PU()?Reflect.construct(e,r||[],uv(t).constructor):e.apply(t,r))}function Z1e(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_e(t)}function e_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PU=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(t)}function t_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NE(t,e)}function NU(t,e,r){return e=RU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RU(t){var e=r_e(t,"string");return Wu(e)=="symbol"?e:e+""}function r_e(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RE.apply(this,arguments)}function n_e(t){var e=t.xAxisId,r=mA(),n=gA(),i=pU(e);return i==null?null:re.createElement(wf,RE({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return is(s,!0)}}))}var Ef=function(t){function e(){return X1e(this,e),Q1e(this,e,arguments)}return t_e(e,t),J1e(e,[{key:"render",value:function(){return re.createElement(n_e,this.props)}}])}(re.Component);NU(Ef,"displayName","XAxis");NU(Ef,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DU(n.key),n)}}function s_e(t,e,r){return e&&a_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o_e(t,e,r){return e=fv(e),l_e(t,OU()?Reflect.construct(e,r||[],fv(t).constructor):e.apply(t,r))}function l_e(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(t)}function c_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(t)}function u_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OE(t,e)}function MU(t,e,r){return e=DU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DU(t){var e=f_e(t,"string");return qu(e)=="symbol"?e:e+""}function f_e(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ME.apply(this,arguments)}var d_e=function(e){var r=e.yAxisId,n=mA(),i=gA(),a=mU(r);return a==null?null:re.createElement(wf,ME({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return is(o,!0)}}))},ix=function(t){function e(){return i_e(this,e),o_e(this,e,arguments)}return u_e(e,t),s_e(e,[{key:"render",value:function(){return re.createElement(d_e,this.props)}}])}(re.Component);MU(ix,"displayName","YAxis");MU(ix,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VR(t){return g_e(t)||m_e(t)||p_e(t)||h_e()}function h_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_e(t,e){if(t){if(typeof t=="string")return DE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(t,e)}}function m_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g_e(t){if(Array.isArray(t))return DE(t)}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FE=function(e,r,n,i,a){var s=oa(e,yA),o=oa(e,ex),l=[].concat(VR(s),VR(o)),c=oa(e,rx),u="".concat(i,"Id"),f=i[0],d=r;if(l.length&&(d=l.reduce(function(v,_){if(_.props[u]===n&&Ra(_.props,"extendDomain")&&Se(_.props[f])){var w=_.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},d)),c.length){var h="".concat(f,"1"),y="".concat(f,"2");d=c.reduce(function(v,_){if(_.props[u]===n&&Ra(_.props,"extendDomain")&&Se(_.props[h])&&Se(_.props[y])){var w=_.props[h],T=_.props[y];return[Math.min(v[0],w,T),Math.max(v[1],w,T)]}return v},d)}return a&&a.length&&(d=a.reduce(function(v,_){return Se(_)?[Math.min(v[0],_),Math.max(v[1],_)]:v},d)),d},FU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,y=new Array(h);d<h;d++)y[d]=f[d].fn;return y},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,h,y){var v=r?r+c:c;if(!this._events[v])return!1;var _=this._events[v],w=arguments.length,T,E;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,f),!0;case 4:return _.fn.call(_.context,u,f,d),!0;case 5:return _.fn.call(_.context,u,f,d,h),!0;case 6:return _.fn.call(_.context,u,f,d,h,y),!0}for(E=1,T=new Array(w-1);E<w;E++)T[E-1]=arguments[E];_.fn.apply(_.context,T)}else{var k=_.length,A;for(E=0;E<k;E++)switch(_[E].once&&this.removeListener(c,_[E].fn,void 0,!0),w){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,u);break;case 3:_[E].fn.call(_[E].context,u,f);break;case 4:_[E].fn.call(_[E].context,u,f,d);break;default:if(!T)for(A=1,T=new Array(w-1);A<w;A++)T[A-1]=arguments[A];_[E].fn.apply(_[E].context,T)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!d||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var v=0,_=[],w=y.length;v<w;v++)(y[v].fn!==u||d&&!y[v].once||f&&y[v].context!==f)&&_.push(y[v]);_.length?this._events[h]=_.length===1?_[0]:_:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(FU);var v_e=FU.exports;const y_e=Rt(v_e);var F1=new y_e,L1="recharts.syncMouseEvents";function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function x_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function __e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LU(n.key),n)}}function w_e(t,e,r){return e&&__e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1(t,e,r){return e=LU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LU(t){var e=E_e(t,"string");return Zh(e)=="symbol"?e:e+""}function E_e(t,e){if(Zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T_e=function(){function t(){x_e(this,t),U1(this,"activeIndex",0),U1(this,"coordinateList",[]),U1(this,"layout","horizontal")}return w_e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,d=r.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,d=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function S_e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Se(n)&&Se(i))return!0}return!1}function b_e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function UU(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Zr(e,r,n,i),o=Zr(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function A_e(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Zr(o,l,c,f),h=Zr(o,l,u,f);n=d.x,i=d.y,a=h.x,s=h.y}else return UU(e);return[{x:n,y:i},{x:a,y:s}]}function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){C_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C_e(t,e,r){return e=I_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I_e(t){var e=k_e(t,"string");return e0(e)=="symbol"?e:e+""}function k_e(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P_e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||d!=="ScatterChart"&&i!=="axis")return null;var y,v=Dd;if(d==="ScatterChart")y=s,v=Oge;else if(d==="BarChart")y=b_e(f,s,l,u),v=uA;else if(f==="radial"){var _=UU(s),w=_.cx,T=_.cy,E=_.radius,k=_.startAngle,A=_.endAngle;y={cx:w,cy:T,startAngle:k,endAngle:A,innerRadius:E,outerRadius:E},v=B8}else y={points:A_e(f,s,l)},v=Dd;var C=Up(Up(Up(Up({stroke:"#ccc",pointerEvents:"none"},l),y),it(h,!1)),{},{payload:o,payloadIndex:c,className:gt("recharts-tooltip-cursor",h.className)});return re.isValidElement(h)?re.cloneElement(h,C):re.createElement(v,C)}var N_e=["item"],R_e=["children","className","width","height","style","compact","title","desc"];function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bc.apply(this,arguments)}function GR(t,e){return D_e(t)||M_e(t,e)||BU(t,e)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function D_e(t){if(Array.isArray(t))return t}function HR(t,e){if(t==null)return{};var r=F_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VU(n.key),n)}}function $_e(t,e,r){return e&&U_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B_e(t,e,r){return e=dv(e),V_e(t,$U()?Reflect.construct(e,r||[],dv(t).constructor):e.apply(t,r))}function V_e(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j_e(t)}function j_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(t)}function G_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LE(t,e)}function Xu(t){return W_e(t)||z_e(t)||BU(t)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BU(t,e){if(t){if(typeof t=="string")return UE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(t,e)}}function z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W_e(t){if(Array.isArray(t))return UE(t)}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ze(t,e,r){return e=VU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VU(t){var e=q_e(t,"string");return Ku(e)=="symbol"?e:e+""}function q_e(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K_e={xAxis:["bottom","top"],yAxis:["left","right"]},X_e={width:"100%",height:"100%"},jU={x:0,y:0};function $p(t){return t}var Y_e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},J_e=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return pe(pe(pe({},i),Zr(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return pe(pe(pe({},i),Zr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return jU},ax=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Xu(o),Xu(c)):o},[]);return s.length>0?s:e&&e.length&&Se(i)&&Se(a)?e.slice(i,a+1):[]};function GU(t){return t==="number"?[0,"auto"]:void 0}var $E=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=ax(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;d=dg(h,s.dataKey,i)}else d=f&&f[n]||o[n];return d?[].concat(Xu(l),[L8(c,d)]):l},[])},WR=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Y_e(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=f0e(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=$E(e,r,u,f),h=J_e(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},Q_e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=M8(u,a);return n.reduce(function(y,v){var _,w=v.type.defaultProps!==void 0?pe(pe({},v.type.defaultProps),v.props):v.props,T=w.type,E=w.dataKey,k=w.allowDataOverflow,A=w.allowDuplicatedCategory,C=w.scale,S=w.ticks,I=w.includeHidden,b=w[s];if(y[b])return y;var N=ax(e.data,{graphicalItems:i.filter(function(U){var q,Y=s in U.props?U.props[s]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[s];return Y===b}),dataStartIndex:l,dataEndIndex:c}),O=N.length,R,D,J;S_e(w.domain,k,T)&&(R=iE(w.domain,null,k),h&&(T==="number"||C!=="auto")&&(J=Md(N,E,"category")));var X=GU(T);if(!R||R.length===0){var te,Z=(te=w.domain)!==null&&te!==void 0?te:X;if(E){if(R=Md(N,E,T),T==="category"&&h){var ee=QQ(R);A&&ee?(D=R,R=Zg(0,O)):A||(R=IN(Z,R,v).reduce(function(U,q){return U.indexOf(q)>=0?U:[].concat(Xu(U),[q])},[]))}else if(T==="category")A?R=R.filter(function(U){return U!==""&&!ot(U)}):R=IN(Z,R,v).reduce(function(U,q){return U.indexOf(q)>=0||q===""||ot(q)?U:[].concat(Xu(U),[q])},[]);else if(T==="number"){var z=g0e(N,i.filter(function(U){var q,Y,K=s in U.props?U.props[s]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[s],de="hide"in U.props?U.props.hide:(Y=U.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return K===b&&(I||!de)}),E,a,u);z&&(R=z)}h&&(T==="number"||C!=="auto")&&(J=Md(N,E,"category"))}else h?R=Zg(0,O):o&&o[b]&&o[b].hasStack&&T==="number"?R=d==="expand"?[0,1]:F8(o[b].stackGroups,l,c):R=O8(N,i.filter(function(U){var q=s in U.props?U.props[s]:U.type.defaultProps[s],Y="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return q===b&&(I||!Y)}),T,u,!0);if(T==="number")R=FE(f,R,b,a,S),Z&&(R=iE(Z,R,k));else if(T==="category"&&Z){var ie=Z,me=R.every(function(U){return ie.indexOf(U)>=0});me&&(R=ie)}}return pe(pe({},y),{},ze({},b,pe(pe({},w),{},{axisType:a,domain:R,categoricalDomain:J,duplicateDomain:D,originalDomain:(_=w.domain)!==null&&_!==void 0?_:X,isCategorical:h,layout:u})))},{})},Z_e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,d=ax(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=d.length,y=M8(u,a),v=-1;return n.reduce(function(_,w){var T=w.type.defaultProps!==void 0?pe(pe({},w.type.defaultProps),w.props):w.props,E=T[s],k=GU("number");if(!_[E]){v++;var A;return y?A=Zg(0,h):o&&o[E]&&o[E].hasStack?(A=F8(o[E].stackGroups,l,c),A=FE(f,A,E,a)):(A=iE(k,O8(d,n.filter(function(C){var S,I,b=s in C.props?C.props[s]:(S=C.type.defaultProps)===null||S===void 0?void 0:S[s],N="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return b===E&&!N}),"number",u),i.defaultProps.allowDataOverflow),A=FE(f,A,E,a)),pe(pe({},_),{},ze({},E,pe(pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ri(K_e,"".concat(a,".").concat(v%2),null),domain:A,originalDomain:k,isCategorical:y,layout:u})))}return _},{})},ewe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=oa(u,a),h={};return d&&d.length?h=Q_e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Z_e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},twe=function(e){var r=eo(e),n=is(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Fb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gg(r,n)}},qR=function(e){var r=e.children,n=e.defaultShowTooltip,i=ii(r,$u),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},rwe=function(e){return!e||!e.length?!1:e.some(function(r){var n=os(r&&r.type);return n&&n.indexOf("Bar")>=0})},KR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nwe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,d=n.margin||{},h=ii(f,$u),y=ii(f,ru),v=Object.keys(l).reduce(function(A,C){var S=l[C],I=S.orientation;return!S.mirror&&!S.hide?pe(pe({},A),{},ze({},I,A[I]+S.width)):A},{left:d.left||0,right:d.right||0}),_=Object.keys(s).reduce(function(A,C){var S=s[C],I=S.orientation;return!S.mirror&&!S.hide?pe(pe({},A),{},ze({},I,Ri(A,"".concat(I))+S.height)):A},{top:d.top||0,bottom:d.bottom||0}),w=pe(pe({},_),v),T=w.bottom;h&&(w.bottom+=h.props.height||$u.defaultProps.height),y&&r&&(w=p0e(w,i,n,r));var E=c-w.left-w.right,k=u-w.top-w.bottom;return pe(pe({brushBottom:T},w),{},{width:Math.max(E,0),height:Math.max(k,0)})},iwe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},awe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(w,T){var E=T.graphicalItems,k=T.stackGroups,A=T.offset,C=T.updateId,S=T.dataStartIndex,I=T.dataEndIndex,b=w.barSize,N=w.layout,O=w.barGap,R=w.barCategoryGap,D=w.maxBarSize,J=KR(N),X=J.numericAxisName,te=J.cateAxisName,Z=rwe(E),ee=[];return E.forEach(function(z,ie){var me=ax(w.data,{graphicalItems:[z],dataStartIndex:S,dataEndIndex:I}),U=z.type.defaultProps!==void 0?pe(pe({},z.type.defaultProps),z.props):z.props,q=U.dataKey,Y=U.maxBarSize,K=U["".concat(X,"Id")],de=U["".concat(te,"Id")],xe={},be=l.reduce(function(rr,zr){var Mr=T["".concat(zr.axisType,"Map")],nr=U["".concat(zr.axisType,"Id")];Mr&&Mr[nr]||zr.axisType==="zAxis"||Bl();var Wr=Mr[nr];return pe(pe({},rr),{},ze(ze({},zr.axisType,Wr),"".concat(zr.axisType,"Ticks"),is(Wr)))},xe),oe=be[te],ue=be["".concat(te,"Ticks")],Ie=k&&k[K]&&k[K].hasStack&&I0e(z,k[K].stackGroups),L=os(z.type).indexOf("Bar")>=0,He=Gg(oe,ue),Me=[],Ge=Z&&d0e({barSize:b,stackGroups:k,totalSize:iwe(be,te)});if(L){var Be,we,ut=ot(Y)?D:Y,Gt=(Be=(we=Gg(oe,ue,!0))!==null&&we!==void 0?we:ut)!==null&&Be!==void 0?Be:0;Me=h0e({barGap:O,barCategoryGap:R,bandSize:Gt!==He?Gt:He,sizeList:Ge[de],maxBarSize:ut}),Gt!==He&&(Me=Me.map(function(rr){return pe(pe({},rr),{},{position:pe(pe({},rr.position),{},{offset:rr.position.offset-Gt/2})})}))}var ur=z&&z.type&&z.type.getComposedData;ur&&ee.push({props:pe(pe({},ur(pe(pe({},be),{},{displayedData:me,props:w,dataKey:q,item:z,bandSize:He,barPosition:Me,offset:A,stackedData:Ie,layout:N,dataStartIndex:S,dataEndIndex:I}))),{},ze(ze(ze({key:z.key||"item-".concat(ie)},X,be[X]),te,be[te]),"animationId",C)),childIndex:fZ(z,w.children),item:z})}),ee},h=function(w,T){var E=w.props,k=w.dataStartIndex,A=w.dataEndIndex,C=w.updateId;if(!wk({props:E}))return null;var S=E.children,I=E.layout,b=E.stackOffset,N=E.data,O=E.reverseStackOrder,R=KR(I),D=R.numericAxisName,J=R.cateAxisName,X=oa(S,n),te=b0e(N,X,"".concat(D,"Id"),"".concat(J,"Id"),b,O),Z=l.reduce(function(U,q){var Y="".concat(q.axisType,"Map");return pe(pe({},U),{},ze({},Y,ewe(E,pe(pe({},q),{},{graphicalItems:X,stackGroups:q.axisType===D&&te,dataStartIndex:k,dataEndIndex:A}))))},{}),ee=nwe(pe(pe({},Z),{},{props:E,graphicalItems:X}),T==null?void 0:T.legendBBox);Object.keys(Z).forEach(function(U){Z[U]=u(E,Z[U],ee,U.replace("Map",""),r)});var z=Z["".concat(J,"Map")],ie=twe(z),me=d(E,pe(pe({},Z),{},{dataStartIndex:k,dataEndIndex:A,updateId:C,graphicalItems:X,stackGroups:te,offset:ee}));return pe(pe({formattedGraphicalItems:me,graphicalItems:X,offset:ee,stackGroups:te},ie),Z)},y=function(_){function w(T){var E,k,A;return L_e(this,w),A=B_e(this,w,[T]),ze(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(A,"accessibilityManager",new T_e),ze(A,"handleLegendBBoxUpdate",function(C){if(C){var S=A.state,I=S.dataStartIndex,b=S.dataEndIndex,N=S.updateId;A.setState(pe({legendBBox:C},h({props:A.props,dataStartIndex:I,dataEndIndex:b,updateId:N},pe(pe({},A.state),{},{legendBBox:C}))))}}),ze(A,"handleReceiveSyncEvent",function(C,S,I){if(A.props.syncId===C){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),ze(A,"handleBrushChange",function(C){var S=C.startIndex,I=C.endIndex;if(S!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var b=A.state.updateId;A.setState(function(){return pe({dataStartIndex:S,dataEndIndex:I},h({props:A.props,dataStartIndex:S,dataEndIndex:I,updateId:b},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:I})}}),ze(A,"handleMouseEnter",function(C){var S=A.getMouseInfo(C);if(S){var I=pe(pe({},S),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var b=A.props.onMouseEnter;nt(b)&&b(I,C)}}),ze(A,"triggeredAfterMouseMove",function(C){var S=A.getMouseInfo(C),I=S?pe(pe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var b=A.props.onMouseMove;nt(b)&&b(I,C)}),ze(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ze(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),ze(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),ze(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var I=A.props.onMouseLeave;nt(I)&&I(S,C)}),ze(A,"handleOuterEvent",function(C){var S=uZ(C),I=Ri(A.props,"".concat(S));if(S&&nt(I)){var b,N;/.*touch.*/i.test(S)?N=A.getMouseInfo(C.changedTouches[0]):N=A.getMouseInfo(C),I((b=N)!==null&&b!==void 0?b:{},C)}}),ze(A,"handleClick",function(C){var S=A.getMouseInfo(C);if(S){var I=pe(pe({},S),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var b=A.props.onClick;nt(b)&&b(I,C)}}),ze(A,"handleMouseDown",function(C){var S=A.props.onMouseDown;if(nt(S)){var I=A.getMouseInfo(C);S(I,C)}}),ze(A,"handleMouseUp",function(C){var S=A.props.onMouseUp;if(nt(S)){var I=A.getMouseInfo(C);S(I,C)}}),ze(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ze(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),ze(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),ze(A,"handleDoubleClick",function(C){var S=A.props.onDoubleClick;if(nt(S)){var I=A.getMouseInfo(C);S(I,C)}}),ze(A,"handleContextMenu",function(C){var S=A.props.onContextMenu;if(nt(S)){var I=A.getMouseInfo(C);S(I,C)}}),ze(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&F1.emit(L1,A.props.syncId,C,A.eventEmitterSymbol)}),ze(A,"applySyncEvent",function(C){var S=A.props,I=S.layout,b=S.syncMethod,N=A.state.updateId,O=C.dataStartIndex,R=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(pe({dataStartIndex:O,dataEndIndex:R},h({props:A.props,dataStartIndex:O,dataEndIndex:R,updateId:N},A.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,J=C.chartY,X=C.activeTooltipIndex,te=A.state,Z=te.offset,ee=te.tooltipTicks;if(!Z)return;if(typeof b=="function")X=b(ee,C);else if(b==="value"){X=-1;for(var z=0;z<ee.length;z++)if(ee[z].value===C.activeLabel){X=z;break}}var ie=pe(pe({},Z),{},{x:Z.left,y:Z.top}),me=Math.min(D,ie.x+ie.width),U=Math.min(J,ie.y+ie.height),q=ee[X]&&ee[X].value,Y=$E(A.state,A.props.data,X),K=ee[X]?{x:I==="horizontal"?ee[X].coordinate:me,y:I==="horizontal"?U:ee[X].coordinate}:jU;A.setState(pe(pe({},C),{},{activeLabel:q,activeCoordinate:K,activePayload:Y,activeTooltipIndex:X}))}else A.setState(C)}),ze(A,"renderCursor",function(C){var S,I=A.state,b=I.isTooltipActive,N=I.activeCoordinate,O=I.activePayload,R=I.offset,D=I.activeTooltipIndex,J=I.tooltipAxisBandSize,X=A.getTooltipEventType(),te=(S=C.props.active)!==null&&S!==void 0?S:b,Z=A.props.layout,ee=C.key||"_recharts-cursor";return Q.createElement(P_e,{key:ee,activeCoordinate:N,activePayload:O,activeTooltipIndex:D,chartName:r,element:C,isActive:te,layout:Z,offset:R,tooltipAxisBandSize:J,tooltipEventType:X})}),ze(A,"renderPolarAxis",function(C,S,I){var b=Ri(C,"type.axisType"),N=Ri(A.state,"".concat(b,"Map")),O=C.type.defaultProps,R=O!==void 0?pe(pe({},O),C.props):C.props,D=N&&N[R["".concat(b,"Id")]];return re.cloneElement(C,pe(pe({},D),{},{className:gt(b,D.className),key:C.key||"".concat(S,"-").concat(I),ticks:is(D,!0)}))}),ze(A,"renderPolarGrid",function(C){var S=C.props,I=S.radialLines,b=S.polarAngles,N=S.polarRadius,O=A.state,R=O.radiusAxisMap,D=O.angleAxisMap,J=eo(R),X=eo(D),te=X.cx,Z=X.cy,ee=X.innerRadius,z=X.outerRadius;return re.cloneElement(C,{polarAngles:Array.isArray(b)?b:is(X,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(N)?N:is(J,!0).map(function(ie){return ie.coordinate}),cx:te,cy:Z,innerRadius:ee,outerRadius:z,key:C.key||"polar-grid",radialLines:I})}),ze(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,S=A.props,I=S.children,b=S.width,N=S.height,O=A.props.margin||{},R=b-(O.left||0)-(O.right||0),D=N8({children:I,formattedGraphicalItems:C,legendWidth:R,legendContent:c});if(!D)return null;var J=D.item,X=HR(D,N_e);return re.cloneElement(J,pe(pe({},X),{},{chartWidth:b,chartHeight:N,margin:O,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),ze(A,"renderTooltip",function(){var C,S=A.props,I=S.children,b=S.accessibilityLayer,N=ii(I,bi);if(!N)return null;var O=A.state,R=O.isTooltipActive,D=O.activeCoordinate,J=O.activePayload,X=O.activeLabel,te=O.offset,Z=(C=N.props.active)!==null&&C!==void 0?C:R;return re.cloneElement(N,{viewBox:pe(pe({},te),{},{x:te.left,y:te.top}),active:Z,label:X,payload:Z?J:[],coordinate:D,accessibilityLayer:b})}),ze(A,"renderBrush",function(C){var S=A.props,I=S.margin,b=S.data,N=A.state,O=N.offset,R=N.dataStartIndex,D=N.dataEndIndex,J=N.updateId;return re.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Mp(A.handleBrushChange,C.props.onChange),data:b,x:Se(C.props.x)?C.props.x:O.left,y:Se(C.props.y)?C.props.y:O.top+O.height+O.brushBottom-(I.bottom||0),width:Se(C.props.width)?C.props.width:O.width,startIndex:R,endIndex:D,updateId:"brush-".concat(J)})}),ze(A,"renderReferenceElement",function(C,S,I){if(!C)return null;var b=A,N=b.clipPathId,O=A.state,R=O.xAxisMap,D=O.yAxisMap,J=O.offset,X=C.type.defaultProps||{},te=C.props,Z=te.xAxisId,ee=Z===void 0?X.xAxisId:Z,z=te.yAxisId,ie=z===void 0?X.yAxisId:z;return re.cloneElement(C,{key:C.key||"".concat(S,"-").concat(I),xAxis:R[ee],yAxis:D[ie],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:N})}),ze(A,"renderActivePoints",function(C){var S=C.item,I=C.activePoint,b=C.basePoint,N=C.childIndex,O=C.isRange,R=[],D=S.props.key,J=S.item.type.defaultProps!==void 0?pe(pe({},S.item.type.defaultProps),S.item.props):S.item.props,X=J.activeDot,te=J.dataKey,Z=pe(pe({index:N,dataKey:te,cx:I.x,cy:I.y,r:4,fill:cA(S.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},it(X,!1)),hg(X));return R.push(w.renderActiveDot(X,Z,"".concat(D,"-activePoint-").concat(N))),b?R.push(w.renderActiveDot(X,pe(pe({},Z),{},{cx:b.x,cy:b.y}),"".concat(D,"-basePoint-").concat(N))):O&&R.push(null),R}),ze(A,"renderGraphicChild",function(C,S,I){var b=A.filterFormatItem(C,S,I);if(!b)return null;var N=A.getTooltipEventType(),O=A.state,R=O.isTooltipActive,D=O.tooltipAxis,J=O.activeTooltipIndex,X=O.activeLabel,te=A.props.children,Z=ii(te,bi),ee=b.props,z=ee.points,ie=ee.isRange,me=ee.baseLine,U=b.item.type.defaultProps!==void 0?pe(pe({},b.item.type.defaultProps),b.item.props):b.item.props,q=U.activeDot,Y=U.hide,K=U.activeBar,de=U.activeShape,xe=!!(!Y&&R&&Z&&(q||K||de)),be={};N!=="axis"&&Z&&Z.props.trigger==="click"?be={onClick:Mp(A.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(be={onMouseLeave:Mp(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Mp(A.handleItemMouseEnter,C.props.onMouseEnter)});var oe=re.cloneElement(C,pe(pe({},b.props),be));function ue(zr){return typeof D.dataKey=="function"?D.dataKey(zr.payload):null}if(xe)if(J>=0){var Ie,L;if(D.dataKey&&!D.allowDuplicatedCategory){var He=typeof D.dataKey=="function"?ue:"payload.".concat(D.dataKey.toString());Ie=dg(z,He,X),L=ie&&me&&dg(me,He,X)}else Ie=z==null?void 0:z[J],L=ie&&me&&me[J];if(de||K){var Me=C.props.activeIndex!==void 0?C.props.activeIndex:J;return[re.cloneElement(C,pe(pe(pe({},b.props),be),{},{activeIndex:Me})),null,null]}if(!ot(Ie))return[oe].concat(Xu(A.renderActivePoints({item:b,activePoint:Ie,basePoint:L,childIndex:J,isRange:ie})))}else{var Ge,Be=(Ge=A.getItemByXY(A.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:oe},we=Be.graphicalItem,ut=we.item,Gt=ut===void 0?C:ut,ur=we.childIndex,rr=pe(pe(pe({},b.props),be),{},{activeIndex:ur});return[re.cloneElement(Gt,rr),null,null]}return ie?[oe,null,null]:[oe,null]}),ze(A,"renderCustomized",function(C,S,I){return re.cloneElement(C,pe(pe({key:"recharts-customized-".concat(I)},A.props),A.state))}),ze(A,"renderMap",{CartesianGrid:{handler:$p,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:$p},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:$p},YAxis:{handler:$p},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((E=T.id)!==null&&E!==void 0?E:O0("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=N5(A.triggeredAfterMouseMove,(k=T.throttleDelay)!==null&&k!==void 0?k:1e3/60),A.state={},A}return G_e(w,_),$_e(w,[{key:"componentDidMount",value:function(){var E,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,k=E.children,A=E.data,C=E.height,S=E.layout,I=ii(k,bi);if(I){var b=I.props.defaultIndex;if(!(typeof b!="number"||b<0||b>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[b]&&this.state.tooltipTicks[b].value,O=$E(this.state,A,b,N),R=this.state.tooltipTicks[b].coordinate,D=(this.state.offset.top+C)/2,J=S==="horizontal",X=J?{x:R,y:D}:{y:R,x:D},te=this.state.formattedGraphicalItems.find(function(ee){var z=ee.item;return z.type.name==="Scatter"});te&&(X=pe(pe({},X),te.props.points[b].tooltipPosition),O=te.props.points[b].tooltipPayload);var Z={activeTooltipIndex:b,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:X};this.setState(Z),this.renderCursor(I),this.accessibilityManager.setIndex(b)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(E){xw([ii(E.children,bi)],[ii(this.props.children,bi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=ii(this.props.children,bi);if(E&&typeof E.props.shared=="boolean"){var k=E.props.shared?"axis":"item";return o.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var k=this.container,A=k.getBoundingClientRect(),C=Lce(A),S={chartX:Math.round(E.pageX-C.left),chartY:Math.round(E.pageY-C.top)},I=A.width/k.offsetWidth||1,b=this.inRange(S.chartX,S.chartY,I);if(!b)return null;var N=this.state,O=N.xAxisMap,R=N.yAxisMap,D=this.getTooltipEventType(),J=WR(this.state,this.props.data,this.props.layout,b);if(D!=="axis"&&O&&R){var X=eo(O).scale,te=eo(R).scale,Z=X&&X.invert?X.invert(S.chartX):null,ee=te&&te.invert?te.invert(S.chartY):null;return pe(pe({},S),{},{xValue:Z,yValue:ee},J)}return J?pe(pe({},S),J):null}},{key:"inRange",value:function(E,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,S=E/A,I=k/A;if(C==="horizontal"||C==="vertical"){var b=this.state.offset,N=S>=b.left&&S<=b.left+b.width&&I>=b.top&&I<=b.top+b.height;return N?{x:S,y:I}:null}var O=this.state,R=O.angleAxisMap,D=O.radiusAxisMap;if(R&&D){var J=eo(R);return NN({x:S,y:I},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,k=this.getTooltipEventType(),A=ii(E,bi),C={};A&&k==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=hg(this.props,this.handleOuterEvent);return pe(pe({},S),C)}},{key:"addListener",value:function(){F1.on(L1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){F1.removeListener(L1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,k,A){for(var C=this.state.formattedGraphicalItems,S=0,I=C.length;S<I;S++){var b=C[S];if(b.item===E||b.props.key===E.key||k===os(b.item.type)&&A===b.childIndex)return b}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,k=this.state.offset,A=k.left,C=k.top,S=k.height,I=k.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:E},Q.createElement("rect",{x:A,y:C,height:S,width:I})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(k,A){var C=GR(A,2),S=C[0],I=C[1];return pe(pe({},k),{},ze({},S,I.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(k,A){var C=GR(A,2),S=C[0],I=C[1];return pe(pe({},k),{},ze({},S,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(E){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(E){var k=this.state,A=k.formattedGraphicalItems,C=k.activeItem;if(A&&A.length)for(var S=0,I=A.length;S<I;S++){var b=A[S],N=b.props,O=b.item,R=O.type.defaultProps!==void 0?pe(pe({},O.type.defaultProps),O.props):O.props,D=os(O.type);if(D==="Bar"){var J=(N.data||[]).find(function(ee){return Tge(E,ee)});if(J)return{graphicalItem:b,payload:J}}else if(D==="RadialBar"){var X=(N.data||[]).find(function(ee){return NN(E,ee)});if(X)return{graphicalItem:b,payload:X}}else if(Yy(b,C)||Jy(b,C)||Kh(b,C)){var te=Ave({graphicalItem:b,activeTooltipItem:C,itemData:R.data}),Z=R.activeIndex===void 0?te:R.activeIndex;return{graphicalItem:pe(pe({},b),{},{childIndex:Z}),payload:Kh(b,C)?R.data[te]:b.props.data[te]}}}return null}},{key:"render",value:function(){var E=this;if(!wk(this))return null;var k=this.props,A=k.children,C=k.className,S=k.width,I=k.height,b=k.style,N=k.compact,O=k.title,R=k.desc,D=HR(k,R_e),J=it(D,!1);if(N)return Q.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(ww,Bc({},J,{width:S,height:I,title:O,desc:R}),this.renderClipPath(),Tk(A,this.renderMap)));if(this.props.accessibilityLayer){var X,te;J.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,J.role=(te=this.props.role)!==null&&te!==void 0?te:"application",J.onKeyDown=function(ee){E.accessibilityManager.keyboardEvent(ee)},J.onFocus=function(){E.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return Q.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",Bc({className:gt("recharts-wrapper",C),style:pe({position:"relative",cursor:"default",width:S,height:I},b)},Z,{ref:function(z){E.container=z}}),Q.createElement(ww,Bc({},J,{width:S,height:I,title:O,desc:R,style:X_e}),this.renderClipPath(),Tk(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(re.Component);ze(y,"displayName",r),ze(y,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(y,"getDerivedStateFromProps",function(_,w){var T=_.dataKey,E=_.data,k=_.children,A=_.width,C=_.height,S=_.layout,I=_.stackOffset,b=_.margin,N=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var R=qR(_);return pe(pe(pe({},R),{},{updateId:0},h(pe(pe({props:_},R),{},{updateId:0}),w)),{},{prevDataKey:T,prevData:E,prevWidth:A,prevHeight:C,prevLayout:S,prevStackOffset:I,prevMargin:b,prevChildren:k})}if(T!==w.prevDataKey||E!==w.prevData||A!==w.prevWidth||C!==w.prevHeight||S!==w.prevLayout||I!==w.prevStackOffset||!tu(b,w.prevMargin)){var D=qR(_),J={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},X=pe(pe({},WR(w,E,S)),{},{updateId:w.updateId+1}),te=pe(pe(pe({},D),J),X);return pe(pe(pe({},te),h(pe({props:_},te),w)),{},{prevDataKey:T,prevData:E,prevWidth:A,prevHeight:C,prevLayout:S,prevStackOffset:I,prevMargin:b,prevChildren:k})}if(!xw(k,w.prevChildren)){var Z,ee,z,ie,me=ii(k,$u),U=me&&(Z=(ee=me.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Z!==void 0?Z:N,q=me&&(z=(ie=me.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&z!==void 0?z:O,Y=U!==N||q!==O,K=!ot(E),de=K&&!Y?w.updateId:w.updateId+1;return pe(pe({updateId:de},h(pe(pe({props:_},w),{},{updateId:de,dataStartIndex:U,dataEndIndex:q}),w)),{},{prevChildren:k,dataStartIndex:U,dataEndIndex:q})}return null}),ze(y,"renderActiveDot",function(_,w,T){var E;return re.isValidElement(_)?E=re.cloneElement(_,w):nt(_)?E=_(w):E=Q.createElement(fA,w),Q.createElement(Qt,{className:"recharts-active-dot",key:T},E)});var v=re.forwardRef(function(w,T){return Q.createElement(y,Bc({},w,{ref:T}))});return v.displayName=y.displayName,v},wA=awe({chartName:"AreaChart",GraphicalChild:Li,axisComponents:[{axisType:"xAxis",AxisComp:Ef},{axisType:"yAxis",AxisComp:ix}],formatAxisMap:Jye});const swe=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],owe=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:s6,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:a6,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:wl,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:o6,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return x.jsxs("div",{className:"space-y-6 pb-20",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),x.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),x.jsxs("div",{className:"flex gap-2 text-sm",children:[x.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),x.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:fb,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:N0,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:wl,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:l6,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((r,n)=>x.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("div",{className:`p-3 rounded-2xl ${r.bg} ${r.color} group-hover:scale-110 transition-transform`,children:x.jsx(r.icon,{className:"w-6 h-6"})}),x.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${r.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:r.trend})]}),x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:r.label}),x.jsx("h3",{className:"text-2xl font-black text-slate-800",children:r.value})]},n))}),x.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[x.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[x.jsx(m6,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),x.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((r,n)=>x.jsxs("button",{onClick:()=>t==null?void 0:t(r.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[x.jsx("div",{className:`p-4 rounded-2xl ${r.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:x.jsx(r.icon,{className:"w-6 h-6"})}),x.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:r.label}),x.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:r.desc}),x.jsx(KK,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},n))})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[x.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),x.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),x.jsx("div",{className:"h-80 w-full",children:x.jsx(Ub,{width:"100%",height:"100%",children:x.jsxs(wA,{data:swe,children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),x.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),x.jsx(nx,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(Ef,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),x.jsx(ix,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),x.jsx(bi,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),x.jsx(Li,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),x.jsx(Li,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),x.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[x.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[x.jsxs("div",{className:"relative z-10 space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(nX,{className:"w-6 h-6 text-orange-500"}),x.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),x.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((r,n)=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[x.jsx("span",{className:"text-xs font-bold text-slate-300",children:r.task}),r.status==="done"?x.jsx(P0,{className:"w-4 h-4 text-green-400"}):x.jsx(ZK,{className:"w-4 h-4 text-orange-500"})]},n))}),x.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[x.jsx(sb,{className:"w-4 h-4"})," Aadir Requisito"]})]}),x.jsx(gw,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),x.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[x.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(wl,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),x.jsx("div",{className:"space-y-3",children:x.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[x.jsx(ab,{className:"w-5 h-5 text-orange-600 shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),x.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var HU=1252,lwe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],EA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},TA=function(t){lwe.indexOf(t)!=-1&&(HU=EA[0]=t)};function cwe(){TA(1252)}var ra=function(t){TA(t)};function zU(){ra(1200),cwe()}function XR(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function uwe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function WU(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var pd=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?uwe(t.slice(2)):e==254&&r==255?WU(t.slice(2)):e==65279?t.slice(1):t},Bp=function(e){return String.fromCharCode(e)},YR=function(e){return String.fromCharCode(e)},t0,lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function JR(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),a=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=lo.charAt(a)+lo.charAt(s)+lo.charAt(o)+lo.charAt(l);return e}function pi(t){var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)a=lo.indexOf(t.charAt(c++)),s=lo.indexOf(t.charAt(c++)),r=a<<2|s>>4,e+=String.fromCharCode(r),o=lo.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=lo.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),tc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ro(t){return ct?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function QR(t){return ct?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ea=function(e){return ct?tc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function rc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function SA(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return SA(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var to=ct?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:tc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function fwe(t){for(var e=[],r=0,n=t.length+250,i=Ro(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Ro(65535),n=65530)}return e.push(i.slice(0,r)),to(e)}var Un=/\u0000/g,md=/[\u0001-\u0006]/g;function au(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function na(t,e){var r=""+t;return r.length>=e?r:lr("0",e-r.length)+r}function bA(t,e){var r=""+t;return r.length>=e?r:lr(" ",e-r.length)+r}function hv(t,e){var r=""+t;return r.length>=e?r:r+lr(" ",e-r.length)}function dwe(t,e){var r=""+Math.round(t);return r.length>=e?r:lr("0",e-r.length)+r}function hwe(t,e){var r=""+t;return r.length>=e?r:lr("0",e-r.length)+r}var ZR=Math.pow(2,32);function xc(t,e){if(t>ZR||t<-ZR)return dwe(t,e);var r=Math.round(t);return hwe(r,e)}function pv(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var eO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pwe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var rt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},tO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mwe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mv(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=a):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function ml(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=wwe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var qU=new Date(1899,11,31,0,0,0),gwe=qU.getTime(),vwe=new Date(1900,2,1,0,0,0);function KU(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=vwe&&(r+=24*60*60*1e3),(r-(gwe+(t.getTimezoneOffset()-qU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function AA(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ywe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xwe(t){var e=t<0?12:11,r=AA(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function _we(t){var e=AA(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function r0(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=xwe(t):e===10?r=t.toFixed(10).substr(0,12):r=_we(t),AA(ywe(r.toUpperCase()))}function jl(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):r0(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ui(14,KU(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function wwe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Ewe(t,e,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return $1[r.m-1][1];case 5:return $1[r.m-1][0];default:return $1[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return eO[r.q][0];default:return eO[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?na(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=na(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?na(l,c):"";return u}function co(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var XU=/%/g;function Twe(t,e,r){var n=e.replace(XU,""),i=e.length-n.length;return us(t,n,r*Math.pow(10,2*i))+lr("%",i)}function Swe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return us(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function YU(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+YU(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JU=/# (\?+)( ?)\/( ?)(\d+)/;function bwe(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?lr(" ",t[1].length+1+t[4].length):bA(s,t[1].length)+t[2]+"/"+t[3]+na(o,t[4].length))}function Awe(t,e,r){return r+(e===0?"":""+e)+lr(" ",t[1].length+2+t[4].length)}var QU=/^#*0*\.([0#]+)/,ZU=/\).*[0#]/,e$=/\(###\) ###\\?-####/;function Nn(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function rO(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function nO(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Cwe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Iwe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ti(t,e,r){if(t.charCodeAt(0)===40&&!e.match(ZU)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ti("n",n,r):"("+Ti("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Swe(t,e,r);if(e.indexOf("%")!==-1)return Twe(t,e,r);if(e.indexOf("E")!==-1)return YU(e,r);if(e.charCodeAt(0)===36)return"$"+Ti(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+xc(l,e.length);if(e.match(/^[#?]+$/))return i=xc(r,0),i==="0"&&(i=""),i.length>e.length?i:Nn(e.substr(0,e.length-i.length))+i;if(a=e.match(JU))return bwe(a,l,c);if(e.match(/^#+0+$/))return c+xc(l,e.length-e.indexOf("0"));if(a=e.match(QU))return i=rO(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Nn(a[1])).replace(/\.$/,"."+Nn(a[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+lr("0",Nn(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+rO(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+co(xc(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ti(t,e,-r):co(""+(Math.floor(r)+Cwe(r,a[1].length)))+"."+na(nO(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ti(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=au(Ti(t,e.replace(/[\\-]/g,""),r)),s=0,au(au(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(e.match(e$))return i=Ti(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=mv(l,Math.pow(10,s)-1,!1),i=""+c,u=us("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=hv(o[2],s),u.length<a[4].length&&(u=Nn(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=mv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?bA(o[1],s)+a[2]+"/"+a[3]+hv(o[2],s):lr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=xc(r,0),e.length<=i.length?i:Nn(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return Nn(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=nO(r,a[1].length),r<0?"-"+Ti(t,e,-r):co(Iwe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?na(0,3-y.length):"")+y})+"."+na(s,a[1].length);switch(e){case"###,##0.00":return Ti(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=co(xc(l,0));return h!=="0"?c+h:"";case"###,###.00":return Ti(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ti(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function kwe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return us(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Pwe(t,e,r){var n=e.replace(XU,""),i=e.length-n.length;return us(t,n,r*Math.pow(10,2*i))+lr("%",i)}function t$(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+t$(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _a(t,e,r){if(t.charCodeAt(0)===40&&!e.match(ZU)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_a("n",n,r):"("+_a("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return kwe(t,e,r);if(e.indexOf("%")!==-1)return Pwe(t,e,r);if(e.indexOf("E")!==-1)return t$(e,r);if(e.charCodeAt(0)===36)return"$"+_a(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+na(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Nn(e.substr(0,e.length-i.length))+i;if(a=e.match(JU))return Awe(a,l,c);if(e.match(/^#+0+$/))return c+na(l,e.length-e.indexOf("0"));if(a=e.match(QU))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Nn(a[1])).replace(/\.$/,"."+Nn(a[1])),i=i.replace(/\.(\d*)$/,function(y,v){return"."+v+lr("0",Nn(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+co(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_a(t,e,-r):co(""+r)+"."+lr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return _a(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=au(_a(t,e.replace(/[\\-]/g,""),r)),s=0,au(au(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(e.match(e$))return i=_a(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=mv(l,Math.pow(10,s)-1,!1),i=""+c,u=us("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=hv(o[2],s),u.length<a[4].length&&(u=Nn(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=mv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?bA(o[1],s)+a[2]+"/"+a[3]+hv(o[2],s):lr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Nn(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return Nn(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_a(t,e,-r):co(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?na(0,3-y.length):"")+y})+"."+na(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=co(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return _a(t,e.slice(0,e.lastIndexOf(".")),r)+Nn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function us(t,e,r){return(r|0)===r?_a(t,e,r):Ti(t,e,r)}function Nwe(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var r$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Tf(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":pv(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(r$))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Rwe(t,e,r,n){for(var i=[],a="",s=0,o="",l="t",c,u,f,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!pv(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=t.charAt(++s),y=h==="("||h===")"?h:"t";i[i.length]={t:y,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=ml(e,r,t.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=ml(e,r),c==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=ml(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",s+=5,d="h"):(v.t="t",++s),c==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(r$)){if(c==null&&(c=ml(e,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Tf(t)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var _=0,w=0,T;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",_<1&&(_=1);break;case"s":(T=i[s].v.match(/\.0+$/))&&(w=Math.max(w,T[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[s].v.match(/[Hh]/)&&(_=1),_<2&&i[s].v.match(/[Mm]/)&&(_=2),_<3&&i[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",k;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Ewe(i[s].t.charCodeAt(0),i[s].v,c,w),i[s].t="t";break;case"n":case"?":for(k=s+1;i[k]!=null&&((o=i[k].t)==="?"||o==="D"||(o===" "||o==="t")&&i[k+1]!=null&&(i[k+1].t==="?"||i[k+1].t==="t"&&i[k+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[k].v==="/"||i[k].v===" "&&i[k+1]!=null&&i[k+1].t=="?"));)i[s].v+=i[k].v,i[k]={v:"",t:";"},++k;E+=i[s].v,s=k-1;break;case"G":i[s].t="t",i[s].v=jl(e,r);break}var A="",C,S;if(E.length>0){E.charCodeAt(0)==40?(C=e<0&&E.charCodeAt(0)===45?-e:e,S=us("n",E,C)):(C=e<0&&n>1?-e:e,S=us("n",E,C),C<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),k=S.length-1;var I=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){I=s;break}var b=i.length;if(I===i.length&&S.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(k>=i[s].v.length-1?(k-=i[s].v.length,i[s].v=S.substr(k+1,i[s].v.length)):k<0?i[s].v="":(i[s].v=S.substr(0,k+1),k=-1),i[s].t="t",b=s);k>=0&&b<i.length&&(i[b].v=S.substr(0,k+1)+i[b].v)}else if(I!==i.length&&S.indexOf("E")===-1){for(k=S.indexOf(".")-1,s=I;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")-1:i[s].v.length-1,A=i[s].v.substr(u+1);u>=0;--u)k>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(A=S.charAt(k--)+A);i[s].v=A,i[s].t="t",b=s}for(k>=0&&b<i.length&&(i[b].v=S.substr(0,k+1)+i[b].v),k=S.indexOf(".")+1,s=I;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==I)){for(u=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")+1:0,A=i[s].v.substr(0,u);u<i[s].v.length;++u)k<S.length&&(A+=S.charAt(k++));i[s].v=A,i[s].t="t",b=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(C=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=us(i[s].t,i[s].v,C),i[s].t="t");var N="";for(s=0;s!==i.length;++s)i[s]!=null&&(N+=i[s].v);return N}var iO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function aO(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Owe(t,e){var r=Nwe(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(iO),o=r[1].match(iO);return aO(e,s)?[n,r[0]]:aO(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Ui(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:rt)[t],n==null&&(n=r.table&&r.table[tO[t]]||rt[tO[t]]),n==null&&(n=mwe[t]||"General");break}if(pv(n,0))return jl(e,r);e instanceof Date&&(e=KU(e,r.date1904));var i=Owe(n,e);if(pv(i[1]))return jl(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Rwe(i[1],e,r,i[0])}function Sl(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(rt[r]==null){e<0&&(e=r);continue}if(rt[r]==t){e=r;break}}e<0&&(e=391)}return rt[e]=t,e}function n$(){rt=pwe()}var Mwe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},i$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Dwe(t){var e=typeof t=="number"?rt[t]:t;return e=e.replace(i$,"(\\d+)"),new RegExp("^"+e+"$")}function Fwe(t,e,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(i$)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var Lwe=function(){var t={};t.version="1.2.0";function e(){for(var S=0,I=new Array(256),b=0;b!=256;++b)S=b,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,I[b]=S;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function n(S){var I=0,b=0,N=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)O[N]=S[N];for(N=0;N!=256;++N)for(b=S[N],I=256+N;I<4096;I+=256)b=O[I]=b>>>8^S[b&255];var R=[];for(N=1;N!=16;++N)R[N-1]=typeof Int32Array<"u"?O.subarray(N*256,N*256+256):O.slice(N*256,N*256+256);return R}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],y=i[9],v=i[10],_=i[11],w=i[12],T=i[13],E=i[14];function k(S,I){for(var b=I^-1,N=0,O=S.length;N<O;)b=b>>>8^r[(b^S.charCodeAt(N++))&255];return~b}function A(S,I){for(var b=I^-1,N=S.length-15,O=0;O<N;)b=E[S[O++]^b&255]^T[S[O++]^b>>8&255]^w[S[O++]^b>>16&255]^_[S[O++]^b>>>24]^v[S[O++]]^y[S[O++]]^h[S[O++]]^d[S[O++]]^f[S[O++]]^u[S[O++]]^c[S[O++]]^l[S[O++]]^o[S[O++]]^s[S[O++]]^a[S[O++]]^r[S[O++]];for(N+=15;O<N;)b=b>>>8^r[(b^S[O++])&255];return~b}function C(S,I){for(var b=I^-1,N=0,O=S.length,R=0,D=0;N<O;)R=S.charCodeAt(N++),R<128?b=b>>>8^r[(b^R)&255]:R<2048?(b=b>>>8^r[(b^(192|R>>6&31))&255],b=b>>>8^r[(b^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,D=S.charCodeAt(N++)&1023,b=b>>>8^r[(b^(240|R>>8&7))&255],b=b>>>8^r[(b^(128|R>>2&63))&255],b=b>>>8^r[(b^(128|D>>6&15|(R&3)<<4))&255],b=b>>>8^r[(b^(128|D&63))&255]):(b=b>>>8^r[(b^(224|R>>12&15))&255],b=b>>>8^r[(b^(128|R>>6&63))&255],b=b>>>8^r[(b^(128|R&63))&255]);return~b}return t.table=r,t.bstr=k,t.buf=A,t.str=C,t}(),dt=function(){var e={};e.version="1.2.1";function r(F,G){for(var V=F.split("/"),j=G.split("/"),H=0,W=0,ae=Math.min(V.length,j.length);H<ae;++H){if(W=V[H].length-j[H].length)return W;if(V[H]!=j[H])return V[H]<j[H]?-1:1}return V.length-j.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(0,G+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(G+1)}function a(F,G){typeof G=="string"&&(G=new Date(G));var V=G.getHours();V=V<<6|G.getMinutes(),V=V<<5|G.getSeconds()>>>1,F.write_shift(2,V);var j=G.getFullYear()-1980;j=j<<4|G.getMonth()+1,j=j<<5|G.getDate(),F.write_shift(2,j)}function s(F){var G=F.read_shift(2)&65535,V=F.read_shift(2)&65535,j=new Date,H=V&31;V>>>=5;var W=V&15;V>>>=4,j.setMilliseconds(0),j.setFullYear(V+1980),j.setMonth(W-1),j.setDate(H);var ae=G&31;G>>>=5;var he=G&63;return G>>>=6,j.setHours(G),j.setMinutes(he),j.setSeconds(ae<<1),j}function o(F){Jr(F,0);for(var G={},V=0;F.l<=F.length-4;){var j=F.read_shift(2),H=F.read_shift(2),W=F.l+H,ae={};switch(j){case 21589:V=F.read_shift(1),V&1&&(ae.mtime=F.read_shift(4)),H>5&&(V&2&&(ae.atime=F.read_shift(4)),V&4&&(ae.ctime=F.read_shift(4))),ae.mtime&&(ae.mt=new Date(ae.mtime*1e3));break}F.l=W,G[j]=ae}return G}var l;function c(){return l||(l={})}function u(F,G){if(F[0]==80&&F[1]==75)return Wo(F,G);if((F[0]|32)==109&&(F[1]|32)==105)return ke(F,G);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var V=3,j=512,H=0,W=0,ae=0,he=0,se=0,le=[],ce=F.slice(0,512);Jr(ce,0);var _e=f(ce);switch(V=_e[0],V){case 3:j=512;break;case 4:j=4096;break;case 0:if(_e[1]==0)return Wo(F,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}j!==512&&(ce=F.slice(0,j),Jr(ce,28));var Ae=F.slice(0,j);d(ce,V);var Fe=ce.read_shift(4,"i");if(V===3&&Fe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Fe);ce.l+=4,ae=ce.read_shift(4,"i"),ce.l+=4,ce.chk("00100000","Mini Stream Cutoff Size: "),he=ce.read_shift(4,"i"),H=ce.read_shift(4,"i"),se=ce.read_shift(4,"i"),W=ce.read_shift(4,"i");for(var Te=-1,Pe=0;Pe<109&&(Te=ce.read_shift(4,"i"),!(Te<0));++Pe)le[Pe]=Te;var qe=h(F,j);_(se,W,qe,j,le);var kt=T(qe,ae,le,j);kt[ae].name="!Directory",H>0&&he!==D&&(kt[he].name="!MiniFAT"),kt[le[0]].name="!FAT",kt.fat_addrs=le,kt.ssz=j;var Tt={},zt=[],Ha=[],Ko=[];E(ae,kt,qe,zt,H,Tt,Ha,he),y(Ha,Ko,zt),zt.shift();var $s={FileIndex:Ha,FullPaths:Ko};return G&&G.raw&&($s.raw={header:Ae,sectors:qe}),$s}function f(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(J,"Header Signature: "),F.l+=16;var G=F.read_shift(2,"u");return[F.read_shift(2,"u"),G]}function d(F,G){var V=9;switch(F.l+=2,V=F.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function h(F,G){for(var V=Math.ceil(F.length/G)-1,j=[],H=1;H<V;++H)j[H-1]=F.slice(H*G,(H+1)*G);return j[V-1]=F.slice(V*G),j}function y(F,G,V){for(var j=0,H=0,W=0,ae=0,he=0,se=V.length,le=[],ce=[];j<se;++j)le[j]=ce[j]=j,G[j]=V[j];for(;he<ce.length;++he)j=ce[he],H=F[j].L,W=F[j].R,ae=F[j].C,le[j]===j&&(H!==-1&&le[H]!==H&&(le[j]=le[H]),W!==-1&&le[W]!==W&&(le[j]=le[W])),ae!==-1&&(le[ae]=j),H!==-1&&j!=le[j]&&(le[H]=le[j],ce.lastIndexOf(H)<he&&ce.push(H)),W!==-1&&j!=le[j]&&(le[W]=le[j],ce.lastIndexOf(W)<he&&ce.push(W));for(j=1;j<se;++j)le[j]===j&&(W!==-1&&le[W]!==W?le[j]=le[W]:H!==-1&&le[H]!==H&&(le[j]=le[H]));for(j=1;j<se;++j)if(F[j].type!==0){if(he=j,he!=le[he])do he=le[he],G[j]=G[he]+"/"+G[j];while(he!==0&&le[he]!==-1&&he!=le[he]);le[j]=-1}for(G[0]+="/",j=1;j<se;++j)F[j].type!==2&&(G[j]+="/")}function v(F,G,V){for(var j=F.start,H=F.size,W=[],ae=j;V&&H>0&&ae>=0;)W.push(G.slice(ae*R,ae*R+R)),H-=R,ae=al(V,ae*4);return W.length===0?br(0):to(W).slice(0,F.size)}function _(F,G,V,j,H){var W=D;if(F===D){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var ae=V[F],he=(j>>>2)-1;if(!ae)return;for(var se=0;se<he&&(W=al(ae,se*4))!==D;++se)H.push(W);_(al(ae,j-4),G-1,V,j,H)}}function w(F,G,V,j,H){var W=[],ae=[];H||(H=[]);var he=j-1,se=0,le=0;for(se=G;se>=0;){H[se]=!0,W[W.length]=se,ae.push(F[se]);var ce=V[Math.floor(se*4/j)];if(le=se*4&he,j<4+le)throw new Error("FAT boundary crossed: "+se+" 4 "+j);if(!F[ce])break;se=al(F[ce],le)}return{nodes:W,data:mO([ae])}}function T(F,G,V,j){var H=F.length,W=[],ae=[],he=[],se=[],le=j-1,ce=0,_e=0,Ae=0,Fe=0;for(ce=0;ce<H;++ce)if(he=[],Ae=ce+G,Ae>=H&&(Ae-=H),!ae[Ae]){se=[];var Te=[];for(_e=Ae;_e>=0;){Te[_e]=!0,ae[_e]=!0,he[he.length]=_e,se.push(F[_e]);var Pe=V[Math.floor(_e*4/j)];if(Fe=_e*4&le,j<4+Fe)throw new Error("FAT boundary crossed: "+_e+" 4 "+j);if(!F[Pe]||(_e=al(F[Pe],Fe),Te[_e]))break}W[Ae]={nodes:he,data:mO([se])}}return W}function E(F,G,V,j,H,W,ae,he){for(var se=0,le=j.length?2:0,ce=G[F].data,_e=0,Ae=0,Fe;_e<ce.length;_e+=128){var Te=ce.slice(_e,_e+128);Jr(Te,64),Ae=Te.read_shift(2),Fe=NA(Te,0,Ae-le),j.push(Fe);var Pe={name:Fe,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},qe=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);qe!==0&&(Pe.ct=k(Te,Te.l-8));var kt=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);kt!==0&&(Pe.mt=k(Te,Te.l-8)),Pe.start=Te.read_shift(4,"i"),Pe.size=Te.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=D,Pe.name=""),Pe.type===5?(se=Pe.start,H>0&&se!==D&&(G[se].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",G[Pe.start]===void 0&&(G[Pe.start]=w(V,Pe.start,G.fat_addrs,G.ssz)),G[Pe.start].name=Pe.name,Pe.content=G[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:se!==D&&Pe.start!==D&&G[se]&&(Pe.content=v(Pe,G[se].data,(G[he]||{}).data))),Pe.content&&Jr(Pe.content,0),W[Fe]=Pe,ae.push(Pe)}}function k(F,G){return new Date((ai(F,G+4)/1e7*Math.pow(2,32)+ai(F,G)/1e7-11644473600)*1e3)}function A(F,G){return c(),u(l.readFileSync(F),G)}function C(F,G){var V=G&&G.type;switch(V||ct&&Buffer.isBuffer(F)&&(V="buffer"),V||"base64"){case"file":return A(F,G);case"base64":return u(ea(pi(F)),G);case"binary":return u(ea(F),G)}return u(F,G)}function S(F,G){var V=G||{},j=V.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=j+"/",F.FileIndex[0]={name:j,type:5}),V.CLSID&&(F.FileIndex[0].clsid=V.CLSID),I(F)}function I(F){var G="Sh33tJ5";if(!dt.find(F,"/"+G)){var V=br(4);V[0]=55,V[1]=V[3]=50,V[2]=54,F.FileIndex.push({name:G,type:2,content:V,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+G),b(F)}}function b(F,G){S(F);for(var V=!1,j=!1,H=F.FullPaths.length-1;H>=0;--H){var W=F.FileIndex[H];switch(W.type){case 0:j?V=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(W.R*W.L*W.C)&&(V=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!G)){var ae=new Date(1987,1,19),he=0,se=Object.create?Object.create(null):{},le=[];for(H=0;H<F.FullPaths.length;++H)se[F.FullPaths[H]]=!0,F.FileIndex[H].type!==0&&le.push([F.FullPaths[H],F.FileIndex[H]]);for(H=0;H<le.length;++H){var ce=n(le[H][0]);j=se[ce],j||(le.push([ce,{name:i(ce).replace("/",""),type:1,clsid:te,ct:ae,mt:ae,content:null}]),se[ce]=!0)}for(le.sort(function(Fe,Te){return r(Fe[0],Te[0])}),F.FullPaths=[],F.FileIndex=[],H=0;H<le.length;++H)F.FullPaths[H]=le[H][0],F.FileIndex[H]=le[H][1];for(H=0;H<le.length;++H){var _e=F.FileIndex[H],Ae=F.FullPaths[H];if(_e.name=i(Ae).replace("/",""),_e.L=_e.R=_e.C=-(_e.color=1),_e.size=_e.content?_e.content.length:0,_e.start=0,_e.clsid=_e.clsid||te,H===0)_e.C=le.length>1?1:-1,_e.size=0,_e.type=5;else if(Ae.slice(-1)=="/"){for(he=H+1;he<le.length&&n(F.FullPaths[he])!=Ae;++he);for(_e.C=he>=le.length?-1:he,he=H+1;he<le.length&&n(F.FullPaths[he])!=n(Ae);++he);_e.R=he>=le.length?-1:he,_e.type=1}else n(F.FullPaths[H+1]||"")==n(Ae)&&(_e.R=H+1),_e.type=2}}}function N(F,G){var V=G||{};if(V.fileType=="mad")return $e(F,V);switch(b(F),V.fileType){case"zip":return qo(F,V)}var j=function(Fe){for(var Te=0,Pe=0,qe=0;qe<Fe.FileIndex.length;++qe){var kt=Fe.FileIndex[qe];if(kt.content){var Tt=kt.content.length;Tt>0&&(Tt<4096?Te+=Tt+63>>6:Pe+=Tt+511>>9)}}for(var zt=Fe.FullPaths.length+3>>2,Ha=Te+7>>3,Ko=Te+127>>7,$s=Ha+Pe+zt+Ko,va=$s+127>>7,uc=va<=109?0:Math.ceil((va-109)/127);$s+va+uc+127>>7>va;)uc=++va<=109?0:Math.ceil((va-109)/127);var ei=[1,uc,va,Ko,zt,Pe,Te,0];return Fe.FileIndex[0].size=Te<<6,ei[7]=(Fe.FileIndex[0].start=ei[0]+ei[1]+ei[2]+ei[3]+ei[4]+ei[5])+(ei[6]+7>>3),ei}(F),H=br(j[7]<<9),W=0,ae=0;{for(W=0;W<8;++W)H.write_shift(1,X[W]);for(W=0;W<8;++W)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),W=0;W<3;++W)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,j[2]),H.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:D),H.write_shift(4,j[3]),H.write_shift(-4,j[1]?j[0]-1:D),H.write_shift(4,j[1]),W=0;W<109;++W)H.write_shift(-4,W<j[2]?j[1]+W:-1)}if(j[1])for(ae=0;ae<j[1];++ae){for(;W<236+ae*127;++W)H.write_shift(-4,W<j[2]?j[1]+W:-1);H.write_shift(-4,ae===j[1]-1?D:ae+1)}var he=function(Fe){for(ae+=Fe;W<ae-1;++W)H.write_shift(-4,W+1);Fe&&(++W,H.write_shift(-4,D))};for(ae=W=0,ae+=j[1];W<ae;++W)H.write_shift(-4,Z.DIFSECT);for(ae+=j[2];W<ae;++W)H.write_shift(-4,Z.FATSECT);he(j[3]),he(j[4]);for(var se=0,le=0,ce=F.FileIndex[0];se<F.FileIndex.length;++se)ce=F.FileIndex[se],ce.content&&(le=ce.content.length,!(le<4096)&&(ce.start=ae,he(le+511>>9)));for(he(j[6]+7>>3);H.l&511;)H.write_shift(-4,Z.ENDOFCHAIN);for(ae=W=0,se=0;se<F.FileIndex.length;++se)ce=F.FileIndex[se],ce.content&&(le=ce.content.length,!(!le||le>=4096)&&(ce.start=ae,he(le+63>>6)));for(;H.l&511;)H.write_shift(-4,Z.ENDOFCHAIN);for(W=0;W<j[4]<<2;++W){var _e=F.FullPaths[W];if(!_e||_e.length===0){for(se=0;se<17;++se)H.write_shift(4,0);for(se=0;se<3;++se)H.write_shift(4,-1);for(se=0;se<12;++se)H.write_shift(4,0);continue}ce=F.FileIndex[W],W===0&&(ce.start=ce.size?ce.start-1:D);var Ae=W===0&&V.root||ce.name;if(le=2*(Ae.length+1),H.write_shift(64,Ae,"utf16le"),H.write_shift(2,le),H.write_shift(1,ce.type),H.write_shift(1,ce.color),H.write_shift(-4,ce.L),H.write_shift(-4,ce.R),H.write_shift(-4,ce.C),ce.clsid)H.write_shift(16,ce.clsid,"hex");else for(se=0;se<4;++se)H.write_shift(4,0);H.write_shift(4,ce.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,ce.start),H.write_shift(4,ce.size),H.write_shift(4,0)}for(W=1;W<F.FileIndex.length;++W)if(ce=F.FileIndex[W],ce.size>=4096)if(H.l=ce.start+1<<9,ct&&Buffer.isBuffer(ce.content))ce.content.copy(H,H.l,0,ce.size),H.l+=ce.size+511&-512;else{for(se=0;se<ce.size;++se)H.write_shift(1,ce.content[se]);for(;se&511;++se)H.write_shift(1,0)}for(W=1;W<F.FileIndex.length;++W)if(ce=F.FileIndex[W],ce.size>0&&ce.size<4096)if(ct&&Buffer.isBuffer(ce.content))ce.content.copy(H,H.l,0,ce.size),H.l+=ce.size+63&-64;else{for(se=0;se<ce.size;++se)H.write_shift(1,ce.content[se]);for(;se&63;++se)H.write_shift(1,0)}if(ct)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function O(F,G){var V=F.FullPaths.map(function(se){return se.toUpperCase()}),j=V.map(function(se){var le=se.split("/");return le[le.length-(se.slice(-1)=="/"?2:1)]}),H=!1;G.charCodeAt(0)===47?(H=!0,G=V[0].slice(0,-1)+G):H=G.indexOf("/")!==-1;var W=G.toUpperCase(),ae=H===!0?V.indexOf(W):j.indexOf(W);if(ae!==-1)return F.FileIndex[ae];var he=!W.match(md);for(W=W.replace(Un,""),he&&(W=W.replace(md,"!")),ae=0;ae<V.length;++ae)if((he?V[ae].replace(md,"!"):V[ae]).replace(Un,"")==W||(he?j[ae].replace(md,"!"):j[ae]).replace(Un,"")==W)return F.FileIndex[ae];return null}var R=64,D=-2,J="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ee(F,G,V){c();var j=N(F,V);l.writeFileSync(G,j)}function z(F){for(var G=new Array(F.length),V=0;V<F.length;++V)G[V]=String.fromCharCode(F[V]);return G.join("")}function ie(F,G){var V=N(F,G);switch(G&&G.type||"buffer"){case"file":return c(),l.writeFileSync(G.filename,V),V;case"binary":return typeof V=="string"?V:z(V);case"base64":return JR(typeof V=="string"?V:z(V));case"buffer":if(ct)return Buffer.isBuffer(V)?V:tc(V);case"array":return typeof V=="string"?ea(V):V}return V}var me;function U(F){try{var G=F.InflateRaw,V=new G;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)me=F;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function q(F,G){if(!me)return Us(F,G);var V=me.InflateRaw,j=new V,H=j._processChunk(F.slice(F.l),j._finishFlushFlag);return F.l+=j.bytesRead,H}function Y(F){return me?me.deflateRawSync(F):et(F)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(F){var G=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(G>>16|G>>8|G)&255}for(var oe=typeof Uint8Array<"u",ue=oe?new Uint8Array(256):[],Ie=0;Ie<256;++Ie)ue[Ie]=be(Ie);function L(F,G){var V=ue[F&255];return G<=8?V>>>8-G:(V=V<<8|ue[F>>8&255],G<=16?V>>>16-G:(V=V<<8|ue[F>>16&255],V>>>24-G))}function He(F,G){var V=G&7,j=G>>>3;return(F[j]|(V<=6?0:F[j+1]<<8))>>>V&3}function Me(F,G){var V=G&7,j=G>>>3;return(F[j]|(V<=5?0:F[j+1]<<8))>>>V&7}function Ge(F,G){var V=G&7,j=G>>>3;return(F[j]|(V<=4?0:F[j+1]<<8))>>>V&15}function Be(F,G){var V=G&7,j=G>>>3;return(F[j]|(V<=3?0:F[j+1]<<8))>>>V&31}function we(F,G){var V=G&7,j=G>>>3;return(F[j]|(V<=1?0:F[j+1]<<8))>>>V&127}function ut(F,G,V){var j=G&7,H=G>>>3,W=(1<<V)-1,ae=F[H]>>>j;return V<8-j||(ae|=F[H+1]<<8-j,V<16-j)||(ae|=F[H+2]<<16-j,V<24-j)||(ae|=F[H+3]<<24-j),ae&W}function Gt(F,G,V){var j=G&7,H=G>>>3;return j<=5?F[H]|=(V&7)<<j:(F[H]|=V<<j&255,F[H+1]=(V&7)>>8-j),G+3}function ur(F,G,V){var j=G&7,H=G>>>3;return V=(V&1)<<j,F[H]|=V,G+1}function rr(F,G,V){var j=G&7,H=G>>>3;return V<<=j,F[H]|=V&255,V>>>=8,F[H+1]=V,G+8}function zr(F,G,V){var j=G&7,H=G>>>3;return V<<=j,F[H]|=V&255,V>>>=8,F[H+1]=V&255,F[H+2]=V>>>8,G+16}function Mr(F,G){var V=F.length,j=2*V>G?2*V:G+5,H=0;if(V>=G)return F;if(ct){var W=QR(j);if(F.copy)F.copy(W);else for(;H<F.length;++H)W[H]=F[H];return W}else if(oe){var ae=new Uint8Array(j);if(ae.set)ae.set(F);else for(;H<V;++H)ae[H]=F[H];return ae}return F.length=j,F}function nr(F){for(var G=new Array(F),V=0;V<F;++V)G[V]=0;return G}function Wr(F,G,V){var j=1,H=0,W=0,ae=0,he=0,se=F.length,le=oe?new Uint16Array(32):nr(32);for(W=0;W<32;++W)le[W]=0;for(W=se;W<V;++W)F[W]=0;se=F.length;var ce=oe?new Uint16Array(se):nr(se);for(W=0;W<se;++W)le[H=F[W]]++,j<H&&(j=H),ce[W]=0;for(le[0]=0,W=1;W<=j;++W)le[W+16]=he=he+le[W-1]<<1;for(W=0;W<se;++W)he=F[W],he!=0&&(ce[W]=le[he+16]++);var _e=0;for(W=0;W<se;++W)if(_e=F[W],_e!=0)for(he=L(ce[W],j)>>j-_e,ae=(1<<j+4-_e)-1;ae>=0;--ae)G[he|ae<<_e]=_e&15|W<<4;return j}var It=oe?new Uint16Array(512):nr(512),Xt=oe?new Uint16Array(32):nr(32);if(!oe){for(var ir=0;ir<512;++ir)It[ir]=0;for(ir=0;ir<32;++ir)Xt[ir]=0}(function(){for(var F=[],G=0;G<32;G++)F.push(5);Wr(F,Xt,32);var V=[];for(G=0;G<=143;G++)V.push(8);for(;G<=255;G++)V.push(9);for(;G<=279;G++)V.push(7);for(;G<=287;G++)V.push(8);Wr(V,It,288)})();var In=function(){for(var G=oe?new Uint8Array(32768):[],V=0,j=0;V<xe.length-1;++V)for(;j<xe[V+1];++j)G[j]=V;for(;j<32768;++j)G[j]=29;var H=oe?new Uint8Array(259):[];for(V=0,j=0;V<de.length-1;++V)for(;j<de[V+1];++j)H[j]=V;function W(he,se){for(var le=0;le<he.length;){var ce=Math.min(65535,he.length-le),_e=le+ce==he.length;for(se.write_shift(1,+_e),se.write_shift(2,ce),se.write_shift(2,~ce&65535);ce-- >0;)se[se.l++]=he[le++]}return se.l}function ae(he,se){for(var le=0,ce=0,_e=oe?new Uint16Array(32768):[];ce<he.length;){var Ae=Math.min(65535,he.length-ce);if(Ae<10){for(le=Gt(se,le,+(ce+Ae==he.length)),le&7&&(le+=8-(le&7)),se.l=le/8|0,se.write_shift(2,Ae),se.write_shift(2,~Ae&65535);Ae-- >0;)se[se.l++]=he[ce++];le=se.l*8;continue}le=Gt(se,le,+(ce+Ae==he.length)+2);for(var Fe=0;Ae-- >0;){var Te=he[ce];Fe=(Fe<<5^Te)&32767;var Pe=-1,qe=0;if((Pe=_e[Fe])&&(Pe|=ce&-32768,Pe>ce&&(Pe-=32768),Pe<ce))for(;he[Pe+qe]==he[ce+qe]&&qe<250;)++qe;if(qe>2){Te=H[qe],Te<=22?le=rr(se,le,ue[Te+1]>>1)-1:(rr(se,le,3),le+=5,rr(se,le,ue[Te-23]>>5),le+=3);var kt=Te<8?0:Te-4>>2;kt>0&&(zr(se,le,qe-de[Te]),le+=kt),Te=G[ce-Pe],le=rr(se,le,ue[Te]>>3),le-=3;var Tt=Te<4?0:Te-2>>1;Tt>0&&(zr(se,le,ce-Pe-xe[Te]),le+=Tt);for(var zt=0;zt<qe;++zt)_e[Fe]=ce&32767,Fe=(Fe<<5^he[ce])&32767,++ce;Ae-=qe-1}else Te<=143?Te=Te+48:le=ur(se,le,1),le=rr(se,le,ue[Te]),_e[Fe]=ce&32767,++ce}le=rr(se,le,0)-1}return se.l=(le+7)/8|0,se.l}return function(se,le){return se.length<8?W(se,le):ae(se,le)}}();function et(F){var G=br(50+Math.floor(F.length*1.1)),V=In(F,G);return G.slice(0,V)}var Lt=oe?new Uint16Array(32768):nr(32768),pr=oe?new Uint16Array(32768):nr(32768),Ht=oe?new Uint16Array(128):nr(128),vi=1,Ls=1;function kf(F,G){var V=Be(F,G)+257;G+=5;var j=Be(F,G)+1;G+=5;var H=Ge(F,G)+4;G+=4;for(var W=0,ae=oe?new Uint8Array(19):nr(19),he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,le=oe?new Uint8Array(8):nr(8),ce=oe?new Uint8Array(8):nr(8),_e=ae.length,Ae=0;Ae<H;++Ae)ae[K[Ae]]=W=Me(F,G),se<W&&(se=W),le[W]++,G+=3;var Fe=0;for(le[0]=0,Ae=1;Ae<=se;++Ae)ce[Ae]=Fe=Fe+le[Ae-1]<<1;for(Ae=0;Ae<_e;++Ae)(Fe=ae[Ae])!=0&&(he[Ae]=ce[Fe]++);var Te=0;for(Ae=0;Ae<_e;++Ae)if(Te=ae[Ae],Te!=0){Fe=ue[he[Ae]]>>8-Te;for(var Pe=(1<<7-Te)-1;Pe>=0;--Pe)Ht[Fe|Pe<<Te]=Te&7|Ae<<3}var qe=[];for(se=1;qe.length<V+j;)switch(Fe=Ht[we(F,G)],G+=Fe&7,Fe>>>=3){case 16:for(W=3+He(F,G),G+=2,Fe=qe[qe.length-1];W-- >0;)qe.push(Fe);break;case 17:for(W=3+Me(F,G),G+=3;W-- >0;)qe.push(0);break;case 18:for(W=11+we(F,G),G+=7;W-- >0;)qe.push(0);break;default:qe.push(Fe),se<Fe&&(se=Fe);break}var kt=qe.slice(0,V),Tt=qe.slice(V);for(Ae=V;Ae<286;++Ae)kt[Ae]=0;for(Ae=j;Ae<30;++Ae)Tt[Ae]=0;return vi=Wr(kt,Lt,286),Ls=Wr(Tt,pr,30),G}function Pf(F,G){if(F[0]==3&&!(F[1]&3))return[Ro(G),2];for(var V=0,j=0,H=QR(G||1<<18),W=0,ae=H.length>>>0,he=0,se=0;!(j&1);){if(j=Me(F,V),V+=3,j>>>1)j>>1==1?(he=9,se=5):(V=kf(F,V),he=vi,se=Ls);else{V&7&&(V+=8-(V&7));var le=F[V>>>3]|F[(V>>>3)+1]<<8;if(V+=32,le>0)for(!G&&ae<W+le&&(H=Mr(H,W+le),ae=H.length);le-- >0;)H[W++]=F[V>>>3],V+=8;continue}for(;;){!G&&ae<W+32767&&(H=Mr(H,W+32767),ae=H.length);var ce=ut(F,V,he),_e=j>>>1==1?It[ce]:Lt[ce];if(V+=_e&15,_e>>>=4,!(_e>>>8&255))H[W++]=_e;else{if(_e==256)break;_e-=257;var Ae=_e<8?0:_e-4>>2;Ae>5&&(Ae=0);var Fe=W+de[_e];Ae>0&&(Fe+=ut(F,V,Ae),V+=Ae),ce=ut(F,V,se),_e=j>>>1==1?Xt[ce]:pr[ce],V+=_e&15,_e>>>=4;var Te=_e<4?0:_e-2>>1,Pe=xe[_e];for(Te>0&&(Pe+=ut(F,V,Te),V+=Te),!G&&ae<Fe&&(H=Mr(H,Fe+100),ae=H.length);W<Fe;)H[W]=H[W-Pe],++W}}}return G?[H,V+7>>>3]:[H.slice(0,W),V+7>>>3]}function Us(F,G){var V=F.slice(F.l||0),j=Pf(V,G);return F.l+=j[1],j[0]}function zo(F,G){if(F)typeof console<"u"&&console.error(G);else throw new Error(G)}function Wo(F,G){var V=F;Jr(V,0);var j=[],H=[],W={FileIndex:j,FullPaths:H};S(W,{root:G.root});for(var ae=V.length-4;(V[ae]!=80||V[ae+1]!=75||V[ae+2]!=5||V[ae+3]!=6)&&ae>=0;)--ae;V.l=ae+4,V.l+=4;var he=V.read_shift(2);V.l+=6;var se=V.read_shift(4);for(V.l=se,ae=0;ae<he;++ae){V.l+=20;var le=V.read_shift(4),ce=V.read_shift(4),_e=V.read_shift(2),Ae=V.read_shift(2),Fe=V.read_shift(2);V.l+=8;var Te=V.read_shift(4),Pe=o(V.slice(V.l+_e,V.l+_e+Ae));V.l+=_e+Ae+Fe;var qe=V.l;V.l=Te+4,Va(V,le,ce,W,Pe),V.l=qe}return W}function Va(F,G,V,j,H){F.l+=2;var W=F.read_shift(2),ae=F.read_shift(2),he=s(F);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var se=F.read_shift(4),le=F.read_shift(4),ce=F.read_shift(4),_e=F.read_shift(2),Ae=F.read_shift(2),Fe="",Te=0;Te<_e;++Te)Fe+=String.fromCharCode(F[F.l++]);if(Ae){var Pe=o(F.slice(F.l,F.l+Ae));(Pe[21589]||{}).mt&&(he=Pe[21589].mt),((H||{})[21589]||{}).mt&&(he=H[21589].mt)}F.l+=Ae;var qe=F.slice(F.l,F.l+le);switch(ae){case 8:qe=q(F,ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ae)}var kt=!1;W&8&&(se=F.read_shift(4),se==134695760&&(se=F.read_shift(4),kt=!0),le=F.read_shift(4),ce=F.read_shift(4)),le!=G&&zo(kt,"Bad compressed size: "+G+" != "+le),ce!=V&&zo(kt,"Bad uncompressed size: "+V+" != "+ce),Dr(j,Fe,qe,{unsafe:!0,mt:he})}function qo(F,G){var V=G||{},j=[],H=[],W=br(1),ae=V.compression?8:0,he=0,se=0,le=0,ce=0,_e=0,Ae=F.FullPaths[0],Fe=Ae,Te=F.FileIndex[0],Pe=[],qe=0;for(se=1;se<F.FullPaths.length;++se)if(Fe=F.FullPaths[se].slice(Ae.length),Te=F.FileIndex[se],!(!Te.size||!Te.content||Fe=="Sh33tJ5")){var kt=ce,Tt=br(Fe.length);for(le=0;le<Fe.length;++le)Tt.write_shift(1,Fe.charCodeAt(le)&127);Tt=Tt.slice(0,Tt.l),Pe[_e]=Lwe.buf(Te.content,0);var zt=Te.content;ae==8&&(zt=Y(zt)),W=br(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,he),W.write_shift(2,ae),Te.mt?a(W,Te.mt):W.write_shift(4,0),W.write_shift(-4,Pe[_e]),W.write_shift(4,zt.length),W.write_shift(4,Te.content.length),W.write_shift(2,Tt.length),W.write_shift(2,0),ce+=W.length,j.push(W),ce+=Tt.length,j.push(Tt),ce+=zt.length,j.push(zt),W=br(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,he),W.write_shift(2,ae),W.write_shift(4,0),W.write_shift(-4,Pe[_e]),W.write_shift(4,zt.length),W.write_shift(4,Te.content.length),W.write_shift(2,Tt.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,kt),qe+=W.l,H.push(W),qe+=Tt.length,H.push(Tt),++_e}return W=br(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,_e),W.write_shift(2,_e),W.write_shift(4,qe),W.write_shift(4,ce),W.write_shift(2,0),to([to(j),to(H),W])}var ma={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gi(F,G){if(F.ctype)return F.ctype;var V=F.name||"",j=V.match(/\.([^\.]+)$/);return j&&ma[j[1]]||G&&(j=(V=G).match(/[\.\\]([^\.\\])+$/),j&&ma[j[1]])?ma[j[1]]:"application/octet-stream"}function lc(F){for(var G=JR(F),V=[],j=0;j<G.length;j+=76)V.push(G.slice(j,j+76));return V.join(`\r
`)+`\r
`}function ja(F){var G=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(le){var ce=le.charCodeAt(0).toString(16).toUpperCase();return"="+(ce.length==1?"0"+ce:ce)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],j=G.split(`\r
`),H=0;H<j.length;++H){var W=j[H];if(W.length==0){V.push("");continue}for(var ae=0;ae<W.length;){var he=76,se=W.slice(ae,ae+he);se.charAt(he-1)=="="?he--:se.charAt(he-2)=="="?he-=2:se.charAt(he-3)=="="&&(he-=3),se=W.slice(ae,ae+he),ae+=he,ae<W.length&&(se+="="),V.push(se)}}return V.join(`\r
`)}function cc(F){for(var G=[],V=0;V<F.length;++V){for(var j=F[V];V<=F.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+F[++V];G.push(j)}for(var H=0;H<G.length;++H)G[H]=G[H].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return ea(G.join(`\r
`))}function ve(F,G,V){for(var j="",H="",W="",ae,he=0;he<10;++he){var se=G[he];if(!se||se.match(/^\s*$/))break;var le=se.match(/^(.*?):\s*([^\s].*)$/);if(le)switch(le[1].toLowerCase()){case"content-location":j=le[2].trim();break;case"content-type":W=le[2].trim();break;case"content-transfer-encoding":H=le[2].trim();break}}switch(++he,H.toLowerCase()){case"base64":ae=ea(pi(G.slice(he).join("")));break;case"quoted-printable":ae=cc(G.slice(he));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var ce=Dr(F,j.slice(V.length),ae,{unsafe:!0});W&&(ce.ctype=W)}function ke(F,G){if(z(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=G&&G.root||"",j=(ct&&Buffer.isBuffer(F)?F.toString("binary"):z(F)).split(`\r
`),H=0,W="";for(H=0;H<j.length;++H)if(W=j[H],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),V||(V=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),W.slice(0,V.length)!=V););var ae=(j[1]||"").match(/boundary="(.*?)"/);if(!ae)throw new Error("MAD cannot find boundary");var he="--"+(ae[1]||""),se=[],le=[],ce={FileIndex:se,FullPaths:le};S(ce);var _e,Ae=0;for(H=0;H<j.length;++H){var Fe=j[H];Fe!==he&&Fe!==he+"--"||(Ae++&&ve(ce,j.slice(_e,H),V),_e=H)}return ce}function $e(F,G){var V=G||{},j=V.boundary||"SheetJS";j="------="+j;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],W=F.FullPaths[0],ae=W,he=F.FileIndex[0],se=1;se<F.FullPaths.length;++se)if(ae=F.FullPaths[se].slice(W.length),he=F.FileIndex[se],!(!he.size||!he.content||ae=="Sh33tJ5")){ae=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qe){return"_x"+qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qe){return"_u"+qe.charCodeAt(0).toString(16)+"_"});for(var le=he.content,ce=ct&&Buffer.isBuffer(le)?le.toString("binary"):z(le),_e=0,Ae=Math.min(1024,ce.length),Fe=0,Te=0;Te<=Ae;++Te)(Fe=ce.charCodeAt(Te))>=32&&Fe<128&&++_e;var Pe=_e>=Ae*4/5;H.push(j),H.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ae),H.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),H.push("Content-Type: "+Gi(he,ae)),H.push(""),H.push(Pe?ja(ce):lc(ce))}return H.push(j+`--\r
`),H.join(`\r
`)}function Ga(F){var G={};return S(G,F),G}function Dr(F,G,V,j){var H=j&&j.unsafe;H||S(F);var W=!H&&dt.find(F,G);if(!W){var ae=F.FullPaths[0];G.slice(0,ae.length)==ae?ae=G:(ae.slice(-1)!="/"&&(ae+="/"),ae=(ae+G).replace("//","/")),W={name:i(G),type:2},F.FileIndex.push(W),F.FullPaths.push(ae),H||dt.utils.cfb_gc(F)}return W.content=V,W.size=V?V.length:0,j&&(j.CLSID&&(W.clsid=j.CLSID),j.mt&&(W.mt=j.mt),j.ct&&(W.ct=j.ct)),W}function ga(F,G){S(F);var V=dt.find(F,G);if(V){for(var j=0;j<F.FileIndex.length;++j)if(F.FileIndex[j]==V)return F.FileIndex.splice(j,1),F.FullPaths.splice(j,1),!0}return!1}function gx(F,G,V){S(F);var j=dt.find(F,G);if(j){for(var H=0;H<F.FileIndex.length;++H)if(F.FileIndex[H]==j)return F.FileIndex[H].name=i(V),F.FullPaths[H]=V,!0}return!1}function vx(F){b(F,!0)}return e.find=O,e.read=C,e.parse=u,e.write=ie,e.writeFile=ee,e.utils={cfb_new:Ga,cfb_add:Dr,cfb_del:ga,cfb_mov:gx,cfb_gc:vx,ReadShift:Ld,CheckField:A$,prep_blob:Jr,bconcat:to,use_zlib:U,_deflateRaw:et,_inflateRaw:Us,consts:Z},e}();function Uwe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Fa(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function CA(t){for(var e=[],r=Fa(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var gv=new Date(1899,11,30,0,0,0);function $n(t,e){var r=t.getTime(),n=gv.getTime()+(t.getTimezoneOffset()-gv.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var a$=new Date,$we=gv.getTime()+(a$.getTimezoneOffset()-gv.getTimezoneOffset())*6e4,sO=a$.getTimezoneOffset();function sx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+$we),e.getTimezoneOffset()!==sO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-sO)*6e4),e}function Bwe(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[a],10)}return e}var oO=new Date("2017-02-19T19:06:09.000Z"),s$=isNaN(oO.getFullYear())?new Date("2/19/17"):oO,Vwe=s$.getFullYear()==2017;function jr(t,e){var r=new Date(t);if(Vwe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(s$.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Gl(t,e){if(ct&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return vd(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return vd(WU(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return vd(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return vd(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function rn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=rn(t[r]));return e}function lr(t,e){for(var r="";r.length<e;)r+=t;return r}function la(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var jwe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yu(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&jwe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var Gwe=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function o$(t){return t?t.content&&t.type?Gl(t.content,!0):t.data?pd(t.data):t.asNodeBuffer&&ct?pd(t.asNodeBuffer().toString("binary")):t.asBinary?pd(t.asBinary()):t._data&&t._data.getContent?pd(Gl(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function l$(t){if(!t)return null;if(t.data)return XR(t.data);if(t.asNodeBuffer&&ct)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?XR(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Hwe(t){return t&&t.name.slice(-4)===".bin"?l$(t):o$(t)}function Si(t,e){for(var r=t.FullPaths||Fa(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function IA(t,e){var r=Si(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function yr(t,e,r){if(!r)return Hwe(IA(t,e));if(!e)return null;try{return yr(t,e)}catch{return null}}function oi(t,e,r){if(!r)return o$(IA(t,e));if(!e)return null;try{return oi(t,e)}catch{return null}}function zwe(t,e,r){return l$(IA(t,e))}function lO(t){for(var e=t.FullPaths||Fa(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Wwe(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ct?n=tc(r):n=fwe(r),dt.utils.cfb_add(t,e,n)}dt.utils.cfb_add(t,e,r)}else t.file(e,r)}function c$(t,e){switch(e.type){case"base64":return dt.read(t,{type:"base64"});case"binary":return dt.read(t,{type:"binary"});case"buffer":case"array":return dt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function gd(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var u$=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qwe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,cO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Kwe=/<[^>]*>/g,Cn=u$.match(cO)?cO:Kwe,Xwe=/<\w*:/,Ywe=/<(\/?)\w+:/;function We(t,e,r){for(var n={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var s=t.match(qwe),o=0,l="",c=0,u="",f="",d=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[h]&&u.slice(o-3,o)=="ext")continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function $a(t){return t.replace(Ywe,"<$1")}var f$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Jwe=CA(f$),mt=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(o,l){return f$[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}}(),Qwe=/[&<>'"]/g,Zwe=/[\u0000-\u001f]/g;function kA(t){var e=t+"";return e.replace(Qwe,function(r){return Jwe[r]}).replace(/\n/g,"<br/>").replace(Zwe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var uO=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function Wt(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function B1(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function fO(t){var e=Ro(2*t.length),r,n,i=1,a=0,s=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function dO(t){return tc(t,"binary").toString("utf8")}var Vp="foo bar baz",Ft=ct&&(dO(Vp)==B1(Vp)&&dO||fO(Vp)==B1(Vp)&&fO)||B1,vd=ct?function(t){return tc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},n0=function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),d$=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),eEe=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),tEe=/<\/?(?:vt:)?variant>/g,rEe=/<(?:vt:)([^>]*)>([\s\S]*)</;function hO(t,e){var r=We(t),n=t.match(eEe(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(tEe,"").match(rEe);s&&i.push({v:Ft(s[2]),t:s[1]})}),i}var nEe=/(^\s|\s$|\n)/;function iEe(t){return Fa(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function aEe(t,e,r){return"<"+t+(r!=null?iEe(r):"")+(e!=null?(e.match(nEe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function PA(t){if(ct&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Ft(rc(SA(t)));throw new Error("Bad input format: expected Buffer or string")}var i0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,sEe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},oEe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function lEe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function cEe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[r+o]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var pO=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},mO=ct?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:tc(e)})):pO(t)}:pO,gO=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(as(t,i)));return n.join("").replace(Un,"")},NA=ct?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Un,""):gO(t,e,r)}:gO,vO=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},h$=ct?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):vO(t,e,r)}:vO,yO=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Tc(t,i)));return n.join("")},B0=ct?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):yO(e,r,n)}:yO,p$=function(t,e){var r=ai(t,e);return r>0?B0(t,e+4,e+4+r-1):""},m$=p$,g$=function(t,e){var r=ai(t,e);return r>0?B0(t,e+4,e+4+r-1):""},v$=g$,y$=function(t,e){var r=2*ai(t,e);return r>0?B0(t,e+4,e+4+r-1):""},x$=y$,_$=function(e,r){var n=ai(e,r);return n>0?NA(e,r+4,r+4+n):""},w$=_$,E$=function(t,e){var r=ai(t,e);return r>0?B0(t,e+4,e+4+r):""},T$=E$,S$=function(t,e){return lEe(t,e)},vv=S$,b$=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ct&&(m$=function(e,r){if(!Buffer.isBuffer(e))return p$(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},v$=function(e,r){if(!Buffer.isBuffer(e))return g$(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},x$=function(e,r){if(!Buffer.isBuffer(e))return y$(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},w$=function(e,r){if(!Buffer.isBuffer(e))return _$(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},T$=function(e,r){if(!Buffer.isBuffer(e))return E$(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},vv=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):S$(e,r)},b$=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Tc=function(t,e){return t[e]},as=function(t,e){return t[e+1]*256+t[e]},uEe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},ai=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},al=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},fEe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ld(t,e){var r="",n,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,ct&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(as(this,c)),c+=2;t*=2;break;case"utf8":r=B0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=NA(this,this.l,this.l+t);break;case"wstr":return Ld.call(this,t,"dbcs");case"lpstr-ansi":r=m$(this,this.l),t=4+ai(this,this.l);break;case"lpstr-cp":r=v$(this,this.l),t=4+ai(this,this.l);break;case"lpwstr":r=x$(this,this.l),t=4+2*ai(this,this.l);break;case"lpp4":t=4+ai(this,this.l),r=w$(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ai(this,this.l),r=T$(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Tc(this,this.l+t++))!==0;)a.push(Bp(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=as(this,this.l+t))!==0;)a.push(Bp(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Tc(this,c),this.l=c+1,o=Ld.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Bp(as(this,c))),c+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Tc(this,c),this.l=c+1,o=Ld.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Bp(Tc(this,c))),c+=1}r=a.join("");break;default:switch(t){case 1:return n=Tc(this,this.l),this.l++,n;case 2:return n=(e==="i"?uEe:as)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?al:fEe)(this,this.l),this.l+=4,n):(i=ai(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=vv(this,this.l):i=vv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=h$(this,this.l,t);break}}return this.l+=t,r}var dEe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},hEe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},pEe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function mEe(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)pEe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,dEe(this,e,this.l);break;case 8:if(n=8,r==="f"){cEe(this,e,this.l);break}case 16:break;case-4:n=4,hEe(this,e,this.l);break}return this.l+=n,this}function A$(t,e){var r=h$(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Jr(t,e){t.l=e,t.read_shift=Ld,t.chk=A$,t.write_shift=mEe}function An(t,e){t.l+=e}function br(t){var e=Ro(t);return Jr(e,0),e}function Ms(t,e,r){if(t){var n,i,a;Jr(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Tv[o]||Tv[65535];for(n=t.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=t.read_shift(1))&127)<<7*i;l=t.l+a;var u=c.f&&c.f(t,a,r);if(t.l=l,e(u,c,o))return}}}function BE(){var t=[],e=ct?256:2048,r=function(c){var u=br(c);return Jr(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},s=function(){return i(),to(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function Ud(t,e,r){var n=rn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function xO(t,e,r){var n=rn(t);return n.s=Ud(n.s,e.s,r),n.e=Ud(n.e,e.s,r),n}function $d(t,e){if(t.cRel&&t.c<0)for(t=rn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=rn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Qe(t);return!t.cRel&&t.cRel!=null&&(r=yEe(r)),!t.rRel&&t.rRel!=null&&(r=gEe(r)),r}function V1(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+kr(t.s.c)+":"+(t.e.cRel?"":"$")+kr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+nn(t.s.r)+":"+(t.e.rRel?"":"$")+nn(t.e.r):$d(t.s,e.biff)+":"+$d(t.e,e.biff)}function RA(t){return parseInt(vEe(t),10)-1}function nn(t){return""+(t+1)}function gEe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vEe(t){return t.replace(/\$(\d+)$/,"$1")}function OA(t){for(var e=xEe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function kr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function yEe(t){return t.replace(/^([A-Z])/,"$$$1")}function xEe(t){return t.replace(/^\$([A-Z])/,"$1")}function _Ee(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mn(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Qe(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Sf(t){var e=t.indexOf(":");return e==-1?{s:Mn(t),e:Mn(t)}:{s:Mn(t.slice(0,e)),e:Mn(t.slice(e+1))}}function ht(t,e){return typeof e>"u"||typeof e=="number"?ht(t.s,t.e):(typeof t!="string"&&(t=Qe(t)),typeof e!="string"&&(e=Qe(e)),t==e?t:t+":"+e)}function cr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function _O(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ui(t.z,r?$n(e):e)}catch{}try{return t.w=Ui((t.XF||{}).numFmtId||(r?14:0),r?$n(e):e)}catch{return""+e}}function Cs(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?ac[t.v]||t.v:e==null?_O(t,t.v):_O(t,e))}function Go(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function C$(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Mn(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=cr(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},y=s+f,v=o+d;if(c.s.r>y&&(c.s.r=y),c.s.c>v&&(c.s.c=v),c.e.r<y&&(c.e.r=y),c.e.c<v&&(c.e.c=v),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||rt[14],n.cellDates?(h.t="d",h.w=Ui(h.z,$n(h.v))):(h.t="n",h.v=$n(h.v),h.w=Ui(h.z,h.v))):h.t="s";if(i)a[y]||(a[y]=[]),a[y][v]&&a[y][v].z&&(h.z=a[y][v].z),a[y][v]=h;else{var _=Qe({c:v,r:y});a[_]&&a[_].z&&(h.z=a[_].z),a[_]=h}}}return c.s.c<1e7&&(a["!ref"]=ht(c)),a}function bf(t,e){return C$(null,t,e)}function wEe(t){return t.read_shift(4,"i")}function Tn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function EEe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function MA(t,e){var r=t.l,n=t.read_shift(1),i=Tn(t),a=[],s={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(EEe(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}var TEe=MA;function ji(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function nc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var SEe=Tn;function DA(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var bEe=Tn,VE=DA;function FA(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?vv([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):al(e,0)>>2;return r?i/100:i}function I$(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var ic=I$;function _n(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function AEe(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=bl[i];c&&(e.rgb=s0(c));break;case 2:e.rgb=s0([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function CEe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function k$(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function IEe(t){return k$(t,1)}function kEe(t){return k$(t,2)}var LA=2,zn=3,jp=11,wO=12,yv=19,Gp=64,PEe=65,NEe=71,REe=4108,OEe=4126,$r=80,P$=81,MEe=[$r,P$],DEe={1:{n:"CodePage",t:LA},2:{n:"Category",t:$r},3:{n:"PresentationFormat",t:$r},4:{n:"ByteCount",t:zn},5:{n:"LineCount",t:zn},6:{n:"ParagraphCount",t:zn},7:{n:"SlideCount",t:zn},8:{n:"NoteCount",t:zn},9:{n:"HiddenCount",t:zn},10:{n:"MultimediaClipCount",t:zn},11:{n:"ScaleCrop",t:jp},12:{n:"HeadingPairs",t:REe},13:{n:"TitlesOfParts",t:OEe},14:{n:"Manager",t:$r},15:{n:"Company",t:$r},16:{n:"LinksUpToDate",t:jp},17:{n:"CharacterCount",t:zn},19:{n:"SharedDoc",t:jp},22:{n:"HyperlinksChanged",t:jp},23:{n:"AppVersion",t:zn,p:"version"},24:{n:"DigSig",t:PEe},26:{n:"ContentType",t:$r},27:{n:"ContentStatus",t:$r},28:{n:"Language",t:$r},29:{n:"Version",t:$r},255:{},2147483648:{n:"Locale",t:yv},2147483651:{n:"Behavior",t:yv},1919054434:{}},FEe={1:{n:"CodePage",t:LA},2:{n:"Title",t:$r},3:{n:"Subject",t:$r},4:{n:"Author",t:$r},5:{n:"Keywords",t:$r},6:{n:"Comments",t:$r},7:{n:"Template",t:$r},8:{n:"LastAuthor",t:$r},9:{n:"RevNumber",t:$r},10:{n:"EditTime",t:Gp},11:{n:"LastPrinted",t:Gp},12:{n:"CreatedDate",t:Gp},13:{n:"ModifiedDate",t:Gp},14:{n:"PageCount",t:zn},15:{n:"WordCount",t:zn},16:{n:"CharCount",t:zn},17:{n:"Thumbnail",t:NEe},18:{n:"Application",t:$r},19:{n:"DocSecurity",t:zn},255:{},2147483648:{n:"Locale",t:yv},2147483651:{n:"Behavior",t:yv},1919054434:{}},EO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},LEe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function UEe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var $Ee=UEe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bl=rn($Ee),ac={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},N$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},TO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function BEe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VEe(t){var e=BEe();if(!t||!t.match)return e;var r={};if((t.match(Cn)||[]).forEach(function(n){var i=We(n);switch(i[0].replace(Xwe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[TO[i.ContentType]]!==void 0&&e[TO[i.ContentType]].push(i.PartName);break}}),e.xmlns!==sEe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var Vc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function jE(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Bd(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Cn)||[]).forEach(function(i){var a=We(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:gd(a.Target,e);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}var jEe="application/vnd.oasis.opendocument.spreadsheet";function GEe(t,e){for(var r=PA(t),n,i;n=i0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=We(n[0],!1),i.path=="/"&&i.type!==jEe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Vd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],HEe=function(){for(var t=new Array(Vd.length),e=0;e<Vd.length;++e){var r=Vd[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function R$(t){var e={};t=Ft(t);for(var r=0;r<Vd.length;++r){var n=Vd[r],i=t.match(HEe[r]);i!=null&&i.length>0&&(e[n[1]]=mt(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=jr(e[n[1]]))}return e}var zEe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function O$(t,e,r,n){var i=[];if(typeof t=="string")i=hO(t,n);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(u){return{v:u}}));var s=typeof e=="string"?hO(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function WEe(t,e,r){var n={};return e||(e={}),t=Ft(t),zEe.forEach(function(i){var a=(t.match(n0(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=mt(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&O$(n.HeadingPairs,n.TitlesOfParts,e,r),e}var qEe=/<[^>]+>[^<]*/g;function KEe(t,e){var r={},n="",i=t.match(qEe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=We(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=mt(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=mt(u);break;case"bool":r[n]=Wt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=jr(u);break;case"cy":case"error":r[n]=mt(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}var XEe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},j1;function YEe(t,e,r){j1||(j1=CA(XEe)),e=j1[e]||e,t[e]=r}function UA(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function M$(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function D$(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function F$(t,e,r){return e===31?D$(t):M$(t,e,r)}function GE(t,e,r){return F$(t,e,r===!1?0:4)}function JEe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return F$(t,e,0)}function QEe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Un,""),t.l-i&2&&(t.l+=2)}return r}function ZEe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Un,"");return r}function eTe(t){var e=t.l,r=xv(t,P$);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=xv(t,zn);return[r,n]}function tTe(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(eTe(t));return r}function SO(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var a=t.read_shift(4),s=t.read_shift(4);n[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(Un,"").replace(md,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function L$(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function rTe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function xv(t,e,r){var n=t.read_shift(2),i,a=r||{};if(t.l+=2,e!==wO&&n!==e&&MEe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===wO?n:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return M$(t,n,4).replace(Un,"");case 31:return D$(t);case 64:return UA(t);case 65:return L$(t);case 71:return rTe(t);case 80:return GE(t,n,!a.raw).replace(Un,"");case 81:return JEe(t,n).replace(Un,"");case 4108:return tTe(t);case 4126:case 4127:return n==4127?QEe(t):ZEe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function bO(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=t.read_shift(4),f=t.read_shift(4);a[s]=[u,f+r]}a.sort(function(T,E){return T[1]-E[1]});var d={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var h=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,h=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(h=!1,t.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var y=e[a[s][0]];if(d[y.n]=xv(t,y.t,{raw:!0}),y.p==="version"&&(d[y.n]=String(d[y.n]>>16)+"."+("0000"+String(d[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(d[y.n]){case 0:d[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ra(o=d[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[y.n])}}else if(a[s][0]===1){if(o=d.CodePage=xv(t,LA),ra(o),l!==-1){var v=t.l;t.l=a[l][1],c=SO(t,o),t.l=v}}else if(a[s][0]===0){if(o===0){l=s,t.l=a[s+1][1];continue}c=SO(t,o)}else{var _=c[a[s][0]],w;switch(t[t.l]){case 65:t.l+=4,w=L$(t);break;case 30:t.l+=4,w=GE(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,w=GE(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,w=t.read_shift(4,"i");break;case 19:t.l+=4,w=t.read_shift(4);break;case 5:t.l+=4,w=t.read_shift(8,"f");break;case 11:t.l+=4,w=fr(t,4);break;case 64:t.l+=4,w=jr(UA(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[_]=w}}return t.l=r+n,d}function AO(t,e,r){var n=t.content;if(!n)return{};Jr(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==dt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=bO(n,e),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var y;try{y=bO(n,null)}catch{}for(h in y)d[h]=y[h];return d.FMTID=[a,s],d}function Hs(t,e){return t.read_shift(e),null}function nTe(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function fr(t,e){return t.read_shift(e)===1}function xr(t){return t.read_shift(2,"u")}function U$(t,e){return nTe(t,e,xr)}function iTe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function V0(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function aTe(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,l={};i&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*s),n&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Hl(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function j0(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Hl(t,n,r)}function sc(t,e,r){if(r.biff>5)return j0(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function sTe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function oTe(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Un,"");return n&&(t.l+=24),i}function lTe(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(Un,"");return r+s}function cTe(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return oTe(t);case"0303000000000000c000000000000046":return lTe(t);default:throw new Error("Unsupported Moniker "+r)}}function Hp(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Un,""):"";return r}function uTe(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var a,s,o,l,c="",u,f;i&16&&(a=Hp(t,r-t.l)),i&128&&(s=Hp(t,r-t.l)),(i&257)===257&&(o=Hp(t,r-t.l)),(i&257)===1&&(l=cTe(t,r-t.l)),i&8&&(c=Hp(t,r-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=UA(t)),t.l=r;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),a&&(h.Tooltip=a),h}function $$(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function B$(t,e){var r=$$(t);return r[3]=0,r}function Ba(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function fTe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function dTe(t,e,r){return e===0?"":sc(t,e,r)}function hTe(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function V$(t){var e=t.read_shift(2),r=FA(t);return[e,r]}function pTe(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=V0(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,i}function ox(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function j$(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var mTe=j$;function G$(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function gTe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function vTe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function dn(t){t.l+=2,t.l+=t.read_shift(2)}var yTe={0:dn,4:dn,5:dn,6:dn,7:vTe,8:dn,9:dn,10:dn,11:dn,12:dn,13:gTe,14:dn,15:dn,16:dn,17:dn,18:dn,19:dn,20:dn,21:G$};function xTe(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(yTe[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function zp(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function _Te(t,e){return e===0||t.read_shift(2),1200}function wTe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=sc(t,0,r);return t.read_shift(e+n-t.l),i}function ETe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function TTe(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=V0(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function STe(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<r;++s)a.push(aTe(t));return a.Count=n,a.Unique=i,a}function bTe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function ATe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function CTe(t){var e=fTe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function ITe(t){return t.read_shift(2),t.read_shift(4)}function CO(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function kTe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function PTe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function NTe(){}function RTe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=V0(t,0,r),n}function OTe(t){var e=Ba(t);return e.isst=t.read_shift(4),e}function MTe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Ba(t);r.biff==2&&t.l++;var a=j0(t,n-t.l,r);return i.val=a,i}function DTe(t,e,r){var n=t.read_shift(2),i=sc(t,0,r);return[n,i]}var FTe=sc;function IO(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function LTe(t){var e=t.read_shift(2),r=t.read_shift(2),n=V$(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function UTe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(V$(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function $Te(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function BTe(t,e,r,n){var i={},a=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=LEe[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function VTe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=BTe(t,e,n.fStyle,r),n}function jTe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function kO(t,e,r){var n=Ba(t);(r.biff==2||e==9)&&++t.l;var i=iTe(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function GTe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ba(t),i=_n(t);return n.val=i,n}var PO=dTe;function HTe(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Hl(t,a),o=[];n>t.l;)o.push(j0(t));return[a,i,s,o]}function NO(t,e,r){var n=t.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=pTe(t,e-2,r)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var zTe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function RO(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=Hl(t,s,r);i&32&&(c=zTe[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var f=n==t.l||o===0||!(u>0)?[]:A2e(t,u,r,o);return{chKey:a,Name:c,itab:l,rgce:f}}function H$(t,e,r){if(r.biff<8)return WTe(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(hTe(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function WTe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=V0(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function qTe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),a=Hl(t,n,r),s=Hl(t,i,r);return[a,s]}function KTe(t,e,r){var n=j$(t);t.l++;var i=t.read_shift(1);return e-=8,[C2e(t,e,r),i,n]}function OO(t,e,r){var n=mTe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,S2e(t,e,r)]}function XTe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function YTe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=sc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,s,a]}}function JTe(t,e,r){return YTe(t,e,r)}function QTe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(ox(t));return r}function ZTe(t,e,r){if(r&&r.biff<8)return tSe(t,e,r);var n=G$(t),i=xTe(t,e-22,n[1]);return{cmo:n,ft:i}}var eSe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function tSe(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((eSe[n]||An)(t,e,r)),{cmo:[i,n,a],ft:s}}function rSe(t,e,r){var n=t.l,i="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=sTe(t,6,r);var o=t.read_shift(2);t.read_shift(2),xr(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Hl(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function nSe(t,e){var r=ox(t);t.l+=16;var n=uTe(t,e-24);return[r,n]}function iSe(t,e){t.read_shift(2);var r=ox(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Un,""),[r,n]}function aSe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=EO[r]||r,r=t.read_shift(2),e[1]=EO[r]||r,e}function sSe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(B$(t));return r}function oSe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(B$(t));return r}function lSe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function z$(t,e,r){if(!r.cellStyles)return An(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function cSe(t,e){var r={};return e<32||(t.l+=16,r.header=_n(t),r.footer=_n(t),t.l+=2),r}function uSe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}var fSe=Ba,dSe=U$,hSe=j0;function pSe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function mSe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ba(t);++t.l;var i=sc(t,e-7,r);return n.t="str",n.val=i,n}function gSe(t){var e=Ba(t);++t.l;var r=_n(t);return e.t="n",e.val=r,e}function vSe(t){var e=Ba(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function ySe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function xSe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function _Se(t,e,r){var n=t.l+e,i=Ba(t),a=t.read_shift(2),s=Hl(t,a,r);return t.l=n,i.t="str",i.val=s,i}var wSe=[2,3,48,49,131,139,140,245],MO=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=CA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Ro(1);switch(l.type){case"base64":u=ea(pi(o));break;case"binary":u=ea(o);break;case"buffer":case"array":u=o;break}Jr(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,_=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(_=u.read_shift(2));var w=u.read_shift(2),T=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(T=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var E=[],k={},A=Math.min(u.length,f==2?521:_-10-(h?264:0)),C=y?32:11;u.l<A&&u[u.l]!=13;)switch(k={},k.name=t0.utils.decode(T,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,k.type=String.fromCharCode(u.read_shift(1)),f!=2&&!y&&(k.offset=u.read_shift(4)),k.len=u.read_shift(1),f==2&&(k.offset=u.read_shift(2)),k.dec=u.read_shift(1),k.name.length&&E.push(k),f!=2&&(u.l+=y?13:14),k.type){case"B":(!h||k.len!=8)&&l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(u[u.l]!==13&&(u.l=_-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=_;var S=0,I=0;for(c[0]=[],I=0;I!=E.length;++I)c[0][I]=E[I].name;for(;v-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,c[++S]=[],I=0,I=0;I!=E.length;++I){var b=u.slice(u.l,u.l+E[I].len);u.l+=E[I].len,Jr(b,0);var N=t0.utils.decode(T,b);switch(E[I].type){case"C":N.trim().length&&(c[S][I]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[S][I]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[S][I]=N;break;case"F":c[S][I]=parseFloat(N.trim());break;case"+":case"I":c[S][I]=y?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[S][I]=!0;break;case"N":case"F":c[S][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[S][I]="##MEMO##"+(y?parseInt(N.trim(),10):b.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[S][I]=+N||0);break;case"@":c[S][I]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":c[S][I]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":c[S][I]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][I]=-b.read_shift(-8,"f");break;case"B":if(h&&E[I].len==8){c[S][I]=b.read_shift(8,"f");break}case"G":case"P":b.l+=E[I].len;break;case"0":if(E[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[I].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=bf(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return Go(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&ra(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=BE(),f=YE(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),y=o["!cols"]||[],v=0,_=0,w=0,T=1;for(v=0;v<d.length;++v){if(((y[v]||{}).DBF||{}).name){d[v]=y[v].DBF.name,++w;continue}if(d[v]!=null){if(++w,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(_=0;_<1024;++_)if(d.indexOf(d[v]+"_"+_)==-1){d[v]+="_"+_;break}}}}var E=cr(o["!ref"]),k=[],A=[],C=[];for(v=0;v<=E.e.c-E.s.c;++v){var S="",I="",b=0,N=[];for(_=0;_<h.length;++_)h[_][v]!=null&&N.push(h[_][v]);if(N.length==0||d[v]==null){k[v]="?";continue}for(_=0;_<N.length;++_){switch(typeof N[_]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=N[_]instanceof Date?"D":"C";break;default:I="C"}b=Math.max(b,String(N[_]).length),S=S&&S!=I?"C":I}b>250&&(b=250),I=((y[v]||{}).DBF||{}).type,I=="C"&&y[v].DBF.len>b&&(b=y[v].DBF.len),S=="B"&&I=="N"&&(S="N",C[v]=y[v].DBF.dec,b=y[v].DBF.len),A[v]=S=="C"||I=="N"?b:a[S]||0,T+=A[v],k[v]=S}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,h.length),O.write_shift(2,296+32*w),O.write_shift(2,T),v=0;v<4;++v)O.write_shift(4,0);for(O.write_shift(4,0|(+e[HU]||3)<<8),v=0,_=0;v<d.length;++v)if(d[v]!=null){var R=u.next(32),D=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,D,"sbcs"),R.write_shift(1,k[v]=="?"?"C":k[v],"sbcs"),R.write_shift(4,_),R.write_shift(1,A[v]||a[k[v]]||0),R.write_shift(1,C[v]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),_+=A[v]||a[k[v]]||0}var J=u.next(264);for(J.write_shift(4,13),v=0;v<65;++v)J.write_shift(4,0);for(v=0;v<h.length;++v){var X=u.next(T);for(X.write_shift(1,0),_=0;_<d.length;++_)if(d[_]!=null)switch(k[_]){case"L":X.write_shift(1,h[v][_]==null?63:h[v][_]?84:70);break;case"B":X.write_shift(8,h[v][_]||0,"f");break;case"N":var te="0";for(typeof h[v][_]=="number"&&(te=h[v][_].toFixed(C[_]||0)),w=0;w<A[_]-te.length;++w)X.write_shift(1,32);X.write_shift(1,te,"sbcs");break;case"D":h[v][_]?(X.write_shift(4,("0000"+h[v][_].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(h[v][_].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+h[v][_].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(h[v][_]!=null?h[v][_]:"").slice(0,A[_]);for(X.write_shift(1,Z,"sbcs"),w=0;w<A[_]-Z.length;++w)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),ESe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Fa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var y=t[h];return typeof y=="number"?YR(y):y},n=function(d,h,y){var v=h.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?d:YR(v)};t["|"]=254;function i(d,h){switch(h.type){case"base64":return a(pi(d),h);case"binary":return a(d,h);case"buffer":return a(ct&&Buffer.isBuffer(d)?d.toString("binary"):rc(d),h);case"array":return a(Gl(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var y=d.split(/[\n\r]+/),v=-1,_=-1,w=0,T=0,E=[],k=[],A=null,C={},S=[],I=[],b=[],N=0,O;for(+h.codepage>=0&&ra(+h.codepage);w!==y.length;++w){N=0;var R=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),D=R.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),J=D[0],X;if(R.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&k.push(R.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,Z=!1,ee=!1,z=!1,ie=-1,me=-1;for(T=1;T<D.length;++T)switch(D[T].charAt(0)){case"A":break;case"X":_=parseInt(D[T].slice(1))-1,Z=!0;break;case"Y":for(v=parseInt(D[T].slice(1))-1,Z||(_=0),O=E.length;O<=v;++O)E[O]=[];break;case"K":X=D[T].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(la(X))?isNaN(Yu(X).getDate())||(X=jr(X)):(X=la(X),A!==null&&Tf(A)&&(X=sx(X))),te=!0;break;case"E":z=!0;var U=su(D[T].slice(1),{r:v,c:_});E[v][_]=[E[v][_],U];break;case"S":ee=!0,E[v][_]=[E[v][_],"S5S"];break;case"G":break;case"R":ie=parseInt(D[T].slice(1))-1;break;case"C":me=parseInt(D[T].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}if(te&&(E[v][_]&&E[v][_].length==2?E[v][_][0]=X:E[v][_]=X,A=null),ee){if(z)throw new Error("SYLK shared formula cannot have own formula");var q=ie>-1&&E[ie][me];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");E[v][_][1]=tB(q[1],{r:v-ie,c:_-me})}break;case"F":var Y=0;for(T=1;T<D.length;++T)switch(D[T].charAt(0)){case"X":_=parseInt(D[T].slice(1))-1,++Y;break;case"Y":for(v=parseInt(D[T].slice(1))-1,O=E.length;O<=v;++O)E[O]=[];break;case"M":N=parseInt(D[T].slice(1))/20;break;case"F":break;case"G":break;case"P":A=k[parseInt(D[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=D[T].slice(1).split(" "),O=parseInt(b[0],10);O<=parseInt(b[1],10);++O)N=parseInt(b[2],10),I[O-1]=N===0?{hidden:!0}:{wch:N},Ju(I[O-1]);break;case"C":_=parseInt(D[T].slice(1))-1,I[_]||(I[_]={});break;case"R":v=parseInt(D[T].slice(1))-1,S[v]||(S[v]={}),N>0?(S[v].hpt=N,S[v].hpx=o0(N)):N===0&&(S[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}Y<1&&(A=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}}return S.length>0&&(C["!rows"]=S),I.length>0&&(C["!cols"]=I),h&&h.sheetRows&&(E=E.slice(0,h.sheetRows)),[E,C]}function s(d,h){var y=i(d,h),v=y[0],_=y[1],w=bf(v,h);return Fa(_).forEach(function(T){w[T]=_[T]}),w}function o(d,h){return Go(s(d,h),h)}function l(d,h,y,v){var _="C;Y"+(y+1)+";X"+(v+1)+";K";switch(d.t){case"n":_+=d.v||0,d.f&&!d.F&&(_+=";E"+lAe(d.f,{r:y,c:v}));break;case"b":_+=d.v?"TRUE":"FALSE";break;case"e":_+=d.w||d.v;break;case"d":_+='"'+(d.w||d.v)+'"';break;case"s":_+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(d,h){h.forEach(function(y,v){var _="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=wv(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Ev(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&d.push(_)})}function u(d,h){h.forEach(function(y,v){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*Q$(y.hpx)+";"),_.length>2&&d.push(_+"R"+(v+1))})}function f(d,h){var y=["ID;PWXL;N;E"],v=[],_=cr(d["!ref"]),w,T=Array.isArray(d),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),d["!cols"]&&c(y,d["!cols"]),d["!rows"]&&u(y,d["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var k=_.s.r;k<=_.e.r;++k)for(var A=_.s.c;A<=_.e.c;++A){var C=Qe({r:k,c:A});w=T?(d[k]||[])[A]:d[C],!(!w||w.v==null&&(!w.f||w.F))&&v.push(l(w,d,k,A))}return y.join(E)+E+v.join(E)+E+"E"+E}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),TSe=function(){function t(a,s){switch(s.type){case"base64":return e(pi(a),s);case"binary":return e(a,s);case"buffer":return e(ct&&Buffer.isBuffer(a)?a.toString("binary"):rc(a),s);case"array":return e(Gl(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),h=d[0],y=d[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(la(y))?isNaN(Yu(y).getDate())?f[l][c]=y:f[l][c]=jr(y):f[l][c]=la(y),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return bf(t(a,s),s)}function n(a,s){return Go(r(a,s),s)}var i=function(){var a=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=cr(l["!ref"]),f,d=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var v=Qe({r:h,c:y});if(f=d?(l[h]||[])[y]:l[v],!f){s(c,1,0,"");continue}switch(f.t){case"n":var _=f.w;!_&&f.v!=null&&(_=f.v),_==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,_,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ui(f.z||rt[14],$n(jr(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var w=`\r
`,T=c.join(w);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),SSe=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),y=-1,v=-1,_=0,w=[];_!==h.length;++_){var T=h[_].trim().split(":");if(T[0]==="cell"){var E=Mn(T[1]);if(w.length<=E.r)for(y=w.length;y<=E.r;++y)w[y]||(w[y]=[]);switch(y=E.r,v=E.c,T[2]){case"t":w[y][v]=t(T[3]);break;case"v":w[y][v]=+T[3];break;case"vtf":var k=T[T.length-1];case"vtc":switch(T[3]){case"nl":w[y][v]=!!+T[4];break;default:w[y][v]=+T[4];break}T[2]=="vtf"&&(w[y][v]=[w[y][v],k])}}}return d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),w}function n(f,d){return bf(r(f,d),d)}function i(f,d){return Go(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],y,v="",_=Sf(f["!ref"]),w=Array.isArray(f),T=_.s.r;T<=_.e.r;++T)for(var E=_.s.c;E<=_.e.c;++E)if(v=Qe({r:T,c:E}),y=w?(f[T]||[])[E]:f[v],!(!y||y.v==null||y.t==="z")){switch(h=["cell",v,"t"],y.t){case"s":case"str":h.push(e(y.v));break;case"n":y.f?(h[2]="vtf",h[3]="n",h[4]=y.v,h[5]=e(y.f)):(h[2]="v",h[3]=y.v);break;case"b":h[2]="vt"+(y.f?"f":"c"),h[3]="nl",h[4]=y.v?"1":"0",h[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var k=$n(jr(y.v));h[2]="vtc",h[3]="nd",h[4]=""+k,h[5]=y.w||Ui(y.z||rt[14],k);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),a0=function(){function t(u,f,d,h,y){y.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(la(u))?isNaN(Yu(u).getDate())?f[d][h]=u:f[d][h]=jr(u):f[d][h]=la(u))}function e(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var y=u.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var _=10,w=0,T=0;T<=v;++T)w=y[T].indexOf(" "),w==-1?w=y[T].length:w++,_=Math.max(_,w);for(T=0;T<=v;++T){h[T]=[];var E=0;for(t(y[T].slice(0,_).trim(),h,T,E,d),E=1;E<=(y[T].length-_)/10+1;++E)t(y[T].slice(_+(E-1)*10,_+E*10).trim(),h,T,E,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,y=0;h<u.length;++h)(y=u.charCodeAt(h))==34?d=!d:!d&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&y.push([f[h],h]);if(!y.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&y.push([f[h],h])}return y.sort(function(v,_){return v[0]-_[0]||n[v[1]]-n[_[1]]}),r[y.pop()[1]]||44}function a(u,f){var d=f||{},h="",y=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var _=0,w=0,T=0,E=0,k=0,A=h.charCodeAt(0),C=!1,S=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var b=d.dateNF!=null?Dwe(d.dateNF):null;function N(){var O=u.slice(E,k),R={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)R.t="z";else if(d.raw)R.t="s",R.v=O;else if(O.trim().length===0)R.t="s",R.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(R.t="s",R.v=O.slice(2,-1).replace(/""/g,'"')):uAe(O)?(R.t="n",R.f=O.slice(1)):(R.t="s",R.v=O);else if(O=="TRUE")R.t="b",R.v=!0;else if(O=="FALSE")R.t="b",R.v=!1;else if(!isNaN(T=la(O)))R.t="n",d.cellText!==!1&&(R.w=O),R.v=T;else if(!isNaN(Yu(O).getDate())||b&&O.match(b)){R.z=d.dateNF||rt[14];var D=0;b&&O.match(b)&&(O=Fwe(O,d.dateNF,O.match(b)||[]),D=1),d.cellDates?(R.t="d",R.v=jr(O,D)):(R.t="n",R.v=$n(jr(O,D))),d.cellText!==!1&&(R.w=Ui(R.z,R.v instanceof Date?$n(R.v):R.v)),d.cellNF||delete R.z}else R.t="s",R.v=O;if(R.t=="z"||(d.dense?(y[_]||(y[_]=[]),y[_][w]=R):y[Qe({c:w,r:_})]=R),E=k+1,I=u.charCodeAt(E),v.e.c<w&&(v.e.c=w),v.e.r<_&&(v.e.r=_),S==A)++w;else if(w=0,++_,d.sheetRows&&d.sheetRows<=_)return!0}e:for(;k<u.length;++k)switch(S=u.charCodeAt(k)){case 34:I===34&&(C=!C);break;case A:case 10:case 13:if(!C&&N())break e;break}return k-E>0&&N(),y["!ref"]=ht(v),y}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):bf(e(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:WA(u,f);switch(f.type){case"base64":d=pi(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof t0<"u"||(d=ct&&Buffer.isBuffer(u)?u.toString("binary"):rc(u));break;case"array":d=Gl(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=Ft(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Ft(d):f.type=="binary"&&typeof t0<"u",d.slice(0,19)=="socialcalc:version:"?SSe.to_sheet(f.type=="string"?d:Ft(d),f):s(d,f)}function l(u,f){return Go(o(u,f),f)}function c(u){for(var f=[],d=cr(u["!ref"]),h,y=Array.isArray(u),v=d.s.r;v<=d.e.r;++v){for(var _=[],w=d.s.c;w<=d.e.c;++w){var T=Qe({r:v,c:w});if(h=y?(u[v]||[])[w]:u[T],!h||h.v==null){_.push("          ");continue}for(var E=(h.w||(Cs(h),h.w)||"").slice(0,10);E.length<10;)E+=" ";_.push(E+(w===0?" ":""))}f.push(_.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function bSe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=ESe.to_workbook(t,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return a0.to_workbook(t,e)}}var jd=function(){function t(U,q,Y){if(U){Jr(U,U.l||0);for(var K=Y.Enum||ie;U.l<U.length;){var de=U.read_shift(2),xe=K[de]||K[65535],be=U.read_shift(2),oe=U.l+be,ue=xe.f&&xe.f(U,be,Y);if(U.l=oe,q(ue,xe,de))return}}}function e(U,q){switch(q.type){case"base64":return r(ea(pi(U)),q);case"binary":return r(ea(U),q);case"buffer":case"array":return r(U,q)}throw"Unsupported type "+q.type}function r(U,q){if(!U)return U;var Y=q||{},K=Y.dense?[]:{},de="Sheet1",xe="",be=0,oe={},ue=[],Ie=[],L={s:{r:0,c:0},e:{r:0,c:0}},He=Y.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)Y.Enum=ie,t(U,function(we,ut,Gt){switch(Gt){case 0:Y.vers=we,we>=4096&&(Y.qpro=!0);break;case 6:L=we;break;case 204:we&&(xe=we);break;case 222:xe=we;break;case 15:case 51:Y.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:Gt==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=Y.dateNF||rt[14],Y.cellDates&&(we[1].t="d",we[1].v=sx(we[1].v))),Y.qpro&&we[3]>be&&(K["!ref"]=ht(L),oe[de]=K,ue.push(de),K=Y.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},be=we[3],de=xe||"Sheet"+(be+1),xe="");var ur=Y.dense?(K[we[0].r]||[])[we[0].c]:K[Qe(we[0])];if(ur){ur.t=we[1].t,ur.v=we[1].v,we[1].z!=null&&(ur.z=we[1].z),we[1].f!=null&&(ur.f=we[1].f);break}Y.dense?(K[we[0].r]||(K[we[0].r]=[]),K[we[0].r][we[0].c]=we[1]):K[Qe(we[0])]=we[1];break}},Y);else if(U[2]==26||U[2]==14)Y.Enum=me,U[2]==14&&(Y.qpro=!0,U.l=0),t(U,function(we,ut,Gt){switch(Gt){case 204:de=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>be&&(K["!ref"]=ht(L),oe[de]=K,ue.push(de),K=Y.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},be=we[3],de="Sheet"+(be+1)),He>0&&we[0].r>=He)break;Y.dense?(K[we[0].r]||(K[we[0].r]=[]),K[we[0].r][we[0].c]=we[1]):K[Qe(we[0])]=we[1],L.e.c<we[0].c&&(L.e.c=we[0].c),L.e.r<we[0].r&&(L.e.r=we[0].r);break;case 27:we[14e3]&&(Ie[we[14e3][0]]=we[14e3][1]);break;case 1537:Ie[we[0]]=we[1],we[0]==be&&(de=we[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(K["!ref"]=ht(L),oe[xe||de]=K,ue.push(xe||de),!Ie.length)return{SheetNames:ue,Sheets:oe};for(var Me={},Ge=[],Be=0;Be<Ie.length;++Be)oe[ue[Be]]?(Ge.push(Ie[Be]||ue[Be]),Me[Ie[Be]]=oe[Ie[Be]]||oe[ue[Be]]):(Ge.push(Ie[Be]),Me[Ie[Be]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:Me}}function n(U,q){var Y=q||{};if(+Y.codepage>=0&&ra(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var K=BE(),de=cr(U["!ref"]),xe=Array.isArray(U),be=[];Ki(K,0,a(1030)),Ki(K,6,l(de));for(var oe=Math.min(de.e.r,8191),ue=de.s.r;ue<=oe;++ue)for(var Ie=nn(ue),L=de.s.c;L<=de.e.c;++L){ue===de.s.r&&(be[L]=kr(L));var He=be[L]+Ie,Me=xe?(U[ue]||[])[L]:U[He];if(!(!Me||Me.t=="z"))if(Me.t=="n")(Me.v|0)==Me.v&&Me.v>=-32768&&Me.v<=32767?Ki(K,13,h(ue,L,Me.v)):Ki(K,14,v(ue,L,Me.v));else{var Ge=Cs(Me);Ki(K,15,f(ue,L,Ge.slice(0,239)))}}return Ki(K,1),K.end()}function i(U,q){var Y=q||{};if(+Y.codepage>=0&&ra(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var K=BE();Ki(K,0,s(U));for(var de=0,xe=0;de<U.SheetNames.length;++de)(U.Sheets[U.SheetNames[de]]||{})["!ref"]&&Ki(K,27,z(U.SheetNames[de],xe++));var be=0;for(de=0;de<U.SheetNames.length;++de){var oe=U.Sheets[U.SheetNames[de]];if(!(!oe||!oe["!ref"])){for(var ue=cr(oe["!ref"]),Ie=Array.isArray(oe),L=[],He=Math.min(ue.e.r,8191),Me=ue.s.r;Me<=He;++Me)for(var Ge=nn(Me),Be=ue.s.c;Be<=ue.e.c;++Be){Me===ue.s.r&&(L[Be]=kr(Be));var we=L[Be]+Ge,ut=Ie?(oe[Me]||[])[Be]:oe[we];if(!(!ut||ut.t=="z"))if(ut.t=="n")Ki(K,23,N(Me,Be,be,ut.v));else{var Gt=Cs(ut);Ki(K,22,S(Me,Be,be,Gt.slice(0,239)))}}++be}}return Ki(K,1),K.end()}function a(U){var q=br(2);return q.write_shift(2,U),q}function s(U){var q=br(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var Y=0,K=0,de=0,xe=0;xe<U.SheetNames.length;++xe){var be=U.SheetNames[xe],oe=U.Sheets[be];if(!(!oe||!oe["!ref"])){++de;var ue=Sf(oe["!ref"]);Y<ue.e.r&&(Y=ue.e.r),K<ue.e.c&&(K=ue.e.c)}}return Y>8191&&(Y=8191),q.write_shift(2,Y),q.write_shift(1,de),q.write_shift(1,K),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(U,q,Y){var K={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&Y.qpro?(K.s.c=U.read_shift(1),U.l++,K.s.r=U.read_shift(2),K.e.c=U.read_shift(1),U.l++,K.e.r=U.read_shift(2),K):(K.s.c=U.read_shift(2),K.s.r=U.read_shift(2),q==12&&Y.qpro&&(U.l+=2),K.e.c=U.read_shift(2),K.e.r=U.read_shift(2),q==12&&Y.qpro&&(U.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(U){var q=br(8);return q.write_shift(2,U.s.c),q.write_shift(2,U.s.r),q.write_shift(2,U.e.c),q.write_shift(2,U.e.r),q}function c(U,q,Y){var K=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(K[0].c=U.read_shift(1),K[3]=U.read_shift(1),K[0].r=U.read_shift(2),U.l+=2):(K[2]=U.read_shift(1),K[0].c=U.read_shift(2),K[0].r=U.read_shift(2)),K}function u(U,q,Y){var K=U.l+q,de=c(U,q,Y);if(de[1].t="s",Y.vers==20768){U.l++;var xe=U.read_shift(1);return de[1].v=U.read_shift(xe,"utf8"),de}return Y.qpro&&U.l++,de[1].v=U.read_shift(K-U.l,"cstr"),de}function f(U,q,Y){var K=br(7+Y.length);K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,U),K.write_shift(1,39);for(var de=0;de<K.length;++de){var xe=Y.charCodeAt(de);K.write_shift(1,xe>=128?95:xe)}return K.write_shift(1,0),K}function d(U,q,Y){var K=c(U,q,Y);return K[1].v=U.read_shift(2,"i"),K}function h(U,q,Y){var K=br(7);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,U),K.write_shift(2,Y,"i"),K}function y(U,q,Y){var K=c(U,q,Y);return K[1].v=U.read_shift(8,"f"),K}function v(U,q,Y){var K=br(13);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,U),K.write_shift(8,Y,"f"),K}function _(U,q,Y){var K=U.l+q,de=c(U,q,Y);if(de[1].v=U.read_shift(8,"f"),Y.qpro)U.l=K;else{var xe=U.read_shift(2);k(U.slice(U.l,U.l+xe),de),U.l+=xe}return de}function w(U,q,Y){var K=q&32768;return q&=-32769,q=(K?U:0)+(q>=8192?q-16384:q),(K?"":"$")+(Y?kr(q):nn(q))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(U,q){Jr(U,0);for(var Y=[],K=0,de="",xe="",be="",oe="";U.l<U.length;){var ue=U[U.l++];switch(ue){case 0:Y.push(U.read_shift(8,"f"));break;case 1:xe=w(q[0].c,U.read_shift(2),!0),de=w(q[0].r,U.read_shift(2),!1),Y.push(xe+de);break;case 2:{var Ie=w(q[0].c,U.read_shift(2),!0),L=w(q[0].r,U.read_shift(2),!1);xe=w(q[0].c,U.read_shift(2),!0),de=w(q[0].r,U.read_shift(2),!1),Y.push(Ie+L+":"+xe+de)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(U.read_shift(2));break;case 6:{for(var He="";ue=U[U.l++];)He+=String.fromCharCode(ue);Y.push('"'+He.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:oe=Y.pop(),be=Y.pop(),Y.push(["AND","OR"][ue-20]+"("+be+","+oe+")");break;default:if(ue<32&&E[ue])oe=Y.pop(),be=Y.pop(),Y.push(be+E[ue]+oe);else if(T[ue]){if(K=T[ue][1],K==69&&(K=U[U.l++]),K>Y.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+Y.join("|")+"|");return}var Me=Y.slice(-K);Y.length-=K,Y.push(T[ue][0]+"("+Me.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}Y.length==1?q[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function A(U){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=U.read_shift(2),q[3]=U[U.l++],q[0].c=U[U.l++],q}function C(U,q){var Y=A(U);return Y[1].t="s",Y[1].v=U.read_shift(q-4,"cstr"),Y}function S(U,q,Y,K){var de=br(6+K.length);de.write_shift(2,U),de.write_shift(1,Y),de.write_shift(1,q),de.write_shift(1,39);for(var xe=0;xe<K.length;++xe){var be=K.charCodeAt(xe);de.write_shift(1,be>=128?95:be)}return de.write_shift(1,0),de}function I(U,q){var Y=A(U);Y[1].v=U.read_shift(2);var K=Y[1].v>>1;if(Y[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return Y[1].v=K,Y}function b(U,q){var Y=A(U),K=U.read_shift(4),de=U.read_shift(4),xe=U.read_shift(2);if(xe==65535)return K===0&&de===3221225472?(Y[1].t="e",Y[1].v=15):K===0&&de===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var be=xe&32768;return xe=(xe&32767)-16446,Y[1].v=(1-be*2)*(de*Math.pow(2,xe+32)+K*Math.pow(2,xe)),Y}function N(U,q,Y,K){var de=br(14);if(de.write_shift(2,U),de.write_shift(1,Y),de.write_shift(1,q),K==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var xe=0,be=0,oe=0,ue=0;return K<0&&(xe=1,K=-K),be=Math.log2(K)|0,K/=Math.pow(2,be-31),ue=K>>>0,ue&2147483648||(K/=2,++be,ue=K>>>0),K-=ue,ue|=2147483648,ue>>>=0,K*=Math.pow(2,32),oe=K>>>0,de.write_shift(4,oe),de.write_shift(4,ue),be+=16383+(xe?32768:0),de.write_shift(2,be),de}function O(U,q){var Y=b(U);return U.l+=q-14,Y}function R(U,q){var Y=A(U),K=U.read_shift(4);return Y[1].v=K>>6,Y}function D(U,q){var Y=A(U),K=U.read_shift(8,"f");return Y[1].v=K,Y}function J(U,q){var Y=D(U);return U.l+=q-10,Y}function X(U,q){return U[U.l+q-1]==0?U.read_shift(q,"cstr"):""}function te(U,q){var Y=U[U.l++];Y>q-1&&(Y=q-1);for(var K="";K.length<Y;)K+=String.fromCharCode(U[U.l++]);return K}function Z(U,q,Y){if(!(!Y.qpro||q<21)){var K=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var de=U.read_shift(q-21,"cstr");return[K,de]}}function ee(U,q){for(var Y={},K=U.l+q;U.l<K;){var de=U.read_shift(2);if(de==14e3){for(Y[de]=[0,""],Y[de][0]=U.read_shift(2);U[U.l];)Y[de][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return Y}function z(U,q){var Y=br(5+U.length);Y.write_shift(2,14e3),Y.write_shift(2,q);for(var K=0;K<U.length;++K){var de=U.charCodeAt(K);Y[Y.l++]=de>127?95:de}return Y[Y.l++]=0,Y}var ie={0:{n:"BOF",f:xr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},me={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function ASe(t){var e={},r=t.match(Cn),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=We(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=EA[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var CSe=function(){var t=n0("t"),e=n0("rPr");function r(a){var s=a.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:mt(s[1])},l=a.match(e);return l&&(o.s=ASe(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}}(),ISe=function(){var e=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),kSe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,PSe=/<(?:\w+:)?r>/,NSe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $A(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=mt(Ft(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ft(t),r&&(n.h=kA(n.t))):t.match(PSe)&&(n.r=Ft(t),n.t=mt(Ft((t.replace(NSe,"").match(kSe)||[]).join("").replace(Cn,""))),r&&(n.h=ISe(CSe(n.r)))),n):{t:""}}var RSe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,OSe=/<(?:\w+:)?(?:si|sstItem)>/g,MSe=/<\/(?:\w+:)?(?:si|sstItem)>/;function DSe(t,e){var r=[],n="";if(!t)return r;var i=t.match(RSe);if(i){n=i[2].replace(OSe,"").split(MSe);for(var a=0;a!=n.length;++a){var s=$A(n[a].trim(),e);s!=null&&(r[r.length]=s)}i=We(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function FSe(t){return[t.read_shift(4),t.read_shift(4)]}function LSe(t,e){var r=[],n=!1;return Ms(t,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function W$(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function fs(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function USe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=fs(t,4),e.U=fs(t,4),e.W=fs(t,4),e}function $Se(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function BSe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push($Se(t));return e}function VSe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function jSe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=fs(t,4),e.U=fs(t,4),e.W=fs(t,4),e}function GSe(t){var e=jSe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function q$(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function K$(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function HSe(t){var e=fs(t);switch(e.Minor){case 2:return[e.Minor,zSe(t)];case 3:return[e.Minor,WSe()];case 4:return[e.Minor,qSe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function zSe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=q$(t,r),i=K$(t,t.length-t.l);return{t:"Std",h:n,v:i}}function WSe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function qSe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Cn,function(a){var s=We(a);switch($a(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function KSe(t,e){var r={},n=r.EncryptionVersionInfo=fs(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=q$(t,i),e-=i,r.EncryptionVerifier=K$(t,e),r}function XSe(t){var e={},r=e.EncryptionVersionInfo=fs(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function YSe(t){var e=0,r,n=W$(t),i=n.length+1,a,s,o,l,c;for(r=Ro(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var X$=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=W$(s),l=a(o),c=o.length,u=Ro(16),f=0;f!=16;++f)u[f]=0;var d,h,y;for((c&1)===1&&(d=l>>8,u[c]=i(t[0],d),--c,d=l&255,h=o[o.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,y=15-o.length;y>0;)d=l>>8,u[c]=i(t[y],d),--c,--y,d=l&255,u[c]=i(o[c],d),--c,--y;return u}}(),JSe=function(t,e,r,n,i){i||(i=e),n||(n=X$(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},QSe=function(t){var e=0,r=X$(t);return function(n){var i=JSe("",n,e,r);return e=i[1],i[0]}};function ZSe(t,e,r,n){var i={key:xr(t),verificationBytes:xr(t)};return r.password&&(i.verifier=YSe(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=QSe(r.password)),i}function ebe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=XSe(t):n.Data=KSe(t,e),n}function tbe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?ebe(t,e-2,n):ZSe(t,r.biff>=8?e:e-2,r,n),n}var rbe=function(){function t(i,a){switch(a.type){case"base64":return e(pi(i),a);case"binary":return e(i,a);case"buffer":return e(ct&&Buffer.isBuffer(i)?i.toString("binary"):rc(i),a);case"array":return e(Gl(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,y,v=-1;y=d.exec(u);){switch(y[0]){case"\\cell":var _=u.slice(h,d.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++v,_.length){var w={v:_,t:"s"};Array.isArray(o)?o[f][v]=w:o[Qe({r:f,c:v})]=w}break}h=d.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=ht(c),o}function r(i,a){return Go(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=cr(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Qe({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Cs(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function nbe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function s0(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function ibe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function abe(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function _v(t,e){if(e===0)return t;var r=ibe(nbe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),s0(abe(r))}var Y$=6,sbe=15,obe=1,Rn=Y$;function wv(t){return Math.floor((t+Math.round(128/Rn)/256)*Rn)}function Ev(t){return Math.floor((t-5)/Rn*100+.5)/100}function HE(t){return Math.round((t*Rn+5)/Rn*256)/256}function G1(t){return HE(Ev(wv(t)))}function BA(t){var e=Math.abs(t-G1(t)),r=Rn;if(e>.005)for(Rn=obe;Rn<sbe;++Rn)Math.abs(t-G1(t))<=e&&(e=Math.abs(t-G1(t)),r=Rn);Rn=r}function Ju(t){t.width?(t.wpx=wv(t.width),t.wch=Ev(t.wpx),t.MDW=Rn):t.wpx?(t.wch=Ev(t.wpx),t.width=HE(t.wch),t.MDW=Rn):typeof t.wch=="number"&&(t.width=HE(t.wch),t.wpx=wv(t.width),t.MDW=Rn),t.customWidth&&delete t.customWidth}var lbe=96,J$=lbe;function Q$(t){return t*96/J$}function o0(t){return t*J$/96}var cbe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ube(t,e,r,n){e.Borders=[];var i={},a=!1;(t[0].match(Cn)||[]).forEach(function(s){var o=We(s);switch($a(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Wt(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Wt(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function fbe(t,e,r,n){e.Fills=[];var i={},a=!1;(t[0].match(Cn)||[]).forEach(function(s){var o=We(s);switch($a(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function dbe(t,e,r,n){e.Fonts=[];var i={},a=!1;(t[0].match(Cn)||[]).forEach(function(s){var o=We(s);switch($a(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Ft(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Wt(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Wt(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Wt(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Wt(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Wt(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Wt(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Wt(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=EA[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Wt(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=bl[i.color.index];i.color.index==81&&(l=bl[1]),l||(l=bl[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=_v(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function hbe(t,e,r){e.NumberFmt=[];for(var n=Fa(rt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=rt[n[i]];var a=t[0].match(Cn);if(a)for(i=0;i<a.length;++i){var s=We(a[i]);switch($a(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=mt(Ft(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Sl(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Wp=["numFmtId","fillId","fontId","borderId","xfId"],qp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function pbe(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Cn)||[]).forEach(function(a){var s=We(a),o=0;switch($a(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Wp.length;++o)n[Wp[o]]&&(n[Wp[o]]=parseInt(n[Wp[o]],10));for(o=0;o<qp.length;++o)n[qp[o]]&&(n[qp[o]]=Wt(n[qp[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Wt(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var mbe=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&hbe(f,u,c),(f=o.match(i))&&dbe(f,u,l,c),(f=o.match(n))&&fbe(f,u,l,c),(f=o.match(a))&&ube(f,u,l,c),(f=o.match(r))&&pbe(f,u,c),u}}();function gbe(t,e){var r=t.read_shift(2),n=Tn(t);return[r,n]}function vbe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=CEe(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=AEe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Tn(t),n}var ybe=An;function xbe(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}var _be=An;function wbe(t,e,r){var n={};n.NumberFmt=[];for(var i in rt)n.NumberFmt[i]=rt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Ms(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Sl(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=_v(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Ebe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Tbe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Cn)||[]).forEach(function(i){var a=We(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[Ebe.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function Sbe(){}function bbe(){}var Abe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Cbe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Ibe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kbe(t,e,r){e.themeElements={};var n;[["clrScheme",Abe,Tbe],["fontScheme",Cbe,Sbe],["fmtScheme",Ibe,bbe]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var Pbe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Z$(t,e){(!t||t.length===0)&&(t=Nbe());var r,n={};if(!(r=t.match(Pbe)))throw new Error("themeElements not found in theme");return kbe(r[0],n,e),n.raw=t,n}function Nbe(t,e){var r=[u$];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Rbe(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var s;try{s=c$(a,{type:"array"})}catch{return}var o=oi(s,"theme/theme/theme1.xml",!0);if(o)return Z$(o,r)}}function Obe(t){return t.read_shift(4)}function Mbe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Dbe(t,4);break;case 2:e.xclrValue=$$(t);break;case 3:e.xclrValue=Obe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Dbe(t,e){return An(t,e)}function Fbe(t,e){return An(t,e)}function Lbe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Mbe(t);break;case 6:n[1]=Fbe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function Ube(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(Lbe(t,r-t.l));return{ixfe:n,ext:a}}function $be(t,e){e.forEach(function(r){switch(r[0]){}})}function Bbe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Tn(t)}}function Vbe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function jbe(t){return t.l+=4,t.read_shift(4)!=0}function Gbe(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return Ms(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Hbe(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,a=2,s;return t.replace(Cn,function(o){var l=We(o);switch($a(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function zbe(t){var e=[];if(!t)return e;var r=1;return(t.match(Cn)||[]).forEach(function(n){var i=We(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function Wbe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Qe(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function qbe(t,e,r){var n=[];return Ms(t,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Kbe(t,e,r,n){if(!t)return t;var i=n||{},a=!1;Ms(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function Xbe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function DO(t,e,r,n){var i=Array.isArray(t),a;e.forEach(function(s){var o=Mn(s.ref);if(i?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[s.ref],!a){a={t:"z"},i?t[o.r][o.c]=a:t[s.ref]=a;var l=cr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=ht(l);c!==t["!ref"]&&(t["!ref"]=c)}a.c||(a.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}a.c.push(u)})}function Ybe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=We(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Mn(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&$A(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function Jbe(t,e){var r=[],n=!1,i={},a=0;return t.replace(Cn,function(o,l){var c=We(o);switch($a(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Qbe(t,e){var r=[],n=!1;return t.replace(Cn,function(a){var s=We(a);switch($a(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function Zbe(t){var e={};e.iauthor=t.read_shift(4);var r=ic(t);return e.rfx=r.s,e.ref=Qe(r.s),t.l+=16,e}var eAe=Tn;function tAe(t,e){var r=[],n=[],i={},a=!1;return Ms(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var rAe="application/vnd.ms-office.vbaProject";function nAe(t){var e=dt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");dt.utils.cfb_add(e,i,t.FileIndex[n].content)}}),dt.write(e)}function iAe(){return{"!type":"dialog"}}function aAe(){return{"!type":"dialog"}}function sAe(){return{"!type":"macro"}}function oAe(){return{"!type":"macro"}}var su=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+kr(u)+(l?"":"$")+nn(c)}return function(i,a){return e=a,i.replace(t,r)}}(),eB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,lAe=function(){return function(e,r){return e.replace(eB,function(n,i,a,s,o,l){var c=OA(s)-(a?0:r.c),u=RA(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",d=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function tB(t,e){return t.replace(eB,function(r,n,i,a,s,o){return n+(i=="$"?i+a:kr(OA(a)+e.c))+(s=="$"?s+o:nn(RA(o)+e.r))})}function cAe(t,e,r){var n=Sf(e),i=n.s,a=Mn(r),s={r:a.r-i.r,c:a.c-i.c};return tB(t,s)}function uAe(t){return t.length!=1}function FO(t){return t.replace(/_xlfn\./g,"")}function mr(t){t.l+=1}function Oo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function rB(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return nB(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=Oo(t),o=Oo(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function nB(t){var e=Oo(t),r=Oo(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function fAe(t,e,r){if(r.biff<8)return nB(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=Oo(t),s=Oo(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function iB(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return dAe(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Oo(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function dAe(t){var e=Oo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function hAe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pAe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return mAe(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function mAe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function gAe(t,e,r){var n=(t[t.l++]&96)>>5,i=rB(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function vAe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=rB(t,a,r);return[n,i,s]}function yAe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function xAe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function _Ae(t,e,r){var n=(t[t.l++]&96)>>5,i=fAe(t,e-1,r);return[n,i]}function wAe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function LO(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function EAe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function TAe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function SAe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function bAe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function AAe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function aB(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function CAe(t){return t.read_shift(2),aB(t)}function IAe(t){return t.read_shift(2),aB(t)}function kAe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=iB(t,0,r);return[n,i]}function PAe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=pAe(t,0,r);return[n,i]}function NAe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=iB(t,0,r);return[n,i,a]}function RAe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[O2e[i],lB[i],n]}function OAe(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:MAe(t);return[i,(a[0]===0?lB:R2e)[a[1]]]}function MAe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function DAe(t,e,r){t.l+=r&&r.biff==2?3:4}function FAe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function LAe(t){return t.l++,ac[t.read_shift(1)]}function UAe(t){return t.l++,t.read_shift(2)}function $Ae(t){return t.l++,t.read_shift(1)!==0}function BAe(t){return t.l++,_n(t)}function VAe(t,e,r){return t.l++,V0(t,e-1,r)}function jAe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=ac[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=_n(t);break;case 2:r[1]=sc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function GAe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?ic:ox)(t));return i}function HAe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=jAe(t,r.biff);return s}function zAe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function WAe(t,e,r){if(r.biff==5)return qAe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function qAe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function KAe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function XAe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function YAe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function JAe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var QAe=An,ZAe=An,e2e=An;function G0(t,e,r){return t.l+=2,[hAe(t)]}function VA(t){return t.l+=6,[]}var t2e=G0,r2e=VA,n2e=VA,i2e=G0;function sB(t){return t.l+=2,[xr(t),t.read_shift(2)&1]}var a2e=G0,s2e=sB,o2e=VA,l2e=G0,c2e=G0,u2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function f2e(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=u2e[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function d2e(t){return t.l+=2,[t.read_shift(4)]}function h2e(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function p2e(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function m2e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function g2e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function v2e(t){return t.l+=4,[0,0]}var UO={1:{n:"PtgExp",f:FAe},2:{n:"PtgTbl",f:e2e},3:{n:"PtgAdd",f:mr},4:{n:"PtgSub",f:mr},5:{n:"PtgMul",f:mr},6:{n:"PtgDiv",f:mr},7:{n:"PtgPower",f:mr},8:{n:"PtgConcat",f:mr},9:{n:"PtgLt",f:mr},10:{n:"PtgLe",f:mr},11:{n:"PtgEq",f:mr},12:{n:"PtgGe",f:mr},13:{n:"PtgGt",f:mr},14:{n:"PtgNe",f:mr},15:{n:"PtgIsect",f:mr},16:{n:"PtgUnion",f:mr},17:{n:"PtgRange",f:mr},18:{n:"PtgUplus",f:mr},19:{n:"PtgUminus",f:mr},20:{n:"PtgPercent",f:mr},21:{n:"PtgParen",f:mr},22:{n:"PtgMissArg",f:mr},23:{n:"PtgStr",f:VAe},26:{n:"PtgSheet",f:h2e},27:{n:"PtgEndSheet",f:p2e},28:{n:"PtgErr",f:LAe},29:{n:"PtgBool",f:$Ae},30:{n:"PtgInt",f:UAe},31:{n:"PtgNum",f:BAe},32:{n:"PtgArray",f:wAe},33:{n:"PtgFunc",f:RAe},34:{n:"PtgFuncVar",f:OAe},35:{n:"PtgName",f:zAe},36:{n:"PtgRef",f:kAe},37:{n:"PtgArea",f:gAe},38:{n:"PtgMemArea",f:KAe},39:{n:"PtgMemErr",f:QAe},40:{n:"PtgMemNoMem",f:ZAe},41:{n:"PtgMemFunc",f:XAe},42:{n:"PtgRefErr",f:YAe},43:{n:"PtgAreaErr",f:yAe},44:{n:"PtgRefN",f:PAe},45:{n:"PtgAreaN",f:_Ae},46:{n:"PtgMemAreaN",f:m2e},47:{n:"PtgMemNoMemN",f:g2e},57:{n:"PtgNameX",f:WAe},58:{n:"PtgRef3d",f:NAe},59:{n:"PtgArea3d",f:vAe},60:{n:"PtgRefErr3d",f:JAe},61:{n:"PtgAreaErr3d",f:xAe},255:{}},y2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},x2e={1:{n:"PtgElfLel",f:sB},2:{n:"PtgElfRw",f:l2e},3:{n:"PtgElfCol",f:t2e},6:{n:"PtgElfRwV",f:c2e},7:{n:"PtgElfColV",f:i2e},10:{n:"PtgElfRadical",f:a2e},11:{n:"PtgElfRadicalS",f:o2e},13:{n:"PtgElfColS",f:r2e},15:{n:"PtgElfColSV",f:n2e},16:{n:"PtgElfRadicalLel",f:s2e},25:{n:"PtgList",f:f2e},29:{n:"PtgSxName",f:d2e},255:{}},_2e={0:{n:"PtgAttrNoop",f:v2e},1:{n:"PtgAttrSemi",f:AAe},2:{n:"PtgAttrIf",f:SAe},4:{n:"PtgAttrChoose",f:EAe},8:{n:"PtgAttrGoto",f:TAe},16:{n:"PtgAttrSum",f:DAe},32:{n:"PtgAttrBaxcel",f:LO},33:{n:"PtgAttrBaxcel",f:LO},64:{n:"PtgAttrSpace",f:CAe},65:{n:"PtgAttrSpaceSemi",f:IAe},128:{n:"PtgAttrIfError",f:bAe},255:{}};function H0(t,e,r,n){if(n.biff<8)return An(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=HAe(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=GAe(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(An(t,e)),a}function z0(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=UO[a]||UO[y2e[a]],(a===24||a===25)&&(i=(a===24?x2e:_2e)[t[t.l+1]]),!i||!i.f?An(t,e):s.push([i.n,i.f(t,e,r)]);return s}function w2e(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var E2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function T2e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function oB(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function $O(t,e,r){var n=oB(t,e,r);return n=="#REF"?n:T2e(n,r)}function mn(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,d=0,h,y="";if(!t[0]||!t[0][0])return"";for(var v=-1,_="",w=0,T=t[0].length;w<T;++w){var E=t[0][w];switch(E[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:_=lr(" ",t[0][v][1][1]);break;case 1:_=lr("\r",t[0][v][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}c=c+_,v=-1}o.push(c+E2e[E[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ud(E[1][1],s,i),o.push($d(u,a));break;case"PtgRefN":u=r?Ud(E[1][1],r,i):E[1][1],o.push($d(u,a));break;case"PtgRef3d":f=E[1][1],u=Ud(E[1][2],s,i),y=$O(n,f,i),o.push(y+"!"+$d(u,a));break;case"PtgFunc":case"PtgFuncVar":var k=E[1][0],A=E[1][1];k||(k=0),k&=127;var C=k==0?[]:o.slice(-k);o.length-=k,A==="User"&&(A=C.shift()),o.push(A+"("+C.join(",")+")");break;case"PtgBool":o.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(E[1]);break;case"PtgNum":o.push(String(E[1]));break;case"PtgStr":o.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(E[1]);break;case"PtgAreaN":h=xO(E[1][1],r?{s:r}:s,i),o.push(V1(h,i));break;case"PtgArea":h=xO(E[1][1],s,i),o.push(V1(h,i));break;case"PtgArea3d":f=E[1][1],h=E[1][2],y=$O(n,f,i),o.push(y+"!"+V1(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=E[1][2];var S=(n.names||[])[d-1]||(n[0]||[])[d],I=S?S.Name:"SH33TJSNAME"+String(d);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var b=E[1][1];d=E[1][2];var N;if(i.biff<=5)b<0&&(b=-b),n[b]&&(N=n[b][d]);else{var O="";if(((n[b]||[])[0]||[])[0]==14849||(((n[b]||[])[0]||[])[0]==1025?n[b][d]&&n[b][d].itab>0&&(O=n.SheetNames[n[b][d].itab-1]+"!"):O=n.SheetNames[d-1]+"!"),n[b]&&n[b][d])O+=n[b][d].Name;else if(n[0]&&n[0][d])O+=n[0][d].Name;else{var R=(oB(n,b,i)||"").split(";;");R[d-1]?O=R[d-1]:O+="SH33TJSERRX"}o.push(O);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var D="(",J=")";if(v>=0){switch(_="",t[0][v][1][0]){case 2:D=lr(" ",t[0][v][1][1])+D;break;case 3:D=lr("\r",t[0][v][1][1])+D;break;case 4:J=lr(" ",t[0][v][1][1])+J;break;case 5:J=lr("\r",t[0][v][1][1])+J;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(D+o.pop()+J);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:E[1][1],r:E[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[Qe(u)]){var te=n.sharedf[Qe(u)];o.push(mn(te,s,X,n,i))}else{var Z=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(mn(c[1],s,X,n,i)),Z=!0;break}Z||o.push(E[1])}break;case"PtgArray":o.push("{"+w2e(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&ee.indexOf(t[0][w][0])==-1){E=t[0][v];var z=!0;switch(E[1][0]){case 4:z=!1;case 0:_=lr(" ",E[1][1]);break;case 5:z=!1;case 1:_=lr("\r",E[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}o.push((z?_:"")+o.pop()+(z?"":_)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function S2e(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],An(t,e-2)];var o=z0(t,s,r);return e!==s+i&&(a=H0(t,e-s-i,o,r)),t.l=n,[o,a]}function b2e(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],An(t,e-2)];var o=z0(t,s,r);return e!==s+i&&(a=H0(t,e-s-i,o,r)),t.l=n,[o,a]}function A2e(t,e,r,n){var i=t.l+e,a=z0(t,n,r),s;return i!==t.l&&(s=H0(t,i-t.l,a,r)),[a,s]}function C2e(t,e,r){var n=t.l+e,i,a=t.read_shift(2),s=z0(t,a,r);return a==65535?[[],An(t,e-2)]:(e!==a+2&&(i=H0(t,n-a-2,s,r)),[s,i])}function I2e(t){var e;if(as(t,t.l+6)!==65535)return[_n(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function H1(t,e,r){var n=t.l+e,i=Ba(t);r.biff==2&&++t.l;var a=I2e(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=b2e(t,n-t.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function lx(t,e,r){var n=t.read_shift(4),i=z0(t,n,r),a=t.read_shift(4),s=a>0?H0(t,a,i,r):null;return[i,s]}var k2e=lx,cx=lx,P2e=lx,N2e=lx,R2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},O2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function BO(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function z1(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Gd={},ou={};function Hd(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function cB(t,e,r,n,i,a){try{n.cellNF&&(t.z=rt[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=jr(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(rt[e]==null&&Sl(Mwe[e]||"General",e),t.t==="e")t.w=t.w||ac[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=r0(t.v);else if(t.t==="d"){var s=$n(t.v);(s|0)===s?t.w=s.toString(10):t.w=r0(s)}else{if(t.v===void 0)return"";t.w=jl(t.v,ou)}else t.t==="d"?t.w=Ui(e,$n(t.v),ou):t.w=Ui(e,t.v,ou)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=_v(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=_v(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function M2e(t,e){var r=cr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=ht(r))}var D2e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,F2e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,L2e=/<(?:\w:)?hyperlink [^>]*>/mg,U2e=/"(\w*:\w*)"/,$2e=/<(?:\w:)?col\b[^>]*[\/]?>/g,B2e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,V2e=/<(?:\w:)?pageMargins[^>]*\/>/g,uB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,j2e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,G2e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function H2e(t,e,r,n,i,a,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(F2e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var d=c.match(uB);d?jA(d[0],o,i,r):(d=c.match(j2e))&&z2e(d[0],d[1]||"",o,i,r);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var y=c.slice(h,h+50).match(U2e);y&&M2e(o,y[1])}var v=c.match(G2e);v&&v[1]&&J2e(v[1],i);var _=[];if(e.cellStyles){var w=c.match($2e);w&&K2e(_,w)}f&&Q2e(f[1],o,e,l,a,s);var T=u.match(B2e);T&&(o["!autofilter"]=X2e(T[0]));var E=[],k=u.match(D2e);if(k)for(h=0;h!=k.length;++h)E[h]=cr(k[h].slice(k[h].indexOf('"')+1));var A=u.match(L2e);A&&W2e(o,A,n);var C=u.match(V2e);if(C&&(o["!margins"]=q2e(We(C[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=ht(l)),e.sheetRows>0&&o["!ref"]){var S=cr(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ht(S))}return _.length>0&&(o["!cols"]=_),E.length>0&&(o["!merges"]=E),o}function jA(t,e,r,n){var i=We(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=mt(Ft(i.codeName)))}function z2e(t,e,r,n,i){jA(t.slice(0,t.indexOf(">")),r,n,i)}function W2e(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var a=We(Ft(e[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+mt(a.location))):(a.Target="#"+mt(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=cr(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Qe({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=a):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=a)}}}function q2e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function K2e(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=We(e[n],!0);i.hidden&&(i.hidden=Wt(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,BA(i.width)),Ju(i);a<=s;)t[a++]=rn(i)}}function X2e(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var Y2e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function J2e(t,e){e.Views||(e.Views=[{}]),(t.match(Y2e)||[]).forEach(function(r,n){var i=We(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Wt(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var Q2e=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=n0("v"),s=n0("f");return function(l,c,u,f,d,h){for(var y=0,v="",_=[],w=[],T=0,E=0,k=0,A="",C,S,I=0,b=0,N,O,R=0,D=0,J=Array.isArray(h.CellXf),X,te=[],Z=[],ee=Array.isArray(c),z=[],ie={},me=!1,U=!!u.sheetStubs,q=l.split(e),Y=0,K=q.length;Y!=K;++Y){v=q[Y].trim();var de=v.length;if(de!==0){var xe=0;e:for(y=0;y<de;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(S=We(v.slice(xe,y),!0),I=S.r!=null?parseInt(S.r,10):I+1,b=-1,u.sheetRows&&u.sheetRows<I)continue;ie={},me=!1,S.ht&&(me=!0,ie.hpt=parseFloat(S.ht),ie.hpx=o0(ie.hpt)),S.hidden=="1"&&(me=!0,ie.hidden=!0),S.outlineLevel!=null&&(me=!0,ie.level=+S.outlineLevel),me&&(z[I-1]=ie)}break;case"<":xe=y;break}if(xe>=y)break;if(S=We(v.slice(xe,y),!0),I=S.r!=null?parseInt(S.r,10):I+1,b=-1,!(u.sheetRows&&u.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),u&&u.cellStyles&&(ie={},me=!1,S.ht&&(me=!0,ie.hpt=parseFloat(S.ht),ie.hpx=o0(ie.hpt)),S.hidden=="1"&&(me=!0,ie.hidden=!0),S.outlineLevel!=null&&(me=!0,ie.level=+S.outlineLevel),me&&(z[I-1]=ie)),_=v.slice(y).split(t);for(var be=0;be!=_.length&&_[be].trim().charAt(0)=="<";++be);for(_=_.slice(be),y=0;y!=_.length;++y)if(v=_[y].trim(),v.length!==0){if(w=v.match(r),T=y,E=0,k=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,w!=null&&w.length===2){for(T=0,A=w[1],E=0;E!=A.length&&!((k=A.charCodeAt(E)-64)<1||k>26);++E)T=26*T+k;--T,b=T}else++b;for(E=0;E!=v.length&&v.charCodeAt(E)!==62;++E);if(++E,S=We(v.slice(0,E),!0),S.r||(S.r=Qe({r:I-1,c:b})),A=v.slice(E),C={t:""},(w=A.match(a))!=null&&w[1]!==""&&(C.v=mt(w[1])),u.cellFormula){if((w=A.match(s))!=null&&w[1]!==""){if(C.f=mt(Ft(w[1])).replace(/\r\n/g,`
`),u.xlfn||(C.f=FO(C.f)),w[0].indexOf('t="array"')>-1)C.F=(A.match(i)||[])[1],C.F.indexOf(":")>-1&&te.push([cr(C.F),C.F]);else if(w[0].indexOf('t="shared"')>-1){O=We(w[0]);var oe=mt(Ft(w[1]));u.xlfn||(oe=FO(oe)),Z[parseInt(O.si,10)]=[O,oe,S.r]}}else(w=A.match(/<f[^>]*\/>/))&&(O=We(w[0]),Z[O.si]&&(C.f=cAe(Z[O.si][1],Z[O.si][2],S.r)));var ue=Mn(S.r);for(E=0;E<te.length;++E)ue.r>=te[E][0].s.r&&ue.r<=te[E][0].e.r&&ue.c>=te[E][0].s.c&&ue.c<=te[E][0].e.c&&(C.F=te[E][1])}if(S.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(U)C.t="z";else continue;else C.t=S.t||"n";switch(f.s.c>b&&(f.s.c=b),f.e.c<b&&(f.e.c=b),C.t){case"n":if(C.v==""||C.v==null){if(!U)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!U)continue;C.t="z"}else N=Gd[parseInt(C.v,10)],C.v=N.t,C.r=N.r,u.cellHTML&&(C.h=N.h);break;case"str":C.t="s",C.v=C.v!=null?Ft(C.v):"",u.cellHTML&&(C.h=kA(C.v));break;case"inlineStr":w=A.match(n),C.t="s",w!=null&&(N=$A(w[1]))?(C.v=N.t,u.cellHTML&&(C.h=N.h)):C.v="";break;case"b":C.v=Wt(C.v);break;case"d":u.cellDates?C.v=jr(C.v,1):(C.v=$n(jr(C.v,1)),C.t="n");break;case"e":(!u||u.cellText!==!1)&&(C.w=C.v),C.v=N$[C.v];break}if(R=D=0,X=null,J&&S.s!==void 0&&(X=h.CellXf[S.s],X!=null&&(X.numFmtId!=null&&(R=X.numFmtId),u.cellStyles&&X.fillId!=null&&(D=X.fillId))),cB(C,R,D,u,d,h),u.cellDates&&J&&C.t=="n"&&Tf(rt[R])&&(C.t="d",C.v=sx(C.v)),S.cm&&u.xlmeta){var Ie=(u.xlmeta.Cell||[])[+S.cm-1];Ie&&Ie.type=="XLDAPR"&&(C.D=!0)}if(ee){var L=Mn(S.r);c[L.r]||(c[L.r]=[]),c[L.r][L.c]=C}else c[S.r]=C}}}}z.length>0&&(c["!rows"]=z)}}();function Z2e(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var eCe=ic;function tCe(){}function rCe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=SEe(t),r}function nCe(t){var e=ji(t);return[e]}function iCe(t){var e=nc(t);return[e]}function aCe(t){var e=ji(t),r=t.read_shift(1);return[e,r,"b"]}function sCe(t){var e=nc(t),r=t.read_shift(1);return[e,r,"b"]}function oCe(t){var e=ji(t),r=t.read_shift(1);return[e,r,"e"]}function lCe(t){var e=nc(t),r=t.read_shift(1);return[e,r,"e"]}function cCe(t){var e=ji(t),r=t.read_shift(4);return[e,r,"s"]}function uCe(t){var e=nc(t),r=t.read_shift(4);return[e,r,"s"]}function fCe(t){var e=ji(t),r=_n(t);return[e,r,"n"]}function fB(t){var e=nc(t),r=_n(t);return[e,r,"n"]}function dCe(t){var e=ji(t),r=FA(t);return[e,r,"n"]}function hCe(t){var e=nc(t),r=FA(t);return[e,r,"n"]}function pCe(t){var e=ji(t),r=MA(t);return[e,r,"is"]}function mCe(t){var e=ji(t),r=Tn(t);return[e,r,"str"]}function gCe(t){var e=nc(t),r=Tn(t);return[e,r,"str"]}function vCe(t,e,r){var n=t.l+e,i=ji(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var o=cx(t,n-t.l,r);s[3]=mn(o,null,i,r.supbooks,r)}else t.l=n;return s}function yCe(t,e,r){var n=t.l+e,i=ji(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var o=cx(t,n-t.l,r);s[3]=mn(o,null,i,r.supbooks,r)}else t.l=n;return s}function xCe(t,e,r){var n=t.l+e,i=ji(t);i.r=r["!row"];var a=_n(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var o=cx(t,n-t.l,r);s[3]=mn(o,null,i,r.supbooks,r)}else t.l=n;return s}function _Ce(t,e,r){var n=t.l+e,i=ji(t);i.r=r["!row"];var a=Tn(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var o=cx(t,n-t.l,r);s[3]=mn(o,null,i,r.supbooks,r)}else t.l=n;return s}var wCe=ic;function ECe(t,e){var r=t.l+e,n=ic(t),i=DA(t),a=Tn(t),s=Tn(t),o=Tn(t);t.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function TCe(){}function SCe(t,e,r){var n=t.l+e,i=I$(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=k2e(t,n-t.l,r);s[1]=o}else t.l=n;return s}function bCe(t,e,r){var n=t.l+e,i=ic(t),a=[i];if(r.cellFormula){var s=N2e(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}var ACe=["left","right","top","bottom","header","footer"];function CCe(t){var e={};return ACe.forEach(function(r){e[r]=_n(t)}),e}function ICe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function kCe(){}function PCe(){}function NCe(t,e,r,n,i,a,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,y,v,_,w,T,E,k,A,C=[];o.biff=12,o["!row"]=0;var S=0,I=!1,b=[],N={},O=o.supbooks||i.supbooks||[[]];if(O.sharedf=N,O.arrayf=b,O.SheetNames=i.SheetNames||i.Sheets.map(function(ee){return ee.name}),!o.supbooks&&(o.supbooks=O,i.Names))for(var R=0;R<i.Names.length;++R)O[0][R+1]=i.Names[R];var D=[],J=[],X=!1;Tv[16]={n:"BrtShortReal",f:fB};var te;if(Ms(t,function(z,ie,me){if(!d)switch(me){case 148:c=z;break;case 0:h=z,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),k=nn(_=h.r),o["!row"]=h.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=o0(z.hpt)),J[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:z[2]},z[2]){case"n":y.v=z[1];break;case"s":E=Gd[z[1]],y.v=E.t,y.r=E.r;break;case"b":y.v=!!z[1];break;case"e":y.v=z[1],o.cellText!==!1&&(y.w=ac[y.v]);break;case"str":y.t="s",y.v=z[1];break;case"is":y.t="s",y.v=z[1].t;break}if((v=s.CellXf[z[0].iStyleRef])&&cB(y,v.numFmtId,null,o,a,s),w=z[0].c==-1?w+1:z[0].c,o.dense?(l[_]||(l[_]=[]),l[_][w]=y):l[kr(w)+k]=y,o.cellFormula){for(I=!1,S=0;S<b.length;++S){var U=b[S];h.r>=U[0].s.r&&h.r<=U[0].e.r&&w>=U[0].s.c&&w<=U[0].e.c&&(y.F=ht(U[0]),I=!0)}!I&&z.length>3&&(y.f=z[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>w&&(u.s.c=w),u.e.r<h.r&&(u.e.r=h.r),u.e.c<w&&(u.e.c=w),o.cellDates&&v&&y.t=="n"&&Tf(rt[v.numFmtId])){var q=ml(y.v);q&&(y.t="d",y.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}te&&(te.type=="XLDAPR"&&(y.D=!0),te=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;y={t:"z",v:void 0},w=z[0].c==-1?w+1:z[0].c,o.dense?(l[_]||(l[_]=[]),l[_][w]=y):l[kr(w)+k]=y,u.s.r>h.r&&(u.s.r=h.r),u.s.c>w&&(u.s.c=w),u.e.r<h.r&&(u.e.r=h.r),u.e.c<w&&(u.e.c=w),te&&(te.type=="XLDAPR"&&(y.D=!0),te=void 0);break;case 176:C.push(z);break;case 49:te=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var Y=n["!id"][z.relId];for(Y?(z.Target=Y.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=Y):z.relId==""&&(z.Target="#"+z.loc),_=z.rfx.s.r;_<=z.rfx.e.r;++_)for(w=z.rfx.s.c;w<=z.rfx.e.c;++w)o.dense?(l[_]||(l[_]=[]),l[_][w]||(l[_][w]={t:"z",v:void 0}),l[_][w].l=z):(T=Qe({c:w,r:_}),l[T]||(l[T]={t:"z",v:void 0}),l[T].l=z);break;case 426:if(!o.cellFormula)break;b.push(z),A=o.dense?l[_][w]:l[kr(w)+k],A.f=mn(z[1],u,{r:h.r,c:w},O,o),A.F=ht(z[0]);break;case 427:if(!o.cellFormula)break;N[Qe(z[0].s)]=z[1],A=o.dense?l[_][w]:l[kr(w)+k],A.f=mn(z[1],u,{r:h.r,c:w},O,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)D[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},X||(X=!0,BA(z.w/256)),Ju(D[z.e+1]);break;case 161:l["!autofilter"]={ref:ht(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),z.name&&(i.Sheets[r].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ie.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+me.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=ht(c||u)),o.sheetRows&&l["!ref"]){var Z=cr(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>u.e.r&&(Z.e.r=u.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>u.e.c&&(Z.e.c=u.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ht(Z))}return C.length>0&&(l["!merges"]=C),D.length>0&&(l["!cols"]=D),J.length>0&&(l["!rows"]=J),l}function RCe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var i=mt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function OCe(t,e,r,n,i,a){var s=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=RCe(f);u.s.r=u.s.c=0,u.e.c=o,c=kr(o),d[0].forEach(function(h,y){s[c+nn(y)]={t:"n",v:h,z:d[1]},l=y}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=ht(u)),s}function MCe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(uB);return o&&jA(o[0],a,i,r),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function DCe(t,e){t.l+=10;var r=Tn(t);return{name:r}}function FCe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Ms(t,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var dB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],LCe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],UCe=[],$Ce=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function VO(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Wt(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function jO(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Wt(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function hB(t){jO(t.WBProps,dB),jO(t.CalcPr,$Ce),VO(t.WBView,LCe),VO(t.Sheets,UCe),ou.date1904=Wt(t.WBProps.date1904)}var BCe="][*?/\\".split("");function VCe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return BCe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var jCe=/<\w+:workbook/;function GCe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(t.replace(Cn,function(l,c){var u=We(l);switch($a(u[0])){case"<?xml":break;case"<workbook":l.match(jCe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":dB.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Wt(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Ft(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=mt(Ft(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Ft(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),Wt(u.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=mt(Ft(t.slice(s,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),oEe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return hB(r),r}function HCe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=VE(t),r.name=Tn(t),r}function zCe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Tn(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function WCe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function qCe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=bEe(t),s=P2e(t,0,r),o=DA(t);t.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function KCe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],Tv[16]={n:"BrtFRTArchID$",f:WCe},Ms(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=mn(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),hB(r),r.Names=a,r.supbooks=s,r}function XCe(t,e,r){return e.slice(-4)===".bin"?KCe(t,r):GCe(t,r)}function YCe(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?NCe(t,n,r,i,a,s,o):H2e(t,n,r,i,a,s,o)}function JCe(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?FCe(t,n,r,i,a):MCe(t,n,r,i,a)}function QCe(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?sAe():oAe()}function ZCe(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?iAe():aAe()}function eIe(t,e,r,n){return e.slice(-4)===".bin"?wbe(t,r,n):mbe(t,r,n)}function tIe(t,e,r){return Z$(t,r)}function rIe(t,e,r){return e.slice(-4)===".bin"?LSe(t,r):DSe(t,r)}function nIe(t,e,r){return e.slice(-4)===".bin"?tAe(t,r):Ybe(t,r)}function iIe(t,e,r){return e.slice(-4)===".bin"?qbe(t):zbe(t)}function aIe(t,e,r,n){return r.slice(-4)===".bin"?Kbe(t,e,r,n):void 0}function sIe(t,e,r){return e.slice(-4)===".bin"?Gbe(t,e,r):Hbe(t,e,r)}var pB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,mB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qi(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(pB),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(mB),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function oIe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(pB),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(mB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var zd;function lIe(t,e){var r=zd[t]||mt(t);return r==="General"?jl(e):Ui(r,e)}function cIe(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Wt(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=jr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[mt(e)]=i}function uIe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||ac[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=r0(t.v):t.w=jl(t.v):t.w=lIe(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=zd[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Tf(n)){var i=ml(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function fIe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=cbe[n.Pattern]||n.Pattern)}t[e.ID]=e}function dIe(t,e,r,n,i,a,s,o,l,c){var u="General",f=n.StyleID,d={};c=c||{};var h=[],y=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Wt(t);break;case"String":n.t="s",n.r=uO(mt(t)),n.v=t.indexOf("<")>-1?mt(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(jr(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=mt(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=N$[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=uO(e||t));break}if(uIe(n,u,c),c.cellFormula!==!1)if(n.Formula){var v=mt(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=su(v,i),delete n.Formula,n.ArrayRange=="RC"?n.F=su("RC:RC",i):n.ArrayRange&&(n.F=su(n.ArrayRange,i),l.push([cr(n.F),n.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(n.F=l[y][1]);c.cellStyles&&(h.forEach(function(_){!d.patternType&&_.patternType&&(d.patternType=_.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function hIe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function W1(t,e){var r=e||{};n$();var n=pd(PA(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Ft(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=rn(r);return s.type="string",a0.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ut){i.indexOf("<"+ut)>=0&&(a=!0)}),a)return EIe(n,r);zd={"General Number":"General","General Date":rt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":rt[15],"Short Date":rt[14],"Long Time":rt[19],"Medium Time":rt[18],"Short Time":rt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:rt[2],Standard:rt[4],Percent:rt[10],Scientific:rt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],d=r.dense?[]:{},h="",y={},v={},_=qi('<Data ss:Type="String">'),w=0,T=0,E=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},C={},S="",I=0,b=[],N={},O={},R=0,D=[],J=[],X={},te=[],Z,ee=!1,z=[],ie=[],me={},U=0,q=0,Y={Sheets:[],WBProps:{date1904:!1}},K={};i0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";o=i0.exec(n);)switch(o[3]=(de=o[3]).toLowerCase()){case"data":if(de=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?dIe(n.slice(w,o.index),S,_,l[l.length-1][0]=="comment"?X:y,{c:T,r:E},A,te[T],v,z,r):(S="",_=qi(o[0]),w=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(J.length>0&&(y.c=J),(!r.sheetRows||r.sheetRows>E)&&y.v!==void 0&&(r.dense?(d[E]||(d[E]=[]),d[E][T]=y):d[kr(T)+nn(E)]=y),y.HRef&&(y.l={Target:mt(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(U=T+(parseInt(y.MergeAcross,10)|0),q=E+(parseInt(y.MergeDown,10)|0),b.push({s:{c:T,r:E},e:{c:U,r:q}})),!r.sheetStubs)y.MergeAcross?T=U+1:++T;else if(y.MergeAcross||y.MergeDown){for(var xe=T;xe<=U;++xe)for(var be=E;be<=q;++be)(xe>T||be>E)&&(r.dense?(d[be]||(d[be]=[]),d[be][xe]={t:"z"}):d[kr(xe)+nn(be)]={t:"z"});T=U+1}else++T;else y=oIe(o[0]),y.Index&&(T=+y.Index-1),T<k.s.c&&(k.s.c=T),T>k.e.c&&(k.e.c=T),o[0].slice(-2)==="/>"&&++T,J=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(E<k.s.r&&(k.s.r=E),E>k.e.r&&(k.e.r=E),o[0].slice(-2)==="/>"&&(v=qi(o[0]),v.Index&&(E=+v.Index-1)),T=0,++E):(v=qi(o[0]),v.Index&&(E=+v.Index-1),me={},(v.AutoFitHeight=="0"||v.Height)&&(me.hpx=parseInt(v.Height,10),me.hpt=Q$(me.hpx),ie[E]=me),v.Hidden=="1"&&(me.hidden=!0,ie[E]=me));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(h),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(d["!ref"]=ht(k),r.sheetRows&&r.sheetRows<=k.e.r&&(d["!fullref"]=d["!ref"],k.e.r=r.sheetRows-1,d["!ref"]=ht(k))),b.length&&(d["!merges"]=b),te.length>0&&(d["!cols"]=te),ie.length>0&&(d["!rows"]=ie),u[h]=d}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=T=0,l.push([o[3],!1]),c=qi(o[0]),h=mt(c.Name),d=r.dense?[]:{},b=[],z=[],ie=[],K={name:h,Hidden:0},Y.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),te=[],ee=!1}break;case"style":o[1]==="/"?fIe(A,C,r):C=qi(o[0]);break;case"numberformat":C.nf=mt(qi(o[0]).Format||"General"),zd[C.nf]&&(C.nf=zd[C.nf]);for(var oe=0;oe!=392&&rt[oe]!=C.nf;++oe);if(oe==392){for(oe=57;oe!=392;++oe)if(rt[oe]==null){Sl(C.nf,oe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=qi(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!ee&&Z.wpx>10){ee=!0,Rn=Y$;for(var ue=0;ue<te.length;++ue)te[ue]&&Ju(te[ue])}ee&&Ju(Z),te[Z.Index-1||te.length]=Z;for(var Ie=0;Ie<+Z.Span;++Ie)te[te.length]=rn(Z);break;case"namedrange":if(o[1]==="/")break;Y.Names||(Y.Names=[]);var L=We(o[0]),He={Name:L.Name,Ref:su(L.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(He.Sheet=Y.Sheets.length-1),Y.Names.push(He);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=qi(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?YEe(N,de,n.slice(R,o.index)):R=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));hIe(X),J.push(X)}else l.push([o[3],!1]),c=qi(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Me=qi(o[0]);d["!autofilter"]={ref:su(Me.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return KO(n,r);var Ge=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ge=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ge=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ge=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ge=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(R,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else R=o.index+o[0].length;break;case"header":d["!margins"]||Hd(d["!margins"]={},"xlml"),isNaN(+We(o[0]).Margin)||(d["!margins"].header=+We(o[0]).Margin);break;case"footer":d["!margins"]||Hd(d["!margins"]={},"xlml"),isNaN(+We(o[0]).Margin)||(d["!margins"].footer=+We(o[0]).Margin);break;case"pagemargins":var Be=We(o[0]);d["!margins"]||Hd(d["!margins"]={},"xlml"),isNaN(+Be.Top)||(d["!margins"].top=+Be.Top),isNaN(+Be.Left)||(d["!margins"].left=+Be.Left),isNaN(+Be.Right)||(d["!margins"].right=+Be.Right),isNaN(+Be.Bottom)||(d["!margins"].bottom=+Be.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ge=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ge=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ge=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ge=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ge=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ge=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ge=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ge=!1}break;case"smarttags":break;default:Ge=!1;break}if(Ge||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?cIe(O,de,D,n.slice(R,o.index)):(D=o,R=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var we={};return!r.bookSheets&&!r.bookProps&&(we.Sheets=u),we.SheetNames=f,we.Workbook=Y,we.SSF=rn(rt),we.Props=N,we.Custprops=O,we}function zE(t,e){switch(zA(e=e||{}),e.type||"base64"){case"base64":return W1(pi(t),e);case"binary":case"buffer":case"file":return W1(t,e);case"array":return W1(rc(t),e)}}function pIe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=IEe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=kEe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var mIe=[60,1084,2066,2165,2175];function gIe(t,e,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var l=as(r,r.l),c=WE[l],u=0;c!=null&&mIe.indexOf(l)>-1;)a=as(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+a),s.push(o),r.l+=4+a,c=WE[l=as(r,r.l)];var f=to(s);Jr(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function xa(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=rt[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||ac[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=r0(t.v):t.w=jl(t.v):t.w=Ui(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&Tf(rt[n]||String(n))){var i=ml(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Kp(t,e,r){return{v:t,ixfe:e,t:r}}function vIe(t,e){var r={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],c="",u={},f,d="",h,y,v,_,w={},T=[],E,k,A=[],C=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},b=function(et){return et<8?bl[et]:et<64&&C[et-8]||bl[et]},N=function(et,Lt,pr){var Ht=Lt.XF.data;if(!(!Ht||!Ht.patternType||!pr||!pr.cellStyles)){Lt.s={},Lt.s.patternType=Ht.patternType;var vi;(vi=s0(b(Ht.icvFore)))&&(Lt.s.fgColor={rgb:vi}),(vi=s0(b(Ht.icvBack)))&&(Lt.s.bgColor={rgb:vi})}},O=function(et,Lt,pr){if(!(me>1)&&!(pr.sheetRows&&et.r>=pr.sheetRows)){if(pr.cellStyles&&Lt.XF&&Lt.XF.data&&N(et,Lt,pr),delete Lt.ixfe,delete Lt.XF,f=et,d=Qe(et),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),et.r<s.s.r&&(s.s.r=et.r),et.c<s.s.c&&(s.s.c=et.c),et.r+1>s.e.r&&(s.e.r=et.r+1),et.c+1>s.e.c&&(s.e.c=et.c+1),pr.cellFormula&&Lt.f){for(var Ht=0;Ht<T.length;++Ht)if(!(T[Ht][0].s.c>et.c||T[Ht][0].s.r>et.r)&&!(T[Ht][0].e.c<et.c||T[Ht][0].e.r<et.r)){Lt.F=ht(T[Ht][0]),(T[Ht][0].s.c!=et.c||T[Ht][0].s.r!=et.r)&&delete Lt.f,Lt.f&&(Lt.f=""+mn(T[Ht][1],s,et,z,R));break}}pr.dense?(i[et.r]||(i[et.r]=[]),i[et.r][et.c]=Lt):i[d]=Lt}},R={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:T,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(R.password=e.password);var D,J=[],X=[],te=[],Z=[],ee=!1,z=[];z.SheetNames=R.snames,z.sharedf=R.sharedf,z.arrayf=R.arrayf,z.names=[],z.XTI=[];var ie=0,me=0,U=0,q=[],Y=[],K;R.codepage=1200,ra(1200);for(var de=!1;t.l<t.length-1;){var xe=t.l,be=t.read_shift(2);if(be===0&&ie===10)break;var oe=t.l===t.length?0:t.read_shift(2),ue=WE[be];if(ue&&ue.f){if(e.bookSheets&&ie===133&&be!==133)break;if(ie=be,ue.r===2||ue.r==12){var Ie=t.read_shift(2);if(oe-=2,!R.enc&&Ie!==be&&((Ie&255)<<8|Ie>>8)!==be)throw new Error("rt mismatch: "+Ie+"!="+be);ue.r==12&&(t.l+=10,oe-=10)}var L={};if(be===10?L=ue.f(t,oe,R):L=gIe(be,ue,t,oe,R),me==0&&[9,521,1033,2057].indexOf(ie)===-1)continue;switch(be){case 34:r.opts.Date1904=S.WBProps.date1904=L;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(R.enc||(t.l=0),R.enc=L,!e.password)throw new Error("File is password-protected");if(L.valid==null)throw new Error("Encryption scheme unsupported");if(!L.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=L;break;case 66:var He=Number(L);switch(He){case 21010:He=1200;break;case 32768:He=1e4;break;case 32769:He=1252;break}ra(R.codepage=He),de=!0;break;case 317:R.rrtabid=L;break;case 25:R.winlocked=L;break;case 439:r.opts.RefreshAll=L;break;case 12:r.opts.CalcCount=L;break;case 16:r.opts.CalcDelta=L;break;case 17:r.opts.CalcIter=L;break;case 13:r.opts.CalcMode=L;break;case 14:r.opts.CalcPrecision=L;break;case 95:r.opts.CalcSaveRecalc=L;break;case 15:R.CalcRefMode=L;break;case 2211:r.opts.FullCalc=L;break;case 129:L.fDialog&&(i["!type"]="dialog"),L.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),L.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:A.push(L);break;case 430:z.push([L]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(L);break;case 24:case 536:K={Name:L.Name,Ref:mn(L.rgce,s,null,z,R)},L.itab>0&&(K.Sheet=L.itab-1),z.names.push(K),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(L),L.Name=="_xlnm._FilterDatabase"&&L.itab>0&&L.rgce&&L.rgce[0]&&L.rgce[0][0]&&L.rgce[0][0][0]=="PtgArea3d"&&(Y[L.itab-1]={ref:ht(L.rgce[0][0][1][2])});break;case 22:R.ExternCount=L;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(L),z.XTI=z.XTI.concat(L);break;case 2196:if(R.biff<8)break;K!=null&&(K.Comment=L[1]);break;case 18:i["!protect"]=L;break;case 19:L!==0&&R.WTF&&console.error("Password verifier: "+L);break;case 133:a[L.pos]=L,R.snames.push(L.name);break;case 10:{if(--me)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=ht(s),e.sheetRows&&e.sheetRows<=s.e.r){var Me=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ht(s),s.e.r=Me}s.e.r++,s.e.c++}J.length>0&&(i["!merges"]=J),X.length>0&&(i["!objects"]=X),te.length>0&&(i["!cols"]=te),Z.length>0&&(i["!rows"]=Z),S.Sheets.push(I)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[be]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[L.BIFFVer]||8),R.biffguess=L.BIFFVer==0,L.BIFFVer==0&&L.dt==4096&&(R.biff=5,de=!0,ra(R.codepage=28591)),R.biff==8&&L.BIFFVer==0&&L.dt==16&&(R.biff=2),me++)break;if(i=e.dense?[]:{},R.biff<8&&!de&&(de=!0,ra(R.codepage=e.codepage||1252)),R.biff<5||L.BIFFVer==0&&L.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ge={pos:t.l-oe,name:c};a[Ge.pos]=Ge,R.snames.push(c)}else c=(a[xe]||{name:""}).name;L.dt==32&&(i["!type"]="chart"),L.dt==64&&(i["!type"]="macro"),J=[],X=[],R.arrayf=T=[],te=[],Z=[],ee=!1,I={Hidden:(a[xe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[L.r]||[])[L.c]:i[Qe({c:L.c,r:L.r})])&&++L.c,E={ixfe:L.ixfe,XF:A[L.ixfe]||{},v:L.val,t:"n"},U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:L.c,r:L.r},E,e);break;case 5:case 517:E={ixfe:L.ixfe,XF:A[L.ixfe],v:L.val,t:L.t},U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:L.c,r:L.r},E,e);break;case 638:E={ixfe:L.ixfe,XF:A[L.ixfe],v:L.rknum,t:"n"},U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:L.c,r:L.r},E,e);break;case 189:for(var Be=L.c;Be<=L.C;++Be){var we=L.rkrec[Be-L.c][0];E={ixfe:we,XF:A[we],v:L.rkrec[Be-L.c][1],t:"n"},U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:Be,r:L.r},E,e)}break;case 6:case 518:case 1030:{if(L.val=="String"){o=L;break}if(E=Kp(L.val,L.cell.ixfe,L.tt),E.XF=A[E.ixfe],e.cellFormula){var ut=L.formula;if(ut&&ut[0]&&ut[0][0]&&ut[0][0][0]=="PtgExp"){var Gt=ut[0][0][1][0],ur=ut[0][0][1][1],rr=Qe({r:Gt,c:ur});w[rr]?E.f=""+mn(L.formula,s,L.cell,z,R):E.F=((e.dense?(i[Gt]||[])[ur]:i[rr])||{}).F}else E.f=""+mn(L.formula,s,L.cell,z,R)}U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O(L.cell,E,e),o=L}break;case 7:case 519:if(o)o.val=L,E=Kp(L,o.cell.ixfe,"s"),E.XF=A[E.ixfe],e.cellFormula&&(E.f=""+mn(o.formula,s,o.cell,z,R)),U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O(o.cell,E,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{T.push(L);var zr=Qe(L[0].s);if(h=e.dense?(i[L[0].s.r]||[])[L[0].s.c]:i[zr],e.cellFormula&&h){if(!o||!zr||!h)break;h.f=""+mn(L[1],s,L[0],z,R),h.F=ht(L[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;w[Qe(o.cell)]=L[0],h=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Qe(o.cell)],(h||{}).f=""+mn(L[0],s,f,z,R)}}break;case 253:E=Kp(l[L.isst].t,L.ixfe,"s"),l[L.isst].h&&(E.h=l[L.isst].h),E.XF=A[E.ixfe],U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:L.c,r:L.r},E,e);break;case 513:e.sheetStubs&&(E={ixfe:L.ixfe,XF:A[L.ixfe],t:"z"},U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:L.c,r:L.r},E,e));break;case 190:if(e.sheetStubs)for(var Mr=L.c;Mr<=L.C;++Mr){var nr=L.ixfe[Mr-L.c];E={ixfe:nr,XF:A[nr],t:"z"},U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:Mr,r:L.r},E,e)}break;case 214:case 516:case 4:E=Kp(L.val,L.ixfe,"s"),E.XF=A[E.ixfe],U>0&&(E.z=q[E.ixfe>>8&63]),xa(E,e,r.opts.Date1904),O({c:L.c,r:L.r},E,e);break;case 0:case 512:me===1&&(s=L);break;case 252:l=L;break;case 1054:if(R.biff==4){q[U++]=L[1];for(var Wr=0;Wr<U+163&&rt[Wr]!=L[1];++Wr);Wr>=163&&Sl(L[1],U+163)}else Sl(L[1],L[0]);break;case 30:{q[U++]=L;for(var It=0;It<U+163&&rt[It]!=L;++It);It>=163&&Sl(L,U+163)}break;case 229:J=J.concat(L);break;case 93:X[L.cmo[0]]=R.lastobj=L;break;case 438:R.lastobj.TxO=L;break;case 127:R.lastobj.ImData=L;break;case 440:for(_=L[0].s.r;_<=L[0].e.r;++_)for(v=L[0].s.c;v<=L[0].e.c;++v)h=e.dense?(i[_]||[])[v]:i[Qe({c:v,r:_})],h&&(h.l=L[1]);break;case 2048:for(_=L[0].s.r;_<=L[0].e.r;++_)for(v=L[0].s.c;v<=L[0].e.c;++v)h=e.dense?(i[_]||[])[v]:i[Qe({c:v,r:_})],h&&h.l&&(h.l.Tooltip=L[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;h=e.dense?(i[L[0].r]||[])[L[0].c]:i[Qe(L[0])];var Xt=X[L[2]];h||(e.dense?(i[L[0].r]||(i[L[0].r]=[]),h=i[L[0].r][L[0].c]={t:"z"}):h=i[Qe(L[0])]={t:"z"},s.e.r=Math.max(s.e.r,L[0].r),s.s.r=Math.min(s.s.r,L[0].r),s.e.c=Math.max(s.e.c,L[0].c),s.s.c=Math.min(s.s.c,L[0].c)),h.c||(h.c=[]),y={a:L[1],t:Xt.TxO.t},h.c.push(y)}break;case 2173:$be(A[L.ixfe],L.ext);break;case 125:{if(!R.cellStyles)break;for(;L.e>=L.s;)te[L.e--]={width:L.w/256,level:L.level||0,hidden:!!(L.flags&1)},ee||(ee=!0,BA(L.w/256)),Ju(te[L.e+1])}break;case 520:{var ir={};L.level!=null&&(Z[L.r]=ir,ir.level=L.level),L.hidden&&(Z[L.r]=ir,ir.hidden=!0),L.hpt&&(Z[L.r]=ir,ir.hpt=L.hpt,ir.hpx=o0(L.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Hd(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[be]]=L;break;case 161:i["!margins"]||Hd(i["!margins"]={}),i["!margins"].header=L.header,i["!margins"].footer=L.footer;break;case 574:L.RTL&&(S.Views[0].RTL=!0);break;case 146:C=L;break;case 2198:D=L;break;case 140:k=L;break;case 442:c?I.CodeName=L||I.name:S.WBProps.CodeName=L||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+be.toString(16)),t.l+=oe}return r.SheetNames=Fa(a).sort(function(In,et){return Number(In)-Number(et)}).map(function(In){return a[In].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&Y.forEach(function(In,et){r.Sheets[r.SheetNames[et]]["!autofilter"]=In}),r.Strings=l,r.SSF=rn(rt),R.enc&&(r.Encryption=R.enc),D&&(r.Themes=D),r.Metadata={},k!==void 0&&(r.Metadata.Country=k),z.names.length>0&&(S.Names=z.names),r.Workbook=S,r}var GO={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function yIe(t,e,r){var n=dt.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=AO(n,DEe,GO.DSI);for(var a in i)e[a]=i[a]}catch(c){if(r.WTF)throw c}var s=dt.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=AO(s,FEe,GO.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(O$(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function gB(t,e){e||(e={}),zA(e),zU(),e.codepage&&TA(e.codepage);var r,n;if(t.FullPaths){if(dt.find(t,"/encryption"))throw new Error("File is password-protected");r=dt.find(t,"!CompObj"),n=dt.find(t,"/Workbook")||dt.find(t,"/Book")}else{switch(e.type){case"base64":t=ea(pi(t));break;case"binary":t=ea(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Jr(t,0),n={content:t}}var i,a;if(r&&pIe(r),e.bookProps&&!e.bookSheets)i={};else{var s=ct?"buffer":"array";if(n&&n.content)i=vIe(n.content,e);else if((a=dt.find(t,"PerfectOffice_MAIN"))&&a.content)i=jd.to_workbook(a.content,(e.type=s,e));else if((a=dt.find(t,"NativeContent_MAIN"))&&a.content)i=jd.to_workbook(a.content,(e.type=s,e));else throw(a=dt.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&dt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=nAe(t))}var o={};return t.FullPaths&&yIe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}var Tv={0:{f:Z2e},1:{f:nCe},2:{f:dCe},3:{f:oCe},4:{f:aCe},5:{f:fCe},6:{f:mCe},7:{f:cCe},8:{f:_Ce},9:{f:xCe},10:{f:vCe},11:{f:yCe},12:{f:iCe},13:{f:hCe},14:{f:lCe},15:{f:sCe},16:{f:fB},17:{f:gCe},18:{f:uCe},19:{f:MA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:qCe},40:{},42:{},43:{f:vbe},44:{f:gbe},45:{f:ybe},46:{f:_be},47:{f:xbe},48:{},49:{f:wEe},50:{},51:{f:Vbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:z$},62:{f:pCe},63:{f:Wbe},64:{f:kCe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:An,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ICe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rCe},148:{f:eCe,p:16},151:{f:TCe},152:{},153:{f:zCe},154:{},155:{},156:{f:HCe},157:{},158:{},159:{T:1,f:FSe},160:{T:-1},161:{T:1,f:ic},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wCe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bbe},336:{T:-1},337:{f:jbe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:VE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:H$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:SCe},427:{f:bCe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:CCe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tCe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ECe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:VE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eAe},633:{T:1},634:{T:-1},635:{T:1,f:Zbe},636:{T:-1},637:{f:TEe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:DCe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:PCe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},WE={6:{f:H1},10:{f:Hs},12:{f:xr},13:{f:xr},14:{f:fr},15:{f:fr},16:{f:_n},17:{f:fr},18:{f:fr},19:{f:xr},20:{f:PO},21:{f:PO},23:{f:H$},24:{f:RO},25:{f:fr},26:{},27:{},28:{f:JTe},29:{},34:{f:fr},35:{f:NO},38:{f:_n},39:{f:_n},40:{f:_n},41:{f:_n},42:{f:fr},43:{f:fr},47:{f:tbe},49:{f:RTe},51:{f:xr},60:{},61:{f:kTe},64:{f:fr},65:{f:NTe},66:{f:xr},77:{},80:{},81:{},82:{},85:{f:xr},89:{},90:{},91:{},92:{f:wTe},93:{f:ZTe},94:{},95:{f:fr},96:{},97:{},99:{f:fr},125:{f:z$},128:{f:jTe},129:{f:ETe},130:{f:xr},131:{f:fr},132:{f:fr},133:{f:TTe},134:{},140:{f:aSe},141:{f:xr},144:{},146:{f:oSe},151:{},152:{},153:{},154:{},155:{},156:{f:xr},157:{},158:{},160:{f:dSe},161:{f:cSe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:UTe},190:{f:$Te},193:{f:Hs},197:{},198:{},199:{},200:{},201:{},202:{f:fr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:xr},220:{},221:{f:fr},222:{},224:{f:VTe},225:{f:_Te},226:{f:Hs},227:{},229:{f:QTe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:STe},253:{f:OTe},255:{f:bTe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:U$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fr},353:{f:Hs},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:HTe},431:{f:fr},432:{},433:{},434:{},437:{},438:{f:rSe},439:{f:fr},440:{f:nSe},441:{},442:{f:j0},443:{},444:{f:xr},445:{},446:{},448:{f:Hs},449:{f:ITe,r:2},450:{f:Hs},512:{f:IO},513:{f:fSe},515:{f:GTe},516:{f:MTe},517:{f:kO},519:{f:hSe},520:{f:ATe},523:{},545:{f:OO},549:{f:CO},566:{},574:{f:PTe},638:{f:LTe},659:{},1048:{},1054:{f:DTe},1084:{},1212:{f:KTe},2048:{f:iSe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Hs},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:lSe,r:12},2173:{f:Ube,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:qTe,r:12},2197:{},2198:{f:Rbe,r:12},2199:{},2200:{},2201:{},2202:{f:XTe,r:12},2203:{f:Hs},2204:{},2205:{},2206:{},2207:{},2211:{f:CTe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:xr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:uSe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:sSe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:IO},1:{},2:{f:vSe},3:{f:gSe},4:{f:mSe},5:{f:kO},7:{f:ySe},8:{},9:{f:zp},11:{},22:{f:xr},30:{f:FTe},31:{},32:{},33:{f:OO},36:{},37:{f:CO},50:{f:xSe},62:{},52:{},67:{},68:{f:xr},69:{},86:{},126:{},127:{f:pSe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_Se},223:{},234:{},354:{},421:{},518:{f:H1},521:{f:zp},536:{f:RO},547:{f:NO},561:{},579:{},1030:{f:H1},1033:{f:zp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ki(t,e,r,n){var i=e;if(!isNaN(i)){var a=(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&b$(r)&&t.push(r)}}function HO(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,o=a&&a.index||t.length,l=Gwe(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(s=0;s<l.length;++s){var v=l[s].trim(),_=v.slice(0,3).toLowerCase();if(_=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(_!="<td"&&_!="<th")){var w=v.split(/<\/t[dh]>/i);for(o=0;o<w.length;++o){var T=w[o].trim();if(T.match(/<t[dh]/i)){for(var E=T,k=0;E.charAt(0)=="<"&&(k=E.indexOf(">"))>-1;)E=E.slice(k+1);for(var A=0;A<y.length;++A){var C=y[A];C.s.c==u&&C.s.r<c&&c<=C.e.r&&(u=C.e.c+1,A=-1)}var S=We(T.slice(0,T.indexOf(">")));d=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||d>1)&&y.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var I=S.t||S["data-t"]||"";if(!E.length){u+=d;continue}if(E=d$(E),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!E.length){u+=d;continue}var b={t:"s",v:E};r.raw||!E.trim().length||I=="s"||(E==="TRUE"?b={t:"b",v:!0}:E==="FALSE"?b={t:"b",v:!1}:isNaN(la(E))?isNaN(Yu(E).getDate())||(b={t:"d",v:jr(E)},r.cellDates||(b={t:"n",v:$n(b.v)}),b.z=r.dateNF||rt[14]):b={t:"n",v:la(E)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=b):n[Qe({r:c,c:u})]=b,u+=d}}}}return n["!ref"]=ht(h),y.length&&(n["!merges"]=y),n}function xIe(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Qe({r,c:s}),f=n.dense?(t[r]||[])[s]:t[u],d=f&&f.v!=null&&(f.h||kA(f.w||(Cs(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+u,a.push(aEe("td",d,h))}}var y="<tr>";return y+a.join("")+"</tr>"}var _Ie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wIe="</body></html>";function EIe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Go(HO(r[0],e),e);var n=qA();return r.forEach(function(i,a){KA(n,HO(i,e),"Sheet"+(a+1))}),n}function TIe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function SIe(t,e){var r=e||{},n=r.header!=null?r.header:_Ie,i=r.footer!=null?r.footer:wIe,a=[n],s=Sf(t["!ref"]);r.dense=Array.isArray(t),a.push(TIe(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(xIe(t,s,o,r));return a.push("</table>"+i),a.join("")}function vB(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Mn(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=Sf(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=t["!rows"]||(t["!rows"]=[]),y=0,v=0,_=0,w=0,T=0,E=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&v<l;++y){var k=o[y];if(zO(k)){if(n.display)continue;h[v]={hidden:!0}}var A=k.children;for(_=w=0;_<A.length;++_){var C=A[_];if(!(n.display&&zO(C))){var S=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):d$(C.innerHTML),I=C.getAttribute("data-z")||C.getAttribute("z");for(d=0;d<f.length;++d){var b=f[d];b.s.c==w+a&&b.s.r<v+i&&v+i<=b.e.r&&(w=b.e.c+1-a,d=-1)}E=+C.getAttribute("colspan")||1,((T=+C.getAttribute("rowspan")||1)>1||E>1)&&f.push({s:{r:v+i,c:w+a},e:{r:v+i+(T||1)-1,c:w+a+(E||1)-1}});var N={t:"s",v:S},O=C.getAttribute("data-t")||C.getAttribute("t")||"";S!=null&&(S.length==0?N.t=O||"z":n.raw||S.trim().length==0||O=="s"||(S==="TRUE"?N={t:"b",v:!0}:S==="FALSE"?N={t:"b",v:!1}:isNaN(la(S))?isNaN(Yu(S).getDate())||(N={t:"d",v:jr(S)},n.cellDates||(N={t:"n",v:$n(N.v)}),N.z=n.dateNF||rt[14]):N={t:"n",v:la(S)})),N.z===void 0&&I!=null&&(N.z=I);var R="",D=C.getElementsByTagName("A");if(D&&D.length)for(var J=0;J<D.length&&!(D[J].hasAttribute("href")&&(R=D[J].getAttribute("href"),R.charAt(0)!="#"));++J);R&&R.charAt(0)!="#"&&(N.l={Target:R}),n.dense?(t[v+i]||(t[v+i]=[]),t[v+i][w+a]=N):t[Qe({c:w+a,r:v+i})]=N,c.e.c<w+a&&(c.e.c=w+a),w+=E}}++v}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+i),t["!ref"]=ht(c),v>=l&&(t["!fullref"]=ht((c.e.r=o.length-y+v-1+i,c))),t}function yB(t,e){var r=e||{},n=r.dense?[]:{};return vB(n,t,e)}function bIe(t,e){return Go(yB(t,e),e)}function zO(t){var e="",r=AIe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function AIe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function CIe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=mt(e.replace(/<[^>]*>/g,""));return[r]}var WO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function xB(t,e){var r=e||{},n=PA(t),i=[],a,s,o={name:""},l="",c=0,u,f,d={},h=[],y=r.dense?[]:{},v,_,w={value:""},T="",E=0,k=[],A=-1,C=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,b={},N=[],O={},R=0,D=0,J=[],X=1,te=1,Z=[],ee={Names:[]},z={},ie=["",""],me=[],U={},q="",Y=0,K=!1,de=!1,xe=0;for(i0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=i0.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?y["!ref"]=ht(S):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(y["!fullref"]=y["!ref"],S.e.r=r.sheetRows-1,y["!ref"]=ht(S)),N.length&&(y["!merges"]=N),J.length&&(y["!rows"]=J),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=y,de=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=We(v[0],!1),A=C=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,y=r.dense?[]:{},N=[],J=[],de=!0);break;case"table-row-group":v[1]==="/"?--I:++I;break;case"table-row":case"":if(v[1]==="/"){A+=X,X=1;break}if(f=We(v[0],!1),f.?A=f.-1:A==-1&&(A=0),X=+f["number-rows-repeated"]||1,X<10)for(xe=0;xe<X;++xe)I>0&&(J[A+xe]={level:I});C=-1;break;case"covered-table-cell":v[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(y[A]||(y[A]=[]),y[A][C]={t:"z"}):y[Qe({r:A,c:C})]={t:"z"}),T="",k=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++C,w=We(v[0],!1),te=parseInt(w["number-columns-repeated"]||"1",10),_={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(_.f=BO(mt(w.formula))),(w.||w["value-type"])=="string"&&(_.t="s",_.v=mt(w["string-value"]||""),r.dense?(y[A]||(y[A]=[]),y[A][C]=_):y[Qe({r:A,c:C})]=_),C+=te-1;else if(v[1]!=="/"){++C,T="",E=0,k=[],te=1;var be=X?A+X-1:A;if(C>S.e.c&&(S.e.c=C),C<S.s.c&&(S.s.c=C),A<S.s.r&&(S.s.r=A),be>S.e.r&&(S.e.r=be),w=We(v[0],!1),me=[],U={},_={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=mt(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(R=parseInt(w["number-matrix-rows-spanned"],10)||0,D=parseInt(w["number-matrix-columns-spanned"],10)||0,O={s:{r:A,c:C},e:{r:A+R-1,c:C+D-1}},_.F=ht(O),Z.push([O,_.F])),w.formula)_.f=BO(w.formula);else for(xe=0;xe<Z.length;++xe)A>=Z[xe][0].s.r&&A<=Z[xe][0].e.r&&C>=Z[xe][0].s.c&&C<=Z[xe][0].e.c&&(_.F=Z[xe][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(R=parseInt(w["number-rows-spanned"],10)||0,D=parseInt(w["number-columns-spanned"],10)||0,O={s:{r:A,c:C},e:{r:A+R-1,c:C+D-1}},N.push(O)),w["number-columns-repeated"]&&(te=parseInt(w["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=Wt(w["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(w.value);break;case"percentage":_.t="n",_.v=parseFloat(w.value);break;case"currency":_.t="n",_.v=parseFloat(w.value);break;case"date":_.t="d",_.v=jr(w["date-value"]),r.cellDates||(_.t="n",_.v=$n(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=Bwe(w["time-value"])/86400,r.cellDates&&(_.t="d",_.v=sx(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(w.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",w["string-value"]!=null&&(T=mt(w["string-value"]),k=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(K=!1,_.t==="s"&&(_.v=T||"",k.length&&(_.R=k),K=E==0),z.Target&&(_.l=z),me.length>0&&(_.c=me,me=[]),T&&r.cellText!==!1&&(_.w=T),K&&(_.t="z",delete _.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=A))for(var oe=0;oe<X;++oe){if(te=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(y[A+oe]||(y[A+oe]=[]),y[A+oe][C]=oe==0?_:rn(_);--te>0;)y[A+oe][C+te]=rn(_);else for(y[Qe({r:A+oe,c:C})]=_;--te>0;)y[Qe({r:A+oe,c:C+te})]=rn(_);S.e.c<=C&&(S.e.c=C)}te=parseInt(w["number-columns-repeated"]||"1",10),C+=te-1,te=0,_={},T="",k=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a;U.t=T,k.length&&(U.R=k),U.a=q,me.push(U)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);q="",Y=0,T="",E=0,k=[];break;case"creator":v[1]==="/"?q=n.slice(Y,v.index):Y=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);T="",E=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(b[o.name]=l,(a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=We(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=We(v[0],!1),l+=WO[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=We(v[0],!1),l+=WO[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":s=We(v[0],!1),ie=z1(s["cell-range-address"]);var ue={Name:s.name,Ref:ie[0]+"!"+ie[1]};de&&(ue.Sheet=h.length),ee.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!w||!w["string-value"])){var Ie=CIe(n.slice(E,v.index));T=(T.length>0?T+`
`:"")+Ie[0]}else We(v[0],!1),E=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ie=z1(We(v[0])["target-range-address"]),d[ie[0]]["!autofilter"]={ref:ie[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(z=We(v[0],!1),!z.href)break;z.Target=mt(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(ie=z1(z.Target.slice(1)),z.Target="#"+ie[0]+"!"+ie[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var L={Sheets:d,SheetNames:h,Workbook:ee};return r.bookSheets&&delete L.Sheets,L}function qO(t,e){e=e||{},Si(t,"META-INF/manifest.xml")&&GEe(yr(t,"META-INF/manifest.xml"),e);var r=oi(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=xB(Ft(r),e);return Si(t,"meta.xml")&&(n.Props=R$(yr(t,"meta.xml"))),n}function KO(t,e){return xB(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function GA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qE(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Ft(rc(t))}function KE(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function XO(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function IIe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function l0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Nr(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function wn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=l0(t,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=l0(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function HA(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function kIe(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=l0(t,n),a=wn(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:Nr(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=wn(o.data),c=Nr(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=Nr(a[3][0].data)>>>0>0),r.push(s)}return r}function PIe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=l0(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,a==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[KE(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=KE(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function NIe(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(PIe(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return KE(e)}function RIe(t,e,r,n){var i=GA(t),a=i.getUint32(4,!0),s=(n>1?12:8)+XO(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=XO(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function OIe(t,e,r){var n=GA(t),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=IIe(t,a),a+=16),i&2&&(c=n.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function MIe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return RIe(t,e,r,t[0]);case 5:return OIe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Ao(t){var e=wn(t);return l0(e[1][0].data)}function YO(t,e){var r=wn(e.data),n=Nr(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=wn(s.data),l=Nr(o[1][0].data)>>>0;switch(n){case 1:a[l]=qE(o[3][0].data);break;case 8:{var c=t[Ao(o[9][0].data)][0],u=wn(c.data),f=t[Ao(u[1][0].data)][0],d=Nr(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=wn(f.data);a[l]=h[3].map(function(y){return qE(y.data)}).join("")}break}}),a}function DIe(t,e){var r,n,i,a,s,o,l,c,u,f,d,h,y,v,_=wn(t),w=Nr(_[1][0].data)>>>0,T=Nr(_[2][0].data)>>>0,E=((n=(r=_[8])==null?void 0:r[0])==null?void 0:n.data)&&Nr(_[8][0].data)>0||!1,k,A;if((a=(i=_[7])==null?void 0:i[0])!=null&&a.data&&e!=0)k=(o=(s=_[7])==null?void 0:s[0])==null?void 0:o.data,A=(c=(l=_[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=_[4])==null?void 0:u[0])!=null&&f.data&&e!=1)k=(h=(d=_[4])==null?void 0:d[0])==null?void 0:h.data,A=(v=(y=_[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var C=E?4:1,S=GA(k),I=[],b=0;b<k.length/2;++b){var N=S.getUint16(b*2,!0);N<65535&&I.push([b,N])}if(I.length!=T)throw"Expected ".concat(T," cells, found ").concat(I.length);var O=[];for(b=0;b<I.length-1;++b)O[I[b][0]]=A.subarray(I[b][1]*C,I[b+1][1]*C);return I.length>=1&&(O[I[I.length-1][0]]=A.subarray(I[I.length-1][1]*C)),{R:w,cells:O}}function FIe(t,e){var r,n=wn(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Nr(n[7][0].data)>>>0>0?1:0:-1,a=HA(n[5],function(s){return DIe(s,i)});return{nrows:Nr(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function LIe(t,e,r){var n,i=wn(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Nr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Nr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=ht(a);var s=wn(i[4][0].data),o=YO(t,t[Ao(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?YO(t,t[Ao(s[17][0].data)][0]):[],c=wn(s[3][0].data),u=0;c[1].forEach(function(f){var d=wn(f.data),h=t[Ao(d[2][0].data)][0],y=Nr(h.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=FIe(t,h);v.data.forEach(function(_,w){_.forEach(function(T,E){var k=Qe({r:u+w,c:E}),A=MIe(T,o,l);A&&(r[k]=A)})}),u+=v.nrows})}function UIe(t,e){var r=wn(e.data),n={"!ref":"A1"},i=t[Ao(r[2][0].data)],a=Nr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return LIe(t,i[0],n),n}function $Ie(t,e){var r,n=wn(e.data),i={name:(r=n[1])!=null&&r[0]?qE(n[1][0].data):"",sheets:[]},a=HA(n[2],Ao);return a.forEach(function(s){t[s].forEach(function(o){var l=Nr(o.meta[1][0].data);l==6e3&&i.sheets.push(UIe(t,o))})}),i}function BIe(t,e){var r=qA(),n=wn(e.data),i=HA(n[1],Ao);if(i.forEach(function(a){t[a].forEach(function(s){var o=Nr(s.meta[1][0].data);if(o==2){var l=$Ie(t,s);l.sheets.forEach(function(c,u){KA(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function q1(t){var e,r,n,i,a={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=NIe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=kIe(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Nr(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var u=Nr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return BIe(a,o)}function VIe(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function zA(t){VIe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function jIe(t){return Vc.WS.indexOf(t)>-1?"sheet":t==Vc.CS?"chart":t==Vc.DS?"dialog":t==Vc.MS?"macro":t&&t.length?t:"sheet"}function GIe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,jIe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function HIe(t,e,r,n,i,a,s,o,l,c,u,f){try{a[n]=Bd(oi(t,r,!0),e);var d=yr(t,e),h;switch(o){case"sheet":h=YCe(d,e,i,l,a[n],c,u,f);break;case"chart":if(h=JCe(d,e,i,l,a[n],c,u,f),!h||!h["!drawel"])break;var y=gd(h["!drawel"].Target,e),v=jE(y),_=Xbe(oi(t,y,!0),Bd(oi(t,v,!0),y)),w=gd(_,y),T=jE(w);h=OCe(oi(t,w,!0),w,l,Bd(oi(t,T,!0),w),c,h);break;case"macro":h=QCe(d,e,i,l,a[n],c,u,f);break;case"dialog":h=ZCe(d,e,i,l,a[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var E=[];a&&a[n]&&Fa(a[n]).forEach(function(k){var A="";if(a[n][k].Type==Vc.CMNT){A=gd(a[n][k].Target,e);var C=nIe(yr(t,A,!0),A,l);if(!C||!C.length)return;DO(h,C,!1)}a[n][k].Type==Vc.TCMNT&&(A=gd(a[n][k].Target,e),E=E.concat(Jbe(yr(t,A,!0),l)))}),E&&E.length&&DO(h,E,!0,l.people||[])}catch(k){if(l.WTF)throw k}}function Ei(t){return t.charAt(0)=="/"?t.slice(1):t}function zIe(t,e){if(n$(),e=e||{},zA(e),Si(t,"META-INF/manifest.xml")||Si(t,"objectdata.xml"))return qO(t,e);if(Si(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof q1<"u"){if(t.FileIndex)return q1(t);var r=dt.utils.cfb_new();return lO(t).forEach(function(J){Wwe(r,J,zwe(t,J))}),q1(r)}throw new Error("Unsupported NUMBERS file")}if(!Si(t,"[Content_Types].xml"))throw Si(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Si(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=lO(t),i=VEe(oi(t,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",yr(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!yr(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Gd=[],i.sst)try{Gd=rIe(yr(t,Ei(i.sst)),i.sst,e)}catch(J){if(e.WTF)throw J}e.cellStyles&&i.themes.length&&(l=tIe(oi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=eIe(yr(t,Ei(i.style)),i.style,l,e))}i.links.map(function(J){try{var X=Bd(oi(t,jE(Ei(J))),J);return aIe(yr(t,Ei(J)),X,J,e)}catch{}});var u=XCe(yr(t,Ei(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=yr(t,Ei(i.coreprops[0]),!0),d&&(f=R$(d)),i.extprops.length!==0&&(d=yr(t,Ei(i.extprops[0]),!0),d&&WEe(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=oi(t,Ei(i.custprops[0]),!0),d&&(h=KEe(d,e)));var y={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(y.Props=f,y.Custprops=h),e.bookSheets&&typeof s<"u"&&(y.SheetNames=s),e.bookSheets?y.SheetNames:e.bookProps))return y;s={};var v={};e.bookDeps&&i.calcchain&&(v=iIe(yr(t,Ei(i.calcchain)),i.calcchain));var _=0,w={},T,E;{var k=u.Sheets;f.Worksheets=k.length,f.SheetNames=[];for(var A=0;A!=k.length;++A)f.SheetNames[A]=k[A].name}var C=a?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Si(t,I)||(I="xl/_rels/workbook."+C+".rels");var b=Bd(oi(t,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=sIe(yr(t,Ei(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Qbe(yr(t,Ei(i.people[0])),e)),b&&(b=GIe(b,u.Sheets));var N=yr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=f.Worksheets;++_){var O="sheet";if(b&&b[_]?(T="xl/"+b[_][1].replace(/[\/]?xl\//,""),Si(t,T)||(T=b[_][1]),Si(t,T)||(T=I.replace(/_rels\/.*$/,"")+b[_][1]),O=b[_][2]):(T="xl/worksheets/sheet"+(_+1-N)+"."+C,T=T.replace(/sheet0\./,"sheet.")),E=T.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(_!=e.sheets)continue e;break;case"string":if(f.SheetNames[_].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var R=!1,D=0;D!=e.sheets.length;++D)typeof e.sheets[D]=="number"&&e.sheets[D]==_&&(R=1),typeof e.sheets[D]=="string"&&e.sheets[D].toLowerCase()==f.SheetNames[_].toLowerCase()&&(R=1);if(!R)continue e}}HIe(t,T,E,f.SheetNames[_],_,w,s,O,e,u,l,c)}return y={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:v,Sheets:s,SheetNames:f.SheetNames,Strings:Gd,Styles:c,Themes:l,SSF:rn(rt)},e&&e.bookFiles&&(t.files?(y.keys=n,y.files=t.files):(y.keys=[],y.files={},t.FullPaths.forEach(function(J,X){J=J.replace(/^Root Entry[\/]/,""),y.keys.push(J),y.files[J]=t.FileIndex[X]}))),e&&e.bookVBA&&(i.vba.length>0?y.vbaraw=yr(t,Ei(i.vba[0]),!0):i.defaults&&i.defaults.bin===rAe&&(y.vbaraw=yr(t,"xl/vbaProject.bin",!0))),y}function WIe(t,e){var r=e||{},n="Workbook",i=dt.find(t,n);try{if(n="/!DataSpaces/Version",i=dt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(USe(i.content),n="/!DataSpaces/DataSpaceMap",i=dt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=BSe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=dt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=VSe(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=dt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);GSe(i.content)}catch{}if(n="/EncryptionInfo",i=dt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=HSe(i.content);if(n="/EncryptedPackage",i=dt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function WA(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=pi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qIe(t,e){return dt.find(t,"EncryptedPackage")?WIe(t,e):gB(t,e)}function KIe(t,e){var r,n=t,i=e||{};return i.type||(i.type=ct&&Buffer.isBuffer(t)?"buffer":"base64"),r=c$(n,i),zIe(r,i)}function _B(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return zE(t.slice(r),e);default:break e}return a0.to_workbook(t,e)}function XIe(t,e){var r="",n=WA(t,e);switch(e.type){case"base64":r=pi(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Gl(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Ft(r)),e.type="binary",_B(r,e)}function YIe(t,e){var r=t;return e.type=="base64"&&(r=pi(r)),r=t0.utils.decode(1200,r.slice(2),"str"),e.type="binary",_B(r,e)}function JIe(t){return t.match(/[^\x00-\x7F]/)?vd(t):t}function K1(t,e,r,n){return n?(r.type="string",a0.to_workbook(t,r)):a0.to_workbook(e,r)}function XE(t,e){zU();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return XE(new Uint8Array(t),(r=rn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),ou={},r.dateNF&&(ou.dateNF=r.dateNF),r.type||(r.type=ct&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=ct?"buffer":"binary",n=Uwe(t),typeof Uint8Array<"u"&&!ct&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=JIe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=rn(r),r.type="array",XE(SA(n),r)}switch((i=WA(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return qIe(dt.read(n,r),r);break;case 9:if(i[1]<=8)return gB(n,r);break;case 60:return zE(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return bSe(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return TSe.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?KIe(n,r):K1(t,n,r,a);case 239:return i[3]===60?zE(n,r):K1(t,n,r,a);case 255:if(i[1]===254)return YIe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return jd.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return jd.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return MO.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return rbe.to_workbook(n,r);break;case 10:case 13:case 32:return XIe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return wSe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?MO.to_workbook(n,r):K1(t,n,r,a)}function QIe(t,e,r,n,i,a,s,o){var l=nn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||t[r])for(var h=e.s.c;h<=e.e.c;++h){var y=s?t[r][h]:t[n[h]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;a[h]!=null&&(d[a[h]]=c);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(a[h]!=null){if(v==null)if(y.t=="e"&&v===null)d[a[h]]=null;else if(c!==void 0)d[a[h]]=c;else if(u&&v===null)d[a[h]]=null;else continue;else d[a[h]]=u&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:Cs(y,v,o);v!=null&&(f=!1)}}return{row:d,isempty:f}}function YE(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=cr(u);break;case"number":l=cr(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=nn(l.s.r),d=[],h=[],y=0,v=0,_=Array.isArray(t),w=l.s.r,T=0,E={};_&&!t[w]&&(t[w]=[]);var k=c.skipHidden&&t["!cols"]||[],A=c.skipHidden&&t["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(k[T]||{}).hidden)switch(d[T]=kr(T),r=_?t[w][T]:t[d[T]+f],n){case 1:a[T]=T-l.s.c;break;case 2:a[T]=d[T];break;case 3:a[T]=c.header[T-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Cs(r,null,c),v=E[s]||0,!v)E[s]=1;else{do o=s+"_"+v++;while(E[o]);E[s]=v,E[o]=1}a[T]=o}for(w=l.s.r+i;w<=l.e.r;++w)if(!(A[w]||{}).hidden){var C=QIe(t,l,w,d,n,a,_,c);(C.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(h[y++]=C.row)}return h.length=y,h}var JO=/"/g;function ZIe(t,e,r,n,i,a,s,o){for(var l=!0,c=[],u="",f=nn(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var h=o.dense?(t[r]||[])[d]:t[n[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:Cs(h,null,o));for(var y=0,v=0;y!==u.length;++y)if((v=u.charCodeAt(y))===i||v===a||v===34||o.forceQuotes){u='"'+u.replace(JO,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(JO,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function wB(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=cr(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(d[y]||{}).hidden||(f[y]=kr(y));for(var v=0,_=i.s.r;_<=i.e.r;++_)(h[_]||{}).hidden||(u=ZIe(t,i,_,f,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((v++?o:"")+u)));return delete n.dense,r.join("")}function eke(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=wB(t,e);return r}function tke(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=cr(t["!ref"]),a="",s=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=kr(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=nn(u),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function EB(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Mn(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=cr(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+i)}else s==-1&&(s=0,u.e.r=e.length-1+i);var d=n.header||[],h=0;e.forEach(function(v,_){Fa(v).forEach(function(w){(h=d.indexOf(w))==-1&&(d[h=d.length]=w);var T=v[w],E="z",k="",A=Qe({c:o+h,r:s+_+i});c=c0(a,A),T&&typeof T=="object"&&!(T instanceof Date)?a[A]=T:(typeof T=="number"?E="n":typeof T=="boolean"?E="b":typeof T=="string"?E="s":T instanceof Date?(E="d",n.cellDates||(E="n",T=$n(T)),k=n.dateNF||rt[14]):T===null&&n.nullError&&(E="e",T=0),c?(c.t=E,c.v=T,delete c.w,delete c.R,k&&(c.z=k)):a[A]=c={t:E,v:T},k&&(c.z=k))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var y=nn(s);if(i)for(h=0;h<d.length;++h)a[kr(h+o)+y]={t:"s",v:d[h]};return a["!ref"]=ht(u),a}function rke(t,e){return EB(null,t,e)}function c0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Mn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?c0(t,Qe(e)):c0(t,Qe({r:e,c:r||0}))}function nke(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function qA(){return{SheetNames:[],Sheets:{}}}function KA(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(VCe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function ike(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=nke(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function ake(t,e){return t.z=e,t}function TB(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function ske(t,e,r){return TB(t,"#"+e,r)}function oke(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function lke(t,e,r,n){for(var i=typeof e!="string"?e:cr(e),a=typeof e=="string"?e:ht(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=c0(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var cke={encode_col:kr,encode_row:nn,encode_cell:Qe,encode_range:ht,decode_col:OA,decode_row:RA,split_cell:_Ee,decode_cell:Mn,decode_range:Sf,format_cell:Cs,sheet_add_aoa:C$,sheet_add_json:EB,sheet_add_dom:vB,aoa_to_sheet:bf,json_to_sheet:rke,table_to_sheet:yB,table_to_book:bIe,sheet_to_csv:wB,sheet_to_txt:eke,sheet_to_json:YE,sheet_to_html:SIe,sheet_to_formulae:tke,sheet_to_row_object_array:YE,sheet_get_cell:c0,book_new:qA,book_append_sheet:KA,book_set_sheet_visibility:ike,cell_set_number_format:ake,cell_set_hyperlink:TB,cell_set_internal_link:ske,cell_add_comment:oke,sheet_set_array_formula:lke,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const uke=()=>{const[t,e]=re.useState([]),[r,n]=re.useState(""),[i,a]=re.useState(!0),[s,o]=re.useState(!1),[l,c]=re.useState(!1),u=async()=>{a(!0);try{const h=xl(tt(Re,"products")),y=await sa(h);e(y.docs.map(v=>({id:v.id,...v.data()})))}catch(h){console.error(h)}finally{a(!1)}};re.useEffect(()=>{u()},[]);const f=h=>{var _;const y=(_=h.target.files)==null?void 0:_[0];if(!y)return;c(!0);const v=new FileReader;v.onload=async w=>{var T;try{const E=(T=w.target)==null?void 0:T.result,k=XE(E,{type:"binary"}),A=k.SheetNames[0],C=k.Sheets[A],S=cke.sheet_to_json(C),I=TL(Re);S.forEach(b=>{const N=yt(tt(Re,"products")),O={name:b.Nombre||"Sin Nombre",code:String(b["Codigo de Barras"]||b["CODIGO Prop"]||""),price:Number(b.PrecioConTasa)||0,cost:Number(b.Costo||b["COSTOS LIST."])||0,stock:Number(b.Stock)||0,category:b.Rubro||"General",brand:b.Marca||"S/M",supplier:b.Proveedor||"",minStock:Number(b.StockMinimo||b["Punto pedido"])||0,maxStock:Number(b.StockMaximo)||0,markup:Number(b["Porcentaje g"])||0,unit:b["1DeMedidaC"]||"unid",codProv:b["Cod PROV"]||"",currency:b.MonedaVenta||"ARS",createdAt:new Date().toISOString()};I.set(N,O)}),await I.commit(),alert(`xito! Se han importado ${S.length} artculos correctamente.`),o(!1),u()}catch(E){console.error(E),alert("Error al procesar el archivo. Verifique que los nombres de las columnas coincidan.")}finally{c(!1)}},v.readAsBinaryString(y)},d=t.filter(h=>{var y;return h.name.toLowerCase().includes(r.toLowerCase())||((y=h.code)==null?void 0:y.toLowerCase().includes(r.toLowerCase()))});return x.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20 text-left",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Inventario de Artculos"}),x.jsx("p",{className:"text-slate-500 font-medium italic text-sm",children:"Administra el stock masivo de tu ferretera."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("button",{onClick:()=>o(!0),className:"bg-slate-900 text-white px-6 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[x.jsx(ug,{size:20})," Importar Excel"]}),x.jsxs("button",{className:"bg-orange-600 text-white px-6 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-900/20",children:[x.jsx(Ma,{size:20})," Nuevo Item"]})]})]}),x.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100",children:x.jsxs("div",{className:"relative",children:[x.jsx(Yl,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),x.jsx("input",{type:"text",placeholder:"Buscar por nombre, cdigo de barras, marca o rubro...",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-slate-800",value:r,onChange:h=>n(h.target.value)})]})}),x.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-slate-50/50",children:[x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Artculo / Marca"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cdigo"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Precio Pblico"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:i?x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"text-center py-20 font-black text-slate-300 uppercase tracking-widest italic",children:"Sincronizando Base de Datos..."})}):d.map(h=>{var y;return x.jsxs("tr",{className:"hover:bg-slate-50/80 transition-all group",children:[x.jsxs("td",{className:"px-8 py-5",children:[x.jsx("p",{className:"font-black text-slate-800 text-sm leading-tight",children:h.name}),x.jsxs("p",{className:"text-[10px] text-orange-500 font-black uppercase tracking-tighter",children:["Marca: ",h.brand||"Genrica"]})]}),x.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:h.code}),x.jsx("td",{className:"px-8 py-5",children:x.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-500 rounded-lg text-[9px] font-black uppercase tracking-widest",children:h.category})}),x.jsx("td",{className:"px-8 py-5",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:`font-black text-sm ${h.stock<=(h.minStock||0)?"text-red-500":"text-slate-700"}`,children:[h.stock," ",h.unit||"u."]}),h.stock<=(h.minStock||0)&&x.jsx(wl,{size:14,className:"text-red-500 animate-pulse"})]})}),x.jsxs("td",{className:"px-8 py-5 text-right font-black text-xl text-slate-900",children:["$",(y=h.price)==null?void 0:y.toLocaleString()]})]},h.id)})})]})})}),s&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md flex items-center justify-center p-6 z-[100]",children:x.jsxs("div",{className:"bg-white rounded-[3.5rem] p-12 w-full max-w-xl shadow-2xl animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"flex justify-between items-center mb-10",children:[x.jsxs("h2",{className:"text-3xl font-black text-slate-800 tracking-tight flex items-center gap-3",children:[x.jsx(ug,{className:"text-orange-600"})," Importar Excel"]}),x.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-all",children:x.jsx(Es,{})})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"p-8 border-4 border-dashed border-slate-100 rounded-[2.5rem] text-center group hover:border-orange-200 transition-all cursor-pointer relative",children:[x.jsx("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:f,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),x.jsx(py,{size:48,className:"mx-auto text-slate-200 mb-4 group-hover:text-orange-500 transition-colors"}),x.jsx("p",{className:"font-bold text-slate-400",children:"Selecciona el archivo del proveedor"}),x.jsx("p",{className:"text-[10px] font-black uppercase text-slate-300 mt-2 tracking-widest",children:"Formatos: .xlsx, .xls, .csv"})]}),x.jsxs("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100 flex items-start gap-4",children:[x.jsx(wl,{className:"text-blue-600 shrink-0",size:20}),x.jsxs("div",{className:"text-xs font-medium text-blue-800 leading-relaxed",children:[x.jsx("strong",{children:"Importante:"})," El sistema leer automticamente las columnas ",x.jsx("i",{children:"Nombre, Codigo de Barras, PrecioConTasa, Stock, Rubro, Marca y Proveedor."})]})]})]}),l&&x.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3 text-orange-600 font-black uppercase text-xs tracking-[0.2em] animate-pulse",children:[x.jsx(Fl,{className:"animate-spin"})," Procesando base de datos..."]})]})})]})},fke=()=>{const[t,e]=re.useState([]),[r,n]=re.useState(""),[i,a]=re.useState([]),[s,o]=re.useState(!1),[l,c]=re.useState(!1),[u,f]=re.useState({show:!1,type:""});re.useEffect(()=>{(async()=>{const _=await sa(tt(Re,"products"));e(_.docs.map(w=>({id:w.id,...w.data()})))})()},[]);const d=i.reduce((v,_)=>v+_.price*_.quantity,0),h=v=>{const _=i.find(w=>w.id===v.id);a(_?i.map(w=>w.id===v.id?{...w,quantity:w.quantity+1}:w):[...i,{...v,quantity:1}])},y=async v=>{if(i.length!==0){c(!0);try{const _=v==="PRESUPUESTO"?"quotes":v==="REMITO"?"remitos":"sales",w={items:i,total:d,type:v,status:v==="PRESUPUESTO"?"Pendiente":"Completado",date:jW()};await Fr(tt(Re,_),w),a([]),o(!1),f({show:!0,type:v}),setTimeout(()=>f({show:!1,type:""}),4e3)}catch{alert("Error al procesar la operacin")}finally{c(!1)}}};return x.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-full animate-in fade-in duration-500 pb-20 text-left",children:[x.jsxs("div",{className:"flex-1 space-y-6",children:[x.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100",children:x.jsxs("div",{className:"relative",children:[x.jsx(Yl,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),x.jsx("input",{type:"text",placeholder:"Buscar producto por nombre o cdigo...",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-slate-800",value:r,onChange:v=>n(v.target.value)})]})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:t.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())).map(v=>x.jsxs("div",{className:"bg-white p-5 rounded-[2rem] border border-slate-100 flex flex-col justify-between hover:border-orange-500 transition-all group shadow-sm",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:v.code}),x.jsx("h3",{className:"font-bold text-slate-800 leading-tight",children:v.name}),x.jsxs("p",{className:"text-2xl font-black text-slate-900 mt-2",children:["$",v.price.toLocaleString()]})]}),x.jsxs("button",{onClick:()=>h(v),className:"w-full py-3 bg-slate-50 group-hover:bg-orange-600 group-hover:text-white rounded-xl flex items-center justify-center gap-2 transition-all font-bold text-xs",children:[x.jsx(Ma,{size:16})," AGREGAR"]})]},v.id))})]}),x.jsx("div",{className:"w-full lg:w-[400px]",children:x.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[3.5rem] shadow-2xl flex flex-col min-h-[600px]",children:[x.jsxs("h2",{className:"text-xl font-black mb-8 flex items-center gap-3",children:[x.jsx(ub,{className:"text-orange-500"})," Venta Actual"]}),x.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto mb-6 pr-2 custom-scrollbar",children:i.map(v=>x.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5 flex justify-between items-center",children:[x.jsxs("div",{className:"overflow-hidden",children:[x.jsx("p",{className:"text-xs font-bold truncate",children:v.name}),x.jsxs("p",{className:"text-[10px] text-slate-500 font-bold",children:[v.quantity," x $",v.price]})]}),x.jsx("button",{onClick:()=>a(i.filter(_=>_.id!==v.id)),className:"text-slate-600 hover:text-red-400",children:x.jsx(gy,{size:16})})]},v.id))}),x.jsxs("div",{className:"pt-6 border-t border-white/5",children:[x.jsxs("div",{className:"flex justify-between items-end mb-8",children:[x.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:"Total a Confirmar"}),x.jsxs("p",{className:"text-4xl font-black text-white",children:["$",d.toLocaleString()]})]}),x.jsxs("button",{disabled:i.length===0,onClick:()=>o(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-900/20 flex items-center justify-center gap-3 disabled:opacity-20",children:["Confirmar Operacin ",x.jsx(ib,{size:20})]})]})]})}),s&&x.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-6 z-[100]",children:x.jsxs("div",{className:"bg-white rounded-[3.5rem] p-12 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"flex justify-between items-center mb-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Finalizar Venta"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Selecciona el tipo de documento a generar."})]}),x.jsx("button",{onClick:()=>o(!1),className:"p-3 bg-slate-100 rounded-full hover:bg-slate-200 transition-all",children:x.jsx(Es,{})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("button",{onClick:()=>y("VENTA"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-blue-600 group-hover:text-white transition-all",children:x.jsx(ob,{size:24})}),x.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Ingreso de Venta"}),x.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Solo registro interno de caja."})]}),x.jsxs("button",{onClick:()=>y("ARCA"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-orange-600 group-hover:text-white transition-all",children:x.jsx(Cu,{size:24})}),x.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Factura A / B (ARCA)"}),x.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Validez fiscal AFIP inmediata."})]}),x.jsxs("button",{onClick:()=>y("REMITO"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-purple-500 hover:bg-purple-50 transition-all group",children:[x.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-purple-600 group-hover:text-white transition-all",children:x.jsx(db,{size:24})}),x.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Generar Remito"}),x.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Documento de entrega sin valor fiscal."})]}),x.jsxs("button",{onClick:()=>y("PRESUPUESTO"),className:"p-6 border-2 border-slate-100 rounded-[2rem] text-left hover:border-green-500 hover:bg-green-50 transition-all group",children:[x.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-green-600 group-hover:text-white transition-all",children:x.jsx(QK,{size:24})}),x.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-widest",children:"Cotizacin"}),x.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold italic",children:"Presupuesto vlido por 7 das."})]})]}),x.jsxs("div",{className:"mt-10 p-6 bg-slate-900 rounded-[2rem] flex justify-between items-center text-white",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Importe Total"}),x.jsxs("p",{className:"text-3xl font-black",children:["$",d.toLocaleString()]})]}),l&&x.jsx(dke,{className:"animate-spin text-orange-500",size:32})]})]})}),u.show&&x.jsxs("div",{className:"fixed bottom-10 right-10 bg-green-600 text-white p-6 rounded-[2rem] shadow-2xl flex items-center gap-4 animate-in slide-in-from-bottom border-2 border-green-400",children:[x.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:x.jsx(P0,{size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black uppercase text-xs tracking-widest",children:"Operacin Exitosa"}),x.jsxs("p",{className:"text-[10px] font-bold opacity-80 uppercase italic",children:["Se ha generado el documento: ",u.type]})]})]})]})},dke=({size:t,className:e})=>x.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})});var hke={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pke,mke;function gke(){return{geminiUrl:pke,vertexUrl:mke}}function vke(t,e,r,n){var i,a;if(!(t!=null&&t.baseUrl)){const s=gke();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:r:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ds{}function Oe(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,r){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(r))t[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(r))for(let c=0;c<l.length;c++){const u=l[c];g(u,e.slice(a+1),r[c])}else for(const c of l)g(c,e.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];g(l[0],e.slice(a+1),r);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function p(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(o=>p(o,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function yke(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),a=n.split("."),s=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&a.length>o)for(let l=o;l<a.length;l++){const c=a[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}JE(t,i,a,0,s)}}function JE(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const a=e[n];if(a.endsWith("[]")){const s=a.slice(0,-2),o=t;if(s in o&&Array.isArray(o[s]))for(const l of o[s])JE(l,e,r,n+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,o=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of o)l[c]=s[c];for(const[c,u]of Object.entries(l)){const f=[];for(const d of r.slice(n))d==="*"?f.push(c):f.push(d);g(s,f,u)}for(const c of o)delete s[c]}}else{const s=t;a in s&&JE(s[a],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xke(t){const e={},r=p(t,["operationName"]);r!=null&&g(e,["operationName"],r);const n=p(t,["resourceName"]);return n!=null&&g(e,["_url","resourceName"],n),e}function _ke(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],Eke(s)),e}function wke(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response"]);return s!=null&&g(e,["response"],Tke(s)),e}function Eke(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Ske(s))),g(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&g(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Tke(t){const e={},r=p(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>bke(s))),g(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&g(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Ske(t){const e={},r=p(t,["video"]);return r!=null&&g(e,["video"],Nke(r)),e}function bke(t){const e={},r=p(t,["_self"]);return r!=null&&g(e,["video"],Rke(r)),e}function Ake(t){const e={},r=p(t,["operationName"]);return r!=null&&g(e,["_url","operationName"],r),e}function Cke(t){const e={},r=p(t,["operationName"]);return r!=null&&g(e,["_url","operationName"],r),e}function Ike(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response"]);return s!=null&&g(e,["response"],kke(s)),e}function kke(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&g(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function SB(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response"]);return s!=null&&g(e,["response"],Pke(s)),e}function Pke(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&g(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Nke(t){const e={},r=p(t,["uri"]);r!=null&&g(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&g(e,["videoBytes"],XA(n));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function Rke(t){const e={},r=p(t,["gcsUri"]);r!=null&&g(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["videoBytes"],XA(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var QO;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QO||(QO={}));var ZO;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ZO||(ZO={}));var eM;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(eM||(eM={}));var Yt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Yt||(Yt={}));var tM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tM||(tM={}));var rM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(rM||(rM={}));var nM;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nM||(nM={}));var iM;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(iM||(iM={}));var aM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(aM||(aM={}));var sM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sM||(sM={}));var oM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(oM||(oM={}));var lM;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(lM||(lM={}));var cM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(cM||(cM={}));var uM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(uM||(uM={}));var fM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(fM||(fM={}));var dM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(dM||(dM={}));var hM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(hM||(hM={}));var pM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pM||(pM={}));var mM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mM||(mM={}));var gM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(gM||(gM={}));var vM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vM||(vM={}));var Sv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Sv||(Sv={}));var yM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yM||(yM={}));var xM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xM||(xM={}));var _M;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_M||(_M={}));var QE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(QE||(QE={}));var wM;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wM||(wM={}));var EM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(EM||(EM={}));var ZE;(function(t){t.COLLECTION="COLLECTION"})(ZE||(ZE={}));var TM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(TM||(TM={}));var SM;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(SM||(SM={}));var bM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(bM||(bM={}));var AM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(AM||(AM={}));var CM;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(CM||(CM={}));var IM;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(IM||(IM={}));var kM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kM||(kM={}));var PM;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(PM||(PM={}));var NM;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(NM||(NM={}));var RM;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(RM||(RM={}));var OM;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(OM||(OM={}));var MM;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(MM||(MM={}));var DM;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(DM||(DM={}));var FM;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(FM||(FM={}));var LM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(LM||(LM={}));var UM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(UM||(UM={}));var $M;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})($M||($M={}));var BM;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(BM||(BM={}));var VM;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(VM||(VM={}));var jM;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(jM||(jM={}));var GM;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(GM||(GM={}));var HM;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(HM||(HM={}));var zM;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zM||(zM={}));var WM;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WM||(WM={}));var qM;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qM||(qM={}));var KM;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KM||(KM={}));var XM;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(XM||(XM={}));var jc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(jc||(jc={}));class eT{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class nd{get text(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const d of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;u=!0,c+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&u.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,r,n,i,a,s,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,r,n,i,a,s,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class YM{}class JM{}class Oke{}class Mke{}class Dke{}class Fke{}class QM{}class ZM{}class eD{}class Lke{}class bv{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new bv;let i;const a=e;return r?i=wke(a):i=_ke(a),Object.assign(n,i),n}}class tD{}class rD{}class nD{}class iD{}class Uke{}class $ke{}class Bke{}class YA{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new YA,a=Ike(e);return Object.assign(n,a),n}}class Vke{}class jke{}class Gke{}class aD{}class Hke{get text(){var e,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&s.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,r,n;let i="";const a=[];for(const s of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,l]of Object.entries(s))o!=="inlineData"&&l!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class zke{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class JA{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new JA,a=SB(e);return Object.assign(n,a),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function bB(t,e){const r=wt(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function AB(t){return Array.isArray(t)?t.map(e=>Av(e)):[Av(t)]}function Av(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function CB(t){const e=Av(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IB(t){const e=Av(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sD(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function kB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>sD(e)):[sD(t)]}function tT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function oD(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function lD(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function En(t){if(t==null)throw new Error("ContentUnion is required");return tT(t)?t:{role:"user",parts:kB(t)}}function QA(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=En(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=En(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>En(r)):[En(e)]}function Oi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(oD(t)||lD(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[En(t)]}const e=[],r=[],n=tT(t[0]);for(const i of t){const a=tT(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(oD(i)||lD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:kB(r)}),e}function Wke(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(Yt).includes(r[0].toUpperCase())?r[0].toUpperCase():Yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(Yt).includes(n.toUpperCase())?n.toUpperCase():Yt.TYPE_UNSPECIFIED})}}function lu(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Wke(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Yt).includes(o.toUpperCase())?o.toUpperCase():Yt.TYPE_UNSPECIFIED}else if(r.includes(s))e[s]=lu(o);else if(n.includes(s)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(lu(c))}e[s]=l}else if(i.includes(s)){const l={};for(const[c,u]of Object.entries(o))l[c]=lu(u);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=o}return e}function ZA(t){return lu(t)}function e2(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function t2(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Af(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=lu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=lu(e.response));return t}function Cf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function qke(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function Fs(t,e){if(typeof e!="string")throw new Error("name must be a string");return qke(t,e,"cachedContents")}function PB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ho(t){return XA(t)}function Kke(t){return t!=null&&typeof t=="object"&&"name"in t}function Xke(t){return t!=null&&typeof t=="object"&&"video"in t}function Yke(t){return t!=null&&typeof t=="object"&&"uri"in t}function NB(t){var e;let r;if(Kke(t)&&(r=t.name),!(Yke(t)&&(r=t.uri,r===void 0))&&!(Xke(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function RB(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function OB(t){for(const e of["models","tunedModels","publisherModels"])if(Jke(t,e))return t[e];return[]}function Jke(t,e){return t!==null&&typeof t=="object"&&e in t}function Qke(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function Zke(t,e={}){const r=[],n=new Set;for(const i of t){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=Qke(i,e);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function MB(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function ePe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function DB(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function If(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function FB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tPe(t){const e={},r=p(t,["responsesFile"]);r!=null&&g(e,["fileName"],r);const n=p(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>DPe(s))),g(e,["inlinedResponses"],a)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["inlinedEmbedContentResponses"],a)}return e}function rPe(t){const e={},r=p(t,["predictionsFormat"]);r!=null&&g(e,["format"],r);const n=p(t,["gcsDestination","outputUriPrefix"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function nPe(t){const e={},r=p(t,["format"]);r!=null&&g(e,["predictionsFormat"],r);const n=p(t,["gcsUri"]);n!=null&&g(e,["gcsDestination","outputUriPrefix"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wm(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata","displayName"]);n!=null&&g(e,["displayName"],n);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],FB(i));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const o=p(t,["metadata","updateTime"]);o!=null&&g(e,["updateTime"],o);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const c=p(t,["metadata","output"]);return c!=null&&g(e,["dest"],tPe(DB(c))),e}function rT(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const i=p(t,["state"]);i!=null&&g(e,["state"],FB(i));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["startTime"]);o!=null&&g(e,["startTime"],o);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&g(e,["updateTime"],c);const u=p(t,["model"]);u!=null&&g(e,["model"],u);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],iPe(f));const d=p(t,["outputConfig"]);d!=null&&g(e,["dest"],rPe(DB(d)));const h=p(t,["completionStats"]);return h!=null&&g(e,["completionStats"],h),e}function iPe(t){const e={},r=p(t,["instancesFormat"]);r!=null&&g(e,["format"],r);const n=p(t,["gcsSource","uris"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function aPe(t,e){const r={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=p(e,["fileName"]);n!=null&&g(r,["fileName"],n);const i=p(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>MPe(t,s))),g(r,["requests","requests"],a)}return r}function sPe(t){const e={},r=p(t,["format"]);r!=null&&g(e,["instancesFormat"],r);const n=p(t,["gcsUri"]);n!=null&&g(e,["gcsSource","uris"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function oPe(t){const e={},r=p(t,["data"]);if(r!=null&&g(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function lPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],If(t,n)),r}function cPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],If(t,n)),r}function uPe(t){const e={},r=p(t,["content"]);r!=null&&g(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&g(e,["citationMetadata"],fPe(n));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const o=p(t,["groundingMetadata"]);o!=null&&g(e,["groundingMetadata"],o);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&g(e,["logprobsResult"],c);const u=p(t,["safetyRatings"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>h)),g(e,["safetyRatings"],d)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function fPe(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),g(e,["citations"],n)}return e}function LB(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jPe(a))),g(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&g(e,["role"],n),e}function dPe(t,e){const r={},n=p(t,["displayName"]);if(e!==void 0&&n!=null&&g(e,["batch","displayName"],n),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function hPe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&g(e,["displayName"],n);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],nPe(ePe(i))),r}function cD(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["src"]);i!=null&&g(r,["batch","inputConfig"],aPe(t,MB(t,i)));const a=p(e,["config"]);return a!=null&&dPe(a,r),r}function pPe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["model"],wt(t,n));const i=p(e,["src"]);i!=null&&g(r,["inputConfig"],sPe(MB(t,i)));const a=p(e,["config"]);return a!=null&&hPe(a,r),r}function mPe(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&g(e,["batch","displayName"],n),r}function gPe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["src"]);i!=null&&g(r,["batch","inputConfig"],TPe(t,i));const a=p(e,["config"]);return a!=null&&mPe(a,r),r}function vPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],If(t,n)),r}function yPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],If(t,n)),r}function xPe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function _Pe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function wPe(t,e){const r={},n=p(e,["contents"]);if(n!=null){let a=QA(t,n);Array.isArray(a)&&(a=a.map(s=>s)),g(r,["requests[]","request","content"],a)}const i=p(e,["config"]);return i!=null&&(g(r,["_self"],EPe(i,r)),yke(r,{"requests[].*":"requests[].request.*"})),r}function EPe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&g(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function TPe(t,e){const r={},n=p(e,["fileName"]);n!=null&&g(r,["file_name"],n);const i=p(e,["inlinedRequests"]);return i!=null&&g(r,["requests"],wPe(t,i)),r}function SPe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function bPe(t){const e={},r=p(t,["id"]);r!=null&&g(e,["id"],r);const n=p(t,["args"]);n!=null&&g(e,["args"],n);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function APe(t){const e={},r=p(t,["allowedFunctionNames"]);r!=null&&g(e,["allowedFunctionNames"],r);const n=p(t,["mode"]);if(n!=null&&g(e,["mode"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function CPe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&g(r,["systemInstruction"],LB(En(i)));const a=p(e,["temperature"]);a!=null&&g(n,["temperature"],a);const s=p(e,["topP"]);s!=null&&g(n,["topP"],s);const o=p(e,["topK"]);o!=null&&g(n,["topK"],o);const l=p(e,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&g(n,["maxOutputTokens"],c);const u=p(e,["stopSequences"]);u!=null&&g(n,["stopSequences"],u);const f=p(e,["responseLogprobs"]);f!=null&&g(n,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&g(n,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&g(n,["presencePenalty"],h);const y=p(e,["frequencyPenalty"]);y!=null&&g(n,["frequencyPenalty"],y);const v=p(e,["seed"]);v!=null&&g(n,["seed"],v);const _=p(e,["responseMimeType"]);_!=null&&g(n,["responseMimeType"],_);const w=p(e,["responseSchema"]);w!=null&&g(n,["responseSchema"],ZA(w));const T=p(e,["responseJsonSchema"]);if(T!=null&&g(n,["responseJsonSchema"],T),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(r!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(J=>GPe(J))),g(r,["safetySettings"],D)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let D=Cf(k);Array.isArray(D)&&(D=D.map(J=>zPe(Af(J)))),g(r,["tools"],D)}const A=p(e,["toolConfig"]);if(r!==void 0&&A!=null&&g(r,["toolConfig"],HPe(A)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);r!==void 0&&C!=null&&g(r,["cachedContent"],Fs(t,C));const S=p(e,["responseModalities"]);S!=null&&g(n,["responseModalities"],S);const I=p(e,["mediaResolution"]);I!=null&&g(n,["mediaResolution"],I);const b=p(e,["speechConfig"]);if(b!=null&&g(n,["speechConfig"],e2(b)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(n,["thinkingConfig"],N);const O=p(e,["imageConfig"]);O!=null&&g(n,["imageConfig"],OPe(O));const R=p(e,["enableEnhancedCivicAnswers"]);if(R!=null&&g(n,["enableEnhancedCivicAnswers"],R),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function IPe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>uPe(c))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const o=p(t,["usageMetadata"]);return o!=null&&g(e,["usageMetadata"],o),e}function kPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],If(t,n)),r}function PPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],If(t,n)),r}function NPe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(e,["enableWidget"],r),e}function RPe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(e,["timeRangeFilter"],r),e}function OPe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&g(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&g(e,["imageSize"],n),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function MPe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["request","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let o=Oi(i);Array.isArray(o)&&(o=o.map(l=>LB(l))),g(r,["request","contents"],o)}const a=p(e,["metadata"]);a!=null&&g(r,["metadata"],a);const s=p(e,["config"]);return s!=null&&g(r,["request","generationConfig"],CPe(t,s,p(r,["request"],{}))),r}function DPe(t){const e={},r=p(t,["response"]);r!=null&&g(e,["response"],IPe(r));const n=p(t,["error"]);return n!=null&&g(e,["error"],n),e}function FPe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function LPe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),r}function UPe(t){const e={},r=p(t,["config"]);return r!=null&&FPe(r,e),e}function $Pe(t){const e={},r=p(t,["config"]);return r!=null&&LPe(r,e),e}function BPe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>wm(s))),g(e,["batchJobs"],a)}return e}function VPe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>rT(s))),g(e,["batchJobs"],a)}return e}function jPe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&g(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&g(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],SPe(a));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],bPe(s));const o=p(t,["functionResponse"]);o!=null&&g(e,["functionResponse"],o);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],oPe(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const u=p(t,["thought"]);u!=null&&g(e,["thought"],u);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&g(e,["videoMetadata"],d),e}function GPe(t){const e={},r=p(t,["category"]);if(r!=null&&g(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&g(e,["threshold"],n),e}function HPe(t){const e={},r=p(t,["retrievalConfig"]);r!=null&&g(e,["retrievalConfig"],r);const n=p(t,["functionCallingConfig"]);return n!=null&&g(e,["functionCallingConfig"],APe(n)),e}function zPe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const n=p(t,["fileSearch"]);n!=null&&g(e,["fileSearch"],n);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["functionDeclarations"],u)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],NPe(s));const o=p(t,["googleSearch"]);o!=null&&g(e,["googleSearch"],RPe(o));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Is;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Is||(Is={}));class oc{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,a;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WPe extends Ds{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new oc(Is.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=cD(this.apiClient,e),n=r._url,i=Oe("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const d=f.systemInstruction;delete f.systemInstruction;const h=f.request;h.systemInstruction=d,f.request=h}c.push(f)}return o.requests=c,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=pPe(this.apiClient,e);return o=Oe("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>rT(u))}else{const c=cD(this.apiClient,e);return o=Oe("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>wm(u))}}async createEmbeddingsInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gPe(this.apiClient,e);return a=Oe("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>wm(l))}}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=PPe(this.apiClient,e);return o=Oe("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>rT(u))}else{const c=kPe(this.apiClient,e);return o=Oe("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>wm(u))}}async cancel(e){var r,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const l=cPe(this.apiClient,e);s=Oe("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const l=lPe(this.apiClient,e);s=Oe("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=$Pe(e);return o=Oe("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=VPe(u),d=new aD;return Object.assign(d,f),d})}else{const c=UPe(e);return o=Oe("batches",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=BPe(u),d=new aD;return Object.assign(d,f),d})}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=yPe(this.apiClient,e);return o=Oe("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>_Pe(u))}else{const c=vPe(this.apiClient,e);return o=Oe("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>xPe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qPe(t){const e={},r=p(t,["data"]);if(r!=null&&g(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function uD(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>gNe(a))),g(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&g(e,["role"],n),e}function KPe(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&g(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let u=Oi(s);Array.isArray(u)&&(u=u.map(f=>uD(f))),g(e,["contents"],u)}const o=p(t,["systemInstruction"]);e!==void 0&&o!=null&&g(e,["systemInstruction"],uD(En(o)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>yNe(f))),g(e,["tools"],u)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&g(e,["toolConfig"],vNe(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function XPe(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&g(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=Oi(s);Array.isArray(f)&&(f=f.map(d=>d)),g(e,["contents"],f)}const o=p(t,["systemInstruction"]);e!==void 0&&o!=null&&g(e,["systemInstruction"],En(o));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>xNe(d))),g(e,["tools"],f)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&g(e,["toolConfig"],c);const u=p(t,["kmsKeyName"]);return e!==void 0&&u!=null&&g(e,["encryption_spec","kmsKeyName"],u),r}function YPe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["model"],bB(t,n));const i=p(e,["config"]);return i!=null&&KPe(i,r),r}function JPe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["model"],bB(t,n));const i=p(e,["config"]);return i!=null&&XPe(i,r),r}function QPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],Fs(t,n)),r}function ZPe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],Fs(t,n)),r}function eNe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}function tNe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}function rNe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function nNe(t){const e={},r=p(t,["id"]);r!=null&&g(e,["id"],r);const n=p(t,["args"]);n!=null&&g(e,["args"],n);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iNe(t){const e={},r=p(t,["allowedFunctionNames"]);r!=null&&g(e,["allowedFunctionNames"],r);const n=p(t,["mode"]);if(n!=null&&g(e,["mode"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aNe(t){const e={},r=p(t,["description"]);r!=null&&g(e,["description"],r);const n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const o=p(t,["responseJsonSchema"]);if(o!=null&&g(e,["responseJsonSchema"],o),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sNe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],Fs(t,n)),r}function oNe(t,e){const r={},n=p(e,["name"]);return n!=null&&g(r,["_url","name"],Fs(t,n)),r}function lNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(e,["enableWidget"],r),e}function cNe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(e,["timeRangeFilter"],r),e}function uNe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),r}function fNe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),r}function dNe(t){const e={},r=p(t,["config"]);return r!=null&&uNe(r,e),e}function hNe(t){const e={},r=p(t,["config"]);return r!=null&&fNe(r,e),e}function pNe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["cachedContents"],a)}return e}function mNe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["cachedContents"],a)}return e}function gNe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&g(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&g(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],rNe(a));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],nNe(s));const o=p(t,["functionResponse"]);o!=null&&g(e,["functionResponse"],o);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],qPe(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const u=p(t,["thought"]);u!=null&&g(e,["thought"],u);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&g(e,["videoMetadata"],d),e}function vNe(t){const e={},r=p(t,["retrievalConfig"]);r!=null&&g(e,["retrievalConfig"],r);const n=p(t,["functionCallingConfig"]);return n!=null&&g(e,["functionCallingConfig"],iNe(n)),e}function yNe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const n=p(t,["fileSearch"]);n!=null&&g(e,["fileSearch"],n);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["functionDeclarations"],u)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],lNe(s));const o=p(t,["googleSearch"]);o!=null&&g(e,["googleSearch"],cNe(o));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function xNe(t){const e={},r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const n=p(t,["computerUse"]);if(n!=null&&g(e,["computerUse"],n),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const a=p(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>aNe(d))),g(e,["functionDeclarations"],f)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],o);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function _Ne(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&g(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),r}function wNe(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&g(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),r}function ENe(t,e){const r={},n=p(e,["name"]);n!=null&&g(r,["_url","name"],Fs(t,n));const i=p(e,["config"]);return i!=null&&_Ne(i,r),r}function TNe(t,e){const r={},n=p(e,["name"]);n!=null&&g(r,["_url","name"],Fs(t,n));const i=p(e,["config"]);return i!=null&&wNe(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SNe extends Ds{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new oc(Is.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=JPe(this.apiClient,e);return o=Oe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>u)}else{const c=YPe(this.apiClient,e);return o=Oe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=oNe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>u)}else{const c=sNe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=ZPe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=tNe(u),d=new nD;return Object.assign(d,f),d})}else{const c=QPe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=eNe(u),d=new nD;return Object.assign(d,f),d})}}async update(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=TNe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>u)}else{const c=ENe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=hNe(e);return o=Oe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=mNe(u),d=new iD;return Object.assign(d,f),d})}else{const c=dNe(e);return o=Oe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=pNe(u),d=new iD;return Object.assign(d,f),d})}}}function Cv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fD(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function ca(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,f)}}function o(h,y){n[h]&&(i[h]=function(v){return new Promise(function(_,w){a.push([h,v,_,w])>1||l(h,v)})},y&&(i[h]=y(i[h])))}function l(h,y){try{c(n[h](y))}catch(v){d(a[0][3],v)}}function c(h){h.value instanceof Ye?Promise.resolve(h.value.v).then(u,f):d(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function ua(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fD=="function"?fD(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bNe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:UB(r)}function UB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ANe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dD(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!UB(t[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class CNe{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new INe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class INe{constructor(e,r,n,i={},a=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),ANe(a)}async sendMessage(e){var r;await this.sendPromise;const n=En(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const l=await i,c=(s=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let d=[];u!=null&&(d=(o=u.slice(f))!==null&&o!==void 0?o:[]);const h=c?[c]:[];this.recordHistory(n,h,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=En(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const r=e?dD(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return ca(this,arguments,function*(){var i,a,s,o,l,c;const u=[];try{for(var f=!0,d=ua(e),h;h=yield Ye(d.next()),i=h.done,!i;f=!0){o=h.value,f=!1;const y=o;if(bNe(y)){const v=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;v!==void 0&&u.push(v)}yield yield Ye(y)}}catch(y){a={error:y}}finally{try{!f&&!i&&(s=d.return)&&(yield Ye(s.call(d)))}finally{if(a)throw a.error}}this.recordHistory(r,u)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...dD(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,u0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kNe(t){const e={},r=p(t,["file"]);return r!=null&&g(e,["file"],r),e}function PNe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}function NNe(t){const e={},r=p(t,["name"]);return r!=null&&g(e,["_url","file"],NB(r)),e}function RNe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}function ONe(t){const e={},r=p(t,["name"]);return r!=null&&g(e,["_url","file"],NB(r)),e}function MNe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),r}function DNe(t){const e={},r=p(t,["config"]);return r!=null&&MNe(r,e),e}function FNe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LNe extends Ds{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new oc(Is.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=DNe(e);return a=Oe("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=FNe(l),u=new Vke;return Object.assign(u,c),u})}}async createInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kNe(e);return a=Oe("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=PNe(l),u=new jke;return Object.assign(u,c),u})}}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ONe(e);return a=Oe("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=NNe(e);return a=Oe("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=RNe(l),u=new Gke;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Em(t){const e={},r=p(t,["data"]);if(r!=null&&g(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function UNe(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>eRe(a))),g(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&g(e,["role"],n),e}function $Ne(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function BNe(t){const e={},r=p(t,["id"]);r!=null&&g(e,["id"],r);const n=p(t,["args"]);n!=null&&g(e,["args"],n);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VNe(t){const e={},r=p(t,["description"]);r!=null&&g(e,["description"],r);const n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const o=p(t,["responseJsonSchema"]);if(o!=null&&g(e,["responseJsonSchema"],o),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jNe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&g(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&g(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const o=p(t,["frequencyPenalty"]);o!=null&&g(e,["frequencyPenalty"],o);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&g(e,["maxOutputTokens"],c);const u=p(t,["mediaResolution"]);u!=null&&g(e,["mediaResolution"],u);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const d=p(t,["responseLogprobs"]);d!=null&&g(e,["responseLogprobs"],d);const h=p(t,["responseMimeType"]);h!=null&&g(e,["responseMimeType"],h);const y=p(t,["responseModalities"]);y!=null&&g(e,["responseModalities"],y);const v=p(t,["responseSchema"]);v!=null&&g(e,["responseSchema"],v);const _=p(t,["routingConfig"]);_!=null&&g(e,["routingConfig"],_);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const T=p(t,["speechConfig"]);T!=null&&g(e,["speechConfig"],T);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const k=p(t,["temperature"]);k!=null&&g(e,["temperature"],k);const A=p(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function GNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(e,["enableWidget"],r),e}function HNe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(e,["timeRangeFilter"],r),e}function zNe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&g(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const o=p(t,["topK"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topK"],o);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","seed"],u);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],t2(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],h);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],UNe(En(y)));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let C=Cf(v);Array.isArray(C)&&(C=C.map(S=>rRe(Af(S)))),g(e,["setup","tools"],C)}const _=p(t,["sessionResumption"]);e!==void 0&&_!=null&&g(e,["setup","sessionResumption"],tRe(_));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const T=p(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&g(e,["setup","contextWindowCompression"],k);const A=p(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function WNe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&g(e,["setup","generationConfig"],jNe(n));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const o=p(t,["topK"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topK"],o);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","seed"],u);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],t2(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],h);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],En(y));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let S=Cf(v);Array.isArray(S)&&(S=S.map(I=>nRe(Af(I)))),g(e,["setup","tools"],S)}const _=p(t,["sessionResumption"]);e!==void 0&&_!=null&&g(e,["setup","sessionResumption"],_);const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const T=p(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&g(e,["setup","contextWindowCompression"],k);const A=p(t,["proactivity"]);e!==void 0&&A!=null&&g(e,["setup","proactivity"],A);const C=p(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&g(e,["setup","explicitVadSignal"],C),r}function qNe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["setup","model"],wt(t,n));const i=p(e,["config"]);return i!=null&&g(r,["config"],zNe(i,r)),r}function KNe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["setup","model"],wt(t,n));const i=p(e,["config"]);return i!=null&&g(r,["config"],WNe(i,r)),r}function XNe(t){const e={},r=p(t,["musicGenerationConfig"]);return r!=null&&g(e,["musicGenerationConfig"],r),e}function YNe(t){const e={},r=p(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),g(e,["weightedPrompts"],n)}return e}function JNe(t){const e={},r=p(t,["media"]);if(r!=null){let c=AB(r);Array.isArray(c)&&(c=c.map(u=>Em(u))),g(e,["mediaChunks"],c)}const n=p(t,["audio"]);n!=null&&g(e,["audio"],Em(IB(n)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&g(e,["video"],Em(CB(a)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const o=p(t,["activityStart"]);o!=null&&g(e,["activityStart"],o);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function QNe(t){const e={},r=p(t,["media"]);if(r!=null){let c=AB(r);Array.isArray(c)&&(c=c.map(u=>u)),g(e,["mediaChunks"],c)}const n=p(t,["audio"]);n!=null&&g(e,["audio"],IB(n));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&g(e,["video"],CB(a));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const o=p(t,["activityStart"]);o!=null&&g(e,["activityStart"],o);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function ZNe(t){const e={},r=p(t,["setupComplete"]);r!=null&&g(e,["setupComplete"],r);const n=p(t,["serverContent"]);n!=null&&g(e,["serverContent"],n);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],iRe(s));const o=p(t,["goAway"]);o!=null&&g(e,["goAway"],o);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const c=p(t,["voiceActivityDetectionSignal"]);c!=null&&g(e,["voiceActivityDetectionSignal"],c);const u=p(t,["voiceActivity"]);return u!=null&&g(e,["voiceActivity"],aRe(u)),e}function eRe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&g(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&g(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],$Ne(a));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],BNe(s));const o=p(t,["functionResponse"]);o!=null&&g(e,["functionResponse"],o);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Em(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const u=p(t,["thought"]);u!=null&&g(e,["thought"],u);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&g(e,["videoMetadata"],d),e}function tRe(t){const e={},r=p(t,["handle"]);if(r!=null&&g(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rRe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const n=p(t,["fileSearch"]);n!=null&&g(e,["fileSearch"],n);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["functionDeclarations"],u)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],GNe(s));const o=p(t,["googleSearch"]);o!=null&&g(e,["googleSearch"],HNe(o));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function nRe(t){const e={},r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const n=p(t,["computerUse"]);if(n!=null&&g(e,["computerUse"],n),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const a=p(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>VNe(d))),g(e,["functionDeclarations"],f)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],o);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function iRe(t){const e={},r=p(t,["promptTokenCount"]);r!=null&&g(e,["promptTokenCount"],r);const n=p(t,["cachedContentTokenCount"]);n!=null&&g(e,["cachedContentTokenCount"],n);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const o=p(t,["totalTokenCount"]);o!=null&&g(e,["totalTokenCount"],o);const l=p(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["promptTokensDetails"],h)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["cacheTokensDetails"],h)}const u=p(t,["candidatesTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["responseTokensDetails"],h)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["toolUsePromptTokensDetails"],h)}const d=p(t,["trafficType"]);return d!=null&&g(e,["trafficType"],d),e}function aRe(t){const e={},r=p(t,["type"]);return r!=null&&g(e,["voiceActivityType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sRe(t){const e={},r=p(t,["data"]);if(r!=null&&g(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function oRe(t){const e={},r=p(t,["content"]);r!=null&&g(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&g(e,["citationMetadata"],lRe(n));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const o=p(t,["groundingMetadata"]);o!=null&&g(e,["groundingMetadata"],o);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const c=p(t,["logprobsResult"]);c!=null&&g(e,["logprobsResult"],c);const u=p(t,["safetyRatings"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>h)),g(e,["safetyRatings"],d)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function lRe(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),g(e,["citations"],n)}return e}function cRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let a=Oi(i);Array.isArray(a)&&(a=a.map(s=>s)),g(r,["contents"],a)}return r}function uRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),g(e,["tokensInfo"],i)}return e}function fRe(t){const e={},r=p(t,["values"]);r!=null&&g(e,["values"],r);const n=p(t,["statistics"]);return n!=null&&g(e,["statistics"],dRe(n)),e}function dRe(t){const e={},r=p(t,["truncated"]);r!=null&&g(e,["truncated"],r);const n=p(t,["token_count"]);return n!=null&&g(e,["tokenCount"],n),e}function ux(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>wOe(a))),g(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&g(e,["role"],n),e}function hRe(t){const e={},r=p(t,["controlType"]);r!=null&&g(e,["controlType"],r);const n=p(t,["enableControlImageComputation"]);return n!=null&&g(e,["computeControl"],n),e}function pRe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mRe(t,e){const r={},n=p(t,["systemInstruction"]);e!==void 0&&n!=null&&g(e,["systemInstruction"],En(n));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>jB(o))),g(e,["tools"],s)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],sOe(a)),r}function gRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let s=Oi(i);Array.isArray(s)&&(s=s.map(o=>ux(o))),g(r,["contents"],s)}const a=p(e,["config"]);return a!=null&&pRe(a),r}function vRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let s=Oi(i);Array.isArray(s)&&(s=s.map(o=>o)),g(r,["contents"],s)}const a=p(e,["config"]);return a!=null&&mRe(a,r),r}function yRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);n!=null&&g(e,["totalTokens"],n);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function xRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);return n!=null&&g(e,["totalTokens"],n),e}function _Re(t,e){const r={},n=p(e,["model"]);return n!=null&&g(r,["_url","name"],wt(t,n)),r}function wRe(t,e){const r={},n=p(e,["model"]);return n!=null&&g(r,["_url","name"],wt(t,n)),r}function ERe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}function TRe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}function SRe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&g(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const o=p(t,["guidanceScale"]);e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&g(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","compressionQuality"],v);const _=p(t,["addWatermark"]);e!==void 0&&_!=null&&g(e,["parameters","addWatermark"],_);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const T=p(t,["editMode"]);e!==void 0&&T!=null&&g(e,["parameters","editMode"],T);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&g(e,["parameters","editConfig","baseSteps"],E),r}function bRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["prompt"]);i!=null&&g(r,["instances[0]","prompt"],i);const a=p(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>COe(l))),g(r,["instances[0]","referenceImages"],o)}const s=p(e,["config"]);return s!=null&&SRe(s,r),r}function ARe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fx(a))),g(e,["generatedImages"],i)}return e}function CRe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&g(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function IRe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&g(e,["instances[]","task_type"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const o=p(t,["autoTruncate"]);return e!==void 0&&o!=null&&g(e,["parameters","autoTruncate"],o),r}function kRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let o=QA(t,i);Array.isArray(o)&&(o=o.map(l=>l)),g(r,["requests[]","content"],o)}const a=p(e,["config"]);a!=null&&CRe(a,r);const s=p(e,["model"]);return s!==void 0&&g(r,["requests[]","model"],wt(t,s)),r}function PRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let s=QA(t,i);Array.isArray(s)&&(s=s.map(o=>o)),g(r,["instances[]","content"],s)}const a=p(e,["config"]);return a!=null&&IRe(a,r),r}function NRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["embeddings"],a)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function RRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>fRe(s))),g(e,["embeddings"],a)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function ORe(t){const e={},r=p(t,["endpoint"]);r!=null&&g(e,["name"],r);const n=p(t,["deployedModelId"]);return n!=null&&g(e,["deployedModelId"],n),e}function MRe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function DRe(t){const e={},r=p(t,["id"]);r!=null&&g(e,["id"],r);const n=p(t,["args"]);n!=null&&g(e,["args"],n);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FRe(t){const e={},r=p(t,["allowedFunctionNames"]);r!=null&&g(e,["allowedFunctionNames"],r);const n=p(t,["mode"]);if(n!=null&&g(e,["mode"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LRe(t){const e={},r=p(t,["description"]);r!=null&&g(e,["description"],r);const n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const o=p(t,["responseJsonSchema"]);if(o!=null&&g(e,["responseJsonSchema"],o),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function URe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&g(r,["systemInstruction"],ux(En(i)));const a=p(e,["temperature"]);a!=null&&g(n,["temperature"],a);const s=p(e,["topP"]);s!=null&&g(n,["topP"],s);const o=p(e,["topK"]);o!=null&&g(n,["topK"],o);const l=p(e,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&g(n,["maxOutputTokens"],c);const u=p(e,["stopSequences"]);u!=null&&g(n,["stopSequences"],u);const f=p(e,["responseLogprobs"]);f!=null&&g(n,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&g(n,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&g(n,["presencePenalty"],h);const y=p(e,["frequencyPenalty"]);y!=null&&g(n,["frequencyPenalty"],y);const v=p(e,["seed"]);v!=null&&g(n,["seed"],v);const _=p(e,["responseMimeType"]);_!=null&&g(n,["responseMimeType"],_);const w=p(e,["responseSchema"]);w!=null&&g(n,["responseSchema"],ZA(w));const T=p(e,["responseJsonSchema"]);if(T!=null&&g(n,["responseJsonSchema"],T),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(r!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(J=>IOe(J))),g(r,["safetySettings"],D)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let D=Cf(k);Array.isArray(D)&&(D=D.map(J=>DOe(Af(J)))),g(r,["tools"],D)}const A=p(e,["toolConfig"]);if(r!==void 0&&A!=null&&g(r,["toolConfig"],MOe(A)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);r!==void 0&&C!=null&&g(r,["cachedContent"],Fs(t,C));const S=p(e,["responseModalities"]);S!=null&&g(n,["responseModalities"],S);const I=p(e,["mediaResolution"]);I!=null&&g(n,["mediaResolution"],I);const b=p(e,["speechConfig"]);if(b!=null&&g(n,["speechConfig"],e2(b)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(n,["thinkingConfig"],N);const O=p(e,["imageConfig"]);O!=null&&g(n,["imageConfig"],fOe(O));const R=p(e,["enableEnhancedCivicAnswers"]);if(R!=null&&g(n,["enableEnhancedCivicAnswers"],R),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function $Re(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&g(r,["systemInstruction"],En(i));const a=p(e,["temperature"]);a!=null&&g(n,["temperature"],a);const s=p(e,["topP"]);s!=null&&g(n,["topP"],s);const o=p(e,["topK"]);o!=null&&g(n,["topK"],o);const l=p(e,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&g(n,["maxOutputTokens"],c);const u=p(e,["stopSequences"]);u!=null&&g(n,["stopSequences"],u);const f=p(e,["responseLogprobs"]);f!=null&&g(n,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&g(n,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&g(n,["presencePenalty"],h);const y=p(e,["frequencyPenalty"]);y!=null&&g(n,["frequencyPenalty"],y);const v=p(e,["seed"]);v!=null&&g(n,["seed"],v);const _=p(e,["responseMimeType"]);_!=null&&g(n,["responseMimeType"],_);const w=p(e,["responseSchema"]);w!=null&&g(n,["responseSchema"],ZA(w));const T=p(e,["responseJsonSchema"]);T!=null&&g(n,["responseJsonSchema"],T);const E=p(e,["routingConfig"]);E!=null&&g(n,["routingConfig"],E);const k=p(e,["modelSelectionConfig"]);k!=null&&g(n,["modelConfig"],k);const A=p(e,["safetySettings"]);if(r!==void 0&&A!=null){let Z=A;Array.isArray(Z)&&(Z=Z.map(ee=>ee)),g(r,["safetySettings"],Z)}const C=p(e,["tools"]);if(r!==void 0&&C!=null){let Z=Cf(C);Array.isArray(Z)&&(Z=Z.map(ee=>jB(Af(ee)))),g(r,["tools"],Z)}const S=p(e,["toolConfig"]);r!==void 0&&S!=null&&g(r,["toolConfig"],S);const I=p(e,["labels"]);r!==void 0&&I!=null&&g(r,["labels"],I);const b=p(e,["cachedContent"]);r!==void 0&&b!=null&&g(r,["cachedContent"],Fs(t,b));const N=p(e,["responseModalities"]);N!=null&&g(n,["responseModalities"],N);const O=p(e,["mediaResolution"]);O!=null&&g(n,["mediaResolution"],O);const R=p(e,["speechConfig"]);R!=null&&g(n,["speechConfig"],e2(R));const D=p(e,["audioTimestamp"]);D!=null&&g(n,["audioTimestamp"],D);const J=p(e,["thinkingConfig"]);J!=null&&g(n,["thinkingConfig"],J);const X=p(e,["imageConfig"]);if(X!=null&&g(n,["imageConfig"],dOe(X)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const te=p(e,["modelArmorConfig"]);return r!==void 0&&te!=null&&g(r,["modelArmorConfig"],te),n}function hD(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let s=Oi(i);Array.isArray(s)&&(s=s.map(o=>ux(o))),g(r,["contents"],s)}const a=p(e,["config"]);return a!=null&&g(r,["generationConfig"],URe(t,a,r)),r}function pD(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["contents"]);if(i!=null){let s=Oi(i);Array.isArray(s)&&(s=s.map(o=>o)),g(r,["contents"],s)}const a=p(e,["config"]);return a!=null&&g(r,["generationConfig"],$Re(t,a,r)),r}function mD(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>oRe(c))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const o=p(t,["usageMetadata"]);return o!=null&&g(e,["usageMetadata"],o),e}function gD(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>u)),g(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function BRe(t,e){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&g(e,["parameters","sampleCount"],n);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const u=p(t,["language"]);e!==void 0&&u!=null&&g(e,["parameters","language"],u);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const d=p(t,["outputCompressionQuality"]);if(e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=p(t,["imageSize"]);if(e!==void 0&&h!=null&&g(e,["parameters","sampleImageSize"],h),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function VRe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&g(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const o=p(t,["guidanceScale"]);e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&g(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","compressionQuality"],v);const _=p(t,["addWatermark"]);e!==void 0&&_!=null&&g(e,["parameters","addWatermark"],_);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const T=p(t,["imageSize"]);e!==void 0&&T!=null&&g(e,["parameters","sampleImageSize"],T);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E),r}function jRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["prompt"]);i!=null&&g(r,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&BRe(a,r),r}function GRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["prompt"]);i!=null&&g(r,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&VRe(a,r),r}function HRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rOe(s))),g(e,["generatedImages"],a)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],BB(i)),e}function zRe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>fx(s))),g(e,["generatedImages"],a)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],VB(i)),e}function WRe(t,e){const r={},n=p(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&g(e,["parameters","sampleCount"],n),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const o=p(t,["personGeneration"]);if(e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&g(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const u=p(t,["lastFrame"]);e!==void 0&&u!=null&&g(e,["instances[0]","lastFrame"],dx(u));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>KOe(h))),g(e,["instances[0]","referenceImages"],d)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function qRe(t,e){const r={},n=p(t,["numberOfVideos"]);e!==void 0&&n!=null&&g(e,["parameters","sampleCount"],n);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const d=p(t,["negativePrompt"]);e!==void 0&&d!=null&&g(e,["parameters","negativePrompt"],d);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["generateAudio"]);e!==void 0&&y!=null&&g(e,["parameters","generateAudio"],y);const v=p(t,["lastFrame"]);e!==void 0&&v!=null&&g(e,["instances[0]","lastFrame"],pa(v));const _=p(t,["referenceImages"]);if(e!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(k=>XOe(k))),g(e,["instances[0]","referenceImages"],E)}const w=p(t,["mask"]);e!==void 0&&w!=null&&g(e,["instances[0]","mask"],qOe(w));const T=p(t,["compressionQuality"]);return e!==void 0&&T!=null&&g(e,["parameters","compressionQuality"],T),r}function KRe(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],QRe(s)),e}function XRe(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response"]);return s!=null&&g(e,["response"],ZRe(s)),e}function YRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["prompt"]);i!=null&&g(r,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&g(r,["instances[0]","image"],dx(a));const s=p(e,["video"]);s!=null&&g(r,["instances[0]","video"],GB(s));const o=p(e,["source"]);o!=null&&eOe(o,r);const l=p(e,["config"]);return l!=null&&WRe(l,r),r}function JRe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["prompt"]);i!=null&&g(r,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&g(r,["instances[0]","image"],pa(a));const s=p(e,["video"]);s!=null&&g(r,["instances[0]","video"],HB(s));const o=p(e,["source"]);o!=null&&tOe(o,r);const l=p(e,["config"]);return l!=null&&qRe(l,r),r}function QRe(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>iOe(s))),g(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&g(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function ZRe(t){const e={},r=p(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>aOe(s))),g(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&g(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function eOe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&g(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],dx(i));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],GB(a)),r}function tOe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&g(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],pa(i));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],HB(a)),r}function rOe(t){const e={},r=p(t,["_self"]);r!=null&&g(e,["image"],hOe(r));const n=p(t,["raiFilteredReason"]);n!=null&&g(e,["raiFilteredReason"],n);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],BB(i)),e}function fx(t){const e={},r=p(t,["_self"]);r!=null&&g(e,["image"],$B(r));const n=p(t,["raiFilteredReason"]);n!=null&&g(e,["raiFilteredReason"],n);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],VB(i));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function nOe(t){const e={},r=p(t,["_self"]);r!=null&&g(e,["mask"],$B(r));const n=p(t,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),g(e,["labels"],i)}return e}function iOe(t){const e={},r=p(t,["video"]);return r!=null&&g(e,["video"],zOe(r)),e}function aOe(t){const e={},r=p(t,["_self"]);return r!=null&&g(e,["video"],WOe(r)),e}function sOe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&g(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&g(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const o=p(t,["frequencyPenalty"]);o!=null&&g(e,["frequencyPenalty"],o);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const c=p(t,["maxOutputTokens"]);c!=null&&g(e,["maxOutputTokens"],c);const u=p(t,["mediaResolution"]);u!=null&&g(e,["mediaResolution"],u);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const d=p(t,["responseLogprobs"]);d!=null&&g(e,["responseLogprobs"],d);const h=p(t,["responseMimeType"]);h!=null&&g(e,["responseMimeType"],h);const y=p(t,["responseModalities"]);y!=null&&g(e,["responseModalities"],y);const v=p(t,["responseSchema"]);v!=null&&g(e,["responseSchema"],v);const _=p(t,["routingConfig"]);_!=null&&g(e,["routingConfig"],_);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const T=p(t,["speechConfig"]);T!=null&&g(e,["speechConfig"],T);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const k=p(t,["temperature"]);k!=null&&g(e,["temperature"],k);const A=p(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oOe(t,e){const r={},n=p(e,["model"]);return n!=null&&g(r,["_url","name"],wt(t,n)),r}function lOe(t,e){const r={},n=p(e,["model"]);return n!=null&&g(r,["_url","name"],wt(t,n)),r}function cOe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(e,["enableWidget"],r),e}function uOe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(e,["timeRangeFilter"],r),e}function fOe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&g(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&g(e,["imageSize"],n),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dOe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&g(e,["aspectRatio"],r);const n=p(t,["imageSize"]);n!=null&&g(e,["imageSize"],n);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const a=p(t,["outputMimeType"]);a!=null&&g(e,["imageOutputOptions","mimeType"],a);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function hOe(t){const e={},r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Ho(r));const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function $B(t){const e={},r=p(t,["gcsUri"]);r!=null&&g(e,["gcsUri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Ho(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function dx(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ho(r));const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function pa(t){const e={},r=p(t,["gcsUri"]);r!=null&&g(e,["gcsUri"],r);const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Ho(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function pOe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&g(r,["_query","pageSize"],i);const a=p(e,["pageToken"]);r!==void 0&&a!=null&&g(r,["_query","pageToken"],a);const s=p(e,["filter"]);r!==void 0&&s!=null&&g(r,["_query","filter"],s);const o=p(e,["queryBase"]);return r!==void 0&&o!=null&&g(r,["_url","models_url"],RB(t,o)),n}function mOe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&g(r,["_query","pageSize"],i);const a=p(e,["pageToken"]);r!==void 0&&a!=null&&g(r,["_query","pageToken"],a);const s=p(e,["filter"]);r!==void 0&&s!=null&&g(r,["_query","filter"],s);const o=p(e,["queryBase"]);return r!==void 0&&o!=null&&g(r,["_url","models_url"],RB(t,o)),n}function gOe(t,e){const r={},n=p(e,["config"]);return n!=null&&pOe(t,n,r),r}function vOe(t,e){const r={},n=p(e,["config"]);return n!=null&&mOe(t,n,r),r}function yOe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let a=OB(i);Array.isArray(a)&&(a=a.map(s=>nT(s))),g(e,["models"],a)}return e}function xOe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let a=OB(i);Array.isArray(a)&&(a=a.map(s=>iT(s))),g(e,["models"],a)}return e}function _Oe(t){const e={},r=p(t,["maskMode"]);r!=null&&g(e,["maskMode"],r);const n=p(t,["segmentationClasses"]);n!=null&&g(e,["maskClasses"],n);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function nT(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],FOe(s));const o=p(t,["inputTokenLimit"]);o!=null&&g(e,["inputTokenLimit"],o);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const c=p(t,["supportedGenerationMethods"]);c!=null&&g(e,["supportedActions"],c);const u=p(t,["temperature"]);u!=null&&g(e,["temperature"],u);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const d=p(t,["topP"]);d!=null&&g(e,["topP"],d);const h=p(t,["topK"]);h!=null&&g(e,["topK"],h);const y=p(t,["thinking"]);return y!=null&&g(e,["thinking"],y),e}function iT(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>ORe(d))),g(e,["endpoints"],f)}const o=p(t,["labels"]);o!=null&&g(e,["labels"],o);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],LOe(l));const c=p(t,["defaultCheckpointId"]);c!=null&&g(e,["defaultCheckpointId"],c);const u=p(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(d=>d)),g(e,["checkpoints"],f)}return e}function wOe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&g(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&g(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],MRe(a));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],DRe(s));const o=p(t,["functionResponse"]);o!=null&&g(e,["functionResponse"],o);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],sRe(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const u=p(t,["thought"]);u!=null&&g(e,["thought"],u);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&g(e,["videoMetadata"],d),e}function EOe(t){const e={},r=p(t,["productImage"]);return r!=null&&g(e,["image"],pa(r)),e}function TOe(t,e){const r={},n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&g(e,["parameters","sampleCount"],n);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&g(e,["parameters","addWatermark"],c);const u=p(t,["outputMimeType"]);e!==void 0&&u!=null&&g(e,["parameters","outputOptions","mimeType"],u);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const d=p(t,["enhancePrompt"]);e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),r}function SOe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["source"]);i!=null&&AOe(i,r);const a=p(e,["config"]);return a!=null&&TOe(a,r),r}function bOe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>fx(i))),g(e,["generatedImages"],n)}return e}function AOe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&g(e,["instances[0]","prompt"],n);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],pa(i));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>EOe(o))),g(e,["instances[0]","productImages"],s)}return r}function COe(t){const e={},r=p(t,["referenceImage"]);r!=null&&g(e,["referenceImage"],pa(r));const n=p(t,["referenceId"]);n!=null&&g(e,["referenceId"],n);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],_Oe(a));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],hRe(s));const o=p(t,["styleImageConfig"]);o!=null&&g(e,["styleImageConfig"],o);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function BB(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&g(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&g(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function VB(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&g(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&g(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function IOe(t){const e={},r=p(t,["category"]);if(r!=null&&g(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&g(e,["threshold"],n),e}function kOe(t){const e={},r=p(t,["image"]);return r!=null&&g(e,["image"],pa(r)),e}function POe(t,e){const r={},n=p(t,["mode"]);e!==void 0&&n!=null&&g(e,["parameters","mode"],n);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const o=p(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","binaryColorThreshold"],o);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),r}function NOe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["source"]);i!=null&&OOe(i,r);const a=p(e,["config"]);return a!=null&&POe(a,r),r}function ROe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>nOe(i))),g(e,["generatedMasks"],n)}return e}function OOe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&g(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],pa(i));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],kOe(a)),r}function MOe(t){const e={},r=p(t,["retrievalConfig"]);r!=null&&g(e,["retrievalConfig"],r);const n=p(t,["functionCallingConfig"]);return n!=null&&g(e,["functionCallingConfig"],FRe(n)),e}function DOe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const n=p(t,["fileSearch"]);n!=null&&g(e,["fileSearch"],n);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["functionDeclarations"],u)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],cOe(s));const o=p(t,["googleSearch"]);o!=null&&g(e,["googleSearch"],uOe(o));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function jB(t){const e={},r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const n=p(t,["computerUse"]);if(n!=null&&g(e,["computerUse"],n),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const a=p(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>LRe(d))),g(e,["functionDeclarations"],f)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],o);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function FOe(t){const e={},r=p(t,["baseModel"]);r!=null&&g(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&g(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function LOe(t){const e={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&g(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function UOe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&g(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),r}function $Oe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&g(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),r}function BOe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","name"],wt(t,n));const i=p(e,["config"]);return i!=null&&UOe(i,r),r}function VOe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["config"]);return i!=null&&$Oe(i,r),r}function jOe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&g(e,["parameters","storageUri"],n);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const o=p(t,["outputMimeType"]);e!==void 0&&o!=null&&g(e,["parameters","outputOptions","mimeType"],o);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const c=p(t,["enhanceInputImage"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],c);const u=p(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const d=p(t,["numberOfImages"]);e!==void 0&&d!=null&&g(e,["parameters","sampleCount"],d);const h=p(t,["mode"]);return e!==void 0&&h!=null&&g(e,["parameters","mode"],h),r}function GOe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["_url","model"],wt(t,n));const i=p(e,["image"]);i!=null&&g(r,["instances[0]","image"],pa(i));const a=p(e,["upscaleFactor"]);a!=null&&g(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=p(e,["config"]);return s!=null&&jOe(s,r),r}function HOe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fx(a))),g(e,["generatedImages"],i)}return e}function zOe(t){const e={},r=p(t,["uri"]);r!=null&&g(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&g(e,["videoBytes"],Ho(n));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function WOe(t){const e={},r=p(t,["gcsUri"]);r!=null&&g(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["videoBytes"],Ho(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function qOe(t){const e={},r=p(t,["image"]);r!=null&&g(e,["_self"],pa(r));const n=p(t,["maskMode"]);return n!=null&&g(e,["maskMode"],n),e}function KOe(t){const e={},r=p(t,["image"]);r!=null&&g(e,["image"],dx(r));const n=p(t,["referenceType"]);return n!=null&&g(e,["referenceType"],n),e}function XOe(t){const e={},r=p(t,["image"]);r!=null&&g(e,["image"],pa(r));const n=p(t,["referenceType"]);return n!=null&&g(e,["referenceType"],n),e}function GB(t){const e={},r=p(t,["uri"]);r!=null&&g(e,["uri"],r);const n=p(t,["videoBytes"]);n!=null&&g(e,["encodedVideo"],Ho(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function HB(t){const e={},r=p(t,["uri"]);r!=null&&g(e,["gcsUri"],r);const n=p(t,["videoBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Ho(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YOe(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&g(e,["displayName"],n),r}function JOe(t){const e={},r=p(t,["config"]);return r!=null&&YOe(r,e),e}function QOe(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&g(e,["_query","force"],n),r}function ZOe(t){const e={},r=p(t,["name"]);r!=null&&g(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&QOe(n,e),e}function eMe(t){const e={},r=p(t,["name"]);return r!=null&&g(e,["_url","name"],r),e}function tMe(t,e){const r={},n=p(t,["customMetadata"]);if(e!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["customMetadata"],a)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),r}function rMe(t){const e={},r=p(t,["name"]);r!=null&&g(e,["name"],r);const n=p(t,["metadata"]);n!=null&&g(e,["metadata"],n);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const s=p(t,["response"]);return s!=null&&g(e,["response"],iMe(s)),e}function nMe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&g(e,["_url","file_search_store_name"],r);const n=p(t,["fileName"]);n!=null&&g(e,["fileName"],n);const i=p(t,["config"]);return i!=null&&tMe(i,e),e}function iMe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&g(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function aMe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),r}function sMe(t){const e={},r=p(t,["config"]);return r!=null&&aMe(r,e),e}function oMe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["fileSearchStores"],a)}return e}function zB(t,e){const r={},n=p(t,["mimeType"]);e!==void 0&&n!=null&&g(e,["mimeType"],n);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["customMetadata"],o)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),r}function lMe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&g(e,["_url","file_search_store_name"],r);const n=p(t,["config"]);return n!=null&&zB(n,e),e}function cMe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uMe="Content-Type",fMe="X-Server-Timeout",dMe="User-Agent",aT="x-goog-api-client",hMe="1.38.0",pMe=`google-genai-sdk/${hMe}`,mMe="v1beta1",gMe="v1beta";class vMe{constructor(e){var r,n,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(r=e.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:mMe}else{if(!this.clientOptions.apiKey)throw new u0({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:gMe,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,r){return!(r.baseUrl&&r.baseUrlResourceScope===ZE.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const a=new AbortController,s=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const o=setTimeout(()=>a.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return r&&r.extraBody!==null&&yMe(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await vD(i),new eT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await vD(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ca(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:u}=yield Ye(i.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(u,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const v=JSON.parse(JSON.stringify(y.error)),_=v.status,w=v.code,T=`got status: ${_}. ${JSON.stringify(y)}`;if(w>=400&&w<600)throw new u0({message:T,status:w})}}catch(y){if(y.name==="ApiError")throw y}s+=f;let d=-1,h=0;for(;;){d=-1,h=0;for(const _ of l){const w=s.indexOf(_);w!==-1&&(d===-1||w<d)&&(d=w,h=_.length)}if(d===-1)break;const y=s.substring(0,d);s=s.substring(d+h);const v=y.trim();if(v.startsWith(o)){const _=v.substring(o.length).trim();try{const w=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new eT(w))}catch(w){throw new Error(`exception parsing stream chunk ${_}. ${w}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=pMe+" "+this.clientOptions.userAgentExtra;return e[dMe]=r,e[aT]=r,e[uMe]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))n.append(i,a);e.timeout&&e.timeout>0&&n.append(fMe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},c=this.getFileName(e),u=Oe("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(u,i.sizeBytes,i.mimeType,c,l,r==null?void 0:r.httpOptions);return a.upload(e,f,this)}async uploadFileToFileSearchStore(e,r,n){var i;const a=this.clientOptions.uploader,s=await a.stat(r),o=String(s.size),l=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(r),f={};n!=null&&zB(n,f);const d=await this.fetchUploadUrl(c,o,l,u,f,n==null?void 0:n.httpOptions);return a.uploadToFileSearchStore(r,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,a,s){var o;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function vD(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new u0({message:i,status:r}):new Error(i)}}function yMe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const o=Object.assign({},a);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const c=s[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=n(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xMe="mcp_used/unknown";let _Me=!1;function WB(t){for(const e of t)if(wMe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _Me}function qB(t){var e;const r=(e=t[aT])!==null&&e!==void 0?e:"";t[aT]=(r+` ${xMe}`).trimStart()}function wMe(t){return t!==null&&typeof t=="object"&&t instanceof r2}function EMe(t){return ca(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const s=yield Ye(r.listTools({cursor:i}));for(const o of s.tools)yield yield Ye(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class r2{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new r2(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const u of this.mcpClients)try{for(var o=!0,l=(r=void 0,ua(EMe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;s.push(f);const d=f.name;if(a[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a[d]=u}}catch(f){r={error:f}}finally{try{!o&&!e&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Zke(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TMe(t,e,r){const n=new zke;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class SMe{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=CMe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(E=>{c=E}),f=e.callbacks,d=function(){c({})},h=this.apiClient,y={onopen:d,onmessage:E=>{TMe(h,f.onmessage,E)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(E){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(E){}},v=this.webSocketFactory.create(l,AMe(s),y);v.connect(),await u;const T={setup:{model:wt(this.apiClient,e.model)}};return v.send(JSON.stringify(T)),new bMe(v,this.apiClient)}}class bMe{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=YNe(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=XNe(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(jc.PLAY)}pause(){this.sendPlaybackControl(jc.PAUSE)}stop(){this.sendPlaybackControl(jc.STOP)}resetContext(){this.sendPlaybackControl(jc.RESET_CONTEXT)}close(){this.conn.close()}}function AMe(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function CMe(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IMe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kMe(t,e,r){const n=new Hke;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=ZNe(a);Object.assign(n,s)}else Object.assign(n,a);e(n)}class PMe{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new SMe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&WB(e.config.tools)&&qB(f);const d=MMe(f);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),N=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),R=!!b&&!!N||!!O;this.apiClient.getCustomBaseUrl()&&!R?u=l:(u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u))}else{const b=this.apiClient.getApiKey();let N="BidiGenerateContent",O="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",O="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${N}?${O}=${b}`}let h=()=>{};const y=new Promise(b=>{h=b}),v=e.callbacks,_=function(){var b;(b=v==null?void 0:v.onopen)===null||b===void 0||b.call(v),h({})},w=this.apiClient,T={onopen:_,onmessage:b=>{kMe(w,v.onmessage,b)},onerror:(r=v==null?void 0:v.onerror)!==null&&r!==void 0?r:function(b){},onclose:(n=v==null?void 0:v.onclose)!==null&&n!==void 0?n:function(b){}},E=this.webSocketFactory.create(u,OMe(d),T);E.connect(),await y;let k=wt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const b=this.apiClient.getProject(),N=this.apiClient.getLocation();b&&N&&(k=`projects/${b}/locations/${N}/`+k)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sv.AUDIO]}:e.config.responseModalities=[Sv.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],S=[];for(const b of C)if(this.isCallableTool(b)){const N=b;S.push(await N.tool())}else S.push(b);S.length>0&&(e.config.tools=S);const I={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=KNe(this.apiClient,I):A=qNe(this.apiClient,I),delete A.config,E.send(JSON.stringify(A)),new RMe(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const NMe={turnComplete:!0};class RMe{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Oi(r.turns),e.isVertexAI()||(n=n.map(i=>ux(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(IMe)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},NMe),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:QNe(e)}:r={realtimeInput:JNe(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function OMe(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function MMe(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yD=10;function xD(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(cu(s)){i=!0;break}if(!i)return!0;const a=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function cu(t){return"callTool"in t&&typeof t.callTool=="function"}function DMe(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>cu(i)))!==null&&n!==void 0?n:!1}function _D(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(cu(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function wD(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FMe extends Ds{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,a,s,o;const l=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!DMe(r)||xD(r.config))return await this.generateContentInternal(l);const c=_D(r);if(c.length>0){const v=c.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let u,f;const d=Oi(l.contents),h=(a=(i=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:yD;let y=0;for(;y<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,_=[];for(const w of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(cu(w)){const E=await w.callTool(u.functionCalls);_.push(...E)}y++,f={role:"user",parts:_},l.contents=Oi(l.contents),l.contents.push(v),l.contents.push(f),wD(l.config)&&(d.push(v),d.push(f))}return wD(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async r=>{var n,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(r),xD(r.config)){const f=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(f)}const l=_D(r);if(l.length>0){const f=l.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,u=(o=(s=r==null?void 0:r.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:s.push(l);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new oc(Is.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,s,o,l;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(a=r.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((l=(o=r.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const a=(r=e.config)===null||r===void 0?void 0:r.tools;if(!a)return e;const s=await Promise.all(a.map(async l=>cu(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&WB(e.config.tools)){const l=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),qB(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var r,n,i;const a=new Map;for(const s of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(cu(s)){const o=s,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var r,n,i;const a=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:yD;let s=!1,o=0;const l=await this.initAfcToolsMap(e);return function(c,u,f){return ca(this,arguments,function*(){for(var d,h,y,v,_,w;o<a;){s&&(o++,s=!1);const A=yield Ye(c.processParamsMaybeAddMcpUsage(f)),C=yield Ye(c.generateContentStreamInternal(A)),S=[],I=[];try{for(var T=!0,E=(h=void 0,ua(C)),k;k=yield Ye(E.next()),d=k.done,!d;T=!0){v=k.value,T=!1;const b=v;if(yield yield Ye(b),b.candidates&&(!((_=b.candidates[0])===null||_===void 0)&&_.content)){I.push(b.candidates[0].content);for(const N of(w=b.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(o<a&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(N.functionCall.name)){const O=yield Ye(u.get(N.functionCall.name).callTool([N.functionCall]));S.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(b){h={error:b}}finally{try{!T&&!d&&(y=E.return)&&(yield Ye(y.call(E)))}finally{if(h)throw h.error}}if(S.length>0){s=!0;const b=new nd;b.candidates=[{content:{role:"user",parts:S}}],yield yield Ye(b);const N=[];N.push(...I),N.push({role:"user",parts:S});const O=Oi(f.contents).concat(N);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=pD(this.apiClient,e);return o=Oe("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=gD(u),d=new nd;return Object.assign(d,f),d})}else{const c=hD(this.apiClient,e);return o=Oe("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=mD(u),d=new nd;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=pD(this.apiClient,e);return o=Oe("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(f){return ca(this,arguments,function*(){var d,h,y,v;try{for(var _=!0,w=ua(f),T;T=yield Ye(w.next()),d=T.done,!d;_=!0){v=T.value,_=!1;const E=v,k=gD(yield Ye(E.json()));k.sdkHttpResponse={headers:E.headers};const A=new nd;Object.assign(A,k),yield yield Ye(A)}}catch(E){h={error:E}}finally{try{!_&&!d&&(y=w.return)&&(yield Ye(y.call(w)))}finally{if(h)throw h.error}}})})}else{const c=hD(this.apiClient,e);return o=Oe("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(f){return ca(this,arguments,function*(){var d,h,y,v;try{for(var _=!0,w=ua(f),T;T=yield Ye(w.next()),d=T.done,!d;_=!0){v=T.value,_=!1;const E=v,k=mD(yield Ye(E.json()));k.sdkHttpResponse={headers:E.headers};const A=new nd;Object.assign(A,k),yield yield Ye(A)}}catch(E){h={error:E}}finally{try{!_&&!d&&(y=w.return)&&(yield Ye(y.call(w)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=PRe(this.apiClient,e);return o=Oe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=RRe(u),d=new YM;return Object.assign(d,f),d})}else{const c=kRe(this.apiClient,e);return o=Oe("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=NRe(u),d=new YM;return Object.assign(d,f),d})}}async generateImagesInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=GRe(this.apiClient,e);return o=Oe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=zRe(u),d=new JM;return Object.assign(d,f),d})}else{const c=jRe(this.apiClient,e);return o=Oe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=HRe(u),d=new JM;return Object.assign(d,f),d})}}async editImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=bRe(this.apiClient,e);return a=Oe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=ARe(l),u=new Oke;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=GOe(this.apiClient,e);return a=Oe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=HOe(l),u=new Mke;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=SOe(this.apiClient,e);return a=Oe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=bOe(l),u=new Dke;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=NOe(this.apiClient,e);return a=Oe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ROe(l),u=new Fke;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=lOe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>iT(u))}else{const c=oOe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>nT(u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=vOe(this.apiClient,e);return o=Oe("{models_url}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=xOe(u),d=new QM;return Object.assign(d,f),d})}else{const c=gOe(this.apiClient,e);return o=Oe("{models_url}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=yOe(u),d=new QM;return Object.assign(d,f),d})}}async update(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=VOe(this.apiClient,e);return o=Oe("{model}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>iT(u))}else{const c=BOe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>nT(u))}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=wRe(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=TRe(u),d=new ZM;return Object.assign(d,f),d})}else{const c=_Re(this.apiClient,e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=ERe(u),d=new ZM;return Object.assign(d,f),d})}}async countTokens(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=vRe(this.apiClient,e);return o=Oe("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=xRe(u),d=new eD;return Object.assign(d,f),d})}else{const c=gRe(this.apiClient,e);return o=Oe("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=yRe(u),d=new eD;return Object.assign(d,f),d})}}async computeTokens(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=cRe(this.apiClient,e);return a=Oe("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=uRe(l),u=new Lke;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=JRe(this.apiClient,e);return o=Oe("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=XRe(u),d=new bv;return Object.assign(d,f),d})}else{const c=YRe(this.apiClient,e);return o=Oe("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=KRe(u),d=new bv;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LMe extends Ds{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=Cke(e);return o=Oe("{operationName}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s}else{const c=Ake(e);return o=Oe("{operationName}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s}}async fetchPredictVideosOperationInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=xke(e);return a=Oe("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UMe(t){const e={},r=p(t,["data"]);if(r!=null&&g(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function $Me(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>KMe(a))),g(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&g(e,["role"],n),e}function BMe(t,e,r){const n={},i=p(e,["expireTime"]);r!==void 0&&i!=null&&g(r,["expireTime"],i);const a=p(e,["newSessionExpireTime"]);r!==void 0&&a!=null&&g(r,["newSessionExpireTime"],a);const s=p(e,["uses"]);r!==void 0&&s!=null&&g(r,["uses"],s);const o=p(e,["liveConnectConstraints"]);r!==void 0&&o!=null&&g(r,["bidiGenerateContentSetup"],qMe(t,o));const l=p(e,["lockAdditionalFields"]);return r!==void 0&&l!=null&&g(r,["fieldMask"],l),n}function VMe(t,e){const r={},n=p(e,["config"]);return n!=null&&g(r,["config"],BMe(t,n,r)),r}function jMe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&g(e,["mimeType"],n),e}function GMe(t){const e={},r=p(t,["id"]);r!=null&&g(e,["id"],r);const n=p(t,["args"]);n!=null&&g(e,["args"],n);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HMe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(e,["enableWidget"],r),e}function zMe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(e,["timeRangeFilter"],r),e}function WMe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&g(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const o=p(t,["topK"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topK"],o);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","seed"],u);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],t2(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],h);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],$Me(En(y)));const v=p(t,["tools"]);if(e!==void 0&&v!=null){let C=Cf(v);Array.isArray(C)&&(C=C.map(S=>YMe(Af(S)))),g(e,["setup","tools"],C)}const _=p(t,["sessionResumption"]);e!==void 0&&_!=null&&g(e,["setup","sessionResumption"],XMe(_));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const T=p(t,["outputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","outputAudioTranscription"],T);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&g(e,["setup","contextWindowCompression"],k);const A=p(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function qMe(t,e){const r={},n=p(e,["model"]);n!=null&&g(r,["setup","model"],wt(t,n));const i=p(e,["config"]);return i!=null&&g(r,["config"],WMe(i,r)),r}function KMe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&g(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&g(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],jMe(a));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],GMe(s));const o=p(t,["functionResponse"]);o!=null&&g(e,["functionResponse"],o);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],UMe(l));const c=p(t,["text"]);c!=null&&g(e,["text"],c);const u=p(t,["thought"]);u!=null&&g(e,["thought"],u);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&g(e,["videoMetadata"],d),e}function XMe(t){const e={},r=p(t,["handle"]);if(r!=null&&g(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function YMe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const n=p(t,["fileSearch"]);n!=null&&g(e,["fileSearch"],n);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),g(e,["functionDeclarations"],u)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],HMe(s));const o=p(t,["googleSearch"]);o!=null&&g(e,["googleSearch"],zMe(o));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JMe(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);e.push(...i)}else e.push(r)}return e.join(",")}function QMe(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,r=a):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const a=JMe(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class ZMe extends Ds{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=VMe(this.apiClient,e);a=Oe("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const l=QMe(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eDe(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&g(e,["_query","force"],n),r}function tDe(t){const e={},r=p(t,["name"]);r!=null&&g(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&eDe(n,e),e}function rDe(t){const e={},r=p(t,["name"]);return r!=null&&g(e,["_url","name"],r),e}function nDe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&g(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),r}function iDe(t){const e={},r=p(t,["parent"]);r!=null&&g(e,["_url","parent"],r);const n=p(t,["config"]);return n!=null&&nDe(n,e),e}function aDe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&g(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const i=p(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),g(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sDe extends Ds{constructor(e){super(),this.apiClient=e,this.list=async r=>new oc(Is.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=rDe(e);return a=Oe("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tDe(e);i=Oe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=iDe(e);return a=Oe("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=aDe(l),u=new Uke;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oDe extends Ds{constructor(e,r=new sDe(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new oc(Is.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=JOe(e);return a=Oe("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eMe(e);return a=Oe("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ZOe(e);i=Oe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sMe(e);return a=Oe("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=oMe(l),u=new $ke;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=lMe(e);return a=Oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=cMe(l),u=new Bke;return Object.assign(u,c),u})}}async importFile(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nMe(e);return a=Oe("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=rMe(l),u=new YA;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let KB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return KB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const lDe=()=>KB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const oT=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $i extends Error{}class Bn extends $i{constructor(e,r,n,i){super(`${Bn.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new hx({message:n,cause:oT(r)});const a=r;return e===400?new YB(e,a,n,i):e===401?new JB(e,a,n,i):e===403?new QB(e,a,n,i):e===404?new ZB(e,a,n,i):e===409?new eV(e,a,n,i):e===422?new tV(e,a,n,i):e===429?new rV(e,a,n,i):e>=500?new nV(e,a,n,i):new Bn(e,a,n,i)}}class lT extends Bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class hx extends Bn{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class XB extends hx{constructor({message:e}={}){super({message:e??"Request timed out."})}}class YB extends Bn{}class JB extends Bn{}class QB extends Bn{}class ZB extends Bn{}class eV extends Bn{}class tV extends Bn{}class rV extends Bn{}class nV extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cDe=/^[a-z][a-z0-9+.-]*:/i,uDe=t=>cDe.test(t);let cT=t=>(cT=Array.isArray,cT(t));const fDe=cT;let dDe=fDe;const ED=dDe;function hDe(t){if(!t)return!0;for(const e in t)return!1;return!0}function pDe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const mDe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $i(`${t} must be an integer`);if(e<0)throw new $i(`${t} must be a positive integer`);return e},gDe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vDe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yDe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xDe=()=>{var t,e,r,n,i;const a=yDe();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":SD(Deno.build.os),"X-Stainless-Arch":TD(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":SD((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":TD((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=_De();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _De(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const TD=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",SD=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Xp;const wDe=()=>Xp??(Xp=xDe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EDe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function iV(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function TDe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return iV({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function aV(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SDe(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bDe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sV=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function X1(t,e,r){return sV(),new File(t,e??"unknown_file",r)}function ADe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const CDe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oV=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",IDe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&oV(t),kDe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function PDe(t,e,r){if(sV(),t=await t,IDe(t))return t instanceof File?t:X1([await t.arrayBuffer()],t.name);if(kDe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),X1(await uT(i),e,r)}const n=await uT(t);if(e||(e=ADe(t)),!(r!=null&&r.type)){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return X1(n,e,r)}async function uT(t){var e,r,n,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(oV(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(CDe(t))try{for(var o=!0,l=ua(t),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const u=i;s.push(...await uT(u))}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}else{const u=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${u?`; constructor: ${u}`:""}${NDe(t)}`)}return s}function NDe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lV{constructor(e){this._client=e}}lV._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cV(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const bD=Object.freeze(Object.create(null)),RDe=(t=cV)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((u,f,d)=>{var h,y,v;/[?#]/.test(f)&&(i=!0);const _=n[d];let w=(i?encodeURIComponent:t)(""+_);return d!==n.length&&(_==null||typeof _=="object"&&_.toString===((v=Object.getPrototypeOf((y=Object.getPrototypeOf((h=_.hasOwnProperty)!==null&&h!==void 0?h:bD))!==null&&y!==void 0?y:bD))===null||v===void 0?void 0:v.toString))&&(w=_+"",a.push({start:u.length+f.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),u+f+(d===n.length?"":w)},""),o=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)a.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(a.sort((u,f)=>u.start-f.start),a.length>0){let u=0;const f=a.reduce((d,h)=>{const y=" ".repeat(h.start-u),v="^".repeat(h.length);return u=h.start+h.length,d+y+v},"");throw new $i(`Path parameters result in path with invalid segments:
${a.map(d=>d.error).join(`
`)}
${s}
${f}`)}return s},Yp=RDe(cV);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uV extends lV{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,a=Cv(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new $i("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new $i("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Yp`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Yp`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Yp`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const a=r??{},{api_version:s=this._client.apiVersion}=a,o=Cv(a,["api_version"]);return this._client.get(Yp`/${s}/interactions/${e}`,Object.assign(Object.assign({query:o},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}uV._key=Object.freeze(["interactions"]);class fV extends uV{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ODe(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let Jp;function n2(t){let e;return(Jp??(e=new globalThis.TextEncoder,Jp=e.encode.bind(e)))(t)}let Qp;function AD(t){let e;return(Qp??(e=new globalThis.TextDecoder,Qp=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class px{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?n2(e):e;this.buffer=ODe([this.buffer,r]);const n=[];let i;for(;(i=MDe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(AD(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=AD(this.buffer.subarray(0,a));n.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}px.NEWLINE_CHARS=new Set([`
`,"\r"]);px.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MDe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function DDe(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iv={off:0,error:200,warn:300,info:400,debug:500},CD=(t,e,r)=>{if(t){if(pDe(Iv,t))return t;kn(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Iv))}`)}};function yd(){}function Zp(t,e,r){return!e||Iv[t]>Iv[r]?yd:e[t].bind(e)}const FDe={error:yd,warn:yd,info:yd,debug:yd};let ID=new WeakMap;function kn(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return FDe;const i=ID.get(r);if(i&&i[0]===n)return i[1];const a={error:Zp("error",r,n),warn:Zp("warn",r,n),info:Zp("info",r,n),debug:Zp("debug",r,n)};return ID.set(r,[n,a]),a}const il=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gc{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const a=n?kn(n):console;function s(){return ca(this,arguments,function*(){var l,c,u,f;if(i)throw new $i("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,y=ua(LDe(e,r)),v;v=yield Ye(y.next()),l=v.done,!l;h=!0){f=v.value,h=!1;const _=f;if(!d)if(_.data.startsWith("[DONE]")){d=!0;continue}else try{yield yield Ye(JSON.parse(_.data))}catch(w){throw a.error("Could not parse message into JSON:",_.data),a.error("From chunk:",_.raw),w}}}catch(_){c={error:_}}finally{try{!h&&!l&&(u=y.return)&&(yield Ye(u.call(y)))}finally{if(c)throw c.error}}d=!0}catch(_){if(sT(_))return yield Ye(void 0);throw _}finally{d||r.abort()}})}return new Gc(s,r,n)}static fromReadableStream(e,r,n){let i=!1;function a(){return ca(this,arguments,function*(){var l,c,u,f;const d=new px,h=aV(e);try{for(var y=!0,v=ua(h),_;_=yield Ye(v.next()),l=_.done,!l;y=!0){f=_.value,y=!1;const w=f;for(const T of d.decode(w))yield yield Ye(T)}}catch(w){c={error:w}}finally{try{!y&&!l&&(u=v.return)&&(yield Ye(u.call(v)))}finally{if(c)throw c.error}}for(const w of d.flush())yield yield Ye(w)})}function s(){return ca(this,arguments,function*(){var l,c,u,f;if(i)throw new $i("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,y=ua(a()),v;v=yield Ye(y.next()),l=v.done,!l;h=!0){f=v.value,h=!1;const _=f;d||_&&(yield yield Ye(JSON.parse(_)))}}catch(_){c={error:_}}finally{try{!h&&!l&&(u=y.return)&&(yield Ye(u.call(y)))}finally{if(c)throw c.error}}d=!0}catch(_){if(sT(_))return yield Ye(void 0);throw _}finally{d||r.abort()}})}return new Gc(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();e.push(s),r.push(s)}return a.shift()}});return[new Gc(()=>i(e),this.controller,this.client),new Gc(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return iV({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=n2(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function LDe(t,e){return ca(this,arguments,function*(){var n,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $i("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $i("Attempted to iterate over a response with no body");const o=new $De,l=new px,c=aV(t.body);try{for(var u=!0,f=ua(UDe(c)),d;d=yield Ye(f.next()),n=d.done,!n;u=!0){s=d.value,u=!1;const h=s;for(const y of l.decode(h)){const v=o.decode(y);v&&(yield yield Ye(v))}}}catch(h){i={error:h}}finally{try{!u&&!n&&(a=f.return)&&(yield Ye(a.call(f)))}finally{if(i)throw i.error}}for(const h of l.flush()){const y=o.decode(h);y&&(yield yield Ye(y))}})}function UDe(t){return ca(this,arguments,function*(){var r,n,i,a;let s=new Uint8Array;try{for(var o=!0,l=ua(t),c;c=yield Ye(l.next()),r=c.done,!r;o=!0){a=c.value,o=!1;const u=a;if(u==null)continue;const f=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?n2(u):u;let d=new Uint8Array(s.length+f.length);d.set(s),d.set(f,s.length),s=d;let h;for(;(h=DDe(s))!==-1;)yield yield Ye(s.slice(0,h)),s=s.slice(h)}}catch(u){n={error:u}}finally{try{!o&&!r&&(i=l.return)&&(yield Ye(i.call(l)))}finally{if(n)throw n.error}}s.length>0&&(yield yield Ye(s))})}class $De{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=BDe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function BDe(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VDe(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var o;if(e.options.stream)return kn(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):Gc.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const l=r.headers.get("content-type"),c=(o=l==null?void 0:l.split(";")[0])===null||o===void 0?void 0:o.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await r.json():await r.text()})();return kn(t).debug(`[${n}] response parsed`,il({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i2 extends Promise{constructor(e,r,n=VDe){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new i2(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dV=Symbol("brand.privateNullableHeaders");function*jDe(t){if(!t)return;if(dV in t){const{values:n,nulls:i}=t;yield*n.entries();for(const a of i)yield[a,null];return}let e=!1,r;t instanceof Headers?r=t.entries():ED(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=ED(n[1])?n[1]:[n[1]];let s=!1;for(const o of a)o!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const id=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[a,s]of jDe(n)){const o=a.toLowerCase();i.has(o)||(e.delete(a),i.add(o)),s===null?(e.delete(a),r.add(o)):(e.append(a,s),r.delete(o))}}return{[dV]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y1=t=>{var e,r,n,i,a,s;if(typeof globalThis.process<"u")return(n=(r=(e=hke)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hV;class mx{constructor(e){var r,n,i,a,s,o,l,{baseURL:c=Y1("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(r=Y1("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:f="v1beta"}=e,d=Cv(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:u,apiVersion:f},d),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(n=h.timeout)!==null&&n!==void 0?n:mx.DEFAULT_TIMEOUT,this.logger=(i=h.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(s=(a=CD(h.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:CD(Y1("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:y,this.fetchOptions=h.fetchOptions,this.maxRetries=(o=h.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(l=h.fetch)!==null&&l!==void 0?l:EDe(),this.encoder=bDe,this._options=h,this.apiKey=u,this.apiVersion=f,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=id([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return id([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return id([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new $i(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sc}`}defaultIdempotencyKey(){return`stainless-node-retry-${lDe()}`}makeStatusError(e,r,n,i){return Bn.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=uDe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return hDe(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new i2(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,a,s;const o=await e,l=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=l),await this.prepareOptions(o);const{req:c,url:u,timeout:f}=await this.buildRequest(o,{retryCount:l-r});await this.prepareRequest(c,{url:u,options:o});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=n===void 0?"":`, retryOf: ${n}`,y=Date.now();if(kn(this).debug(`[${d}] sending request`,il({retryOfRequestLogID:n,method:o.method,url:u,options:o,headers:c.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new lT;const v=new AbortController,_=await this.fetchWithTimeout(u,c,f,v).catch(oT),w=Date.now();if(_ instanceof globalThis.Error){const E=`retrying, ${r} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new lT;const k=sT(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(r)return kn(this).info(`[${d}] connection ${k?"timed out":"failed"} - ${E}`),kn(this).debug(`[${d}] connection ${k?"timed out":"failed"} (${E})`,il({retryOfRequestLogID:n,url:u,durationMs:w-y,message:_.message})),this.retryRequest(o,r,n??d);throw kn(this).info(`[${d}] connection ${k?"timed out":"failed"} - error; no more retries left`),kn(this).debug(`[${d}] connection ${k?"timed out":"failed"} (error; no more retries left)`,il({retryOfRequestLogID:n,url:u,durationMs:w-y,message:_.message})),k?new XB:new hx({cause:_})}const T=`[${d}${h}] ${c.method} ${u} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${w-y}ms`;if(!_.ok){const E=await this.shouldRetry(_);if(r&&E){const b=`retrying, ${r} attempts remaining`;return await SDe(_.body),kn(this).info(`${T} - ${b}`),kn(this).debug(`[${d}] response error (${b})`,il({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,durationMs:w-y})),this.retryRequest(o,r,n??d,_.headers)}const k=E?"error; no more retries left":"error; not retryable";kn(this).info(`${T} - ${k}`);const A=await _.text().catch(b=>oT(b).message),C=gDe(A),S=C?void 0:A;throw kn(this).debug(`[${d}] response error (${k})`,il({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,message:S,durationMs:Date.now()-y})),this.makeStatusError(_.status,C,S,_.headers)}return kn(this).info(T),kn(this).debug(`[${d}] response start`,il({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,durationMs:w-y})),{response:_,options:o,controller:v,requestLogID:d,retryOfRequestLogID:n,startTime:y}}async fetchWithTimeout(e,r,n,i){const a=r||{},{signal:s,method:o}=a,l=Cv(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),n),u=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},u?{duplex:"half"}:{}),{method:"GET"}),l);o&&(f.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(c)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var a;let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const c=parseFloat(o);Number.isNaN(c)||(s=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const c=parseFloat(l);Number.isNaN(c)?s=Date.parse(l)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,c)}return await vDe(s),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const a=r-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,a;const s=Object.assign({},e),{method:o,path:l,query:c,defaultBaseURL:u}=s,f=this.buildURL(l,c,u);"timeout"in s&&mDe("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:s}),y=await this.buildHeaders({options:e,method:o,bodyHeaders:d,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:y},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let o=id([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),wDe()),this._options.defaultHeaders,n,e.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=id([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:TDe(e)}:this.encoder({body:e,headers:n})}}mx.DEFAULT_TIMEOUT=6e4;class Hr extends mx{constructor(){super(...arguments),this.interactions=new fV(this)}}hV=Hr;Hr.GeminiNextGenAPIClient=hV;Hr.GeminiNextGenAPIClientError=$i;Hr.APIError=Bn;Hr.APIConnectionError=hx;Hr.APIConnectionTimeoutError=XB;Hr.APIUserAbortError=lT;Hr.NotFoundError=ZB;Hr.ConflictError=eV;Hr.RateLimitError=rV;Hr.BadRequestError=YB;Hr.AuthenticationError=JB;Hr.InternalServerError=nV;Hr.PermissionDeniedError=QB;Hr.UnprocessableEntityError=tV;Hr.toFile=PDe;Hr.Interactions=fV;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GDe(t,e){const r={},n=p(t,["name"]);return n!=null&&g(r,["_url","name"],n),r}function HDe(t,e){const r={},n=p(t,["name"]);return n!=null&&g(r,["_url","name"],n),r}function zDe(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(r,["sdkHttpResponse"],n),r}function WDe(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(r,["sdkHttpResponse"],n),r}function qDe(t,e,r){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=p(t,["batchSize"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","batchSize"],o);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function KDe(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const h=p(t,["validationDataset"]);e!==void 0&&h!=null&&g(e,["supervisedTuningSpec"],kD(h))}else if(i==="PREFERENCE_TUNING"){const h=p(t,["validationDataset"]);e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec"],kD(h))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let o=p(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const h=p(t,["epochCount"]);e!==void 0&&h!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(o==="PREFERENCE_TUNING"){const h=p(t,["epochCount"]);e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let l=p(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=p(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(l==="PREFERENCE_TUNING"){const h=p(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let c=p(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(c==="PREFERENCE_TUNING"){const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let u=p(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=p(t,["adapterSize"]);e!==void 0&&h!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(u==="PREFERENCE_TUNING"){const h=p(t,["adapterSize"]);e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const d=p(t,["beta"]);return e!==void 0&&d!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],d),n}function XDe(t,e){const r={},n=p(t,["baseModel"]);n!=null&&g(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&g(r,["preTunedModel"],i);const a=p(t,["trainingDataset"]);a!=null&&s4e(a);const s=p(t,["config"]);return s!=null&&qDe(s,r),r}function YDe(t,e){const r={},n=p(t,["baseModel"]);n!=null&&g(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&g(r,["preTunedModel"],i);const a=p(t,["trainingDataset"]);a!=null&&o4e(a,r,e);const s=p(t,["config"]);return s!=null&&KDe(s,r,e),r}function JDe(t,e){const r={},n=p(t,["name"]);return n!=null&&g(r,["_url","name"],n),r}function QDe(t,e){const r={},n=p(t,["name"]);return n!=null&&g(r,["_url","name"],n),r}function ZDe(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function e4e(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function t4e(t,e){const r={},n=p(t,["config"]);return n!=null&&ZDe(n,r),r}function r4e(t,e){const r={},n=p(t,["config"]);return n!=null&&e4e(n,r),r}function n4e(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&g(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(r,["nextPageToken"],i);const a=p(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>pV(o))),g(r,["tuningJobs"],s)}return r}function i4e(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&g(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(r,["nextPageToken"],i);const a=p(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>fT(o))),g(r,["tuningJobs"],s)}return r}function a4e(t,e){const r={},n=p(t,["name"]);n!=null&&g(r,["model"],n);const i=p(t,["name"]);return i!=null&&g(r,["endpoint"],i),r}function s4e(t,e){const r={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),g(r,["examples","examples"],i)}return r}function o4e(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=p(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function pV(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&g(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(r,["name"],i);const a=p(t,["state"]);a!=null&&g(r,["state"],PB(a));const s=p(t,["createTime"]);s!=null&&g(r,["createTime"],s);const o=p(t,["tuningTask","startTime"]);o!=null&&g(r,["startTime"],o);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(r,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&g(r,["updateTime"],c);const u=p(t,["description"]);u!=null&&g(r,["description"],u);const f=p(t,["baseModel"]);f!=null&&g(r,["baseModel"],f);const d=p(t,["_self"]);return d!=null&&g(r,["tunedModel"],a4e(d)),r}function fT(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&g(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(r,["name"],i);const a=p(t,["state"]);a!=null&&g(r,["state"],PB(a));const s=p(t,["createTime"]);s!=null&&g(r,["createTime"],s);const o=p(t,["startTime"]);o!=null&&g(r,["startTime"],o);const l=p(t,["endTime"]);l!=null&&g(r,["endTime"],l);const c=p(t,["updateTime"]);c!=null&&g(r,["updateTime"],c);const u=p(t,["error"]);u!=null&&g(r,["error"],u);const f=p(t,["description"]);f!=null&&g(r,["description"],f);const d=p(t,["baseModel"]);d!=null&&g(r,["baseModel"],d);const h=p(t,["tunedModel"]);h!=null&&g(r,["tunedModel"],h);const y=p(t,["preTunedModel"]);y!=null&&g(r,["preTunedModel"],y);const v=p(t,["supervisedTuningSpec"]);v!=null&&g(r,["supervisedTuningSpec"],v);const _=p(t,["preferenceOptimizationSpec"]);_!=null&&g(r,["preferenceOptimizationSpec"],_);const w=p(t,["tuningDataStats"]);w!=null&&g(r,["tuningDataStats"],w);const T=p(t,["encryptionSpec"]);T!=null&&g(r,["encryptionSpec"],T);const E=p(t,["partnerModelTuningSpec"]);E!=null&&g(r,["partnerModelTuningSpec"],E);const k=p(t,["customBaseModel"]);k!=null&&g(r,["customBaseModel"],k);const A=p(t,["experiment"]);A!=null&&g(r,["experiment"],A);const C=p(t,["labels"]);C!=null&&g(r,["labels"],C);const S=p(t,["outputUri"]);S!=null&&g(r,["outputUri"],S);const I=p(t,["pipelineJob"]);I!=null&&g(r,["pipelineJob"],I);const b=p(t,["serviceAccount"]);b!=null&&g(r,["serviceAccount"],b);const N=p(t,["tunedModelDisplayName"]);N!=null&&g(r,["tunedModelDisplayName"],N);const O=p(t,["veoTuningSpec"]);return O!=null&&g(r,["veoTuningSpec"],O),r}function l4e(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&g(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(r,["name"],i);const a=p(t,["metadata"]);a!=null&&g(r,["metadata"],a);const s=p(t,["done"]);s!=null&&g(r,["done"],s);const o=p(t,["error"]);return o!=null&&g(r,["error"],o),r}function kD(t,e){const r={},n=p(t,["gcsUri"]);n!=null&&g(r,["validationDatasetUri"],n);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c4e extends Ds{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new oc(Is.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:QE.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=QDe(e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>fT(u))}else{const c=JDe(e);return o=Oe("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>pV(u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=r4e(e);return o=Oe("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=i4e(u),d=new tD;return Object.assign(d,f),d})}else{const c=t4e(e);return o=Oe("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=n4e(u),d=new tD;return Object.assign(d,f),d})}}async cancel(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=HDe(e);return o=Oe("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=WDe(u),d=new rD;return Object.assign(d,f),d})}else{const c=GDe(e);return o=Oe("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:u.headers},d})),s.then(u=>{const f=zDe(u),d=new rD;return Object.assign(d,f),d})}}async tuneInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=YDe(e,e);return a=Oe("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>fT(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=XDe(e);return a=Oe("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>l4e(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u4e{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const f4e=1024*1024*8,d4e=3,h4e=1e3,p4e=2,kv="x-goog-upload-status";async function m4e(t,e,r){var n;const i=await mV(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[kv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function g4e(t,e,r){var n;const i=await mV(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[kv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=SB(a),o=new JA;return Object.assign(o,s),o}async function mV(t,e,r){var n,i;let a=0,s=0,o=new eT(new Response),l="upload";for(a=t.size;s<a;){const c=Math.min(f4e,a-s),u=t.slice(s,s+c);s+c>=a&&(l+=", finalize");let f=0,d=h4e;for(;f<d4e&&(o=await r.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((n=o==null?void 0:o.headers)===null||n===void 0)&&n[kv]));)f++,await y4e(d),d=d*p4e;if(s+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[kv])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function v4e(t){return{size:t.size,type:t.type}}function y4e(t){return new Promise(e=>setTimeout(e,t))}class x4e{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await m4e(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await g4e(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v4e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _4e{create(e,r,n){return new w4e(e,r,n)}}class w4e{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PD="x-goog-api-key";class E4e{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(PD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(PD,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T4e="gl-node/";class S4e{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Hr({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=vke(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new E4e(this.apiKey);this.apiClient=new vMe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:T4e+"web",uploader:new x4e,downloader:new u4e}),this.models=new FMe(this.apiClient),this.live=new PMe(this.apiClient,i,new _4e),this.batches=new WPe(this.apiClient),this.chats=new CNe(this.models,this.apiClient),this.caches=new SNe(this.apiClient),this.files=new LNe(this.apiClient),this.operations=new LMe(this.apiClient),this.authTokens=new ZMe(this.apiClient),this.tunings=new c4e(this.apiClient),this.fileSearchStores=new oDe(this.apiClient)}}var b4e={};async function A4e(t,e){const r=new S4e({apiKey:b4e.API_KEY});try{const n=await r.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:Yt.OBJECT,properties:{invoiceNumber:{type:Yt.STRING},supplierName:{type:Yt.STRING},supplierCuit:{type:Yt.STRING},date:{type:Yt.STRING},items:{type:Yt.ARRAY,items:{type:Yt.OBJECT,properties:{sku:{type:Yt.STRING},description:{type:Yt.STRING},quantity:{type:Yt.NUMBER},unitPrice:{type:Yt.NUMBER},total:{type:Yt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:Yt.NUMBER},iva:{type:Yt.NUMBER},totalAmount:{type:Yt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(n.text||"{}")}catch(n){throw console.error("Error en analyzeInvoice:",n),n}}const C4e=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=i6(),r=re.useRef(null),[n,i]=re.useState("ia"),[a,s]=re.useState(!1),[o,l]=re.useState(!1),[c,u]=re.useState(null),[f,d]=re.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),h=w=>{var E;const T=(E=w.target.files)==null?void 0:E[0];if(T){const k=new FileReader;k.onload=A=>{var C;u({name:T.name,type:T.type,preview:(C=A.target)==null?void 0:C.result})},k.readAsDataURL(T)}},y=async()=>{if(c){s(!0);try{const w=c.preview.split(",")[1],T=await A4e(w,c.type),E=await Promise.all(T.items.map(async k=>{const{products:A}=await e({limit:1,searchTerm:k.sku||k.description.split(" ")[0],orderByField:"name"});return{...k,matchedProduct:A[0]}}));d({invoiceNumber:T.invoiceNumber||"",supplierName:T.supplierName||"",date:T.date||new Date().toISOString().split("T")[0],items:E})}catch(w){console.error(w),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},v=async()=>{l(!0);try{for(const w of f.items)if(w.matchedProduct){const T=(w.matchedProduct.stock||0)+w.quantity;await t(w.matchedProduct.id,{costPrice:w.unitPrice,stock:T})}alert("Compra registrada. Inventario y costos actualizados."),d({invoiceNumber:"",supplierName:"",date:"",items:[]}),u(null)}finally{l(!1)}},_=f.items.reduce((w,T)=>w+T.unitPrice*T.quantity,0);return x.jsxs("div",{className:"space-y-6 pb-20",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),x.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),x.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[x.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${n==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[x.jsx(gw,{className:"w-4 h-4"})," IA Scan"]}),x.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${n==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[x.jsx(Ma,{className:"w-4 h-4"})," Manual"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[x.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[n==="ia"&&x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[x.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(fX,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),c?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[c.type.includes("image")?x.jsx("img",{src:c.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[x.jsx(Cu,{className:"w-16 h-16 mb-4 text-orange-500"}),x.jsx("p",{className:"font-bold text-center text-sm",children:c.name})]}),x.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:x.jsx(Es,{className:"w-5 h-5"})})]}),x.jsxs("button",{onClick:y,disabled:a,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[a?x.jsx(Fl,{className:"w-5 h-5 animate-spin"}):x.jsx(gw,{className:"w-5 h-5"}),a?"Analizando...":"Analizar con Gemini IA"]})]}):x.jsxs("div",{onClick:()=>{var w;return(w=r.current)==null?void 0:w.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[x.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:x.jsx(Cu,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),x.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),x.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),x.jsx("input",{ref:r,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:h})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[x.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(u6,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),x.jsx("input",{value:f.supplierName,onChange:w=>d({...f,supplierName:w.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),x.jsx("input",{value:f.invoiceNumber,onChange:w=>d({...f,invoiceNumber:w.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),x.jsx("input",{type:"date",value:f.date,onChange:w=>d({...f,date:w.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),x.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:x.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[x.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[x.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[x.jsx(sX,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),x.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),x.jsx("div",{className:"flex-1 overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),x.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),x.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),x.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"p-20 text-center",children:x.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[x.jsx(rX,{className:"w-12 h-12"}),x.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((w,T)=>x.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[x.jsx("td",{className:"px-8 py-4",children:x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.description}),w.matchedProduct?x.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[x.jsx(P0,{className:"w-3 h-3"}),x.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",w.matchedProduct.name]})]}):x.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[x.jsx(wl,{className:"w-3 h-3"}),x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),x.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:w.quantity}),x.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",w.unitPrice.toLocaleString()]}),x.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",w.total.toLocaleString()]}),x.jsx("td",{className:"px-6 py-4 text-center",children:x.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:x.jsx(gy,{className:"w-4 h-4"})})})]},T))})]})}),x.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[x.jsxs("div",{className:"flex items-center gap-8",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),x.jsxs("p",{className:"text-3xl font-black",children:["$",_.toLocaleString()]})]}),x.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),x.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(_*1.21).toLocaleString()]})]})]}),x.jsxs("button",{onClick:v,disabled:o||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[o?x.jsx(Fl,{className:"animate-spin w-6 h-6"}):x.jsx(h6,{className:"w-6 h-6"}),o?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},I4e=()=>{const[t,e]=re.useState([]),[r,n]=re.useState(""),[i,a]=re.useState(!0),[s,o]=re.useState(!1),[l,c]=re.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),u=async()=>{a(!0);try{const h=await sa(tt(Re,"clients"));e(h.docs.map(y=>({id:y.id,...y.data()})))}catch(h){console.error(h)}finally{a(!1)}};re.useEffect(()=>{u()},[]);const f=async h=>{h.preventDefault();try{await Fr(tt(Re,"clients"),{...l,createdAt:new Date().toISOString()}),o(!1),c({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),u()}catch{alert("Error al guardar cliente")}},d=t.filter(h=>{var y;return h.name.toLowerCase().includes(r.toLowerCase())||((y=h.cuit)==null?void 0:y.includes(r))});return x.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),x.jsxs("button",{onClick:()=>o(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[x.jsx(Ma,{size:20})," Nuevo Cliente"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[x.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:x.jsx(N0,{})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),x.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[x.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:x.jsx(vy,{})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),x.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[x.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[x.jsxs("div",{className:"relative w-full md:w-96",children:[x.jsx(Yl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),x.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:r,onChange:h=>n(h.target.value)})]}),x.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[x.jsx(cg,{size:16})," Exportar Listado"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-slate-50/50",children:[x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:i?x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):d.map(h=>x.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[x.jsx("td",{className:"px-8 py-5",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(h.name||"U").substring(0,2).toUpperCase()}),x.jsx("p",{className:"font-bold text-slate-800",children:h.name})]})}),x.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:h.cuit||h.dni}),x.jsx("td",{className:"px-8 py-5",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:x.jsx(lX,{size:14})}),x.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:x.jsx(aX,{size:14})})]})}),x.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${h.balance<0?"text-red-500":"text-green-600"}`,children:["$",(h.balance||0).toLocaleString()]})]},h.id))})]})})]}),s&&x.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:x.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),x.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600",children:x.jsx(Es,{size:24})})]}),x.jsxs("form",{onSubmit:f,className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{className:"col-span-2 space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),x.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:h=>c({...l,name:h.target.value})})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),x.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:h=>c({...l,cuit:h.target.value})})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),x.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:h=>c({...l,phone:h.target.value})})]}),x.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},k4e=()=>{const[t,e]=re.useState([]),[r,n]=re.useState(""),[i,a]=re.useState(!0),[s,o]=re.useState(!1),l=async()=>{a(!0);try{const c=await sa(tt(Re,"suppliers"));e(c.docs.map(u=>({id:u.id,...u.data()})))}catch(c){console.error(c)}finally{a(!1)}};return re.useEffect(()=>{l()},[]),x.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),x.jsxs("button",{onClick:()=>o(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[x.jsx(Ma,{size:20})," Nuevo Proveedor"]})]}),x.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[x.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:x.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-slate-50/50",children:[x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:i?x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(c=>x.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[x.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:c.name||c.company}),x.jsx("td",{className:"px-8 py-5",children:x.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:c.category||"General"})}),x.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:c.phone}),x.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(c.balance||0).toLocaleString()]})]},c.id))})]})]})]})},P4e=()=>{const{transactions:t,boxes:e,addBox:r,updateBox:n,deleteBox:i,addTransaction:a}=i6(),[s,o]=re.useState("boxes"),[l,c]=re.useState({show:!1,type:null}),[u,f]=re.useState(!1),[d,h]=re.useState(!1),[y,v]=re.useState(null),[_,w]=re.useState(null),[T,E]=re.useState(!1),k=re.useMemo(()=>e.reduce((b,N)=>b+N.balance,0),[e]),A=re.useMemo(()=>e.filter(b=>b.type==="efectivo").reduce((b,N)=>b+N.balance,0),[e]),C=async b=>{b.preventDefault();const N=new FormData(b.currentTarget),O=parseFloat(N.get("amount")),R=N.get("boxId"),D=l.type,J=e.find(X=>X.id===R);if(!J){alert("Debes seleccionar una caja de origen.");return}try{await a({date:new Date().toISOString(),amount:O,type:D,boxId:R,category:N.get("category"),description:N.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:N.get("method"),amount:O,netAmount:O}]});const X=D==="egreso"?J.balance-O:J.balance+O;await n(R,{balance:X}),c({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async b=>{b.preventDefault(),E(!0);const N=new FormData(b.currentTarget),O=N.get("name"),R=N.get("type"),D=N.get("responsible"),J=parseFloat(N.get("balance"))||0;try{_?await n(_.id,{name:O,type:R,responsible:D}):await r({name:O,type:R,responsible:D,balance:J,status:"abierta"}),h(!1),w(null)}finally{E(!1)}},I=async b=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(b)};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),x.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsxs("button",{onClick:()=>c({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[x.jsx(a6,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),x.jsxs("button",{onClick:()=>c({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[x.jsx(zK,{className:"w-5 h-5"})," Ingreso Manual"]}),x.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[x.jsx("button",{onClick:()=>o("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),x.jsx("button",{onClick:()=>o("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[x.jsxs("div",{className:"relative z-10",children:[x.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),x.jsxs("h3",{className:"text-3xl font-black",children:["$",k.toLocaleString()]}),x.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[x.jsx(fg,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),x.jsx(l6,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),x.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[x.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:x.jsx(nk,{className:"w-8 h-8"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),x.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[x.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:x.jsx(mw,{className:"w-8 h-8"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),x.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(b=>b.type==="banco").reduce((b,N)=>b+N.balance,0).toLocaleString()]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[x.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:x.jsx(pw,{className:"w-8 h-8"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),x.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(b=>b.type==="virtual").reduce((b,N)=>b+N.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[x.jsx("div",{className:"lg:col-span-2 space-y-6",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(b=>x.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6",children:[x.jsx("div",{className:`p-4 rounded-2xl ${b.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:b.type==="banco"?x.jsx(mw,{className:"w-6 h-6"}):b.type==="virtual"?x.jsx(pw,{className:"w-6 h-6"}):x.jsx(vy,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:()=>{w(b),h(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:x.jsx(oX,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>I(b.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:x.jsx(gy,{className:"w-4 h-4"})})]})]}),x.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:b.name}),x.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",b.balance.toLocaleString()]}),b.status==="abierta"&&x.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[x.jsx(N0,{className:"w-4 h-4"}),x.jsxs("span",{children:["Resp: ",x.jsx("span",{className:"text-slate-800",children:b.responsible||"Sistema"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:()=>{v(b),f(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[x.jsx(YK,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),x.jsxs("button",{onClick:()=>c({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[x.jsx(WK,{className:"w-4 h-4"})," Transferir"]})]})]}),b.status==="cerrada"&&x.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[x.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",b.lastClosed]}),x.jsxs("button",{onClick:()=>n(b.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[x.jsx(Ma,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},b.id)),x.jsxs("button",{onClick:()=>{w(null),h(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[x.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:x.jsx(Ma,{className:"w-8 h-8"})}),x.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),x.jsx("div",{className:"space-y-6",children:x.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[x.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(fb,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),x.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),x.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[x.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:x.jsx(u6,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),x.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):x.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[x.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[x.jsxs("div",{className:"relative flex-1 w-full",children:[x.jsx(Yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),x.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),x.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[x.jsx(tX,{className:"w-4 h-4"})," Filtros"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),x.jsx("th",{className:"px-8 py-5",children:"Caja"}),x.jsx("th",{className:"px-8 py-5",children:"Concepto"}),x.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),x.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(b=>{var N;return x.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[x.jsxs("td",{className:"px-8 py-5",children:[x.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(b.date).toLocaleDateString()}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(b.date).toLocaleTimeString()})]}),x.jsx("td",{className:"px-8 py-5",children:x.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((N=e.find(O=>O.id===b.boxId))==null?void 0:N.name)||"Mostrador"})}),x.jsxs("td",{className:"px-8 py-5",children:[x.jsx("p",{className:"font-bold text-slate-800 text-sm",children:b.category||"Varios"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:b.description})]}),x.jsx("td",{className:"px-8 py-5 text-right",children:x.jsxs("span",{className:`text-lg font-black ${b.type==="egreso"?"text-red-600":"text-green-600"}`,children:[b.type==="egreso"?"-":"+","$",b.amount.toLocaleString()]})}),x.jsx("td",{className:"px-8 py-5 text-center",children:x.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:x.jsx(c6,{className:"w-5 h-5"})})})]},b.id)})})]})})]}),l.show&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[x.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:x.jsx(nk,{className:"w-6 h-6"})}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),x.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),x.jsx("button",{onClick:()=>c({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:x.jsx(Es,{className:"w-6 h-6"})})]}),x.jsxs("form",{onSubmit:C,className:"p-8 space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),x.jsxs("div",{className:"relative",children:[x.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[x.jsx("option",{value:"",children:"Elegir caja..."}),e.map(b=>x.jsxs("option",{value:b.id,children:[b.name," ($",b.balance.toLocaleString(),")"]},b.id))]}),x.jsx(JK,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),x.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),x.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[x.jsx("option",{value:"gasto",children:"Gasto General"}),x.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),x.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),x.jsx("option",{value:"venta",children:"Venta / Cobranza"}),x.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),x.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),x.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),x.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[x.jsx("button",{type:"button",onClick:()=>c({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),x.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),d&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[x.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:_?"Editar Fondo":"Nueva Caja / Fondo"}),x.jsx("button",{onClick:()=>h(!1),children:x.jsx(Es,{className:"w-6 h-6"})})]}),x.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),x.jsx("input",{name:"name",defaultValue:_==null?void 0:_.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),x.jsxs("select",{name:"type",defaultValue:_==null?void 0:_.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[x.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),x.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),x.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!_&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),x.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),x.jsx("input",{name:"responsible",defaultValue:_==null?void 0:_.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),x.jsx("button",{type:"submit",disabled:T,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:T?x.jsx(Fl,{className:"animate-spin w-5 h-5 mx-auto"}):_?"Guardar Cambios":"Crear Fondo"})]})]})})]})},N4e=()=>{const t=[{name:"Ene",v:4e3},{name:"Feb",v:3e3},{name:"Mar",v:5e3}];return x.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Informes e IVA"}),x.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-2xl font-bold text-xs uppercase tracking-widest",children:[x.jsx(cg,{size:16})," Exportar PDF"]})]}),x.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[x.jsx("h3",{className:"font-black text-slate-400 text-[10px] uppercase tracking-widest mb-8",children:"Rendimiento Mensual"}),x.jsx("div",{className:"h-64 w-full",children:x.jsx(Ub,{width:"100%",height:"100%",children:x.jsxs(wA,{data:t,children:[x.jsx(nx,{strokeDasharray:"3 3",vertical:!1}),x.jsx(Ef,{dataKey:"name"}),x.jsx(bi,{}),x.jsx(Li,{type:"monotone",dataKey:"v",stroke:"#ea580c",fill:"#ea580c10",strokeWidth:4})]})})})]})]})},R4e=({isAdmin:t,companyInfo:e,setCompanyInfo:r})=>{const[n,i]=re.useState("company"),a=()=>{alert("Configuracin actualizada correctamente.")};return x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin"}),x.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona los datos de tu empresa."})]}),x.jsxs("button",{onClick:a,className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs flex items-center gap-2 shadow-xl",children:[x.jsx(h6,{size:18})," Guardar"]})]}),x.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[x.jsx("aside",{className:"w-full lg:w-64 space-y-2",children:[{id:"company",label:"Mi Empresa",icon:ik},{id:"printing",label:"Impresin",icon:sk},{id:"afip",label:"ARCA / AFIP",icon:fg},{id:"margins",label:"Ganancias",icon:ak}].map(s=>x.jsxs("button",{onClick:()=>i(s.id),className:`w-full flex items-center justify-between px-6 py-4 rounded-2xl font-bold text-sm transition-all ${n===s.id?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-400 hover:bg-slate-50 border border-slate-100"}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(s.icon,{size:18}),x.jsx("span",{children:s.label})]}),n===s.id&&x.jsx(ib,{size:14})]},s.id))}),x.jsxs("div",{className:"flex-1 bg-white rounded-[3rem] p-10 shadow-sm border border-slate-100 min-h-[500px]",children:[n==="company"&&x.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[x.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[x.jsx(ik,{className:"text-orange-600"})," Empresa"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nombre"}),x.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"Ferretera Bruzzone"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"CUIT"}),x.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"30-71122334-9"})]})]})]}),n==="printing"&&x.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[x.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[x.jsx(sk,{className:"text-orange-600"})," Impresin"]}),x.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] flex justify-between items-center",children:[x.jsx("p",{className:"font-bold text-slate-800",children:"Formato de Hoja"}),x.jsxs("select",{className:"p-3 bg-white rounded-xl font-bold border-none outline-none shadow-sm",children:[x.jsx("option",{children:"80mm (Ticket)"}),x.jsx("option",{children:"A4 (Factura)"})]})]})]}),n==="afip"&&x.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[x.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border border-orange-100 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-orange-900 tracking-tight",children:"ARCA / AFIP"}),x.jsx("p",{className:"text-sm text-orange-700 italic",children:"Servicio de Facturacin en Lnea"})]}),x.jsx(fg,{size:40,className:"text-orange-600"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Punto de Venta"}),x.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-black text-xl",defaultValue:"5"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"IVA"}),x.jsxs("select",{className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none border-none",children:[x.jsx("option",{children:"Responsable Inscripto"}),x.jsx("option",{children:"Monotributista"})]})]})]})]}),n==="margins"&&x.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[x.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[x.jsx(ak,{className:"text-orange-600"})," Ganancias"]}),x.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white",children:[x.jsx("p",{className:"text-[10px] font-black uppercase text-orange-400 mb-4",children:"Markup Sugerido"}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("input",{type:"number",className:"bg-white/10 text-white text-5xl font-black p-4 rounded-2xl w-40 outline-none",defaultValue:"30"}),x.jsx("span",{className:"text-4xl font-black text-slate-500",children:"%"})]})]})]})]})]})]})},O4e=()=>{const[t,e]=re.useState([]),[r,n]=re.useState(""),[i,a]=re.useState(!0),s=async()=>{a(!0);const l=await sa(tt(Re,"products"));e(l.docs.map(c=>({id:c.id,...c.data()}))),a(!1)};re.useEffect(()=>{s()},[]);const o=async l=>{const c=yt(Re,"products",l.id);await Hn(c,{isPublic:!l.isPublic}),s()};return x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[x.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:x.jsx(my,{size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),x.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),x.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[x.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:x.jsx(cb,{size:24})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),x.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[x.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[x.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(m6,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),x.jsxs("div",{className:"relative w-96",children:[x.jsx(Yl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),x.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:r,onChange:l=>n(l.target.value)})]})]}),x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-slate-50/50",children:[x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(r.toLowerCase())).map(l=>x.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[x.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),x.jsx("td",{className:"px-8 py-5",children:l.isPublic?x.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[x.jsx(c6,{size:12})," Pblico"]}):x.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[x.jsx(eX,{size:12})," Privado"]})}),x.jsx("td",{className:"px-8 py-5 text-right",children:x.jsx("button",{onClick:()=>o(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},M4e=()=>x.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),x.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[x.jsx(Ma,{size:20})," Nuevo Presupuesto"]})]}),x.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[x.jsx(Cu,{size:48,className:"mx-auto text-slate-200 mb-4"}),x.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),D4e=()=>x.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[x.jsxs("div",{className:"relative mb-6",children:[x.jsx(Yl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),x.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),x.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),x.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),F4e=()=>x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),x.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[x.jsx(pX,{size:20})," Nuevo Acceso"]})]}),x.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),x.jsx("th",{className:"px-8 py-5",children:"Rango"}),x.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:x.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[x.jsx("td",{className:"px-8 py-6",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),x.jsx("td",{className:"px-8 py-6",children:x.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),x.jsx("td",{className:"px-8 py-6 text-right",children:x.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:x.jsx(gy,{size:18})})})]})})]})})]}),L4e=[{name:"Ene",ingresos:45e3,gastos:32e3},{name:"Feb",ingresos:52e3,gastos:34e3},{name:"Mar",ingresos:48e3,gastos:31e3},{name:"Abr",ingresos:61e3,gastos:42e3}],U4e=()=>x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Gestin Financiera"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Anlisis de rentabilidad, ingresos y egresos globales."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center",children:x.jsx(fb,{size:24})}),x.jsx("span",{className:"text-[10px] font-black text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"+15.2%"})]}),x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Ingresos Totales"}),x.jsx("h3",{className:"text-3xl font-black text-slate-800",children:"$1.450.200"})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center",children:x.jsx(uX,{size:24})}),x.jsx("span",{className:"text-[10px] font-black text-red-600 bg-red-50 px-2 py-1 rounded-full",children:"-4.1%"})]}),x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Egresos Totales"}),x.jsx("h3",{className:"text-3xl font-black text-slate-800",children:"$840.300"})]}),x.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white shadow-xl",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:x.jsx(vy,{size:24})}),x.jsx("span",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest",children:"Utilidad"})]}),x.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Ganancia Neta"}),x.jsx("h3",{className:"text-3xl font-black text-white",children:"$609.900"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-10 flex items-center gap-2",children:[x.jsx(nb,{size:16,className:"text-orange-600"})," Rendimiento Anual"]}),x.jsx("div",{className:"h-72 w-full",children:x.jsx(Ub,{width:"100%",height:"100%",children:x.jsxs(wA,{data:L4e,children:[x.jsx(nx,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(Ef,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),x.jsx(bi,{}),x.jsx(Li,{type:"monotone",dataKey:"ingresos",stroke:"#10b981",fill:"#10b98110",strokeWidth:4}),x.jsx(Li,{type:"monotone",dataKey:"gastos",stroke:"#ef4444",fill:"#ef444410",strokeWidth:4})]})})})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-10 flex items-center gap-2",children:[x.jsx(mw,{size:16,className:"text-blue-600"})," Cuentas Vinculadas"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl flex justify-between items-center border border-slate-100",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-slate-800",children:"Banco Nacin - Cuenta Corriente"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CBU: 0110XXXXXXXXXXXXXX"})]}),x.jsx("p",{className:"text-xl font-black text-slate-900",children:"$2.450.000"})]}),x.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl flex justify-between items-center border border-slate-100",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-slate-800",children:"Mercado Pago"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CVU: 0000XXXXXXXXXXXXXX"})]}),x.jsx("p",{className:"text-xl font-black text-slate-900",children:"$185.300"})]})]})]})]})]}),$4e=()=>{const[t,e]=re.useState("clients");return x.jsxs("div",{className:"space-y-6 animate-in fade-in text-left pb-20",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Saldos y Deudas"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Seguimiento de cuentas corrientes y pagos pendientes."})]}),x.jsxs("div",{className:"flex bg-white p-1.5 rounded-2xl border w-fit gap-1 mb-8",children:[x.jsx("button",{onClick:()=>e("clients"),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${t==="clients"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Clientes (Deudores)"}),x.jsx("button",{onClick:()=>e("suppliers"),className:`px-6 py-2.5 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${t==="suppliers"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Proveedores (Acreedores)"})]}),x.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/20",children:x.jsxs("div",{className:"relative w-96",children:[x.jsx(Yl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),x.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm"})]})}),x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-slate-50/50",children:[x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Sujeto / Empresa"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ltimo Movimiento"}),x.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Total"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:x.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[x.jsxs("td",{className:"px-8 py-6",children:[x.jsx("p",{className:"font-bold text-slate-800",children:"Juan Prez - Constructora Lye"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"CUIT: 20-33445566-9"})]}),x.jsx("td",{className:"px-8 py-6 text-sm text-slate-500",children:"15 de Mayo, 2024"}),x.jsx("td",{className:"px-8 py-6 text-right",children:x.jsx("span",{className:"text-xl font-black text-red-600",children:"-$45.200"})})]})})]})]})]})},B4e=()=>x.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Marcas & Rubros"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Organiza la jerarqua de tus productos."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[x.jsx(XK,{className:"text-orange-600",size:16})," Rubros (Categoras)"]}),x.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:x.jsx(Ma,{size:18})})]}),x.jsx("div",{className:"space-y-3",children:["Herramientas Elctricas","Pinturas","Plomera","Bulonera"].map(t=>x.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex justify-between font-bold text-slate-700",children:[t," ",x.jsx(lb,{size:14,className:"text-slate-300"})]},t))})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[x.jsx(P0,{className:"text-blue-600",size:16})," Marcas Principales"]}),x.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:x.jsx(Ma,{size:18})})]}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Bosch","DeWalt","Sinteplast","Alba","Ipsa","Ferrum"].map(t=>x.jsx("div",{className:"p-4 border border-slate-100 rounded-2xl text-center font-black text-slate-400 uppercase text-[10px] tracking-widest",children:t},t))})]})]})]}),V4e=()=>{const[t,e]=re.useState(!1);return x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Importacin Masiva"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Carga miles de productos de forma instantnea mediante archivos Excel o CSV."})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{onDragOver:r=>{r.preventDefault(),e(!0)},onDragLeave:()=>e(!1),className:`bg-white p-20 rounded-[3rem] border-4 border-dashed transition-all flex flex-col items-center justify-center text-center group cursor-pointer ${t?"border-orange-500 bg-orange-50":"border-slate-100 hover:border-orange-200"}`,children:[x.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-6 transition-all ${t?"bg-orange-600 text-white animate-bounce":"bg-slate-50 text-slate-300 group-hover:bg-white group-hover:text-orange-500"}`,children:x.jsx(ug,{size:48})}),x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Suelte su archivo aqu"}),x.jsx("p",{className:"text-slate-400 text-sm mt-2 max-w-xs",children:"Arrastre el listado de precios de su proveedor o haga clic para buscar en su PC."}),x.jsxs("div",{className:"mt-10 flex gap-4",children:[x.jsx("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl",children:"Seleccionar Archivo"}),x.jsx("button",{className:"px-8 py-4 bg-slate-100 text-slate-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-slate-200 transition-all",children:"Ver Ejemplo"})]})]}),x.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-start gap-4",children:[x.jsx(HK,{className:"text-orange-600 shrink-0",size:24}),x.jsxs("div",{className:"text-xs font-medium text-orange-800 leading-relaxed",children:[x.jsx("strong",{children:"Instrucciones:"})," Asegrese de que el archivo tenga las columnas:",x.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"CODIGO"}),",",x.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"DESCRIPCION"}),",",x.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"PRECIO_COSTO"})," y",x.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"RUBRO"}),"."]})]})]}),x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-6 flex items-center gap-2",children:[x.jsx(py,{size:16,className:"text-blue-600"})," ltimas Cargas"]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-slate-800",children:"Precios_Alba.csv"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ayer 18:30"})]}),x.jsx("span",{className:"text-[10px] font-black text-green-600 uppercase",children:"xito"})]})})]})})]})]})},j4e=({client:t,onLogout:e,companyInfo:r})=>{var n,i;return x.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[x.jsx("header",{className:"bg-slate-900 text-white p-6 shadow-xl",children:x.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:x.jsx(my,{className:"text-white",size:24})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-black tracking-tight uppercase",children:r.name}),x.jsx("p",{className:"text-[10px] font-bold text-orange-500 uppercase tracking-widest text-left",children:"Portal de Autogestin"})]})]}),x.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-white/10 hover:bg-red-500/20 px-4 py-2 rounded-xl transition-all text-xs font-bold",children:[x.jsx(d6,{size:16})," Salir"]})]})}),x.jsxs("main",{className:"max-w-6xl mx-auto p-8 space-y-8 text-left",children:[x.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center gap-8",children:[x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-black text-slate-400",children:((n=t==null?void 0:t.name)==null?void 0:n.charAt(0))||"C"}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-3xl font-black text-slate-800",children:["Hola, ",(t==null?void 0:t.name)||"Cliente","!"]}),x.jsx("p",{className:"text-slate-500 font-medium",children:"Consulta tus saldos y pedidos realizados."})]})]}),x.jsxs("div",{className:"text-center md:text-right",children:[x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tu Saldo Deudor"}),x.jsxs("h3",{className:`text-5xl font-black ${(t==null?void 0:t.balance)>0?"text-red-500":"text-green-500"}`,children:["$",((i=t==null?void 0:t.balance)==null?void 0:i.toLocaleString())||"0"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex items-center gap-6 shadow-xl",children:[x.jsx("div",{className:"p-4 bg-orange-600 rounded-2xl",children:x.jsx(ob,{size:32})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-orange-400",children:"Comprobantes"}),x.jsx("p",{className:"text-2xl font-black",children:"Ver facturas"})]})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[x.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:x.jsx(ab,{size:32})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-slate-400",children:"Entregas"}),x.jsx("p",{className:"text-2xl font-black text-slate-800",children:"Seguimiento"})]})]})]})]})]})},G4e=()=>{const[t,e]=re.useState(!1),[r,n]=re.useState({msg:"",type:null}),i=re.useRef(null),a=async l=>{e(!0);try{const c=xl(tt(Re,l)),f=(await sa(c)).docs.map(v=>({id:v.id,...v.data()})),d="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(f,null,2)),h=document.createElement("a"),y=new Date().toISOString().split("T")[0];h.setAttribute("href",d),h.setAttribute("download",`Backup_${l}_${y}.json`),document.body.appendChild(h),h.click(),h.remove(),o(`Copia de ${l} descargada con xito`,"success")}catch{o("Error al exportar datos","error")}finally{e(!1)}},s=async(l,c)=>{var h;const u=(h=l.target.files)==null?void 0:h[0];if(!u||!window.confirm(` ATENCIN! Ests por restaurar la coleccin '${c}'. Esto podra duplicar datos o sobreescribir informacin actual. Deseas continuar?`))return;e(!0);const d=new FileReader;d.onload=async y=>{var v;try{const _=JSON.parse((v=y.target)==null?void 0:v.result),w=TL(Re);_.forEach(T=>{const{id:E,...k}=T,A=E?yt(Re,c,E):yt(tt(Re,c));w.set(A,k)}),await w.commit(),o(`Coleccin ${c} restaurada correctamente`,"success")}catch{o("El archivo es invlido o no tiene el formato correcto","error")}finally{e(!1),i.current&&(i.current.value="")}},d.readAsText(u)},o=(l,c)=>{n({msg:l,type:c}),setTimeout(()=>n({msg:"",type:null}),5e3)};return x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Centro de Seguridad"}),x.jsx("p",{className:"text-slate-500 font-medium italic",children:"Respaldo y restauracin total de la base de datos."})]}),x.jsxs("div",{className:"flex items-center gap-2 bg-green-50 text-green-600 px-4 py-2 rounded-full border border-green-100",children:[x.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Servidor Seguro"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 space-y-6",children:[x.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[x.jsx(cg,{className:"text-orange-600"})," Descargar Copia de Seguridad"]}),x.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Genera un archivo .JSON con toda la informacin de cada mdulo."}),x.jsx("div",{className:"grid grid-cols-1 gap-3 pt-4",children:["products","sales","clients","suppliers"].map(l=>x.jsxs("button",{onClick:()=>a(l),className:"p-5 bg-slate-50 hover:bg-orange-600 hover:text-white rounded-2xl flex justify-between items-center transition-all group",children:[x.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:l}),x.jsx(cg,{size:18,className:"opacity-40 group-hover:opacity-100"})]},l))})]}),x.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] shadow-2xl text-white space-y-6 relative overflow-hidden",children:[x.jsxs("h3",{className:"text-sm font-black text-orange-500 uppercase tracking-widest flex items-center gap-2 relative z-10",children:[x.jsx(ok,{})," Restablecer desde Archivo"]}),x.jsx("p",{className:"text-xs text-slate-400 font-medium relative z-10",children:"Sube un archivo de respaldo previamente descargado para recuperar datos."}),x.jsx("div",{className:"space-y-3 pt-4 relative z-10",children:["products","clients","suppliers"].map(l=>x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"file",accept:".json",onChange:c=>s(c,l),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),x.jsxs("div",{className:"p-5 bg-white/5 border border-white/10 rounded-2xl flex justify-between items-center group-hover:bg-white/10 transition-all",children:[x.jsxs("span",{className:"font-black uppercase text-[10px] tracking-widest text-orange-400",children:["Restaurar ",l]}),x.jsx(dX,{size:18,className:"text-slate-500 group-hover:text-white"})]})]},l))}),x.jsx(ok,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5"})]})]}),x.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 flex items-start gap-4",children:[x.jsx(wl,{className:"text-red-600 shrink-0",size:24}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-black text-red-900 uppercase tracking-tight",children:"Zona de Riesgo"}),x.jsx("p",{className:"text-xs text-red-800 font-medium leading-relaxed mt-1",children:"Restablecer datos es una accin irreversible. Si subes un archivo viejo, podras perder las ventas actuales o duplicar clientes. Realiza siempre un backup antes de restaurar."})]})]}),t&&x.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-[200]",children:x.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex items-center gap-4 border border-slate-100",children:[x.jsx(Fl,{className:"animate-spin text-orange-600"}),x.jsx("p",{className:"font-black uppercase text-xs tracking-widest text-slate-800",children:"Procesando Base de Datos..."})]})}),r.msg&&x.jsxs("div",{className:`fixed bottom-10 left-1/2 -translate-x-1/2 px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom ${r.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[r.type==="success"?x.jsx(P0,{size:20}):x.jsx(Es,{size:20}),x.jsx("p",{className:"font-black uppercase text-[10px] tracking-widest",children:r.msg})]})]})},H4e=()=>{const[t,e]=re.useState(["dashboard"]),[r,n]=re.useState("dashboard"),[i,a]=re.useState(!1),[s,o]=re.useState({name:"",role:"vendedor"}),l=(d,h,y)=>{o({name:h,role:d,data:y}),a(!0)},c=d=>{t.includes(d)||e(h=>[...h,d]),n(d)},u=d=>{if(d==="dashboard")return;const h=t.filter(y=>y!==d);e(h),r===d&&n(h[h.length-1])};if(!i)return x.jsx(xX,{onLoginSuccess:l});if(s.role==="customer")return x.jsx(j4e,{client:s.data,onLogout:()=>a(!1),companyInfo:{name:"Sistems Nova"}});const f=d=>{switch(d){case"dashboard":return x.jsx(owe,{openTab:c});case"inventory":return x.jsx(uke,{});case"sales":return x.jsx(fke,{});case"purchases":return x.jsx(C4e,{});case"clients":return x.jsx(I4e,{});case"suppliers":return x.jsx(k4e,{});case"cashier":return x.jsx(P4e,{});case"finance":return x.jsx(U4e,{});case"balances":return x.jsx($4e,{});case"reports":return x.jsx(N4e,{});case"ecommerce":return x.jsx(O4e,{});case"quotes":return x.jsx(M4e,{});case"stock-adjustment":return x.jsx(D4e,{});case"catalog-config":return x.jsx(B4e,{});case"bulk-import":return x.jsx(V4e,{});case"users":return x.jsx(F4e,{});case"backup":return x.jsx(G4e,{});case"settings":return x.jsx(R4e,{isAdmin:s.role==="admin",companyInfo:{name:"Sistems Nova"},setCompanyInfo:()=>{}});default:return x.jsxs("div",{className:"p-20 text-center text-slate-400 font-bold italic",children:["Mdulo ",d," en construccin..."]})}};return x.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[x.jsx(gX,{activeTab:r,setActiveTab:c,currentUser:s,onLogout:()=>a(!1)}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx(yX,{openTabs:t,activeTabId:r,setActiveTabId:n,onCloseTab:u}),x.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t.map(d=>x.jsx("div",{className:d===r?"block animate-in fade-in zoom-in-95 duration-300":"hidden",children:f(d)},d))})]})]})};function z4e(){return x.jsx(VK,{children:x.jsx(H4e,{})})}const gV=document.getElementById("root");if(!gV)throw new Error("Could not find root element to mount to");const W4e=J1.createRoot(gV);W4e.render(x.jsx(Q.StrictMode,{children:x.jsx(z4e,{})}));
