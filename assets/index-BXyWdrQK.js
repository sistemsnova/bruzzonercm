(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wP={exports:{}},wg={},_P={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=Symbol.for("react.element"),d3=Symbol.for("react.portal"),f3=Symbol.for("react.fragment"),h3=Symbol.for("react.strict_mode"),p3=Symbol.for("react.profiler"),m3=Symbol.for("react.provider"),g3=Symbol.for("react.context"),x3=Symbol.for("react.forward_ref"),y3=Symbol.for("react.suspense"),v3=Symbol.for("react.memo"),b3=Symbol.for("react.lazy"),oE=Symbol.iterator;function w3(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var NP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SP=Object.assign,EP={};function vc(t,e,n){this.props=t,this.context=e,this.refs=EP,this.updater=n||NP}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TP(){}TP.prototype=vc.prototype;function Qw(t,e,n){this.props=t,this.context=e,this.refs=EP,this.updater=n||NP}var Zw=Qw.prototype=new TP;Zw.constructor=Qw;SP(Zw,vc.prototype);Zw.isPureReactComponent=!0;var lE=Array.isArray,AP=Object.prototype.hasOwnProperty,e1={current:null},kP={key:!0,ref:!0,__self:!0,__source:!0};function CP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)AP.call(e,r)&&!kP.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:xf,type:t,key:i,ref:o,props:s,_owner:e1.current}}function _3(t,e){return{$$typeof:xf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function t1(t){return typeof t=="object"&&t!==null&&t.$$typeof===xf}function N3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cE=/\/+/g;function wx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N3(""+t.key):e.toString(36)}function Wh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xf:case d3:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wx(o,0):r,lE(s)?(n="",t!=null&&(n=t.replace(cE,"$&/")+"/"),Wh(s,e,n,"",function(u){return u})):s!=null&&(t1(s)&&(s=_3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lE(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+wx(i,l);o+=Wh(i,e,n,c,s)}else if(c=w3(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+wx(i,l++),o+=Wh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rh(t,e,n){if(t==null)return t;var r=[],s=0;return Wh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function S3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Un={current:null},Kh={transition:null},E3={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:Kh,ReactCurrentOwner:e1};function jP(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:rh,forEach:function(t,e,n){rh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rh(t,function(){e++}),e},toArray:function(t){return rh(t,function(e){return e})||[]},only:function(t){if(!t1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=vc;Ue.Fragment=f3;Ue.Profiler=p3;Ue.PureComponent=Qw;Ue.StrictMode=h3;Ue.Suspense=y3;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E3;Ue.act=jP;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=e1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)AP.call(e,c)&&!kP.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xf,type:t.type,key:s,ref:i,props:r,_owner:o}};Ue.createContext=function(t){return t={$$typeof:g3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m3,_context:t},t.Consumer=t};Ue.createElement=CP;Ue.createFactory=function(t){var e=CP.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:x3,render:t}};Ue.isValidElement=t1;Ue.lazy=function(t){return{$$typeof:b3,_payload:{_status:-1,_result:t},_init:S3}};Ue.memo=function(t,e){return{$$typeof:v3,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Kh.transition;Kh.transition={};try{t()}finally{Kh.transition=e}};Ue.unstable_act=jP;Ue.useCallback=function(t,e){return Un.current.useCallback(t,e)};Ue.useContext=function(t){return Un.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Un.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Un.current.useEffect(t,e)};Ue.useId=function(){return Un.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Un.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Un.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Un.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Un.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Un.current.useReducer(t,e,n)};Ue.useRef=function(t){return Un.current.useRef(t)};Ue.useState=function(t){return Un.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Un.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Un.current.useTransition()};Ue.version="18.3.1";_P.exports=Ue;var D=_P.exports;const q=st(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3=D,A3=Symbol.for("react.element"),k3=Symbol.for("react.fragment"),C3=Object.prototype.hasOwnProperty,j3=T3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I3={key:!0,ref:!0,__self:!0,__source:!0};function IP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)C3.call(e,r)&&!I3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:A3,type:t,key:i,ref:o,props:s,_owner:j3.current}}wg.Fragment=k3;wg.jsx=IP;wg.jsxs=IP;wP.exports=wg;var a=wP.exports,Fy={},PP={exports:{}},mr={},RP={exports:{}},MP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var F=V.length;V.push(U);e:for(;0<F;){var G=F-1>>>1,K=V[G];if(0<s(K,U))V[G]=U,V[F]=K,F=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],F=V.pop();if(F!==U){V[0]=F;e:for(var G=0,K=V.length,Q=K>>>1;G<Q;){var de=2*(G+1)-1,we=V[de],be=de+1,$e=V[be];if(0>s(we,F))be<K&&0>s($e,we)?(V[G]=$e,V[be]=F,G=be):(V[G]=we,V[de]=F,G=de);else if(be<K&&0>s($e,F))V[G]=$e,V[be]=F,G=be;else break e}}return U}function s(V,U){var F=V.sortIndex-U.sortIndex;return F!==0?F:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=V)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function k(V){if(b=!1,S(V),!v)if(n(c)!==null)v=!0,$(A);else{var U=n(u);U!==null&&z(k,U.startTime-V)}}function A(V,U){v=!1,b&&(b=!1,w(T),T=-1),x=!0;var F=h;try{for(S(U),f=n(c);f!==null&&(!(f.expirationTime>U)||V&&!I());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var K=G(f.expirationTime<=U);U=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),S(U)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var de=n(u);de!==null&&z(k,de.startTime-U),Q=!1}return Q}finally{f=null,h=F,x=!1}}var N=!1,E=null,T=-1,j=5,M=-1;function I(){return!(t.unstable_now()-M<j)}function O(){if(E!==null){var V=t.unstable_now();M=V;var U=!0;try{U=E(!0,V)}finally{U?R():(N=!1,E=null)}}else N=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){y(O,0)};function $(V){E=V,N||(N=!0,R())}function z(V,U){T=y(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,$(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var F=h;h=U;try{return V()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=h;h=V;try{return U()}finally{h=F}},t.unstable_scheduleCallback=function(V,U,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=F+K,V={id:d++,callback:U,priorityLevel:V,startTime:F,expirationTime:K,sortIndex:-1},F>G?(V.sortIndex=F,e(u,V),n(c)===null&&V===n(u)&&(b?(w(T),T=-1):b=!0,z(k,F-G))):(V.sortIndex=K,e(c,V),v||x||(v=!0,$(A))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var U=h;return function(){var F=h;h=U;try{return V.apply(this,arguments)}finally{h=F}}}})(MP);RP.exports=MP;var P3=RP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=D,hr=P3;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OP=new Set,id={};function yo(t,e){Cl(t,e),Cl(t+"Capture",e)}function Cl(t,e){for(id[t]=e,t=0;t<e.length;t++)OP.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uy=Object.prototype.hasOwnProperty,M3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uE={},dE={};function O3(t){return Uy.call(dE,t)?!0:Uy.call(uE,t)?!1:M3.test(t)?dE[t]=!0:(uE[t]=!0,!1)}function D3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L3(t,e,n,r){if(e===null||typeof e>"u"||D3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var n1=/[\-:]([a-z])/g;function r1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n1,r1);gn[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n1,r1);gn[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n1,r1);gn[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function s1(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L3(e,n,s,r)&&(n=null),r||s===null?O3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sh=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),LP=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),zy=Symbol.for("react.suspense_list"),o1=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),$P=Symbol.for("react.offscreen"),fE=Symbol.iterator;function ru(t){return t===null||typeof t!="object"?null:(t=fE&&t[fE]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,_x;function Eu(t){if(_x===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_x=e&&e[1]||""}return`
`+_x+t}var Nx=!1;function Sx(t,e){if(!t||Nx)return"";Nx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eu(t):""}function $3(t){switch(t.tag){case 5:return Eu(t.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return t=Sx(t.type,!1),t;case 11:return t=Sx(t.type.render,!1),t;case 1:return t=Sx(t.type,!0),t;default:return""}}function Gy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case zo:return"Portal";case By:return"Profiler";case i1:return"StrictMode";case qy:return"Suspense";case zy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LP:return(t.displayName||"Context")+".Consumer";case DP:return(t._context.displayName||"Context")+".Provider";case a1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o1:return e=t.displayName||null,e!==null?e:Gy(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return Gy(t(e))}catch{}}return null}function V3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gy(e);case 8:return e===i1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F3(t){var e=VP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=F3(t))}function FP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hy(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UP(t,e){e=e.checked,e!=null&&s1(t,"checked",e,!1)}function Wy(t,e){UP(t,e);var n=sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ky(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ky(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ky(t,e,n){(e!=="number"||vp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tu=Array.isArray;function dl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Tu(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function BP(t,e){var n=sa(e.value),r=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ah,zP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U3=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(t){U3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Du[e]=Du[t]})});function GP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Du.hasOwnProperty(t)&&Du[t]?(""+e).trim():e+"px"}function HP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=GP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var B3=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xy(t,e){if(e){if(B3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Qy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=null;function l1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ev=null,fl=null,hl=null;function xE(t){if(t=bf(t)){if(typeof ev!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Tg(e),ev(t.stateNode,t.type,e))}}function WP(t){fl?hl?hl.push(t):hl=[t]:fl=t}function KP(){if(fl){var t=fl,e=hl;if(hl=fl=null,xE(t),e)for(t=0;t<e.length;t++)xE(e[t])}}function JP(t,e){return t(e)}function YP(){}var Ex=!1;function XP(t,e,n){if(Ex)return t(e,n);Ex=!0;try{return JP(t,e,n)}finally{Ex=!1,(fl!==null||hl!==null)&&(YP(),KP())}}function od(t,e){var n=t.stateNode;if(n===null)return null;var r=Tg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var tv=!1;if(Js)try{var su={};Object.defineProperty(su,"passive",{get:function(){tv=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{tv=!1}function q3(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Lu=!1,bp=null,wp=!1,nv=null,z3={onError:function(t){Lu=!0,bp=t}};function G3(t,e,n,r,s,i,o,l,c){Lu=!1,bp=null,q3.apply(z3,arguments)}function H3(t,e,n,r,s,i,o,l,c){if(G3.apply(this,arguments),Lu){if(Lu){var u=bp;Lu=!1,bp=null}else throw Error(ae(198));wp||(wp=!0,nv=u)}}function vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yE(t){if(vo(t)!==t)throw Error(ae(188))}function W3(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yE(s),t;if(i===r)return yE(s),e;i=i.sibling}throw Error(ae(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function ZP(t){return t=W3(t),t!==null?eR(t):null}function eR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eR(t);if(e!==null)return e;t=t.sibling}return null}var tR=hr.unstable_scheduleCallback,vE=hr.unstable_cancelCallback,K3=hr.unstable_shouldYield,J3=hr.unstable_requestPaint,Dt=hr.unstable_now,Y3=hr.unstable_getCurrentPriorityLevel,c1=hr.unstable_ImmediatePriority,nR=hr.unstable_UserBlockingPriority,_p=hr.unstable_NormalPriority,X3=hr.unstable_LowPriority,rR=hr.unstable_IdlePriority,_g=null,ps=null;function Q3(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(_g,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:tV,Z3=Math.log,eV=Math.LN2;function tV(t){return t>>>=0,t===0?32:31-(Z3(t)/eV|0)|0}var oh=64,lh=4194304;function Au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Np(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Au(l):(i&=o,i!==0&&(r=Au(i)))}else o=n&~s,o!==0?r=Au(o):i!==0&&(r=Au(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kr(e),s=1<<n,r|=t[n],e&=~s;return r}function nV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=nV(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sR(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function Tx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=n}function sV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function u1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nt=0;function iR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aR,d1,oR,lR,cR,sv=!1,ch=[],Bi=null,qi=null,zi=null,ld=new Map,cd=new Map,ki=[],iV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bE(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(e.pointerId)}}function iu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bf(e),e!==null&&d1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aV(t,e,n,r,s){switch(e){case"focusin":return Bi=iu(Bi,t,e,n,r,s),!0;case"dragenter":return qi=iu(qi,t,e,n,r,s),!0;case"mouseover":return zi=iu(zi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ld.set(i,iu(ld.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cd.set(i,iu(cd.get(i)||null,t,e,n,r,s)),!0}return!1}function uR(t){var e=Da(t.target);if(e!==null){var n=vo(e);if(n!==null){if(e=n.tag,e===13){if(e=QP(n),e!==null){t.blockedOn=e,cR(t.priority,function(){oR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zy=r,n.target.dispatchEvent(r),Zy=null}else return e=bf(n),e!==null&&d1(e),t.blockedOn=n,!1;e.shift()}return!0}function wE(t,e,n){Jh(t)&&n.delete(e)}function oV(){sv=!1,Bi!==null&&Jh(Bi)&&(Bi=null),qi!==null&&Jh(qi)&&(qi=null),zi!==null&&Jh(zi)&&(zi=null),ld.forEach(wE),cd.forEach(wE)}function au(t,e){t.blockedOn===e&&(t.blockedOn=null,sv||(sv=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,oV)))}function ud(t){function e(s){return au(s,t)}if(0<ch.length){au(ch[0],t);for(var n=1;n<ch.length;n++){var r=ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bi!==null&&au(Bi,t),qi!==null&&au(qi,t),zi!==null&&au(zi,t),ld.forEach(e),cd.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)uR(n),n.blockedOn===null&&ki.shift()}var pl=di.ReactCurrentBatchConfig,Sp=!0;function lV(t,e,n,r){var s=nt,i=pl.transition;pl.transition=null;try{nt=1,f1(t,e,n,r)}finally{nt=s,pl.transition=i}}function cV(t,e,n,r){var s=nt,i=pl.transition;pl.transition=null;try{nt=4,f1(t,e,n,r)}finally{nt=s,pl.transition=i}}function f1(t,e,n,r){if(Sp){var s=iv(t,e,n,r);if(s===null)Dx(t,e,r,Ep,n),bE(t,r);else if(aV(s,t,e,n,r))r.stopPropagation();else if(bE(t,r),e&4&&-1<iV.indexOf(t)){for(;s!==null;){var i=bf(s);if(i!==null&&aR(i),i=iv(t,e,n,r),i===null&&Dx(t,e,r,Ep,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Dx(t,e,r,null,n)}}var Ep=null;function iv(t,e,n,r){if(Ep=null,t=l1(r),t=Da(t),t!==null)if(e=vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ep=t,null}function dR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y3()){case c1:return 1;case nR:return 4;case _p:case X3:return 16;case rR:return 536870912;default:return 16}default:return 16}}var Di=null,h1=null,Yh=null;function fR(){if(Yh)return Yh;var t,e=h1,n=e.length,r,s="value"in Di?Di.value:Di.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yh=s.slice(t,1<r?1-r:void 0)}function Xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uh(){return!0}function _E(){return!1}function gr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uh:_E,this.isPropagationStopped=_E,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),e}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p1=gr(bc),vf=At({},bc,{view:0,detail:0}),uV=gr(vf),Ax,kx,ou,Ng=At({},vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ou&&(ou&&t.type==="mousemove"?(Ax=t.screenX-ou.screenX,kx=t.screenY-ou.screenY):kx=Ax=0,ou=t),Ax)},movementY:function(t){return"movementY"in t?t.movementY:kx}}),NE=gr(Ng),dV=At({},Ng,{dataTransfer:0}),fV=gr(dV),hV=At({},vf,{relatedTarget:0}),Cx=gr(hV),pV=At({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),mV=gr(pV),gV=At({},bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xV=gr(gV),yV=At({},bc,{data:0}),SE=gr(yV),vV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _V(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wV[t])?!!e[t]:!1}function m1(){return _V}var NV=At({},vf,{key:function(t){if(t.key){var e=vV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m1,charCode:function(t){return t.type==="keypress"?Xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SV=gr(NV),EV=At({},Ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=gr(EV),TV=At({},vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m1}),AV=gr(TV),kV=At({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),CV=gr(kV),jV=At({},Ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IV=gr(jV),PV=[9,13,27,32],g1=Js&&"CompositionEvent"in window,$u=null;Js&&"documentMode"in document&&($u=document.documentMode);var RV=Js&&"TextEvent"in window&&!$u,hR=Js&&(!g1||$u&&8<$u&&11>=$u),TE=" ",AE=!1;function pR(t,e){switch(t){case"keyup":return PV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function MV(t,e){switch(t){case"compositionend":return mR(e);case"keypress":return e.which!==32?null:(AE=!0,TE);case"textInput":return t=e.data,t===TE&&AE?null:t;default:return null}}function OV(t,e){if(Ho)return t==="compositionend"||!g1&&pR(t,e)?(t=fR(),Yh=h1=Di=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hR&&e.locale!=="ko"?null:e.data;default:return null}}var DV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DV[t.type]:e==="textarea"}function gR(t,e,n,r){WP(r),e=Tp(e,"onChange"),0<e.length&&(n=new p1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vu=null,dd=null;function LV(t){AR(t,0)}function Sg(t){var e=Jo(t);if(FP(e))return t}function $V(t,e){if(t==="change")return e}var xR=!1;if(Js){var jx;if(Js){var Ix="oninput"in document;if(!Ix){var CE=document.createElement("div");CE.setAttribute("oninput","return;"),Ix=typeof CE.oninput=="function"}jx=Ix}else jx=!1;xR=jx&&(!document.documentMode||9<document.documentMode)}function jE(){Vu&&(Vu.detachEvent("onpropertychange",yR),dd=Vu=null)}function yR(t){if(t.propertyName==="value"&&Sg(dd)){var e=[];gR(e,dd,t,l1(t)),XP(LV,e)}}function VV(t,e,n){t==="focusin"?(jE(),Vu=e,dd=n,Vu.attachEvent("onpropertychange",yR)):t==="focusout"&&jE()}function FV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sg(dd)}function UV(t,e){if(t==="click")return Sg(e)}function BV(t,e){if(t==="input"||t==="change")return Sg(e)}function qV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ts=typeof Object.is=="function"?Object.is:qV;function fd(t,e){if(ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Uy.call(e,s)||!ts(t[s],e[s]))return!1}return!0}function IE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PE(t,e){var n=IE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IE(n)}}function vR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bR(){for(var t=window,e=vp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vp(t.document)}return e}function x1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zV(t){var e=bR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vR(n.ownerDocument.documentElement,n)){if(r!==null&&x1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=PE(n,i);var o=PE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GV=Js&&"documentMode"in document&&11>=document.documentMode,Wo=null,av=null,Fu=null,ov=!1;function RE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ov||Wo==null||Wo!==vp(r)||(r=Wo,"selectionStart"in r&&x1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fu&&fd(Fu,r)||(Fu=r,r=Tp(av,"onSelect"),0<r.length&&(e=new p1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function dh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ko={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},Px={},wR={};Js&&(wR=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Eg(t){if(Px[t])return Px[t];if(!Ko[t])return t;var e=Ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wR)return Px[t]=e[n];return t}var _R=Eg("animationend"),NR=Eg("animationiteration"),SR=Eg("animationstart"),ER=Eg("transitionend"),TR=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){TR.set(t,e),yo(e,[t])}for(var Rx=0;Rx<ME.length;Rx++){var Mx=ME[Rx],HV=Mx.toLowerCase(),WV=Mx[0].toUpperCase()+Mx.slice(1);fa(HV,"on"+WV)}fa(_R,"onAnimationEnd");fa(NR,"onAnimationIteration");fa(SR,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(ER,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KV=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function OE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H3(r,e,void 0,t),t.currentTarget=null}function AR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;OE(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;OE(s,l,u),i=c}}}if(wp)throw t=nv,wp=!1,nv=null,t}function vt(t,e){var n=e[fv];n===void 0&&(n=e[fv]=new Set);var r=t+"__bubble";n.has(r)||(kR(e,t,2,!1),n.add(r))}function Ox(t,e,n){var r=0;e&&(r|=4),kR(n,t,r,e)}var fh="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[fh]){t[fh]=!0,OP.forEach(function(n){n!=="selectionchange"&&(KV.has(n)||Ox(n,!1,t),Ox(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fh]||(e[fh]=!0,Ox("selectionchange",!1,e))}}function kR(t,e,n,r){switch(dR(e)){case 1:var s=lV;break;case 4:s=cV;break;default:s=f1}n=s.bind(null,e,n,t),s=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Dx(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Da(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}XP(function(){var u=i,d=l1(n),f=[];e:{var h=TR.get(t);if(h!==void 0){var x=p1,v=t;switch(t){case"keypress":if(Xh(n)===0)break e;case"keydown":case"keyup":x=SV;break;case"focusin":v="focus",x=Cx;break;case"focusout":v="blur",x=Cx;break;case"beforeblur":case"afterblur":x=Cx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=fV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=AV;break;case _R:case NR:case SR:x=mV;break;case ER:x=CV;break;case"scroll":x=uV;break;case"wheel":x=IV;break;case"copy":case"cut":case"paste":x=xV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=EE}var b=(e&4)!==0,y=!b&&t==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,S;_!==null;){S=_;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,w!==null&&(k=od(_,w),k!=null&&b.push(pd(_,k,S)))),y)break;_=_.return}0<b.length&&(h=new x(h,v,null,n,d),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==Zy&&(v=n.relatedTarget||n.fromElement)&&(Da(v)||v[Ys]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?Da(v):null,v!==null&&(y=vo(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(b=NE,k="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=EE,k="onPointerLeave",w="onPointerEnter",_="pointer"),y=x==null?h:Jo(x),S=v==null?h:Jo(v),h=new b(k,_+"leave",x,n,d),h.target=y,h.relatedTarget=S,k=null,Da(d)===u&&(b=new b(w,_+"enter",v,n,d),b.target=S,b.relatedTarget=y,k=b),y=k,x&&v)t:{for(b=x,w=v,_=0,S=b;S;S=Oo(S))_++;for(S=0,k=w;k;k=Oo(k))S++;for(;0<_-S;)b=Oo(b),_--;for(;0<S-_;)w=Oo(w),S--;for(;_--;){if(b===w||w!==null&&b===w.alternate)break t;b=Oo(b),w=Oo(w)}b=null}else b=null;x!==null&&DE(f,h,x,b,!1),v!==null&&y!==null&&DE(f,y,v,b,!0)}}e:{if(h=u?Jo(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var A=$V;else if(kE(h))if(xR)A=BV;else{A=FV;var N=VV}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=UV);if(A&&(A=A(t,u))){gR(f,A,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ky(h,"number",h.value)}switch(N=u?Jo(u):window,t){case"focusin":(kE(N)||N.contentEditable==="true")&&(Wo=N,av=u,Fu=null);break;case"focusout":Fu=av=Wo=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,RE(f,n,d);break;case"selectionchange":if(GV)break;case"keydown":case"keyup":RE(f,n,d)}var E;if(g1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ho?pR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(hR&&n.locale!=="ko"&&(Ho||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ho&&(E=fR()):(Di=d,h1="value"in Di?Di.value:Di.textContent,Ho=!0)),N=Tp(u,T),0<N.length&&(T=new SE(T,t,null,n,d),f.push({event:T,listeners:N}),E?T.data=E:(E=mR(n),E!==null&&(T.data=E)))),(E=RV?MV(t,n):OV(t,n))&&(u=Tp(u,"onBeforeInput"),0<u.length&&(d=new SE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}AR(f,e)})}function pd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=od(t,n),i!=null&&r.unshift(pd(t,i,s)),i=od(t,e),i!=null&&r.push(pd(t,i,s))),t=t.return}return r}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=od(n,i),c!=null&&o.unshift(pd(n,c,l))):s||(c=od(n,i),c!=null&&o.push(pd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var JV=/\r\n?/g,YV=/\u0000|\uFFFD/g;function LE(t){return(typeof t=="string"?t:""+t).replace(JV,`
`).replace(YV,"")}function hh(t,e,n){if(e=LE(e),LE(t)!==e&&n)throw Error(ae(425))}function Ap(){}var lv=null,cv=null;function uv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,XV=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,QV=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(t){return $E.resolve(null).then(t).catch(ZV)}:dv;function ZV(t){setTimeout(function(){throw t})}function Lx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ud(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ud(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wc=Math.random().toString(36).slice(2),us="__reactFiber$"+wc,md="__reactProps$"+wc,Ys="__reactContainer$"+wc,fv="__reactEvents$"+wc,eF="__reactListeners$"+wc,tF="__reactHandles$"+wc;function Da(t){var e=t[us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VE(t);t!==null;){if(n=t[us])return n;t=VE(t)}return e}t=n,n=t.parentNode}return null}function bf(t){return t=t[us]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Tg(t){return t[md]||null}var hv=[],Yo=-1;function ha(t){return{current:t}}function _t(t){0>Yo||(t.current=hv[Yo],hv[Yo]=null,Yo--)}function mt(t,e){Yo++,hv[Yo]=t.current,t.current=e}var ia={},In=ha(ia),Xn=ha(!1),Za=ia;function jl(t,e){var n=t.type.contextTypes;if(!n)return ia;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qn(t){return t=t.childContextTypes,t!=null}function kp(){_t(Xn),_t(In)}function FE(t,e,n){if(In.current!==ia)throw Error(ae(168));mt(In,e),mt(Xn,n)}function CR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ae(108,V3(t)||"Unknown",s));return At({},n,r)}function Cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,Za=In.current,mt(In,t),mt(Xn,Xn.current),!0}function UE(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=CR(t,e,Za),r.__reactInternalMemoizedMergedChildContext=t,_t(Xn),_t(In),mt(In,t)):_t(Xn),mt(Xn,n)}var Ds=null,Ag=!1,$x=!1;function jR(t){Ds===null?Ds=[t]:Ds.push(t)}function nF(t){Ag=!0,jR(t)}function pa(){if(!$x&&Ds!==null){$x=!0;var t=0,e=nt;try{var n=Ds;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ds=null,Ag=!1}catch(s){throw Ds!==null&&(Ds=Ds.slice(t+1)),tR(c1,pa),s}finally{nt=e,$x=!1}}return null}var Xo=[],Qo=0,jp=null,Ip=0,wr=[],_r=0,eo=null,Ls=1,$s="";function ka(t,e){Xo[Qo++]=Ip,Xo[Qo++]=jp,jp=t,Ip=e}function IR(t,e,n){wr[_r++]=Ls,wr[_r++]=$s,wr[_r++]=eo,eo=t;var r=Ls;t=$s;var s=32-Kr(r)-1;r&=~(1<<s),n+=1;var i=32-Kr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ls=1<<32-Kr(e)+s|n<<s|r,$s=i+t}else Ls=1<<i|n<<s|r,$s=t}function y1(t){t.return!==null&&(ka(t,1),IR(t,1,0))}function v1(t){for(;t===jp;)jp=Xo[--Qo],Xo[Qo]=null,Ip=Xo[--Qo],Xo[Qo]=null;for(;t===eo;)eo=wr[--_r],wr[_r]=null,$s=wr[--_r],wr[_r]=null,Ls=wr[--_r],wr[_r]=null}var dr=null,cr=null,Nt=!1,Hr=null;function PR(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,cr=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:Ls,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,cr=null,!0):!1;default:return!1}}function pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mv(t){if(Nt){var e=cr;if(e){var n=e;if(!BE(t,e)){if(pv(t))throw Error(ae(418));e=Gi(n.nextSibling);var r=dr;e&&BE(t,e)?PR(r,n):(t.flags=t.flags&-4097|2,Nt=!1,dr=t)}}else{if(pv(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Nt=!1,dr=t}}}function qE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function ph(t){if(t!==dr)return!1;if(!Nt)return qE(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uv(t.type,t.memoizedProps)),e&&(e=cr)){if(pv(t))throw RR(),Error(ae(418));for(;e;)PR(t,e),e=Gi(e.nextSibling)}if(qE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=dr?Gi(t.stateNode.nextSibling):null;return!0}function RR(){for(var t=cr;t;)t=Gi(t.nextSibling)}function Il(){cr=dr=null,Nt=!1}function b1(t){Hr===null?Hr=[t]:Hr.push(t)}var rF=di.ReactCurrentBatchConfig;function lu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function mh(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function MR(t){function e(w,_){if(t){var S=w.deletions;S===null?(w.deletions=[_],w.flags|=16):S.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=Ji(w,_),w.index=0,w.sibling=null,w}function i(w,_,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<_?(w.flags|=2,_):S):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,_,S,k){return _===null||_.tag!==6?(_=Gx(S,w.mode,k),_.return=w,_):(_=s(_,S),_.return=w,_)}function c(w,_,S,k){var A=S.type;return A===Go?d(w,_,S.props.children,k,S.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ei&&zE(A)===_.type)?(k=s(_,S.props),k.ref=lu(w,_,S),k.return=w,k):(k=sp(S.type,S.key,S.props,null,w.mode,k),k.ref=lu(w,_,S),k.return=w,k)}function u(w,_,S,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Hx(S,w.mode,k),_.return=w,_):(_=s(_,S.children||[]),_.return=w,_)}function d(w,_,S,k,A){return _===null||_.tag!==7?(_=Ha(S,w.mode,k,A),_.return=w,_):(_=s(_,S),_.return=w,_)}function f(w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gx(""+_,w.mode,S),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sh:return S=sp(_.type,_.key,_.props,null,w.mode,S),S.ref=lu(w,null,_),S.return=w,S;case zo:return _=Hx(_,w.mode,S),_.return=w,_;case Ei:var k=_._init;return f(w,k(_._payload),S)}if(Tu(_)||ru(_))return _=Ha(_,w.mode,S,null),_.return=w,_;mh(w,_)}return null}function h(w,_,S,k){var A=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:l(w,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sh:return S.key===A?c(w,_,S,k):null;case zo:return S.key===A?u(w,_,S,k):null;case Ei:return A=S._init,h(w,_,A(S._payload),k)}if(Tu(S)||ru(S))return A!==null?null:d(w,_,S,k,null);mh(w,S)}return null}function x(w,_,S,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(S)||null,l(_,w,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case sh:return w=w.get(k.key===null?S:k.key)||null,c(_,w,k,A);case zo:return w=w.get(k.key===null?S:k.key)||null,u(_,w,k,A);case Ei:var N=k._init;return x(w,_,S,N(k._payload),A)}if(Tu(k)||ru(k))return w=w.get(S)||null,d(_,w,k,A,null);mh(_,k)}return null}function v(w,_,S,k){for(var A=null,N=null,E=_,T=_=0,j=null;E!==null&&T<S.length;T++){E.index>T?(j=E,E=null):j=E.sibling;var M=h(w,E,S[T],k);if(M===null){E===null&&(E=j);break}t&&E&&M.alternate===null&&e(w,E),_=i(M,_,T),N===null?A=M:N.sibling=M,N=M,E=j}if(T===S.length)return n(w,E),Nt&&ka(w,T),A;if(E===null){for(;T<S.length;T++)E=f(w,S[T],k),E!==null&&(_=i(E,_,T),N===null?A=E:N.sibling=E,N=E);return Nt&&ka(w,T),A}for(E=r(w,E);T<S.length;T++)j=x(E,w,T,S[T],k),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?T:j.key),_=i(j,_,T),N===null?A=j:N.sibling=j,N=j);return t&&E.forEach(function(I){return e(w,I)}),Nt&&ka(w,T),A}function b(w,_,S,k){var A=ru(S);if(typeof A!="function")throw Error(ae(150));if(S=A.call(S),S==null)throw Error(ae(151));for(var N=A=null,E=_,T=_=0,j=null,M=S.next();E!==null&&!M.done;T++,M=S.next()){E.index>T?(j=E,E=null):j=E.sibling;var I=h(w,E,M.value,k);if(I===null){E===null&&(E=j);break}t&&E&&I.alternate===null&&e(w,E),_=i(I,_,T),N===null?A=I:N.sibling=I,N=I,E=j}if(M.done)return n(w,E),Nt&&ka(w,T),A;if(E===null){for(;!M.done;T++,M=S.next())M=f(w,M.value,k),M!==null&&(_=i(M,_,T),N===null?A=M:N.sibling=M,N=M);return Nt&&ka(w,T),A}for(E=r(w,E);!M.done;T++,M=S.next())M=x(E,w,T,M.value,k),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?T:M.key),_=i(M,_,T),N===null?A=M:N.sibling=M,N=M);return t&&E.forEach(function(O){return e(w,O)}),Nt&&ka(w,T),A}function y(w,_,S,k){if(typeof S=="object"&&S!==null&&S.type===Go&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case sh:e:{for(var A=S.key,N=_;N!==null;){if(N.key===A){if(A=S.type,A===Go){if(N.tag===7){n(w,N.sibling),_=s(N,S.props.children),_.return=w,w=_;break e}}else if(N.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ei&&zE(A)===N.type){n(w,N.sibling),_=s(N,S.props),_.ref=lu(w,N,S),_.return=w,w=_;break e}n(w,N);break}else e(w,N);N=N.sibling}S.type===Go?(_=Ha(S.props.children,w.mode,k,S.key),_.return=w,w=_):(k=sp(S.type,S.key,S.props,null,w.mode,k),k.ref=lu(w,_,S),k.return=w,w=k)}return o(w);case zo:e:{for(N=S.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(w,_.sibling),_=s(_,S.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Hx(S,w.mode,k),_.return=w,w=_}return o(w);case Ei:return N=S._init,y(w,_,N(S._payload),k)}if(Tu(S))return v(w,_,S,k);if(ru(S))return b(w,_,S,k);mh(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,S),_.return=w,w=_):(n(w,_),_=Gx(S,w.mode,k),_.return=w,w=_),o(w)):n(w,_)}return y}var Pl=MR(!0),OR=MR(!1),Pp=ha(null),Rp=null,Zo=null,w1=null;function _1(){w1=Zo=Rp=null}function N1(t){var e=Pp.current;_t(Pp),t._currentValue=e}function gv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ml(t,e){Rp=t,w1=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function jr(t){var e=t._currentValue;if(w1!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(Rp===null)throw Error(ae(308));Zo=t,Rp.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var La=null;function S1(t){La===null?La=[t]:La.push(t)}function DR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,S1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xs(t,r)}function Xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function E1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xs(t,n)}return s=r.interleaved,s===null?(e.next=e,S1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xs(t,n)}function Qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u1(t,n)}}function GE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mp(t,e,n,r){var s=t.updateQueue;Ti=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,b=l;switch(h=e,x=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(x,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(x,f,h):v,h==null)break e;f=At({},f,h);break e;case 2:Ti=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);no|=o,t.lanes=o,t.memoizedState=f}}function HE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ae(191,s));s.call(r)}}}var wf={},ms=ha(wf),gd=ha(wf),xd=ha(wf);function $a(t){if(t===wf)throw Error(ae(174));return t}function T1(t,e){switch(mt(xd,e),mt(gd,t),mt(ms,wf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yy(e,t)}_t(ms),mt(ms,e)}function Rl(){_t(ms),_t(gd),_t(xd)}function $R(t){$a(xd.current);var e=$a(ms.current),n=Yy(e,t.type);e!==n&&(mt(gd,t),mt(ms,n))}function A1(t){gd.current===t&&(_t(ms),_t(gd))}var Et=ha(0);function Op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vx=[];function k1(){for(var t=0;t<Vx.length;t++)Vx[t]._workInProgressVersionPrimary=null;Vx.length=0}var Zh=di.ReactCurrentDispatcher,Fx=di.ReactCurrentBatchConfig,to=0,Tt=null,Ht=null,tn=null,Dp=!1,Uu=!1,yd=0,sF=0;function _n(){throw Error(ae(321))}function C1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ts(t[n],e[n]))return!1;return!0}function j1(t,e,n,r,s,i){if(to=i,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zh.current=t===null||t.memoizedState===null?lF:cF,t=n(r,s),Uu){i=0;do{if(Uu=!1,yd=0,25<=i)throw Error(ae(301));i+=1,tn=Ht=null,e.updateQueue=null,Zh.current=uF,t=n(r,s)}while(Uu)}if(Zh.current=Lp,e=Ht!==null&&Ht.next!==null,to=0,tn=Ht=Tt=null,Dp=!1,e)throw Error(ae(300));return t}function I1(){var t=yd!==0;return yd=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Tt.memoizedState=tn=t:tn=tn.next=t,tn}function Ir(){if(Ht===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=tn===null?Tt.memoizedState:tn.next;if(e!==null)tn=e,Ht=t;else{if(t===null)throw Error(ae(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},tn===null?Tt.memoizedState=tn=t:tn=tn.next=t}return tn}function vd(t,e){return typeof e=="function"?e(t):e}function Ux(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=Ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((to&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Tt.lanes|=d,no|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ts(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Tt.lanes|=i,no|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bx(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ts(i,e.memoizedState)||(Jn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function VR(){}function FR(t,e){var n=Tt,r=Ir(),s=e(),i=!ts(r.memoizedState,s);if(i&&(r.memoizedState=s,Jn=!0),r=r.queue,P1(qR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,bd(9,BR.bind(null,n,r,s,e),void 0,null),rn===null)throw Error(ae(349));to&30||UR(n,e,s)}return s}function UR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BR(t,e,n,r){e.value=n,e.getSnapshot=r,zR(e)&&GR(t)}function qR(t,e,n){return n(function(){zR(e)&&GR(t)})}function zR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ts(t,n)}catch{return!0}}function GR(t){var e=Xs(t,1);e!==null&&Jr(e,t,1,-1)}function WE(t){var e=cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},e.queue=t,t=t.dispatch=oF.bind(null,Tt,t),[e.memoizedState,t]}function bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HR(){return Ir().memoizedState}function ep(t,e,n,r){var s=cs();Tt.flags|=t,s.memoizedState=bd(1|e,n,void 0,r===void 0?null:r)}function kg(t,e,n,r){var s=Ir();r=r===void 0?null:r;var i=void 0;if(Ht!==null){var o=Ht.memoizedState;if(i=o.destroy,r!==null&&C1(r,o.deps)){s.memoizedState=bd(e,n,i,r);return}}Tt.flags|=t,s.memoizedState=bd(1|e,n,i,r)}function KE(t,e){return ep(8390656,8,t,e)}function P1(t,e){return kg(2048,8,t,e)}function WR(t,e){return kg(4,2,t,e)}function KR(t,e){return kg(4,4,t,e)}function JR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YR(t,e,n){return n=n!=null?n.concat([t]):null,kg(4,4,JR.bind(null,e,t),n)}function R1(){}function XR(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QR(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZR(t,e,n){return to&21?(ts(n,e)||(n=sR(),Tt.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function iF(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Fx.transition;Fx.transition={};try{t(!1),e()}finally{nt=n,Fx.transition=r}}function eM(){return Ir().memoizedState}function aF(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tM(t))nM(e,n);else if(n=DR(t,e,n,r),n!==null){var s=Vn();Jr(n,t,r,s),rM(n,e,r)}}function oF(t,e,n){var r=Ki(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tM(t))nM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ts(l,o)){var c=e.interleaved;c===null?(s.next=s,S1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=DR(t,e,s,r),n!==null&&(s=Vn(),Jr(n,t,r,s),rM(n,e,r))}}function tM(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function nM(t,e){Uu=Dp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u1(t,n)}}var Lp={readContext:jr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},lF={readContext:jr,useCallback:function(t,e){return cs().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:KE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ep(4194308,4,JR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ep(4194308,4,t,e)},useInsertionEffect:function(t,e){return ep(4,2,t,e)},useMemo:function(t,e){var n=cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aF.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=cs();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:R1,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=iF.bind(null,t[1]),cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,s=cs();if(Nt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),rn===null)throw Error(ae(349));to&30||UR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,KE(qR.bind(null,r,i,t),[t]),r.flags|=2048,bd(9,BR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cs(),e=rn.identifierPrefix;if(Nt){var n=$s,r=Ls;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cF={readContext:jr,useCallback:XR,useContext:jr,useEffect:P1,useImperativeHandle:YR,useInsertionEffect:WR,useLayoutEffect:KR,useMemo:QR,useReducer:Ux,useRef:HR,useState:function(){return Ux(vd)},useDebugValue:R1,useDeferredValue:function(t){var e=Ir();return ZR(e,Ht.memoizedState,t)},useTransition:function(){var t=Ux(vd)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:VR,useSyncExternalStore:FR,useId:eM,unstable_isNewReconciler:!1},uF={readContext:jr,useCallback:XR,useContext:jr,useEffect:P1,useImperativeHandle:YR,useInsertionEffect:WR,useLayoutEffect:KR,useMemo:QR,useReducer:Bx,useRef:HR,useState:function(){return Bx(vd)},useDebugValue:R1,useDeferredValue:function(t){var e=Ir();return Ht===null?e.memoizedState=t:ZR(e,Ht.memoizedState,t)},useTransition:function(){var t=Bx(vd)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:VR,useSyncExternalStore:FR,useId:eM,unstable_isNewReconciler:!1};function qr(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cg={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),s=Ki(t),i=Gs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hi(t,i,s),e!==null&&(Jr(e,t,s,r),Qh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),s=Ki(t),i=Gs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hi(t,i,s),e!==null&&(Jr(e,t,s,r),Qh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=Ki(t),s=Gs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hi(t,s,r),e!==null&&(Jr(e,t,r,n),Qh(e,t,r))}};function JE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fd(n,r)||!fd(s,i):!0}function sM(t,e,n){var r=!1,s=ia,i=e.contextType;return typeof i=="object"&&i!==null?i=jr(i):(s=Qn(e)?Za:In.current,r=e.contextTypes,i=(r=r!=null)?jl(t,s):ia),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function YE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cg.enqueueReplaceState(e,e.state,null)}function yv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},E1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jr(i):(i=Qn(e)?Za:In.current,s.context=jl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cg.enqueueReplaceState(s,s.state,null),Mp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",r=e;do n+=$3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dF=typeof WeakMap=="function"?WeakMap:Map;function iM(t,e,n){n=Gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vp||(Vp=!0,Cv=r),vv(t,e)},n}function aM(t,e,n){n=Gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vv(t,e),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=EF.bind(null,t,e,n),e.then(t,t))}function QE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gs(-1,1),e.tag=2,Hi(n,e,1))),n.lanes|=1),t)}var fF=di.ReactCurrentOwner,Jn=!1;function On(t,e,n,r){e.child=t===null?OR(e,null,n,r):Pl(e,t.child,n,r)}function eT(t,e,n,r,s){n=n.render;var i=e.ref;return ml(e,s),r=j1(t,e,n,r,i,s),n=I1(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qs(t,e,s)):(Nt&&n&&y1(e),e.flags|=1,On(t,e,r,s),e.child)}function tT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!U1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oM(t,e,i,r,s)):(t=sp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fd,n(o,r)&&t.ref===e.ref)return Qs(t,e,s)}return e.flags|=1,t=Ji(i,r),t.ref=e.ref,t.return=e,e.child=t}function oM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fd(i,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,Qs(t,e,s)}return bv(t,e,n,r,s)}function lM(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(tl,ar),ar|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(tl,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mt(tl,ar),ar|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,mt(tl,ar),ar|=r;return On(t,e,s,n),e.child}function cM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bv(t,e,n,r,s){var i=Qn(n)?Za:In.current;return i=jl(e,i),ml(e,s),n=j1(t,e,n,r,i,s),r=I1(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qs(t,e,s)):(Nt&&r&&y1(e),e.flags|=1,On(t,e,n,s),e.child)}function nT(t,e,n,r,s){if(Qn(n)){var i=!0;Cp(e)}else i=!1;if(ml(e,s),e.stateNode===null)tp(t,e),sM(e,n,r),yv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jr(u):(u=Qn(n)?Za:In.current,u=jl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&YE(e,o,r,u),Ti=!1;var h=e.memoizedState;o.state=h,Mp(e,r,o,s),c=e.memoizedState,l!==r||h!==c||Xn.current||Ti?(typeof d=="function"&&(xv(e,n,d,r),c=e.memoizedState),(l=Ti||JE(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LR(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:qr(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=jr(c):(c=Qn(n)?Za:In.current,c=jl(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&YE(e,o,r,c),Ti=!1,h=e.memoizedState,o.state=h,Mp(e,r,o,s);var v=e.memoizedState;l!==f||h!==v||Xn.current||Ti?(typeof x=="function"&&(xv(e,n,x,r),v=e.memoizedState),(u=Ti||JE(e,n,u,r,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return wv(t,e,n,r,i,s)}function wv(t,e,n,r,s,i){cM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&UE(e,n,!1),Qs(t,e,i);r=e.stateNode,fF.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pl(e,t.child,null,i),e.child=Pl(e,null,l,i)):On(t,e,l,i),e.memoizedState=r.state,s&&UE(e,n,!0),e.child}function uM(t){var e=t.stateNode;e.pendingContext?FE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FE(t,e.context,!1),T1(t,e.containerInfo)}function rT(t,e,n,r,s){return Il(),b1(s),e.flags|=256,On(t,e,n,r),e.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Nv(t){return{baseLanes:t,cachePool:null,transitions:null}}function dM(t,e,n){var r=e.pendingProps,s=Et.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),mt(Et,s&1),t===null)return mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pg(o,r,0,null),t=Ha(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Nv(n),e.memoizedState=_v,t):M1(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hF(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ji(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ji(l,i):(i=Ha(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Nv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_v,r}return i=t.child,t=i.sibling,r=Ji(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M1(t,e){return e=Pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gh(t,e,n,r){return r!==null&&b1(r),Pl(e,t.child,null,n),t=M1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qx(Error(ae(422))),gh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pg({mode:"visible",children:r.children},s,0,null),i=Ha(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Pl(e,t.child,null,o),e.child.memoizedState=Nv(o),e.memoizedState=_v,i);if(!(e.mode&1))return gh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ae(419)),r=qx(i,r,void 0),gh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Jn||l){if(r=rn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xs(t,s),Jr(r,t,s,-1))}return F1(),r=qx(Error(ae(421))),gh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cr=Gi(s.nextSibling),dr=e,Nt=!0,Hr=null,t!==null&&(wr[_r++]=Ls,wr[_r++]=$s,wr[_r++]=eo,Ls=t.id,$s=t.overflow,eo=e),e=M1(e,r.children),e.flags|=4096,e)}function sT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gv(t.return,e,n)}function zx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fM(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(On(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sT(t,n,e);else if(t.tag===19)sT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(Et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Op(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Op(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zx(e,!0,n,null,i);break;case"together":zx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pF(t,e,n){switch(e.tag){case 3:uM(e),Il();break;case 5:$R(e);break;case 1:Qn(e.type)&&Cp(e);break;case 4:T1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;mt(Pp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?dM(t,e,n):(mt(Et,Et.current&1),t=Qs(t,e,n),t!==null?t.sibling:null);mt(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fM(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,lM(t,e,n)}return Qs(t,e,n)}var hM,Sv,pM,mM;hM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sv=function(){};pM=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$a(ms.current);var i=null;switch(n){case"input":s=Hy(t,s),r=Hy(t,r),i=[];break;case"select":s=At({},s,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":s=Jy(t,s),r=Jy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ap)}Xy(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(id.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(id.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};mM=function(t,e,n,r){n!==r&&(e.flags|=4)};function cu(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mF(t,e,n){var r=e.pendingProps;switch(v1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return Qn(e.type)&&kp(),Nn(e),null;case 3:return r=e.stateNode,Rl(),_t(Xn),_t(In),k1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hr!==null&&(Pv(Hr),Hr=null))),Sv(t,e),Nn(e),null;case 5:A1(e);var s=$a(xd.current);if(n=e.type,t!==null&&e.stateNode!=null)pM(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Nn(e),null}if(t=$a(ms.current),ph(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[us]=e,r[md]=i,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(s=0;s<ku.length;s++)vt(ku[s],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":hE(r,i),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vt("invalid",r);break;case"textarea":mE(r,i),vt("invalid",r)}Xy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&hh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hh(r.textContent,l,t),s=["children",""+l]):id.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",r)}switch(n){case"input":ih(r),pE(r,i,!0);break;case"textarea":ih(r),gE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ap)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[us]=e,t[md]=r,hM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qy(n,r),n){case"dialog":vt("cancel",t),vt("close",t),s=r;break;case"iframe":case"object":case"embed":vt("load",t),s=r;break;case"video":case"audio":for(s=0;s<ku.length;s++)vt(ku[s],t);s=r;break;case"source":vt("error",t),s=r;break;case"img":case"image":case"link":vt("error",t),vt("load",t),s=r;break;case"details":vt("toggle",t),s=r;break;case"input":hE(t,r),s=Hy(t,r),vt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=At({},r,{value:void 0}),vt("invalid",t);break;case"textarea":mE(t,r),s=Jy(t,r),vt("invalid",t);break;default:s=r}Xy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?HP(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zP(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ad(t,c):typeof c=="number"&&ad(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(id.hasOwnProperty(i)?c!=null&&i==="onScroll"&&vt("scroll",t):c!=null&&s1(t,i,c,o))}switch(n){case"input":ih(t),pE(t,r,!1);break;case"textarea":ih(t),gE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?dl(t,!!r.multiple,i,!1):r.defaultValue!=null&&dl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ap)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)mM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=$a(xd.current),$a(ms.current),ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[us]=e,(i=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:hh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=e,e.stateNode=r}return Nn(e),null;case 13:if(_t(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&cr!==null&&e.mode&1&&!(e.flags&128))RR(),Il(),e.flags|=98560,i=!1;else if(i=ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[us]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),i=!1}else Hr!==null&&(Pv(Hr),Hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Kt===0&&(Kt=3):F1())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Rl(),Sv(t,e),t===null&&hd(e.stateNode.containerInfo),Nn(e),null;case 10:return N1(e.type._context),Nn(e),null;case 17:return Qn(e.type)&&kp(),Nn(e),null;case 19:if(_t(Et),i=e.memoizedState,i===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)cu(i,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Op(t),o!==null){for(e.flags|=128,cu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mt(Et,Et.current&1|2),e.child}t=t.sibling}i.tail!==null&&Dt()>Ol&&(e.flags|=128,r=!0,cu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Op(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Nt)return Nn(e),null}else 2*Dt()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,cu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Dt(),e.sibling=null,n=Et.current,mt(Et,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return V1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ar&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function gF(t,e){switch(v1(e),e.tag){case 1:return Qn(e.type)&&kp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),_t(Xn),_t(In),k1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return A1(e),null;case 13:if(_t(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(Et),null;case 4:return Rl(),null;case 10:return N1(e.type._context),null;case 22:case 23:return V1(),null;case 24:return null;default:return null}}var xh=!1,An=!1,xF=typeof WeakSet=="function"?WeakSet:Set,ge=null;function el(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function Ev(t,e,n){try{n()}catch(r){jt(t,e,r)}}var iT=!1;function yF(t,e){if(lv=Sp,t=bR(),x1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cv={focusedElem:t,selectionRange:n},Sp=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,y=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:qr(e.type,b),y);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(k){jt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=iT,iT=!1,v}function Bu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ev(e,n,i)}s=s.next}while(s!==r)}}function jg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gM(t){var e=t.alternate;e!==null&&(t.alternate=null,gM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[md],delete e[fv],delete e[eF],delete e[tF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xM(t){return t.tag===5||t.tag===3||t.tag===4}function aT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Av(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ap));else if(r!==4&&(t=t.child,t!==null))for(Av(t,e,n),t=t.sibling;t!==null;)Av(t,e,n),t=t.sibling}function kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kv(t,e,n),t=t.sibling;t!==null;)kv(t,e,n),t=t.sibling}var un=null,zr=!1;function _i(t,e,n){for(n=n.child;n!==null;)yM(t,e,n),n=n.sibling}function yM(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(_g,n)}catch{}switch(n.tag){case 5:An||el(n,e);case 6:var r=un,s=zr;un=null,_i(t,e,n),un=r,zr=s,un!==null&&(zr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(zr?(t=un,n=n.stateNode,t.nodeType===8?Lx(t.parentNode,n):t.nodeType===1&&Lx(t,n),ud(t)):Lx(un,n.stateNode));break;case 4:r=un,s=zr,un=n.stateNode.containerInfo,zr=!0,_i(t,e,n),un=r,zr=s;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ev(n,e,o),s=s.next}while(s!==r)}_i(t,e,n);break;case 1:if(!An&&(el(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){jt(n,e,l)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,_i(t,e,n),An=r):_i(t,e,n);break;default:_i(t,e,n)}}function oT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xF),e.forEach(function(r){var s=AF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:un=l.stateNode,zr=!1;break e;case 3:un=l.stateNode.containerInfo,zr=!0;break e;case 4:un=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(un===null)throw Error(ae(160));yM(i,o,s),un=null,zr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){jt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vM(e,t),e=e.sibling}function vM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),os(t),r&4){try{Bu(3,t,t.return),jg(3,t)}catch(b){jt(t,t.return,b)}try{Bu(5,t,t.return)}catch(b){jt(t,t.return,b)}}break;case 1:Fr(e,t),os(t),r&512&&n!==null&&el(n,n.return);break;case 5:if(Fr(e,t),os(t),r&512&&n!==null&&el(n,n.return),t.flags&32){var s=t.stateNode;try{ad(s,"")}catch(b){jt(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&UP(s,i),Qy(l,o);var u=Qy(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?HP(s,f):d==="dangerouslySetInnerHTML"?zP(s,f):d==="children"?ad(s,f):s1(s,d,f,u)}switch(l){case"input":Wy(s,i);break;case"textarea":BP(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?dl(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?dl(s,!!i.multiple,i.defaultValue,!0):dl(s,!!i.multiple,i.multiple?[]:"",!1))}s[md]=i}catch(b){jt(t,t.return,b)}}break;case 6:if(Fr(e,t),os(t),r&4){if(t.stateNode===null)throw Error(ae(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){jt(t,t.return,b)}}break;case 3:if(Fr(e,t),os(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(b){jt(t,t.return,b)}break;case 4:Fr(e,t),os(t);break;case 13:Fr(e,t),os(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(L1=Dt())),r&4&&oT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(An=(u=An)||d,Fr(e,t),An=u):Fr(e,t),os(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(h=ge,x=h.child,h.tag){case 0:case 11:case 14:case 15:Bu(4,h,h.return);break;case 1:el(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){jt(r,n,b)}}break;case 5:el(h,h.return);break;case 22:if(h.memoizedState!==null){cT(f);continue}}x!==null?(x.return=h,ge=x):cT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=GP("display",o))}catch(b){jt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){jt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fr(e,t),os(t),r&4&&oT(t);break;case 21:break;default:Fr(e,t),os(t)}}function os(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xM(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ad(s,""),r.flags&=-33);var i=aT(t);kv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=aT(t);Av(t,l,o);break;default:throw Error(ae(161))}}catch(c){jt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vF(t,e,n){ge=t,bM(t)}function bM(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xh;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||An;l=xh;var u=An;if(xh=o,(An=c)&&!u)for(ge=s;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?uT(s):c!==null?(c.return=o,ge=c):uT(s);for(;i!==null;)ge=i,bM(i),i=i.sibling;ge=s,xh=l,An=u}lT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):lT(t)}}function lT(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||jg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&HE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ud(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}An||e.flags&512&&Tv(e)}catch(h){jt(e,e.return,h)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function cT(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function uT(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jg(4,e)}catch(c){jt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){jt(e,s,c)}}var i=e.return;try{Tv(e)}catch(c){jt(e,i,c)}break;case 5:var o=e.return;try{Tv(e)}catch(c){jt(e,o,c)}}}catch(c){jt(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var bF=Math.ceil,$p=di.ReactCurrentDispatcher,O1=di.ReactCurrentOwner,Tr=di.ReactCurrentBatchConfig,We=0,rn=null,Ft=null,pn=0,ar=0,tl=ha(0),Kt=0,wd=null,no=0,Ig=0,D1=0,qu=null,Hn=null,L1=0,Ol=1/0,Ms=null,Vp=!1,Cv=null,Wi=null,yh=!1,Li=null,Fp=0,zu=0,jv=null,np=-1,rp=0;function Vn(){return We&6?Dt():np!==-1?np:np=Dt()}function Ki(t){return t.mode&1?We&2&&pn!==0?pn&-pn:rF.transition!==null?(rp===0&&(rp=sR()),rp):(t=nt,t!==0||(t=window.event,t=t===void 0?16:dR(t.type)),t):1}function Jr(t,e,n,r){if(50<zu)throw zu=0,jv=null,Error(ae(185));yf(t,n,r),(!(We&2)||t!==rn)&&(t===rn&&(!(We&2)&&(Ig|=n),Kt===4&&Ci(t,pn)),Zn(t,r),n===1&&We===0&&!(e.mode&1)&&(Ol=Dt()+500,Ag&&pa()))}function Zn(t,e){var n=t.callbackNode;rV(t,e);var r=Np(t,t===rn?pn:0);if(r===0)n!==null&&vE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vE(n),e===1)t.tag===0?nF(dT.bind(null,t)):jR(dT.bind(null,t)),QV(function(){!(We&6)&&pa()}),n=null;else{switch(iR(r)){case 1:n=c1;break;case 4:n=nR;break;case 16:n=_p;break;case 536870912:n=rR;break;default:n=_p}n=kM(n,wM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wM(t,e){if(np=-1,rp=0,We&6)throw Error(ae(327));var n=t.callbackNode;if(gl()&&t.callbackNode!==n)return null;var r=Np(t,t===rn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Up(t,r);else{e=r;var s=We;We|=2;var i=NM();(rn!==t||pn!==e)&&(Ms=null,Ol=Dt()+500,Ga(t,e));do try{NF();break}catch(l){_M(t,l)}while(!0);_1(),$p.current=i,We=s,Ft!==null?e=0:(rn=null,pn=0,e=Kt)}if(e!==0){if(e===2&&(s=rv(t),s!==0&&(r=s,e=Iv(t,s))),e===1)throw n=wd,Ga(t,0),Ci(t,r),Zn(t,Dt()),n;if(e===6)Ci(t,r);else{if(s=t.current.alternate,!(r&30)&&!wF(s)&&(e=Up(t,r),e===2&&(i=rv(t),i!==0&&(r=i,e=Iv(t,i))),e===1))throw n=wd,Ga(t,0),Ci(t,r),Zn(t,Dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:Ca(t,Hn,Ms);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=L1+500-Dt(),10<e)){if(Np(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=dv(Ca.bind(null,t,Hn,Ms),e);break}Ca(t,Hn,Ms);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bF(r/1960))-r,10<r){t.timeoutHandle=dv(Ca.bind(null,t,Hn,Ms),r);break}Ca(t,Hn,Ms);break;case 5:Ca(t,Hn,Ms);break;default:throw Error(ae(329))}}}return Zn(t,Dt()),t.callbackNode===n?wM.bind(null,t):null}function Iv(t,e){var n=qu;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=Up(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&Pv(e)),t}function Pv(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function wF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ts(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~D1,e&=~Ig,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kr(e),r=1<<n;t[n]=-1,e&=~r}}function dT(t){if(We&6)throw Error(ae(327));gl();var e=Np(t,0);if(!(e&1))return Zn(t,Dt()),null;var n=Up(t,e);if(t.tag!==0&&n===2){var r=rv(t);r!==0&&(e=r,n=Iv(t,r))}if(n===1)throw n=wd,Ga(t,0),Ci(t,e),Zn(t,Dt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ca(t,Hn,Ms),Zn(t,Dt()),null}function $1(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(Ol=Dt()+500,Ag&&pa())}}function ro(t){Li!==null&&Li.tag===0&&!(We&6)&&gl();var e=We;We|=1;var n=Tr.transition,r=nt;try{if(Tr.transition=null,nt=1,t)return t()}finally{nt=r,Tr.transition=n,We=e,!(We&6)&&pa()}}function V1(){ar=tl.current,_t(tl)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XV(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(v1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kp();break;case 3:Rl(),_t(Xn),_t(In),k1();break;case 5:A1(r);break;case 4:Rl();break;case 13:_t(Et);break;case 19:_t(Et);break;case 10:N1(r.type._context);break;case 22:case 23:V1()}n=n.return}if(rn=t,Ft=t=Ji(t.current,null),pn=ar=e,Kt=0,wd=null,D1=Ig=no=0,Hn=qu=null,La!==null){for(e=0;e<La.length;e++)if(n=La[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}La=null}return t}function _M(t,e){do{var n=Ft;try{if(_1(),Zh.current=Lp,Dp){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dp=!1}if(to=0,tn=Ht=Tt=null,Uu=!1,yd=0,O1.current=null,n===null||n.return===null){Kt=1,wd=e,Ft=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=QE(o);if(x!==null){x.flags&=-257,ZE(x,o,l,i,e),x.mode&1&&XE(i,u,e),e=x,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){XE(i,u,e),F1();break e}c=Error(ae(426))}}else if(Nt&&l.mode&1){var y=QE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZE(y,o,l,i,e),b1(Ml(c,l));break e}}i=c=Ml(c,l),Kt!==4&&(Kt=2),qu===null?qu=[i]:qu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=iM(i,c,e);GE(i,w);break e;case 1:l=c;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wi===null||!Wi.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=aM(i,l,e);GE(i,k);break e}}i=i.return}while(i!==null)}EM(n)}catch(A){e=A,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function NM(){var t=$p.current;return $p.current=Lp,t===null?Lp:t}function F1(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),rn===null||!(no&268435455)&&!(Ig&268435455)||Ci(rn,pn)}function Up(t,e){var n=We;We|=2;var r=NM();(rn!==t||pn!==e)&&(Ms=null,Ga(t,e));do try{_F();break}catch(s){_M(t,s)}while(!0);if(_1(),We=n,$p.current=r,Ft!==null)throw Error(ae(261));return rn=null,pn=0,Kt}function _F(){for(;Ft!==null;)SM(Ft)}function NF(){for(;Ft!==null&&!K3();)SM(Ft)}function SM(t){var e=AM(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?EM(t):Ft=e,O1.current=null}function EM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gF(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,Ft=null;return}}else if(n=mF(n,e,ar),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);Kt===0&&(Kt=5)}function Ca(t,e,n){var r=nt,s=Tr.transition;try{Tr.transition=null,nt=1,SF(t,e,n,r)}finally{Tr.transition=s,nt=r}return null}function SF(t,e,n,r){do gl();while(Li!==null);if(We&6)throw Error(ae(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(sV(t,i),t===rn&&(Ft=rn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yh||(yh=!0,kM(_p,function(){return gl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var o=nt;nt=1;var l=We;We|=4,O1.current=null,yF(t,n),vM(n,t),zV(cv),Sp=!!lv,cv=lv=null,t.current=n,vF(n),J3(),We=l,nt=o,Tr.transition=i}else t.current=n;if(yh&&(yh=!1,Li=t,Fp=s),i=t.pendingLanes,i===0&&(Wi=null),Q3(n.stateNode),Zn(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vp)throw Vp=!1,t=Cv,Cv=null,t;return Fp&1&&t.tag!==0&&gl(),i=t.pendingLanes,i&1?t===jv?zu++:(zu=0,jv=t):zu=0,pa(),null}function gl(){if(Li!==null){var t=iR(Fp),e=Tr.transition,n=nt;try{if(Tr.transition=null,nt=16>t?16:t,Li===null)var r=!1;else{if(t=Li,Li=null,Fp=0,We&6)throw Error(ae(331));var s=We;for(We|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Bu(8,d,i)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var h=d.sibling,x=d.return;if(gM(d),d===u){ge=null;break}if(h!==null){h.return=x,ge=h;break}ge=x}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ge=w;break e}ge=i.return}}var _=t.current;for(ge=_;ge!==null;){o=ge;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ge=S;else e:for(o=_;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jg(9,l)}}catch(A){jt(l,l.return,A)}if(l===o){ge=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ge=k;break e}ge=l.return}}if(We=s,pa(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(_g,t)}catch{}r=!0}return r}finally{nt=n,Tr.transition=e}}return!1}function fT(t,e,n){e=Ml(n,e),e=iM(t,e,1),t=Hi(t,e,1),e=Vn(),t!==null&&(yf(t,1,e),Zn(t,e))}function jt(t,e,n){if(t.tag===3)fT(t,t,n);else for(;e!==null;){if(e.tag===3){fT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){t=Ml(n,t),t=aM(e,t,1),e=Hi(e,t,1),t=Vn(),e!==null&&(yf(e,1,t),Zn(e,t));break}}e=e.return}}function EF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,rn===t&&(pn&n)===n&&(Kt===4||Kt===3&&(pn&130023424)===pn&&500>Dt()-L1?Ga(t,0):D1|=n),Zn(t,e)}function TM(t,e){e===0&&(t.mode&1?(e=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):e=1);var n=Vn();t=Xs(t,e),t!==null&&(yf(t,e,n),Zn(t,n))}function TF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TM(t,n)}function AF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),TM(t,n)}var AM;AM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xn.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,pF(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,Nt&&e.flags&1048576&&IR(e,Ip,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tp(t,e),t=e.pendingProps;var s=jl(e,In.current);ml(e,n),s=j1(null,e,r,t,s,n);var i=I1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(i=!0,Cp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,E1(e),s.updater=Cg,e.stateNode=s,s._reactInternals=e,yv(e,r,t,n),e=wv(null,e,r,!0,i,n)):(e.tag=0,Nt&&i&&y1(e),On(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=CF(r),t=qr(r,t),s){case 0:e=bv(null,e,r,t,n);break e;case 1:e=nT(null,e,r,t,n);break e;case 11:e=eT(null,e,r,t,n);break e;case 14:e=tT(null,e,r,qr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),bv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),nT(t,e,r,s,n);case 3:e:{if(uM(e),t===null)throw Error(ae(387));r=e.pendingProps,i=e.memoizedState,s=i.element,LR(t,e),Mp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ml(Error(ae(423)),e),e=rT(t,e,r,n,s);break e}else if(r!==s){s=Ml(Error(ae(424)),e),e=rT(t,e,r,n,s);break e}else for(cr=Gi(e.stateNode.containerInfo.firstChild),dr=e,Nt=!0,Hr=null,n=OR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===s){e=Qs(t,e,n);break e}On(t,e,r,n)}e=e.child}return e;case 5:return $R(e),t===null&&mv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,uv(r,s)?o=null:i!==null&&uv(r,i)&&(e.flags|=32),cM(t,e),On(t,e,o,n),e.child;case 6:return t===null&&mv(e),null;case 13:return dM(t,e,n);case 4:return T1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pl(e,null,r,n):On(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),eT(t,e,r,s,n);case 7:return On(t,e,e.pendingProps,n),e.child;case 8:return On(t,e,e.pendingProps.children,n),e.child;case 12:return On(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,mt(Pp,r._currentValue),r._currentValue=o,i!==null)if(ts(i.value,o)){if(i.children===s.children&&!Xn.current){e=Qs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Gs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),gv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}On(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ml(e,n),s=jr(s),r=r(s),e.flags|=1,On(t,e,r,n),e.child;case 14:return r=e.type,s=qr(r,e.pendingProps),s=qr(r.type,s),tT(t,e,r,s,n);case 15:return oM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qr(r,s),tp(t,e),e.tag=1,Qn(r)?(t=!0,Cp(e)):t=!1,ml(e,n),sM(e,r,s),yv(e,r,s,n),wv(null,e,r,!0,t,n);case 19:return fM(t,e,n);case 22:return lM(t,e,n)}throw Error(ae(156,e.tag))};function kM(t,e){return tR(t,e)}function kF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new kF(t,e,n,r)}function U1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CF(t){if(typeof t=="function")return U1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a1)return 11;if(t===o1)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")U1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Go:return Ha(n.children,s,i,e);case i1:o=8,s|=8;break;case By:return t=Sr(12,n,e,s|2),t.elementType=By,t.lanes=i,t;case qy:return t=Sr(13,n,e,s),t.elementType=qy,t.lanes=i,t;case zy:return t=Sr(19,n,e,s),t.elementType=zy,t.lanes=i,t;case $P:return Pg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DP:o=10;break e;case LP:o=9;break e;case a1:o=11;break e;case o1:o=14;break e;case Ei:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Sr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ha(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function Pg(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=$P,t.lanes=n,t.stateNode={isHidden:!1},t}function Gx(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function Hx(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tx(0),this.expirationTimes=Tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tx(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function B1(t,e,n,r,s,i,o,l,c){return t=new jF(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E1(i),t}function IF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CM(t){if(!t)return ia;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Qn(n))return CR(t,n,e)}return e}function jM(t,e,n,r,s,i,o,l,c){return t=B1(n,r,!0,t,s,i,o,l,c),t.context=CM(null),n=t.current,r=Vn(),s=Ki(n),i=Gs(r,s),i.callback=e??null,Hi(n,i,s),t.current.lanes=s,yf(t,s,r),Zn(t,r),t}function Rg(t,e,n,r){var s=e.current,i=Vn(),o=Ki(s);return n=CM(n),e.context===null?e.context=n:e.pendingContext=n,e=Gs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hi(s,e,o),t!==null&&(Jr(t,s,o,i),Qh(t,s,o)),o}function Bp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q1(t,e){hT(t,e),(t=t.alternate)&&hT(t,e)}function PF(){return null}var IM=typeof reportError=="function"?reportError:function(t){console.error(t)};function z1(t){this._internalRoot=t}Mg.prototype.render=z1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Rg(t,e,null,null)};Mg.prototype.unmount=z1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Rg(null,t,null,null)}),e[Ys]=null}};function Mg(t){this._internalRoot=t}Mg.prototype.unstable_scheduleHydration=function(t){if(t){var e=lR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&uR(t)}};function G1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pT(){}function RF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Bp(o);i.call(u)}}var o=jM(e,r,t,0,null,!1,!1,"",pT);return t._reactRootContainer=o,t[Ys]=o.current,hd(t.nodeType===8?t.parentNode:t),ro(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Bp(c);l.call(u)}}var c=B1(t,0,!1,null,null,!1,!1,"",pT);return t._reactRootContainer=c,t[Ys]=c.current,hd(t.nodeType===8?t.parentNode:t),ro(function(){Rg(e,c,n,r)}),c}function Dg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Bp(o);l.call(c)}}Rg(e,o,t,s)}else o=RF(n,e,t,s,r);return Bp(o)}aR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Au(e.pendingLanes);n!==0&&(u1(e,n|1),Zn(e,Dt()),!(We&6)&&(Ol=Dt()+500,pa()))}break;case 13:ro(function(){var r=Xs(t,1);if(r!==null){var s=Vn();Jr(r,t,1,s)}}),q1(t,1)}};d1=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var n=Vn();Jr(e,t,134217728,n)}q1(t,134217728)}};oR=function(t){if(t.tag===13){var e=Ki(t),n=Xs(t,e);if(n!==null){var r=Vn();Jr(n,t,e,r)}q1(t,e)}};lR=function(){return nt};cR=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};ev=function(t,e,n){switch(e){case"input":if(Wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tg(r);if(!s)throw Error(ae(90));FP(r),Wy(r,s)}}}break;case"textarea":BP(t,n);break;case"select":e=n.value,e!=null&&dl(t,!!n.multiple,e,!1)}};JP=$1;YP=ro;var MF={usingClientEntryPoint:!1,Events:[bf,Jo,Tg,WP,KP,$1]},uu={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OF={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZP(t),t===null?null:t.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||PF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{_g=vh.inject(OF),ps=vh}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MF;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G1(e))throw Error(ae(200));return IF(t,e,null,n)};mr.createRoot=function(t,e){if(!G1(t))throw Error(ae(299));var n=!1,r="",s=IM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=B1(t,1,!1,null,null,n,!1,r,s),t[Ys]=e.current,hd(t.nodeType===8?t.parentNode:t),new z1(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=ZP(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return ro(t)};mr.hydrate=function(t,e,n){if(!Og(e))throw Error(ae(200));return Dg(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!G1(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=IM;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jM(e,null,t,1,n??null,s,!1,i,o),t[Ys]=e.current,hd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Mg(e)};mr.render=function(t,e,n){if(!Og(e))throw Error(ae(200));return Dg(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!Og(t))throw Error(ae(40));return t._reactRootContainer?(ro(function(){Dg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};mr.unstable_batchedUpdates=$1;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Og(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Dg(t,e,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function PM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PM)}catch(t){console.error(t)}}PM(),PP.exports=mr;var DF=PP.exports,mT=DF;Fy.createRoot=mT.createRoot,Fy.hydrateRoot=mT.hydrateRoot;var gT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},MM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[d],n[f],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new $F;const h=i<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VF=function(t){const e=RM(t);return MM.encodeByteArray(e,!0)},qp=function(t){return VF(t).replace(/\./g,"")},OM=function(t){try{return MM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=()=>FF().__FIREBASE_DEFAULTS__,BF=()=>{if(typeof process>"u"||typeof gT>"u")return;const t=gT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OM(t[1]);return e&&JSON.parse(e)},Lg=()=>{try{return UF()||BF()||qF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DM=t=>{var e,n;return(n=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zF=t=>{const e=DM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LM=()=>{var t;return(t=Lg())===null||t===void 0?void 0:t.config},$M=t=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qp(JSON.stringify(n)),qp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function KF(){var t;const e=(t=Lg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QF(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZF(){return!KF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eU(){try{return typeof indexedDB=="object"}catch{return!1}}function tU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nU,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?rU(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new fi(s,l,r)}}function rU(t,e){return t.replace(sU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sU=/\{\$([^}]+)}/g;function iU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xT(i)&&xT(o)){if(!zp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aU(t,e){const n=new oU(t,e);return n.subscribe.bind(n)}class oU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Wx),s.error===void 0&&(s.error=Wx),s.complete===void 0&&(s.complete=Wx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dU(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uU(t){return t===ja?void 0:t}function dU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const hU={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},pU=ze.INFO,mU={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},gU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=mU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H1{constructor(e){this.name=e,this._logLevel=pU,this._logHandler=gU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const xU=(t,e)=>e.some(n=>t instanceof n);let yT,vT;function yU(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vU(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VM=new WeakMap,Rv=new WeakMap,FM=new WeakMap,Kx=new WeakMap,W1=new WeakMap;function bU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Yi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VM.set(n,t)}).catch(()=>{}),W1.set(e,t),e}function wU(t){if(Rv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rv.set(t,e)}let Mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _U(t){Mv=t(Mv)}function NU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jx(this),e,...n);return FM.set(r,e.sort?e.sort():[e]),Yi(r)}:vU().includes(t)?function(...e){return t.apply(Jx(this),e),Yi(VM.get(this))}:function(...e){return Yi(t.apply(Jx(this),e))}}function SU(t){return typeof t=="function"?NU(t):(t instanceof IDBTransaction&&wU(t),xU(t,yU())?new Proxy(t,Mv):t)}function Yi(t){if(t instanceof IDBRequest)return bU(t);if(Kx.has(t))return Kx.get(t);const e=SU(t);return e!==t&&(Kx.set(t,e),W1.set(e,t)),e}const Jx=t=>W1.get(t);function EU(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Yi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Yi(o.result),c.oldVersion,c.newVersion,Yi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const TU=["get","getKey","getAll","getAllKeys","count"],AU=["put","add","delete","clear"],Yx=new Map;function bT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yx.get(e))return Yx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||TU.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Yx.set(e,i),i}_U(t=>({...t,get:(e,n,r)=>bT(e,n)||t.get(e,n,r),has:(e,n)=>!!bT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",wT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new H1("@firebase/app"),jU="@firebase/app-compat",IU="@firebase/analytics-compat",PU="@firebase/analytics",RU="@firebase/app-check-compat",MU="@firebase/app-check",OU="@firebase/auth",DU="@firebase/auth-compat",LU="@firebase/database",$U="@firebase/data-connect",VU="@firebase/database-compat",FU="@firebase/functions",UU="@firebase/functions-compat",BU="@firebase/installations",qU="@firebase/installations-compat",zU="@firebase/messaging",GU="@firebase/messaging-compat",HU="@firebase/performance",WU="@firebase/performance-compat",KU="@firebase/remote-config",JU="@firebase/remote-config-compat",YU="@firebase/storage",XU="@firebase/storage-compat",QU="@firebase/firestore",ZU="@firebase/vertexai-preview",e8="@firebase/firestore-compat",t8="firebase",n8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="[DEFAULT]",r8={[Ov]:"fire-core",[jU]:"fire-core-compat",[PU]:"fire-analytics",[IU]:"fire-analytics-compat",[MU]:"fire-app-check",[RU]:"fire-app-check-compat",[OU]:"fire-auth",[DU]:"fire-auth-compat",[LU]:"fire-rtdb",[$U]:"fire-data-connect",[VU]:"fire-rtdb-compat",[FU]:"fire-fn",[UU]:"fire-fn-compat",[BU]:"fire-iid",[qU]:"fire-iid-compat",[zU]:"fire-fcm",[GU]:"fire-fcm-compat",[HU]:"fire-perf",[WU]:"fire-perf-compat",[KU]:"fire-rc",[JU]:"fire-rc-compat",[YU]:"fire-gcs",[XU]:"fire-gcs-compat",[QU]:"fire-fst",[e8]:"fire-fst-compat",[ZU]:"fire-vertex","fire-js":"fire-js",[t8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,s8=new Map,Lv=new Map;function _T(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(Lv.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,t);for(const n of Gp.values())_T(n,t);for(const n of s8.values())_T(n,t);return!0}function K1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $i(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new _f("app","Firebase",i8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=n8;function UM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Xi.create("bad-app-name",{appName:String(s)});if(n||(n=LM()),!n)throw Xi.create("no-options");const i=Gp.get(s);if(i){if(zp(n,i.options)&&zp(r,i.config))return i;throw Xi.create("duplicate-app",{appName:s})}const o=new fU(s);for(const c of Lv.values())o.addComponent(c);const l=new a8(n,r,o);return Gp.set(s,l),l}function BM(t=Dv){const e=Gp.get(t);if(!e&&t===Dv&&LM())return UM();if(!e)throw Xi.create("no-app",{appName:t});return e}function Qi(t,e,n){var r;let s=(r=r8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(l.join(" "));return}Dl(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="firebase-heartbeat-database",l8=1,_d="firebase-heartbeat-store";let Xx=null;function qM(){return Xx||(Xx=EU(o8,l8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_d)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Xx}async function c8(t){try{const n=(await qM()).transaction(_d),r=await n.objectStore(_d).get(zM(t));return await n.done,r}catch(e){if(e instanceof fi)Zs.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function NT(t,e){try{const r=(await qM()).transaction(_d,"readwrite");await r.objectStore(_d).put(e,zM(t)),await r.done}catch(n){if(n instanceof fi)Zs.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(r.message)}}}function zM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=1024,d8=30*24*60*60*1e3;class f8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ST();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=d8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ST(),{heartbeatsToSend:r,unsentEntries:s}=h8(this._heartbeatsCache.heartbeats),i=qp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Zs.warn(n),""}}}function ST(){return new Date().toISOString().substring(0,10)}function h8(t,e=u8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ET(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ET(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eU()?tU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ET(t){return qp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){Dl(new so("platform-logger",e=>new kU(e),"PRIVATE")),Dl(new so("heartbeat",e=>new f8(e),"PRIVATE")),Qi(Ov,wT,t),Qi(Ov,wT,"esm2017"),Qi("fire-js","")}m8("");var g8="firebase",x8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(g8,x8,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,GM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function j(){}j.prototype=T.prototype,E.D=T.prototype,E.prototype=new j,E.prototype.constructor=E,E.C=function(M,I,O){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return T.prototype[I].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,T,j){j||(j=0);var M=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)M[I]=T.charCodeAt(j++)|T.charCodeAt(j++)<<8|T.charCodeAt(j++)<<16|T.charCodeAt(j++)<<24;else for(I=0;16>I;++I)M[I]=T[j++]|T[j++]<<8|T[j++]<<16|T[j++]<<24;T=E.g[0],j=E.g[1],I=E.g[2];var O=E.g[3],R=T+(O^j&(I^O))+M[0]+3614090360&4294967295;T=j+(R<<7&4294967295|R>>>25),R=O+(I^T&(j^I))+M[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=I+(j^O&(T^j))+M[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=j+(T^I&(O^T))+M[3]+3250441966&4294967295,j=I+(R<<22&4294967295|R>>>10),R=T+(O^j&(I^O))+M[4]+4118548399&4294967295,T=j+(R<<7&4294967295|R>>>25),R=O+(I^T&(j^I))+M[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=I+(j^O&(T^j))+M[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=j+(T^I&(O^T))+M[7]+4249261313&4294967295,j=I+(R<<22&4294967295|R>>>10),R=T+(O^j&(I^O))+M[8]+1770035416&4294967295,T=j+(R<<7&4294967295|R>>>25),R=O+(I^T&(j^I))+M[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=I+(j^O&(T^j))+M[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=j+(T^I&(O^T))+M[11]+2304563134&4294967295,j=I+(R<<22&4294967295|R>>>10),R=T+(O^j&(I^O))+M[12]+1804603682&4294967295,T=j+(R<<7&4294967295|R>>>25),R=O+(I^T&(j^I))+M[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=I+(j^O&(T^j))+M[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=j+(T^I&(O^T))+M[15]+1236535329&4294967295,j=I+(R<<22&4294967295|R>>>10),R=T+(I^O&(j^I))+M[1]+4129170786&4294967295,T=j+(R<<5&4294967295|R>>>27),R=O+(j^I&(T^j))+M[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=I+(T^j&(O^T))+M[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=j+(O^T&(I^O))+M[0]+3921069994&4294967295,j=I+(R<<20&4294967295|R>>>12),R=T+(I^O&(j^I))+M[5]+3593408605&4294967295,T=j+(R<<5&4294967295|R>>>27),R=O+(j^I&(T^j))+M[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=I+(T^j&(O^T))+M[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=j+(O^T&(I^O))+M[4]+3889429448&4294967295,j=I+(R<<20&4294967295|R>>>12),R=T+(I^O&(j^I))+M[9]+568446438&4294967295,T=j+(R<<5&4294967295|R>>>27),R=O+(j^I&(T^j))+M[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=I+(T^j&(O^T))+M[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=j+(O^T&(I^O))+M[8]+1163531501&4294967295,j=I+(R<<20&4294967295|R>>>12),R=T+(I^O&(j^I))+M[13]+2850285829&4294967295,T=j+(R<<5&4294967295|R>>>27),R=O+(j^I&(T^j))+M[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=I+(T^j&(O^T))+M[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=j+(O^T&(I^O))+M[12]+2368359562&4294967295,j=I+(R<<20&4294967295|R>>>12),R=T+(j^I^O)+M[5]+4294588738&4294967295,T=j+(R<<4&4294967295|R>>>28),R=O+(T^j^I)+M[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=I+(O^T^j)+M[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=j+(I^O^T)+M[14]+4259657740&4294967295,j=I+(R<<23&4294967295|R>>>9),R=T+(j^I^O)+M[1]+2763975236&4294967295,T=j+(R<<4&4294967295|R>>>28),R=O+(T^j^I)+M[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=I+(O^T^j)+M[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=j+(I^O^T)+M[10]+3200236656&4294967295,j=I+(R<<23&4294967295|R>>>9),R=T+(j^I^O)+M[13]+681279174&4294967295,T=j+(R<<4&4294967295|R>>>28),R=O+(T^j^I)+M[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=I+(O^T^j)+M[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=j+(I^O^T)+M[6]+76029189&4294967295,j=I+(R<<23&4294967295|R>>>9),R=T+(j^I^O)+M[9]+3654602809&4294967295,T=j+(R<<4&4294967295|R>>>28),R=O+(T^j^I)+M[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=I+(O^T^j)+M[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=j+(I^O^T)+M[2]+3299628645&4294967295,j=I+(R<<23&4294967295|R>>>9),R=T+(I^(j|~O))+M[0]+4096336452&4294967295,T=j+(R<<6&4294967295|R>>>26),R=O+(j^(T|~I))+M[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=I+(T^(O|~j))+M[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=j+(O^(I|~T))+M[5]+4237533241&4294967295,j=I+(R<<21&4294967295|R>>>11),R=T+(I^(j|~O))+M[12]+1700485571&4294967295,T=j+(R<<6&4294967295|R>>>26),R=O+(j^(T|~I))+M[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=I+(T^(O|~j))+M[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=j+(O^(I|~T))+M[1]+2240044497&4294967295,j=I+(R<<21&4294967295|R>>>11),R=T+(I^(j|~O))+M[8]+1873313359&4294967295,T=j+(R<<6&4294967295|R>>>26),R=O+(j^(T|~I))+M[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=I+(T^(O|~j))+M[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=j+(O^(I|~T))+M[13]+1309151649&4294967295,j=I+(R<<21&4294967295|R>>>11),R=T+(I^(j|~O))+M[4]+4149444226&4294967295,T=j+(R<<6&4294967295|R>>>26),R=O+(j^(T|~I))+M[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=I+(T^(O|~j))+M[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=j+(O^(I|~T))+M[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var j=T-this.blockSize,M=this.B,I=this.h,O=0;O<T;){if(I==0)for(;O<=j;)s(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<T;)if(M[I++]=E.charCodeAt(O++),I==this.blockSize){s(this,M),I=0;break}}else for(;O<T;)if(M[I++]=E[O++],I==this.blockSize){s(this,M),I=0;break}}this.h=I,this.o+=T},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var j=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=j&255,j/=256;for(this.u(E),E=Array(16),T=j=0;4>T;++T)for(var M=0;32>M;M+=8)E[j++]=this.g[T]>>>M&255;return E};function i(E,T){var j=l;return Object.prototype.hasOwnProperty.call(j,E)?j[E]:j[E]=T(E)}function o(E,T){this.h=T;for(var j=[],M=!0,I=E.length-1;0<=I;I--){var O=E[I]|0;M&&O==T||(j[I]=O,M=!1)}this.g=j}var l={};function c(E){return-128<=E&&128>E?i(E,function(T){return new o([T|0],0>T?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return y(u(-E));for(var T=[],j=1,M=0;E>=j;M++)T[M]=E/j|0,j*=4294967296;return new o(T,0)}function d(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return y(d(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(T,8)),M=f,I=0;I<E.length;I+=8){var O=Math.min(8,E.length-I),R=parseInt(E.substring(I,I+O),T);8>O?(O=u(Math.pow(T,O)),M=M.j(O).add(u(R))):(M=M.j(j),M=M.add(u(R)))}return M}var f=c(0),h=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-y(this).m();for(var E=0,T=1,j=0;j<this.g.length;j++){var M=this.i(j);E+=(0<=M?M:4294967296+M)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(b(this))return"-"+y(this).toString(E);for(var T=u(Math.pow(E,6)),j=this,M="";;){var I=k(j,T).g;j=w(j,I.j(T));var O=((0<j.g.length?j.g[0]:j.h)>>>0).toString(E);if(j=I,v(j))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=w(this,E),b(E)?-1:v(E)?0:1};function y(E){for(var T=E.g.length,j=[],M=0;M<T;M++)j[M]=~E.g[M];return new o(j,~E.h).add(h)}t.abs=function(){return b(this)?y(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),j=[],M=0,I=0;I<=T;I++){var O=M+(this.i(I)&65535)+(E.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);M=R>>>16,O&=65535,R&=65535,j[I]=R<<16|O}return new o(j,j[j.length-1]&-2147483648?-1:0)};function w(E,T){return E.add(y(T))}t.j=function(E){if(v(this)||v(E))return f;if(b(this))return b(E)?y(this).j(y(E)):y(y(this).j(E));if(b(E))return y(this.j(y(E)));if(0>this.l(x)&&0>E.l(x))return u(this.m()*E.m());for(var T=this.g.length+E.g.length,j=[],M=0;M<2*T;M++)j[M]=0;for(M=0;M<this.g.length;M++)for(var I=0;I<E.g.length;I++){var O=this.i(M)>>>16,R=this.i(M)&65535,H=E.i(I)>>>16,B=E.i(I)&65535;j[2*M+2*I]+=R*B,_(j,2*M+2*I),j[2*M+2*I+1]+=O*B,_(j,2*M+2*I+1),j[2*M+2*I+1]+=R*H,_(j,2*M+2*I+1),j[2*M+2*I+2]+=O*H,_(j,2*M+2*I+2)}for(M=0;M<T;M++)j[M]=j[2*M+1]<<16|j[2*M];for(M=T;M<2*T;M++)j[M]=0;return new o(j,0)};function _(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function S(E,T){this.g=E,this.h=T}function k(E,T){if(v(T))throw Error("division by zero");if(v(E))return new S(f,f);if(b(E))return T=k(y(E),T),new S(y(T.g),y(T.h));if(b(T))return T=k(E,y(T)),new S(y(T.g),T.h);if(30<E.g.length){if(b(E)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var j=h,M=T;0>=M.l(E);)j=A(j),M=A(M);var I=N(j,1),O=N(M,1);for(M=N(M,2),j=N(j,2);!v(M);){var R=O.add(M);0>=R.l(E)&&(I=I.add(j),O=R),M=N(M,1),j=N(j,1)}return T=w(E,I.j(T)),new S(I,T)}for(I=f;0<=E.l(T);){for(j=Math.max(1,Math.floor(E.m()/T.m())),M=Math.ceil(Math.log(j)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=u(j),R=O.j(T);b(R)||0<R.l(E);)j-=M,O=u(j),R=O.j(T);v(O)&&(O=h),I=I.add(O),E=w(E,R)}return new S(I,E)}t.A=function(E){return k(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),j=[],M=0;M<T;M++)j[M]=this.i(M)&E.i(M);return new o(j,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),j=[],M=0;M<T;M++)j[M]=this.i(M)|E.i(M);return new o(j,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),j=[],M=0;M<T;M++)j[M]=this.i(M)^E.i(M);return new o(j,this.h^E.h)};function A(E){for(var T=E.g.length+1,j=[],M=0;M<T;M++)j[M]=E.i(M)<<1|E.i(M-1)>>>31;return new o(j,E.h)}function N(E,T){var j=T>>5;T%=32;for(var M=E.g.length-j,I=[],O=0;O<M;O++)I[O]=0<T?E.i(O+j)>>>T|E.i(O+j+1)<<32-T:E.i(O+j);return new o(I,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Wa=o}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HM,Cu,WM,ip,$v,KM,JM,YM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,P){return m==Array.prototype||m==Object.prototype||(m[C]=P.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var C=0;C<m.length;++C){var P=m[C];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function s(m,C){if(C)e:{var P=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var J=m[L];if(!(J in P))break e;P=P[J]}m=m[m.length-1],L=P[m],C=C(L),C!=L&&C!=null&&e(P,m,{configurable:!0,writable:!0,value:C})}}function i(m,C){m instanceof String&&(m+="");var P=0,L=!1,J={next:function(){if(!L&&P<m.length){var Z=P++;return{value:C(Z,m[Z]),done:!1}}return L=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(m){return m||function(){return i(this,function(C,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function u(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function d(m,C,P){return m.call.apply(m.bind,arguments)}function f(m,C,P){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,L),m.apply(C,J)}}return function(){return m.apply(C,arguments)}}function h(m,C,P){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function x(m,C){var P=Array.prototype.slice.call(arguments,1);return function(){var L=P.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,C){function P(){}P.prototype=C.prototype,m.aa=C.prototype,m.prototype=new P,m.prototype.constructor=m,m.Qb=function(L,J,Z){for(var ue=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ue[lt-2]=arguments[lt];return C.prototype[J].apply(L,ue)}}function b(m){const C=m.length;if(0<C){const P=Array(C);for(let L=0;L<C;L++)P[L]=m[L];return P}return[]}function y(m,C){for(let P=1;P<arguments.length;P++){const L=arguments[P];if(c(L)){const J=m.length||0,Z=L.length||0;m.length=J+Z;for(let ue=0;ue<Z;ue++)m[J+ue]=L[ue]}else m.push(L)}}class w{constructor(C,P){this.i=C,this.j=P,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function _(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function k(m){return k[" "](m),m}k[" "]=function(){};var A=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(m,C,P){for(const L in m)C.call(P,m[L],L,m)}function E(m,C){for(const P in m)C.call(void 0,m[P],P,m)}function T(m){const C={};for(const P in m)C[P]=m[P];return C}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,C){let P,L;for(let J=1;J<arguments.length;J++){L=arguments[J];for(P in L)m[P]=L[P];for(let Z=0;Z<j.length;Z++)P=j[Z],Object.prototype.hasOwnProperty.call(L,P)&&(m[P]=L[P])}}function I(m){var C=1;m=m.split(":");const P=[];for(;0<C&&m.length;)P.push(m.shift()),C--;return m.length&&P.push(m.join(":")),P}function O(m){l.setTimeout(()=>{throw m},0)}function R(){var m=U;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class H{constructor(){this.h=this.g=null}add(C,P){const L=B.get();L.set(C,P),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new w(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(C,P){this.h=C,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let z,V=!1,U=new H,F=()=>{const m=l.Promise.resolve(void 0);z=()=>{m.then(G)}};var G=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(P){O(P)}var C=B;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}V=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};l.addEventListener("test",P,C),l.removeEventListener("test",P,C)}catch{}return m}();function we(m,C){if(Q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var P=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(A){e:{try{k(C.nodeName);var J=!0;break e}catch{}J=!1}J||(C=null)}}else P=="mouseover"?C=m.fromElement:P=="mouseout"&&(C=m.toElement);this.relatedTarget=C,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:be[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&we.aa.h.call(this)}}v(we,Q);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),tt=0;function le(m,C,P,L,J){this.listener=m,this.proxy=null,this.src=C,this.type=P,this.capture=!!L,this.ha=J,this.key=++tt,this.da=this.fa=!1}function _e(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function X(m){this.src=m,this.g={},this.h=0}X.prototype.add=function(m,C,P,L,J){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var ue=W(m,C,L,J);return-1<ue?(C=m[ue],P||(C.fa=!1)):(C=new le(C,this.src,Z,!!L,J),C.fa=P,m.push(C)),C};function Y(m,C){var P=C.type;if(P in m.g){var L=m.g[P],J=Array.prototype.indexOf.call(L,C,void 0),Z;(Z=0<=J)&&Array.prototype.splice.call(L,J,1),Z&&(_e(C),m.g[P].length==0&&(delete m.g[P],m.h--))}}function W(m,C,P,L){for(var J=0;J<m.length;++J){var Z=m[J];if(!Z.da&&Z.listener==C&&Z.capture==!!P&&Z.ha==L)return J}return-1}var ce="closure_lm_"+(1e6*Math.random()|0),Me={};function pe(m,C,P,L,J){if(Array.isArray(C)){for(var Z=0;Z<C.length;Z++)pe(m,C[Z],P,L,J);return null}return P=me(P),m&&m[$e]?m.K(C,P,u(L)?!!L.capture:!1,J):Fe(m,C,P,!1,L,J)}function Fe(m,C,P,L,J,Z){if(!C)throw Error("Invalid event type");var ue=u(J)?!!J.capture:!!J,lt=qn(m);if(lt||(m[ce]=lt=new X(m)),P=lt.add(C,P,L,ue,Z),P.proxy)return P;if(L=xt(),P.proxy=L,L.src=m,L.listener=P,m.addEventListener)de||(J=ue),J===void 0&&(J=!1),m.addEventListener(C.toString(),L,J);else if(m.attachEvent)m.attachEvent(ot(C.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return P}function xt(){function m(P){return C.call(m.src,m.listener,P)}const C=qt;return m}function Qt(m,C,P,L,J){if(Array.isArray(C))for(var Z=0;Z<C.length;Z++)Qt(m,C[Z],P,L,J);else L=u(L)?!!L.capture:!!L,P=me(P),m&&m[$e]?(m=m.i,C=String(C).toString(),C in m.g&&(Z=m.g[C],P=W(Z,P,L,J),-1<P&&(_e(Z[P]),Array.prototype.splice.call(Z,P,1),Z.length==0&&(delete m.g[C],m.h--)))):m&&(m=qn(m))&&(C=m.g[C.toString()],m=-1,C&&(m=W(C,P,L,J)),(P=-1<m?C[m]:null)&&Rt(P))}function Rt(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[$e])Y(C.i,m);else{var P=m.type,L=m.proxy;C.removeEventListener?C.removeEventListener(P,L,m.capture):C.detachEvent?C.detachEvent(ot(P),L):C.addListener&&C.removeListener&&C.removeListener(L),(P=qn(C))?(Y(P,m),P.h==0&&(P.src=null,C[ce]=null)):_e(m)}}}function ot(m){return m in Me?Me[m]:Me[m]="on"+m}function qt(m,C){if(m.da)m=!0;else{C=new we(C,this);var P=m.listener,L=m.ha||m.src;m.fa&&Rt(m),m=P.call(L,C)}return m}function qn(m){return m=m[ce],m instanceof X?m:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(m){return typeof m=="function"?m:(m[ee]||(m[ee]=function(C){return m.handleEvent(C)}),m[ee])}function Oe(){K.call(this),this.i=new X(this),this.M=this,this.F=null}v(Oe,K),Oe.prototype[$e]=!0,Oe.prototype.removeEventListener=function(m,C,P,L){Qt(this,m,C,P,L)};function Le(m,C){var P,L=m.F;if(L)for(P=[];L;L=L.F)P.push(L);if(m=m.M,L=C.type||C,typeof C=="string")C=new Q(C,m);else if(C instanceof Q)C.target=C.target||m;else{var J=C;C=new Q(L,m),M(C,J)}if(J=!0,P)for(var Z=P.length-1;0<=Z;Z--){var ue=C.g=P[Z];J=zn(ue,L,!0,C)&&J}if(ue=C.g=m,J=zn(ue,L,!0,C)&&J,J=zn(ue,L,!1,C)&&J,P)for(Z=0;Z<P.length;Z++)ue=C.g=P[Z],J=zn(ue,L,!1,C)&&J}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var P=m.g[C],L=0;L<P.length;L++)_e(P[L]);delete m.g[C],m.h--}}this.F=null},Oe.prototype.K=function(m,C,P,L){return this.i.add(String(m),C,!1,P,L)},Oe.prototype.L=function(m,C,P,L){return this.i.add(String(m),C,!0,P,L)};function zn(m,C,P,L){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var J=!0,Z=0;Z<C.length;++Z){var ue=C[Z];if(ue&&!ue.da&&ue.capture==P){var lt=ue.listener,ln=ue.ha||ue.src;ue.fa&&Y(m.i,ue),J=lt.call(ln,L)!==!1&&J}}return J&&!L.defaultPrevented}function xr(m,C,P){if(typeof m=="function")P&&(m=h(m,P));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:l.setTimeout(m,C||0)}function $r(m){m.g=xr(()=>{m.g=null,m.i&&(m.i=!1,$r(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class zc extends K{constructor(C,P){super(),this.m=C,this.l=P,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(m){K.call(this),this.h=m,this.g={}}v(oe,K);var ve=[];function Ve(m){N(m.g,function(C,P){this.g.hasOwnProperty(P)&&Rt(C)},m),m.g={}}oe.prototype.N=function(){oe.aa.N.call(this),Ve(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Co=l.JSON.stringify,jo=l.JSON.parse,U$=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ax(){}ax.prototype.h=null;function gS(m){return m.h||(m.h=m.i())}function xS(){}var Gc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ox(){Q.call(this,"d")}v(ox,Q);function lx(){Q.call(this,"c")}v(lx,Q);var wa={},yS=null;function Uf(){return yS=yS||new Oe}wa.La="serverreachability";function vS(m){Q.call(this,wa.La,m)}v(vS,Q);function Hc(m){const C=Uf();Le(C,new vS(C))}wa.STAT_EVENT="statevent";function bS(m,C){Q.call(this,wa.STAT_EVENT,m),this.stat=C}v(bS,Q);function Rn(m){const C=Uf();Le(C,new bS(C,m))}wa.Ma="timingevent";function wS(m,C){Q.call(this,wa.Ma,m),this.size=C}v(wS,Q);function Wc(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},C)}function Kc(){this.g=!0}Kc.prototype.xa=function(){this.g=!1};function B$(m,C,P,L,J,Z){m.info(function(){if(m.g)if(Z)for(var ue="",lt=Z.split("&"),ln=0;ln<lt.length;ln++){var Je=lt[ln].split("=");if(1<Je.length){var bn=Je[0];Je=Je[1];var wn=bn.split("_");ue=2<=wn.length&&wn[1]=="type"?ue+(bn+"="+Je+"&"):ue+(bn+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+L+") [attempt "+J+"]: "+C+`
`+P+`
`+ue})}function q$(m,C,P,L,J,Z,ue){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+J+"]: "+C+`
`+P+`
`+Z+" "+ue})}function Io(m,C,P,L){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+G$(m,P)+(L?" "+L:"")})}function z$(m,C){m.info(function(){return"TIMEOUT: "+C})}Kc.prototype.info=function(){};function G$(m,C){if(!m.g)return C;if(!C)return null;try{var P=JSON.parse(C);if(P){for(m=0;m<P.length;m++)if(Array.isArray(P[m])){var L=P[m];if(!(2>L.length)){var J=L[1];if(Array.isArray(J)&&!(1>J.length)){var Z=J[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<J.length;ue++)J[ue]=""}}}}return Co(P)}catch{return C}}var Bf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_S={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cx;function qf(){}v(qf,ax),qf.prototype.g=function(){return new XMLHttpRequest},qf.prototype.i=function(){return{}},cx=new qf;function vi(m,C,P,L){this.j=m,this.i=C,this.l=P,this.R=L||1,this.U=new oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new NS}function NS(){this.i=null,this.g="",this.h=!1}var SS={},ux={};function dx(m,C,P){m.L=1,m.v=Wf(js(C)),m.m=P,m.P=!0,ES(m,null)}function ES(m,C){m.F=Date.now(),zf(m),m.A=js(m.v);var P=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),VS(P.i,"t",L),m.C=0,P=m.j.J,m.h=new NS,m.g=rE(m.j,P?C:null,!m.m),0<m.O&&(m.M=new zc(h(m.Y,m,m.g),m.O)),C=m.U,P=m.g,L=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(ve[0]=J.toString()),J=ve);for(var Z=0;Z<J.length;Z++){var ue=pe(P,J[Z],L||C.handleEvent,!1,C.h||C);if(!ue)break;C.g[ue.key]=ue}C=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),Hc(),B$(m.i,m.u,m.A,m.l,m.R,m.m)}vi.prototype.ca=function(m){m=m.target;const C=this.M;C&&Is(m)==3?C.j():this.Y(m)},vi.prototype.Y=function(m){try{if(m==this.g)e:{const wn=Is(this.g);var C=this.g.Ba();const Mo=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||HS(this.g)))){this.J||wn!=4||C==7||(C==8||0>=Mo?Hc(3):Hc(2)),fx(this);var P=this.g.Z();this.X=P;t:if(TS(this)){var L=HS(this.g);m="";var J=L.length,Z=Is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_a(this),Jc(this);var ue="";break t}this.h.i=new l.TextDecoder}for(C=0;C<J;C++)this.h.h=!0,m+=this.h.i.decode(L[C],{stream:!(Z&&C==J-1)});L.length=0,this.h.g+=m,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=P==200,q$(this.i,this.u,this.A,this.l,this.R,wn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,ln=this.g;if((lt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(lt)){var Je=lt;break t}}Je=null}if(P=Je)Io(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hx(this,P);else{this.o=!1,this.s=3,Rn(12),_a(this),Jc(this);break e}}if(this.P){P=!0;let Vr;for(;!this.J&&this.C<ue.length;)if(Vr=H$(this,ue),Vr==ux){wn==4&&(this.s=4,Rn(14),P=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==SS){this.s=4,Rn(15),Io(this.i,this.l,ue,"[Invalid Chunk]"),P=!1;break}else Io(this.i,this.l,Vr,null),hx(this,Vr);if(TS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||ue.length!=0||this.h.h||(this.s=1,Rn(16),P=!1),this.o=this.o&&P,!P)Io(this.i,this.l,ue,"[Invalid Chunked Response]"),_a(this),Jc(this);else if(0<ue.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),vx(bn),bn.M=!0,Rn(11))}}else Io(this.i,this.l,ue,null),hx(this,ue);wn==4&&_a(this),this.o&&!this.J&&(wn==4?ZS(this.j,this):(this.o=!1,zf(this)))}else c3(this.g),P==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),_a(this),Jc(this)}}}catch{}finally{}};function TS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function H$(m,C){var P=m.C,L=C.indexOf(`
`,P);return L==-1?ux:(P=Number(C.substring(P,L)),isNaN(P)?SS:(L+=1,L+P>C.length?ux:(C=C.slice(L,L+P),m.C=L+P,C)))}vi.prototype.cancel=function(){this.J=!0,_a(this)};function zf(m){m.S=Date.now()+m.I,AS(m,m.I)}function AS(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Wc(h(m.ba,m),C)}function fx(m){m.B&&(l.clearTimeout(m.B),m.B=null)}vi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(z$(this.i,this.A),this.L!=2&&(Hc(),Rn(17)),_a(this),this.s=2,Jc(this)):AS(this,this.S-m)};function Jc(m){m.j.G==0||m.J||ZS(m.j,m)}function _a(m){fx(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,Ve(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function hx(m,C){try{var P=m.j;if(P.G!=0&&(P.g==m||px(P.h,m))){if(!m.K&&px(P.h,m)&&P.G==3){try{var L=P.Da.g.parse(C)}catch{L=null}if(Array.isArray(L)&&L.length==3){var J=L;if(J[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<m.F)Zf(P),Xf(P);else break e;yx(P),Rn(18)}}else P.za=J[1],0<P.za-P.T&&37500>J[2]&&P.F&&P.v==0&&!P.C&&(P.C=Wc(h(P.Za,P),6e3));if(1>=jS(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Sa(P,11)}else if((m.K||P.g==m)&&Zf(P),!_(C))for(J=P.Da.g.parse(C),C=0;C<J.length;C++){let Je=J[C];if(P.T=Je[0],Je=Je[1],P.G==2)if(Je[0]=="c"){P.K=Je[1],P.ia=Je[2];const bn=Je[3];bn!=null&&(P.la=bn,P.j.info("VER="+P.la));const wn=Je[4];wn!=null&&(P.Aa=wn,P.j.info("SVER="+P.Aa));const Mo=Je[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(L=1.5*Mo,P.L=L,P.j.info("backChannelRequestTimeoutMs_="+L)),L=P;const Vr=m.g;if(Vr){const th=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(th){var Z=L.h;Z.g||th.indexOf("spdy")==-1&&th.indexOf("quic")==-1&&th.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(mx(Z,Z.h),Z.h=null))}if(L.D){const bx=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;bx&&(L.ya=bx,yt(L.I,L.D,bx))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-m.F,P.j.info("Handshake RTT: "+P.R+"ms")),L=P;var ue=m;if(L.qa=nE(L,L.J?L.ia:null,L.W),ue.K){IS(L.h,ue);var lt=ue,ln=L.L;ln&&(lt.I=ln),lt.B&&(fx(lt),zf(lt)),L.g=ue}else XS(L);0<P.i.length&&Qf(P)}else Je[0]!="stop"&&Je[0]!="close"||Sa(P,7);else P.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Sa(P,7):xx(P):Je[0]!="noop"&&P.l&&P.l.ta(Je),P.v=0)}}Hc(4)}catch{}}var W$=class{constructor(m,C){this.g=m,this.map=C}};function kS(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function jS(m){return m.h?1:m.g?m.g.size:0}function px(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function mx(m,C){m.g?m.g.add(C):m.h=C}function IS(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}kS.prototype.cancel=function(){if(this.i=PS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function PS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const P of m.g.values())C=C.concat(P.D);return C}return b(m.i)}function K$(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var C=[],P=m.length,L=0;L<P;L++)C.push(m[L]);return C}C=[],P=0;for(L in m)C[P++]=m[L];return C}function J$(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var C=[];m=m.length;for(var P=0;P<m;P++)C.push(P);return C}C=[],P=0;for(const L in m)C[P++]=L;return C}}}function RS(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var P=J$(m),L=K$(m),J=L.length,Z=0;Z<J;Z++)C.call(void 0,L[Z],P&&P[Z],m)}var MS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y$(m,C){if(m){m=m.split("&");for(var P=0;P<m.length;P++){var L=m[P].indexOf("="),J=null;if(0<=L){var Z=m[P].substring(0,L);J=m[P].substring(L+1)}else Z=m[P];C(Z,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Na(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Na){this.h=m.h,Gf(this,m.j),this.o=m.o,this.g=m.g,Hf(this,m.s),this.l=m.l;var C=m.i,P=new Qc;P.i=C.i,C.g&&(P.g=new Map(C.g),P.h=C.h),OS(this,P),this.m=m.m}else m&&(C=String(m).match(MS))?(this.h=!1,Gf(this,C[1]||"",!0),this.o=Yc(C[2]||""),this.g=Yc(C[3]||"",!0),Hf(this,C[4]),this.l=Yc(C[5]||"",!0),OS(this,C[6]||"",!0),this.m=Yc(C[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}Na.prototype.toString=function(){var m=[],C=this.j;C&&m.push(Xc(C,DS,!0),":");var P=this.g;return(P||C=="file")&&(m.push("//"),(C=this.o)&&m.push(Xc(C,DS,!0),"@"),m.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&m.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(Xc(P,P.charAt(0)=="/"?Z$:Q$,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",Xc(P,t3)),m.join("")};function js(m){return new Na(m)}function Gf(m,C,P){m.j=P?Yc(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function Hf(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function OS(m,C,P){C instanceof Qc?(m.i=C,n3(m.i,m.h)):(P||(C=Xc(C,e3)),m.i=new Qc(C,m.h))}function yt(m,C,P){m.i.set(C,P)}function Wf(m){return yt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Yc(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Xc(m,C,P){return typeof m=="string"?(m=encodeURI(m).replace(C,X$),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function X$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var DS=/[#\/\?@]/g,Q$=/[#\?:]/g,Z$=/[#\?]/g,e3=/[#\?@]/g,t3=/#/g;function Qc(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function bi(m){m.g||(m.g=new Map,m.h=0,m.i&&Y$(m.i,function(C,P){m.add(decodeURIComponent(C.replace(/\+/g," ")),P)}))}t=Qc.prototype,t.add=function(m,C){bi(this),this.i=null,m=Po(this,m);var P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(C),this.h+=1,this};function LS(m,C){bi(m),C=Po(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function $S(m,C){return bi(m),C=Po(m,C),m.g.has(C)}t.forEach=function(m,C){bi(this),this.g.forEach(function(P,L){P.forEach(function(J){m.call(C,J,L,this)},this)},this)},t.na=function(){bi(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),P=[];for(let L=0;L<C.length;L++){const J=m[L];for(let Z=0;Z<J.length;Z++)P.push(C[L])}return P},t.V=function(m){bi(this);let C=[];if(typeof m=="string")$S(this,m)&&(C=C.concat(this.g.get(Po(this,m))));else{m=Array.from(this.g.values());for(let P=0;P<m.length;P++)C=C.concat(m[P])}return C},t.set=function(m,C){return bi(this),this.i=null,m=Po(this,m),$S(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},t.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function VS(m,C,P){LS(m,C),0<P.length&&(m.i=null,m.g.set(Po(m,C),b(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var P=0;P<C.length;P++){var L=C[P];const Z=encodeURIComponent(String(L)),ue=this.V(L);for(L=0;L<ue.length;L++){var J=Z;ue[L]!==""&&(J+="="+encodeURIComponent(String(ue[L]))),m.push(J)}}return this.i=m.join("&")};function Po(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function n3(m,C){C&&!m.j&&(bi(m),m.i=null,m.g.forEach(function(P,L){var J=L.toLowerCase();L!=J&&(LS(this,L),VS(this,J,P))},m)),m.j=C}function r3(m,C){const P=new Kc;if(l.Image){const L=new Image;L.onload=x(wi,P,"TestLoadImage: loaded",!0,C,L),L.onerror=x(wi,P,"TestLoadImage: error",!1,C,L),L.onabort=x(wi,P,"TestLoadImage: abort",!1,C,L),L.ontimeout=x(wi,P,"TestLoadImage: timeout",!1,C,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else C(!1)}function s3(m,C){const P=new Kc,L=new AbortController,J=setTimeout(()=>{L.abort(),wi(P,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:L.signal}).then(Z=>{clearTimeout(J),Z.ok?wi(P,"TestPingServer: ok",!0,C):wi(P,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(J),wi(P,"TestPingServer: error",!1,C)})}function wi(m,C,P,L,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),L(P)}catch{}}function i3(){this.g=new U$}function a3(m,C,P){const L=P||"";try{RS(m,function(J,Z){let ue=J;u(J)&&(ue=Co(J)),C.push(L+Z+"="+encodeURIComponent(ue))})}catch(J){throw C.push(L+"type="+encodeURIComponent("_badmap")),J}}function Kf(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Kf,ax),Kf.prototype.g=function(){return new Jf(this.l,this.j)},Kf.prototype.i=function(m){return function(){return m}}({});function Jf(m,C){Oe.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Jf,Oe),t=Jf.prototype,t.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,eu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||l).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zc(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,eu(this)),this.g&&(this.readyState=3,eu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;FS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function FS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?Zc(this):eu(this),this.readyState==3&&FS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Zc(this))},t.Qa=function(m){this.g&&(this.response=m,Zc(this))},t.ga=function(){this.g&&Zc(this)};function Zc(m){m.readyState=4,m.l=null,m.j=null,m.v=null,eu(m)}t.setRequestHeader=function(m,C){this.u.append(m,C)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var P=C.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=C.next();return m.join(`\r
`)};function eu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Jf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function US(m){let C="";return N(m,function(P,L){C+=L,C+=":",C+=P,C+=`\r
`}),C}function gx(m,C,P){e:{for(L in P){var L=!1;break e}L=!0}L||(P=US(P),typeof m=="string"?P!=null&&encodeURIComponent(String(P)):yt(m,C,P))}function Ct(m){Oe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ct,Oe);var o3=/^https?$/i,l3=["POST","PUT"];t=Ct.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,C,P,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cx.g(),this.v=this.o?gS(this.o):gS(cx),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(Z){BS(this,Z);return}if(m=P||"",P=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var J in L)P.set(J,L[J]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Z of L.keys())P.set(Z,L.get(Z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(P.keys()).find(Z=>Z.toLowerCase()=="content-type"),J=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(l3,C,void 0))||L||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of P)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GS(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){BS(this,Z)}};function BS(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,qS(m),Yf(m)}function qS(m){m.A||(m.A=!0,Le(m,"complete"),Le(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Le(this,"complete"),Le(this,"abort"),Yf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yf(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zS(this):this.bb())},t.bb=function(){zS(this)};function zS(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Is(m)!=4||m.Z()!=2)){if(m.u&&Is(m)==4)xr(m.Ea,0,m);else if(Le(m,"readystatechange"),Is(m)==4){m.h=!1;try{const ue=m.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var P;if(!(P=C)){var L;if(L=ue===0){var J=String(m.D).match(MS)[1]||null;!J&&l.self&&l.self.location&&(J=l.self.location.protocol.slice(0,-1)),L=!o3.test(J?J.toLowerCase():"")}P=L}if(P)Le(m,"complete"),Le(m,"success");else{m.m=6;try{var Z=2<Is(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",qS(m)}}finally{Yf(m)}}}}function Yf(m,C){if(m.g){GS(m);const P=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||Le(m,"ready");try{P.onreadystatechange=L}catch{}}}function GS(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Is(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),jo(C)}};function HS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function c3(m){const C={};m=(m.g&&2<=Is(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(_(m[L]))continue;var P=I(m[L]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Z=C[J]||[];C[J]=Z,Z.push(P)}E(C,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tu(m,C,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||C}function WS(m){this.Aa=0,this.i=[],this.j=new Kc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tu("baseRetryDelayMs",5e3,m),this.cb=tu("retryDelaySeedMs",1e4,m),this.Wa=tu("forwardChannelMaxRetries",2,m),this.wa=tu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new kS(m&&m.concurrentRequestLimit),this.Da=new i3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=WS.prototype,t.la=8,t.G=1,t.connect=function(m,C,P,L){Rn(0),this.W=m,this.H=C||{},P&&L!==void 0&&(this.H.OSID=P,this.H.OAID=L),this.F=this.X,this.I=nE(this,null,this.W),Qf(this)};function xx(m){if(KS(m),m.G==3){var C=m.U++,P=js(m.I);if(yt(P,"SID",m.K),yt(P,"RID",C),yt(P,"TYPE","terminate"),nu(m,P),C=new vi(m,m.j,C),C.L=2,C.v=Wf(js(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(C.v.toString(),"")}catch{}!P&&l.Image&&(new Image().src=C.v,P=!0),P||(C.g=rE(C.j,null),C.g.ea(C.v)),C.F=Date.now(),zf(C)}tE(m)}function Xf(m){m.g&&(vx(m),m.g.cancel(),m.g=null)}function KS(m){Xf(m),m.u&&(l.clearTimeout(m.u),m.u=null),Zf(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Qf(m){if(!CS(m.h)&&!m.s){m.s=!0;var C=m.Ga;z||F(),V||(z(),V=!0),U.add(C,m),m.B=0}}function u3(m,C){return jS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Wc(h(m.Ga,m,C),eE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new vi(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=T(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(J.H=Z,Z=null),this.P)e:{for(var C=0,P=0;P<this.i.length;P++){t:{var L=this.i[P];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(C+=L,4096<C){C=P;break e}if(C===4096||P===this.i.length-1){C=P+1;break e}}C=1e3}else C=1e3;C=YS(this,J,C),P=js(this.I),yt(P,"RID",m),yt(P,"CVER",22),this.D&&yt(P,"X-HTTP-Session-Id",this.D),nu(this,P),Z&&(this.O?C="headers="+encodeURIComponent(String(US(Z)))+"&"+C:this.m&&gx(P,this.m,Z)),mx(this.h,J),this.Ua&&yt(P,"TYPE","init"),this.P?(yt(P,"$req",C),yt(P,"SID","null"),J.T=!0,dx(J,P,null)):dx(J,P,C),this.G=2}}else this.G==3&&(m?JS(this,m):this.i.length==0||CS(this.h)||JS(this))};function JS(m,C){var P;C?P=C.l:P=m.U++;const L=js(m.I);yt(L,"SID",m.K),yt(L,"RID",P),yt(L,"AID",m.T),nu(m,L),m.m&&m.o&&gx(L,m.m,m.o),P=new vi(m,m.j,P,m.B+1),m.m===null&&(P.H=m.o),C&&(m.i=C.D.concat(m.i)),C=YS(m,P,1e3),P.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),mx(m.h,P),dx(P,L,C)}function nu(m,C){m.H&&N(m.H,function(P,L){yt(C,L,P)}),m.l&&RS({},function(P,L){yt(C,L,P)})}function YS(m,C,P){P=Math.min(m.i.length,P);var L=m.l?h(m.l.Na,m.l,m):null;e:{var J=m.i;let Z=-1;for(;;){const ue=["count="+P];Z==-1?0<P?(Z=J[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let lt=!0;for(let ln=0;ln<P;ln++){let Je=J[ln].g;const bn=J[ln].map;if(Je-=Z,0>Je)Z=Math.max(0,J[ln].g-100),lt=!1;else try{a3(bn,ue,"req"+Je+"_")}catch{L&&L(bn)}}if(lt){L=ue.join("&");break e}}}return m=m.i.splice(0,P),C.D=m,L}function XS(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;z||F(),V||(z(),V=!0),U.add(C,m),m.v=0}}function yx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Wc(h(m.Fa,m),eE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,QS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Wc(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),Xf(this),QS(this))};function vx(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function QS(m){m.g=new vi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=js(m.qa);yt(C,"RID","rpc"),yt(C,"SID",m.K),yt(C,"AID",m.T),yt(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&yt(C,"TO",m.ja),yt(C,"TYPE","xmlhttp"),nu(m,C),m.m&&m.o&&gx(C,m.m,m.o),m.L&&(m.g.I=m.L);var P=m.g;m=m.ia,P.L=1,P.v=Wf(js(C)),P.m=null,P.P=!0,ES(P,m)}t.Za=function(){this.C!=null&&(this.C=null,Xf(this),yx(this),Rn(19))};function Zf(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function ZS(m,C){var P=null;if(m.g==C){Zf(m),vx(m),m.g=null;var L=2}else if(px(m.h,C))P=C.D,IS(m.h,C),L=1;else return;if(m.G!=0){if(C.o)if(L==1){P=C.m?C.m.length:0,C=Date.now()-C.F;var J=m.B;L=Uf(),Le(L,new wS(L,P)),Qf(m)}else XS(m);else if(J=C.s,J==3||J==0&&0<C.X||!(L==1&&u3(m,C)||L==2&&yx(m)))switch(P&&0<P.length&&(C=m.h,C.i=C.i.concat(P)),J){case 1:Sa(m,5);break;case 4:Sa(m,10);break;case 3:Sa(m,6);break;default:Sa(m,2)}}}function eE(m,C){let P=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(P*=2),P*C}function Sa(m,C){if(m.j.info("Error code "+C),C==2){var P=h(m.fb,m),L=m.Xa;const J=!L;L=new Na(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gf(L,"https"),Wf(L),J?r3(L.toString(),P):s3(L.toString(),P)}else Rn(2);m.G=0,m.l&&m.l.sa(C),tE(m),KS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function tE(m){if(m.G=0,m.ka=[],m.l){const C=PS(m.h);(C.length!=0||m.i.length!=0)&&(y(m.ka,C),y(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function nE(m,C,P){var L=P instanceof Na?js(P):new Na(P);if(L.g!="")C&&(L.g=C+"."+L.g),Hf(L,L.s);else{var J=l.location;L=J.protocol,C=C?C+"."+J.hostname:J.hostname,J=+J.port;var Z=new Na(null);L&&Gf(Z,L),C&&(Z.g=C),J&&Hf(Z,J),P&&(Z.l=P),L=Z}return P=m.D,C=m.ya,P&&C&&yt(L,P,C),yt(L,"VER",m.la),nu(m,L),L}function rE(m,C,P){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new Ct(new Kf({eb:P})):new Ct(m.pa),C.Ha(m.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sE(){}t=sE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eh(){}eh.prototype.g=function(m,C){return new rr(m,C)};function rr(m,C){Oe.call(this),this.g=new WS(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!_(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!_(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new Ro(this)}v(rr,Oe),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){xx(this.g)},rr.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.u&&(P={},P.__data__=Co(m),m=P);C.i.push(new W$(C.Ya++,m)),C.G==3&&Qf(C)},rr.prototype.N=function(){this.g.l=null,delete this.j,xx(this.g),delete this.g,rr.aa.N.call(this)};function iE(m){ox.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const P in C){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}v(iE,ox);function aE(){lx.call(this),this.status=1}v(aE,lx);function Ro(m){this.g=m}v(Ro,sE),Ro.prototype.ua=function(){Le(this.g,"a")},Ro.prototype.ta=function(m){Le(this.g,new iE(m))},Ro.prototype.sa=function(m){Le(this.g,new aE)},Ro.prototype.ra=function(){Le(this.g,"b")},eh.prototype.createWebChannel=eh.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,YM=function(){return new eh},JM=function(){return Uf()},KM=wa,$v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bf.NO_ERROR=0,Bf.TIMEOUT=8,Bf.HTTP_ERROR=6,ip=Bf,_S.COMPLETE="complete",WM=_S,xS.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,Cu=xS,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,HM=Ct}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const AT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new H1("@firebase/firestore");function du(){return io.logLevel}function ye(t,...e){if(io.logLevel<=ze.DEBUG){const n=e.map(J1);io.debug(`Firestore (${Nc}): ${t}`,...n)}}function ei(t,...e){if(io.logLevel<=ze.ERROR){const n=e.map(J1);io.error(`Firestore (${Nc}): ${t}`,...n)}}function Ll(t,...e){if(io.logLevel<=ze.WARN){const n=e.map(J1);io.warn(`Firestore (${Nc}): ${t}`,...n)}}function J1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function rt(t,e){t||Ce()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class v8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b8{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new XM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new Tn(e)}}class w8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new w8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rt(this.o===void 0);const r=i=>{i.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new N8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=E8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Yt(0,0))}static max(){return new Ie(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends Nd{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const T8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Nd{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return T8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(pt.fromString(e))}static fromName(e){return new Ne(pt.fromString(e).popFirst(5))}static empty(){return new Ne(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new pt(e.slice()))}}function A8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new aa(s,Ne.empty(),e)}function k8(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(Ie.min(),Ne.empty(),-1)}static max(){return new aa(Ie.max(),Ne.empty(),-1)}}function C8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==j8)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(s=>s?se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new se((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new se((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function P8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ef(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Y1.oe=-1;function $g(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function R8(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=i??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CT(this.data.getIterator())}getIteratorFrom(e){return new CT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class CT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new mn(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eO("Invalid base64 string: "+i):i}}(e);return new yn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const M8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(rt(!!t),typeof t=="string"){let e=0;const n=M8.exec(t);if(rt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function X1(t){const e=t.mapValue.fields.__previous_value__;return Vg(e)?X1(e):e}function Sd(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Ed{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h={mapValue:{}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vg(t)?4:L8(t)?9007199254740991:D8(t)?10:11:Ce()}function Ns(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=oa(s.timestampValue),l=oa(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ao(s.bytesValue).isEqual(ao(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ot(s.geoPointValue.latitude)===Ot(i.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ot(s.integerValue)===Ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ot(s.doubleValue),l=Ot(i.doubleValue);return o===l?Hp(o)===Hp(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(kT(o)!==kT(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ns(o[c],l[c])))return!1;return!0}(t,e);default:return Ce()}}function Td(t,e){return(t.values||[]).find(n=>Ns(n,e))!==void 0}function Vl(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ot(i.integerValue||i.doubleValue),c=Ot(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(Sd(t),Sd(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ao(i),c=ao(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ye(l[u],c[u]);if(d!==0)return d}return Ye(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ye(Ot(i.latitude),Ot(o.latitude));return l!==0?l:Ye(Ot(i.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const f=i.fields||{},h=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=(c=h.value)===null||c===void 0?void 0:c.arrayValue,b=Ye(((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:IT(x,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_h.mapValue&&o===_h.mapValue)return 0;if(i===_h.mapValue)return 1;if(o===_h.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Ye(c[f],d[f]);if(h!==0)return h;const x=Vl(l[c[f]],u[d[f]]);if(x!==0)return x}return Ye(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=oa(t),r=oa(e),s=Ye(n.seconds,r.seconds);return s!==0?s:Ye(n.nanos,r.nanos)}function IT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Vl(n[s],r[s]);if(i)return i}return Ye(n.length,r.length)}function Fl(t){return Vv(t)}function Vv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Vv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Vv(n.fields[o])}`;return s+"}"}(t.mapValue):Ce()}function Wp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fv(t){return!!t&&"integerValue"in t}function Q1(t){return!!t&&"arrayValue"in t}function PT(t){return!!t&&"nullValue"in t}function RT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ap(t){return!!t&&"mapValue"in t}function D8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function L8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=hn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Gu(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ap(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kn(Gu(this.value))}}function tO(t){const e=[];return bo(t.fields,(n,r)=>{const s=new hn([n]);if(ap(r)){const i=tO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new kn(e,0,Ie.min(),Ie.min(),Ie.min(),Kn.empty(),0)}static newFoundDocument(e,n,r,s){return new kn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new kn(e,2,n,Ie.min(),Ie.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Ie.min(),Ie.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.position=e,this.inclusive=n}}function MT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ne.comparator(Ne.fromName(o.referenceValue),n.key):r=Vl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function $8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nO=class{};class Ut extends nO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F8(e,n,r):n==="array-contains"?new q8(e,r):n==="in"?new z8(e,r):n==="not-in"?new G8(e,r):n==="array-contains-any"?new H8(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U8(e,r):new B8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vl(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(Vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends nO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ns(e,n)}matches(e){return rO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rO(t){return t.op==="and"}function sO(t){return V8(t)&&rO(t)}function V8(t){for(const e of t.filters)if(e instanceof ns)return!1;return!0}function Uv(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(sO(t))return t.filters.map(e=>Uv(e)).join(",");{const e=t.filters.map(n=>Uv(n)).join(",");return`${t.op}(${e})`}}function iO(t,e){return t instanceof Ut?function(r,s){return s instanceof Ut&&r.op===s.op&&r.field.isEqual(s.field)&&Ns(r.value,s.value)}(t,e):t instanceof ns?function(r,s){return s instanceof ns&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&iO(o,s.filters[l]),!0):!1}(t,e):void Ce()}function aO(t){return t instanceof Ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`}(t):t instanceof ns?function(n){return n.op.toString()+" {"+n.getFilters().map(aO).join(" ,")+"}"}(t):"Filter"}class F8 extends Ut{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class U8 extends Ut{constructor(e,n){super(e,"in",n),this.keys=oO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B8 extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=oO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class q8 extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q1(n)&&Td(n.arrayValue,this.value)}}class z8 extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class G8 extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Td(this.value.arrayValue,n)}}class H8 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function DT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new W8(t,e,n,r,s,i,o)}function Z1(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),e.ue=n}return e.ue}function e_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function Bv(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function K8(t,e,n,r,s,i,o,l){return new wo(t,e,n,r,s,i,o,l)}function t_(t){return new wo(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n_(t){return t.collectionGroup!==null}function xl(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mn(hn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ad(i,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new Ad(hn.keyField(),r))}return e.ce}function gs(t){const e=Pe(t);return e.le||(e.le=J8(e,xl(t))),e.le}function J8(t,e){if(t.limitType==="F")return DT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ad(s.field,i)});const n=t.endAt?new Ul(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ul(t.startAt.position,t.startAt.inclusive):null;return DT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qv(t,e){const n=t.filters.concat([e]);return new wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fg(t,e){return e_(gs(t),gs(e))&&t.limitType===e.limitType}function lO(t){return`${Z1(gs(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>aO(s)).join(", ")}]`),$g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fl(s)).join(",")),`Target(${r})`}(gs(t))}; limitType=${t.limitType})`}function Ug(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=MT(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,xl(r),s)||r.endAt&&!function(o,l,c){const u=MT(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,xl(r),s))}(t,e)}function Y8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cO(t){return(e,n)=>{let r=!1;for(const s of xl(t)){const i=X8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function X8(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Vl(c,u):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ZM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=new kt(Ne.comparator);function ti(){return Q8}const uO=new kt(Ne.comparator);function ju(...t){let e=uO;for(const n of t)e=e.insert(n.key,n);return e}function dO(t){let e=uO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Va(){return Hu()}function fO(){return Hu()}function Hu(){return new Sc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z8=new kt(Ne.comparator),eB=new mn(Ne.comparator);function Be(...t){let e=eB;for(const n of t)e=e.add(n);return e}const tB=new mn(Ye);function nB(){return tB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function hO(t){return{integerValue:""+t}}function rB(t,e){return R8(e)?hO(e):r_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this._=void 0}}function sB(t,e,n){return t instanceof Jp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vg(i)&&(i=X1(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof kd?mO(t,e):t instanceof Cd?gO(t,e):function(s,i){const o=pO(s,i),l=$T(o)+$T(s.Pe);return Fv(o)&&Fv(s.Pe)?hO(l):r_(s.serializer,l)}(t,e)}function iB(t,e,n){return t instanceof kd?mO(t,e):t instanceof Cd?gO(t,e):n}function pO(t,e){return t instanceof Yp?function(r){return Fv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Jp extends Bg{}class kd extends Bg{constructor(e){super(),this.elements=e}}function mO(t,e){const n=xO(e);for(const r of t.elements)n.some(s=>Ns(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Bg{constructor(e){super(),this.elements=e}}function gO(t,e){let n=xO(e);for(const r of t.elements)n=n.filter(s=>!Ns(s,r));return{arrayValue:{values:n}}}class Yp extends Bg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $T(t){return Ot(t.integerValue||t.doubleValue)}function xO(t){return Q1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof kd&&s instanceof kd||r instanceof Cd&&s instanceof Cd?$l(r.elements,s.elements,Ns):r instanceof Yp&&s instanceof Yp?Ns(r.Pe,s.Pe):r instanceof Jp&&s instanceof Jp}(t.transform,e.transform)}class oB{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qg{}function yO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s_(t.key,Yr.none()):new Tf(t.key,t.data,Yr.none());{const n=t.data,r=Kn.empty();let s=new mn(hn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ma(t.key,r,new ur(s.toArray()),Yr.none())}}function lB(t,e,n){t instanceof Tf?function(s,i,o){const l=s.value.clone(),c=FT(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ma?function(s,i,o){if(!op(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=FT(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(vO(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof Tf?function(i,o,l,c){if(!op(i.precondition,o))return l;const u=i.value.clone(),d=UT(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ma?function(i,o,l,c){if(!op(i.precondition,o))return l;const u=UT(i.fieldTransforms,c,o),d=o.data;return d.setAll(vO(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return op(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function cB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=pO(r.transform,s||null);i!=null&&(n===null&&(n=Kn.empty()),n.set(r.field,i))}return n||null}function VT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$l(r,s,(i,o)=>aB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tf extends qg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ma extends qg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FT(t,e,n){const r=new Map;rt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,iB(o,l,n[s]))}return r}function UT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,sB(i,o,e))}return r}class s_ extends qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uB extends qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=yO(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>VT(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>VT(n,r))}}class i_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){rt(e.mutations.length===r.length);let s=function(){return Z8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new i_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Ge;function pB(t){switch(t){default:return Ce();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function bO(t){if(t===void 0)return ei("GRPC error has no .code"),re.UNKNOWN;switch(t){case $t.OK:return re.OK;case $t.CANCELLED:return re.CANCELLED;case $t.UNKNOWN:return re.UNKNOWN;case $t.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case $t.INTERNAL:return re.INTERNAL;case $t.UNAVAILABLE:return re.UNAVAILABLE;case $t.UNAUTHENTICATED:return re.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case $t.NOT_FOUND:return re.NOT_FOUND;case $t.ALREADY_EXISTS:return re.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return re.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case $t.ABORTED:return re.ABORTED;case $t.OUT_OF_RANGE:return re.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return re.UNIMPLEMENTED;case $t.DATA_LOSS:return re.DATA_LOSS;default:return Ce()}}(Ge=$t||($t={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Wa([4294967295,4294967295],0);function BT(t){const e=mB().encode(t),n=new GM;return n.update(e),new Uint8Array(n.digest())}function qT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([s,i],0)]}class a_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wa.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Wa.fromNumber(r)));return s.compare(gB)===1&&(s=new Wa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=BT(e),[r,s]=qT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new a_(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=BT(e),[r,s]=qT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zg(Ie.min(),s,new kt(Ye),ti(),Be())}}class Af{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Af(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class wO{constructor(e,n){this.targetId=e,this.me=n}}class _O{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zT{constructor(){this.fe=0,this.ge=HT(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),n=Be(),r=Be();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new Af(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=HT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xB{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=GT(),this.Qe=new kt(Ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Bv(i))if(r===0){const o=new Ne(i.path);this.Ue(n,o,kn.newNoDocument(o,Ie.min()))}else rt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ao(r).toUint8Array()}catch(c){if(c instanceof eO)return Ll("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new a_(o,s,i)}catch(c){return Ll(c instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&Bv(l.target)){const c=new Ne(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,kn.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Be();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new zg(e,n,this.Qe,this.ke,r);return this.ke=ti(),this.qe=GT(),this.Qe=new kt(Ye),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mn(Ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function GT(){return new kt(Ne.comparator)}function HT(){return new kt(Ne.comparator)}const yB={asc:"ASCENDING",desc:"DESCENDING"},vB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bB={and:"AND",or:"OR"};class wB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zv(t,e){return t.useProto3Json||$g(e)?e:{value:e}}function Xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _B(t,e){return Xp(t,e.toTimestamp())}function xs(t){return rt(!!t),Ie.fromTimestamp(function(n){const r=oa(n);return new Yt(r.seconds,r.nanos)}(t))}function o_(t,e){return Gv(t,e).canonicalString()}function Gv(t,e){const n=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SO(t){const e=pt.fromString(t);return rt(CO(e)),e}function Hv(t,e){return o_(t.databaseId,e.path)}function Qx(t,e){const n=SO(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(TO(n))}function EO(t,e){return o_(t.databaseId,e)}function NB(t){const e=SO(t);return e.length===4?pt.emptyPath():TO(e)}function Wv(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TO(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WT(t,e,n){return{name:Hv(t,e),fields:n.value.mapValue.fields}}function SB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(rt(d===void 0||typeof d=="string"),yn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?re.UNKNOWN:bO(u.code);return new fe(d,u.message||"")}(o);n=new _O(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qx(t,r.document.name),i=xs(r.document.updateTime),o=r.document.createTime?xs(r.document.createTime):Ie.min(),l=new Kn({mapValue:{fields:r.document.fields}}),c=kn.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new lp(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qx(t,r.document),i=r.readTime?xs(r.readTime):Ie.min(),o=kn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new lp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qx(t,r.document),i=r.removedTargetIds||[];n=new lp([],i,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hB(s,i),l=r.targetId;n=new wO(l,o)}}return n}function EB(t,e){let n;if(e instanceof Tf)n={update:WT(t,e.key,e.value)};else if(e instanceof s_)n={delete:Hv(t,e.key)};else if(e instanceof ma)n={update:WT(t,e.key,e.data),updateMask:MB(e.fieldMask)};else{if(!(e instanceof uB))return Ce();n={verify:Hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Jp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof kd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Yp)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_B(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce()}(t,e.precondition)),n}function TB(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?xs(s.updateTime):xs(i);return o.isEqual(Ie.min())&&(o=xs(i)),new oB(o,s.transformResults||[])}(n,e))):[]}function AB(t,e){return{documents:[EO(t,e.path)]}}function kB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EO(t,s);const i=function(u){if(u.length!==0)return kO(ns.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Uo(h.field),direction:IB(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=zv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function CB(t){let e=NB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){rt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const h=AO(f);return h instanceof ns&&sO(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new Ad(Bo(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,$g(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,x=f.values||[];return new Ul(x,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,x=f.values||[];return new Ul(x,h)}(n.endAt)),K8(e,s,o,i,l,"F",c,u)}function jB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bo(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bo(n.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bo(n.unaryFilter.field);return Ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bo(n.unaryFilter.field);return Ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Ut.create(Bo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ns.create(n.compositeFilter.filters.map(r=>AO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function IB(t){return yB[t]}function PB(t){return vB[t]}function RB(t){return bB[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return hn.fromServerFormat(t.fieldPath)}function kO(t){return t instanceof Ut?function(n){if(n.op==="=="){if(RT(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(PT(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RT(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(PT(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:PB(n.op),value:n.value}}}(t):t instanceof ns?function(n){const r=n.getFilters().map(s=>kO(s));return r.length===1?r[0]:{compositeFilter:{op:RB(n.op),filters:r}}}(t):Ce()}function MB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r,s,i=Ie.min(),o=Ie.min(),l=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.ct=e}}function DB(t){const e=CB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.un=new $B}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(aa.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class $B{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mn(pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mn(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bl(0)}static kn(){return new Bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.changes=new Sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wu(r.mutation,s,ur.empty(),Yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const s=Va();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ju();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ti();const o=Hu(),l=function(){return Hu()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ma)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Wu(d.mutation,u,d.mutation.getFieldMask(),Yt.now())):o.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new FB(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Hu();let s=new kt((o,l)=>o-l),i=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ur.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||Be()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=fO();d.forEach(h=>{if(!i.has(h)){const x=yO(n.get(h),r.get(h));x!==null&&f.set(h,x),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):se.resolve(Va());let l=-1,c=i;return o.next(u=>se.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Be())).next(d=>({batchId:l,changes:dO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let s=ju();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ju();return this.indexManager.getCollectionParents(e,i).next(l=>se.forEach(l,c=>{const u=function(f,h){return new wo(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,kn.newInvalidDocument(d)))});let l=ju();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Wu(d.mutation,u,ur.empty(),Yt.now()),Ug(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xs(s.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:DB(s.bundledQuery),readTime:xs(s.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.overlays=new kt(Ne.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Va();return se.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=Va(),i=n.length+1,o=new Ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new kt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Va(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Va(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return se.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fB(n,r));let i=this.Ir.get(n);i===void 0&&(i=Be(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Tr=new mn(Zt.Er),this.dr=new mn(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ne(new pt([])),r=new Zt(n,e),s=new Zt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ne(new pt([])),r=new Zt(n,e),s=new Zt(n,e+1);let i=Be();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Zt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ne.comparator(e.key,n.key)||Ye(e.wr,n.wr)}static Ar(e,n){return Ye(e.wr,n.wr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mn(Zt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dB(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new Zt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Ye);return n.forEach(s=>{const i=new Zt(s,0),o=new Zt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ne.isDocumentKey(i)||(i=i.child(""));const o=new Zt(new Ne(i),0);let l=new mn(Ye);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.wr)),!0)},o),se.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,s=>{const i=new Zt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zt(n,0),s=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.Mr=e,this.docs=function(){return new kt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():kn.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ti();const o=n.path,l=new Ne(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||C8(k8(d),r)<=0||(s.has(d.key)||Ug(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return se.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ce()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WB(this)}getSize(e){return se.resolve(this.size)}}class WB extends VB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.persistence=e,this.Nr=new Sc(n=>Z1(n),e_),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new l_,this.targetCount=0,this.kr=Bl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),se.waitFor(i).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),se.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Y1(0),this.Kr=!1,this.Kr=!0,this.$r=new zB,this.referenceDelegate=e(this),this.Ur=new KB(this),this.indexManager=new LB,this.remoteDocumentCache=function(s){return new HB(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new OB(n),this.Gr=new BB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new GB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new YB(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class YB extends I8{constructor(e){super(),this.currentSequenceNumber=e}}class c_{constructor(e){this.persistence=e,this.Jr=new l_,this.Yr=null}static Zr(e){return new c_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const s=Ne.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Be(),s=Be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new u_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ZF()?8:P8(Pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new XB;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(du()<=ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(du()<=ze.DEBUG&&ye("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(du()<=ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(n))):se.resolve())}Yi(e,n){if(LT(n))return se.resolve(null);let r=gs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kp(n,null,"F"),r=gs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Be(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Kp(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return LT(n)||s.isEqual(Ie.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?se.resolve(null):(du()<=ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fo(n)),this.rs(e,o,n,A8(s,-1)).next(l=>l))})}ts(e,n){let r=new mn(cO(e));return n.forEach((s,i)=>{Ug(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return du()<=ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new kt(Ye),this._s=new Sc(i=>Z1(i),e_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function e9(t,e,n,r){return new ZB(t,e,n,r)}async function jO(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Be();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function t9(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let x=se.resolve();return h.forEach(v=>{x=x.next(()=>d.getEntry(c,v)).next(b=>{const y=u.docVersions.get(v);rt(y!==null),b.version.compareTo(y)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Be();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function IO(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function n9(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let x=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),s=s.insert(f,x),function(b,y,w){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,x,d)&&l.push(n.Ur.updateTargetData(i,x))});let c=ti(),u=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(r9(i,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Ie.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return se.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=s,i))}function r9(t,e,n){let r=Be(),s=Be();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ti();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ye("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function s9(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i9(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,se.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Kv(t,e,n){const r=Pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ef(o))throw o;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function KT(t,e,n){const r=Pe(t);let s=Ie.min(),i=Be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Pe(c),h=f._s.get(d);return h!==void 0?se.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,gs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ie.min(),n?i:Be())).next(l=>(a9(r,Y8(e),l),{documents:l,Ts:i})))}function a9(t,e,n){let r=t.us.get(e)||Ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class JT{constructor(){this.activeTargetIds=nB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o9{constructor(){this.so=new JT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new JT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Zx(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class d9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=Zx(),c=this.xo(n,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,c,u,s).then(d=>(ye("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Ll("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=c9[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Zx();return new Promise((o,l)=>{const c=new HM;c.setWithCredentials(!0),c.listenOnce(WM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ip.NO_ERROR:const d=c.getResponseJson();ye(Sn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case ip.TIMEOUT:ye(Sn,`RPC '${e}' ${i} timed out`),l(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const f=c.getStatus();if(ye(Sn,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const v=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(w)>=0?w:re.UNKNOWN}(x.status);l(new fe(v,x.message))}else l(new fe(re.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ye(Sn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ye(Sn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Zx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YM(),l=JM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");ye(Sn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,x=!1;const v=new u9({Io:y=>{x?ye(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(h||(ye(Sn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),ye(Sn,`RPC '${e}' stream ${s} sending:`,y),f.send(y))},To:()=>f.close()}),b=(y,w,_)=>{y.listen(w,S=>{try{_(S)}catch(k){setTimeout(()=>{throw k},0)}})};return b(f,Cu.EventType.OPEN,()=>{x||(ye(Sn,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),b(f,Cu.EventType.CLOSE,()=>{x||(x=!0,ye(Sn,`RPC '${e}' stream ${s} transport closed`),v.So())}),b(f,Cu.EventType.ERROR,y=>{x||(x=!0,Ll(Sn,`RPC '${e}' stream ${s} transport errored:`,y),v.So(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),b(f,Cu.EventType.MESSAGE,y=>{var w;if(!x){const _=y.data[0];rt(!!_);const S=_,k=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(k){ye(Sn,`RPC '${e}' stream ${s} received error:`,k);const A=k.status;let N=function(j){const M=$t[j];if(M!==void 0)return bO(M)}(A),E=k.message;N===void 0&&(N=re.INTERNAL,E="Unknown error status: "+A+" with message "+k.message),x=!0,v.So(new fe(N,E)),f.close()}else ye(Sn,`RPC '${e}' stream ${s} received:`,_),v.bo(_)}}),b(l,KM.STAT_EVENT,y=>{y.stat===$v.PROXY?ye(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===$v.NOPROXY&&ye(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){return new wB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f9 extends RO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=SB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?xs(o.readTime):Ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wv(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Bv(c)?{documents:AB(i,c)}:{query:kB(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=NO(i,o.resumeToken);const u=zv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){l.readTime=Xp(i,o.snapshotVersion.toTimestamp());const u=zv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=jB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wv(this.serializer),n.removeTarget=e,this.a_(n)}}class h9 extends RO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=TB(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Gv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(re.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Gv(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class m9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ei(n),this.D_=!1):ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{_o(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Pe(c);u.L_.add(4),await kf(u),u.q_.set("Unknown"),u.L_.delete(4),await Hg(u)}(this))})}),this.q_=new m9(r,s)}}async function Hg(t){if(_o(t))for(const e of t.B_)await e(!0)}async function kf(t){for(const e of t.B_)await e(!1)}function MO(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),p_(n)?h_(n):Ec(n).r_()&&f_(n,e))}function d_(t,e){const n=Pe(t),r=Ec(n);n.N_.delete(e),r.r_()&&OO(n,e),n.N_.size===0&&(r.r_()?r.o_():_o(n)&&n.q_.set("Unknown"))}function f_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ec(t).A_(e)}function OO(t,e){t.Q_.xe(e),Ec(t).R_(e)}function h_(t){t.Q_=new xB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ec(t).start(),t.q_.v_()}function p_(t){return _o(t)&&!Ec(t).n_()&&t.N_.size>0}function _o(t){return Pe(t).L_.size===0}function DO(t){t.Q_=void 0}async function x9(t){t.q_.set("Online")}async function y9(t){t.N_.forEach((e,n)=>{f_(t,e)})}async function v9(t,e){DO(t),p_(t)?(t.q_.M_(e),h_(t)):t.q_.set("Unknown")}async function b9(t,e,n){if(t.q_.set("Online"),e instanceof _O&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qp(t,r)}else if(e instanceof lp?t.Q_.Ke(e):e instanceof wO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const r=await IO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.N_.get(c);if(!d)return;i.N_.set(c,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),OO(i,c);const f=new Vi(d.target,c,u,d.sequenceNumber);f_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),await Qp(t,r)}}async function Qp(t,e,n){if(!Ef(e))throw e;t.L_.add(1),await kf(t),t.q_.set("Offline"),n||(n=()=>IO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Hg(t)})}function LO(t,e){return e().catch(n=>Qp(t,n,e))}async function Wg(t){const e=Pe(t),n=la(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;w9(e);)try{const s=await s9(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,_9(e,s)}catch(s){await Qp(e,s)}$O(e)&&VO(e)}function w9(t){return _o(t)&&t.O_.length<10}function _9(t,e){t.O_.push(e);const n=la(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $O(t){return _o(t)&&!la(t).n_()&&t.O_.length>0}function VO(t){la(t).start()}async function N9(t){la(t).p_()}async function S9(t){const e=la(t);for(const n of t.O_)e.m_(n.mutations)}async function E9(t,e,n){const r=t.O_.shift(),s=i_.from(r,e,n);await LO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wg(t)}async function T9(t,e){e&&la(t).V_&&await async function(r,s){if(function(o){return pB(o)&&o!==re.ABORTED}(s.code)){const i=r.O_.shift();la(r).s_(),await LO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Wg(r)}}(t,e),$O(t)&&VO(t)}async function XT(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=_o(n);n.L_.add(3),await kf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Hg(n)}async function A9(t,e){const n=Pe(t);e?(n.L_.delete(2),await Hg(n)):e||(n.L_.add(2),await kf(n),n.q_.set("Unknown"))}function Ec(t){return t.K_||(t.K_=function(n,r,s){const i=Pe(n);return i.w_(),new f9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:x9.bind(null,t),Ro:y9.bind(null,t),mo:v9.bind(null,t),d_:b9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),p_(t)?h_(t):t.q_.set("Unknown")):(await t.K_.stop(),DO(t))})),t.K_}function la(t){return t.U_||(t.U_=function(n,r,s){const i=Pe(n);return i.w_(),new h9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:N9.bind(null,t),mo:T9.bind(null,t),f_:S9.bind(null,t),g_:E9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Wg(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new m_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(t,e){if(ei("AsyncQueue",`${e}: ${t}`),Ef(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=ju(),this.sortedSet=new kt(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.W_=new kt(Ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ql(e,n,yl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class C9{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=ZT(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function ZT(){return new Sc(t=>lO(t),Fg)}async function FO(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new k9,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=g_(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&x_(n)}async function UO(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j9(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&x_(n)}function I9(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function x_(t){t.Y_.forEach(e=>{e.next()})}var Jv,eA;(eA=Jv||(Jv={})).ea="default",eA.Cache="cache";class BO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class P9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=cO(e),this.Ra=new yl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new QT,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),x=Ug(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let y=!1;h&&x?h.data.isEqual(x.data)?v!==b&&(r.track({type:3,doc:x}),y=!0):this.ga(h,x)||(r.track({type:2,doc:x}),y=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(l=!0)):!h&&x?(r.track({type:0,doc:x}),y=!0):h&&!x&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(l=!0)),y&&(x?(o=o.add(x),i=b?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(x,v){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return b(x)-b(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new ql(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new QT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new zO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ql.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class R9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M9{constructor(e){this.key=e,this.va=!1}}class O9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Sc(l=>lO(l),Fg),this.Ma=new Map,this.xa=new Set,this.Oa=new kt(Ne.comparator),this.Na=new Map,this.La=new l_,this.Ba={},this.ka=new Map,this.qa=Bl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function D9(t,e,n=!0){const r=YO(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await GO(r,e,n,!0),s}async function L9(t,e){const n=YO(t);await GO(n,e,!0,!1)}async function GO(t,e,n,r){const s=await i9(t.localStore,gs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await $9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MO(t.remoteStore,s),l}async function $9(t,e,n,r,s){t.Ka=(f,h,x)=>async function(b,y,w,_){let S=y.view.ma(w);S.ns&&(S=await KT(b.localStore,y.query,!1).then(({documents:E})=>y.view.ma(E,S)));const k=_&&_.targetChanges.get(y.targetId),A=_&&_.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(S,b.isPrimaryClient,k,A);return nA(b,y.targetId,N.wa),N.snapshot}(t,f,h,x);const i=await KT(t.localStore,e,!0),o=new P9(e,i.Ts),l=o.ma(i.documents),c=Af.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);nA(t,n,u.wa);const d=new R9(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function V9(t,e,n){const r=Pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Fg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Kv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&d_(r.remoteStore,s.targetId),Yv(r,s.targetId)}).catch(Sf)):(Yv(r,s.targetId),await Kv(r.localStore,s.targetId,!0))}async function F9(t,e){const n=Pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d_(n.remoteStore,r.targetId))}async function U9(t,e,n){const r=K9(t);try{const s=await function(o,l){const c=Pe(o),u=Yt.now(),d=l.reduce((x,v)=>x.add(v.key),Be());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let v=ti(),b=Be();return c.cs.getEntries(x,d).next(y=>{v=y,v.forEach((w,_)=>{_.isValidDocument()||(b=b.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,v)).next(y=>{f=y;const w=[];for(const _ of l){const S=cB(_,f.get(_.key).overlayedDocument);S!=null&&w.push(new ma(_.key,S,tO(S.value.mapValue),Yr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,w,l)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(x,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:dO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new kt(Ye)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await Cf(r,s.changes),await Wg(r.remoteStore)}catch(s){const i=g_(s,"Failed to persist write");n.reject(i)}}async function HO(t,e){const n=Pe(t);try{const r=await n9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?rt(o.va):s.removedDocuments.size>0&&(rt(o.va),o.va=!1))}),await Cf(n,r,e)}catch(r){await Sf(r)}}function tA(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Pe(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&x_(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B9(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new kt(Ne.comparator);o=o.insert(i,kn.newNoDocument(i,Ie.min()));const l=Be().add(i),c=new zg(Ie.min(),new Map,new kt(Ye),o,l);await HO(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),y_(r)}else await Kv(r.localStore,e,!1).then(()=>Yv(r,e,n)).catch(Sf)}async function q9(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await t9(n.localStore,e);KO(n,r,null),WO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(n,s)}catch(s){await Sf(s)}}async function z9(t,e,n){const r=Pe(t);try{const s=await function(o,l){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(rt(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);KO(r,e,n),WO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cf(r,s)}catch(s){await Sf(s)}}function WO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KO(t,e,n){const r=Pe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Yv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JO(t,r)})}function JO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(d_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),y_(t))}function nA(t,e,n){for(const r of n)r instanceof qO?(t.La.addReference(r.key,e),G9(t,r)):r instanceof zO?(ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JO(t,r.key)):Ce()}function G9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),y_(t))}function y_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ne(pt.fromString(e)),r=t.qa.next();t.Na.set(r,new M9(n)),t.Oa=t.Oa.insert(n,r),MO(t.remoteStore,new Vi(gs(t_(n.path)),r,"TargetPurposeLimboResolution",Y1.oe))}}async function Cf(t,e,n){const r=Pe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=u_.Wi(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,u){const d=Pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>se.forEach(u,h=>se.forEach(h.$i,x=>d.persistence.referenceDelegate.addReference(f,h.targetId,x)).next(()=>se.forEach(h.Ui,x=>d.persistence.referenceDelegate.removeReference(f,h.targetId,x)))))}catch(f){if(!Ef(f))throw f;ye("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const x=d.os.get(h),v=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,b)}}}(r.localStore,i))}async function H9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=await jO(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new fe(re.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cf(n,r.hs)}}function W9(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return Be().add(r.key);{let s=Be();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function YO(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B9.bind(null,e),e.Ca.d_=j9.bind(null,e.eventManager),e.Ca.$a=I9.bind(null,e.eventManager),e}function K9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}class Zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return e9(this.persistence,new QB,e.initialUser,this.serializer)}Ga(e){return new JB(c_.Zr,this.serializer)}Wa(e){return new o9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zp.provider={build:()=>new Zp};class Xv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H9.bind(null,this.syncEngine),await A9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C9}()}createDatastore(e){const n=Gg(e.databaseInfo.databaseId),r=function(i){return new d9(i)}(e.databaseInfo);return function(i,o,l,c){return new p9(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new g9(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>tA(this.syncEngine,n,0),function(){return YT.D()?new YT:new l9}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const f=new O9(s,i,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);ye("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await kf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xv.provider={build:()=>new Xv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=QM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ye("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ye("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ty(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y9(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>XT(e.remoteStore,s)),t._onlineComponents=e}async function Y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await ty(t,new Zp)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await ty(t,new Zp);return t._offlineComponents}async function QO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await rA(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await rA(t,new Xv))),t._onlineComponents}function X9(t){return QO(t).then(e=>e.syncEngine)}async function Qv(t){const e=await QO(t),n=e.eventManager;return n.onListen=D9.bind(null,e.syncEngine),n.onUnlisten=V9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F9.bind(null,e.syncEngine),n}function Q9(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new XO({next:h=>{d.Za(),o.enqueueAndForget(()=>UO(i,f)),h.fromCache&&c.source==="server"?u.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new BO(l,d,{includeMetadataChanges:!0,_a:!0});return FO(i,f)}(await Qv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z9(t,e,n,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iA(t){if(!Ne.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aA(t){if(Ne.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kg(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function eq(t,e){if(e<=0)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y8;switch(r.type){case"firstParty":return new _8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sA.get(n);r&&(ye("ComponentProvider","Removing Datastore"),sA.delete(n),r.terminate())}(this),Promise.resolve()}}function tq(t,e,n,r={}){var s;const i=(t=ys(t,Jg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Tn.MOCK_USER;else{l=HF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Tn(u)}t._authCredentials=new v8(new XM(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class ea extends Ts{constructor(e,n,r){super(e,n,t_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Ne(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function ct(t,e,...n){if(t=xn(t),e4("collection","path",e),t instanceof Jg){const r=pt.fromString(e,...n);return aA(r),new ea(t,null,r)}{if(!(t instanceof er||t instanceof ea))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return aA(r),new ea(t.firestore,null,r)}}function Mt(t,e,...n){if(t=xn(t),arguments.length===1&&(e=QM.newId()),e4("doc","path",e),t instanceof Jg){const r=pt.fromString(e,...n);return iA(r),new er(t,null,new Ne(r))}{if(!(t instanceof er||t instanceof ea))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return iA(r),new er(t.firestore,t instanceof ea?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PO(this,"async_queue_retry"),this.Vu=()=>{const r=ey();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ef(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ei("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=m_.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function cA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class lo extends Jg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new lA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lA(e),this._firestoreClient=void 0,await e}}}function nq(t,e){const n=typeof t=="object"?t:BM(),r=typeof t=="string"?t:"(default)",s=K1(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zF("firestore");i&&tq(s,...i)}return s}function v_(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rq(t),t._firestoreClient}function rq(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new O8(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ZO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new J9(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(yn.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=/^__.*__$/;class iq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tf(e,this.data,n,this.fieldTransforms)}}class t4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class N_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new N_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return em(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(n4(this.Cu)&&sq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class aq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gg(e)}Qu(e,n,r,s=!1){return new N_({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(t){const e=t._freezeSettings(),n=Gg(t._databaseId);return new aq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oq(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);S_("Data must be an object, but it was:",o,r);const l=s4(r,o);let c,u;if(i.merge)c=new ur(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=Zv(e,f,n);if(!o.contains(h))throw new fe(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);a4(d,h)||d.push(h)}c=new ur(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new iq(new Kn(l),c,u)}class Qg extends b_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qg}}function lq(t,e,n,r){const s=t.Qu(1,e,n);S_("Data must be an object, but it was:",s,r);const i=[],o=Kn.empty();bo(r,(c,u)=>{const d=E_(e,c,n);u=xn(u);const f=s.Nu(d);if(u instanceof Qg)i.push(d);else{const h=jf(u,f);h!=null&&(i.push(d),o.set(d,h))}});const l=new ur(i);return new t4(o,l,s.fieldTransforms)}function cq(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[Zv(e,r,n)],c=[s];if(i.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(Zv(e,i[h])),c.push(i[h+1]);const u=[],d=Kn.empty();for(let h=l.length-1;h>=0;--h)if(!a4(u,l[h])){const x=l[h];let v=c[h];v=xn(v);const b=o.Nu(x);if(v instanceof Qg)u.push(x);else{const y=jf(v,b);y!=null&&(u.push(x),d.set(x,y))}}const f=new ur(u);return new t4(d,f,o.fieldTransforms)}function r4(t,e,n,r=!1){return jf(n,t.Qu(r?4:3,e))}function jf(t,e){if(i4(t=xn(t)))return S_("Unsupported field value:",e,t),s4(t,e);if(t instanceof b_)return function(r,s){if(!n4(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=jf(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Yt.fromDate(r);return{timestampValue:Xp(s.serializer,i)}}if(r instanceof Yt){const i=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xp(s.serializer,i)}}if(r instanceof w_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:NO(s.serializer,r._byteString)};if(r instanceof er){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:o_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof __)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return r_(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Kg(r)}`)}(t,e)}function s4(t,e){const n={};return ZM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,s)=>{const i=jf(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function i4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof w_||t instanceof zl||t instanceof er||t instanceof b_||t instanceof __)}function S_(t,e,n){if(!i4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Kg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Zv(t,e,n){if((e=xn(e))instanceof Yg)return e._internalPath;if(typeof e=="string")return E_(t,e);throw em("Field path arguments must be of type string or ",t,!1,void 0,n)}const uq=new RegExp("[~\\*/\\[\\]]");function E_(t,e,n){if(e.search(uq)>=0)throw em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yg(...e.split("."))._internalPath}catch{throw em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function em(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new fe(re.INVALID_ARGUMENT,l+t+c)}function a4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dq extends T_{data(){return super.data()}}function Zg(t,e){return typeof e=="string"?E_(t,e):e instanceof Yg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A_{}class e0 extends A_{}function cp(t,e,...n){let r=[];e instanceof A_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof k_).length,l=i.filter(c=>c instanceof t0).length;if(o>1||o>0&&l>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class t0 extends e0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t0(e,n,r)}_apply(e){const n=this._parse(e);return l4(e._query,n),new Ts(e.firestore,e.converter,qv(e._query,n))}_parse(e){const n=Xg(e.firestore);return function(i,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){fA(f,d);const x=[];for(const v of f)x.push(dA(c,i,v));h={arrayValue:{values:x}}}else h=dA(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||fA(f,d),h=r4(l,o,f,d==="in"||d==="not-in");return Ut.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uA(t,e,n){const r=e,s=Zg("where",t);return t0._create(s,r,n)}class k_ extends A_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)l4(o,c),o=qv(o,c)}(e._query,n),new Ts(e.firestore,e.converter,qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C_ extends e0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new C_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ad(i,o)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new wo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function fq(t,e="asc"){const n=e,r=Zg("orderBy",t);return C_._create(r,n)}class j_ extends e0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new j_(e,n,r)}_apply(e){return new Ts(e.firestore,e.converter,Kp(e._query,this._limit,this._limitType))}}function hq(t){return eq("limit",t),j_._create("limit",t,"F")}class I_ extends e0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new I_(e,n,r)}_apply(e){const n=mq(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,function(s,i){return new wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function pq(...t){return I_._create("startAfter",t,!1)}function mq(t,e,n,r){if(n[0]=xn(n[0]),n[0]instanceof T_)return function(i,o,l,c,u){if(!c)throw new fe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of xl(i))if(f.field.isKeyField())d.push(Wp(o,c.key));else{const h=c.data.field(f.field);if(Vg(h))throw new fe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const x=f.field.canonicalString();throw new fe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}d.push(h)}return new Ul(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Xg(t.firestore);return function(o,l,c,u,d,f){const h=o.explicitOrderBy;if(d.length>h.length)throw new fe(re.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let v=0;v<d.length;v++){const b=d[v];if(h[v].field.isKeyField()){if(typeof b!="string")throw new fe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!n_(o)&&b.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const y=o.path.child(pt.fromString(b));if(!Ne.isDocumentKey(y))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const w=new Ne(y);x.push(Wp(l,w))}else{const y=r4(c,u,b);x.push(y)}}return new Ul(x,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function dA(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n_(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!Ne.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wp(t,new Ne(r))}if(n instanceof er)return Wp(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kg(n)}.`)}function fA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l4(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gq{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ot(o.doubleValue));return new __(i)}convertGeoPoint(e){return new w_(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);rt(CO(r));const s=new Ed(r.get(1),r.get(3)),i=new Ne(r.popFirst(5));return s.isEqual(n)||ei(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c4 extends T_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class up extends c4{data(e={}){return super.data(e)}}class u4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new up(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new up(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Pu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new up(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Pu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:yq(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class P_ extends gq{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function Ku(t){t=ys(t,Ts);const e=ys(t.firestore,lo),n=v_(e),r=new P_(e);return o4(t._query),Q9(n,t._query).then(s=>new u4(e,r,t,s))}function ls(t,e,n,...r){t=ys(t,er);const s=ys(t.firestore,lo),i=Xg(s);let o;return o=typeof(e=xn(e))=="string"||e instanceof Yg?cq(i,"updateDoc",t._key,e,n,r):lq(i,"updateDoc",t._key,e),R_(s,[o.toMutation(t._key,Yr.exists(!0))])}function Ur(t){return R_(ys(t.firestore,lo),[new s_(t._key,Yr.none())])}function sr(t,e){const n=ys(t.firestore,lo),r=Mt(t),s=xq(t.converter,e);return R_(n,[oq(Xg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function Ps(t,...e){var n,r,s;t=xn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||cA(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(cA(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,d;if(t instanceof er)u=ys(t.firestore,lo),d=t_(t._key.path),c={next:f=>{e[o]&&e[o](vq(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=ys(t,Ts);u=ys(f.firestore,lo),d=f._query;const h=new P_(u);c={next:x=>{e[o]&&e[o](new u4(u,h,f,x))},error:e[o+1],complete:e[o+2]},o4(t._query)}return function(h,x,v,b){const y=new XO(b),w=new BO(x,y,v);return h.asyncQueue.enqueueAndForget(async()=>FO(await Qv(h),w)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>UO(await Qv(h),w))}}(v_(u),d,l,c)}function R_(t,e){return function(r,s){const i=new Zi;return r.asyncQueue.enqueueAndForget(async()=>U9(await X9(r),s,i)),i.promise}(v_(t),e)}function vq(t,e,n){const r=n.docs.get(e._key),s=new P_(t);return new c4(t,s,e._key,r,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Nc=s})(_c),Dl(new so("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new lo(new b8(r.getProvider("auth-internal")),new S8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Qi(AT,"4.7.3",e),Qi(AT,"4.7.3","esm2017")})();function M_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function d4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bq=d4,f4=new _f("auth","Firebase",d4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new H1("@firebase/auth");function wq(t,...e){tm.logLevel<=ze.WARN&&tm.warn(`Auth (${_c}): ${t}`,...e)}function dp(t,...e){tm.logLevel<=ze.ERROR&&tm.error(`Auth (${_c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw O_(t,...e)}function vs(t,...e){return O_(t,...e)}function h4(t,e,n){const r=Object.assign(Object.assign({},bq()),{[e]:n});return new _f("auth","Firebase",r).create(e,{appName:t.name})}function Ka(t){return h4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f4.create(t,...e)}function ke(t,e,...n){if(!t)throw O_(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dp(e),new Error(e)}function ri(t,e){t||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _q(){return hA()==="http:"||hA()==="https:"}function hA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_q()||YF()||"connection"in navigator)?navigator.onLine:!0}function Sq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=WF()||XF()}get(){return Nq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new If(3e4,6e4);function L_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tc(t,e,n,r,s={}){return m4(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Nf(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return JF()||(u.referrerPolicy="no-referrer"),p4.fetch()(g4(t,t.config.apiHost,n,l),u)})}async function m4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eq),e);try{const s=new kq(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Sh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw h4(t,d,u);ni(t,d)}}catch(s){if(s instanceof fi)throw s;ni(t,"network-request-failed",{message:String(s)})}}async function Aq(t,e,n,r,s={}){const i=await Tc(t,e,n,r,s);return"mfaPendingCredential"in i&&ni(t,"multi-factor-auth-required",{_serverResponse:i}),i}function g4(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?D_(t.config,s):`${t.config.apiScheme}://${s}`}class kq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),Tq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=vs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e){return Tc(t,"POST","/v1/accounts:delete",e)}async function x4(t,e){return Tc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jq(t,e=!1){const n=xn(t),r=await n.getIdToken(e),s=$_(r);ke(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ju(ny(s.auth_time)),issuedAtTime:Ju(ny(s.iat)),expirationTime:Ju(ny(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ny(t){return Number(t)*1e3}function $_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dp("JWT malformed, contained fewer than 3 sections"),null;try{const s=OM(n);return s?JSON.parse(s):(dp("Failed to decode base64 JWT payload"),null)}catch(s){return dp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pA(t){const e=$_(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&Iq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Iq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await jd(t,x4(n,{idToken:r}));ke(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?y4(i.providerUserInfo):[],l=Mq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new tb(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Rq(t){const e=xn(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mq(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function y4(t){return t.map(e=>{var{providerId:n}=e,r=M_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){const n=await m4(t,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=g4(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",p4.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dq(t,e){return Tc(t,"POST","/v2/accounts:revokeToken",L_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=pA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Oq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vl;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ke(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ke(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=M_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jd(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jq(this,e)}reload(){return Rq(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($i(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await jd(this,Cq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:k,isAnonymous:A,providerData:N,stsTokenManager:E}=n;ke(S&&E,e,"internal-error");const T=vl.fromJSON(this.name,E);ke(typeof S=="string",e,"internal-error"),Ni(f,e.name),Ni(h,e.name),ke(typeof k=="boolean",e,"internal-error"),ke(typeof A=="boolean",e,"internal-error"),Ni(x,e.name),Ni(v,e.name),Ni(b,e.name),Ni(y,e.name),Ni(w,e.name),Ni(_,e.name);const j=new Fs({uid:S,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:A,photoURL:v,phoneNumber:x,tenantId:b,stsTokenManager:T,createdAt:w,lastLoginAt:_});return N&&Array.isArray(N)&&(j.providerData=N.map(M=>Object.assign({},M))),y&&(j._redirectEventId=y),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new vl;s.updateFromServerResponse(n);const i=new Fs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ke(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?y4(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new vl;l.updateFromIdToken(r);const c=new Fs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new tb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Map;function Us(t){ri(t instanceof Function,"Expected a class definition");let e=mA.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v4.type="NONE";const gA=v4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fp(this.userKey,s.apiKey,i),this.fullPersistenceKey=fp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(Us(gA),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Us(gA);const o=fp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Fs._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new bl(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new bl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E4(e))return"Blackberry";if(T4(e))return"Webos";if(w4(e))return"Safari";if((e.includes("chrome/")||_4(e))&&!e.includes("edge/"))return"Chrome";if(S4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b4(t=Pn()){return/firefox\//i.test(t)}function w4(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _4(t=Pn()){return/crios\//i.test(t)}function N4(t=Pn()){return/iemobile/i.test(t)}function S4(t=Pn()){return/android/i.test(t)}function E4(t=Pn()){return/blackberry/i.test(t)}function T4(t=Pn()){return/webos/i.test(t)}function V_(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lq(t=Pn()){var e;return V_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $q(){return QF()&&document.documentMode===10}function A4(t=Pn()){return V_(t)||S4(t)||T4(t)||E4(t)||/windows phone/i.test(t)||N4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e=[]){let n;switch(t){case"Browser":n=xA(Pn());break;case"Worker":n=`${xA(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e={}){return Tc(t,"GET","/v2/passwordPolicy",L_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=6;class Bq{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Uq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yA(this),this.idTokenSubscription=new yA(this),this.beforeStateQueue=new Vq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x4(this,{idToken:e}),r=await Fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($i(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($i(this.app))return Promise.reject(Ka(this));const n=e?xn(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $i(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $i(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fq(this),n=new Bq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Us(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function F_(t){return xn(t)}class yA{constructor(e){this.auth=e,this.observer=null,this.addObserver=aU(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zq(t){U_=t}function Gq(t){return U_.loadJS(t)}function Hq(){return U_.gapiScript}function Wq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t,e){const n=K1(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(zp(i,e??{}))return s;ni(s,"already-initialized")}return n.initialize({options:e})}function Jq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yq(t,e,n){const r=F_(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=C4(e),{host:o,port:l}=Xq(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Qq()}function C4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xq(t){const e=C4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:vA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:vA(o)}}}function vA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Aq(t,"POST","/v1/accounts:signInWithIdp",L_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="http://localhost";class co extends j4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=M_(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new co(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:Zq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends I4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Pf{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Pf{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Pf{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fs._fromIdTokenResponse(e,r,s),o=bA(r);return new Gl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=bA(r);return new Gl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function bA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends fi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rm(e,n,r,s)}}function P4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,i,e,r):i})}async function ez(t,e,n=!1){const r=await jd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e,n=!1){const{auth:r}=t;if($i(r.app))return Promise.reject(Ka(r));const s="reauthenticate";try{const i=await jd(t,P4(r,s,e,t),n);ke(i.idToken,r,"internal-error");const o=$_(i.idToken);ke(o,r,"internal-error");const{sub:l}=o;return ke(t.uid===l,r,"user-mismatch"),Gl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ni(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e,n=!1){if($i(t.app))return Promise.reject(Ka(t));const r="signIn",s=await P4(t,r,e),i=await Gl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function rz(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function sz(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=1e3,az=10;class M4 extends R4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$q()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,az):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M4.type="LOCAL";const oz=M4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends R4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O4.type="SESSION";const D4=O4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new n0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await lz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=B_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function uz(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function dz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hz(){return L4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firebaseLocalStorageDb",pz=1,im="firebaseLocalStorage",V4="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function r0(t,e){return t.transaction([im],e?"readwrite":"readonly").objectStore(im)}function mz(){const t=indexedDB.deleteDatabase($4);return new Rf(t).toPromise()}function nb(){const t=indexedDB.open($4,pz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(im,{keyPath:V4})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(im)?e(r):(r.close(),await mz(),e(await nb()))})})}async function wA(t,e,n){const r=r0(t,!0).put({[V4]:e,value:n});return new Rf(r).toPromise()}async function gz(t,e){const n=r0(t,!1).get(e),r=await new Rf(n).toPromise();return r===void 0?null:r.value}function _A(t,e){const n=r0(t,!0).delete(e);return new Rf(n).toPromise()}const xz=800,yz=3;class F4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n0._getInstance(hz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dz(),!this.activeServiceWorker)return;this.sender=new cz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nb();return await wA(e,sm,"1"),await _A(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_A(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=r0(s,!1).getAll();return new Rf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F4.type="LOCAL";const vz=F4;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t,e){return e?Us(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends j4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wz(t){return nz(t.auth,new q_(t),t.bypassAuthState)}function _z(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),tz(n,new q_(t),t.bypassAuthState)}async function Nz(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),ez(n,new q_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wz;case"linkViaPopup":case"linkViaRedirect":return Nz;case"reauthViaPopup":case"reauthViaRedirect":return _z;default:ni(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new If(2e3,1e4);class nl extends U4{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sz.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="pendingRedirect",hp=new Map;class Tz extends U4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hp.get(this.auth._key());if(!e){try{const r=await Az(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Az(t,e){const n=jz(e),r=Cz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function kz(t,e){hp.set(t._key(),e)}function Cz(t){return Us(t._redirectPersistence)}function jz(t){return fp(Ez,t.config.apiKey,t.name)}async function Iz(t,e,n=!1){if($i(t.app))return Promise.reject(Ka(t));const r=F_(t),s=bz(r,e),o=await new Tz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=10*60*1e3;class Rz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!B4(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pz&&this.cachedEventUids.clear(),this.cachedEventUids.has(NA(e))}saveEventToCache(e){this.cachedEventUids.add(NA(e)),this.lastProcessedEventTime=Date.now()}}function NA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e={}){return Tc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lz=/^https?/;async function $z(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Oz(t);for(const n of e)try{if(Vz(n))return}catch{}ni(t,"unauthorized-domain")}function Vz(t){const e=eb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Lz.test(n))return!1;if(Dz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new If(3e4,6e4);function SA(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uz(t){return new Promise((e,n)=>{var r,s,i;function o(){SA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SA(),n(vs(t,"network-request-failed"))},timeout:Fz.get()})}if(!((s=(r=bs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=bs().gapi)===null||i===void 0)&&i.load)o();else{const l=Wq("iframefcb");return bs()[l]=()=>{gapi.load?o():n(vs(t,"network-request-failed"))},Gq(`${Hq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw pp=null,e})}let pp=null;function Bz(t){return pp=pp||Uz(t),pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=new If(5e3,15e3),zz="__/auth/iframe",Gz="emulator/auth/iframe",Hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kz(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D_(e,Gz):`https://${t.config.authDomain}/${zz}`,r={apiKey:e.apiKey,appName:t.name,v:_c},s=Wz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nf(r).slice(1)}`}async function Jz(t){const e=await Bz(t),n=bs().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:Kz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=vs(t,"network-request-failed"),l=bs().setTimeout(()=>{i(o)},qz.get());function c(){bs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xz=500,Qz=600,Zz="_blank",eG="http://localhost";class EA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tG(t,e,n,r=Xz,s=Qz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Yz),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Pn().toLowerCase();n&&(l=_4(u)?Zz:n),b4(u)&&(e=e||eG,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[x,v])=>`${h}${x}=${v},`,"");if(Lq(u)&&l!=="_self")return nG(e||"",l),new EA(null);const f=window.open(e||"",l,d);ke(f,t,"popup-blocked");try{f.focus()}catch{}return new EA(f)}function nG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="__/auth/handler",sG="emulator/auth/handler",iG=encodeURIComponent("fac");async function TA(t,e,n,r,s,i){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_c,eventId:s};if(e instanceof I4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",iU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Pf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${iG}=${encodeURIComponent(c)}`:"";return`${aG(t)}?${Nf(l).slice(1)}${u}`}function aG({config:t}){return t.emulator?D_(t,sG):`https://${t.authDomain}/${rG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class oG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D4,this._completeRedirectFn=Iz,this._overrideRedirectResult=kz}async _openPopup(e,n,r,s){var i;ri((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await TA(e,n,r,eb(),s);return tG(e,o,B_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await TA(e,n,r,eb(),s);return uz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Jz(e),r=new Rz(e);return n.register("authEvent",s=>(ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ry,{type:ry},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ry];o!==void 0&&n(!!o),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$z(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A4()||w4()||V_()}}const lG=oG;var AA="@firebase/auth",kA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dG(t){Dl(new so("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k4(t)},u=new qq(r,s,i,c);return Jq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new so("auth-internal",e=>{const n=F_(e.getProvider("auth").getImmediate());return(r=>new cG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(AA,kA,uG(t)),Qi(AA,kA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=5*60,hG=$M("authIdTokenMaxAge")||fG;let CA=null;const pG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hG)return;const s=n==null?void 0:n.token;CA!==s&&(CA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mG(t=BM()){const e=K1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Kq(t,{popupRedirectResolver:lG,persistence:[vz,oz,D4]}),r=$M("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=pG(i.toString());sz(n,o,()=>o(n.currentUser)),rz(n,l=>o(l))}}const s=DM("auth");return s&&Yq(n,`http://${s}`),n}function gG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=vs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",gG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dG("Browser");const xG={apiKey:"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:"bruzzonecrm.firebaseapp.com",projectId:"bruzzonecrm",storageBucket:"bruzzonecrm.firebasestorage.app",messagingSenderId:"927179271207",appId:"1:927179271207:web:b287dce1ce53b4f3ddb202"},q4=UM(xG),Ae=nq(q4);mG(q4);const z4=D.createContext(void 0),yG=({children:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState([]),[i,o]=D.useState([]),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState([]),[x,v]=D.useState([]),[b,y]=D.useState([]),[w,_]=D.useState([]),[S,k]=D.useState([]),[A,N]=D.useState([]),[E,T]=D.useState([]),[j,M]=D.useState(!0),[I,O]=D.useState(null);D.useEffect(()=>{const oe=[Ps(ct(Ae,"products"),ve=>n(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"clients"),ve=>s(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"suppliers"),ve=>o(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"priceLists"),ve=>d(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"branches"),ve=>h(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"users"),ve=>k(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"salesZones"),ve=>_(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"sales"),ve=>N(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),Ps(ct(Ae,"remitos"),ve=>T(ve.docs.map(Ve=>({id:Ve.id,...Ve.data()}))))];return M(!1),()=>oe.forEach(ve=>ve())},[]);const R=D.useCallback(async oe=>{let ve=cp(ct(Ae,"products"),fq(oe.orderByField||"name",oe.orderDirection||"asc"));oe.startAfterDoc&&(ve=cp(ve,pq(oe.startAfterDoc))),ve=cp(ve,hq(oe.limit));const Ve=await Ku(ve);return{products:Ve.docs.map(jo=>({id:jo.id,...jo.data()})),lastVisible:Ve.docs[Ve.docs.length-1],hasMore:Ve.docs.length===oe.limit}},[]),H=async oe=>e.find(ve=>ve.id===oe)||null,B=async oe=>{await sr(ct(Ae,"products"),oe)},$=async(oe,ve)=>{await ls(Mt(Ae,"products",oe),ve)},z=async oe=>{await Ur(Mt(Ae,"products",oe))},V=async oe=>(await sr(ct(Ae,"sales"),oe)).id,U=async oe=>A.find(ve=>ve.id===oe)||null,F=async oe=>{await sr(ct(Ae,"clients"),oe)},G=async(oe,ve)=>{await ls(Mt(Ae,"clients",oe),ve)},K=async oe=>{await Ur(Mt(Ae,"clients",oe))},Q=async oe=>{await sr(ct(Ae,"suppliers"),oe)},de=async(oe,ve)=>{await ls(Mt(Ae,"suppliers",oe),ve)},we=async oe=>{await Ur(Mt(Ae,"suppliers",oe))},be=async oe=>{await sr(ct(Ae,"priceLists"),oe)},$e=async(oe,ve)=>{await ls(Mt(Ae,"priceLists",oe),ve)},tt=async oe=>{await Ur(Mt(Ae,"priceLists",oe))},le=async oe=>{await sr(ct(Ae,"branches"),oe)},_e=async(oe,ve)=>{await ls(Mt(Ae,"branches",oe),ve)},X=async oe=>{await Ur(Mt(Ae,"branches",oe))},Y=async oe=>{await sr(ct(Ae,"orders"),oe)},W=async(oe,ve)=>{await ls(Mt(Ae,"orders",oe),ve)},ce=async oe=>{await Ur(Mt(Ae,"orders",oe))},Me=async oe=>{await sr(ct(Ae,"installmentPlans"),oe)},pe=async(oe,ve)=>{await ls(Mt(Ae,"installmentPlans",oe),ve)},Fe=async oe=>{await Ur(Mt(Ae,"installmentPlans",oe))},xt=async oe=>{await sr(ct(Ae,"transactions"),oe)},Qt=async oe=>{await sr(ct(Ae,"users"),oe)},Rt=async(oe,ve)=>{await ls(Mt(Ae,"users",oe),ve)},ot=async oe=>{await Ur(Mt(Ae,"users",oe))},qt=async oe=>{await sr(ct(Ae,"salesZones"),oe)},qn=async(oe,ve)=>{await ls(Mt(Ae,"salesZones",oe),ve)},ee=async oe=>{await Ur(Mt(Ae,"salesZones",oe))},me=async oe=>(await sr(ct(Ae,"remitos"),oe)).id,Oe=async(oe,ve)=>{await ls(Mt(Ae,"remitos",oe),ve)},Le=async oe=>{await Ur(Mt(Ae,"remitos",oe))},zn=async oe=>E.find(ve=>ve.id===oe)||null,xr=async oe=>{const ve={};for(const Ve of oe){const Co=await Ku(ct(Ae,Ve));ve[Ve]=Co.docs.map(jo=>jo.data())}return ve},$r=async oe=>{const ve=await Ku(ct(Ae,oe));for(const Ve of ve.docs)await Ur(Ve.ref)},zc=D.useMemo(()=>({products:e,clients:r,suppliers:i,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:b,users:S,loading:j,error:I,salesZones:w,sales:A,remitos:E,fetchProductsPaginatedAndFiltered:R,getProductById:H,addProduct:B,updateProduct:$,deleteProduct:z,addSale:V,getSaleById:U,addClient:F,updateClient:G,deleteClient:K,addSupplier:Q,updateSupplier:de,deleteSupplier:we,addPriceList:be,updatePriceList:$e,deletePriceList:tt,addBranch:le,updateBranch:_e,deleteBranch:X,addOrder:Y,updateOrder:W,deleteOrder:ce,addInstallmentPlan:Me,updateInstallmentPlan:pe,deleteInstallmentPlan:Fe,addTransaction:xt,exportAllData:xr,deleteAllDocumentsInCollection:$r,addUser:Qt,updateUser:Rt,deleteUser:ot,addSalesZone:qt,updateSalesZone:qn,deleteSalesZone:ee,addRemito:me,updateRemito:Oe,deleteRemito:Le,getRemitoById:zn}),[e,r,i,l,u,f,x,b,S,j,I,w,A,E]);return a.jsx(z4.Provider,{value:zc,children:t})},Lt=()=>{const t=D.useContext(z4);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...vG,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bG(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=ne("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=ne("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ne("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=ne("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=ne("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=ne("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=ne("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=ne("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ne("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=ne("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ne("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=ne("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=ne("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=ne("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ne("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ne("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=ne("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=ne("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=ne("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ne("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ne("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=ne("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ne("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ne("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),r7=({activeModule:t,setActiveModule:e,user:n})=>{const[r,s]=D.useState("comercial"),i=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:LG}]},{title:"Comercial",items:[{id:"sales",label:"Ventas",icon:cm},{id:"quotes",label:"Cotizaciones",icon:W4},{id:"customers",label:"Clientes",icon:As},{id:"ecommerce",label:"E-Commerce",icon:Ja}]},{title:"Productos & Stock",items:[{id:"inventory",label:"Inventario",icon:a0},{id:"stock_adjust",label:"Ajuste de Stock",icon:z_},{id:"suppliers",label:"Proveedores",icon:Rr},{id:"prices",label:"Lista de Precios",icon:W_}]},{title:"Finanzas",items:[{id:"cash",label:"Cajas y Pagos",icon:ta},{id:"debts",label:"Saldos y Deudas",icon:rs},{id:"reports",label:"Informes e IVA",icon:EG}]},{title:"Configuracin",items:[{id:"users",label:"Usuarios",icon:na},{id:"settings",label:"Configuracin",icon:MG}]}];return a.jsxs("div",{className:"w-72 bg-slate-900 h-full flex flex-col text-slate-300 border-r border-slate-800",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 bg-orange-600 p-4 rounded-2xl shadow-lg shadow-orange-900/20",children:[a.jsx(Mi,{className:"text-white",size:24}),a.jsxs("h1",{className:"text-white font-black text-lg tracking-tighter",children:["FerroGest ",a.jsx("span",{className:"text-orange-200",children:"ERP"})]})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-6 overflow-y-auto custom-scrollbar pb-10",children:i.map(o=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"px-4 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:o.title}),a.jsx("div",{className:"space-y-1",children:o.items.map(l=>{const c=l.icon,u=t===l.id;return a.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-xl transition-all ${u?"bg-orange-600 text-white shadow-md":"hover:bg-slate-800 text-slate-400"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(c,{size:18}),a.jsx("span",{className:"font-bold text-xs",children:l.label})]}),u&&a.jsx(tr,{size:14})]},l.id)})})]},o.title))}),a.jsxs("div",{className:"p-6 bg-slate-950/50 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-[10px]",children:"AD"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-xs font-bold text-white truncate",children:n==null?void 0:n.name}),a.jsx("p",{className:"text-[9px] text-orange-500 font-black uppercase tracking-tighter",children:n==null?void 0:n.role})]})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full flex items-center gap-2 text-red-400 hover:text-red-300 text-[10px] font-black uppercase tracking-widest transition-colors",children:[a.jsx(VG,{size:14})," Cerrar Sesin"]})]})]})};function n5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=n5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=n5(t))&&(r&&(r+=" "),r+=e);return r}var s7=Array.isArray,nr=s7,i7=typeof nh=="object"&&nh&&nh.Object===Object&&nh,r5=i7,a7=r5,o7=typeof self=="object"&&self&&self.Object===Object&&self,l7=a7||o7||Function("return this")(),ks=l7,c7=ks,u7=c7.Symbol,Of=u7,UA=Of,s5=Object.prototype,d7=s5.hasOwnProperty,f7=s5.toString,hu=UA?UA.toStringTag:void 0;function h7(t){var e=d7.call(t,hu),n=t[hu];try{t[hu]=void 0;var r=!0}catch{}var s=f7.call(t);return r&&(e?t[hu]=n:delete t[hu]),s}var p7=h7,m7=Object.prototype,g7=m7.toString;function x7(t){return g7.call(t)}var y7=x7,BA=Of,v7=p7,b7=y7,w7="[object Null]",_7="[object Undefined]",qA=BA?BA.toStringTag:void 0;function N7(t){return t==null?t===void 0?_7:w7:qA&&qA in Object(t)?v7(t):b7(t)}var hi=N7;function S7(t){return t!=null&&typeof t=="object"}var pi=S7,E7=hi,T7=pi,A7="[object Symbol]";function k7(t){return typeof t=="symbol"||T7(t)&&E7(t)==A7}var Ac=k7,C7=nr,j7=Ac,I7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P7=/^\w*$/;function R7(t,e){if(C7(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||j7(t)?!0:P7.test(t)||!I7.test(t)||e!=null&&t in Object(e)}var Q_=R7;function M7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ga=M7;const kc=st(ga);var O7=hi,D7=ga,L7="[object AsyncFunction]",$7="[object Function]",V7="[object GeneratorFunction]",F7="[object Proxy]";function U7(t){if(!D7(t))return!1;var e=O7(t);return e==$7||e==V7||e==L7||e==F7}var Z_=U7;const Te=st(Z_);var B7=ks,q7=B7["__core-js_shared__"],z7=q7,ly=z7,zA=function(){var t=/[^.]+$/.exec(ly&&ly.keys&&ly.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function G7(t){return!!zA&&zA in t}var H7=G7,W7=Function.prototype,K7=W7.toString;function J7(t){if(t!=null){try{return K7.call(t)}catch{}try{return t+""}catch{}}return""}var i5=J7,Y7=Z_,X7=H7,Q7=ga,Z7=i5,eH=/[\\^$.*+?()[\]{}|]/g,tH=/^\[object .+?Constructor\]$/,nH=Function.prototype,rH=Object.prototype,sH=nH.toString,iH=rH.hasOwnProperty,aH=RegExp("^"+sH.call(iH).replace(eH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oH(t){if(!Q7(t)||X7(t))return!1;var e=Y7(t)?aH:tH;return e.test(Z7(t))}var lH=oH;function cH(t,e){return t==null?void 0:t[e]}var uH=cH,dH=lH,fH=uH;function hH(t,e){var n=fH(t,e);return dH(n)?n:void 0}var No=hH,pH=No,mH=pH(Object,"create"),o0=mH,GA=o0;function gH(){this.__data__=GA?GA(null):{},this.size=0}var xH=gH;function yH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var vH=yH,bH=o0,wH="__lodash_hash_undefined__",_H=Object.prototype,NH=_H.hasOwnProperty;function SH(t){var e=this.__data__;if(bH){var n=e[t];return n===wH?void 0:n}return NH.call(e,t)?e[t]:void 0}var EH=SH,TH=o0,AH=Object.prototype,kH=AH.hasOwnProperty;function CH(t){var e=this.__data__;return TH?e[t]!==void 0:kH.call(e,t)}var jH=CH,IH=o0,PH="__lodash_hash_undefined__";function RH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=IH&&e===void 0?PH:e,this}var MH=RH,OH=xH,DH=vH,LH=EH,$H=jH,VH=MH;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=OH;Cc.prototype.delete=DH;Cc.prototype.get=LH;Cc.prototype.has=$H;Cc.prototype.set=VH;var FH=Cc;function UH(){this.__data__=[],this.size=0}var BH=UH;function qH(t,e){return t===e||t!==t&&e!==e}var eN=qH,zH=eN;function GH(t,e){for(var n=t.length;n--;)if(zH(t[n][0],e))return n;return-1}var l0=GH,HH=l0,WH=Array.prototype,KH=WH.splice;function JH(t){var e=this.__data__,n=HH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():KH.call(e,n,1),--this.size,!0}var YH=JH,XH=l0;function QH(t){var e=this.__data__,n=XH(e,t);return n<0?void 0:e[n][1]}var ZH=QH,eW=l0;function tW(t){return eW(this.__data__,t)>-1}var nW=tW,rW=l0;function sW(t,e){var n=this.__data__,r=rW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var iW=sW,aW=BH,oW=YH,lW=ZH,cW=nW,uW=iW;function jc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jc.prototype.clear=aW;jc.prototype.delete=oW;jc.prototype.get=lW;jc.prototype.has=cW;jc.prototype.set=uW;var c0=jc,dW=No,fW=ks,hW=dW(fW,"Map"),tN=hW,HA=FH,pW=c0,mW=tN;function gW(){this.size=0,this.__data__={hash:new HA,map:new(mW||pW),string:new HA}}var xW=gW;function yW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vW=yW,bW=vW;function wW(t,e){var n=t.__data__;return bW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var u0=wW,_W=u0;function NW(t){var e=_W(this,t).delete(t);return this.size-=e?1:0,e}var SW=NW,EW=u0;function TW(t){return EW(this,t).get(t)}var AW=TW,kW=u0;function CW(t){return kW(this,t).has(t)}var jW=CW,IW=u0;function PW(t,e){var n=IW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var RW=PW,MW=xW,OW=SW,DW=AW,LW=jW,$W=RW;function Ic(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ic.prototype.clear=MW;Ic.prototype.delete=OW;Ic.prototype.get=DW;Ic.prototype.has=LW;Ic.prototype.set=$W;var nN=Ic,a5=nN,VW="Expected a function";function rN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(VW);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(rN.Cache||a5),n}rN.Cache=a5;var o5=rN;const FW=st(o5);var UW=o5,BW=500;function qW(t){var e=UW(t,function(r){return n.size===BW&&n.clear(),r}),n=e.cache;return e}var zW=qW,GW=zW,HW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WW=/\\(\\)?/g,KW=GW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HW,function(n,r,s,i){e.push(s?i.replace(WW,"$1"):r||n)}),e}),JW=KW;function YW(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var sN=YW,WA=Of,XW=sN,QW=nr,ZW=Ac,KA=WA?WA.prototype:void 0,JA=KA?KA.toString:void 0;function l5(t){if(typeof t=="string")return t;if(QW(t))return XW(t,l5)+"";if(ZW(t))return JA?JA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var eK=l5,tK=eK;function nK(t){return t==null?"":tK(t)}var c5=nK,rK=nr,sK=Q_,iK=JW,aK=c5;function oK(t,e){return rK(t)?t:sK(t,e)?[t]:iK(aK(t))}var u5=oK,lK=Ac;function cK(t){if(typeof t=="string"||lK(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var d0=cK,uK=u5,dK=d0;function fK(t,e){e=uK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[dK(e[n++])];return n&&n==r?t:void 0}var iN=fK,hK=iN;function pK(t,e,n){var r=t==null?void 0:hK(t,e);return r===void 0?n:r}var d5=pK;const fr=st(d5);function mK(t){return t==null}var gK=mK;const Re=st(gK);var xK=hi,yK=nr,vK=pi,bK="[object String]";function wK(t){return typeof t=="string"||!yK(t)&&vK(t)&&xK(t)==bK}var _K=wK;const fo=st(_K);var f5={exports:{}},it={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN=Symbol.for("react.element"),oN=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),NK=Symbol.for("react.server_context"),x0=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),v0=Symbol.for("react.suspense_list"),b0=Symbol.for("react.memo"),w0=Symbol.for("react.lazy"),SK=Symbol.for("react.offscreen"),h5;h5=Symbol.for("react.module.reference");function Dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case aN:switch(t=t.type,t){case f0:case p0:case h0:case y0:case v0:return t;default:switch(t=t&&t.$$typeof,t){case NK:case g0:case x0:case w0:case b0:case m0:return t;default:return e}}case oN:return e}}}it.ContextConsumer=g0;it.ContextProvider=m0;it.Element=aN;it.ForwardRef=x0;it.Fragment=f0;it.Lazy=w0;it.Memo=b0;it.Portal=oN;it.Profiler=p0;it.StrictMode=h0;it.Suspense=y0;it.SuspenseList=v0;it.isAsyncMode=function(){return!1};it.isConcurrentMode=function(){return!1};it.isContextConsumer=function(t){return Dr(t)===g0};it.isContextProvider=function(t){return Dr(t)===m0};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===aN};it.isForwardRef=function(t){return Dr(t)===x0};it.isFragment=function(t){return Dr(t)===f0};it.isLazy=function(t){return Dr(t)===w0};it.isMemo=function(t){return Dr(t)===b0};it.isPortal=function(t){return Dr(t)===oN};it.isProfiler=function(t){return Dr(t)===p0};it.isStrictMode=function(t){return Dr(t)===h0};it.isSuspense=function(t){return Dr(t)===y0};it.isSuspenseList=function(t){return Dr(t)===v0};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===f0||t===p0||t===h0||t===y0||t===v0||t===SK||typeof t=="object"&&t!==null&&(t.$$typeof===w0||t.$$typeof===b0||t.$$typeof===m0||t.$$typeof===g0||t.$$typeof===x0||t.$$typeof===h5||t.getModuleId!==void 0)};it.typeOf=Dr;f5.exports=it;var EK=f5.exports,TK=hi,AK=pi,kK="[object Number]";function CK(t){return typeof t=="number"||AK(t)&&TK(t)==kK}var p5=CK;const jK=st(p5);var IK=p5;function PK(t){return IK(t)&&t!=+t}var RK=PK;const Pc=st(RK);var Dn=function(e){return e===0?0:e>0?1:-1},Fa=function(e){return fo(e)&&e.indexOf("%")===e.length-1},ie=function(e){return jK(e)&&!Pc(e)},MK=function(e){return Re(e)},Jt=function(e){return ie(e)||fo(e)},OK=0,Rc=function(e){var n=++OK;return"".concat(e||"").concat(n)},Ln=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!fo(e))return r;var i;if(Fa(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Pc(i)&&(i=r),s&&i>n&&(i=n),i},Oi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},DK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},Wn=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function hm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var LK=function(e,n){return ie(e)&&ie(n)?e-n:fo(e)&&fo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Nl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function ub(t){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}var $K=["viewBox","children"],VK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YA=["points","pathLength"],cy={svg:$K,polygon:YA,polyline:YA},lN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!kc(r))return null;var s={};return Object.keys(r).forEach(function(i){lN.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},FK=function(e,n,r){return function(s){return e(n,r,s),null}},ho=function(e,n,r){if(!kc(e)||ub(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];lN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=FK(o,n,r))}),s},UK=["children"],BK=["children"];function XA(t,e){if(t==null)return{};var n=qK(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function db(t){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}var QA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ZA=null,uy=null,cN=function t(e){if(e===ZA&&Array.isArray(uy))return uy;var n=[];return D.Children.forEach(e,function(r){Re(r)||(EK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),uy=n,ZA=e,n};function kr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return Hs(s)}):r=[Hs(e)],cN(t).forEach(function(s){var i=fr(s,"type.displayName")||fr(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function or(t,e){var n=kr(t,e);return n&&n[0]}var e2=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!ie(r)||r<=0||!ie(s)||s<=0)},zK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GK=function(e){return e&&e.type&&fo(e.type)&&zK.indexOf(e.type)>=0},HK=function(e){return e&&db(e)==="object"&&"clipDot"in e},WK=function(e,n,r,s){var i,o=(i=cy==null?void 0:cy[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Te(e)&&(s&&o.includes(n)||VK.includes(n))||r&&lN.includes(n)},Se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(D.isValidElement(e)&&(s=e.props),!kc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;WK((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},fb=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return t2(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=e[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!t2(i,o))return!1}return!0},t2=function(e,n){if(Re(e)&&Re(n))return!0;if(!Re(e)&&!Re(n)){var r=e.props||{},s=r.children,i=XA(r,UK),o=n.props||{},l=o.children,c=XA(o,BK);return s&&l?Nl(i,c)&&fb(s,l):!s&&!l?Nl(i,c):!1}return!1},n2=function(e,n){var r=[],s={};return cN(e).forEach(function(i,o){if(GK(i))r.push(i);else if(i){var l=Hs(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);r.push(f),s[l]=!0}}}),r},KK=function(e){var n=e&&e.type;return n&&QA[n]?QA[n]:null},JK=function(e,n){return cN(n).indexOf(e)},YK=["children","width","height","viewBox","className","style","title","desc"];function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function XK(t,e){if(t==null)return{};var n=QK(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pb(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=XK(t,YK),d=s||{width:n,height:r,x:0,y:0},f=De("recharts-surface",i);return q.createElement("svg",hb({},Se(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),e)}var ZK=["children","className"];function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function eJ(t,e){if(t==null)return{};var n=tJ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var He=q.forwardRef(function(t,e){var n=t.children,r=t.className,s=eJ(t,ZK),i=De("recharts-layer",r);return q.createElement("g",mb({className:i},Se(s,!0),{ref:e}),n)}),Xr=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function nJ(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}var rJ=nJ,sJ=rJ;function iJ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:sJ(t,e,n)}var aJ=iJ,oJ="\\ud800-\\udfff",lJ="\\u0300-\\u036f",cJ="\\ufe20-\\ufe2f",uJ="\\u20d0-\\u20ff",dJ=lJ+cJ+uJ,fJ="\\ufe0e\\ufe0f",hJ="\\u200d",pJ=RegExp("["+hJ+oJ+dJ+fJ+"]");function mJ(t){return pJ.test(t)}var m5=mJ;function gJ(t){return t.split("")}var xJ=gJ,g5="\\ud800-\\udfff",yJ="\\u0300-\\u036f",vJ="\\ufe20-\\ufe2f",bJ="\\u20d0-\\u20ff",wJ=yJ+vJ+bJ,_J="\\ufe0e\\ufe0f",NJ="["+g5+"]",gb="["+wJ+"]",xb="\\ud83c[\\udffb-\\udfff]",SJ="(?:"+gb+"|"+xb+")",x5="[^"+g5+"]",y5="(?:\\ud83c[\\udde6-\\uddff]){2}",v5="[\\ud800-\\udbff][\\udc00-\\udfff]",EJ="\\u200d",b5=SJ+"?",w5="["+_J+"]?",TJ="(?:"+EJ+"(?:"+[x5,y5,v5].join("|")+")"+w5+b5+")*",AJ=w5+b5+TJ,kJ="(?:"+[x5+gb+"?",gb,y5,v5,NJ].join("|")+")",CJ=RegExp(xb+"(?="+xb+")|"+kJ+AJ,"g");function jJ(t){return t.match(CJ)||[]}var IJ=jJ,PJ=xJ,RJ=m5,MJ=IJ;function OJ(t){return RJ(t)?MJ(t):PJ(t)}var DJ=OJ,LJ=aJ,$J=m5,VJ=DJ,FJ=c5;function UJ(t){return function(e){e=FJ(e);var n=$J(e)?VJ(e):void 0,r=n?n[0]:e.charAt(0),s=n?LJ(n,1).join(""):e.slice(1);return r[t]()+s}}var BJ=UJ,qJ=BJ,zJ=qJ("toUpperCase"),GJ=zJ;const _0=st(GJ);function ht(t){return function(){return t}}const _5=Math.cos,mm=Math.sin,is=Math.sqrt,gm=Math.PI,N0=2*gm,yb=Math.PI,vb=2*yb,Ia=1e-6,HJ=vb-Ia;function N5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function WJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N5;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class KJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N5:WJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,o){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-e,u=s-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ia)if(!(Math.abs(f*c-u*d)>Ia)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,v=s-l,b=c*c+u*u,y=x*x+v*v,w=Math.sqrt(b),_=Math.sqrt(h),S=i*Math.tan((yb-Math.acos((b+h-y)/(2*w*_)))/2),k=S/_,A=S/w;Math.abs(k-1)>Ia&&this._append`L${e+k*d},${n+k*f}`,this._append`A${i},${i},0,0,${+(f*x>d*v)},${this._x1=e+A*c},${this._y1=n+A*u}`}}arc(e,n,r,s,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ia||Math.abs(this._y1-d)>Ia)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%vb+vb),h>HJ?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ia&&this._append`A${r},${r},0,${+(h>=yb)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function uN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KJ(e)}function dN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S5(t){this._context=t}S5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function S0(t){return new S5(t)}function E5(t){return t[0]}function T5(t){return t[1]}function A5(t,e){var n=ht(!0),r=null,s=S0,i=null,o=uN(l);t=typeof t=="function"?t:t===void 0?E5:ht(t),e=typeof e=="function"?e:e===void 0?T5:ht(e);function l(c){var u,d=(c=dN(c)).length,f,h=!1,x;for(r==null&&(i=s(x=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,c),+e(f,u,c));if(x)return i=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ht(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ht(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ht(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function Th(t,e,n){var r=null,s=ht(!0),i=null,o=S0,l=null,c=uN(u);t=typeof t=="function"?t:t===void 0?E5:ht(+t),e=typeof e=="function"?e:ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?T5:ht(+n);function u(f){var h,x,v,b=(f=dN(f)).length,y,w=!1,_,S=new Array(b),k=new Array(b);for(i==null&&(l=o(_=c())),h=0;h<=b;++h){if(!(h<b&&s(y=f[h],h,f))===w)if(w=!w)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=x;--v)l.point(S[v],k[v]);l.lineEnd(),l.areaEnd()}w&&(S[h]=+t(y,h,f),k[h]=+e(y,h,f),l.point(r?+r(y,h,f):S[h],n?+n(y,h,f):k[h]))}if(_)return l=null,_+""||null}function d(){return A5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ht(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ht(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ht(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ht(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ht(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ht(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:ht(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class k5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function JJ(t){return new k5(t,!0)}function YJ(t){return new k5(t,!1)}const fN={draw(t,e){const n=is(e/gm);t.moveTo(n,0),t.arc(0,0,n,0,N0)}},XJ={draw(t,e){const n=is(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},C5=is(1/3),QJ=C5*2,ZJ={draw(t,e){const n=is(e/QJ),r=n*C5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eY={draw(t,e){const n=is(e),r=-n/2;t.rect(r,r,n,n)}},tY=.8908130915292852,j5=mm(gm/10)/mm(7*gm/10),nY=mm(N0/10)*j5,rY=-_5(N0/10)*j5,sY={draw(t,e){const n=is(e*tY),r=nY*n,s=rY*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const o=N0*i/5,l=_5(o),c=mm(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},dy=is(3),iY={draw(t,e){const n=-is(e/(dy*3));t.moveTo(0,n*2),t.lineTo(-dy*n,-n),t.lineTo(dy*n,-n),t.closePath()}},yr=-.5,vr=is(3)/2,bb=1/is(12),aY=(bb/2+1)*3,oY={draw(t,e){const n=is(e/aY),r=n/2,s=n*bb,i=r,o=n*bb+n,l=-i,c=o;t.moveTo(r,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(yr*r-vr*s,vr*r+yr*s),t.lineTo(yr*i-vr*o,vr*i+yr*o),t.lineTo(yr*l-vr*c,vr*l+yr*c),t.lineTo(yr*r+vr*s,yr*s-vr*r),t.lineTo(yr*i+vr*o,yr*o-vr*i),t.lineTo(yr*l+vr*c,yr*c-vr*l),t.closePath()}};function lY(t,e){let n=null,r=uN(s);t=typeof t=="function"?t:ht(t||fN),e=typeof e=="function"?e:ht(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:ht(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:ht(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function xm(){}function ym(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function I5(t){this._context=t}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ym(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cY(t){return new I5(t)}function P5(t){this._context=t}P5.prototype={areaStart:xm,areaEnd:xm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uY(t){return new P5(t)}function R5(t){this._context=t}R5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dY(t){return new R5(t)}function M5(t){this._context=t}M5.prototype={areaStart:xm,areaEnd:xm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fY(t){return new M5(t)}function r2(t){return t<0?-1:1}function s2(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),o=(n-t._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(r2(i)+r2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function i2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function fy(t,e,n){var r=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,s+l*e,i-l,o-l*n,i,o)}function vm(t){this._context=t}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fy(this,this._t0,i2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fy(this,i2(this,n=s2(this,t,e)),n);break;default:fy(this,this._t0,n=s2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O5(t){this._context=new D5(t)}(O5.prototype=Object.create(vm.prototype)).point=function(t,e){vm.prototype.point.call(this,e,t)};function D5(t){this._context=t}D5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function hY(t){return new vm(t)}function pY(t){return new O5(t)}function L5(t){this._context=t}L5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=a2(t),s=a2(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function a2(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(s[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function mY(t){return new L5(t)}function E0(t,e){this._context=t,this._t=e}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gY(t){return new E0(t,.5)}function xY(t){return new E0(t,0)}function yY(t){return new E0(t,1)}function Wl(t,e){if((o=t.length)>1)for(var n=1,r,s,i=t[e[0]],o,l=i.length;n<o;++n)for(s=i,i=t[e[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function wb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vY(t,e){return t[e]}function bY(t){const e=[];return e.key=t,e}function wY(){var t=ht([]),e=wb,n=Wl,r=vY;function s(i){var o=Array.from(t.apply(this,arguments),bY),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=dN(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ht(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:ht(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?wb:typeof i=="function"?i:ht(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??Wl,s):n},s}function _Y(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<r;++n)t[n][s][1]/=o}Wl(t,e)}}function NY(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Wl(t,e)}}function SY(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,x=(f-h)/2,v=0;v<l;++v){var b=t[e[v]],y=b[r][1]||0,w=b[r-1][1]||0;x+=y-w}c+=f,u+=x*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Wl(t,e)}}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var EY=["type","size","sizeType"];function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function l2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){TY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TY(t,e,n){return e=AY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AY(t){var e=kY(t,"string");return Rd(e)=="symbol"?e:e+""}function kY(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CY(t,e){if(t==null)return{};var n=jY(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $5={symbolCircle:fN,symbolCross:XJ,symbolDiamond:ZJ,symbolSquare:eY,symbolStar:sY,symbolTriangle:iY,symbolWye:oY},IY=Math.PI/180,PY=function(e){var n="symbol".concat(_0(e));return $5[n]||fN},RY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*IY;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MY=function(e,n){$5["symbol".concat(_0(e))]=n},hN=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=CY(e,EY),u=l2(l2({},c),{},{type:r,size:i,sizeType:l}),d=function(){var y=PY(r),w=lY().type(y).size(RY(i,l,r));return w()},f=u.className,h=u.cx,x=u.cy,v=Se(u,!0);return h===+h&&x===+x&&i===+i?q.createElement("path",_b({},v,{className:De("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(x,")"),d:d()})):null};hN.registerSymbol=MY;function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(this,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function OY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Md(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F5(r.key),r)}}function $Y(t,e,n){return e&&LY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VY(t,e,n){return e=bm(e),FY(t,V5()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function FY(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UY(t)}function UY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V5=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function BY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Sb(t,e)}function Md(t,e,n){return e=F5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F5(t){var e=qY(t,"string");return Kl(e)=="symbol"?e:e+""}function qY(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var br=32,pN=function(t){function e(){return DY(this,e),VY(this,e,arguments)}return BY(e,t),$Y(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=br/2,o=br/6,l=br/3,c=r.inactive?s:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:br,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(br,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(br/8,"h").concat(br,"v").concat(br*3/4,"h").concat(-br,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=OY({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(hN,{fill:c,cx:i,cy:i,size:br,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:br,height:br},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,v){var b=x.formatter||c,y=De(Md(Md({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",x.inactive));if(x.type==="none")return null;var w=Te(x.value)?null:x.value;Xr(!Te(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=x.inactive?u:x.color;return q.createElement("li",Nb({className:y,style:f,key:"legend-item-".concat(v)},ho(r.props,x,v)),q.createElement(pb,{width:o,height:o,viewBox:d,style:h},r.renderIcon(x)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(w,x,v):w))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);Md(pN,"displayName","Legend");Md(pN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zY=c0;function GY(){this.__data__=new zY,this.size=0}var HY=GY;function WY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var KY=WY;function JY(t){return this.__data__.get(t)}var YY=JY;function XY(t){return this.__data__.has(t)}var QY=XY,ZY=c0,eX=tN,tX=nN,nX=200;function rX(t,e){var n=this.__data__;if(n instanceof ZY){var r=n.__data__;if(!eX||r.length<nX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tX(r)}return n.set(t,e),this.size=n.size,this}var sX=rX,iX=c0,aX=HY,oX=KY,lX=YY,cX=QY,uX=sX;function Mc(t){var e=this.__data__=new iX(t);this.size=e.size}Mc.prototype.clear=aX;Mc.prototype.delete=oX;Mc.prototype.get=lX;Mc.prototype.has=cX;Mc.prototype.set=uX;var U5=Mc,dX="__lodash_hash_undefined__";function fX(t){return this.__data__.set(t,dX),this}var hX=fX;function pX(t){return this.__data__.has(t)}var mX=pX,gX=nN,xX=hX,yX=mX;function wm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gX;++e<n;)this.add(t[e])}wm.prototype.add=wm.prototype.push=xX;wm.prototype.has=yX;var B5=wm;function vX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var q5=vX;function bX(t,e){return t.has(e)}var z5=bX,wX=B5,_X=q5,NX=z5,SX=1,EX=2;function TX(t,e,n,r,s,i){var o=n&SX,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,x=n&EX?new wX:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var v=t[f],b=e[f];if(r)var y=o?r(b,v,f,e,t,i):r(v,b,f,t,e,i);if(y!==void 0){if(y)continue;h=!1;break}if(x){if(!_X(e,function(w,_){if(!NX(x,_)&&(v===w||s(v,w,n,r,i)))return x.push(_)})){h=!1;break}}else if(!(v===b||s(v,b,n,r,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var G5=TX,AX=ks,kX=AX.Uint8Array,CX=kX;function jX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var IX=jX;function PX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var mN=PX,u2=Of,d2=CX,RX=eN,MX=G5,OX=IX,DX=mN,LX=1,$X=2,VX="[object Boolean]",FX="[object Date]",UX="[object Error]",BX="[object Map]",qX="[object Number]",zX="[object RegExp]",GX="[object Set]",HX="[object String]",WX="[object Symbol]",KX="[object ArrayBuffer]",JX="[object DataView]",f2=u2?u2.prototype:void 0,hy=f2?f2.valueOf:void 0;function YX(t,e,n,r,s,i,o){switch(n){case JX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KX:return!(t.byteLength!=e.byteLength||!i(new d2(t),new d2(e)));case VX:case FX:case qX:return RX(+t,+e);case UX:return t.name==e.name&&t.message==e.message;case zX:case HX:return t==e+"";case BX:var l=OX;case GX:var c=r&LX;if(l||(l=DX),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=$X,o.set(t,e);var d=MX(l(t),l(e),r,s,i,o);return o.delete(t),d;case WX:if(hy)return hy.call(t)==hy.call(e)}return!1}var XX=YX;function QX(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var H5=QX,ZX=H5,eQ=nr;function tQ(t,e,n){var r=e(t);return eQ(t)?r:ZX(r,n(t))}var nQ=tQ;function rQ(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var sQ=rQ;function iQ(){return[]}var aQ=iQ,oQ=sQ,lQ=aQ,cQ=Object.prototype,uQ=cQ.propertyIsEnumerable,h2=Object.getOwnPropertySymbols,dQ=h2?function(t){return t==null?[]:(t=Object(t),oQ(h2(t),function(e){return uQ.call(t,e)}))}:lQ,fQ=dQ;function hQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pQ=hQ,mQ=hi,gQ=pi,xQ="[object Arguments]";function yQ(t){return gQ(t)&&mQ(t)==xQ}var vQ=yQ,p2=vQ,bQ=pi,W5=Object.prototype,wQ=W5.hasOwnProperty,_Q=W5.propertyIsEnumerable,NQ=p2(function(){return arguments}())?p2:function(t){return bQ(t)&&wQ.call(t,"callee")&&!_Q.call(t,"callee")},gN=NQ,_m={exports:{}};function SQ(){return!1}var EQ=SQ;_m.exports;(function(t,e){var n=ks,r=EQ,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(_m,_m.exports);var K5=_m.exports,TQ=9007199254740991,AQ=/^(?:0|[1-9]\d*)$/;function kQ(t,e){var n=typeof t;return e=e??TQ,!!e&&(n=="number"||n!="symbol"&&AQ.test(t))&&t>-1&&t%1==0&&t<e}var xN=kQ,CQ=9007199254740991;function jQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=CQ}var yN=jQ,IQ=hi,PQ=yN,RQ=pi,MQ="[object Arguments]",OQ="[object Array]",DQ="[object Boolean]",LQ="[object Date]",$Q="[object Error]",VQ="[object Function]",FQ="[object Map]",UQ="[object Number]",BQ="[object Object]",qQ="[object RegExp]",zQ="[object Set]",GQ="[object String]",HQ="[object WeakMap]",WQ="[object ArrayBuffer]",KQ="[object DataView]",JQ="[object Float32Array]",YQ="[object Float64Array]",XQ="[object Int8Array]",QQ="[object Int16Array]",ZQ="[object Int32Array]",eZ="[object Uint8Array]",tZ="[object Uint8ClampedArray]",nZ="[object Uint16Array]",rZ="[object Uint32Array]",bt={};bt[JQ]=bt[YQ]=bt[XQ]=bt[QQ]=bt[ZQ]=bt[eZ]=bt[tZ]=bt[nZ]=bt[rZ]=!0;bt[MQ]=bt[OQ]=bt[WQ]=bt[DQ]=bt[KQ]=bt[LQ]=bt[$Q]=bt[VQ]=bt[FQ]=bt[UQ]=bt[BQ]=bt[qQ]=bt[zQ]=bt[GQ]=bt[HQ]=!1;function sZ(t){return RQ(t)&&PQ(t.length)&&!!bt[IQ(t)]}var iZ=sZ;function aZ(t){return function(e){return t(e)}}var J5=aZ,Nm={exports:{}};Nm.exports;(function(t,e){var n=r5,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Nm,Nm.exports);var oZ=Nm.exports,lZ=iZ,cZ=J5,m2=oZ,g2=m2&&m2.isTypedArray,uZ=g2?cZ(g2):lZ,Y5=uZ,dZ=pQ,fZ=gN,hZ=nr,pZ=K5,mZ=xN,gZ=Y5,xZ=Object.prototype,yZ=xZ.hasOwnProperty;function vZ(t,e){var n=hZ(t),r=!n&&fZ(t),s=!n&&!r&&pZ(t),i=!n&&!r&&!s&&gZ(t),o=n||r||s||i,l=o?dZ(t.length,String):[],c=l.length;for(var u in t)(e||yZ.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mZ(u,c)))&&l.push(u);return l}var bZ=vZ,wZ=Object.prototype;function _Z(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wZ;return t===n}var NZ=_Z;function SZ(t,e){return function(n){return t(e(n))}}var X5=SZ,EZ=X5,TZ=EZ(Object.keys,Object),AZ=TZ,kZ=NZ,CZ=AZ,jZ=Object.prototype,IZ=jZ.hasOwnProperty;function PZ(t){if(!kZ(t))return CZ(t);var e=[];for(var n in Object(t))IZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var RZ=PZ,MZ=Z_,OZ=yN;function DZ(t){return t!=null&&OZ(t.length)&&!MZ(t)}var Df=DZ,LZ=bZ,$Z=RZ,VZ=Df;function FZ(t){return VZ(t)?LZ(t):$Z(t)}var T0=FZ,UZ=nQ,BZ=fQ,qZ=T0;function zZ(t){return UZ(t,qZ,BZ)}var GZ=zZ,x2=GZ,HZ=1,WZ=Object.prototype,KZ=WZ.hasOwnProperty;function JZ(t,e,n,r,s,i){var o=n&HZ,l=x2(t),c=l.length,u=x2(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:KZ.call(e,h)))return!1}var x=i.get(t),v=i.get(e);if(x&&v)return x==e&&v==t;var b=!0;i.set(t,e),i.set(e,t);for(var y=o;++f<c;){h=l[f];var w=t[h],_=e[h];if(r)var S=o?r(_,w,h,e,t,i):r(w,_,h,t,e,i);if(!(S===void 0?w===_||s(w,_,n,r,i):S)){b=!1;break}y||(y=h=="constructor")}if(b&&!y){var k=t.constructor,A=e.constructor;k!=A&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof A=="function"&&A instanceof A)&&(b=!1)}return i.delete(t),i.delete(e),b}var YZ=JZ,XZ=No,QZ=ks,ZZ=XZ(QZ,"DataView"),eee=ZZ,tee=No,nee=ks,ree=tee(nee,"Promise"),see=ree,iee=No,aee=ks,oee=iee(aee,"Set"),Q5=oee,lee=No,cee=ks,uee=lee(cee,"WeakMap"),dee=uee,Eb=eee,Tb=tN,Ab=see,kb=Q5,Cb=dee,Z5=hi,Oc=i5,y2="[object Map]",fee="[object Object]",v2="[object Promise]",b2="[object Set]",w2="[object WeakMap]",_2="[object DataView]",hee=Oc(Eb),pee=Oc(Tb),mee=Oc(Ab),gee=Oc(kb),xee=Oc(Cb),Pa=Z5;(Eb&&Pa(new Eb(new ArrayBuffer(1)))!=_2||Tb&&Pa(new Tb)!=y2||Ab&&Pa(Ab.resolve())!=v2||kb&&Pa(new kb)!=b2||Cb&&Pa(new Cb)!=w2)&&(Pa=function(t){var e=Z5(t),n=e==fee?t.constructor:void 0,r=n?Oc(n):"";if(r)switch(r){case hee:return _2;case pee:return y2;case mee:return v2;case gee:return b2;case xee:return w2}return e});var yee=Pa,py=U5,vee=G5,bee=XX,wee=YZ,N2=yee,S2=nr,E2=K5,_ee=Y5,Nee=1,T2="[object Arguments]",A2="[object Array]",Ah="[object Object]",See=Object.prototype,k2=See.hasOwnProperty;function Eee(t,e,n,r,s,i){var o=S2(t),l=S2(e),c=o?A2:N2(t),u=l?A2:N2(e);c=c==T2?Ah:c,u=u==T2?Ah:u;var d=c==Ah,f=u==Ah,h=c==u;if(h&&E2(t)){if(!E2(e))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new py),o||_ee(t)?vee(t,e,n,r,s,i):bee(t,e,c,n,r,s,i);if(!(n&Nee)){var x=d&&k2.call(t,"__wrapped__"),v=f&&k2.call(e,"__wrapped__");if(x||v){var b=x?t.value():t,y=v?e.value():e;return i||(i=new py),s(b,y,n,r,i)}}return h?(i||(i=new py),wee(t,e,n,r,s,i)):!1}var Tee=Eee,Aee=Tee,C2=pi;function eD(t,e,n,r,s){return t===e?!0:t==null||e==null||!C2(t)&&!C2(e)?t!==t&&e!==e:Aee(t,e,n,r,eD,s)}var vN=eD,kee=U5,Cee=vN,jee=1,Iee=2;function Pee(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=n[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new kee;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?Cee(d,u,jee|Iee,r,f):h))return!1}}return!0}var Ree=Pee,Mee=ga;function Oee(t){return t===t&&!Mee(t)}var tD=Oee,Dee=tD,Lee=T0;function $ee(t){for(var e=Lee(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Dee(s)]}return e}var Vee=$ee;function Fee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nD=Fee,Uee=Ree,Bee=Vee,qee=nD;function zee(t){var e=Bee(t);return e.length==1&&e[0][2]?qee(e[0][0],e[0][1]):function(n){return n===t||Uee(n,t,e)}}var Gee=zee;function Hee(t,e){return t!=null&&e in Object(t)}var Wee=Hee,Kee=u5,Jee=gN,Yee=nr,Xee=xN,Qee=yN,Zee=d0;function ete(t,e,n){e=Kee(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=Zee(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&Qee(s)&&Xee(o,s)&&(Yee(t)||Jee(t)))}var tte=ete,nte=Wee,rte=tte;function ste(t,e){return t!=null&&rte(t,e,nte)}var ite=ste,ate=vN,ote=d5,lte=ite,cte=Q_,ute=tD,dte=nD,fte=d0,hte=1,pte=2;function mte(t,e){return cte(t)&&ute(e)?dte(fte(t),e):function(n){var r=ote(n,t);return r===void 0&&r===e?lte(n,t):ate(e,r,hte|pte)}}var gte=mte;function xte(t){return t}var Dc=xte;function yte(t){return function(e){return e==null?void 0:e[t]}}var vte=yte,bte=iN;function wte(t){return function(e){return bte(e,t)}}var _te=wte,Nte=vte,Ste=_te,Ete=Q_,Tte=d0;function Ate(t){return Ete(t)?Nte(Tte(t)):Ste(t)}var kte=Ate,Cte=Gee,jte=gte,Ite=Dc,Pte=nr,Rte=kte;function Mte(t){return typeof t=="function"?t:t==null?Ite:typeof t=="object"?Pte(t)?jte(t[0],t[1]):Cte(t):Rte(t)}var Cs=Mte;function Ote(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var rD=Ote;function Dte(t){return t!==t}var Lte=Dte;function $te(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var Vte=$te,Fte=rD,Ute=Lte,Bte=Vte;function qte(t,e,n){return e===e?Bte(t,e,n):Fte(t,Ute,n)}var zte=qte,Gte=zte;function Hte(t,e){var n=t==null?0:t.length;return!!n&&Gte(t,e,0)>-1}var Wte=Hte;function Kte(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var Jte=Kte;function Yte(){}var Xte=Yte,my=Q5,Qte=Xte,Zte=mN,ene=1/0,tne=my&&1/Zte(new my([,-0]))[1]==ene?function(t){return new my(t)}:Qte,nne=tne,rne=B5,sne=Wte,ine=Jte,ane=z5,one=nne,lne=mN,cne=200;function une(t,e,n){var r=-1,s=sne,i=t.length,o=!0,l=[],c=l;if(n)o=!1,s=ine;else if(i>=cne){var u=e?null:one(t);if(u)return lne(u);o=!1,s=ane,c=new rne}else c=e?[]:l;e:for(;++r<i;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var dne=une,fne=Cs,hne=dne;function pne(t,e){return t&&t.length?hne(t,fne(e)):[]}var mne=pne;const j2=st(mne);function sD(t,e,n){return e===!0?j2(t,n):Te(e)?j2(t,e):t}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var gne=["ref"];function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){A0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aD(r.key),r)}}function yne(t,e,n){return e&&P2(t.prototype,e),n&&P2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vne(t,e,n){return e=Sm(e),bne(t,iD()?Reflect.construct(e,n||[],Sm(t).constructor):e.apply(t,n))}function bne(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},jb(t,e)}function A0(t,e,n){return e=aD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aD(t){var e=Nne(t,"string");return Jl(e)=="symbol"?e:e+""}function Nne(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sne(t,e){if(t==null)return{};var n=Ene(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ene(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tne(t){return t.value}function Ane(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=Sne(e,gne);return q.createElement(pN,n)}var R2=1,Ya=function(t){function e(){var n;xne(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=vne(this,e,[].concat(s)),A0(n,"lastBoundingBox",{width:-1,height:-1}),n}return _ne(e,t),yne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>R2||Math.abs(s.height-this.lastBoundingBox.height)>R2)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Rs(Rs({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Rs(Rs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},Ane(i,Rs(Rs({},this.props),{},{payload:sD(d,u,Tne)})))}}],[{key:"getWithHeight",value:function(r,s){var i=Rs(Rs({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&ie(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(D.PureComponent);A0(Ya,"displayName","Legend");A0(Ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var M2=Of,kne=gN,Cne=nr,O2=M2?M2.isConcatSpreadable:void 0;function jne(t){return Cne(t)||kne(t)||!!(O2&&t&&t[O2])}var Ine=jne,Pne=H5,Rne=Ine;function oD(t,e,n,r,s){var i=-1,o=t.length;for(n||(n=Rne),s||(s=[]);++i<o;){var l=t[i];e>0&&n(l)?e>1?oD(l,e-1,n,r,s):Pne(s,l):r||(s[s.length]=l)}return s}var lD=oD;function Mne(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++s];if(n(i[c],c,i)===!1)break}return e}}var One=Mne,Dne=One,Lne=Dne(),$ne=Lne,Vne=$ne,Fne=T0;function Une(t,e){return t&&Vne(t,e,Fne)}var cD=Une,Bne=Df;function qne(t,e){return function(n,r){if(n==null)return n;if(!Bne(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var zne=qne,Gne=cD,Hne=zne,Wne=Hne(Gne),bN=Wne,Kne=bN,Jne=Df;function Yne(t,e){var n=-1,r=Jne(t)?Array(t.length):[];return Kne(t,function(s,i,o){r[++n]=e(s,i,o)}),r}var uD=Yne;function Xne(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Qne=Xne,D2=Ac;function Zne(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=D2(t),o=e!==void 0,l=e===null,c=e===e,u=D2(e);if(!l&&!u&&!i&&t>e||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&t<e||u&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var ere=Zne,tre=ere;function nre(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,o=s.length,l=n.length;++r<o;){var c=tre(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var rre=nre,gy=sN,sre=iN,ire=Cs,are=uD,ore=Qne,lre=J5,cre=rre,ure=Dc,dre=nr;function fre(t,e,n){e.length?e=gy(e,function(i){return dre(i)?function(o){return sre(o,i.length===1?i[0]:i)}:i}):e=[ure];var r=-1;e=gy(e,lre(ire));var s=are(t,function(i,o,l){var c=gy(e,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return ore(s,function(i,o){return cre(i,o,n)})}var hre=fre;function pre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mre=pre,gre=mre,L2=Math.max;function xre(t,e,n){return e=L2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=L2(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),gre(t,this,l)}}var yre=xre;function vre(t){return function(){return t}}var bre=vre,wre=No,_re=function(){try{var t=wre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dD=_re,Nre=bre,$2=dD,Sre=Dc,Ere=$2?function(t,e){return $2(t,"toString",{configurable:!0,enumerable:!1,value:Nre(e),writable:!0})}:Sre,Tre=Ere,Are=800,kre=16,Cre=Date.now;function jre(t){var e=0,n=0;return function(){var r=Cre(),s=kre-(r-n);if(n=r,s>0){if(++e>=Are)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ire=jre,Pre=Tre,Rre=Ire,Mre=Rre(Pre),Ore=Mre,Dre=Dc,Lre=yre,$re=Ore;function Vre(t,e){return $re(Lre(t,e,Dre),t+"")}var Fre=Vre,Ure=eN,Bre=Df,qre=xN,zre=ga;function Gre(t,e,n){if(!zre(n))return!1;var r=typeof e;return(r=="number"?Bre(n)&&qre(e,n.length):r=="string"&&e in n)?Ure(n[e],t):!1}var k0=Gre,Hre=lD,Wre=hre,Kre=Fre,V2=k0,Jre=Kre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&V2(t,e[0],e[1])?e=[]:n>2&&V2(e[0],e[1],e[2])&&(e=[e[0]]),Wre(t,Hre(e,1),[])}),Yre=Jre;const wN=st(Yre);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function Xre(t,e){return tse(t)||ese(t,e)||Zre(t,e)||Qre()}function Qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ese(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tse(t){if(Array.isArray(t))return t}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=sse(t,"string");return Od(e)=="symbol"?e:e+""}function sse(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ise(t){return Array.isArray(t)&&Jt(t[0])&&Jt(t[1])?t.join(" ~ "):t}var ase=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,x=e.wrapperClassName,v=e.labelClassName,b=e.label,y=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,S=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?wN(d,h):d).map(function(H,B){if(H.type==="none")return null;var $=xy({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),z=H.formatter||f||ise,V=H.value,U=H.name,F=V,G=U;if(z&&F!=null&&G!=null){var K=z(V,U,H,B,d);if(Array.isArray(K)){var Q=Xre(K,2);F=Q[0],G=Q[1]}else F=K}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},Jt(G)?q.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Jt(G)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},F),q.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},k=xy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=xy({margin:0},u),N=!Re(b),E=N?b:"",T=De("recharts-default-tooltip",x),j=De("recharts-tooltip-label",v);N&&y&&d!==void 0&&d!==null&&(E=y(b,d));var M=_?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",Ib({className:T,style:k},M),q.createElement("p",{className:j,style:A},q.isValidElement(E)?E:"".concat(E)),S())};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function kh(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return Dd(e)=="symbol"?e:e+""}function lse(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pu="recharts-tooltip-wrapper",cse={visibility:"hidden"};function use(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return De(pu,kh(kh(kh(kh({},"".concat(pu,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(pu,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(pu,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(pu,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function B2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&ie(i[r]))return i[r];var d=n[r]-l-s,f=n[r]+s;if(e[r])return o[r]?d:f;if(o[r]){var h=d,x=c[r];return h<x?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+l,b=c[r]+u;return v>b?Math.max(d,c[r]):Math.max(f,c[r])}function dse(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fse(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=B2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=B2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=dse({translateX:d,translateY:f,useTranslate3d:l})):u=cse,{cssProperties:u,cssClasses:use({translateX:d,translateY:f,coordinate:n})}}function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hD(r.key),r)}}function mse(t,e,n){return e&&pse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gse(t,e,n){return e=Em(e),xse(t,fD()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function xse(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yse(t)}function yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pb(t,e)}function Pb(t,e){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Pb(t,e)}function Rb(t,e,n){return e=hD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hD(t){var e=bse(t,"string");return Yl(e)=="symbol"?e:e+""}function bse(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G2=1,wse=function(t){function e(){var n;hse(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=gse(this,e,[].concat(s)),Rb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Rb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return vse(e,t),mse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>G2||Math.abs(r.height-this.state.lastBoundingBox.height)>G2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,x=s.offset,v=s.position,b=s.reverseDirection,y=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,S=fse({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:x,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),k=S.cssClasses,A=S.cssProperties,N=z2(z2({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return q.createElement("div",{tabIndex:-1,className:k,style:N,ref:function(T){r.wrapperNode=T}},u)}}])}(D.PureComponent),_se=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},So={isSsr:_se()};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){_N(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function Ese(t,e,n){return e&&Sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tse(t,e,n){return e=Tm(e),Ase(t,pD()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function Ase(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kse(t)}function kse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function Cse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mb(t,e)}function Mb(t,e){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Mb(t,e)}function _N(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=jse(t,"string");return Xl(e)=="symbol"?e:e+""}function jse(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ise(t){return t.dataKey}function Pse(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(ase,e)}var Gn=function(t){function e(){return Nse(this,e),Tse(this,e,arguments)}return Cse(e,t),Ese(e,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,x=s.offset,v=s.payload,b=s.payloadUniqBy,y=s.position,w=s.reverseDirection,_=s.useTranslate3d,S=s.viewBox,k=s.wrapperStyle,A=v??[];f&&A.length&&(A=sD(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,Ise));var N=A.length>0;return q.createElement(wse,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:x,position:y,reverseDirection:w,useTranslate3d:_,viewBox:S,wrapperStyle:k},Pse(u,W2(W2({},this.props),{},{payload:A})))}}])}(D.PureComponent);_N(Gn,"displayName","Tooltip");_N(Gn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!So.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Rse=ks,Mse=function(){return Rse.Date.now()},Ose=Mse,Dse=/\s/;function Lse(t){for(var e=t.length;e--&&Dse.test(t.charAt(e)););return e}var $se=Lse,Vse=$se,Fse=/^\s+/;function Use(t){return t&&t.slice(0,Vse(t)+1).replace(Fse,"")}var Bse=Use,qse=Bse,K2=ga,zse=Ac,J2=NaN,Gse=/^[-+]0x[0-9a-f]+$/i,Hse=/^0b[01]+$/i,Wse=/^0o[0-7]+$/i,Kse=parseInt;function Jse(t){if(typeof t=="number")return t;if(zse(t))return J2;if(K2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=K2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qse(t);var n=Hse.test(t);return n||Wse.test(t)?Kse(t.slice(2),n?2:8):Gse.test(t)?J2:+t}var gD=Jse,Yse=ga,yy=Ose,Y2=gD,Xse="Expected a function",Qse=Math.max,Zse=Math.min;function eie(t,e,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Xse);e=Y2(e)||0,Yse(n)&&(d=!!n.leading,f="maxWait"in n,i=f?Qse(Y2(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function x(N){var E=r,T=s;return r=s=void 0,u=N,o=t.apply(T,E),o}function v(N){return u=N,l=setTimeout(w,e),d?x(N):o}function b(N){var E=N-c,T=N-u,j=e-E;return f?Zse(j,i-T):j}function y(N){var E=N-c,T=N-u;return c===void 0||E>=e||E<0||f&&T>=i}function w(){var N=yy();if(y(N))return _(N);l=setTimeout(w,b(N))}function _(N){return l=void 0,h&&r?x(N):(r=s=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function k(){return l===void 0?o:_(yy())}function A(){var N=yy(),E=y(N);if(r=arguments,s=this,c=N,E){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(w,e),x(c)}return l===void 0&&(l=setTimeout(w,e)),o}return A.cancel=S,A.flush=k,A}var tie=eie,nie=tie,rie=ga,sie="Expected a function";function iie(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(sie);return rie(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),nie(t,e,{leading:r,maxWait:e,trailing:s})}var aie=iie;const xD=st(aie);function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e,n){return e=lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=cie(t,"string");return Ld(e)=="symbol"?e:e+""}function cie(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uie(t,e){return pie(t)||hie(t,e)||fie(t,e)||die()}function die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(t,e){if(t){if(typeof t=="string")return Q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q2(t,e)}}function Q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pie(t){if(Array.isArray(t))return t}var Qu=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,x=t.children,v=t.debounce,b=v===void 0?0:v,y=t.id,w=t.className,_=t.onResize,S=t.style,k=S===void 0?{}:S,A=D.useRef(null),N=D.useRef();N.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=D.useState({containerWidth:s.width,containerHeight:s.height}),T=uie(E,2),j=T[0],M=T[1],I=D.useCallback(function(R,H){M(function(B){var $=Math.round(R),z=Math.round(H);return B.containerWidth===$&&B.containerHeight===z?B:{containerWidth:$,containerHeight:z}})},[]);D.useEffect(function(){var R=function(U){var F,G=U[0].contentRect,K=G.width,Q=G.height;I(K,Q),(F=N.current)===null||F===void 0||F.call(N,K,Q)};b>0&&(R=xD(R,b,{trailing:!0,leading:!1}));var H=new ResizeObserver(R),B=A.current.getBoundingClientRect(),$=B.width,z=B.height;return I($,z),H.observe(A.current),function(){H.disconnect()}},[I,b]);var O=D.useMemo(function(){var R=j.containerWidth,H=j.containerHeight;if(R<0||H<0)return null;Xr(Fa(o)||Fa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Fa(o)?R:o,$=Fa(c)?H:c;n&&n>0&&(B?$=B/n:$&&(B=$*n),h&&$>h&&($=h)),Xr(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,o,c,d,f,n);var z=!Array.isArray(x)&&Hs(x.type).endsWith("Chart");return q.Children.map(x,function(V){return q.isValidElement(V)?D.cloneElement(V,Ch({width:B,height:$},z?{style:Ch({height:"100%",width:"100%",maxHeight:$,maxWidth:B},V.props.style)}:{})):V})},[n,x,c,h,f,d,j,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:De("recharts-responsive-container",w),style:Ch(Ch({},k),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:A},O)}),C0=function(e){return null};C0.displayName="Cell";function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e,n){return e=gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=xie(t,"string");return $d(e)=="symbol"?e:e+""}function xie(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Do={widthCache:{},cacheCount:0},yie=2e3,vie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ek="recharts_measurement_span";function bie(t){var e=Ob({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Zu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||So.isSsr)return{width:0,height:0};var r=bie(n),s=JSON.stringify({text:e,copyStyle:r});if(Do.widthCache[s])return Do.widthCache[s];try{var i=document.getElementById(ek);i||(i=document.createElement("span"),i.setAttribute("id",ek),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Ob(Ob({},vie),r);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Do.widthCache[s]=c,++Do.cacheCount>yie&&(Do.cacheCount=0,Do.widthCache={}),c}catch{return{width:0,height:0}}},wie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Am(t,e){return Eie(t)||Sie(t,e)||Nie(t,e)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nie(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eie(t){if(Array.isArray(t))return t}function Tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kie(r.key),r)}}function Aie(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kie(t){var e=Cie(t,"string");return Vd(e)=="symbol"?e:e+""}function Cie(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Iie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pie=Object.keys(yD),sl="NaN";function Rie(t,e){return t*yD[e]}var jh=function(){function t(e,n){Tie(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jie.test(n)&&(this.num=NaN,this.unit=""),Pie.includes(n)&&(this.num=Rie(e,n),this.unit="px")}return Aie(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=Iie.exec(n))!==null&&r!==void 0?r:[],i=Am(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function vD(t){if(t.includes(sl))return sl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=rk.exec(e))!==null&&n!==void 0?n:[],s=Am(r,4),i=s[1],o=s[2],l=s[3],c=jh.parse(i??""),u=jh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return sl;e=e.replace(rk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=sk.exec(e))!==null&&f!==void 0?f:[],x=Am(h,4),v=x[1],b=x[2],y=x[3],w=jh.parse(v??""),_=jh.parse(y??""),S=b==="+"?w.add(_):w.subtract(_);if(S.isNaN())return sl;e=e.replace(sk,S.toString())}return e}var ik=/\(([^()]*)\)/;function Mie(t){for(var e=t;e.includes("(");){var n=ik.exec(e),r=Am(n,2),s=r[1];e=e.replace(ik,vD(s))}return e}function Oie(t){var e=t.replace(/\s+/g,"");return e=Mie(e),e=vD(e),e}function Die(t){try{return Oie(t)}catch{return sl}}function vy(t){var e=Die(t.slice(5,-1));return e===sl?"":e}var Lie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$ie=["dx","dy","angle","className","breakAll"];function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}function ak(t,e){if(t==null)return{};var n=Vie(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ok(t,e){return qie(t)||Bie(t,e)||Uie(t,e)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uie(t,e){if(t){if(typeof t=="string")return lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qie(t){if(Array.isArray(t))return t}var bD=/[ \f\n\r\t\v\u2028\u2029]+/,wD=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var i=[];Re(n)||(r?i=n.toString().split(""):i=n.toString().split(bD));var o=i.map(function(c){return{word:c,width:Zu(c,s).width}}),l=r?0:Zu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},zie=function(e,n,r,s,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ie(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function($,z){var V=z.word,U=z.width,F=$[$.length-1];if(F&&(s==null||i||F.width+U+r<Number(s)))F.words.push(V),F.width+=U+r;else{var G={words:[V],width:U};$.push(G)}return $},[])},x=h(n),v=function(B){return B.reduce(function($,z){return $.width>z.width?$:z})};if(!d)return x;for(var b="",y=function(B){var $=f.slice(0,B),z=wD({breakAll:u,style:c,children:$+b}).wordsWithComputedWidth,V=h(z),U=V.length>o||v(V).width>Number(s);return[U,V]},w=0,_=f.length-1,S=0,k;w<=_&&S<=f.length-1;){var A=Math.floor((w+_)/2),N=A-1,E=y(N),T=ok(E,2),j=T[0],M=T[1],I=y(A),O=ok(I,1),R=O[0];if(!j&&!R&&(w=A+1),j&&R&&(_=A-1),!j&&R){k=M;break}S++}return k||x},ck=function(e){var n=Re(e)?[]:e.toString().split(bD);return[{words:n}]},Gie=function(e){var n=e.width,r=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!So.isSsr){var c,u,d=wD({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return ck(s);return zie({breakAll:o,children:s,maxLines:l,style:i},c,u,n,r)}return ck(s)},uk="#808080",po=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,x=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,y=e.fill,w=y===void 0?uk:y,_=ak(e,Lie),S=D.useMemo(function(){return Gie({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),k=_.dx,A=_.dy,N=_.angle,E=_.className,T=_.breakAll,j=ak(_,$ie);if(!Jt(r)||!Jt(i))return null;var M=r+(ie(k)?k:0),I=i+(ie(A)?A:0),O;switch(b){case"start":O=vy("calc(".concat(u,")"));break;case"middle":O=vy("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=vy("calc(".concat(S.length-1," * -").concat(l,")"));break}var R=[];if(f){var H=S[0].width,B=_.width;R.push("scale(".concat((ie(B)?B/H:1)/H,")"))}return N&&R.push("rotate(".concat(N,", ").concat(M,", ").concat(I,")")),R.length&&(j.transform=R.join(" ")),q.createElement("text",Db({},Se(j,!0),{x:M,y:I,className:De("recharts-text",E),textAnchor:x,fill:w.includes("url")?uk:w}),S.map(function($,z){var V=$.words.join(T?"":" ");return q.createElement("tspan",{x:M,dy:z===0?O:l,key:"".concat(V,"-").concat(z)},V)}))};function ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NN(t){let e,n,r;t.length!==2?(e=ra,n=(l,c)=>ra(t(l),c),r=(l,c)=>t(l)-c):(e=t===ra||t===Hie?t:Wie,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Wie(){return 0}function _D(t){return t===null?NaN:+t}function*Kie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Jie=NN(ra),Lf=Jie.right;NN(_D).center;class dk extends Map{constructor(e,n=Qie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(fk(this,e))}has(e){return super.has(fk(this,e))}set(e,n){return super.set(Yie(this,e),n)}delete(e){return super.delete(Xie(this,e))}}function fk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Yie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zie(t=ra){if(t===ra)return ND;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ND(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eae=Math.sqrt(50),tae=Math.sqrt(10),nae=Math.sqrt(2);function km(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=eae?10:i>=tae?5:i>=nae?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?km(t,e,n*2):[l,c,u]}function Lb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,o]=r?km(e,t,n):km(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function $b(t,e,n){return e=+e,t=+t,n=+n,km(t,e,n)[2]}function Vb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?$b(e,t,n):$b(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function hk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SD(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?ND:Zie(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));SD(t,e,x,v,s)}const i=t[e];let o=n,l=r;for(mu(t,n,e),s(t[r],i)>0&&mu(t,n,r);o<l;){for(mu(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?mu(t,n,l):(++l,mu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function mu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rae(t,e,n){if(t=Float64Array.from(Kie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pk(t);if(e>=1)return hk(t);var r,s=(r-1)*e,i=Math.floor(s),o=hk(SD(t,i).subarray(0,i+1)),l=pk(t.subarray(i+1));return o+(l-o)*(s-i)}}function sae(t,e,n=_D){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function iae(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Fb=Symbol("implicit");function SN(){var t=new dk,e=[],n=[],r=Fb;function s(i){let o=t.get(i);if(o===void 0){if(r!==Fb)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new dk;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return SN(e,n).unknown(r)},Lr.apply(s,arguments),s}function Fd(){var t=SN().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,x=s<r,v=x?s:r,b=x?r:s;i=(b-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(b-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=iae(h).map(function(w){return v+i*w});return n(x?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Fd(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Lr.apply(f(),arguments)}function ED(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ED(e())},t}function ed(){return ED(Fd.apply(null,arguments).paddingInner(1))}function EN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $f(){}var Ud=.7,Cm=1/Ud,Sl="\\s*([+-]?\\d+)\\s*",Bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aae=/^#([0-9a-f]{3,8})$/,oae=new RegExp(`^rgb\\(${Sl},${Sl},${Sl}\\)$`),lae=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),cae=new RegExp(`^rgba\\(${Sl},${Sl},${Sl},${Bd}\\)$`),uae=new RegExp(`^rgba\\(${ws},${ws},${ws},${Bd}\\)$`),dae=new RegExp(`^hsl\\(${Bd},${ws},${ws}\\)$`),fae=new RegExp(`^hsla\\(${Bd},${ws},${ws},${Bd}\\)$`),mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EN($f,qd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gk,formatHex:gk,formatHex8:hae,formatHsl:pae,formatRgb:xk,toString:xk});function gk(){return this.rgb().formatHex()}function hae(){return this.rgb().formatHex8()}function pae(){return AD(this).formatHsl()}function xk(){return this.rgb().formatRgb()}function qd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yk(e):n===3?new Yn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ih(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ih(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oae.exec(t))?new Yn(e[1],e[2],e[3],1):(e=lae.exec(t))?new Yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cae.exec(t))?Ih(e[1],e[2],e[3],e[4]):(e=uae.exec(t))?Ih(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dae.exec(t))?wk(e[1],e[2]/100,e[3]/100,1):(e=fae.exec(t))?wk(e[1],e[2]/100,e[3]/100,e[4]):mk.hasOwnProperty(t)?yk(mk[t]):t==="transparent"?new Yn(NaN,NaN,NaN,0):null}function yk(t){return new Yn(t>>16&255,t>>8&255,t&255,1)}function Ih(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yn(t,e,n,r)}function mae(t){return t instanceof $f||(t=qd(t)),t?(t=t.rgb(),new Yn(t.r,t.g,t.b,t.opacity)):new Yn}function Ub(t,e,n,r){return arguments.length===1?mae(t):new Yn(t,e,n,r??1)}function Yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}EN(Yn,Ub,TD($f,{brighter(t){return t=t==null?Cm:Math.pow(Cm,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ud:Math.pow(Ud,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yn(Xa(this.r),Xa(this.g),Xa(this.b),jm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vk,formatHex:vk,formatHex8:gae,formatRgb:bk,toString:bk}));function vk(){return`#${Ua(this.r)}${Ua(this.g)}${Ua(this.b)}`}function gae(){return`#${Ua(this.r)}${Ua(this.g)}${Ua(this.b)}${Ua((isNaN(this.opacity)?1:this.opacity)*255)}`}function bk(){const t=jm(this.opacity);return`${t===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${t===1?")":`, ${t})`}`}function jm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ua(t){return t=Xa(t),(t<16?"0":"")+t.toString(16)}function wk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wr(t,e,n,r)}function AD(t){if(t instanceof Wr)return new Wr(t.h,t.s,t.l,t.opacity);if(t instanceof $f||(t=qd(t)),!t)return new Wr;if(t instanceof Wr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Wr(o,l,c,t.opacity)}function xae(t,e,n,r){return arguments.length===1?AD(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}EN(Wr,xae,TD($f,{brighter(t){return t=t==null?Cm:Math.pow(Cm,t),new Wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ud:Math.pow(Ud,t),new Wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Yn(by(t>=240?t-240:t+120,s,r),by(t,s,r),by(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Wr(_k(this.h),Ph(this.s),Ph(this.l),jm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jm(this.opacity);return`${t===1?"hsl(":"hsla("}${_k(this.h)}, ${Ph(this.s)*100}%, ${Ph(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _k(t){return t=(t||0)%360,t<0?t+360:t}function Ph(t){return Math.max(0,Math.min(1,t||0))}function by(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const TN=t=>()=>t;function yae(t,e){return function(n){return t+n*e}}function vae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bae(t){return(t=+t)==1?kD:function(e,n){return n-e?vae(e,n,t):TN(isNaN(e)?n:e)}}function kD(t,e){var n=e-t;return n?yae(t,n):TN(isNaN(t)?e:t)}const Nk=function t(e){var n=bae(e);function r(s,i){var o=n((s=Ub(s)).r,(i=Ub(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=kD(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function wae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function _ae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Lc(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function Sae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Im(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Eae(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Lc(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Bb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wy=new RegExp(Bb.source,"g");function Tae(t){return function(){return t}}function Aae(t){return function(e){return t(e)+""}}function kae(t,e){var n=Bb.lastIndex=wy.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Bb.exec(t))&&(s=wy.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Im(r,s)})),n=wy.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Aae(c[0].x):Tae(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Lc(t,e){var n=typeof e,r;return e==null||n==="boolean"?TN(e):(n==="number"?Im:n==="string"?(r=qd(e))?(e=r,Nk):kae:e instanceof qd?Nk:e instanceof Date?Sae:_ae(e)?wae:Array.isArray(e)?Nae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Eae:Im)(t,e)}function AN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cae(t,e){e===void 0&&(e=t,t=Lc);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function jae(t){return function(){return t}}function Pm(t){return+t}var Sk=[0,1];function $n(t){return t}function qb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jae(isNaN(e)?NaN:.5)}function Iae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Pae(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1];return s<r?(r=qb(s,r),i=n(o,i)):(r=qb(r,s),i=n(i,o)),function(l){return i(r(l))}}function Rae(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=qb(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var c=Lf(t,l,1,r)-1;return i[c](s[c](l))}}function Vf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j0(){var t=Sk,e=Sk,n=Lc,r,s,i,o=$n,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==$n&&(o=Iae(t[0],t[h-1])),l=h>2?Rae:Pae,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(e,t.map(r),Im)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Pm),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=AN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:$n,d()):o!==$n},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,x){return r=h,s=x,d()}}function kN(){return j0()($n,$n)}function Mae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ql(t){return t=Rm(Math.abs(t)),t?t[1]:NaN}function Oae(t,e){return function(n,r){for(var s=n.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Dae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zd(t){if(!(e=Lae.exec(t)))throw new Error("invalid format: "+t);var e;return new CN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zd.prototype=CN.prototype;function CN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}CN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $ae(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var Mm;function Vae(t,e){var n=Rm(t,e);if(!n)return Mm=void 0,t.toPrecision(e);var r=n[0],s=n[1],i=s-(Mm=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Rm(t,Math.max(0,e+i-1))[0]}function Ek(t,e){var n=Rm(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Tk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ek(t*100,e),r:Ek,s:Vae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ak(t){return t}var kk=Array.prototype.map,Ck=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fae(t){var e=t.grouping===void 0||t.thousands===void 0?Ak:Oae(kk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ak:Dae(kk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=zd(f);var x=f.fill,v=f.align,b=f.sign,y=f.symbol,w=f.zero,_=f.width,S=f.comma,k=f.precision,A=f.trim,N=f.type;N==="n"?(S=!0,N="g"):Tk[N]||(k===void 0&&(k=12),A=!0,N="g"),(w||x==="0"&&v==="=")&&(w=!0,x="0",v="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),T=(y==="$"?r:/[%p]/.test(N)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),j=Tk[N],M=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function I(O){var R=E,H=T,B,$,z;if(N==="c")H=j(O)+H,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:j(Math.abs(O),k),A&&(O=$ae(O)),V&&+O==0&&b!=="+"&&(V=!1),R=(V?b==="("?b:l:b==="-"||b==="("?"":b)+R,H=(N==="s"&&!isNaN(O)&&Mm!==void 0?Ck[8+Mm/3]:"")+H+(V&&b==="("?")":""),M){for(B=-1,$=O.length;++B<$;)if(z=O.charCodeAt(B),48>z||z>57){H=(z===46?s+O.slice(B+1):O.slice(B))+H,O=O.slice(0,B);break}}}S&&!w&&(O=e(O,1/0));var U=R.length+O.length+H.length,F=U<_?new Array(_-U+1).join(x):"";switch(S&&w&&(O=e(F+O,F.length?_-H.length:1/0),F=""),v){case"<":O=R+O+H+F;break;case"=":O=R+F+O+H;break;case"^":O=F.slice(0,U=F.length>>1)+R+O+H+F.slice(U);break;default:O=F+R+O+H;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var x=Math.max(-8,Math.min(8,Math.floor(Ql(h)/3)))*3,v=Math.pow(10,-x),b=u((f=zd(f),f.type="f",f),{suffix:Ck[8+x/3]});return function(y){return b(v*y)}}return{format:u,formatPrefix:d}}var Rh,jN,CD;Uae({thousands:",",grouping:[3],currency:["$",""]});function Uae(t){return Rh=Fae(t),jN=Rh.format,CD=Rh.formatPrefix,Rh}function Bae(t){return Math.max(0,-Ql(Math.abs(t)))}function qae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ql(e)/3)))*3-Ql(Math.abs(t)))}function zae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ql(e)-Ql(t))+1}function jD(t,e,n,r){var s=Vb(t,e,n),i;switch(r=zd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=qae(s,o))&&(r.precision=i),CD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=zae(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Bae(s))&&(r.precision=i-(r.type==="%")*2);break}}return jN(r)}function xa(t){var e=t.domain;return t.ticks=function(n){var r=e();return Lb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return jD(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,o=r[s],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=$b(o,l,n),u===c)return r[s]=o,r[i]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Om(){var t=kN();return t.copy=function(){return Vf(t,Om())},Lr.apply(t,arguments),xa(t)}function ID(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Pm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ID(t).unknown(e)},t=arguments.length?Array.from(t,Pm):[0,1],xa(n)}function PD(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),t[n]=e.floor(s),t[r]=e.ceil(i),t}function jk(t){return Math.log(t)}function Ik(t){return Math.exp(t)}function Gae(t){return-Math.log(-t)}function Hae(t){return-Math.exp(-t)}function Wae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kae(t){return t===10?Wae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Pk(t){return(e,n)=>-t(-e,n)}function IN(t){const e=t(jk,Ik),n=e.domain;let r=10,s,i;function o(){return s=Jae(r),i=Kae(r),n()[0]<0?(s=Pk(s),i=Pk(i),t(Gae,Hae)):t(jk,Ik),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),x=s(d),v,b;const y=l==null?10:+l;let w=[];if(!(r%1)&&x-h<y){if(h=Math.floor(h),x=Math.ceil(x),u>0){for(;h<=x;++h)for(v=1;v<r;++v)if(b=h<0?v/i(-h):v*i(h),!(b<u)){if(b>d)break;w.push(b)}}else for(;h<=x;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/i(-h):v*i(h),!(b<u)){if(b>d)break;w.push(b)}w.length*2<y&&(w=Lb(u,d,y))}else w=Lb(h,x,Math.min(x-h,y)).map(i);return f?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=zd(c)).precision==null&&(c.trim=!0),c=jN(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(PD(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function RD(){const t=IN(j0()).domain([1,10]);return t.copy=()=>Vf(t,RD()).base(t.base()),Lr.apply(t,arguments),t}function Rk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Mk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PN(t){var e=1,n=t(Rk(e),Mk(e));return n.constant=function(r){return arguments.length?t(Rk(e=+r),Mk(e)):e},xa(n)}function MD(){var t=PN(j0());return t.copy=function(){return Vf(t,MD()).constant(t.constant())},Lr.apply(t,arguments)}function Ok(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xae(t){return t<0?-t*t:t*t}function RN(t){var e=t($n,$n),n=1;function r(){return n===1?t($n,$n):n===.5?t(Yae,Xae):t(Ok(n),Ok(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},xa(e)}function MN(){var t=RN(j0());return t.copy=function(){return Vf(t,MN()).exponent(t.exponent())},Lr.apply(t,arguments),t}function Qae(){return MN.apply(null,arguments).exponent(.5)}function Dk(t){return Math.sign(t)*t*t}function Zae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OD(){var t=kN(),e=[0,1],n=!1,r;function s(i){var o=Zae(t(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return t.invert(Dk(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,Pm)).map(Dk)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return OD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Lr.apply(s,arguments),xa(s)}function DD(){var t=[],e=[],n=[],r;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=sae(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:e[Lf(n,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ra),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return DD().domain(t).range(e).unknown(r)},Lr.apply(i,arguments)}function LD(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Lf(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LD().domain([t,e]).range(s).unknown(i)},Lr.apply(xa(o),arguments)}function $D(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[Lf(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return $D().domain(t).range(e).unknown(n)},Lr.apply(s,arguments)}const _y=new Date,Ny=new Date;function Xt(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},s.filter=i=>Xt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(s.count=(i,o)=>(_y.setTime(+i),Ny.setTime(+o),t(_y),t(Ny),Math.floor(n(_y,Ny))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Dm=Xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dm);Dm.range;const Bs=1e3,Er=Bs*60,qs=Er*60,oi=qs*24,ON=oi*7,Lk=oi*30,Sy=oi*365,Ba=Xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCSeconds());Ba.range;const DN=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs)},(t,e)=>{t.setTime(+t+e*Er)},(t,e)=>(e-t)/Er,t=>t.getMinutes());DN.range;const LN=Xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Er)},(t,e)=>(e-t)/Er,t=>t.getUTCMinutes());LN.range;const $N=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs-t.getMinutes()*Er)},(t,e)=>{t.setTime(+t+e*qs)},(t,e)=>(e-t)/qs,t=>t.getHours());$N.range;const VN=Xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qs)},(t,e)=>(e-t)/qs,t=>t.getUTCHours());VN.range;const Ff=Xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Er)/oi,t=>t.getDate()-1);Ff.range;const I0=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oi,t=>t.getUTCDate()-1);I0.range;const VD=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oi,t=>Math.floor(t/oi));VD.range;function Eo(t){return Xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Er)/ON)}const P0=Eo(0),Lm=Eo(1),eoe=Eo(2),toe=Eo(3),Zl=Eo(4),noe=Eo(5),roe=Eo(6);P0.range;Lm.range;eoe.range;toe.range;Zl.range;noe.range;roe.range;function To(t){return Xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ON)}const R0=To(0),$m=To(1),soe=To(2),ioe=To(3),ec=To(4),aoe=To(5),ooe=To(6);R0.range;$m.range;soe.range;ioe.range;ec.range;aoe.range;ooe.range;const FN=Xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FN.range;const UN=Xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());UN.range;const li=Xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});li.range;const ci=Xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ci.range;function FD(t,e,n,r,s,i){const o=[[Ba,1,Bs],[Ba,5,5*Bs],[Ba,15,15*Bs],[Ba,30,30*Bs],[i,1,Er],[i,5,5*Er],[i,15,15*Er],[i,30,30*Er],[s,1,qs],[s,3,3*qs],[s,6,6*qs],[s,12,12*qs],[r,1,oi],[r,2,2*oi],[n,1,ON],[e,1,Lk],[e,3,3*Lk],[t,1,Sy]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const x=f&&typeof f.range=="function"?f:c(u,d,f),v=x?x.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,x=NN(([,,y])=>y).right(o,h);if(x===o.length)return t.every(Vb(u/Sy,d/Sy,f));if(x===0)return Dm.every(Math.max(Vb(u,d,f),1));const[v,b]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return v.every(b)}return[l,c]}const[loe,coe]=FD(ci,UN,R0,VD,VN,LN),[uoe,doe]=FD(li,FN,P0,Ff,$N,DN);function Ey(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ty(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function foe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=xu(s),d=yu(s),f=xu(i),h=yu(i),x=xu(o),v=yu(o),b=xu(l),y=yu(l),w=xu(c),_=yu(c),S={a:z,A:V,b:U,B:F,c:null,d:qk,e:qk,f:Ooe,g:Goe,G:Woe,H:Poe,I:Roe,j:Moe,L:UD,m:Doe,M:Loe,p:G,q:K,Q:Hk,s:Wk,S:$oe,u:Voe,U:Foe,V:Uoe,w:Boe,W:qoe,x:null,X:null,y:zoe,Y:Hoe,Z:Koe,"%":Gk},k={a:Q,A:de,b:we,B:be,c:null,d:zk,e:zk,f:Qoe,g:lle,G:ule,H:Joe,I:Yoe,j:Xoe,L:qD,m:Zoe,M:ele,p:$e,q:tt,Q:Hk,s:Wk,S:tle,u:nle,U:rle,V:sle,w:ile,W:ale,x:null,X:null,y:ole,Y:cle,Z:dle,"%":Gk},A={a:M,A:I,b:O,B:R,c:H,d:Uk,e:Uk,f:koe,g:Fk,G:Vk,H:Bk,I:Bk,j:Soe,L:Aoe,m:Noe,M:Eoe,p:j,q:_oe,Q:joe,s:Ioe,S:Toe,u:xoe,U:yoe,V:voe,w:goe,W:boe,x:B,X:$,y:Fk,Y:Vk,Z:woe,"%":Coe};S.x=N(n,S),S.X=N(r,S),S.c=N(e,S),k.x=N(n,k),k.X=N(r,k),k.c=N(e,k);function N(le,_e){return function(X){var Y=[],W=-1,ce=0,Me=le.length,pe,Fe,xt;for(X instanceof Date||(X=new Date(+X));++W<Me;)le.charCodeAt(W)===37&&(Y.push(le.slice(ce,W)),(Fe=$k[pe=le.charAt(++W)])!=null?pe=le.charAt(++W):Fe=pe==="e"?" ":"0",(xt=_e[pe])&&(pe=xt(X,Fe)),Y.push(pe),ce=W+1);return Y.push(le.slice(ce,W)),Y.join("")}}function E(le,_e){return function(X){var Y=gu(1900,void 0,1),W=T(Y,le,X+="",0),ce,Me;if(W!=X.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(_e&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ce=Ty(gu(Y.y,0,1)),Me=ce.getUTCDay(),ce=Me>4||Me===0?$m.ceil(ce):$m(ce),ce=I0.offset(ce,(Y.V-1)*7),Y.y=ce.getUTCFullYear(),Y.m=ce.getUTCMonth(),Y.d=ce.getUTCDate()+(Y.w+6)%7):(ce=Ey(gu(Y.y,0,1)),Me=ce.getDay(),ce=Me>4||Me===0?Lm.ceil(ce):Lm(ce),ce=Ff.offset(ce,(Y.V-1)*7),Y.y=ce.getFullYear(),Y.m=ce.getMonth(),Y.d=ce.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Me="Z"in Y?Ty(gu(Y.y,0,1)).getUTCDay():Ey(gu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Me+5)%7:Y.w+Y.U*7-(Me+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Ty(Y)):Ey(Y)}}function T(le,_e,X,Y){for(var W=0,ce=_e.length,Me=X.length,pe,Fe;W<ce;){if(Y>=Me)return-1;if(pe=_e.charCodeAt(W++),pe===37){if(pe=_e.charAt(W++),Fe=A[pe in $k?_e.charAt(W++):pe],!Fe||(Y=Fe(le,X,Y))<0)return-1}else if(pe!=X.charCodeAt(Y++))return-1}return Y}function j(le,_e,X){var Y=u.exec(_e.slice(X));return Y?(le.p=d.get(Y[0].toLowerCase()),X+Y[0].length):-1}function M(le,_e,X){var Y=x.exec(_e.slice(X));return Y?(le.w=v.get(Y[0].toLowerCase()),X+Y[0].length):-1}function I(le,_e,X){var Y=f.exec(_e.slice(X));return Y?(le.w=h.get(Y[0].toLowerCase()),X+Y[0].length):-1}function O(le,_e,X){var Y=w.exec(_e.slice(X));return Y?(le.m=_.get(Y[0].toLowerCase()),X+Y[0].length):-1}function R(le,_e,X){var Y=b.exec(_e.slice(X));return Y?(le.m=y.get(Y[0].toLowerCase()),X+Y[0].length):-1}function H(le,_e,X){return T(le,e,_e,X)}function B(le,_e,X){return T(le,n,_e,X)}function $(le,_e,X){return T(le,r,_e,X)}function z(le){return o[le.getDay()]}function V(le){return i[le.getDay()]}function U(le){return c[le.getMonth()]}function F(le){return l[le.getMonth()]}function G(le){return s[+(le.getHours()>=12)]}function K(le){return 1+~~(le.getMonth()/3)}function Q(le){return o[le.getUTCDay()]}function de(le){return i[le.getUTCDay()]}function we(le){return c[le.getUTCMonth()]}function be(le){return l[le.getUTCMonth()]}function $e(le){return s[+(le.getUTCHours()>=12)]}function tt(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var _e=N(le+="",S);return _e.toString=function(){return le},_e},parse:function(le){var _e=E(le+="",!1);return _e.toString=function(){return le},_e},utcFormat:function(le){var _e=N(le+="",k);return _e.toString=function(){return le},_e},utcParse:function(le){var _e=E(le+="",!0);return _e.toString=function(){return le},_e}}}var $k={"-":"",_:" ",0:"0"},an=/^\s*\d+/,hoe=/^%/,poe=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function moe(t){return t.replace(poe,"\\$&")}function xu(t){return new RegExp("^(?:"+t.map(moe).join("|")+")","i")}function yu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function goe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yoe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function voe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vk(t,e,n){var r=an.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function woe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _oe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Noe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Uk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Toe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Aoe(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=an.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Coe(t,e,n){var r=hoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function joe(t,e,n){var r=an.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=an.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qk(t,e){return Xe(t.getDate(),e,2)}function Poe(t,e){return Xe(t.getHours(),e,2)}function Roe(t,e){return Xe(t.getHours()%12||12,e,2)}function Moe(t,e){return Xe(1+Ff.count(li(t),t),e,3)}function UD(t,e){return Xe(t.getMilliseconds(),e,3)}function Ooe(t,e){return UD(t,e)+"000"}function Doe(t,e){return Xe(t.getMonth()+1,e,2)}function Loe(t,e){return Xe(t.getMinutes(),e,2)}function $oe(t,e){return Xe(t.getSeconds(),e,2)}function Voe(t){var e=t.getDay();return e===0?7:e}function Foe(t,e){return Xe(P0.count(li(t)-1,t),e,2)}function BD(t){var e=t.getDay();return e>=4||e===0?Zl(t):Zl.ceil(t)}function Uoe(t,e){return t=BD(t),Xe(Zl.count(li(t),t)+(li(t).getDay()===4),e,2)}function Boe(t){return t.getDay()}function qoe(t,e){return Xe(Lm.count(li(t)-1,t),e,2)}function zoe(t,e){return Xe(t.getFullYear()%100,e,2)}function Goe(t,e){return t=BD(t),Xe(t.getFullYear()%100,e,2)}function Hoe(t,e){return Xe(t.getFullYear()%1e4,e,4)}function Woe(t,e){var n=t.getDay();return t=n>=4||n===0?Zl(t):Zl.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function Koe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function zk(t,e){return Xe(t.getUTCDate(),e,2)}function Joe(t,e){return Xe(t.getUTCHours(),e,2)}function Yoe(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function Xoe(t,e){return Xe(1+I0.count(ci(t),t),e,3)}function qD(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function Qoe(t,e){return qD(t,e)+"000"}function Zoe(t,e){return Xe(t.getUTCMonth()+1,e,2)}function ele(t,e){return Xe(t.getUTCMinutes(),e,2)}function tle(t,e){return Xe(t.getUTCSeconds(),e,2)}function nle(t){var e=t.getUTCDay();return e===0?7:e}function rle(t,e){return Xe(R0.count(ci(t)-1,t),e,2)}function zD(t){var e=t.getUTCDay();return e>=4||e===0?ec(t):ec.ceil(t)}function sle(t,e){return t=zD(t),Xe(ec.count(ci(t),t)+(ci(t).getUTCDay()===4),e,2)}function ile(t){return t.getUTCDay()}function ale(t,e){return Xe($m.count(ci(t)-1,t),e,2)}function ole(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function lle(t,e){return t=zD(t),Xe(t.getUTCFullYear()%100,e,2)}function cle(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function ule(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ec(t):ec.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function dle(){return"+0000"}function Gk(){return"%"}function Hk(t){return+t}function Wk(t){return Math.floor(+t/1e3)}var Lo,GD,HD;fle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fle(t){return Lo=foe(t),GD=Lo.format,Lo.parse,HD=Lo.utcFormat,Lo.utcParse,Lo}function hle(t){return new Date(t)}function ple(t){return t instanceof Date?+t:+new Date(+t)}function BN(t,e,n,r,s,i,o,l,c,u){var d=kN(),f=d.invert,h=d.domain,x=u(".%L"),v=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),S=u("%B"),k=u("%Y");function A(N){return(c(N)<N?x:l(N)<N?v:o(N)<N?b:i(N)<N?y:r(N)<N?s(N)<N?w:_:n(N)<N?S:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,ple)):h().map(hle)},d.ticks=function(N){var E=h();return t(E[0],E[E.length-1],N??10)},d.tickFormat=function(N,E){return E==null?A:u(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N??10)),N?h(PD(E,N)):d},d.copy=function(){return Vf(d,BN(t,e,n,r,s,i,o,l,c,u))},d}function mle(){return Lr.apply(BN(uoe,doe,li,FN,P0,Ff,$N,DN,Ba,GD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gle(){return Lr.apply(BN(loe,coe,ci,UN,R0,I0,VN,LN,Ba,HD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M0(){var t=0,e=1,n,r,s,i,o=$n,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var x,v;return arguments.length?([x,v]=h,o=f(x,v),u):[o(0),o(1)]}}return u.range=d(Lc),u.rangeRound=d(AN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function ya(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WD(){var t=xa(M0()($n));return t.copy=function(){return ya(t,WD())},mi.apply(t,arguments)}function KD(){var t=IN(M0()).domain([1,10]);return t.copy=function(){return ya(t,KD()).base(t.base())},mi.apply(t,arguments)}function JD(){var t=PN(M0());return t.copy=function(){return ya(t,JD()).constant(t.constant())},mi.apply(t,arguments)}function qN(){var t=RN(M0());return t.copy=function(){return ya(t,qN()).exponent(t.exponent())},mi.apply(t,arguments)}function xle(){return qN.apply(null,arguments).exponent(.5)}function YD(){var t=[],e=$n;function n(r){if(r!=null&&!isNaN(r=+r))return e((Lf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ra),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>rae(t,i/r))},n.copy=function(){return YD(e).domain(t)},mi.apply(n,arguments)}function O0(){var t=0,e=.5,n=1,r=1,s,i,o,l,c,u=$n,d,f=!1,h;function x(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-i)*(r*b<r*i?l:c),u(f?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([t,e,n]=b,s=d(t=+t),i=d(e=+e),o=d(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x):[t,e,n]},x.clamp=function(b){return arguments.length?(f=!!b,x):f},x.interpolator=function(b){return arguments.length?(u=b,x):u};function v(b){return function(y){var w,_,S;return arguments.length?([w,_,S]=y,u=Cae(b,[w,_,S]),x):[u(0),u(.5),u(1)]}}return x.range=v(Lc),x.rangeRound=v(AN),x.unknown=function(b){return arguments.length?(h=b,x):h},function(b){return d=b,s=b(t),i=b(e),o=b(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x}}function XD(){var t=xa(O0()($n));return t.copy=function(){return ya(t,XD())},mi.apply(t,arguments)}function QD(){var t=IN(O0()).domain([.1,1,10]);return t.copy=function(){return ya(t,QD()).base(t.base())},mi.apply(t,arguments)}function ZD(){var t=PN(O0());return t.copy=function(){return ya(t,ZD()).constant(t.constant())},mi.apply(t,arguments)}function zN(){var t=RN(O0());return t.copy=function(){return ya(t,zN()).exponent(t.exponent())},mi.apply(t,arguments)}function yle(){return zN.apply(null,arguments).exponent(.5)}const Kk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fd,scaleDiverging:XD,scaleDivergingLog:QD,scaleDivergingPow:zN,scaleDivergingSqrt:yle,scaleDivergingSymlog:ZD,scaleIdentity:ID,scaleImplicit:Fb,scaleLinear:Om,scaleLog:RD,scaleOrdinal:SN,scalePoint:ed,scalePow:MN,scaleQuantile:DD,scaleQuantize:LD,scaleRadial:OD,scaleSequential:WD,scaleSequentialLog:KD,scaleSequentialPow:qN,scaleSequentialQuantile:YD,scaleSequentialSqrt:xle,scaleSequentialSymlog:JD,scaleSqrt:Qae,scaleSymlog:MD,scaleThreshold:$D,scaleTime:mle,scaleUtc:gle,tickFormat:jD},Symbol.toStringTag,{value:"Module"}));var vle=Ac;function ble(t,e,n){for(var r=-1,s=t.length;++r<s;){var i=t[r],o=e(i);if(o!=null&&(l===void 0?o===o&&!vle(o):n(o,l)))var l=o,c=i}return c}var D0=ble;function wle(t,e){return t>e}var eL=wle,_le=D0,Nle=eL,Sle=Dc;function Ele(t){return t&&t.length?_le(t,Sle,Nle):void 0}var Tle=Ele;const Fi=st(Tle);function Ale(t,e){return t<e}var tL=Ale,kle=D0,Cle=tL,jle=Dc;function Ile(t){return t&&t.length?kle(t,jle,Cle):void 0}var Ple=Ile;const L0=st(Ple);var Rle=sN,Mle=Cs,Ole=uD,Dle=nr;function Lle(t,e){var n=Dle(t)?Rle:Ole;return n(t,Mle(e))}var $le=Lle,Vle=lD,Fle=$le;function Ule(t,e){return Vle(Fle(t,e),1)}var Ble=Ule;const qle=st(Ble);var zle=vN;function Gle(t,e){return zle(t,e)}var Hle=Gle;const tc=st(Hle);var $c=1e9,Wle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HN,St=!0,Mr="[DecimalError] ",Qa=Mr+"Invalid argument: ",GN=Mr+"Exponent out of range: ",Vc=Math.floor,Ra=Math.pow,Kle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,en=1e7,wt=7,nL=9007199254740991,Vm=Vc(nL/wt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return Ws(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return dt(Ws(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Bt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(lr))throw Error(Mr+"NaN");if(n.s<1)throw Error(Mr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(St=!1,e=Ws(Gd(n,i),Gd(t,i),i),St=!0,dt(e,s))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iL(e,t):rL(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(Mr+"NaN");return n.s?(St=!1,e=Ws(n,t,0,1).times(t),St=!0,n.minus(e)):dt(new r(n),s)};xe.naturalExponential=xe.exp=function(){return sL(this)};xe.naturalLogarithm=xe.ln=function(){return Gd(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rL(e,t):iL(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qa+t);if(e=Bt(s)+1,r=s.d.length-1,n=r*wt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Mr+"NaN")}for(t=Bt(l),St=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=fs(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Vc((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(Ws(l,i,o+2)).times(.5),fs(i.d).slice(0,o)===(e=fs(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(dt(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;o+=4}return St=!0,dt(r,n)};xe.times=xe.mul=function(t){var e,n,r,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,x=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=x.length,c<u&&(i=h,h=x,x=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=i[s]+x[r]*h[s-r-1]+e,i[s--]=l%en|0,e=l/en|0;i[s]=(i[s]+e)%en|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,St?dt(t,f.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ss(t,0,$c),e===void 0?e=r.rounding:Ss(e,0,8),dt(n,t+Bt(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=mo(r,!0):(Ss(t,0,$c),e===void 0?e=s.rounding:Ss(e,0,8),r=dt(new s(r),t+1,e),n=mo(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?mo(s):(Ss(t,0,$c),e===void 0?e=i.rounding:Ss(e,0,8),r=dt(new i(s),t+Bt(s)+1,e),n=mo(r.abs(),!1,t+Bt(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return dt(new e(t),Bt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,s,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(lr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Mr+"Infinity");return l}if(l.eq(lr))return l;if(r=c.precision,t.eq(lr))return dt(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=l.s,o){if((n=d<0?-d:d)<=nL){for(s=new c(lr),e=Math.ceil(r/wt+4),St=!1;n%2&&(s=s.times(l),Yk(s.d,e)),n=Vc(n/2),n!==0;)l=l.times(l),Yk(l.d,e);return St=!0,t.s<0?new c(lr).div(s):dt(s,r)}}else if(i<0)throw Error(Mr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,St=!1,s=t.times(Gd(l,r+u)),St=!0,s=sL(s),s.s=i,s};xe.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=Bt(s),r=mo(s,n<=i.toExpNeg||n>=i.toExpPos)):(Ss(t,1,$c),e===void 0?e=i.rounding:Ss(e,0,8),s=dt(new i(s),t,e),n=Bt(s),r=mo(s,t<=n||n<=i.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ss(t,1,$c),e===void 0?e=r.rounding:Ss(e,0,8)),dt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bt(t),n=t.constructor;return mo(t,e<=n.toExpNeg||e>=n.toExpPos)};function rL(t,e){var n,r,s,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),St?dt(e,f):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/wt),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/en|0,c[i]%=en;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,St?dt(e,f):e}function Ss(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qa+t)}function fs(t){var e,n,r,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)r=t[e]+"",n=wt-r.length,n&&(i+=Ai(n)),i+=r;o=t[e],r=o+"",n=wt-r.length,n&&(i+=Ai(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ws=function(){function t(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%en|0,o=i/en|0;return o&&r.unshift(o),r}function e(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*en+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,u,d,f,h,x,v,b,y,w,_,S,k,A,N,E,T,j=r.constructor,M=r.s==s.s?1:-1,I=r.d,O=s.d;if(!r.s)return new j(r);if(!s.s)throw Error(Mr+"Division by zero");for(c=r.e-s.e,E=O.length,A=I.length,x=new j(M),v=x.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?_=i=j.precision:o?_=i+(Bt(r)-Bt(s))+1:_=i,_<0)return new j(0);if(_=_/wt+2|0,u=0,E==1)for(d=0,O=O[0],_++;(u<A||d)&&_--;u++)S=d*en+(I[u]||0),v[u]=S/O|0,d=S%O|0;else{for(d=en/(O[0]+1)|0,d>1&&(O=t(O,d),I=t(I,d),E=O.length,A=I.length),k=E,b=I.slice(0,E),y=b.length;y<E;)b[y++]=0;T=O.slice(),T.unshift(0),N=O[0],O[1]>=en/2&&++N;do d=0,l=e(O,b,E,y),l<0?(w=b[0],E!=y&&(w=w*en+(b[1]||0)),d=w/N|0,d>1?(d>=en&&(d=en-1),f=t(O,d),h=f.length,y=b.length,l=e(f,b,h,y),l==1&&(d--,n(f,E<h?T:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(b,f,y),l==-1&&(y=b.length,l=e(O,b,E,y),l<1&&(d++,n(b,E<y?T:O,y))),y=b.length):l===0&&(d++,b=[0]),v[u++]=d,l&&b[0]?b[y++]=I[k]||0:(b=[I[k]],y=1);while((k++<A||b[0]!==void 0)&&_--)}return v[0]||v.shift(),x.e=c,dt(x,o?i+Bt(x)+1:i)}}();function sL(t,e){var n,r,s,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Bt(t)>16)throw Error(GN+Bt(t));if(!t.s)return new d(lr);for(St=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ra(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(lr),d.precision=l;;){if(s=dt(s.times(t),l),n=n.times(++c),o=i.plus(Ws(s,n,l)),fs(o.d).slice(0,l)===fs(i.d).slice(0,l)){for(;u--;)i=dt(i.times(i),l);return d.precision=f,e==null?(St=!0,dt(i,f)):i}i=o}}function Bt(t){for(var e=t.e*wt,n=t.d[0];n>=10;n/=10)e++;return e}function Ay(t,e,n){if(e>t.LN10.sd())throw St=!0,n&&(t.precision=n),Error(Mr+"LN10 precision limit exceeded");return dt(new t(t.LN10),e)}function Ai(t){for(var e="";t--;)e+="0";return e}function Gd(t,e){var n,r,s,i,o,l,c,u,d,f=1,h=10,x=t,v=x.d,b=x.constructor,y=b.precision;if(x.s<1)throw Error(Mr+(x.s?"NaN":"-Infinity"));if(x.eq(lr))return new b(0);if(e==null?(St=!1,u=y):u=e,x.eq(10))return e==null&&(St=!0),Ay(b,u);if(u+=h,b.precision=u,n=fs(v),r=n.charAt(0),i=Bt(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=fs(x.d),r=n.charAt(0),f++;i=Bt(x),r>1?(x=new b("0."+n),i++):x=new b(r+"."+n.slice(1))}else return c=Ay(b,u+2,y).times(i+""),x=Gd(new b(r+"."+n.slice(1)),u-h).plus(c),b.precision=y,e==null?(St=!0,dt(x,y)):x;for(l=o=x=Ws(x.minus(lr),x.plus(lr),u),d=dt(x.times(x),u),s=3;;){if(o=dt(o.times(d),u),c=l.plus(Ws(o,new b(s),u)),fs(c.d).slice(0,u)===fs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ay(b,u+2,y).times(i+""))),l=Ws(l,new b(f),u),b.precision=y,e==null?(St=!0,dt(l,y)):l;l=c,s+=2}}function Jk(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=Vc(n/wt),t.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=wt;r<s;)t.d.push(+e.slice(r,r+=wt));e=e.slice(r),r=wt-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),St&&(t.e>Vm||t.e<-Vm))throw Error(GN+n)}else t.s=0,t.e=0,t.d=[0];return t}function dt(t,e,n){var r,s,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=wt,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/wt),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=wt,s=r-wt+o}if(n!==void 0&&(i=Ra(10,o-s-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Ra(10,o-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(i=Bt(t),f.length=1,e=e-i-1,f[0]=Ra(10,(wt-e%wt)%wt),t.e=Vc(-e/wt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ra(10,wt-r),f[d]=s>0?(u/Ra(10,o-s)%Ra(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==en&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=en)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(St&&(t.e>Vm||t.e<-Vm))throw Error(GN+Bt(t));return t}function iL(t,e){var n,r,s,i,o,l,c,u,d,f,h=t.constructor,x=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),St?dt(e,x):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(x/wt),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=en-1;--c[i],c[s]+=en}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,St?dt(e,x):e):new h(0)}function mo(t,e,n){var r,s=Bt(t),i=fs(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ai(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ai(-s-1)+i,n&&(r=n-o)>0&&(i+=Ai(r))):s>=o?(i+=Ai(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Ai(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Ai(r))),t.s<0?"-"+i:i}function Yk(t,e){if(t.length>e)return t.length=e,!0}function aL(t){var e,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Qa+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Jk(o,i.toString())}else if(typeof i!="string")throw Error(Qa+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Kle.test(i))Jk(o,i);else throw Error(Qa+i)}if(s.prototype=xe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=aL,s.config=s.set=Jle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function Jle(t){if(!t||typeof t!="object")throw Error(Mr+"Object expected");var e,n,r,s=["precision",1,$c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(Vc(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Qa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qa+n+": "+r);return this}var HN=aL(Wle);lr=new HN(1);const at=HN;function Yle(t){return ece(t)||Zle(t)||Qle(t)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t,e){if(t){if(typeof t=="string")return zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(t,e)}}function Zle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ece(t){if(Array.isArray(t))return zb(t)}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tce=function(e){return e},oL={},lL=function(e){return e===oL},Xk=function(e){return function n(){return arguments.length===0||arguments.length===1&&lL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nce=function t(e,n){return e===1?n:Xk(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==oL}).length;return o>=e?n.apply(void 0,s):t(e-o,Xk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return lL(f)?c.shift():f});return n.apply(void 0,Yle(d).concat(c))}))})},$0=function(e){return nce(e.length,e)},Gb=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},rce=$0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),sce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tce;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Hb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cL=function(e){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function ice(t){var e;return t===0?e=1:e=Math.floor(new at(t).abs().log(10).toNumber())+1,e}function ace(t,e,n){for(var r=new at(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var oce=$0(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),lce=$0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),cce=$0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const V0={rangeStep:ace,getDigitCount:ice,interpolateNumber:oce,uninterpolateNumber:lce,uninterpolateTruncation:cce};function Wb(t){return fce(t)||dce(t)||uL(t)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fce(t){if(Array.isArray(t))return Kb(t)}function Hd(t,e){return mce(t)||pce(t,e)||uL(t,e)||hce()}function hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return Kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(t,e)}}function Kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function mce(t){if(Array.isArray(t))return t}function dL(t){var e=Hd(t,2),n=e[0],r=e[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function fL(t,e,n){if(t.lte(0))return new at(0);var r=V0.getDigitCount(t.toNumber()),s=new at(10).pow(r),i=t.div(s),o=r!==1?.05:.1,l=new at(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new at(Math.ceil(c))}function gce(t,e,n){var r=1,s=new at(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new at(10).pow(V0.getDigitCount(t)-1),s=new at(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new at(Math.floor(t)))}else t===0?s=new at(Math.floor((e-1)/2)):n||(s=new at(Math.floor(t)));var o=Math.floor((e-1)/2),l=sce(rce(function(c){return s.add(new at(c-o).mul(r)).toNumber()}),Gb);return l(0,e)}function hL(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new at(0),tickMin:new at(0),tickMax:new at(0)};var i=fL(new at(e).sub(t).div(n-1),r,s),o;t<=0&&e>=0?o=new at(0):(o=new at(t).add(e).div(2),o=o.sub(new at(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new at(e).sub(o).div(i).toNumber()),u=l+c+1;return u>n?hL(t,e,n,r,s+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:i,tickMin:o.sub(new at(l).mul(i)),tickMax:o.add(new at(c).mul(i))})}function xce(t){var e=Hd(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=dL([n,r]),c=Hd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Wb(Gb(0,s-1).map(function(){return 1/0}))):[].concat(Wb(Gb(0,s-1).map(function(){return-1/0})),[d]);return n>r?Hb(f):f}if(u===d)return gce(u,s,i);var h=hL(u,d,o,i),x=h.step,v=h.tickMin,b=h.tickMax,y=V0.rangeStep(v,b.add(new at(.1).mul(x)),x);return n>r?Hb(y):y}function yce(t,e){var n=Hd(t,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dL([r,s]),l=Hd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(e,2),f=fL(new at(u).sub(c).div(d-1),i,0),h=[].concat(Wb(V0.rangeStep(new at(c),new at(u).sub(new at(.99).mul(f)),f)),[u]);return r>s?Hb(h):h}var vce=cL(xce),bce=cL(yce),wce="Invariant failed";function go(t,e){throw new Error(wce)}var _ce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}function Nce(t,e){return Ace(t)||Tce(t,e)||Ece(t,e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(t,e){if(t){if(typeof t=="string")return Qk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(t,e)}}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ace(t){if(Array.isArray(t))return t}function kce(t,e){if(t==null)return{};var n=Cce(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ice(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gL(r.key),r)}}function Pce(t,e,n){return e&&Ice(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rce(t,e,n){return e=Um(e),Mce(t,pL()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Mce(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(t)}function Oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Jb(t,e)}function mL(t,e,n){return e=gL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gL(t){var e=Lce(t,"string");return nc(e)=="symbol"?e:e+""}function Lce(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F0=function(t){function e(){return jce(this,e),Rce(this,e,arguments)}return Dce(e,t),Pce(e,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=kce(r,_ce),x=Se(h,!1);this.props.direction==="x"&&d.type!=="number"&&go();var v=c.map(function(b){var y=u(b,l),w=y.x,_=y.y,S=y.value,k=y.errorVal;if(!k)return null;var A=[],N,E;if(Array.isArray(k)){var T=Nce(k,2);N=T[0],E=T[1]}else N=E=k;if(i==="vertical"){var j=d.scale,M=_+s,I=M+o,O=M-o,R=j(S-N),H=j(S+E);A.push({x1:H,y1:I,x2:H,y2:O}),A.push({x1:R,y1:M,x2:H,y2:M}),A.push({x1:R,y1:I,x2:R,y2:O})}else if(i==="horizontal"){var B=f.scale,$=w+s,z=$-o,V=$+o,U=B(S-N),F=B(S+E);A.push({x1:z,y1:F,x2:V,y2:F}),A.push({x1:$,y1:U,x2:$,y2:F}),A.push({x1:z,y1:U,x2:V,y2:U})}return q.createElement(He,Fm({className:"recharts-errorBar",key:"bar-".concat(A.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},x),A.map(function(G){return q.createElement("line",Fm({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return q.createElement(He,{className:"recharts-errorBars"},v)}}])}(q.Component);mL(F0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mL(F0,"displayName","ErrorBar");function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){$ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e,n){return e=Vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=Fce(t,"string");return Wd(e)=="symbol"?e:e+""}function Fce(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=or(n,Ya);if(!o)return null;var l=Ya.defaultProps,c=l!==void 0?Ea(Ea({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,x=f.props,v=x.sectors||x.data||[];return d.concat(v.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,x=h!==void 0?Ea(Ea({},h),f.props):{},v=x.dataKey,b=x.name,y=x.legendType,w=x.hide;return{inactive:w,dataKey:v,type:c.iconType||y||"square",color:WN(f),value:b||v,payload:x}}),Ea(Ea(Ea({},c),Ya.getWithHeight(o,s)),{},{payload:u,item:o})};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function eC(t){return zce(t)||qce(t)||Bce(t)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return Yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(t,e)}}function qce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zce(t){if(Array.isArray(t))return Yb(t)}function Yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){El(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function El(t,e,n){return e=Gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Hce(t,"string");return Kd(e)=="symbol"?e:e+""}function Hce(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wt(t,e,n){return Re(t)||Re(e)?n:Jt(e)?fr(t,e,n):Te(e)?e(t):n}function td(t,e,n,r){var s=qle(t,function(l){return Wt(l,e)});if(n==="number"){var i=s.filter(function(l){return ie(l)||parseFloat(l)});return i.length?[L0(i),Fi(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Re(l)}):s;return o.map(function(l){return Jt(l)||l instanceof Date?l:""})}var Wce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,x=void 0;if(Dn(f-d)!==Dn(h-f)){var v=[];if(Dn(h-f)===Dn(c[1]-c[0])){x=h;var b=f+c[1]-c[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{x=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){o=s[u].index;break}}else{var _=Math.min(d,h),S=Math.max(d,h);if(e>(_+f)/2&&e<=(S+f)/2){o=s[u].index;break}}}else for(var k=0;k<l;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<l-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===l-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},WN=function(e){var n,r=e,s=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Kce=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,x=f.length;h<x;h++){var v=d[f[h]],b=v.items,y=v.cateAxisId,w=b.filter(function(E){return Hs(E.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,S=_!==void 0?It(It({},_),w[0].props):w[0].props,k=S.barSize,A=S[y];o[A]||(o[A]=[]);var N=Re(k)?n:k;o[A].push({item:w[0],stackList:w.slice(1),barSize:Re(N)?void 0:Ln(N,r,0)})}}return o},Jce=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Ln(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=s/c,v=o.reduce(function(k,A){return k+A.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&x>0&&(h=!0,x*=.9,v=c*x);var b=(s-v)/2>>0,y={offset:b-u,size:0};d=o.reduce(function(k,A){var N={item:A.item,position:{offset:y.offset+y.size+u,size:h?x:A.barSize}},E=[].concat(eC(k),[N]);return y=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){E.push({item:T,position:y})}),E},f)}else{var w=Ln(r,s,0,!0);s-2*w-(c-1)*u<=0&&(u=0);var _=(s-2*w-(c-1)*u)/c;_>1&&(_>>=0);var S=l===+l?Math.min(_,l):_;d=o.reduce(function(k,A,N){var E=[].concat(eC(k),[{item:A.item,position:{offset:w+(_+u)*N+(_-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},f)}return d},Yce=function(e,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=xL({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,x=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&x!=="center"&&ie(e[x]))return It(It({},e),{},El({},x,e[x]+(f||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&v!=="middle"&&ie(e[v]))return It(It({},e),{},El({},v,e[v]+(h||0)))}return e},Xce=function(e,n,r){return Re(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yL=function(e,n,r,s,i){var o=n.props.children,l=kr(o,F0).filter(function(u){return Xce(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Wt(d,r);if(Re(f))return u;var h=Array.isArray(f)?[L0(f),Fi(f)]:[f,f],x=c.reduce(function(v,b){var y=Wt(d,b,0),w=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},Qce=function(e,n,r,s,i){var o=n.map(function(l){return yL(e,l,r,i,s)}).filter(function(l){return!Re(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},vL=function(e,n,r,s,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&yL(e,c,u,s)||td(e,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},bL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wL=function(e,n,r,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},zs=function(e,n,r){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Dn(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Pc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},ky=new WeakMap,Mh=function(e,n){if(typeof n!="function")return e;ky.has(e)||ky.set(e,new WeakMap);var r=ky.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},_L=function(e,n,r){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Fd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Om(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ed(),realScaleType:"point"}:i==="category"?{scale:Fd(),realScaleType:"band"}:{scale:Om(),realScaleType:"linear"};if(fo(s)){var c="scale".concat(_0(s));return{scale:(Kk[c]||ed)(),realScaleType:Kk[c]?c:"point"}}return Te(s)?{scale:s}:{scale:ed(),realScaleType:"point"}},nC=1e-4,NL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),i=Math.min(s[0],s[1])-nC,o=Math.max(s[0],s[1])+nC,l=e(n[0]),c=e(n[r-1]);(l<i||l>o||c<i||c>o)&&e.domain([n[0],n[r-1]])}},Zce=function(e,n){if(!e)return null;for(var r=0,s=e.length;r<s;r++)if(e[r].item===n)return e[r].position;return null},eue=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(i[0]=r),(!ie(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},tue=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Pc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},nue=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=Pc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},rue={sign:tue,expand:_Y,none:Wl,silhouette:NY,wiggle:SY,positive:nue},sue=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),i=rue[r],o=wY().keys(s).value(function(l,c){return+Wt(l,c,0)}).order(wb).offset(i);return o(e)},iue=function(e,n,r,s,i,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var x,v=(x=h.type)!==null&&x!==void 0&&x.defaultProps?It(It({},h.type.defaultProps),h.props):h.props,b=v.stackId,y=v.hide;if(y)return f;var w=v[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Jt(b)){var S=_.stackGroups[b]||{numericAxisId:r,cateAxisId:s,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[b]=S}else _.stackGroups[Rc("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return It(It({},f),{},El({},w,_))},c),d={};return Object.keys(u).reduce(function(f,h){var x=u[h];if(x.hasStack){var v={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,y){var w=x.stackGroups[y];return It(It({},b),{},El({},y,{numericAxisId:r,cateAxisId:s,items:w.items,stackedData:sue(e,w.items,i)}))},v)}return It(It({},f),{},El({},h,x))},d)},SL=function(e,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=vce(u,i,l);return e.domain([L0(d),Fi(d)]),{niceTicks:d}}if(i&&s==="number"){var f=e.domain(),h=bce(f,i,l);return{niceTicks:h}}return null};function rC(t){var e=t.axis,n=t.ticks,r=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(s[e.dataKey])){var l=hm(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Wt(s,Re(o)?e.dataKey:o);return Re(c)?null:e.scale(c)}var sC=function(e){var n=e.axis,r=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=Wt(o,n.dataKey,n.domain[l]);return Re(c)?null:n.scale(c)-i/2+s},aue=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},oue=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(Jt(i)){var o=n[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},lue=function(e){return e.reduce(function(n,r){return[L0(r.concat([n[0]]).filter(ie)),Fi(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},EL=function(e,n,r){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=lue(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},iC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xb=function(e,n,r){if(Te(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(ie(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(iC.test(e[0])){var i=+iC.exec(e[0])[1];s[0]=n[0]-i}else Te(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(ie(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(aC.test(e[1])){var o=+aC.exec(e[1])[1];s[1]=n[1]+o}else Te(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},Bm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var i=wN(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},oC=function(e,n,r){return!e||!e.length||tc(e,fr(r,"type.defaultProps.domain"))?n:e},TL=function(e,n){var r=e.type.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return It(It({},Se(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:WN(e),value:Wt(n,s),type:c,payload:n,chartType:u,hide:d})};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){AL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AL(t,e,n){return e=cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=uue(t,"string");return Jd(e)=="symbol"?e:e+""}function uue(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function due(t,e){return mue(t)||pue(t,e)||hue(t,e)||fue()}function fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mue(t){if(Array.isArray(t))return t}var qm=Math.PI/180,gue=function(e){return e*180/Math.PI},gt=function(e,n,r,s){return{x:e+Math.cos(-qm*s)*r,y:n+Math.sin(-qm*s)*r}},kL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xue=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Ln(e.cx,o,o/2),f=Ln(e.cy,l,l/2),h=kL(o,l,r),x=Ln(e.innerRadius,h,0),v=Ln(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(y,w){var _=n[w],S=_.domain,k=_.reversed,A;if(Re(_.range))s==="angleAxis"?A=[c,u]:s==="radiusAxis"&&(A=[x,v]),k&&(A=[A[1],A[0]]);else{A=_.range;var N=A,E=due(N,2);c=E[0],u=E[1]}var T=_L(_,i),j=T.realScaleType,M=T.scale;M.domain(S).range(A),NL(M);var I=SL(M,Os(Os({},_),{},{realScaleType:j})),O=Os(Os(Os({},_),I),{},{range:A,radius:v,realScaleType:j,scale:M,cx:d,cy:f,innerRadius:x,outerRadius:v,startAngle:c,endAngle:u});return Os(Os({},y),{},AL({},w,O))},{})},yue=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},vue=function(e,n){var r=e.x,s=e.y,i=n.cx,o=n.cy,l=yue({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:gue(u),angleInRadian:u}},bue=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},wue=function(e,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},uC=function(e,n){var r=e.x,s=e.y,i=vue({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=bue(n),f=d.startAngle,h=d.endAngle,x=l,v;if(f<=h){for(;x>h;)x-=360;for(;x<f;)x+=360;v=x>=f&&x<=h}else{for(;x>f;)x-=360;for(;x<h;)x+=360;v=x>=h&&x<=f}return v?Os(Os({},n),{},{radius:o,angle:wue(x,n)}):null},CL=function(e){return!D.isValidElement(e)&&!Te(e)&&typeof e!="boolean"?e.className:""};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}var _ue=["offset"];function Nue(t){return Aue(t)||Tue(t)||Eue(t)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(t,e){if(t){if(typeof t=="string")return Qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(t,e)}}function Tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aue(t){if(Array.isArray(t))return Qb(t)}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kue(t,e){if(t==null)return{};var n=Cue(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Pue(t,"string");return Yd(e)=="symbol"?e:e+""}function Pue(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}var Rue=function(e){var n=e.value,r=e.formatter,s=Re(e.children)?n:e.children;return Te(r)?r(s):s},Mue=function(e,n){var r=Dn(n-e),s=Math.min(Math.abs(n-e),360);return r*s},Oue=function(e,n,r){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,x=c.startAngle,v=c.endAngle,b=c.clockWise,y=(f+h)/2,w=Mue(x,v),_=w>=0?1:-1,S,k;s==="insideStart"?(S=x+_*o,k=b):s==="insideEnd"?(S=v-_*o,k=!b):s==="end"&&(S=v+_*o,k=b),k=w<=0?k:!k;var A=gt(u,d,y,S),N=gt(u,d,y,S+(k?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),T=Re(e.id)?Rc("recharts-radial-line-"):e.id;return q.createElement("text",Xd({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:T,d:E})),q.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Due=function(e){var n=e.viewBox,r=e.offset,s=e.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var x=gt(o,l,u+r,h),v=x.x,b=x.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,w=gt(o,l,y,h),_=w.x,S=w.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Lue=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,i=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,x=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,y=b*s,w=b>0?"end":"start",_=b>0?"start":"end";if(i==="top"){var S={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return Gt(Gt({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var k={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},k),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var A={x:l-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Gt(Gt({},A),r?{width:Math.max(A.x-r.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Gt(Gt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var E=r?{width:u,height:d}:{};return i==="insideLeft"?Gt({x:l+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):i==="insideRight"?Gt({x:l+u-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},E):i==="insideTop"?Gt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?Gt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:x},E):i==="insideTopLeft"?Gt({x:l+y,y:c+h,textAnchor:_,verticalAnchor:v},E):i==="insideTopRight"?Gt({x:l+u-y,y:c+h,textAnchor:w,verticalAnchor:v},E):i==="insideBottomLeft"?Gt({x:l+y,y:c+d-h,textAnchor:_,verticalAnchor:x},E):i==="insideBottomRight"?Gt({x:l+u-y,y:c+d-h,textAnchor:w,verticalAnchor:x},E):kc(i)&&(ie(i.x)||Fa(i.x))&&(ie(i.y)||Fa(i.y))?Gt({x:l+Ln(i.x,u),y:c+Ln(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):Gt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},$ue=function(e){return"cx"in e&&ie(e.cx)};function nn(t){var e=t.offset,n=e===void 0?5:e,r=kue(t,_ue),s=Gt({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Re(l)&&Re(c)&&!D.isValidElement(u)&&!Te(u))return null;if(D.isValidElement(u))return D.cloneElement(u,s);var x;if(Te(u)){if(x=D.createElement(u,s),D.isValidElement(x))return x}else x=Rue(s);var v=$ue(i),b=Se(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Oue(s,x,b);var y=v?Due(s):Lue(s);return q.createElement(po,Xd({className:De("recharts-label",f)},b,y,{breakAll:h}),x)}nn.displayName="Label";var jL=function(e){var n=e.cx,r=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,x=e.top,v=e.left,b=e.width,y=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ie(b)&&ie(y)){if(ie(f)&&ie(h))return{x:f,y:h,width:b,height:y};if(ie(x)&&ie(v))return{x,y:v,width:b,height:y}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:e.viewBox?e.viewBox:{}},Vue=function(e,n){return e?e===!0?q.createElement(nn,{key:"label-implicit",viewBox:n}):Jt(e)?q.createElement(nn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===nn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(nn,{key:"label-implicit",content:e,viewBox:n}):Te(e)?q.createElement(nn,{key:"label-implicit",content:e,viewBox:n}):kc(e)?q.createElement(nn,Xd({viewBox:n},e,{key:"label-implicit"})):null:null},Fue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,i=jL(e),o=kr(s,nn).map(function(c,u){return D.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=Vue(e.label,n||i);return[l].concat(Nue(o))};nn.parseViewBox=jL;nn.renderCallByParent=Fue;function Uue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Bue=Uue;const que=st(Bue);function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}var zue=["valueAccessor"],Gue=["data","dataKey","clockWise","id","textBreakAll"];function Hue(t){return Yue(t)||Jue(t)||Kue(t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t,e){if(t){if(typeof t=="string")return Zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zb(t,e)}}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yue(t){if(Array.isArray(t))return Zb(t)}function Zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return e=Que(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return Qd(e)=="symbol"?e:e+""}function Zue(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pC(t,e){if(t==null)return{};var n=ede(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tde=function(e){return Array.isArray(e.value)?que(e.value):e.value};function Ks(t){var e=t.valueAccessor,n=e===void 0?tde:e,r=pC(t,zue),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=pC(r,Gue);return!s||!s.length?null:q.createElement(He,{className:"recharts-label-list"},s.map(function(d,f){var h=Re(i)?n(d,f):Wt(d&&d.payload,i),x=Re(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(nn,zm({},Se(d,!0),u,x,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:nn.parseViewBox(Re(o)?d:hC(hC({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ks.displayName="LabelList";function nde(t,e){return t?t===!0?q.createElement(Ks,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Te(t)?q.createElement(Ks,{key:"labelList-implicit",data:e,content:t}):kc(t)?q.createElement(Ks,zm({data:e},t,{key:"labelList-implicit"})):null:null}function rde(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=kr(r,Ks).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var i=nde(t.label,e);return[i].concat(Hue(s))}Ks.renderCallByParent=rde;function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e,n){return e=ide(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ide(t){var e=ade(t,"string");return Zd(e)=="symbol"?e:e+""}function ade(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode=function(e,n){var r=Dn(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},Oh=function(e){var n=e.cx,r=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/qm,h=u?i:i+o*f,x=gt(n,r,d,h),v=gt(n,r,s,h),b=u?i-o*f:i,y=gt(n,r,d*Math.cos(f*qm),b);return{center:x,circleTangency:v,lineTangency:y,theta:f}},IL=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=ode(o,l),u=o+c,d=gt(n,r,i,o),f=gt(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=gt(n,r,s,o),v=gt(n,r,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},lde=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Dn(d-u),h=Oh({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=h.circleTangency,v=h.lineTangency,b=h.theta,y=Oh({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),w=y.circleTangency,_=y.lineTangency,S=y.theta,k=c?Math.abs(u-d):Math.abs(u-d)-b-S;if(k<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IL({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(s>0){var N=Oh({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=N.circleTangency,T=N.lineTangency,j=N.theta,M=Oh({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=M.circleTangency,O=M.lineTangency,R=M.theta,H=c?Math.abs(u-d):Math.abs(u-d)-j-R;if(H<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},cde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PL=function(e){var n=gC(gC({},cde),e),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var x=De("recharts-sector",h),v=o-i,b=Ln(l,v,0,!0),y;return b>0&&Math.abs(d-f)<360?y=lde({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=IL({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",ew({},Se(n,!0),{className:x,d:y,role:"img"}))};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return e=dde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=fde(t,"string");return ef(e)=="symbol"?e:e+""}function fde(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vC={curveBasisClosed:uY,curveBasisOpen:dY,curveBasis:cY,curveBumpX:JJ,curveBumpY:YJ,curveLinearClosed:fY,curveLinear:S0,curveMonotoneX:hY,curveMonotoneY:pY,curveNatural:mY,curveStep:gY,curveStepAfter:yY,curveStepBefore:xY},Dh=function(e){return e.x===+e.x&&e.y===+e.y},vu=function(e){return e.x},bu=function(e){return e.y},hde=function(e,n){if(Te(e))return e;var r="curve".concat(_0(e));return(r==="curveMonotone"||r==="curveBump")&&n?vC["".concat(r).concat(n==="vertical"?"Y":"X")]:vC[r]||S0},pde=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=hde(r,l),f=u?i.filter(function(b){return Dh(b)}):i,h;if(Array.isArray(o)){var x=u?o.filter(function(b){return Dh(b)}):o,v=f.map(function(b,y){return yC(yC({},b),{},{base:x[y]})});return l==="vertical"?h=Th().y(bu).x1(vu).x0(function(b){return b.base.x}):h=Th().x(vu).y1(bu).y0(function(b){return b.base.y}),h.defined(Dh).curve(d),h(v)}return l==="vertical"&&ie(o)?h=Th().y(bu).x1(vu).x0(o):ie(o)?h=Th().x(vu).y1(bu).y0(o):h=A5().x(vu).y(bu),h.defined(Dh).curve(d),h(f)},Tl=function(e){var n=e.className,r=e.points,s=e.path,i=e.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?pde(e):s;return D.createElement("path",tw({},Se(e,!1),pm(e),{className:De("recharts-curve",n),d:o,ref:i}))},RL={exports:{}},mde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gde=mde,xde=gde;function ML(){}function OL(){}OL.resetWarningCache=ML;var yde=function(){function t(r,s,i,o,l,c){if(c!==xde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OL,resetWarningCache:ML};return n.PropTypes=n,n};RL.exports=yde();var vde=RL.exports;const et=st(vde),{getOwnPropertyNames:bde,getOwnPropertySymbols:wde}=Object,{hasOwnProperty:_de}=Object.prototype;function Cy(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function Lh(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function Nde(t){return t!=null?t[Symbol.toStringTag]:void 0}function bC(t){return bde(t).concat(wde(t))}const Sde=Object.hasOwn||((t,e)=>_de.call(t,e));function Ao(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Ede="__v",Tde="__o",Ade="_owner",{getOwnPropertyDescriptor:wC,keys:_C}=Object;function kde(t,e){return t.byteLength===e.byteLength&&Gm(new Uint8Array(t),new Uint8Array(e))}function Cde(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jde(t,e){return t.byteLength===e.byteLength&&Gm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Ide(t,e){return Ao(t.getTime(),e.getTime())}function Pde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rde(t,e){return t===e}function NC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,x=l.value;if(n.equals(h[0],x[0],c,f,t,e,n)&&n.equals(h[1],x[1],h[0],x[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Mde=Ao;function Ode(t,e,n){const r=_C(t);let s=r.length;if(_C(e).length!==s)return!1;for(;s-- >0;)if(!DL(t,e,n,r[s]))return!1;return!0}function wu(t,e,n){const r=bC(t);let s=r.length;if(bC(e).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=r[s],!DL(t,e,n,i)||(o=wC(t,i),l=wC(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Dde(t,e){return Ao(t.valueOf(),e.valueOf())}function Lde(t,e){return t.source===e.source&&t.flags===e.flags}function SC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Gm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $de(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function DL(t,e,n,r){return(r===Ade||r===Tde||r===Ede)&&(t.$$typeof||e.$$typeof)?!0:Sde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Vde="[object ArrayBuffer]",Fde="[object Arguments]",Ude="[object Boolean]",Bde="[object DataView]",qde="[object Date]",zde="[object Error]",Gde="[object Map]",Hde="[object Number]",Wde="[object Object]",Kde="[object RegExp]",Jde="[object Set]",Yde="[object String]",Xde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Qde="[object URL]",Zde=Object.prototype.toString;function efe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:v}){return function(y,w,_){if(y===w)return!0;if(y==null||w==null)return!1;const S=typeof y;if(S!==typeof w)return!1;if(S!=="object")return S==="number"?l(y,w,_):S==="function"?i(y,w,_):!1;const k=y.constructor;if(k!==w.constructor)return!1;if(k===Object)return c(y,w,_);if(Array.isArray(y))return e(y,w,_);if(k===Date)return r(y,w,_);if(k===RegExp)return d(y,w,_);if(k===Map)return o(y,w,_);if(k===Set)return f(y,w,_);const A=Zde.call(y);if(A===qde)return r(y,w,_);if(A===Kde)return d(y,w,_);if(A===Gde)return o(y,w,_);if(A===Jde)return f(y,w,_);if(A===Wde)return typeof y.then!="function"&&typeof w.then!="function"&&c(y,w,_);if(A===Qde)return x(y,w,_);if(A===zde)return s(y,w,_);if(A===Fde)return c(y,w,_);if(Xde[A])return h(y,w,_);if(A===Vde)return t(y,w,_);if(A===Bde)return n(y,w,_);if(A===Ude||A===Hde||A===Yde)return u(y,w,_);if(v){let N=v[A];if(!N){const E=Nde(y);E&&(N=v[E])}if(N)return N(y,w,_)}return!1}}function tfe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:kde,areArraysEqual:n?wu:Cde,areDataViewsEqual:jde,areDatesEqual:Ide,areErrorsEqual:Pde,areFunctionsEqual:Rde,areMapsEqual:n?Cy(NC,wu):NC,areNumbersEqual:Mde,areObjectsEqual:n?wu:Ode,arePrimitiveWrappersEqual:Dde,areRegExpsEqual:Lde,areSetsEqual:n?Cy(SC,wu):SC,areTypedArraysEqual:n?Cy(Gm,wu):Gm,areUrlsEqual:$de,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=Lh(r.areArraysEqual),i=Lh(r.areMapsEqual),o=Lh(r.areObjectsEqual),l=Lh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function nfe(t){return function(e,n,r,s,i,o,l){return t(e,n,l)}}function rfe({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const sfe=va();va({strict:!0});va({circular:!0});va({circular:!0,strict:!0});va({createInternalComparator:()=>Ao});va({strict:!0,createInternalComparator:()=>Ao});va({circular:!0,createInternalComparator:()=>Ao});va({circular:!0,createInternalComparator:()=>Ao,strict:!0});function va(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=tfe(t),o=efe(i),l=n?n(o):nfe(o);return rfe({circular:e,comparator:o,createState:r,equals:l,strict:s})}function ife(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function EC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>e?(t(i),n=-1):ife(s)};requestAnimationFrame(r)}function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function afe(t){return ufe(t)||cfe(t)||lfe(t)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return TC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(t,e)}}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ufe(t){if(Array.isArray(t))return t}function dfe(){var t={},e=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=afe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){EC(s.bind(null,u),c);return}s(c),EC(s.bind(null,u));return}nw(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){LL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LL(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return tf(e)==="symbol"?e:String(e)}function hfe(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},mfe=function(e){return e},gfe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},nd=function(e,n){return Object.keys(n).reduce(function(r,s){return kC(kC({},r),{},LL({},s,e(s,n[s])))},{})},CC=function(e,n,r){return e.map(function(s){return"".concat(gfe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function xfe(t,e){return bfe(t)||vfe(t,e)||$L(t,e)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bfe(t){if(Array.isArray(t))return t}function wfe(t){return Sfe(t)||Nfe(t)||$L(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $L(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function Nfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sfe(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hm=1e-4,VL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},FL=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},jC=function(e,n){return function(r){var s=VL(e,n);return FL(s,r)}},Efe=function(e,n){return function(r){var s=VL(e,n),i=[].concat(wfe(s.map(function(o,l){return o*l}).slice(1)),[0]);return FL(i,r)}},IC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=xfe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=jC(s,o),h=jC(i,l),x=Efe(s,o),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var _=w>1?1:w,S=_,k=0;k<8;++k){var A=f(S)-_,N=x(S);if(Math.abs(A-_)<Hm||N<Hm)return h(S);S=v(S-A/N)}return h(S)};return b.isStepper=!1,b},Tfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var x=-(d-f)*r,v=h*i,b=h+(x-v)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<Hm&&Math.abs(b)<Hm?[f,0]:[y,b]};return c.isStepper=!0,c.dt=l,c},Afe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IC(s);case"spring":return Tfe();default:if(s.split("(")[0]==="cubic-bezier")return IC(s)}return typeof s=="function"?s:null};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function PC(t){return jfe(t)||Cfe(t)||UL(t)||kfe()}function kfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jfe(t){if(Array.isArray(t))return iw(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sw(t,e,n){return e=Ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Pfe(t,"string");return nf(e)==="symbol"?e:String(e)}function Pfe(t,e){if(nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rfe(t,e){return Dfe(t)||Ofe(t,e)||UL(t,e)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UL(t,e){if(t){if(typeof t=="string")return iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(t,e)}}function iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ofe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Dfe(t){if(Array.isArray(t))return t}var Wm=function(e,n,r){return e+(n-e)*r},aw=function(e){var n=e.from,r=e.to;return n!==r},Lfe=function t(e,n,r){var s=nd(function(i,o){if(aw(o)){var l=e(o.from,o.to,o.velocity),c=Rfe(l,2),u=c[0],d=c[1];return cn(cn({},o),{},{from:u,velocity:d})}return o},n);return r<1?nd(function(i,o){return aw(o)?cn(cn({},o),{},{velocity:Wm(o.velocity,s[i].velocity,r),from:Wm(o.from,s[i].from,r)}):o},n):t(e,s,r-1)};const $fe=function(t,e,n,r,s){var i=pfe(t,e),o=i.reduce(function(y,w){return cn(cn({},y),{},sw({},w,[t[w],e[w]]))},{}),l=i.reduce(function(y,w){return cn(cn({},y),{},sw({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return nd(function(w,_){return _.from},l)},x=function(){return!Object.values(l).filter(aw).length},v=function(w){u||(u=w);var _=w-u,S=_/n.dt;l=Lfe(n,l,S),s(cn(cn(cn({},t),e),h())),u=w,x()||(c=requestAnimationFrame(f))},b=function(w){d||(d=w);var _=(w-d)/r,S=nd(function(A,N){return Wm.apply(void 0,PC(N).concat([n(_)]))},o);if(s(cn(cn(cn({},t),e),S)),_<1)c=requestAnimationFrame(f);else{var k=nd(function(A,N){return Wm.apply(void 0,PC(N).concat([n(1)]))},o);s(cn(cn(cn({},t),e),k))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}var Vfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ffe(t,e){if(t==null)return{};var n=Ufe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ufe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jy(t){return Gfe(t)||zfe(t)||qfe(t)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function zfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gfe(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){Mu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mu(t,e,n){return e=BL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BL(r.key),r)}}function Kfe(t,e,n){return e&&Wfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BL(t){var e=Jfe(t,"string");return rc(e)==="symbol"?e:String(e)}function Jfe(t,e){if(rc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lw(t,e)}function Xfe(t){var e=Qfe();return function(){var r=Km(t),s;if(e){var i=Km(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return cw(this,s)}}function cw(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uw(t)}function uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}var Es=function(t){Yfe(n,t);var e=Xfe(n);function n(r,s){var i;Hfe(this,n),i=e.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(uw(i)),i.changeStyle=i.changeStyle.bind(uw(i)),!l||x<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),cw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},cw(i);i.state={style:c?Mu({},c,u):u}}else i.state={style:{}};return i}return Kfe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var x={style:c?Mu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(x);return}if(!(sfe(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:s.to;if(this.state&&h){var y={style:c?Mu({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(y)}this.runAnimation(Br(Br({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,x=$fe(o,l,Afe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=x()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,x=function(b,y,w){if(w===0)return b;var _=y.duration,S=y.easing,k=S===void 0?"ease":S,A=y.style,N=y.properties,E=y.onAnimationEnd,T=w>0?o[w-1]:y,j=N||Object.keys(A);if(typeof k=="function"||k==="spring")return[].concat(jy(b),[i.runJSAnimation.bind(i,{from:T.style,to:A,duration:_,easing:k}),_]);var M=CC(j,_,k),I=Br(Br(Br({},T.style),A),{},{transition:M});return[].concat(jy(b),[I,_,E]).filter(mfe)};return this.manager.start([c].concat(jy(o.reduce(x,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=dfe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,x=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var b=l?Mu({},l,c):c,y=CC(Object.keys(b),o,u);v.start([d,i,Br(Br({},b),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Ffe(s,Vfe),u=D.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(x){var v=x.props,b=v.style,y=b===void 0?{}:b,w=v.className,_=D.cloneElement(x,Br(Br({},c),{},{style:Br(Br({},y),d),className:w}));return _};return u===1?f(D.Children.only(i)):q.createElement("div",null,D.Children.map(i,function(h){return f(h)}))}}]),n}(D.PureComponent);Es.displayName="Animate";Es.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Es.propTypes={from:et.oneOfType([et.object,et.string]),to:et.oneOfType([et.object,et.string]),attributeName:et.string,duration:et.number,begin:et.number,easing:et.oneOfType([et.string,et.func]),steps:et.arrayOf(et.shape({duration:et.number.isRequired,style:et.object.isRequired,easing:et.oneOfType([et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),et.func]),properties:et.arrayOf("string"),onAnimationEnd:et.func})),children:et.oneOfType([et.node,et.func]),isActive:et.bool,canBegin:et.bool,onAnimationEnd:et.func,shouldReAnimate:et.bool,onAnimationStart:et.func,onAnimationReStart:et.func};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function Zfe(t,e){return rhe(t)||nhe(t,e)||the(t,e)||ehe()}function ehe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function the(t,e){if(t){if(typeof t=="string")return OC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(t,e)}}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rhe(t){if(Array.isArray(t))return t}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t){var e=ahe(t,"string");return rf(e)=="symbol"?e:e+""}function ahe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $C=function(e,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,x=4;h<x;h++)f[h]=i[h]>o?o:i[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+s)),d+="L ".concat(e+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(e,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*v,`
            L `).concat(e+r,",").concat(n+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+s,`
            L `).concat(e+c*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+s-l*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},ohe=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},lhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KN=function(e){var n=LC(LC({},lhe),e),r=D.useRef(),s=D.useState(-1),i=Zfe(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&l(k)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,x=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=De("recharts-rectangle",x);return _?q.createElement(Es,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:v,isActive:_},function(k){var A=k.width,N=k.height,E=k.x,T=k.y;return q.createElement(Es,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:v},q.createElement("path",Jm({},Se(n,!0),{className:S,d:$C(E,T,A,N,h),ref:r})))}):q.createElement("path",Jm({},Se(n,!0),{className:S,d:$C(c,u,d,f,h)}))},che=["points","className","baseLinePoints","connectNulls"];function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function uhe(t,e){if(t==null)return{};var n=dhe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VC(t){return mhe(t)||phe(t)||hhe(t)||fhe()}function fhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hhe(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function phe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mhe(t){if(Array.isArray(t))return dw(t)}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FC=function(e){return e&&e.x===+e.x&&e.y===+e.y},ghe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){FC(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),FC(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},rd=function(e,n){var r=ghe(e);n&&(r=[r.reduce(function(i,o){return[].concat(VC(i),VC(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},xhe=function(e,n,r){var s=rd(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(rd(n.reverse(),r).slice(1))},yhe=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,i=e.connectNulls,o=uhe(e,che);if(!n||!n.length)return null;var l=De("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=xhe(n,s,i);return q.createElement("g",{className:l},q.createElement("path",il({},Se(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",il({},Se(o,!0),{fill:"none",d:rd(n,i)})):null,c?q.createElement("path",il({},Se(o,!0),{fill:"none",d:rd(s,i)})):null)}var d=rd(n,i);return q.createElement("path",il({},Se(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}var U0=function(e){var n=e.cx,r=e.cy,s=e.r,i=e.className,o=De("recharts-dot",i);return n===+n&&r===+r&&s===+s?D.createElement("circle",fw({},Se(e,!1),pm(e),{className:o,cx:n,cy:r,r:s})):null};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var vhe=["x","y","top","left","width","height","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function whe(t,e,n){return e=_he(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=Nhe(t,"string");return sf(e)=="symbol"?e:e+""}function Nhe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function She(t,e){if(t==null)return{};var n=Ehe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ehe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var The=function(e,n,r,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},Ahe=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,x=h===void 0?0:h,v=e.className,b=She(e,vhe),y=bhe({x:r,y:i,top:l,left:u,width:f,height:x},b);return!ie(r)||!ie(i)||!ie(f)||!ie(x)||!ie(l)||!ie(u)?null:q.createElement("path",hw({},Se(y,!0),{className:De("recharts-cross",v),d:The(r,i,f,x,l,u)}))},khe=D0,Che=eL,jhe=Cs;function Ihe(t,e){return t&&t.length?khe(t,jhe(e),Che):void 0}var Phe=Ihe;const Rhe=st(Phe);var Mhe=D0,Ohe=Cs,Dhe=tL;function Lhe(t,e){return t&&t.length?Mhe(t,Ohe(e),Dhe):void 0}var $he=Lhe;const Vhe=st($he);var Fhe=["cx","cy","angle","ticks","axisLine"],Uhe=["ticks","tick","angle","tickFormatter","stroke"];function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qC(t,e){if(t==null)return{};var n=Bhe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function zhe(t,e,n){return e&&zC(t.prototype,e),n&&zC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ghe(t,e,n){return e=Ym(e),Hhe(t,qL()?Reflect.construct(e,n||[],Ym(t).constructor):e.apply(t,n))}function Hhe(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Whe(t)}function Whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(t)}function Khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},pw(t,e)}function B0(t,e,n){return e=zL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zL(t){var e=Jhe(t,"string");return sc(e)=="symbol"?e:e+""}function Jhe(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q0=function(t){function e(){return qhe(this,e),Ghe(this,e,arguments)}return Khe(e,t),zhe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return gt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=Rhe(l,function(d){return d.coordinate||0}),u=Vhe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=qC(r,Fhe),d=l.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=gt(s,i,d[0],o),h=gt(s,i,d[1],o),x=Ta(Ta(Ta({},Se(u,!1)),{},{fill:"none"},Se(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return q.createElement("line",sd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=qC(s,Uhe),f=this.getTickTextAnchor(),h=Se(d,!1),x=Se(o,!1),v=i.map(function(b,y){var w=r.getTickValueCoord(b),_=Ta(Ta(Ta(Ta({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},x),{},{index:y},w),{},{payload:b});return q.createElement(He,sd({className:De("recharts-polar-radius-axis-tick",CL(o)),key:"tick-".concat(b.coordinate)},ho(r.props,b,y)),e.renderTickItem(o,_,c?c(b.value,y):b.value))});return q.createElement(He,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:q.createElement(He,{className:De("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,s):Te(r)?o=r(s):o=q.createElement(po,sd({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(D.PureComponent);B0(q0,"displayName","PolarRadiusAxis");B0(q0,"axisType","radiusAxis");B0(q0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function Xhe(t,e,n){return e&&HC(t.prototype,e),n&&HC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qhe(t,e,n){return e=Xm(e),Zhe(t,GL()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function Zhe(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return epe(t)}function epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},mw(t,e)}function z0(t,e,n){return e=HL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HL(t){var e=npe(t,"string");return ic(e)=="symbol"?e:e+""}function npe(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rpe=Math.PI/180,WC=1e-5,G0=function(t){function e(){return Yhe(this,e),Qhe(this,e,arguments)}return tpe(e,t),Xhe(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=gt(i,o,l,r.coordinate),h=gt(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*rpe),o;return i>WC?o=s==="outer"?"start":"end":i<-WC?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Aa(Aa({},Se(this.props,!1)),{},{fill:"none"},Se(l,!1));if(c==="circle")return q.createElement(U0,Oa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return gt(s,i,o,h.coordinate)});return q.createElement(yhe,Oa({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Se(this.props,!1),f=Se(o,!1),h=Aa(Aa({},d),{},{fill:"none"},Se(l,!1)),x=i.map(function(v,b){var y=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),_=Aa(Aa(Aa({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:y.x2,y:y.y2});return q.createElement(He,Oa({className:De("recharts-polar-angle-axis-tick",CL(o)),key:"tick-".concat(v.coordinate)},ho(r.props,v,b)),l&&q.createElement("line",Oa({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,_,c?c(v.value,b):v.value))});return q.createElement(He,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:q.createElement(He,{className:De("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,s):Te(r)?o=r(s):o=q.createElement(po,Oa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(D.PureComponent);z0(G0,"displayName","PolarAngleAxis");z0(G0,"axisType","angleAxis");z0(G0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var spe=X5,ipe=spe(Object.getPrototypeOf,Object),ape=ipe,ope=hi,lpe=ape,cpe=pi,upe="[object Object]",dpe=Function.prototype,fpe=Object.prototype,WL=dpe.toString,hpe=fpe.hasOwnProperty,ppe=WL.call(Object);function mpe(t){if(!cpe(t)||ope(t)!=upe)return!1;var e=lpe(t);if(e===null)return!0;var n=hpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WL.call(n)==ppe}var gpe=mpe;const xpe=st(gpe);var ype=hi,vpe=pi,bpe="[object Boolean]";function wpe(t){return t===!0||t===!1||vpe(t)&&ype(t)==bpe}var _pe=wpe;const Npe=st(_pe);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function Spe(t,e){return kpe(t)||Ape(t,e)||Tpe(t,e)||Epe()}function Epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t,e){if(t){if(typeof t=="string")return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ape(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kpe(t){if(Array.isArray(t))return t}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cpe(t,e,n){return e=jpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jpe(t){var e=Ipe(t,"string");return af(e)=="symbol"?e:e+""}function Ipe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XC=function(e,n,r,s,i){var o=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+i),l+="L ".concat(e+r-o/2-s,",").concat(n+i),l+="L ".concat(e,",").concat(n," Z"),l},Ppe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rpe=function(e){var n=YC(YC({},Ppe),e),r=D.useRef(),s=D.useState(-1),i=Spe(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,x=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=De("recharts-trapezoid",x);return w?q.createElement(Es,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:b,animationEasing:v,isActive:w},function(S){var k=S.upperWidth,A=S.lowerWidth,N=S.height,E=S.x,T=S.y;return q.createElement(Es,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:v},q.createElement("path",Qm({},Se(n,!0),{className:_,d:XC(E,T,k,A,N),ref:r})))}):q.createElement("g",null,q.createElement("path",Qm({},Se(n,!0),{className:_,d:XC(c,u,d,f,h)})))},Mpe=["option","shapeType","propTransformer","activeClassName","isActive"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Ope(t,e){if(t==null)return{};var n=Dpe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lpe(t,e,n){return e=$pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=Vpe(t,"string");return of(e)=="symbol"?e:e+""}function Vpe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fpe(t,e){return Zm(Zm({},e),t)}function Upe(t,e){return t==="symbols"}function ZC(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(KN,n);case"trapezoid":return q.createElement(Rpe,n);case"sector":return q.createElement(PL,n);case"symbols":if(Upe(e))return q.createElement(hN,n);break;default:return null}}function Bpe(t){return D.isValidElement(t)?t.props:t}function KL(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?Fpe:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Ope(t,Mpe),u;if(D.isValidElement(e))u=D.cloneElement(e,Zm(Zm({},c),Bpe(e)));else if(Te(e))u=e(c);else if(xpe(e)&&!Npe(e)){var d=s(e,c);u=q.createElement(ZC,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(ZC,{shapeType:n,elementProps:f})}return l?q.createElement(He,{className:o},u):u}function H0(t,e){return e!=null&&"trapezoids"in t.props}function W0(t,e){return e!=null&&"sectors"in t.props}function lf(t,e){return e!=null&&"points"in t.props}function qpe(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&i}function zpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Gpe(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function Hpe(t,e){var n;return H0(t,e)?n=qpe:W0(t,e)?n=zpe:lf(t,e)&&(n=Gpe),n}function Wpe(t,e){var n;return H0(t,e)?n="trapezoids":W0(t,e)?n="sectors":lf(t,e)&&(n="points"),n}function Kpe(t,e){if(H0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(W0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lf(t,e)?e.payload:{}}function Jpe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=Wpe(n,e),i=Kpe(n,e),o=r.filter(function(c,u){var d=tc(i,c),f=n.props[s].filter(function(v){var b=Hpe(n,e);return b(v,e)}),h=n.props[s].indexOf(f[f.length-1]),x=u===h;return d&&x}),l=r.indexOf(o[o.length-1]);return l}var gp;function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function Xpe(t,e,n){return e&&tj(t.prototype,e),n&&tj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qpe(t,e,n){return e=eg(e),Zpe(t,JL()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function Zpe(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eme(t)}function eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gw(t,e)}function Nr(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=nme(t,"string");return ac(e)=="symbol"?e:e+""}function nme(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gi=function(t){function e(n){var r;return Ype(this,e),r=Qpe(this,e,[n]),Nr(r,"pieRef",null),Nr(r,"sectorRefs",[]),Nr(r,"id",Rc("recharts-pie-")),Nr(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Te(s)&&s()}),Nr(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Te(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return tme(e,t),Xpe(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Se(this.props,!1),f=Se(o,!1),h=Se(l,!1),x=o&&o.offsetRadius||20,v=r.map(function(b,y){var w=(b.startAngle+b.endAngle)/2,_=gt(b.cx,b.cy,b.outerRadius+x,w),S=ft(ft(ft(ft({},d),b),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(_.x,b.cx)},_),k=ft(ft(ft(ft({},d),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[gt(b.cx,b.cy,b.outerRadius,w),_]}),A=c;return Re(c)&&Re(u)?A="value":Re(c)&&(A=u),q.createElement(He,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,k,"line"),e.renderLabelItem(o,S,Wt(b,A)))});return q.createElement(He,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,x=f?o:h,v=ft(ft({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(He,al({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},ho(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(KL,al({option:x,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,x=f.prevIsAnimationActive;return q.createElement(Es,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,y=[],w=i&&i[0],_=w.startAngle;return i.forEach(function(S,k){var A=h&&h[k],N=k>0?fr(S,"paddingAngle",0):0;if(A){var E=Wn(A.endAngle-A.startAngle,S.endAngle-S.startAngle),T=ft(ft({},S),{},{startAngle:_+N,endAngle:_+E(b)+N});y.push(T),_=T.endAngle}else{var j=S.endAngle,M=S.startAngle,I=Wn(0,j-M),O=I(b),R=ft(ft({},S),{},{startAngle:_+N,endAngle:_+O+N});y.push(R),_=R.endAngle}}),q.createElement(He,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!tc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,x=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!ie(u)||!ie(d)||!ie(f)||!ie(h))return null;var b=De("recharts-pie",l);return q.createElement(He,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){r.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),nn.renderCallByParent(this.props,null,!1),(!x||v)&&Ks.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(q.isValidElement(r))return q.cloneElement(r,s);if(Te(r))return r(s);var o=De("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return q.createElement(Tl,al({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(q.isValidElement(r))return q.cloneElement(r,s);var o=i;if(Te(r)&&(o=r(s),q.isValidElement(o)))return o;var l=De("recharts-pie-label-text",typeof r!="boolean"&&!Te(r)?r.className:"");return q.createElement(po,al({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);gp=gi;Nr(gi,"displayName","Pie");Nr(gi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!So.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Nr(gi,"parseDeltaAngle",function(t,e){var n=Dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Nr(gi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Se(t,!1),s=kr(n,C0);return e&&e.length?e.map(function(i,o){return ft(ft(ft({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return ft(ft({},r),i.props)}):[]});Nr(gi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,i=e.height,o=kL(s,i),l=r+Ln(t.cx,s,s/2),c=n+Ln(t.cy,i,i/2),u=Ln(t.innerRadius,o,0),d=Ln(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Nr(gi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ft(ft({},e.type.defaultProps),e.props):e.props,s=gp.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,x=Math.abs(r.minAngle),v=gp.parseCoordinateOfPie(r,n),b=gp.parseDeltaAngle(o,l),y=Math.abs(b),w=u;Re(u)&&Re(f)?(Xr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Re(u)&&(Xr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var _=s.filter(function(T){return Wt(T,w,0)!==0}).length,S=(y>=360?_:_-1)*c,k=y-_*x-S,A=s.reduce(function(T,j){var M=Wt(j,w,0);return T+(ie(M)?M:0)},0),N;if(A>0){var E;N=s.map(function(T,j){var M=Wt(T,w,0),I=Wt(T,d,j),O=(ie(M)?M:0)/A,R;j?R=E.endAngle+Dn(b)*c*(M!==0?1:0):R=o;var H=R+Dn(b)*((M!==0?x:0)+O*k),B=(R+H)/2,$=(v.innerRadius+v.outerRadius)/2,z=[{name:I,value:M,payload:T,dataKey:w,type:h}],V=gt(v.cx,v.cy,$,B);return E=ft(ft(ft({percent:O,cornerRadius:i,name:I,tooltipPayload:z,midAngle:B,middleRadius:$,tooltipPosition:V},T),v),{},{value:Wt(T,w),startAngle:R,endAngle:H,payload:T,paddingAngle:Dn(b)*c}),E})}return ft(ft({},v),{},{sectors:N,data:s})});var rme=Math.ceil,sme=Math.max;function ime(t,e,n,r){for(var s=-1,i=sme(rme((e-t)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=t,t+=n;return o}var ame=ime,ome=gD,nj=1/0,lme=17976931348623157e292;function cme(t){if(!t)return t===0?t:0;if(t=ome(t),t===nj||t===-nj){var e=t<0?-1:1;return e*lme}return t===t?t:0}var XL=cme,ume=ame,dme=k0,Iy=XL;function fme(t){return function(e,n,r){return r&&typeof r!="number"&&dme(e,n,r)&&(n=r=void 0),e=Iy(e),n===void 0?(n=e,e=0):n=Iy(n),r=r===void 0?e<n?1:-1:Iy(r),ume(e,n,r,t)}}var hme=fme,pme=hme,mme=pme(),gme=mme;const tg=st(gme);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){QL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QL(t,e,n){return e=xme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=yme(t,"string");return cf(e)=="symbol"?e:e+""}function yme(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vme=["Webkit","Moz","O","ms"],bme=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=vme.reduce(function(i,o){return sj(sj({},i),{},QL({},o+r,n))},{});return s[e]=n,s};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e6(r.key),r)}}function _me(t,e,n){return e&&aj(t.prototype,e),n&&aj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nme(t,e,n){return e=rg(e),Sme(t,ZL()?Reflect.construct(e,n||[],rg(t).constructor):e.apply(t,n))}function Sme(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eme(t)}function Eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function Tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},xw(t,e)}function ir(t,e,n){return e=e6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e6(t){var e=Ame(t,"string");return oc(e)=="symbol"?e:e+""}function Ame(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kme=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ed().domain(tg(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},oj=function(e){return e.changedTouches&&!!e.changedTouches.length},lc=function(t){function e(n){var r;return wme(this,e),r=Nme(this,e,[n]),ir(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),ir(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(s){var i=oj(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Tme(e,t),_me(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),x=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:x-x%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Wt(i[r],l,r);return Te(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,x=c.endIndex,v=c.onChange,b=r.pageX-i;b>0?b=Math.min(b,u+d-f-l,u+d-f-o):b<0&&(b=Math.max(b,u-o,u-l));var y=this.getIndex({startX:o+b,endX:l+b});(y.startIndex!==h||y.endIndex!==x)&&v&&v(y),this.setState({startX:o+b,endX:l+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=oj(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,x=d.travellerWidth,v=d.onChange,b=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-i;_>0?_=Math.min(_,f+h-x-u):_<0&&(_=Math.max(_,f-u)),w[o]=u+_;var S=this.getIndex(w),k=S.startIndex,A=S.endIndex,N=function(){var T=y.length-1;return o==="startX"&&(l>c?k%b===0:A%b===0)||l<c&&A===T||o==="endX"&&(l>c?A%b===0:k%b===0)||l>c&&A===T};this.setState(ir(ir({},o,u+_),"brushMoveStartX",r.pageX),function(){v&&N()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var x=l[h];s==="startX"&&x>=u||s==="endX"&&x<=c||this.setState(ir({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?q.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,x=c.ariaLabel,v=c.data,b=c.startIndex,y=c.endIndex,w=Math.max(r,this.props.x),_=Py(Py({},Se(this.props,!1)),{},{x:w,y:u,width:d,height:f}),S=x||"Min value: ".concat((i=v[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return q.createElement(He,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,x=5,v={pointerEvents:"none",fill:u};return q.createElement(He,{className:"recharts-brush-texts"},q.createElement(po,ng({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-x,y:o+l/2},v),this.getTextOfTick(s)),q.createElement(po,ng({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+x,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,x=h.startX,v=h.endX,b=h.isTextActive,y=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!s||!s.length||!ie(l)||!ie(c)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var S=De("recharts-brush",i),k=q.Children.count(o)===1,A=bme("userSelect","none");return q.createElement(He,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(x,v),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(v,"endX"),(b||y||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return q.isValidElement(r)?i=q.cloneElement(r,s):Te(r)?i=r(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Py({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?kme({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(D.PureComponent);ir(lc,"displayName","Brush");ir(lc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Cme=bN;function jme(t,e){var n;return Cme(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var Ime=jme,Pme=q5,Rme=Cs,Mme=Ime,Ome=nr,Dme=k0;function Lme(t,e,n){var r=Ome(t)?Pme:Mme;return n&&Dme(t,e,n)&&(e=void 0),r(t,Rme(e))}var $me=Lme;const Vme=st($me);var _s=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n},lj=dD;function Fme(t,e,n){e=="__proto__"&&lj?lj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ume=Fme,Bme=Ume,qme=cD,zme=Cs;function Gme(t,e){var n={};return e=zme(e),qme(t,function(r,s,i){Bme(n,s,e(r,s,i))}),n}var Hme=Gme;const Wme=st(Hme);function Kme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Jme=Kme,Yme=bN;function Xme(t,e){var n=!0;return Yme(t,function(r,s,i){return n=!!e(r,s,i),n}),n}var Qme=Xme,Zme=Jme,ege=Qme,tge=Cs,nge=nr,rge=k0;function sge(t,e,n){var r=nge(t)?Zme:ege;return n&&rge(t,e,n)&&(e=void 0),r(t,tge(e))}var ige=sge;const t6=st(ige);var age=["x","y"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oge(t,e,n){return e=lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=cge(t,"string");return uf(e)=="symbol"?e:e+""}function cge(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uge(t,e){if(t==null)return{};var n=dge(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fge(t,e){var n=t.x,r=t.y,s=uge(t,age),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),f="".concat(e.width||s.width),h=parseInt(f,10);return _u(_u(_u(_u(_u({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function uj(t){return q.createElement(KL,yw({shapeType:"rectangle",propTransformer:fge,activeClassName:"recharts-active-bar"},t))}var hge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof e=="number")return e;var i=ie(r)||MK(r);return i?e(r,s):(i||go(),n)}},pge=["value","background"],n6;function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function mge(t,e){if(t==null)return{};var n=gge(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s6(r.key),r)}}function yge(t,e,n){return e&&fj(t.prototype,e),n&&fj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vge(t,e,n){return e=ig(e),bge(t,r6()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function bge(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wge(t)}function wge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function _ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},vw(t,e)}function Ui(t,e,n){return e=s6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6(t){var e=Nge(t,"string");return cc(e)=="symbol"?e:e+""}function Nge(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qr=function(t){function e(){var n;xge(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=vge(this,e,[].concat(s)),Ui(n,"state",{isAnimationFinished:!1}),Ui(n,"id",Rc("recharts-bar-")),Ui(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ui(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return _ge(e,t),yge(e,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Se(this.props,!1);return r&&r.map(function(f,h){var x=h===c,v=x?u:o,b=Vt(Vt(Vt({},d),f),{},{isActive:x,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(He,sg({className:"recharts-bar-rectangle"},ho(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(uj,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return q.createElement(Es,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t,b=i.map(function(y,w){var _=h&&h[w];if(_){var S=Wn(_.x,y.x),k=Wn(_.y,y.y),A=Wn(_.width,y.width),N=Wn(_.height,y.height);return Vt(Vt({},y),{},{x:S(v),y:k(v),width:A(v),height:N(v)})}if(o==="horizontal"){var E=Wn(0,y.height),T=E(v);return Vt(Vt({},y),{},{y:y.y+y.height-T,height:T})}var j=Wn(0,y.width),M=j(v);return Vt(Vt({},y),{},{width:M})});return q.createElement(He,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!tc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Se(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=mge(u,pge);if(!f)return null;var x=Vt(Vt(Vt(Vt(Vt({},h),{},{fill:"#eee"},f),c),ho(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(uj,sg({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=kr(d,F0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,x=function(y,w){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Wt(y,w)}},v={clipPath:r?"url(#clipPath-".concat(s,")"):null};return q.createElement(He,v,f.map(function(b){return q.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,x=r.isAnimationActive,v=r.background,b=r.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,w=De("recharts-bar",o),_=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,k=_||S,A=Re(b)?this.id:b;return q.createElement(He,{className:w},_||S?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(A)},q.createElement("rect",{x:_?u:u-f/2,y:S?d:d-h/2,width:_?f:f*2,height:S?h:h*2}))):null,q.createElement(He,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,A),(!x||y)&&Ks.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(D.PureComponent);n6=Qr;Ui(Qr,"displayName","Bar");Ui(Qr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!So.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ui(Qr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=Zce(r,n);if(!x)return null;var v=e.layout,b=n.type.defaultProps,y=b!==void 0?Vt(Vt({},b),n.props):n.props,w=y.dataKey,_=y.children,S=y.minPointSize,k=v==="horizontal"?o:i,A=u?k.scale.domain():null,N=aue({numericAxis:k}),E=kr(_,C0),T=f.map(function(j,M){var I,O,R,H,B,$;u?I=eue(u[d+M],A):(I=Wt(j,w),Array.isArray(I)||(I=[N,I]));var z=hge(S,n6.defaultProps.minPointSize)(I[1],M);if(v==="horizontal"){var V,U=[o.scale(I[0]),o.scale(I[1])],F=U[0],G=U[1];O=sC({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:j,index:M}),R=(V=G??F)!==null&&V!==void 0?V:void 0,H=x.size;var K=F-G;if(B=Number.isNaN(K)?0:K,$={x:O,y:o.y,width:H,height:o.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var Q=Dn(B||z)*(Math.abs(z)-Math.abs(B));R-=Q,B+=Q}}else{var de=[i.scale(I[0]),i.scale(I[1])],we=de[0],be=de[1];if(O=we,R=sC({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:j,index:M}),H=be-we,B=x.size,$={x:i.x,y:R,width:i.width,height:B},Math.abs(z)>0&&Math.abs(H)<Math.abs(z)){var $e=Dn(H||z)*(Math.abs(z)-Math.abs(H));H+=$e}}return Vt(Vt(Vt({},j),{},{x:O,y:R,width:H,height:B,value:u?I:I[1],payload:j,background:$},E&&E[M]&&E[M].props),{},{tooltipPayload:[TL(n,j)],tooltipPosition:{x:O+H/2,y:R+B/2}})});return Vt({data:T,layout:v},h)});function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i6(r.key),r)}}function Ege(t,e,n){return e&&hj(t.prototype,e),n&&hj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){K0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0(t,e,n){return e=i6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i6(t){var e=Tge(t,"string");return df(e)=="symbol"?e:e+""}function Tge(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a6=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!or(u,Qr);return d.reduce(function(x,v){var b=n[v],y=b.orientation,w=b.domain,_=b.padding,S=_===void 0?{}:_,k=b.mirror,A=b.reversed,N="".concat(y).concat(k?"Mirror":""),E,T,j,M,I;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=w[1]-w[0],R=1/0,H=b.categoricalDomain.sort(LK);if(H.forEach(function(de,we){we>0&&(R=Math.min((de||0)-(H[we-1]||0),R))}),Number.isFinite(R)){var B=R/O,$=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=B*$/2),b.padding==="no-gap"){var z=Ln(e.barCategoryGap,B*$),V=B*$/2;E=V-z-(V-z)/$*z}}}s==="xAxis"?T=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:s==="yAxis"?T=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:T=b.range,A&&(T=[T[1],T[0]]);var U=_L(b,i,h),F=U.scale,G=U.realScaleType;F.domain(w).range(T),NL(F);var K=SL(F,Gr(Gr({},b),{},{realScaleType:G}));s==="xAxis"?(I=y==="top"&&!k||y==="bottom"&&k,j=r.left,M=f[N]-I*b.height):s==="yAxis"&&(I=y==="left"&&!k||y==="right"&&k,j=f[N]-I*b.width,M=r.top);var Q=Gr(Gr(Gr({},b),K),{},{realScaleType:G,x:j,y:M,scale:F,width:s==="xAxis"?r.width:b.width,height:s==="yAxis"?r.height:b.height});return Q.bandSize=Bm(Q,K),!b.hide&&s==="xAxis"?f[N]+=(I?-1:1)*Q.height:b.hide||(f[N]+=(I?-1:1)*Q.width),Gr(Gr({},x),{},K0({},v,Q))},{})},o6=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},Age=function(e){var n=e.x1,r=e.y1,s=e.x2,i=e.y2;return o6({x:n,y:r},{x:s,y:i})},l6=function(){function t(e){Sge(this,t),this.scale=e}return Ege(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])}();K0(l6,"EPS",1e-4);var JN=function(e){var n=Object.keys(e).reduce(function(r,s){return Gr(Gr({},r),{},K0({},s,l6.create(e[s])))},{});return Gr(Gr({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Wme(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return t6(s,function(i,o){return n[o].isInRange(i)})}})};function kge(t){return(t%180+180)%180}var Cge=function(e){var n=e.width,r=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=kge(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},jge=Cs,Ige=Df,Pge=T0;function Rge(t){return function(e,n,r){var s=Object(e);if(!Ige(e)){var i=jge(n);e=Pge(e),n=function(l){return i(s[l],l,s)}}var o=t(e,n,r);return o>-1?s[i?e[o]:o]:void 0}}var Mge=Rge,Oge=XL;function Dge(t){var e=Oge(t),n=e%1;return e===e?n?e-n:e:0}var Lge=Dge,$ge=rD,Vge=Cs,Fge=Lge,Uge=Math.max;function Bge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:Fge(n);return s<0&&(s=Uge(r+s,0)),$ge(t,Vge(e),s)}var qge=Bge,zge=Mge,Gge=qge,Hge=zge(Gge),Wge=Hge;const Kge=st(Wge);var Jge=FW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),YN=D.createContext(void 0),XN=D.createContext(void 0),c6=D.createContext(void 0),u6=D.createContext({}),d6=D.createContext(void 0),f6=D.createContext(0),h6=D.createContext(0),mj=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Jge(i);return q.createElement(YN.Provider,{value:r},q.createElement(XN.Provider,{value:s},q.createElement(u6.Provider,{value:i},q.createElement(c6.Provider,{value:d},q.createElement(d6.Provider,{value:o},q.createElement(f6.Provider,{value:u},q.createElement(h6.Provider,{value:c},l)))))))},Yge=function(){return D.useContext(d6)},p6=function(e){var n=D.useContext(YN);n==null&&go();var r=n[e];return r==null&&go(),r},Xge=function(){var e=D.useContext(YN);return Oi(e)},Qge=function(){var e=D.useContext(XN),n=Kge(e,function(r){return t6(r.domain,Number.isFinite)});return n||Oi(e)},m6=function(e){var n=D.useContext(XN);n==null&&go();var r=n[e];return r==null&&go(),r},Zge=function(){var e=D.useContext(c6);return e},e0e=function(){return D.useContext(u6)},QN=function(){return D.useContext(h6)},ZN=function(){return D.useContext(f6)};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function t0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x6(r.key),r)}}function r0e(t,e,n){return e&&n0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,n){return e=ag(e),i0e(t,g6()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function i0e(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a0e(t)}function a0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function o0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},bw(t,e)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){eS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eS(t,e,n){return e=x6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x6(t){var e=l0e(t,"string");return uc(e)=="symbol"?e:e+""}function l0e(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c0e(t,e){return h0e(t)||f0e(t,e)||d0e(t,e)||u0e()}function u0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(t,e){if(t){if(typeof t=="string")return yj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yj(t,e)}}function yj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function h0e(t){if(Array.isArray(t))return t}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}var p0e=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):Te(e)?r=e(n):r=q.createElement("line",ww({},n,{className:"recharts-reference-line-line"})),r},m0e=function(e,n,r,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,x=i.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(_s(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:d+h,y:b},{x:d,y:b}];return c==="left"?y.reverse():y}if(n){var w=u.x,_=e.x.apply(w,{position:o});if(_s(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+x},{x:_,y:f}];return l==="top"?S.reverse():S}if(s){var k=u.segment,A=k.map(function(N){return e.apply(N,{position:o})});return _s(u,"discard")&&Vme(A,function(N){return!e.isInRange(N)})?null:A}return null};function g0e(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Yge(),d=p6(s),f=m6(i),h=Zge();if(!u||!h)return null;Xr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=JN({x:d.scale,y:f.scale}),v=Jt(e),b=Jt(n),y=r&&r.length===2,w=m0e(x,v,b,y,h,t.position,d.orientation,f.orientation,t);if(!w)return null;var _=c0e(w,2),S=_[0],k=S.x,A=S.y,N=_[1],E=N.x,T=N.y,j=_s(t,"hidden")?"url(#".concat(u,")"):void 0,M=xj(xj({clipPath:j},Se(t,!0)),{},{x1:k,y1:A,x2:E,y2:T});return q.createElement(He,{className:De("recharts-reference-line",l)},p0e(o,M),nn.renderCallByParent(t,Age({x1:k,y1:A,x2:E,y2:T})))}var tS=function(t){function e(){return t0e(this,e),s0e(this,e,arguments)}return o0e(e,t),r0e(e,[{key:"render",value:function(){return q.createElement(g0e,this.props)}}])}(q.Component);eS(tS,"displayName","ReferenceLine");eS(tS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){J0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v6(r.key),r)}}function v0e(t,e,n){return e&&y0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b0e(t,e,n){return e=og(e),w0e(t,y6()?Reflect.construct(e,n||[],og(t).constructor):e.apply(t,n))}function w0e(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0e(t)}function _0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}function N0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Nw(t,e)}function J0(t,e,n){return e=v6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=S0e(t,"string");return dc(e)=="symbol"?e:e+""}function S0e(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E0e=function(e){var n=e.x,r=e.y,s=e.xAxis,i=e.yAxis,o=JN({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return _s(e,"discard")&&!o.isInRange(l)?null:l},Y0=function(t){function e(){return x0e(this,e),b0e(this,e,arguments)}return N0e(e,t),v0e(e,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Jt(s),d=Jt(i);if(Xr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=E0e(this.props);if(!f)return null;var h=f.x,x=f.y,v=this.props,b=v.shape,y=v.className,w=_s(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=bj(bj({clipPath:w},Se(this.props,!0)),{},{cx:h,cy:x});return q.createElement(He,{className:De("recharts-reference-dot",y)},e.renderDot(b,_),nn.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])}(q.Component);J0(Y0,"displayName","ReferenceDot");J0(Y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});J0(Y0,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Te(t)?n=t(e):n=q.createElement(U0,_w({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w6(r.key),r)}}function k0e(t,e,n){return e&&A0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C0e(t,e,n){return e=lg(e),j0e(t,b6()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function j0e(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(t)}function I0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function P0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ew(t,e)}function X0(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=R0e(t,"string");return fc(e)=="symbol"?e:e+""}function R0e(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M0e=function(e,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=JN({x:d.scale,y:f.scale}),x={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return _s(i,"discard")&&(!h.isInRange(x)||!h.isInRange(v))?null:o6(x,v)},Q0=function(t){function e(){return T0e(this,e),C0e(this,e,arguments)}return P0e(e,t),k0e(e,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Xr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Jt(s),h=Jt(i),x=Jt(o),v=Jt(l),b=this.props.shape;if(!f&&!h&&!x&&!v&&!b)return null;var y=M0e(f,h,x,v,this.props);if(!y&&!b)return null;var w=_s(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(He,{className:De("recharts-reference-area",c)},e.renderRect(b,_j(_j({clipPath:w},Se(this.props,!0)),y)),nn.renderCallByParent(this.props,y))}}])}(q.Component);X0(Q0,"displayName","ReferenceArea");X0(Q0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});X0(Q0,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Te(t)?n=t(e):n=q.createElement(KN,Sw({},e,{className:"recharts-reference-area-rect"})),n});function _6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function O0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Cge(r,n)}function D0e(t,e,n){var r=n==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function cg(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function L0e(t,e){return _6(t,e+1)}function $0e(t,e,n,r,s){for(var i=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:_6(r,u)};var b=c,y,w=function(){return y===void 0&&(y=n(v,b)),y},_=v.coordinate,S=c===0||cg(t,_,w,d,l);S||(c=0,d=o,u+=1),S&&(d=_+t*(w()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){V0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0e(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=U0e(t,"string");return ff(e)=="symbol"?e:e+""}function U0e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t,e,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(h){var x=i[h],v,b=function(){return v===void 0&&(v=n(x,h)),v};if(h===o-1){var y=t*(x.coordinate+t*b()/2-c);i[h]=x=En(En({},x),{},{tickCoord:y>0?x.coordinate-y*t:x.coordinate})}else i[h]=x=En(En({},x),{},{tickCoord:x.coordinate});var w=cg(t,x.tickCoord,b,l,c);w&&(c=x.tickCoord-t*(b()/2+s),i[h]=En(En({},x),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function q0e(t,e,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=En(En({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var x=cg(t,d.tickCoord,function(){return f},c,u);x&&(u=d.tickCoord-t*(f/2+s),o[l-1]=En(En({},d),{},{isShow:!0}))}for(var v=i?l-1:l,b=function(_){var S=o[_],k,A=function(){return k===void 0&&(k=n(S,_)),k};if(_===0){var N=t*(S.coordinate-t*A()/2-c);o[_]=S=En(En({},S),{},{tickCoord:N<0?S.coordinate-N*t:S.coordinate})}else o[_]=S=En(En({},S),{},{tickCoord:S.coordinate});var E=cg(t,S.tickCoord,A,c,u);E&&(c=S.tickCoord+t*(A()/2+s),o[_]=En(En({},S),{},{isShow:!0}))},y=0;y<v;y++)b(y);return o}function nS(t,e,n){var r=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!s||!s.length||!r)return[];if(ie(c)||So.isSsr)return L0e(s,typeof c=="number"&&ie(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",v=d&&x==="width"?Zu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,k){var A=Te(u)?u(S.value,k):S.value;return x==="width"?O0e(Zu(A,{fontSize:e,letterSpacing:n}),v,f):Zu(A,{fontSize:e,letterSpacing:n})[x]},y=s.length>=2?Dn(s[1].coordinate-s[0].coordinate):1,w=D0e(i,y,x);return c==="equidistantPreserveStart"?$0e(y,w,b,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=q0e(y,w,b,s,o,c==="preserveStartEnd"):h=B0e(y,w,b,s,o),h.filter(function(_){return _.isShow}))}var z0e=["viewBox"],G0e=["viewBox"],H0e=["ticks"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ry(t,e){if(t==null)return{};var n=W0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S6(r.key),r)}}function J0e(t,e,n){return e&&Ej(t.prototype,e),n&&Ej(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y0e(t,e,n){return e=ug(e),X0e(t,N6()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function X0e(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q0e(t)}function Q0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N6=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function Z0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Tw(t,e)}function rS(t,e,n){return e=S6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=exe(t,"string");return hc(e)=="symbol"?e:e+""}function exe(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fc=function(t){function e(n){var r;return K0e(this,e),r=Y0e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Z0e(e,t),J0e(e,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=Ry(r,z0e),l=this.props,c=l.viewBox,u=Ry(l,G0e);return!Nl(i,c)||!Nl(o,u)||!Nl(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,x,v,b,y,w,_,S=f?-1:1,k=r.tickSize||d,A=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=v=r.coordinate,y=o+ +!f*c,b=y-S*k,_=b-S*h,w=A;break;case"left":b=y=r.coordinate,v=i+ +!f*l,x=v-S*k,w=x-S*h,_=A;break;case"right":b=y=r.coordinate,v=i+ +f*l,x=v+S*k,w=x+S*h,_=A;break;default:x=v=r.coordinate,y=o+ +f*c,b=y+S*k,_=b+S*h,w=A;break}return{line:{x1:x,y1:b,x2:v,y2:y},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=zt(zt(zt({},Se(this.props,!1)),Se(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=zt(zt({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=zt(zt({},f),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return q.createElement("line",ol({},f,{className:De("recharts-cartesian-axis-line",fr(d,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,x=nS(zt(zt({},this.props),{},{ticks:r}),s,i),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Se(this.props,!1),w=Se(d,!1),_=zt(zt({},y),{},{fill:"none"},Se(c,!1)),S=x.map(function(k,A){var N=o.getTickLineCoord(k),E=N.line,T=N.tick,j=zt(zt(zt(zt({textAnchor:v,verticalAnchor:b},y),{},{stroke:"none",fill:u},w),T),{},{index:A,payload:k,visibleTicksCount:x.length,tickFormatter:f});return q.createElement(He,ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},ho(o.props,k,A)),c&&q.createElement("line",ol({},_,E,{className:De("recharts-cartesian-axis-tick-line",fr(c,"className"))})),d&&e.renderTickItem(d,j,"".concat(Te(f)?f(k.value,A):k.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,x=Ry(f,H0e),v=h;return Te(c)&&(v=h&&h.length>0?c(this.props):c(x)),o<=0||l<=0||!v||!v.length?null:q.createElement(He,{className:De("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=De(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,zt(zt({},s),{},{className:l})):Te(r)?o=r(zt(zt({},s),{},{className:l})):o=q.createElement(po,ol({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(D.Component);rS(Fc,"displayName","CartesianAxis");rS(Fc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var txe=["x1","y1","x2","y2","key"],nxe=["offset"];function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rxe(t,e,n){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t){var e=ixe(t,"string");return xo(e)=="symbol"?e:e+""}function ixe(t,e){if(xo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}function Aj(t,e){if(t==null)return{};var n=axe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function axe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return q.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function E6(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=Aj(e,txe),u=Se(c,!1);u.offset;var d=Aj(u,nxe);n=q.createElement("line",qa({},d,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function lxe(t){var e=t.x,n=t.width,r=t.horizontal,s=r===void 0?!0:r,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Cn(Cn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return E6(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cxe(t){var e=t.y,n=t.height,r=t.vertical,s=r===void 0?!0:r,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Cn(Cn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return E6(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uxe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var v=!d[x+1],b=v?s+o-h:d[x+1]-h;if(b<=0)return null;var y=x%e.length;return q.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:b,width:i,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dxe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var v=!d[x+1],b=v?i+l-h:d[x+1]-h;if(b<=0)return null;var y=x%r.length;return q.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:b,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fxe=function(e,n){var r=e.xAxis,s=e.width,i=e.height,o=e.offset;return wL(nS(Cn(Cn(Cn({},Fc.defaultProps),r),{},{ticks:zs(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},hxe=function(e,n){var r=e.yAxis,s=e.width,i=e.height,o=e.offset;return wL(nS(Cn(Cn(Cn({},Fc.defaultProps),r),{},{ticks:zs(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},$o={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hf(t){var e,n,r,s,i,o,l=QN(),c=ZN(),u=e0e(),d=Cn(Cn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:$o.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:$o.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:$o.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:$o.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:$o.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:$o.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=d.x,h=d.y,x=d.width,v=d.height,b=d.syncWithTicks,y=d.horizontalValues,w=d.verticalValues,_=Xge(),S=Qge();if(!ie(x)||x<=0||!ie(v)||v<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||fxe,A=d.horizontalCoordinatesGenerator||hxe,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&Te(A)){var T=y&&y.length,j=A({yAxis:S?Cn(Cn({},S),{},{ticks:T?y:S.ticks}):void 0,width:l,height:c,offset:u},T?!0:b);Xr(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xo(j),"]")),Array.isArray(j)&&(N=j)}if((!E||!E.length)&&Te(k)){var M=w&&w.length,I=k({xAxis:_?Cn(Cn({},_),{},{ticks:M?w:_.ticks}):void 0,width:l,height:c,offset:u},M?!0:b);Xr(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xo(I),"]")),Array.isArray(I)&&(E=I)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(oxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(lxe,qa({},d,{offset:u,horizontalPoints:N,xAxis:_,yAxis:S})),q.createElement(cxe,qa({},d,{offset:u,verticalPoints:E,xAxis:_,yAxis:S})),q.createElement(uxe,qa({},d,{horizontalPoints:N})),q.createElement(dxe,qa({},d,{verticalPoints:E})))}hf.displayName="CartesianGrid";var pxe=["layout","type","stroke","connectNulls","isRange","ref"],mxe=["key"],T6;function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function A6(t,e){if(t==null)return{};var n=gxe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},za.apply(this,arguments)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){hs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function yxe(t,e,n){return e&&Cj(t.prototype,e),n&&Cj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vxe(t,e,n){return e=dg(e),bxe(t,k6()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function bxe(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wxe(t)}function wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function _xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Aw(t,e)}function hs(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=Nxe(t,"string");return pc(e)=="symbol"?e:e+""}function Nxe(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ss=function(t){function e(){var n;xxe(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=vxe(this,e,[].concat(s)),hs(n,"state",{isAnimationFinished:!0}),hs(n,"id",Rc("recharts-area-")),hs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(o)&&o()}),hs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(o)&&o()}),n}return _xe(e,t),yxe(e,[{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Se(this.props,!1),x=Se(u,!0),v=d.map(function(y,w){var _=Si(Si(Si({key:"dot-".concat(w),r:3},h),x),{},{index:w,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,_)}),b={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(He,za({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=Fi(o.map(function(h){return h.y||0}));return ie(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Fi(i.map(function(h){return h.y||0})),f)),ie(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=Fi(o.map(function(h){return h.x||0}));return ie(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Fi(i.map(function(h){return h.x||0})),f)),ie(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var x=A6(l,pxe);return q.createElement(He,{clipPath:i?"url(#clipPath-".concat(o,")"):null},q.createElement(Tl,za({},Se(x,!0),{points:r,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement(Tl,za({},Se(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&q.createElement(Tl,za({},Se(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,x=o.animationId,v=this.state,b=v.prevPoints,y=v.prevBaseLine;return q.createElement(Es,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(b){var S=b.length/l.length,k=l.map(function(T,j){var M=Math.floor(j*S);if(b[M]){var I=b[M],O=Wn(I.x,T.x),R=Wn(I.y,T.y);return Si(Si({},T),{},{x:O(_),y:R(_)})}return T}),A;if(ie(c)&&typeof c=="number"){var N=Wn(y,c);A=N(_)}else if(Re(c)||Pc(c)){var E=Wn(y,0);A=E(_)}else A=c.map(function(T,j){var M=Math.floor(j*S);if(y[M]){var I=y[M],O=Wn(I.x,T.x),R=Wn(I.y,T.y);return Si(Si({},T),{},{x:O(_),y:R(_)})}return T});return i.renderAreaStatically(k,A,r,s)}return q.createElement(He,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(_))),q.createElement(He,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,r,s)))})}},{key:"renderArea",value:function(r,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!tc(d,o)||!tc(f,l))?this.renderAreaWithAnimation(r,s):this.renderAreaStatically(o,l,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,x=s.width,v=s.height,b=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,_=l.length===1,S=De("recharts-area",c),k=f&&f.allowDataOverflow,A=h&&h.allowDataOverflow,N=k||A,E=Re(y)?this.id:y,T=(r=Se(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=T.r,M=j===void 0?3:j,I=T.strokeWidth,O=I===void 0?2:I,R=HK(o)?o:{},H=R.clipDot,B=H===void 0?!0:H,$=M*2+O;return q.createElement(He,{className:S},k||A?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:k?d:d-x/2,y:A?u:u-v/2,width:k?x:x*2,height:A?v:v*2})),!B&&q.createElement("clipPath",{id:"clipPath-dots-".concat(E)},q.createElement("rect",{x:d-$/2,y:u-$/2,width:x+$,height:v+$}))):null,_?null:this.renderArea(N,E),(o||_)&&this.renderDots(N,B,E),(!b||w)&&Ks.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:r.points!==s.curPoints||r.baseLine!==s.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);T6=ss;hs(ss,"displayName","Area");hs(ss,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!So.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});hs(ss,"getBaseValue",function(t,e,n,r){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(ie(l)&&typeof l=="number")return l;var c=s==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});hs(ss,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=e.layout,v=u&&u.length,b=T6.getBaseValue(e,n,r,s),y=x==="horizontal",w=!1,_=f.map(function(k,A){var N;v?N=u[d+A]:(N=Wt(k,c),Array.isArray(N)?w=!0:N=[b,N]);var E=N[1]==null||v&&Wt(k,c)==null;return y?{x:rC({axis:r,ticks:i,bandSize:l,entry:k,index:A}),y:E?null:s.scale(N[1]),value:N,payload:k}:{x:E?null:r.scale(N[1]),y:rC({axis:s,ticks:o,bandSize:l,entry:k,index:A}),value:N,payload:k}}),S;return v||w?S=_.map(function(k){var A=Array.isArray(k.value)?k.value[0]:null;return y?{x:k.x,y:A!=null&&k.y!=null?s.scale(A):null}:{x:A!=null?r.scale(A):null,y:k.y}}):S=y?s.scale(b):r.scale(b),Si({points:_,baseLine:S,layout:x,isRange:w},h)});hs(ss,"renderDotItem",function(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=De("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=A6(e,mxe);n=q.createElement(U0,za({},i,{key:s,className:r}))}return n});function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Exe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function Txe(t,e,n){return e&&Exe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Axe(t,e,n){return e=fg(e),kxe(t,j6()?Reflect.construct(e,n||[],fg(t).constructor):e.apply(t,n))}function kxe(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(t)}function Cxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(t)}function jxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},kw(t,e)}function I6(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=Ixe(t,"string");return mc(e)=="symbol"?e:e+""}function Ixe(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function Pxe(t){var e=t.xAxisId,n=QN(),r=ZN(),s=p6(e);return s==null?null:D.createElement(Fc,Cw({},s,{className:De("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return zs(o,!0)}}))}var ua=function(t){function e(){return Sxe(this,e),Axe(this,e,arguments)}return jxe(e,t),Txe(e,[{key:"render",value:function(){return D.createElement(Pxe,this.props)}}])}(D.Component);I6(ua,"displayName","XAxis");I6(ua,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function Rxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O6(r.key),r)}}function Oxe(t,e,n){return e&&Mxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dxe(t,e,n){return e=hg(e),Lxe(t,R6()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function Lxe(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $xe(t)}function $xe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R6=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function Vxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},jw(t,e)}function M6(t,e,n){return e=O6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O6(t){var e=Fxe(t,"string");return gc(e)=="symbol"?e:e+""}function Fxe(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}var Uxe=function(e){var n=e.yAxisId,r=QN(),s=ZN(),i=m6(n);return i==null?null:D.createElement(Fc,Iw({},i,{className:De("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return zs(l,!0)}}))},da=function(t){function e(){return Rxe(this,e),Dxe(this,e,arguments)}return Vxe(e,t),Oxe(e,[{key:"render",value:function(){return D.createElement(Uxe,this.props)}}])}(D.Component);M6(da,"displayName","YAxis");M6(da,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jj(t){return Gxe(t)||zxe(t)||qxe(t)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function zxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gxe(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rw=function(e,n,r,s,i){var o=kr(e,tS),l=kr(e,Y0),c=[].concat(jj(o),jj(l)),u=kr(e,Q0),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(b,y){if(y.props[d]===r&&_s(y.props,"extendDomain")&&ie(y.props[f])){var w=y.props[f];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var x="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,y){if(y.props[d]===r&&_s(y.props,"extendDomain")&&ie(y.props[x])&&ie(y.props[v])){var w=y.props[x],_=y.props[v];return[Math.min(b[0],w,_),Math.max(b[1],w,_)]}return b},h)}return i&&i.length&&(h=i.reduce(function(b,y){return ie(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},h)),h},D6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new s(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],x]:c._events[v].push(x):(c._events[v]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,x=f.length,v=new Array(x);h<x;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,x,v){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,_,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,x),!0;case 6:return y.fn.call(y.context,d,f,h,x,v),!0}for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];y.fn.apply(y.context,_)}else{var k=y.length,A;for(S=0;S<k;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!_)for(A=1,_=new Array(w-1);A<w;A++)_[A-1]=arguments[A];y[S].fn.apply(y[S].context,_)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var x=n?n+u:u;if(!this._events[x])return this;if(!d)return o(this,x),this;var v=this._events[x];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,x);else{for(var b=0,y=[],w=v.length;b<w;b++)(v[b].fn!==d||h&&!v[b].once||f&&v[b].context!==f)&&y.push(v[b]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(D6);var Hxe=D6.exports;const Wxe=st(Hxe);var My=new Wxe,Oy="recharts.syncMouseEvents";function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Kxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L6(r.key),r)}}function Yxe(t,e,n){return e&&Jxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dy(t,e,n){return e=L6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t){var e=Xxe(t,"string");return pf(e)=="symbol"?e:e+""}function Xxe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qxe=function(){function t(){Kxe(this,t),Dy(this,"activeIndex",0),Dy(this,"coordinateList",[]),Dy(this,"layout","horizontal")}return Yxe(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Zxe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&ie(r)&&ie(s))return!0}return!1}function eye(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $6(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,i=t.endAngle,o=gt(e,n,r,s),l=gt(e,n,r,i);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}function tye(t,e,n){var r,s,i,o;if(t==="horizontal")r=e.x,i=r,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=gt(l,c,u,f),x=gt(l,c,d,f);r=h.x,s=h.y,i=x.x,o=x.y}else return $6(e);return[{x:r,y:s},{x:i,y:o}]}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(n),!0).forEach(function(r){nye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nye(t,e,n){return e=rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rye(t){var e=sye(t,"string");return mf(e)=="symbol"?e:e+""}function sye(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iye(t){var e,n,r=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var v,b=Tl;if(h==="ScatterChart")v=o,b=Ahe;else if(h==="BarChart")v=eye(f,o,c,d),b=KN;else if(f==="radial"){var y=$6(o),w=y.cx,_=y.cy,S=y.radius,k=y.startAngle,A=y.endAngle;v={cx:w,cy:_,startAngle:k,endAngle:A,innerRadius:S,outerRadius:S},b=PL}else v={points:tye(f,o,c)},b=Tl;var N=$h($h($h($h({stroke:"#ccc",pointerEvents:"none"},c),v),Se(x,!1)),{},{payload:l,payloadIndex:u,className:De("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,N):D.createElement(b,N)}var aye=["item"],oye=["children","className","width","height","style","compact","title","desc"];function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function Pj(t,e){return uye(t)||cye(t,e)||F6(t,e)||lye()}function lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uye(t){if(Array.isArray(t))return t}function Rj(t,e){if(t==null)return{};var n=dye(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U6(r.key),r)}}function pye(t,e,n){return e&&hye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mye(t,e,n){return e=pg(e),gye(t,V6()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function gye(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(t)}function xye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function yye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Mw(t,e)}function yc(t){return wye(t)||bye(t)||F6(t)||vye()}function vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function bye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wye(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e,n){return e=U6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6(t){var e=_ye(t,"string");return xc(e)=="symbol"?e:e+""}function _ye(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nye={xAxis:["bottom","top"],yAxis:["left","right"]},Sye={width:"100%",height:"100%"},B6={x:0,y:0};function Vh(t){return t}var Eye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Tye=function(e,n,r,s){var i=n.find(function(d){return d&&d.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return te(te(te({},s),gt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return te(te(te({},s),gt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return B6},Z0=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(yc(l),yc(u)):l},[]);return o.length>0?o:e&&e.length&&ie(s)&&ie(i)?e.slice(s,i+1):[]};function q6(t){return t==="number"?[0,"auto"]:void 0}var Dw=function(e,n,r,s){var i=e.graphicalItems,o=e.tooltipAxis,l=Z0(n,e);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;h=hm(x,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(yc(c),[TL(u,h)]):c},[])},Oj=function(e,n,r,s){var i=s||{x:e.chartX,y:e.chartY},o=Eye(i,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Wce(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Dw(e,n,d,f),x=Tye(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:x}}return null},Aye=function(e,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,x=bL(d,i);return r.reduce(function(v,b){var y,w=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,_=w.type,S=w.dataKey,k=w.allowDataOverflow,A=w.allowDuplicatedCategory,N=w.scale,E=w.ticks,T=w.includeHidden,j=w[o];if(v[j])return v;var M=Z0(e.data,{graphicalItems:s.filter(function(K){var Q,de=o in K.props?K.props[o]:(Q=K.type.defaultProps)===null||Q===void 0?void 0:Q[o];return de===j}),dataStartIndex:c,dataEndIndex:u}),I=M.length,O,R,H;Zxe(w.domain,k,_)&&(O=Xb(w.domain,null,k),x&&(_==="number"||N!=="auto")&&(H=td(M,S,"category")));var B=q6(_);if(!O||O.length===0){var $,z=($=w.domain)!==null&&$!==void 0?$:B;if(S){if(O=td(M,S,_),_==="category"&&x){var V=DK(O);A&&V?(R=O,O=tg(0,I)):A||(O=oC(z,O,b).reduce(function(K,Q){return K.indexOf(Q)>=0?K:[].concat(yc(K),[Q])},[]))}else if(_==="category")A?O=O.filter(function(K){return K!==""&&!Re(K)}):O=oC(z,O,b).reduce(function(K,Q){return K.indexOf(Q)>=0||Q===""||Re(Q)?K:[].concat(yc(K),[Q])},[]);else if(_==="number"){var U=Qce(M,s.filter(function(K){var Q,de,we=o in K.props?K.props[o]:(Q=K.type.defaultProps)===null||Q===void 0?void 0:Q[o],be="hide"in K.props?K.props.hide:(de=K.type.defaultProps)===null||de===void 0?void 0:de.hide;return we===j&&(T||!be)}),S,i,d);U&&(O=U)}x&&(_==="number"||N!=="auto")&&(H=td(M,S,"category"))}else x?O=tg(0,I):l&&l[j]&&l[j].hasStack&&_==="number"?O=h==="expand"?[0,1]:EL(l[j].stackGroups,c,u):O=vL(M,s.filter(function(K){var Q=o in K.props?K.props[o]:K.type.defaultProps[o],de="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Q===j&&(T||!de)}),_,d,!0);if(_==="number")O=Rw(f,O,j,i,E),z&&(O=Xb(z,O,k));else if(_==="category"&&z){var F=z,G=O.every(function(K){return F.indexOf(K)>=0});G&&(O=F)}}return te(te({},v),{},Ee({},j,te(te({},w),{},{axisType:i,domain:O,categoricalDomain:H,duplicateDomain:R,originalDomain:(y=w.domain)!==null&&y!==void 0?y:B,isCategorical:x,layout:d})))},{})},kye=function(e,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Z0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=h.length,v=bL(d,i),b=-1;return r.reduce(function(y,w){var _=w.type.defaultProps!==void 0?te(te({},w.type.defaultProps),w.props):w.props,S=_[o],k=q6("number");if(!y[S]){b++;var A;return v?A=tg(0,x):l&&l[S]&&l[S].hasStack?(A=EL(l[S].stackGroups,c,u),A=Rw(f,A,S,i)):(A=Xb(k,vL(h,r.filter(function(N){var E,T,j=o in N.props?N.props[o]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[o],M="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return j===S&&!M}),"number",d),s.defaultProps.allowDataOverflow),A=Rw(f,A,S,i)),te(te({},y),{},Ee({},S,te(te({axisType:i},s.defaultProps),{},{hide:!0,orientation:fr(Nye,"".concat(i,".").concat(b%2),null),domain:A,originalDomain:k,isCategorical:v,layout:d})))}return y},{})},Cye=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(s,"Id"),h=kr(d,i),x={};return h&&h.length?x=Aye(e,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=kye(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},jye=function(e){var n=Oi(e),r=zs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wN(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Bm(n,r)}},Dj=function(e){var n=e.children,r=e.defaultShowTooltip,s=or(n,lc),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Iye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},Lj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Pye=function(e,n){var r=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},x=or(f,lc),v=or(f,Ya),b=Object.keys(c).reduce(function(A,N){var E=c[N],T=E.orientation;return!E.mirror&&!E.hide?te(te({},A),{},Ee({},T,A[T]+E.width)):A},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(A,N){var E=o[N],T=E.orientation;return!E.mirror&&!E.hide?te(te({},A),{},Ee({},T,fr(A,"".concat(T))+E.height)):A},{top:h.top||0,bottom:h.bottom||0}),w=te(te({},y),b),_=w.bottom;x&&(w.bottom+=x.props.height||lc.defaultProps.height),v&&n&&(w=Yce(w,s,r,n));var S=u-w.left-w.right,k=d-w.top-w.bottom;return te(te({brushBottom:_},w),{},{width:Math.max(S,0),height:Math.max(k,0)})},Rye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},sS=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(w,_){var S=_.graphicalItems,k=_.stackGroups,A=_.offset,N=_.updateId,E=_.dataStartIndex,T=_.dataEndIndex,j=w.barSize,M=w.layout,I=w.barGap,O=w.barCategoryGap,R=w.maxBarSize,H=Lj(M),B=H.numericAxisName,$=H.cateAxisName,z=Iye(S),V=[];return S.forEach(function(U,F){var G=Z0(w.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:T}),K=U.type.defaultProps!==void 0?te(te({},U.type.defaultProps),U.props):U.props,Q=K.dataKey,de=K.maxBarSize,we=K["".concat(B,"Id")],be=K["".concat($,"Id")],$e={},tt=c.reduce(function(ot,qt){var qn=_["".concat(qt.axisType,"Map")],ee=K["".concat(qt.axisType,"Id")];qn&&qn[ee]||qt.axisType==="zAxis"||go();var me=qn[ee];return te(te({},ot),{},Ee(Ee({},qt.axisType,me),"".concat(qt.axisType,"Ticks"),zs(me)))},$e),le=tt[$],_e=tt["".concat($,"Ticks")],X=k&&k[we]&&k[we].hasStack&&oue(U,k[we].stackGroups),Y=Hs(U.type).indexOf("Bar")>=0,W=Bm(le,_e),ce=[],Me=z&&Kce({barSize:j,stackGroups:k,totalSize:Rye(tt,$)});if(Y){var pe,Fe,xt=Re(de)?R:de,Qt=(pe=(Fe=Bm(le,_e,!0))!==null&&Fe!==void 0?Fe:xt)!==null&&pe!==void 0?pe:0;ce=Jce({barGap:I,barCategoryGap:O,bandSize:Qt!==W?Qt:W,sizeList:Me[be],maxBarSize:xt}),Qt!==W&&(ce=ce.map(function(ot){return te(te({},ot),{},{position:te(te({},ot.position),{},{offset:ot.position.offset-Qt/2})})}))}var Rt=U&&U.type&&U.type.getComposedData;Rt&&V.push({props:te(te({},Rt(te(te({},tt),{},{displayedData:G,props:w,dataKey:Q,item:U,bandSize:W,barPosition:ce,offset:A,stackedData:X,layout:M,dataStartIndex:E,dataEndIndex:T}))),{},Ee(Ee(Ee({key:U.key||"item-".concat(F)},B,tt[B]),$,tt[$]),"animationId",N)),childIndex:JK(U,w.children),item:U})}),V},x=function(w,_){var S=w.props,k=w.dataStartIndex,A=w.dataEndIndex,N=w.updateId;if(!e2({props:S}))return null;var E=S.children,T=S.layout,j=S.stackOffset,M=S.data,I=S.reverseStackOrder,O=Lj(T),R=O.numericAxisName,H=O.cateAxisName,B=kr(E,r),$=iue(M,B,"".concat(R,"Id"),"".concat(H,"Id"),j,I),z=c.reduce(function(K,Q){var de="".concat(Q.axisType,"Map");return te(te({},K),{},Ee({},de,Cye(S,te(te({},Q),{},{graphicalItems:B,stackGroups:Q.axisType===R&&$,dataStartIndex:k,dataEndIndex:A}))))},{}),V=Pye(te(te({},z),{},{props:S,graphicalItems:B}),_==null?void 0:_.legendBBox);Object.keys(z).forEach(function(K){z[K]=d(S,z[K],V,K.replace("Map",""),n)});var U=z["".concat(H,"Map")],F=jye(U),G=h(S,te(te({},z),{},{dataStartIndex:k,dataEndIndex:A,updateId:N,graphicalItems:B,stackGroups:$,offset:V}));return te(te({formattedGraphicalItems:G,graphicalItems:B,offset:V,stackGroups:$},F),z)},v=function(y){function w(_){var S,k,A;return fye(this,w),A=mye(this,w,[_]),Ee(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(A,"accessibilityManager",new Qxe),Ee(A,"handleLegendBBoxUpdate",function(N){if(N){var E=A.state,T=E.dataStartIndex,j=E.dataEndIndex,M=E.updateId;A.setState(te({legendBBox:N},x({props:A.props,dataStartIndex:T,dataEndIndex:j,updateId:M},te(te({},A.state),{},{legendBBox:N}))))}}),Ee(A,"handleReceiveSyncEvent",function(N,E,T){if(A.props.syncId===N){if(T===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),Ee(A,"handleBrushChange",function(N){var E=N.startIndex,T=N.endIndex;if(E!==A.state.dataStartIndex||T!==A.state.dataEndIndex){var j=A.state.updateId;A.setState(function(){return te({dataStartIndex:E,dataEndIndex:T},x({props:A.props,dataStartIndex:E,dataEndIndex:T,updateId:j},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),Ee(A,"handleMouseEnter",function(N){var E=A.getMouseInfo(N);if(E){var T=te(te({},E),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var j=A.props.onMouseEnter;Te(j)&&j(T,N)}}),Ee(A,"triggeredAfterMouseMove",function(N){var E=A.getMouseInfo(N),T=E?te(te({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var j=A.props.onMouseMove;Te(j)&&j(T,N)}),Ee(A,"handleItemMouseEnter",function(N){A.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ee(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ee(A,"handleMouseMove",function(N){N.persist(),A.throttleTriggeredAfterMouseMove(N)}),Ee(A,"handleMouseLeave",function(N){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var T=A.props.onMouseLeave;Te(T)&&T(E,N)}),Ee(A,"handleOuterEvent",function(N){var E=KK(N),T=fr(A.props,"".concat(E));if(E&&Te(T)){var j,M;/.*touch.*/i.test(E)?M=A.getMouseInfo(N.changedTouches[0]):M=A.getMouseInfo(N),T((j=M)!==null&&j!==void 0?j:{},N)}}),Ee(A,"handleClick",function(N){var E=A.getMouseInfo(N);if(E){var T=te(te({},E),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var j=A.props.onClick;Te(j)&&j(T,N)}}),Ee(A,"handleMouseDown",function(N){var E=A.props.onMouseDown;if(Te(E)){var T=A.getMouseInfo(N);E(T,N)}}),Ee(A,"handleMouseUp",function(N){var E=A.props.onMouseUp;if(Te(E)){var T=A.getMouseInfo(N);E(T,N)}}),Ee(A,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ee(A,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.handleMouseDown(N.changedTouches[0])}),Ee(A,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.handleMouseUp(N.changedTouches[0])}),Ee(A,"handleDoubleClick",function(N){var E=A.props.onDoubleClick;if(Te(E)){var T=A.getMouseInfo(N);E(T,N)}}),Ee(A,"handleContextMenu",function(N){var E=A.props.onContextMenu;if(Te(E)){var T=A.getMouseInfo(N);E(T,N)}}),Ee(A,"triggerSyncEvent",function(N){A.props.syncId!==void 0&&My.emit(Oy,A.props.syncId,N,A.eventEmitterSymbol)}),Ee(A,"applySyncEvent",function(N){var E=A.props,T=E.layout,j=E.syncMethod,M=A.state.updateId,I=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)A.setState(te({dataStartIndex:I,dataEndIndex:O},x({props:A.props,dataStartIndex:I,dataEndIndex:O,updateId:M},A.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,H=N.chartY,B=N.activeTooltipIndex,$=A.state,z=$.offset,V=$.tooltipTicks;if(!z)return;if(typeof j=="function")B=j(V,N);else if(j==="value"){B=-1;for(var U=0;U<V.length;U++)if(V[U].value===N.activeLabel){B=U;break}}var F=te(te({},z),{},{x:z.left,y:z.top}),G=Math.min(R,F.x+F.width),K=Math.min(H,F.y+F.height),Q=V[B]&&V[B].value,de=Dw(A.state,A.props.data,B),we=V[B]?{x:T==="horizontal"?V[B].coordinate:G,y:T==="horizontal"?K:V[B].coordinate}:B6;A.setState(te(te({},N),{},{activeLabel:Q,activeCoordinate:we,activePayload:de,activeTooltipIndex:B}))}else A.setState(N)}),Ee(A,"renderCursor",function(N){var E,T=A.state,j=T.isTooltipActive,M=T.activeCoordinate,I=T.activePayload,O=T.offset,R=T.activeTooltipIndex,H=T.tooltipAxisBandSize,B=A.getTooltipEventType(),$=(E=N.props.active)!==null&&E!==void 0?E:j,z=A.props.layout,V=N.key||"_recharts-cursor";return q.createElement(iye,{key:V,activeCoordinate:M,activePayload:I,activeTooltipIndex:R,chartName:n,element:N,isActive:$,layout:z,offset:O,tooltipAxisBandSize:H,tooltipEventType:B})}),Ee(A,"renderPolarAxis",function(N,E,T){var j=fr(N,"type.axisType"),M=fr(A.state,"".concat(j,"Map")),I=N.type.defaultProps,O=I!==void 0?te(te({},I),N.props):N.props,R=M&&M[O["".concat(j,"Id")]];return D.cloneElement(N,te(te({},R),{},{className:De(j,R.className),key:N.key||"".concat(E,"-").concat(T),ticks:zs(R,!0)}))}),Ee(A,"renderPolarGrid",function(N){var E=N.props,T=E.radialLines,j=E.polarAngles,M=E.polarRadius,I=A.state,O=I.radiusAxisMap,R=I.angleAxisMap,H=Oi(O),B=Oi(R),$=B.cx,z=B.cy,V=B.innerRadius,U=B.outerRadius;return D.cloneElement(N,{polarAngles:Array.isArray(j)?j:zs(B,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(M)?M:zs(H,!0).map(function(F){return F.coordinate}),cx:$,cy:z,innerRadius:V,outerRadius:U,key:N.key||"polar-grid",radialLines:T})}),Ee(A,"renderLegend",function(){var N=A.state.formattedGraphicalItems,E=A.props,T=E.children,j=E.width,M=E.height,I=A.props.margin||{},O=j-(I.left||0)-(I.right||0),R=xL({children:T,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!R)return null;var H=R.item,B=Rj(R,aye);return D.cloneElement(H,te(te({},B),{},{chartWidth:j,chartHeight:M,margin:I,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ee(A,"renderTooltip",function(){var N,E=A.props,T=E.children,j=E.accessibilityLayer,M=or(T,Gn);if(!M)return null;var I=A.state,O=I.isTooltipActive,R=I.activeCoordinate,H=I.activePayload,B=I.activeLabel,$=I.offset,z=(N=M.props.active)!==null&&N!==void 0?N:O;return D.cloneElement(M,{viewBox:te(te({},$),{},{x:$.left,y:$.top}),active:z,label:B,payload:z?H:[],coordinate:R,accessibilityLayer:j})}),Ee(A,"renderBrush",function(N){var E=A.props,T=E.margin,j=E.data,M=A.state,I=M.offset,O=M.dataStartIndex,R=M.dataEndIndex,H=M.updateId;return D.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Mh(A.handleBrushChange,N.props.onChange),data:j,x:ie(N.props.x)?N.props.x:I.left,y:ie(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:ie(N.props.width)?N.props.width:I.width,startIndex:O,endIndex:R,updateId:"brush-".concat(H)})}),Ee(A,"renderReferenceElement",function(N,E,T){if(!N)return null;var j=A,M=j.clipPathId,I=A.state,O=I.xAxisMap,R=I.yAxisMap,H=I.offset,B=N.type.defaultProps||{},$=N.props,z=$.xAxisId,V=z===void 0?B.xAxisId:z,U=$.yAxisId,F=U===void 0?B.yAxisId:U;return D.cloneElement(N,{key:N.key||"".concat(E,"-").concat(T),xAxis:O[V],yAxis:R[F],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:M})}),Ee(A,"renderActivePoints",function(N){var E=N.item,T=N.activePoint,j=N.basePoint,M=N.childIndex,I=N.isRange,O=[],R=E.props.key,H=E.item.type.defaultProps!==void 0?te(te({},E.item.type.defaultProps),E.item.props):E.item.props,B=H.activeDot,$=H.dataKey,z=te(te({index:M,dataKey:$,cx:T.x,cy:T.y,r:4,fill:WN(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Se(B,!1)),pm(B));return O.push(w.renderActiveDot(B,z,"".concat(R,"-activePoint-").concat(M))),j?O.push(w.renderActiveDot(B,te(te({},z),{},{cx:j.x,cy:j.y}),"".concat(R,"-basePoint-").concat(M))):I&&O.push(null),O}),Ee(A,"renderGraphicChild",function(N,E,T){var j=A.filterFormatItem(N,E,T);if(!j)return null;var M=A.getTooltipEventType(),I=A.state,O=I.isTooltipActive,R=I.tooltipAxis,H=I.activeTooltipIndex,B=I.activeLabel,$=A.props.children,z=or($,Gn),V=j.props,U=V.points,F=V.isRange,G=V.baseLine,K=j.item.type.defaultProps!==void 0?te(te({},j.item.type.defaultProps),j.item.props):j.item.props,Q=K.activeDot,de=K.hide,we=K.activeBar,be=K.activeShape,$e=!!(!de&&O&&z&&(Q||we||be)),tt={};M!=="axis"&&z&&z.props.trigger==="click"?tt={onClick:Mh(A.handleItemMouseEnter,N.props.onClick)}:M!=="axis"&&(tt={onMouseLeave:Mh(A.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Mh(A.handleItemMouseEnter,N.props.onMouseEnter)});var le=D.cloneElement(N,te(te({},j.props),tt));function _e(qt){return typeof R.dataKey=="function"?R.dataKey(qt.payload):null}if($e)if(H>=0){var X,Y;if(R.dataKey&&!R.allowDuplicatedCategory){var W=typeof R.dataKey=="function"?_e:"payload.".concat(R.dataKey.toString());X=hm(U,W,B),Y=F&&G&&hm(G,W,B)}else X=U==null?void 0:U[H],Y=F&&G&&G[H];if(be||we){var ce=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[D.cloneElement(N,te(te(te({},j.props),tt),{},{activeIndex:ce})),null,null]}if(!Re(X))return[le].concat(yc(A.renderActivePoints({item:j,activePoint:X,basePoint:Y,childIndex:H,isRange:F})))}else{var Me,pe=(Me=A.getItemByXY(A.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:le},Fe=pe.graphicalItem,xt=Fe.item,Qt=xt===void 0?N:xt,Rt=Fe.childIndex,ot=te(te(te({},j.props),tt),{},{activeIndex:Rt});return[D.cloneElement(Qt,ot),null,null]}return F?[le,null,null]:[le,null]}),Ee(A,"renderCustomized",function(N,E,T){return D.cloneElement(N,te(te({key:"recharts-customized-".concat(T)},A.props),A.state))}),Ee(A,"renderMap",{CartesianGrid:{handler:Vh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Vh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Vh},YAxis:{handler:Vh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:Rc("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=xD(A.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),A.state={},A}return yye(w,y),pye(w,[{key:"componentDidMount",value:function(){var S,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,k=S.children,A=S.data,N=S.height,E=S.layout,T=or(k,Gn);if(T){var j=T.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,I=Dw(this.state,A,j,M),O=this.state.tooltipTicks[j].coordinate,R=(this.state.offset.top+N)/2,H=E==="horizontal",B=H?{x:O,y:R}:{y:O,x:R},$=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});$&&(B=te(te({},B),$.props.points[j].tooltipPosition),I=$.props.points[j].tooltipPayload);var z={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:M,activePayload:I,activeCoordinate:B};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,N;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(S){fb([or(S.children,Gn)],[or(this.props.children,Gn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=or(this.props.children,Gn);if(S&&typeof S.props.shared=="boolean"){var k=S.props.shared?"axis":"item";return l.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var k=this.container,A=k.getBoundingClientRect(),N=wie(A),E={chartX:Math.round(S.pageX-N.left),chartY:Math.round(S.pageY-N.top)},T=A.width/k.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,T);if(!j)return null;var M=this.state,I=M.xAxisMap,O=M.yAxisMap,R=this.getTooltipEventType(),H=Oj(this.state,this.props.data,this.props.layout,j);if(R!=="axis"&&I&&O){var B=Oi(I).scale,$=Oi(O).scale,z=B&&B.invert?B.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return te(te({},E),{},{xValue:z,yValue:V},H)}return H?te(te({},E),H):null}},{key:"inRange",value:function(S,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=S/A,T=k/A;if(N==="horizontal"||N==="vertical"){var j=this.state.offset,M=E>=j.left&&E<=j.left+j.width&&T>=j.top&&T<=j.top+j.height;return M?{x:E,y:T}:null}var I=this.state,O=I.angleAxisMap,R=I.radiusAxisMap;if(O&&R){var H=Oi(O);return uC({x:E,y:T},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,k=this.getTooltipEventType(),A=or(S,Gn),N={};A&&k==="axis"&&(A.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=pm(this.props,this.handleOuterEvent);return te(te({},E),N)}},{key:"addListener",value:function(){My.on(Oy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){My.removeListener(Oy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,k,A){for(var N=this.state.formattedGraphicalItems,E=0,T=N.length;E<T;E++){var j=N[E];if(j.item===S||j.props.key===S.key||k===Hs(j.item.type)&&A===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,k=this.state.offset,A=k.left,N=k.top,E=k.height,T=k.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:A,y:N,height:E,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(k,A){var N=Pj(A,2),E=N[0],T=N[1];return te(te({},k),{},Ee({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(k,A){var N=Pj(A,2),E=N[0],T=N[1];return te(te({},k),{},Ee({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(S){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(S){var k=this.state,A=k.formattedGraphicalItems,N=k.activeItem;if(A&&A.length)for(var E=0,T=A.length;E<T;E++){var j=A[E],M=j.props,I=j.item,O=I.type.defaultProps!==void 0?te(te({},I.type.defaultProps),I.props):I.props,R=Hs(I.type);if(R==="Bar"){var H=(M.data||[]).find(function(V){return ohe(S,V)});if(H)return{graphicalItem:j,payload:H}}else if(R==="RadialBar"){var B=(M.data||[]).find(function(V){return uC(S,V)});if(B)return{graphicalItem:j,payload:B}}else if(H0(j,N)||W0(j,N)||lf(j,N)){var $=Jpe({graphicalItem:j,activeTooltipItem:N,itemData:O.data}),z=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:te(te({},j),{},{childIndex:z}),payload:lf(j,N)?O.data[$]:j.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!e2(this))return null;var k=this.props,A=k.children,N=k.className,E=k.width,T=k.height,j=k.style,M=k.compact,I=k.title,O=k.desc,R=Rj(k,oye),H=Se(R,!1);if(M)return q.createElement(mj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(pb,ll({},H,{width:E,height:T,title:I,desc:O}),this.renderClipPath(),n2(A,this.renderMap)));if(this.props.accessibilityLayer){var B,$;H.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,H.role=($=this.props.role)!==null&&$!==void 0?$:"application",H.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},H.onFocus=function(){S.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return q.createElement(mj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",ll({className:De("recharts-wrapper",N),style:te({position:"relative",cursor:"default",width:E,height:T},j)},z,{ref:function(U){S.container=U}}),q.createElement(pb,ll({},H,{width:E,height:T,title:I,desc:O,style:Sye}),this.renderClipPath(),n2(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);Ee(v,"displayName",n),Ee(v,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(v,"getDerivedStateFromProps",function(y,w){var _=y.dataKey,S=y.data,k=y.children,A=y.width,N=y.height,E=y.layout,T=y.stackOffset,j=y.margin,M=w.dataStartIndex,I=w.dataEndIndex;if(w.updateId===void 0){var O=Dj(y);return te(te(te({},O),{},{updateId:0},x(te(te({props:y},O),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:S,prevWidth:A,prevHeight:N,prevLayout:E,prevStackOffset:T,prevMargin:j,prevChildren:k})}if(_!==w.prevDataKey||S!==w.prevData||A!==w.prevWidth||N!==w.prevHeight||E!==w.prevLayout||T!==w.prevStackOffset||!Nl(j,w.prevMargin)){var R=Dj(y),H={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},B=te(te({},Oj(w,S,E)),{},{updateId:w.updateId+1}),$=te(te(te({},R),H),B);return te(te(te({},$),x(te({props:y},$),w)),{},{prevDataKey:_,prevData:S,prevWidth:A,prevHeight:N,prevLayout:E,prevStackOffset:T,prevMargin:j,prevChildren:k})}if(!fb(k,w.prevChildren)){var z,V,U,F,G=or(k,lc),K=G&&(z=(V=G.props)===null||V===void 0?void 0:V.startIndex)!==null&&z!==void 0?z:M,Q=G&&(U=(F=G.props)===null||F===void 0?void 0:F.endIndex)!==null&&U!==void 0?U:I,de=K!==M||Q!==I,we=!Re(S),be=we&&!de?w.updateId:w.updateId+1;return te(te({updateId:be},x(te(te({props:y},w),{},{updateId:be,dataStartIndex:K,dataEndIndex:Q}),w)),{},{prevChildren:k,dataStartIndex:K,dataEndIndex:Q})}return null}),Ee(v,"renderActiveDot",function(y,w,_){var S;return D.isValidElement(y)?S=D.cloneElement(y,w):Te(y)?S=y(w):S=q.createElement(U0,w),q.createElement(He,{className:"recharts-active-dot",key:_},S)});var b=D.forwardRef(function(w,_){return q.createElement(v,ll({},w,{ref:_}))});return b.displayName=v.displayName,b},z6=sS({chartName:"BarChart",GraphicalChild:Qr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ua},{axisType:"yAxis",AxisComp:da}],formatAxisMap:a6}),Mye=sS({chartName:"PieChart",GraphicalChild:gi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:G0},{axisType:"radiusAxis",AxisComp:q0}],formatAxisMap:xue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),G6=sS({chartName:"AreaChart",GraphicalChild:ss,axisComponents:[{axisType:"xAxis",AxisComp:ua},{axisType:"yAxis",AxisComp:da}],formatAxisMap:a6});const Oye=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],$j=()=>a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:rs,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:As,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:ii,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:pr,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((t,e)=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${t.bg} ${t.color} group-hover:scale-110 transition-transform`,children:a.jsx(t.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${t.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.trend})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:t.label}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:t.value})]},e))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(Qu,{width:"100%",height:"100%",children:a.jsxs(G6,{data:Oye,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(hf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ua,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(da,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(Gn,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),a.jsx(ss,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(ss,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ib,{className:"w-6 h-6 text-orange-500"}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),a.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[a.jsx("span",{className:"text-xs font-bold text-slate-300",children:t.task}),t.status==="done"?a.jsx(fn,{className:"w-4 h-4 text-green-400"}):a.jsx(K4,{className:"w-4 h-4 text-orange-500"})]},e))}),a.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[a.jsx(Hl,{className:"w-4 h-4"})," Aadir Requisito"]})]}),a.jsx(um,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[a.jsx(a0,{className:"w-5 h-5 text-orange-600 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]}),Dye=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!1),[s,i]=D.useState(!0),[o,l]=D.useState({name:"",price:"",stock:"",code:""}),c=async()=>{i(!0);const d=await Ku(ct(Ae,"products"));e(d.docs.map(f=>({id:f.id,...f.data()}))),i(!1)};D.useEffect(()=>{c()},[]);const u=async d=>{d.preventDefault(),await sr(ct(Ae,"products"),{...o,price:Number(o.price),stock:Number(o.stock)}),r(!1),l({name:"",price:"",stock:"",code:""}),c()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Inventario"}),a.jsxs("button",{onClick:()=>r(!0),className:"bg-orange-600 text-white px-6 py-4 rounded-2xl font-bold flex items-center gap-2",children:[a.jsx(Ze,{size:20})," Nuevo Producto"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cdigo"}),a.jsx("th",{className:"px-8 py-5",children:"Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Stock"}),a.jsx("th",{className:"px-8 py-5",children:"Precio"})]})}),a.jsx("tbody",{children:t.map(d=>a.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-8 py-5 text-xs text-slate-400 font-mono",children:d.code}),a.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:d.name}),a.jsxs("td",{className:"px-8 py-5 font-black text-orange-600",children:[d.stock," UNID."]}),a.jsxs("td",{className:"px-8 py-5 font-black text-slate-900",children:["$",d.price]})]},d.id))})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:a.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-lg shadow-2xl",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-6",children:"Nuevo Producto"}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsx("input",{required:!0,type:"text",placeholder:"Nombre",className:"w-full p-4 bg-slate-50 rounded-2xl",value:o.name,onChange:d=>l({...o,name:d.target.value})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{required:!0,type:"text",placeholder:"Cdigo",className:"w-full p-4 bg-slate-50 rounded-2xl",value:o.code,onChange:d=>l({...o,code:d.target.value})}),a.jsx("input",{required:!0,type:"number",placeholder:"Precio",className:"w-full p-4 bg-slate-50 rounded-2xl",value:o.price,onChange:d=>l({...o,price:d.target.value})})]}),a.jsx("input",{required:!0,type:"number",placeholder:"Stock",className:"w-full p-4 bg-slate-50 rounded-2xl",value:o.stock,onChange:d=>l({...o,stock:d.target.value})}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Guardar"}),a.jsx("button",{type:"button",onClick:()=>r(!1),className:"w-full text-slate-400 font-bold uppercase text-[10px] py-2",children:"Cancelar"})]})]})})]})},Lye=()=>{const{addSale:t,addOrder:e,fetchProductsPaginatedAndFiltered:n,clients:r,updateProduct:s}=Lt(),[i,o]=D.useState(""),[l,c]=D.useState([]),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,v]=D.useState(!1),[b,y]=D.useState({name:"",price:0,quantity:1}),[w,_]=D.useState(null),[S,k]=D.useState(""),[A,N]=D.useState(!1),[E,T]=D.useState("ticket"),[j,M]=D.useState([]),[I,O]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""}),[R,H]=D.useState([]),[B,$]=D.useState(!1),[z,V]=D.useState(null),[U,F]=D.useState("primary"),G=D.useRef(null),K=D.useCallback(W=>{G.current&&clearTimeout(G.current),G.current=setTimeout(async()=>{if(W.length<2){H([]);return}$(!0);try{const{products:ce}=await n({limit:8,searchTerm:W.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});H(ce)}finally{$(!1)}},300)},[n]),Q=W=>{W.isFractionable&&W.saleUnitConversionFactor&&W.saleUnit!==W.primaryUnit?(V(W),F("primary")):(we(W,W.primaryUnit),V(null))},de=()=>{if(z&&U){let W=z.primaryUnit;U!=="primary"&&(W=z.saleUnit),we(z,W),V(null),F("primary")}},we=(W,ce)=>{let Me=W.salePrice,pe=1;ce===W.saleUnit&&W.isFractionable&&W.saleUnitConversionFactor&&(Me=W.salePrice*W.saleUnitConversionFactor,pe=W.saleUnitConversionFactor);const Fe=l.findIndex(xt=>xt.id===W.id&&xt.selectedSaleUnit===ce);c(Fe!==-1?l.map((xt,Qt)=>Qt===Fe?{...xt,quantity:xt.quantity+1}:xt):[...l,{id:W.id,sku:W.sku,name:W.name,brand:W.brand,price:parseFloat(Me.toFixed(2)),quantity:1,stockBeforeSale:W.stock,primaryUnit:W.primaryUnit,selectedSaleUnit:ce,saleUnitConversionFactor:pe}]),o(""),H([]),V(null)},be=()=>{if(!b.name||b.price<=0)return;const W={id:`manual-${Date.now()}`,sku:"MANUAL",name:b.name,brand:"Venta Libre",price:b.price,quantity:b.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1};c([...l,W]),h(!1),y({name:"",price:0,quantity:1})},$e=l.reduce((W,ce)=>W+ce.price*ce.quantity,0),tt=j.reduce((W,ce)=>W+ce.amount,0),le=$e-tt,_e=D.useMemo(()=>S?r.filter(W=>{var ce;return W.name.toLowerCase().includes(S.toLowerCase())||W.cuit.includes(S)||((ce=W.email)==null?void 0:ce.toLowerCase().includes(S.toLowerCase()))}).slice(0,5):[],[r,S]),X=()=>{if(!(I.amount<=0)){if((I.method==="cheque"||I.method==="echeq")&&(!I.bank||!I.checkNumber||!I.dueDate)){alert("Por favor, completa los datos del cheque (Banco, Nmero y Vencimiento).");return}M([...j,{...I,id:Date.now().toString()}]),O({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""})}},Y=async()=>{if(E!=="presupuesto"&&Math.abs(le)>.01){alert(`Falta cubrir $${le.toLocaleString()} del total.`);return}v(!0);try{const W=[],ce=[];for(const pe of l)if(W.push({id:pe.id,sku:pe.sku,name:pe.name,brand:pe.brand,price:pe.price,quantity:pe.quantity,subtotal:parseFloat((pe.price*pe.quantity).toFixed(2)),isManual:pe.isManual,selectedSaleUnit:pe.selectedSaleUnit}),!pe.isManual&&E!=="presupuesto"){const Fe=pe.quantity*pe.saleUnitConversionFactor;ce.push(s(pe.id,{stock:pe.stockBeforeSale-Fe}))}await Promise.all(ce);const Me={clientName:(w==null?void 0:w.name)||"Mostrador",clientId:(w==null?void 0:w.id)||null,items:W,total:$e,paymentDetails:j,docType:E,date:new Date().toISOString(),status:E==="presupuesto"?"pendiente":"completado",seller:"Vendedor Demo",remitoIds:[]};E==="presupuesto"?(await e({clientId:(w==null?void 0:w.id)||"mostrador",clientName:(w==null?void 0:w.name)||"Mostrador",items:l.map(pe=>({productId:pe.id,sku:pe.sku,name:pe.name,brand:pe.brand,quantity:pe.quantity,unitPrice:pe.price,subtotal:pe.price*pe.quantity,originalProduct:null,selectedSaleUnit:pe.selectedSaleUnit})),total:$e,status:"pendiente_preparacion",dateCreated:new Date().toISOString()}),alert("Presupuesto guardado con xito.")):(await t(Me),alert(`Operacin "${E.toUpperCase()}" finalizada con xito.`)),c([]),d(!1),M([]),_(null),k("")}catch(W){console.error(W),alert("Error al procesar la operacin.")}finally{v(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Punto de venta integrado con stock y AFIP."})]}),a.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all flex items-center gap-2 border border-slate-200",children:[a.jsx(Hl,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por nombre, SKU o escanea cdigo...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:i,onChange:W=>{o(W.target.value),K(W.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[B&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx(qe,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),R.map(W=>a.jsxs("div",{onClick:()=>Q(W),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(Q4,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:W.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[W.sku,"  Stock: ",a.jsxs("span",{className:W.stock<(W.reorderPoint||0)?"text-red-500":"text-green-600",children:[W.stock," ",W.primaryUnit]})]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",W.salePrice.toLocaleString()," / ",W.primaryUnit]})]},W.id)),!B&&i.length>2&&R.length===0&&a.jsx("div",{className:"col-span-2 py-10 text-center text-slate-400 font-medium italic",children:"No se encontraron productos."})]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Cliente de la Venta"}),a.jsx("div",{className:"relative",children:w?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center animate-in fade-in slide-in-from-top-1",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(ds,{className:"w-5 h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:w.name}),a.jsx("p",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest truncate",children:w.cuit})]})]}),a.jsx("button",{onClick:()=>_(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(Ke,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente (Nombre o CUIT)...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:S,onChange:W=>{k(W.target.value),N(!0)},onFocus:()=>N(!0)}),A&&S.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden animate-in fade-in slide-in-from-top-2",children:a.jsxs("div",{className:"p-1 space-y-1",children:[_e.map(W=>a.jsxs("button",{onClick:()=>{_(W),k(""),N(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between group transition-all text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 group-hover:bg-orange-100 group-hover:text-orange-600 transition-colors",children:a.jsx(ds,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-xs",children:W.name}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:W.cuit})]})]}),a.jsx(tr,{className:"w-3 h-3 text-slate-300 group-hover:text-orange-500"})]},W.id)),_e.length===0&&a.jsx("div",{className:"p-4 text-center text-slate-400 text-xs italic",children:"No se encontraron clientes"}),a.jsxs("button",{onClick:()=>{_(null),k(""),N(!1)},className:"w-full p-3 border-t border-slate-50 hover:bg-slate-50 rounded-xl flex items-center gap-3 text-slate-500 transition-all",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(As,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-xs",children:"Usar Cliente Mostrador"})]})]})})]})})]}),a.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(cm,{className:"w-5 h-5 text-orange-600"})," Carrito"]}),a.jsx("button",{onClick:()=>c([]),className:"text-[10px] font-black uppercase text-red-500 hover:underline",children:"Vaciar"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:l.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50 space-y-4",children:[a.jsx(cm,{className:"w-16 h-16"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-widest text-center",children:"Sin artculos"})]}):l.map((W,ce)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:W.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:W.quantity,onChange:Me=>{const pe=parseFloat(Me.target.value)||0;c(l.map((Fe,xt)=>xt===ce?{...Fe,quantity:pe}:Fe))},className:"w-20 bg-transparent font-black text-orange-600 outline-none",step:"0.01"}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["x $",W.price.toLocaleString()," /",W.selectedSaleUnit]})]})]}),a.jsxs("div",{className:"flex flex-col items-end justify-between",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",(W.price*W.quantity).toLocaleString()]}),a.jsx("button",{onClick:()=>c(l.filter((Me,pe)=>pe!==ce)),className:"p-1 text-slate-300 hover:text-red-500",children:a.jsx(vn,{className:"w-4 h-4"})})]})]},`${W.id}-${W.selectedSaleUnit}`))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total Cobrar"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",$e.toLocaleString()]})]}),a.jsxs("button",{disabled:l.length===0,onClick:()=>d(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl shadow-orange-600/20 hover:bg-orange-500 active:scale-95 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(tr,{className:"w-6 h-6"})]})]})]})]}),z&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[130] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-xl flex items-center justify-center",children:a.jsx(K_,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-slate-900",children:"Seleccionar Unidad"}),a.jsx("p",{className:"text-sm font-medium text-orange-700",children:z.name})]})]}),a.jsx("button",{onClick:()=>V(null),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ke,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"En qu unidad deseas vender?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"unitSelection",value:"primary",checked:U==="primary",onChange:()=>F("primary"),className:"form-radio h-5 w-5 text-orange-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-bold text-slate-800 text-sm",children:[z.primaryUnit," (Stock)"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["$",z.salePrice.toLocaleString()," / ",z.primaryUnit]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-2xl border border-orange-200 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"unitSelection",value:z.saleUnit,checked:U===z.saleUnit,onChange:()=>F(z.saleUnit),className:"form-radio h-5 w-5 text-orange-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-bold text-orange-900 text-sm",children:[z.saleUnit," (Fraccionado)"]}),a.jsxs("p",{className:"text-xs text-orange-700",children:["$",((z.salePrice||0)*(z.saleUnitConversionFactor||1)).toLocaleString()," / ",z.saleUnit,a.jsxs("span",{className:"ml-1 text-slate-500 text-[10px] italic",children:[" (1 ",z.saleUnit," = ",z.saleUnitConversionFactor," ",z.primaryUnit,")"]})]})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex gap-3",children:[a.jsx("button",{onClick:()=>V(null),className:"flex-1 py-3 bg-white border border-slate-200 rounded-xl font-black text-slate-500 uppercase text-xs",children:"Cancelar"}),a.jsx("button",{onClick:de,className:"flex-1 py-3 bg-orange-600 text-white rounded-xl font-black shadow-lg hover:bg-orange-500 uppercase text-xs",children:"Confirmar"})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Venta"}),a.jsx("button",{onClick:()=>d(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(Ke,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(ds,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"text-xl font-black text-slate-800",children:(w==null?void 0:w.name)||"Mostrador"}),a.jsx("p",{className:"text-xs text-slate-500 font-bold",children:(w==null?void 0:w.cuit)||"Sin CUIT registrado"})]})]}),a.jsx("button",{onClick:()=>{d(!1),N(!0)},className:"text-blue-600 text-xs font-black uppercase hover:underline",children:"Cambiar"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Comprobante"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{id:"ticket",label:"Ticket",icon:W_},{id:"factura_a",label:"Fact. A",icon:OA},{id:"factura_b",label:"Fact. B",icon:OA},{id:"remito",label:"Remito",icon:W4},{id:"presupuesto",label:"Presup.",icon:ab}].map(W=>a.jsxs("button",{onClick:()=>T(W.id),className:`p-4 border-2 rounded-2xl flex flex-col items-center gap-2 transition-all ${E===W.id?"bg-orange-50 border-orange-500 text-orange-600":"bg-white border-slate-100 text-slate-400 hover:border-slate-200"}`,children:[a.jsx(W.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:W.label})]},W.id))})]}),E!=="presupuesto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:j.map(W=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:W.method.replace("_"," ")}),(W.method==="cheque"||W.method==="echeq")&&a.jsxs("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:[W.bank," #",W.checkNumber," - Vence: ",W.dueDate]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",W.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>M(j.filter(ce=>ce.id!==W.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(vn,{className:"w-4 h-4"})})]})]},W.id))}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-3 border border-slate-200 rounded-xl font-bold",value:I.method,onChange:W=>O({...I,method:W.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cheque",children:"Cheque Fsico"}),a.jsx("option",{value:"echeq",children:"E-Cheq"}),a.jsx("option",{value:"cuenta_corriente",disabled:!w,children:"Cta. Corriente"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",placeholder:"Monto",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold",value:I.amount||"",onChange:W=>O({...I,amount:parseFloat(W.target.value)||0})})]})]}),(I.method==="cheque"||I.method==="echeq")&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Banco"}),a.jsxs("div",{className:"relative",children:[a.jsx(jG,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400"}),a.jsx("input",{placeholder:"Ej: Galicia",className:"w-full pl-8 pr-3 py-2 border rounded-lg text-xs font-bold",value:I.bank,onChange:W=>O({...I,bank:W.target.value})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"N Cheque"}),a.jsx("input",{placeholder:"000123",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:I.checkNumber,onChange:W=>O({...I,checkNumber:W.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Vencimiento"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:I.dueDate,onChange:W=>O({...I,dueDate:W.target.value})})]})]}),a.jsxs("button",{onClick:X,className:"w-full py-3 bg-slate-800 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(Ze,{className:"w-4 h-4"})," Registrar Pago"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Resumen"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:E.replace("_"," ")})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"Neto Gravado"}),a.jsxs("span",{children:["$",($e/1.21).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",($e-$e/1.21).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-baseline pt-4",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",$e.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Pagado:"}),a.jsxs("span",{className:"text-green-400",children:["$",tt.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center font-black text-lg",children:[a.jsx("span",{className:"text-slate-400 uppercase text-xs tracking-widest",children:"Restante:"}),a.jsxs("span",{className:le>0?"text-red-500":"text-orange-500",children:["$",le.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[Math.abs(le)>.01&&E!=="presupuesto"&&a.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3",children:[a.jsx(si,{className:"w-5 h-5 text-red-500"}),a.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase leading-tight",children:"El pago debe cubrir el 100%."})]}),a.jsxs("button",{onClick:Y,disabled:x||E!=="presupuesto"&&Math.abs(le)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl shadow-orange-600/40 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[x?a.jsx(qe,{className:"w-6 h-6"}):a.jsx(fn,{className:"w-6 h-6"}),x?"CONFIRMANDO...":"FINALIZAR"]})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>h(!1),children:a.jsx(Ke,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:b.name,onChange:W=>y({...b,name:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Descripcin del servicio/item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:b.price||"",onChange:W=>y({...b,price:parseFloat(W.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cant."}),a.jsx("input",{type:"number",value:b.quantity,onChange:W=>y({...b,quantity:parseInt(W.target.value)||1}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsx("button",{onClick:be,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest mt-4 shadow-lg active:scale-95",children:"Aadir al Carrito"})]})]})})]})};var $ye={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vye,Fye;function Uye(){return{geminiUrl:Vye,vertexUrl:Fye}}function Bye(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const o=Uye();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xi{}function he(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(i+1),n[u])}else for(const u of c)g(u,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function qye(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let l=-1;for(let c=0;c<s.length;c++)if(s[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){const u=i[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}Lw(t,s,i,0,o)}}function Lw(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])Lw(c,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!s.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;i in o&&Lw(o[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zye(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Gye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],Wye(o)),e}function Hye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],Kye(o)),e}function Wye(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jye(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function Kye(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yye(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function Jye(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],nve(n)),e}function Yye(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],rve(n)),e}function Xye(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Qye(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Zye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],eve(o)),e}function eve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function H6(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],tve(o)),e}function tve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function nve(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],iS(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function rve(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],iS(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vj||(Vj={}));var Fj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Fj||(Fj={}));var Uj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Uj||(Uj={}));var ut;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ut||(ut={}));var Bj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bj||(Bj={}));var qj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(qj||(qj={}));var zj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zj||(zj={}));var Gj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Gj||(Gj={}));var Hj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Hj||(Hj={}));var Wj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Wj||(Wj={}));var Kj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Kj||(Kj={}));var Jj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Jj||(Jj={}));var Yj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Yj||(Yj={}));var Xj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Xj||(Xj={}));var Qj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Qj||(Qj={}));var Zj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Zj||(Zj={}));var eI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(eI||(eI={}));var tI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tI||(tI={}));var nI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nI||(nI={}));var rI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(rI||(rI={}));var sI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sI||(sI={}));var mg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(mg||(mg={}));var iI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iI||(iI={}));var aI;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(aI||(aI={}));var oI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oI||(oI={}));var $w;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($w||($w={}));var lI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lI||(lI={}));var cI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(cI||(cI={}));var Vw;(function(t){t.COLLECTION="COLLECTION"})(Vw||(Vw={}));var uI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uI||(uI={}));var dI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dI||(dI={}));var fI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fI||(fI={}));var hI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(hI||(hI={}));var pI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(pI||(pI={}));var mI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mI||(mI={}));var gI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gI||(gI={}));var xI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xI||(xI={}));var yI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yI||(yI={}));var vI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vI||(vI={}));var bI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(bI||(bI={}));var wI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wI||(wI={}));var _I;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_I||(_I={}));var NI;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(NI||(NI={}));var SI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(SI||(SI={}));var EI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(EI||(EI={}));var TI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(TI||(TI={}));var AI;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AI||(AI={}));var kI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(kI||(kI={}));var CI;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(CI||(CI={}));var jI;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(jI||(jI={}));var II;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(II||(II={}));var PI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PI||(PI={}));var RI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RI||(RI={}));var MI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(MI||(MI={}));var OI;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(OI||(OI={}));var DI;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(DI||(DI={}));var cl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(cl||(cl={}));class Fw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nu{get text(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[x,v]of Object.entries(h))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,x]of Object.entries(f))h!=="inlineData"&&(x!==null||x!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class LI{}class $I{}class sve{}class ive{}class ave{}class ove{}class VI{}class FI{}class UI{}class lve{}class gg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gg;let s;const i=e;return n?s=Hye(i):s=Gye(i),Object.assign(r,s),r}}class BI{}class qI{}class zI{}class GI{}class cve{}class uve{}class dve{}class aS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new aS,i=Zye(e);return Object.assign(r,i),r}}class fve{}class hve{}class pve{}class HI{}class mve{get text(){var e,n,r;let s="",i=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,s+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&i.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class gve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class oS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new oS,i=H6(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W6(t,e){const n=Qe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function K6(t){return Array.isArray(t)?t.map(e=>xg(e)):[xg(t)]}function xg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function J6(t){const e=xg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Y6(t){const e=xg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function WI(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function X6(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>WI(e)):[WI(t)]}function Uw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function KI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function JI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function jn(t){if(t==null)throw new Error("ContentUnion is required");return Uw(t)?t:{role:"user",parts:X6(t)}}function lS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>jn(n)):[jn(e)]}function Cr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(KI(t)||JI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jn(t)]}const e=[],n=[],r=Uw(t[0]);for(const s of t){const i=Uw(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(KI(s)||JI(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:X6(n)}),e}function xve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ut).includes(n[0].toUpperCase())?n[0].toUpperCase():ut.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ut).includes(r.toUpperCase())?r.toUpperCase():ut.TYPE_UNSPECIFIED})}}function Al(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&xve(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(ut).includes(l.toUpperCase())?l.toUpperCase():ut.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Al(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(Al(u))}e[o]=c}else if(s.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=Al(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function cS(t){return Al(t)}function uS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Uc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Al(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Al(e.response));return t}function Bc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function yve(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function yi(t,e){if(typeof e!="string")throw new Error("name must be a string");return yve(t,e,"cachedContents")}function Q6(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ba(t){return iS(t)}function vve(t){return t!=null&&typeof t=="object"&&"name"in t}function bve(t){return t!=null&&typeof t=="object"&&"video"in t}function wve(t){return t!=null&&typeof t=="object"&&"uri"in t}function Z6(t){var e;let n;if(vve(t)&&(n=t.name),!(wve(t)&&(n=t.uri,n===void 0))&&!(bve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function e$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function t$(t){for(const e of["models","tunedModels","publisherModels"])if(_ve(t,e))return t[e];return[]}function _ve(t,e){return t!==null&&typeof t=="object"&&e in t}function Nve(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Sve(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=Nve(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function n$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Eve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function r$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function s$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tve(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>abe(o))),g(e,["inlinedResponses"],i)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["inlinedEmbedContentResponses"],i)}return e}function Ave(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function kve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function xp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],s$(s));const i=p(t,["metadata","createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],Tve(r$(u))),e}function Bw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["state"]);s!=null&&g(e,["state"],s$(s));const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],Cve(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],Ave(r$(h)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function Cve(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function jve(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const s=p(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>ibe(t,o))),g(n,["requests","requests"],i)}return n}function Ive(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Pve(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Rve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],qc(t,r)),n}function Mve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],qc(t,r)),n}function Ove(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Dve(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Dve(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function i$(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>hbe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Lve(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $ve(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],kve(Eve(s))),n}function YI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],jve(t,n$(t,s)));const i=p(e,["config"]);return i!=null&&Lve(i,n),n}function Vve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Qe(t,r));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],Ive(n$(t,s)));const i=p(e,["config"]);return i!=null&&$ve(i,n),n}function Fve(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Uve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],Kve(t,s));const i=p(e,["config"]);return i!=null&&Fve(i,n),n}function Bve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],qc(t,r)),n}function qve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],qc(t,r)),n}function zve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Gve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Hve(t,e){const n={},r=p(e,["contents"]);if(r!=null){let i=lS(t,r);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["requests[]","request","content"],i)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],Wve(s,n)),qye(n,{"requests[].*":"requests[].request.*"})),n}function Wve(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Kve(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],Hve(t,s)),n}function Jve(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Yve(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xve(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qve(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],i$(jn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],cS(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(H=>pbe(H))),g(n,["safetySettings"],R)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let R=Bc(k);Array.isArray(R)&&(R=R.map(H=>gbe(Uc(H)))),g(n,["tools"],R)}const A=p(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],mbe(A)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],yi(t,N));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const j=p(e,["speechConfig"]);if(j!=null&&g(r,["speechConfig"],uS(j)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const I=p(e,["imageConfig"]);I!=null&&g(r,["imageConfig"],sbe(I));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Zve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Ove(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function ebe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],qc(t,r)),n}function tbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],qc(t,r)),n}function nbe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function rbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function sbe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ibe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let l=Cr(s);Array.isArray(l)&&(l=l.map(c=>i$(c))),g(n,["request","contents"],l)}const i=p(e,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],Qve(t,o,p(n,["request"],{}))),n}function abe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],Zve(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function obe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function lbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const i=p(t,["filter"]);return e!==void 0&&i!=null&&g(e,["_query","filter"],i),n}function cbe(t){const e={},n=p(t,["config"]);return n!=null&&obe(n,e),e}function ube(t){const e={},n=p(t,["config"]);return n!=null&&lbe(n,e),e}function dbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>xp(o))),g(e,["batchJobs"],i)}return e}function fbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Bw(o))),g(e,["batchJobs"],i)}return e}function hbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],Jve(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Yve(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Pve(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function pbe(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function mbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Xve(r)),e}function gbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],nbe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],rbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ui;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ui||(ui={}));class ko{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xbe extends xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ko(ui.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=YI(this.apiClient,e),r=n._url,s=he("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const x=f.request;x.systemInstruction=h,f.request=x}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Vve(this.apiClient,e);return l=he("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Bw(d))}else{const u=YI(this.apiClient,e);return l=he("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>xp(d))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Uve(this.apiClient,e);return i=he("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>xp(c))}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=tbe(this.apiClient,e);return l=he("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Bw(d))}else{const u=ebe(this.apiClient,e);return l=he("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>xp(d))}}async cancel(e){var n,r,s,i;let o="",l={};if(this.apiClient.isVertexAI()){const c=Mve(this.apiClient,e);o=he("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Rve(this.apiClient,e);o=he("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ube(e);return l=he("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=fbe(d),h=new HI;return Object.assign(h,f),h})}else{const u=cbe(e);return l=he("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=dbe(d),h=new HI;return Object.assign(h,f),h})}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=qve(this.apiClient,e);return l=he("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Gve(d))}else{const u=Bve(this.apiClient,e);return l=he("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>zve(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ybe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function XI(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Ube(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function vbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=Cr(o);Array.isArray(d)&&(d=d.map(f=>XI(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],XI(jn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>qbe(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Bbe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function bbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=Cr(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],jn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>zbe(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function wbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],W6(t,r));const s=p(e,["config"]);return s!=null&&vbe(s,n),n}function _be(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],W6(t,r));const s=p(e,["config"]);return s!=null&&bbe(s,n),n}function Nbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yi(t,r)),n}function Sbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yi(t,r)),n}function Ebe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Tbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Abe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function kbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Cbe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jbe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Ibe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yi(t,r)),n}function Pbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yi(t,r)),n}function Rbe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Mbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Obe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function Dbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function Lbe(t){const e={},n=p(t,["config"]);return n!=null&&Obe(n,e),e}function $be(t){const e={},n=p(t,["config"]);return n!=null&&Dbe(n,e),e}function Vbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function Fbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function Ube(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],Abe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],kbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],ybe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Bbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Cbe(r)),e}function qbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Rbe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Mbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function zbe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>jbe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Gbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function Hbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function Wbe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],yi(t,r));const s=p(e,["config"]);return s!=null&&Gbe(s,n),n}function Kbe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],yi(t,r));const s=p(e,["config"]);return s!=null&&Hbe(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jbe extends xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ko(ui.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=_be(this.apiClient,e);return l=he("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=wbe(this.apiClient,e);return l=he("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Pbe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Ibe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Sbe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Tbe(d),h=new zI;return Object.assign(h,f),h})}else{const u=Nbe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ebe(d),h=new zI;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Kbe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Wbe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=$be(e);return l=he("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Fbe(d),h=new GI;return Object.assign(h,f),h})}else{const u=Lbe(e);return l=he("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Vbe(d),h=new GI;return Object.assign(h,f),h})}}}function yg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function QI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(t){return this instanceof je?(this.v=t,this):new je(t)}function Zr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(x){return function(v){return Promise.resolve(v).then(x,f)}}function l(x,v){r[x]&&(s[x]=function(b){return new Promise(function(y,w){i.push([x,b,y,w])>1||c(x,b)})},v&&(s[x]=v(s[x])))}function c(x,v){try{u(r[x](v))}catch(b){h(i[0][3],b)}}function u(x){x.value instanceof je?Promise.resolve(x.value.v).then(d,f):h(i[0][2],x)}function d(x){c("next",x)}function f(x){c("throw",x)}function h(x,v){x(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function es(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof QI=="function"?QI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ybe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:a$(n)}function a$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Xbe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ZI(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!a$(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class Qbe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Zbe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Zbe{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),Xbe(i)}async sendMessage(e){var n;await this.sendPromise;const r=jn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,l;const c=await s,u=(o=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const x=u?[u]:[];this.recordHistory(r,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=jn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?ZI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Zr(this,arguments,function*(){var s,i,o,l,c,u;const d=[];try{for(var f=!0,h=es(e),x;x=yield je(h.next()),s=x.done,!s;f=!0){l=x.value,f=!1;const v=l;if(Ybe(v)){const b=(u=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield je(v)}}catch(v){i={error:v}}finally{try{!f&&!s&&(o=h.return)&&(yield je(o.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ZI(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ewe(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function twe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function nwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Z6(n)),e}function rwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function swe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Z6(n)),e}function iwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function awe(t){const e={},n=p(t,["config"]);return n!=null&&iwe(n,e),e}function owe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lwe extends xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ko(ui.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=awe(e);return i=he("files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=owe(c),d=new fve;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ewe(e);return i=he("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=twe(c),d=new hve;return Object.assign(d,u),d})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=swe(e);return i=he("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=nwe(e);return i=he("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=rwe(c),d=new pve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function cwe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Ewe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function uwe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function dwe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fwe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function hwe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const y=p(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const k=p(t,["temperature"]);k!=null&&g(e,["temperature"],k);const A=p(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const N=p(t,["topK"]);N!=null&&g(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function pwe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function mwe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function gwe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],dS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],cwe(jn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let N=Bc(b);Array.isArray(N)&&(N=N.map(E=>Awe(Uc(E)))),g(e,["setup","tools"],N)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],Twe(y));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&g(e,["setup","contextWindowCompression"],k);const A=p(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function xwe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],hwe(r));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],dS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],jn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let E=Bc(b);Array.isArray(E)&&(E=E.map(T=>kwe(Uc(T)))),g(e,["setup","tools"],E)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],y);const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&g(e,["setup","contextWindowCompression"],k);const A=p(t,["proactivity"]);e!==void 0&&A!=null&&g(e,["setup","proactivity"],A);const N=p(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&g(e,["setup","explicitVadSignal"],N),n}function ywe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Qe(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],gwe(s,n)),n}function vwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Qe(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],xwe(s,n)),n}function bwe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function wwe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["weightedPrompts"],r)}return e}function _we(t){const e={},n=p(t,["media"]);if(n!=null){let u=K6(n);Array.isArray(u)&&(u=u.map(d=>yp(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],yp(Y6(r)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],yp(J6(i)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Nwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=K6(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Y6(r));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],J6(i));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Swe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const i=p(t,["toolCallCancellation"]);i!=null&&g(e,["toolCallCancellation"],i);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],Cwe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],jwe(d)),e}function Ewe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],uwe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],dwe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],yp(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Twe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Awe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],pwe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],mwe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function kwe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>fwe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Cwe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const i=p(t,["toolUsePromptTokenCount"]);i!=null&&g(e,["toolUsePromptTokenCount"],i);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(v=>v)),g(e,["promptTokensDetails"],x)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(v=>v)),g(e,["cacheTokensDetails"],x)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>v)),g(e,["responseTokensDetails"],x)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(v=>v)),g(e,["toolUsePromptTokensDetails"],x)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function jwe(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iwe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Pwe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Rwe(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Rwe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function Mwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let i=Cr(s);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["contents"],i)}return n}function Owe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["tokensInfo"],s)}return e}function Dwe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],Lwe(r)),e}function Lwe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function ex(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>H1e(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function $we(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Vwe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Fwe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],jn(r));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>u$(l))),g(e,["tools"],o)}const i=p(t,["generationConfig"]);return e!==void 0&&i!=null&&g(e,["generationConfig"],I1e(i)),n}function Uwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let o=Cr(s);Array.isArray(o)&&(o=o.map(l=>ex(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&Vwe(i),n}function Bwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let o=Cr(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&Fwe(i,n),n}function qwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const s=p(t,["cachedContentTokenCount"]);return s!=null&&g(e,["cachedContentTokenCount"],s),e}function zwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Gwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Qe(t,r)),n}function Hwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Qe(t,r)),n}function Wwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Kwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Jwe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const S=p(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function Ywe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Q1e(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&Jwe(o,n),n}function Xwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>tx(i))),g(e,["generatedImages"],s)}return e}function Qwe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zwe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const i=p(t,["outputDimensionality"]);e!==void 0&&i!=null&&g(e,["parameters","outputDimensionality"],i);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function e1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let l=lS(t,s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const i=p(e,["config"]);i!=null&&Qwe(i,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],Qe(t,o)),n}function t1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let o=lS(t,s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const i=p(e,["config"]);return i!=null&&Zwe(i,n),n}function n1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function r1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Dwe(o))),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function s1e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function i1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function a1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function o1e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function l1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function c1e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],ex(jn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],cS(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(H=>Z1e(H))),g(n,["safetySettings"],R)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let R=Bc(k);Array.isArray(R)&&(R=R.map(H=>a_e(Uc(H)))),g(n,["tools"],R)}const A=p(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],i_e(A)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],yi(t,N));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const j=p(e,["speechConfig"]);if(j!=null&&g(r,["speechConfig"],uS(j)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const I=p(e,["imageConfig"]);I!=null&&g(r,["imageConfig"],D1e(I));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function u1e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],jn(s));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],cS(w));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const S=p(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const k=p(e,["modelSelectionConfig"]);k!=null&&g(r,["modelConfig"],k);const A=p(e,["safetySettings"]);if(n!==void 0&&A!=null){let z=A;Array.isArray(z)&&(z=z.map(V=>V)),g(n,["safetySettings"],z)}const N=p(e,["tools"]);if(n!==void 0&&N!=null){let z=Bc(N);Array.isArray(z)&&(z=z.map(V=>u$(Uc(V)))),g(n,["tools"],z)}const E=p(e,["toolConfig"]);n!==void 0&&E!=null&&g(n,["toolConfig"],E);const T=p(e,["labels"]);n!==void 0&&T!=null&&g(n,["labels"],T);const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],yi(t,j));const M=p(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const I=p(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],uS(O));const R=p(e,["audioTimestamp"]);R!=null&&g(r,["audioTimestamp"],R);const H=p(e,["thinkingConfig"]);H!=null&&g(r,["thinkingConfig"],H);const B=p(e,["imageConfig"]);if(B!=null&&g(r,["imageConfig"],L1e(B)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=p(e,["modelArmorConfig"]);return n!==void 0&&$!=null&&g(n,["modelArmorConfig"],$),r}function eP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let o=Cr(s);Array.isArray(o)&&(o=o.map(l=>ex(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],c1e(t,i,n)),n}function tP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["contents"]);if(s!=null){let o=Cr(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],u1e(t,i,n)),n}function nP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Pwe(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function rP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function d1e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const i=p(t,["guidanceScale"]);if(e!==void 0&&i!=null&&g(e,["parameters","guidanceScale"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function f1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const S=p(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function h1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&d1e(i,n),n}function p1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&f1e(i,n),n}function m1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>A1e(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],l$(s)),e}function g1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>tx(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],c$(s)),e}function x1e(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],nx(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(x=>v_e(x))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function y1e(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const i=p(t,["fps"]);e!==void 0&&i!=null&&g(e,["parameters","fps"],i);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],as(b));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(k=>b_e(k))),g(e,["instances[0]","referenceImages"],S)}const w=p(t,["mask"]);e!==void 0&&w!=null&&g(e,["instances[0]","mask"],y_e(w));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function v1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],N1e(o)),e}function b1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],S1e(o)),e}function w1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],nx(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],d$(o));const l=p(e,["source"]);l!=null&&E1e(l,n);const c=p(e,["config"]);return c!=null&&x1e(c,n),n}function _1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],as(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],f$(o));const l=p(e,["source"]);l!=null&&T1e(l,n);const c=p(e,["config"]);return c!=null&&y1e(c,n),n}function N1e(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>C1e(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function S1e(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>j1e(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function E1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],nx(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],d$(i)),n}function T1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],as(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],f$(i)),n}function A1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],$1e(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);return s!=null&&g(e,["safetyAttributes"],l$(s)),e}function tx(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],o$(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);s!=null&&g(e,["safetyAttributes"],c$(s));const i=p(t,["prompt"]);return i!=null&&g(e,["enhancedPrompt"],i),e}function k1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],o$(n));const r=p(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["labels"],s)}return e}function C1e(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],g_e(n)),e}function j1e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],x_e(n)),e}function I1e(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const y=p(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const k=p(t,["temperature"]);k!=null&&g(e,["temperature"],k);const A=p(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const N=p(t,["topK"]);N!=null&&g(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function P1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Qe(t,r)),n}function R1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Qe(t,r)),n}function M1e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function O1e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function D1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function L1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const s=p(t,["personGeneration"]);s!=null&&g(e,["personGeneration"],s);const i=p(t,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function $1e(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ba(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function o$(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ba(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function nx(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ba(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function as(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ba(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function V1e(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],e$(t,l)),r}function F1e(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],e$(t,l)),r}function U1e(t,e){const n={},r=p(e,["config"]);return r!=null&&V1e(t,r,n),n}function B1e(t,e){const n={},r=p(e,["config"]);return r!=null&&F1e(t,r,n),n}function q1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=t$(s);Array.isArray(i)&&(i=i.map(o=>qw(o))),g(e,["models"],i)}return e}function z1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=t$(s);Array.isArray(i)&&(i=i.map(o=>zw(o))),g(e,["models"],i)}return e}function G1e(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const s=p(t,["maskDilation"]);return s!=null&&g(e,["dilation"],s),e}function qw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["version"]);i!=null&&g(e,["version"],i);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],o_e(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function zw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["versionId"]);i!=null&&g(e,["version"],i);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>s1e(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],l_e(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function H1e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],i1e(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],a1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Iwe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function W1e(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],as(n)),e}function K1e(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function J1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["source"]);s!=null&&X1e(s,n);const i=p(e,["config"]);return i!=null&&K1e(i,n),n}function Y1e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>tx(s))),g(e,["generatedImages"],r)}return e}function X1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],as(s));const i=p(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>W1e(l))),g(e,["instances[0]","productImages"],o)}return n}function Q1e(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],as(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const s=p(t,["referenceType"]);s!=null&&g(e,["referenceType"],s);const i=p(t,["maskImageConfig"]);i!=null&&g(e,["maskImageConfig"],G1e(i));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],$we(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function l$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function c$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function Z1e(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function e_e(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],as(n)),e}function t_e(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const i=p(t,["confidenceThreshold"]);e!==void 0&&i!=null&&g(e,["parameters","confidenceThreshold"],i);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function n_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["source"]);s!=null&&s_e(s,n);const i=p(e,["config"]);return i!=null&&t_e(i,n),n}function r_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>k1e(s))),g(e,["generatedMasks"],r)}return e}function s_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],as(s));const i=p(t,["scribbleImage"]);return e!==void 0&&i!=null&&g(e,["instances[0]","scribble"],e_e(i)),n}function i_e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],o1e(r)),e}function a_e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],M1e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],O1e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function u$(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>l1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function o_e(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function l_e(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function c_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function u_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function d_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Qe(t,r));const s=p(e,["config"]);return s!=null&&c_e(s,n),n}function f_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["config"]);return s!=null&&u_e(s,n),n}function h_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const i=p(t,["personGeneration"]);e!==void 0&&i!=null&&g(e,["parameters","personGeneration"],i);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function p_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Qe(t,r));const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],as(s));const i=p(e,["upscaleFactor"]);i!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=p(e,["config"]);return o!=null&&h_e(o,n),n}function m_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>tx(i))),g(e,["generatedImages"],s)}return e}function g_e(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ba(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function x_e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ba(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function y_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],as(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function v_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],nx(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function b_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],as(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function d$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ba(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["encoding"],s),e}function f$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ba(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_e(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function __e(t){const e={},n=p(t,["config"]);return n!=null&&w_e(n,e),e}function N_e(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function S_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&N_e(r,e),e}function E_e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function T_e(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["customMetadata"],i)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function A_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],C_e(o)),e}function k_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const s=p(t,["config"]);return s!=null&&T_e(s,e),e}function C_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function j_e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function I_e(t){const e={},n=p(t,["config"]);return n!=null&&j_e(n,e),e}function P_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["fileSearchStores"],i)}return e}function h$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function R_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&h$(r,e),e}function M_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O_e="Content-Type",D_e="X-Server-Timeout",L_e="User-Agent",Gw="x-goog-api-client",$_e="1.38.0",V_e=`google-genai-sdk/${$_e}`,F_e="v1beta1",U_e="v1beta";class B_e{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:F_e}else{if(!this.clientOptions.apiKey)throw new gf({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:U_e,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Vw.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))s.searchParams.append(o,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&q_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await sP(s),new Fw(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await sP(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Zr(this,arguments,function*(){var r;const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield je(s.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),y=b.status,w=b.code,_=`got status: ${y}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new gf({message:_,status:w})}}catch(v){if(v.name==="ApiError")throw v}o+=f;let h=-1,x=0;for(;;){h=-1,x=0;for(const y of c){const w=o.indexOf(y);w!==-1&&(h===-1||w<h)&&(h=w,x=y.length)}if(h===-1)break;const v=o.substring(0,h);o=o.substring(h+x);const b=v.trim();if(b.startsWith(l)){const y=b.substring(l.length).trim();try{const w=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield je(new Fw(w))}catch(w){throw new Error(`exception parsing stream chunk ${y}. ${w}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=V_e+" "+this.clientOptions.userAgentExtra;return e[L_e]=n,e[Gw]=n,e[O_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(D_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=l;const c={file:s},u=this.getFileName(e),d=he("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,s.sizeBytes,s.mimeType,u,c,n==null?void 0:n.httpOptions);return i.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),l=String(o.size),c=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&h$(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const u=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function sP(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new gf({message:s,status:n}):new Error(s)}}function q_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const l=Object.assign({},i);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z_e="mcp_used/unknown";let G_e=!1;function p$(t){for(const e of t)if(H_e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return G_e}function m$(t){var e;const n=(e=t[Gw])!==null&&e!==void 0?e:"";t[Gw]=(n+` ${z_e}`).trimStart()}function H_e(t){return t!==null&&typeof t=="object"&&t instanceof fS}function W_e(t){return Zr(this,arguments,function*(n,r=100){let s,i=0;for(;i<r;){const o=yield je(n.listTools({cursor:s}));for(const l of o.tools)yield yield je(l),i++;if(!o.nextCursor)break;s=o.nextCursor}})}class fS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new fS(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,es(W_e(d))),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const f=s;o.push(f);const h=f.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Sve(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function K_e(t,e,n){const r=new gve;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class J_e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=Q_e(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},x=this.apiClient,v={onopen:h,onmessage:S=>{K_e(x,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(c,X_e(o),v);b.connect(),await d;const _={setup:{model:Qe(this.apiClient,e.model)}};return b.send(JSON.stringify(_)),new Y_e(b,this.apiClient)}}class Y_e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=wwe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=bwe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(cl.PLAY)}pause(){this.sendPlaybackControl(cl.PAUSE)}stop(){this.sendPlaybackControl(cl.STOP)}resetContext(){this.sendPlaybackControl(cl.RESET_CONTEXT)}close(){this.conn.close()}}function X_e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Q_e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z_e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function eNe(t,e,n){const r=new mve;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=Swe(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class tNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new J_e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&p$(e.config.tools)&&m$(f);const h=iNe(f);if(this.apiClient.isVertexAI()){const j=this.apiClient.getProject(),M=this.apiClient.getLocation(),I=this.apiClient.getApiKey(),O=!!j&&!!M||!!I;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const j=this.apiClient.getApiKey();let M="BidiGenerateContent",I="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",I="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${I}=${j}`}let x=()=>{};const v=new Promise(j=>{x=j}),b=e.callbacks,y=function(){var j;(j=b==null?void 0:b.onopen)===null||j===void 0||j.call(b),x({})},w=this.apiClient,_={onopen:y,onmessage:j=>{eNe(w,b.onmessage,j)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(j){}},S=this.webSocketFactory.create(d,sNe(h),_);S.connect(),await v;let k=Qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const j=this.apiClient.getProject(),M=this.apiClient.getLocation();j&&M&&(k=`projects/${j}/locations/${M}/`+k)}let A={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[mg.AUDIO]}:e.config.responseModalities=[mg.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],E=[];for(const j of N)if(this.isCallableTool(j)){const M=j;E.push(await M.tool())}else E.push(j);E.length>0&&(e.config.tools=E);const T={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=vwe(this.apiClient,T):A=ywe(this.apiClient,T),delete A.config,S.send(JSON.stringify(A)),new rNe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const nNe={turnComplete:!0};class rNe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Cr(n.turns),e.isVertexAI()||(r=r.map(s=>ex(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(Z_e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},nNe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Nwe(e)}:n={realtimeInput:_we(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function sNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function iNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iP=10;function aP(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(kl(o)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function kl(t){return"callTool"in t&&typeof t.callTool=="function"}function aNe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>kl(s)))!==null&&r!==void 0?r:!1}function oP(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(kl(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function lP(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oNe extends xi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aNe(n)||aP(n.config))return await this.generateContentInternal(c);const u=oP(n);if(u.length>0){const b=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,f;const h=Cr(c.contents),x=(i=(s=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:iP;let v=0;for(;v<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,y=[];for(const w of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(kl(w)){const S=await w.callTool(d.functionCalls);y.push(...S)}v++,f={role:"user",parts:y},c.contents=Cr(c.contents),c.contents.push(b),c.contents.push(f),lP(c.config)&&(h.push(b),h.push(f))}return lP(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,s,i,o,l;if(this.maybeMoveToResponseJsonSchem(n),aP(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=oP(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(i=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((s=c==null?void 0:c.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:o.push(c);let l;return i?l={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new ko(ui.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async c=>kl(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&p$(e.config.tools)){const c=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),m$(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(kl(o)){const l=o,c=await l.tool();for(const u of(s=c.functionDeclarations)!==null&&s!==void 0?s:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,l)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:iP;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return Zr(this,arguments,function*(){for(var h,x,v,b,y,w;l<i;){o&&(l++,o=!1);const A=yield je(u.processParamsMaybeAddMcpUsage(f)),N=yield je(u.generateContentStreamInternal(A)),E=[],T=[];try{for(var _=!0,S=(x=void 0,es(N)),k;k=yield je(S.next()),h=k.done,!h;_=!0){b=k.value,_=!1;const j=b;if(yield yield je(j),j.candidates&&(!((y=j.candidates[0])===null||y===void 0)&&y.content)){T.push(j.candidates[0].content);for(const M of(w=j.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(l<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){const I=yield je(d.get(M.functionCall.name).callTool([M.functionCall]));E.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(j){x={error:j}}finally{try{!_&&!h&&(v=S.return)&&(yield je(v.call(S)))}finally{if(x)throw x.error}}if(E.length>0){o=!0;const j=new Nu;j.candidates=[{content:{role:"user",parts:E}}],yield yield je(j);const M=[];M.push(...T),M.push({role:"user",parts:E});const I=Cr(f.contents).concat(M);f.contents=I}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=tP(this.apiClient,e);return l=he("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=rP(d),h=new Nu;return Object.assign(h,f),h})}else{const u=eP(this.apiClient,e);return l=he("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=nP(d),h=new Nu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=tP(this.apiClient,e);return l=he("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return Zr(this,arguments,function*(){var h,x,v,b;try{for(var y=!0,w=es(f),_;_=yield je(w.next()),h=_.done,!h;y=!0){b=_.value,y=!1;const S=b,k=rP(yield je(S.json()));k.sdkHttpResponse={headers:S.headers};const A=new Nu;Object.assign(A,k),yield yield je(A)}}catch(S){x={error:S}}finally{try{!y&&!h&&(v=w.return)&&(yield je(v.call(w)))}finally{if(x)throw x.error}}})})}else{const u=eP(this.apiClient,e);return l=he("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(f){return Zr(this,arguments,function*(){var h,x,v,b;try{for(var y=!0,w=es(f),_;_=yield je(w.next()),h=_.done,!h;y=!0){b=_.value,y=!1;const S=b,k=nP(yield je(S.json()));k.sdkHttpResponse={headers:S.headers};const A=new Nu;Object.assign(A,k),yield yield je(A)}}catch(S){x={error:S}}finally{try{!y&&!h&&(v=w.return)&&(yield je(v.call(w)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=t1e(this.apiClient,e);return l=he("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=r1e(d),h=new LI;return Object.assign(h,f),h})}else{const u=e1e(this.apiClient,e);return l=he("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=n1e(d),h=new LI;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=p1e(this.apiClient,e);return l=he("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=g1e(d),h=new $I;return Object.assign(h,f),h})}else{const u=h1e(this.apiClient,e);return l=he("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=m1e(d),h=new $I;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Ywe(this.apiClient,e);return i=he("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=Xwe(c),d=new sve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=p_e(this.apiClient,e);return i=he("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=m_e(c),d=new ive;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=J1e(this.apiClient,e);return i=he("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=Y1e(c),d=new ave;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=n_e(this.apiClient,e);return i=he("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=r_e(c),d=new ove;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=R1e(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>zw(d))}else{const u=P1e(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>qw(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=B1e(this.apiClient,e);return l=he("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=z1e(d),h=new VI;return Object.assign(h,f),h})}else{const u=U1e(this.apiClient,e);return l=he("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=q1e(d),h=new VI;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=f_e(this.apiClient,e);return l=he("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>zw(d))}else{const u=d_e(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>qw(d))}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Hwe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Kwe(d),h=new FI;return Object.assign(h,f),h})}else{const u=Gwe(this.apiClient,e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Wwe(d),h=new FI;return Object.assign(h,f),h})}}async countTokens(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Bwe(this.apiClient,e);return l=he("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=zwe(d),h=new UI;return Object.assign(h,f),h})}else{const u=Uwe(this.apiClient,e);return l=he("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=qwe(d),h=new UI;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Mwe(this.apiClient,e);return i=he("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=Owe(c),d=new lve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=_1e(this.apiClient,e);return l=he("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=b1e(d),h=new gg;return Object.assign(h,f),h})}else{const u=w1e(this.apiClient,e);return l=he("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const f=v1e(d),h=new gg;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lNe extends xi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Qye(e);return l=he("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=Xye(e);return l=he("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=zye(e);return i=he("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cNe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function uNe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>vNe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function dNe(t,e,n){const r={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const i=p(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&g(n,["newSessionExpireTime"],i);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],yNe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function fNe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],dNe(t,r,n)),n}function hNe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function pNe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function gNe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function xNe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],dS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],uNe(jn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let N=Bc(b);Array.isArray(N)&&(N=N.map(E=>wNe(Uc(E)))),g(e,["setup","tools"],N)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],bNe(y));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&g(e,["setup","contextWindowCompression"],k);const A=p(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function yNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Qe(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],xNe(s,n)),n}function vNe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],hNe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],pNe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],cNe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function bNe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wNe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],mNe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],gNe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Ne(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function NNe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=_Ne(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];s.length>0&&(l=s.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class SNe extends xi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=fNe(this.apiClient,e);i=he("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=NNe(l,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ENe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function TNe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&ENe(r,e),e}function ANe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function kNe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function CNe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&kNe(r,e),e}function jNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class INe extends xi{constructor(e){super(),this.apiClient=e,this.list=async n=>new ko(ui.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ANe(e);return i=he("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=TNe(e);s=he("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CNe(e);return i=he("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=jNe(c),d=new cve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PNe extends xi{constructor(e,n=new INe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ko(ui.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=__e(e);return i=he("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=E_e(e);return i=he("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=S_e(e);s=he("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=I_e(e);return i=he("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=P_e(c),d=new uve;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=R_e(e);return i=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=M_e(c),d=new dve;return Object.assign(d,u),d})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=k_e(e);return i=he("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=A_e(c),d=new aS;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let g$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return g$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const RNe=()=>g$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hw(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ww=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Or extends Error{}class Fn extends Or{constructor(e,n,r,s){super(`${Fn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new rx({message:r,cause:Ww(n)});const i=n;return e===400?new y$(e,i,r,s):e===401?new v$(e,i,r,s):e===403?new b$(e,i,r,s):e===404?new w$(e,i,r,s):e===409?new _$(e,i,r,s):e===422?new N$(e,i,r,s):e===429?new S$(e,i,r,s):e>=500?new E$(e,i,r,s):new Fn(e,i,r,s)}}class Kw extends Fn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class rx extends Fn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class x$ extends rx{constructor({message:e}={}){super({message:e??"Request timed out."})}}class y$ extends Fn{}class v$ extends Fn{}class b$ extends Fn{}class w$ extends Fn{}class _$ extends Fn{}class N$ extends Fn{}class S$ extends Fn{}class E$ extends Fn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MNe=/^[a-z][a-z0-9+.-]*:/i,ONe=t=>MNe.test(t);let Jw=t=>(Jw=Array.isArray,Jw(t));const DNe=Jw;let LNe=DNe;const cP=LNe;function $Ne(t){if(!t)return!0;for(const e in t)return!1;return!0}function VNe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const FNe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Or(`${t} must be an integer`);if(e<0)throw new Or(`${t} must be a positive integer`);return e},UNe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BNe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qNe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zNe=()=>{var t,e,n,r,s;const i=qNe();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":dP(Deno.build.os),"X-Stainless-Arch":uP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":dP((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":uP((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const o=GNe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function GNe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const uP=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",dP=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fh;const HNe=()=>Fh??(Fh=zNe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WNe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function T$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function KNe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return T$({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function A$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function JNe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YNe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ly(t,e,n){return k$(),new File(t,e??"unknown_file",n)}function XNe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const QNe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ZNe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&C$(t),eSe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function tSe(t,e,n){if(k$(),t=await t,ZNe(t))return t instanceof File?t:Ly([await t.arrayBuffer()],t.name);if(eSe(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ly(await Yw(s),e,n)}const r=await Yw(t);if(e||(e=XNe(t)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Ly(r,e,n)}async function Yw(t){var e,n,r,s,i;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(C$(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(QNe(t))try{for(var l=!0,c=es(t),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const d=s;o.push(...await Yw(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${nSe(t)}`)}return o}function nSe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j${constructor(e){this._client=e}}j$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fP=Object.freeze(Object.create(null)),rSe=(t=I$)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],o=n.reduce((d,f,h)=>{var x,v,b;/[?#]/.test(f)&&(s=!0);const y=r[h];let w=(s?encodeURIComponent:t)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((x=y.hasOwnProperty)!==null&&x!==void 0?x:fP))!==null&&v!==void 0?v:fP))===null||b===void 0?void 0:b.toString))&&(w=y+"",i.push({start:d.length+f.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":w)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((d,f)=>d.start-f.start),i.length>0){let d=0;const f=i.reduce((h,x)=>{const v=" ".repeat(x.start-d),b="^".repeat(x.length);return d=x.start+x.length,h+v+b},"");throw new Or(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},Uh=rSe(I$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P$ extends j${create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,i=yg(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Or("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Or("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Uh`/${s}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(Uh`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(Uh`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const i=n??{},{api_version:o=this._client.apiVersion}=i,l=yg(i,["api_version"]);return this._client.get(Uh`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}P$._key=Object.freeze(["interactions"]);class R$ extends P${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sSe(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let Bh;function hS(t){let e;return(Bh??(e=new globalThis.TextEncoder,Bh=e.encode.bind(e)))(t)}let qh;function hP(t){let e;return(qh??(e=new globalThis.TextDecoder,qh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sx{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?hS(e):e;this.buffer=sSe([this.buffer,n]);const r=[];let s;for(;(s=iSe(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(hP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,o=hP(this.buffer.subarray(0,i));r.push(o),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}sx.NEWLINE_CHARS=new Set([`
`,"\r"]);sx.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iSe(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function aSe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vg={off:0,error:200,warn:300,info:400,debug:500},pP=(t,e,n)=>{if(t){if(VNe(vg,t))return t;Mn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(vg))}`)}};function Ou(){}function zh(t,e,n){return!e||vg[t]>vg[n]?Ou:e[t].bind(e)}const oSe={error:Ou,warn:Ou,info:Ou,debug:Ou};let mP=new WeakMap;function Mn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return oSe;const s=mP.get(n);if(s&&s[0]===r)return s[1];const i={error:zh("error",n,r),warn:zh("warn",n,r),info:zh("info",n,r),debug:zh("debug",n,r)};return mP.set(n,[r,i]),i}const Ma=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ul{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const i=r?Mn(r):console;function o(){return Zr(this,arguments,function*(){var c,u,d,f;if(s)throw new Or("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,v=es(lSe(e,n)),b;b=yield je(v.next()),c=b.done,!c;x=!0){f=b.value,x=!1;const y=f;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield je(JSON.parse(y.data))}catch(w){throw i.error("Could not parse message into JSON:",y.data),i.error("From chunk:",y.raw),w}}}catch(y){u={error:y}}finally{try{!x&&!c&&(d=v.return)&&(yield je(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Hw(y))return yield je(void 0);throw y}finally{h||n.abort()}})}return new ul(o,n,r)}static fromReadableStream(e,n,r){let s=!1;function i(){return Zr(this,arguments,function*(){var c,u,d,f;const h=new sx,x=A$(e);try{for(var v=!0,b=es(x),y;y=yield je(b.next()),c=y.done,!c;v=!0){f=y.value,v=!1;const w=f;for(const _ of h.decode(w))yield yield je(_)}}catch(w){u={error:w}}finally{try{!v&&!c&&(d=b.return)&&(yield je(d.call(b)))}finally{if(u)throw u.error}}for(const w of h.flush())yield yield je(w)})}function o(){return Zr(this,arguments,function*(){var c,u,d,f;if(s)throw new Or("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,v=es(i()),b;b=yield je(v.next()),c=b.done,!c;x=!0){f=b.value,x=!1;const y=f;h||y&&(yield yield je(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!x&&!c&&(d=v.return)&&(yield je(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Hw(y))return yield je(void 0);throw y}finally{h||n.abort()}})}return new ul(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new ul(()=>s(e),this.controller,this.client),new ul(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return T$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const o=hS(JSON.stringify(s)+`
`);r.enqueue(o)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function lSe(t,e){return Zr(this,arguments,function*(){var r,s,i,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Or("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Or("Attempted to iterate over a response with no body");const l=new uSe,c=new sx,u=A$(t.body);try{for(var d=!0,f=es(cSe(u)),h;h=yield je(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const x=o;for(const v of c.decode(x)){const b=l.decode(v);b&&(yield yield je(b))}}}catch(x){s={error:x}}finally{try{!d&&!r&&(i=f.return)&&(yield je(i.call(f)))}finally{if(s)throw s.error}}for(const x of c.flush()){const v=l.decode(x);v&&(yield yield je(v))}})}function cSe(t){return Zr(this,arguments,function*(){var n,r,s,i;let o=new Uint8Array;try{for(var l=!0,c=es(t),u;u=yield je(c.next()),n=u.done,!n;l=!0){i=u.value,l=!1;const d=i;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?hS(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let x;for(;(x=aSe(o))!==-1;)yield yield je(o.slice(0,x)),o=o.slice(x)}}catch(d){r={error:d}}finally{try{!l&&!n&&(s=c.return)&&(yield je(s.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield je(o))})}class uSe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=dSe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function dSe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fSe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,o=await(async()=>{var l;if(e.options.stream)return Mn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ul.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Mn(t).debug(`[${r}] response parsed`,Ma({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-i})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pS extends Promise{constructor(e,n,r=fSe){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new pS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M$=Symbol("brand.privateNullableHeaders");function*hSe(t){if(!t)return;if(M$ in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():cP(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=cP(r[1])?r[1]:[r[1]];let o=!1;for(const l of i)l!==void 0&&(e&&!o&&(o=!0,yield[s,null]),yield[s,l])}}const Su=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,o]of hSe(r)){const l=i.toLowerCase();s.has(l)||(e.delete(i),s.add(l)),o===null?(e.delete(i),n.add(l)):(e.append(i,o),n.delete(l))}}return{[M$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $y=t=>{var e,n,r,s,i,o;if(typeof globalThis.process<"u")return(r=(n=(e=$ye)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(i=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||i===void 0?void 0:i.call(s,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var O$;class ix{constructor(e){var n,r,s,i,o,l,c,{baseURL:u=$y("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=$y("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=yg(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:ix.DEFAULT_TIMEOUT,this.logger=(s=x.logger)!==null&&s!==void 0?s:console;const v="warn";this.logLevel=v,this.logLevel=(o=(i=pP(x.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:pP($y("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:v,this.fetchOptions=x.fetchOptions,this.maxRetries=(l=x.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:WNe(),this.encoder=YNe,this._options=x,this.apiKey=d,this.apiVersion=f,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Su([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Su([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Su([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Or(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${qo}`}defaultIdempotencyKey(){return`stainless-node-retry-${RNe()}`}makeStatusError(e,n,r,s){return Fn.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,i=ONe(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return $Ne(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new pS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,i,o;const l=await e,c=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Mn(this).debug(`[${h}] sending request`,Ma({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((i=l.signal)===null||i===void 0)&&i.aborted)throw new Kw;const b=new AbortController,y=await this.fetchWithTimeout(d,u,f,b).catch(Ww),w=Date.now();if(y instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Kw;const k=Hw(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Mn(this).info(`[${h}] connection ${k?"timed out":"failed"} - ${S}`),Mn(this).debug(`[${h}] connection ${k?"timed out":"failed"} (${S})`,Ma({retryOfRequestLogID:r,url:d,durationMs:w-v,message:y.message})),this.retryRequest(l,n,r??h);throw Mn(this).info(`[${h}] connection ${k?"timed out":"failed"} - error; no more retries left`),Mn(this).debug(`[${h}] connection ${k?"timed out":"failed"} (error; no more retries left)`,Ma({retryOfRequestLogID:r,url:d,durationMs:w-v,message:y.message})),k?new x$:new rx({cause:y})}const _=`[${h}${x}] ${u.method} ${d} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${w-v}ms`;if(!y.ok){const S=await this.shouldRetry(y);if(n&&S){const j=`retrying, ${n} attempts remaining`;return await JNe(y.body),Mn(this).info(`${_} - ${j}`),Mn(this).debug(`[${h}] response error (${j})`,Ma({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),this.retryRequest(l,n,r??h,y.headers)}const k=S?"error; no more retries left":"error; not retryable";Mn(this).info(`${_} - ${k}`);const A=await y.text().catch(j=>Ww(j).message),N=UNe(A),E=N?void 0:A;throw Mn(this).debug(`[${h}] response error (${k})`,Ma({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:E,durationMs:Date.now()-v})),this.makeStatusError(y.status,N,E,y.headers)}return Mn(this).info(_),Mn(this).debug(`[${h}] response start`,Ma({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),{response:y,options:l,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,s){const i=n||{},{signal:o,method:l}=i,c=yg(i,["signal","method"]);o&&o.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:s.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var i;let o;const l=s==null?void 0:s.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=s==null?void 0:s.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await BNe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,i;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&FNe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:x}=this.buildBody({options:o}),v=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:v},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(i=o.fetchOptions)!==null&&i!==void 0?i:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=Su([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),HNe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Su([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:KNe(e)}:this.encoder({body:e,headers:r})}}ix.DEFAULT_TIMEOUT=6e4;class on extends ix{constructor(){super(...arguments),this.interactions=new R$(this)}}O$=on;on.GeminiNextGenAPIClient=O$;on.GeminiNextGenAPIClientError=Or;on.APIError=Fn;on.APIConnectionError=rx;on.APIConnectionTimeoutError=x$;on.APIUserAbortError=Kw;on.NotFoundError=w$;on.ConflictError=_$;on.RateLimitError=S$;on.BadRequestError=y$;on.AuthenticationError=v$;on.InternalServerError=E$;on.PermissionDeniedError=b$;on.UnprocessableEntityError=N$;on.toFile=tSe;on.Interactions=R$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function mSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function gSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function xSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function ySe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&g(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function vSe(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],gP(x))}else if(s==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],gP(x))}const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&g(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function bSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&ISe(i);const o=p(t,["config"]);return o!=null&&ySe(o,n),n}function wSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&PSe(i,n,e);const o=p(t,["config"]);return o!=null&&vSe(o,n,e),n}function _Se(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function NSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function SSe(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function ESe(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function TSe(t,e){const n={},r=p(t,["config"]);return r!=null&&SSe(r,n),n}function ASe(t,e){const n={},r=p(t,["config"]);return r!=null&&ESe(r,n),n}function kSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>D$(l))),g(n,["tuningJobs"],o)}return n}function CSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Xw(l))),g(n,["tuningJobs"],o)}return n}function jSe(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function ISe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(n,["examples","examples"],s)}return n}function PSe(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function D$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],Q6(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],jSe(h)),n}function Xw(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],Q6(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const y=p(t,["preferenceOptimizationSpec"]);y!=null&&g(n,["preferenceOptimizationSpec"],y);const w=p(t,["tuningDataStats"]);w!=null&&g(n,["tuningDataStats"],w);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const S=p(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const k=p(t,["customBaseModel"]);k!=null&&g(n,["customBaseModel"],k);const A=p(t,["experiment"]);A!=null&&g(n,["experiment"],A);const N=p(t,["labels"]);N!=null&&g(n,["labels"],N);const E=p(t,["outputUri"]);E!=null&&g(n,["outputUri"],E);const T=p(t,["pipelineJob"]);T!=null&&g(n,["pipelineJob"],T);const j=p(t,["serviceAccount"]);j!=null&&g(n,["serviceAccount"],j);const M=p(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const I=p(t,["veoTuningSpec"]);return I!=null&&g(n,["veoTuningSpec"],I),n}function RSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function gP(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MSe extends xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ko(ui.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:$w.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=NSe(e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Xw(d))}else{const u=_Se(e);return l=he("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>D$(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ASe(e);return l=he("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=CSe(d),h=new BI;return Object.assign(h,f),h})}else{const u=TSe(e);return l=he("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=kSe(d),h=new BI;return Object.assign(h,f),h})}}async cancel(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=mSe(e);return l=he("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=xSe(d),h=new qI;return Object.assign(h,f),h})}else{const u=pSe(e);return l=he("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=gSe(d),h=new qI;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=wSe(e,e);return i=he("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>Xw(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=bSe(e);return i=he("tunedModels",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>RSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DSe=1024*1024*8,LSe=3,$Se=1e3,VSe=2,bg="x-goog-upload-status";async function FSe(t,e,n){var r;const s=await L$(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function USe(t,e,n){var r;const s=await L$(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=H6(i),l=new oS;return Object.assign(l,o),l}async function L$(t,e,n){var r,s;let i=0,o=0,l=new Fw(new Response),c="upload";for(i=t.size;o<i;){const u=Math.min(DSe,i-o),d=t.slice(o,o+u);o+u>=i&&(c+=", finalize");let f=0,h=$Se;for(;f<LSe&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[bg]));)f++,await qSe(h),h=h*VSe;if(o+=u,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[bg])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function BSe(t){return{size:t.size,type:t.type}}function qSe(t){return new Promise(e=>setTimeout(e,t))}class zSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FSe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await USe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GSe{create(e,n,r){return new HSe(e,n,r)}}class HSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xP="x-goog-api-key";class WSe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(xP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(xP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KSe="gl-node/";class mS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new on({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Bye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new WSe(this.apiKey);this.apiClient=new B_e({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:KSe+"web",uploader:new zSe,downloader:new OSe}),this.models=new oNe(this.apiClient),this.live=new tNe(this.apiClient,s,new GSe),this.batches=new xbe(this.apiClient),this.chats=new Qbe(this.models,this.apiClient),this.caches=new Jbe(this.apiClient),this.files=new lwe(this.apiClient),this.operations=new lNe(this.apiClient),this.authTokens=new SNe(this.apiClient),this.tunings=new MSe(this.apiClient),this.fileSearchStores=new PNe(this.apiClient)}}var $$={};async function JSe(t,e){const r=await new mS({apiKey:$$.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:ut.OBJECT,properties:{invoiceNumber:{type:ut.STRING},supplierName:{type:ut.STRING},supplierCuit:{type:ut.STRING},date:{type:ut.STRING},items:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{sku:{type:ut.STRING},description:{type:ut.STRING},quantity:{type:ut.NUMBER},unitPrice:{type:ut.NUMBER},total:{type:ut.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:ut.NUMBER},iva:{type:ut.NUMBER},totalAmount:{type:ut.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}async function YSe(t){const e=new mS({apiKey:$$.API_KEY}),n=`Extrae una lista de productos y sus cantidades de este mensaje. Si no se especifica una cantidad, asume 1. Devuelve SOLO JSON en formato de array de objetos con las propiedades "productName" (string) y "quantity" (number). Ejemplo: [{ "productName": "martillo", "quantity": 2 }, { "productName": "cemento", "quantity": 1 }].
  
  Mensaje: "${t}"`;try{const i=((await e.models.generateContent({model:"gemini-3-flash-preview",contents:[{text:n}],config:{responseMimeType:"application/json",responseSchema:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{productName:{type:ut.STRING,description:"The name of the product mentioned."},quantity:{type:ut.NUMBER,description:"The quantity requested for the product."}},required:["productName","quantity"],propertyOrdering:["productName","quantity"]}}}})).text||"[]").replace(/```json\s*|```/g,"").trim();return JSON.parse(i)}catch(r){return console.error("Error al extraer productos con Gemini:",r),[]}}const XSe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Lt(),n=D.useRef(null),[r,s]=D.useState("ia"),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),x=w=>{var S;const _=(S=w.target.files)==null?void 0:S[0];if(_){const k=new FileReader;k.onload=A=>{var N;d({name:_.name,type:_.type,preview:(N=A.target)==null?void 0:N.result})},k.readAsDataURL(_)}},v=async()=>{if(u){o(!0);try{const w=u.preview.split(",")[1],_=await JSe(w,u.type),S=await Promise.all(_.items.map(async k=>{const{products:A}=await e({limit:1,searchTerm:k.sku||k.description.split(" ")[0],orderByField:"name"});return{...k,matchedProduct:A[0]}}));h({invoiceNumber:_.invoiceNumber||"",supplierName:_.supplierName||"",date:_.date||new Date().toISOString().split("T")[0],items:S})}catch(w){console.error(w),alert("Error al procesar el documento con IA.")}finally{o(!1)}}},b=async()=>{c(!0);try{for(const w of f.items)if(w.matchedProduct){const _=(w.matchedProduct.stock||0)+w.quantity;await t(w.matchedProduct.id,{costPrice:w.unitPrice,stock:_})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),d(null)}finally{c(!1)}},y=f.items.reduce((w,_)=>w+_.unitPrice*_.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>s("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(um,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>s("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Ze,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(n7,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?a.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Pr,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),a.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(Ke,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:v,disabled:i,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[i?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(um,{className:"w-5 h-5"}),i?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var w;return(w=n.current)==null?void 0:w.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Pr,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:x})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:f.supplierName,onChange:w=>h({...f,supplierName:w.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:f.invoiceNumber,onChange:w=>h({...f,invoiceNumber:w.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:f.date,onChange:w=>h({...f,date:w.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Q4,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(Y4,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((w,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.description}),w.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(fn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",w.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(ii,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:w.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",w.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",w.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(vn,{className:"w-4 h-4"})})})]},_))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",y.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(y*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:b,disabled:l||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[l?a.jsx(qe,{className:"animate-spin w-6 h-6"}):a.jsx(sn,{className:"w-6 h-6"}),l?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})};var QSe={};const yP=QSe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function V$(t,e){await new Promise(s=>setTimeout(s,Math.random()*1500+500)),(yP.includes("DEMO_KEY")||yP.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const ZSe=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:s,deleteClient:i}=Lt(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,x]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[v,b]=D.useState(""),[y,w]=D.useState(!1);q.useEffect(()=>{n.length>0&&!h.priceListId&&x(I=>{var O,R;return{...I,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((R=n[0])==null?void 0:R.id)||""}})},[n,h.priceListId]);const _=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}w(!0);try{const I=await V$(h.cuit,"client");x(O=>{var R,H;return{...O,name:I.name,email:I.email,whatsapp:I.phone,priceListId:((R=n.find(B=>B.isBase))==null?void 0:R.id)||((H=n[0])==null?void 0:H.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(I){alert(`Error al buscar CUIT en ARCA: ${I.message}`),console.error("ARCA CUIT Lookup Error:",I)}finally{w(!1)}},S=()=>{v.trim()&&(x(I=>({...I,authorizedPersons:[...I.authorizedPersons||[],v.trim()]})),b(""))},k=I=>{x(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(R=>R!==I)}))},A=async()=>{var I,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await s(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),x({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((I=n.find(R=>R.isBase))==null?void 0:I.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b("")}catch(R){alert("Error al guardar el cliente."),console.error(R)}},N=async I=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await i(I),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},E=I=>{var O,R;f(I),x(I||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((R=n[0])==null?void 0:R.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b(""),u("general"),l(!0)},T=()=>{t&&(l(!1),t("balances"))},j=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},M=I=>{var O;return I&&((O=n.find(R=>R.id===I))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>E(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(I=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:I.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:I.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(G_,{className:"w-4 h-4 text-slate-300"})," ",I.email]}),I.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(WG,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${I.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:I.balance<0?`DEBE $${Math.abs(I.balance).toLocaleString()}`:`SALDO $${I.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",I.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:I.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:I.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:T,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(ta,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>E(I),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(om,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>N(I.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(vn,{className:"w-5 h-5"})})]})})]},I.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:LA}].map(I=>a.jsxs("button",{onClick:()=>u(I.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===I.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[I.icon&&a.jsx(I.icon,{className:"w-4 h-4 inline-block mr-2"})," ",I.label]},I.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:I=>x({...h,cuit:I.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:_,disabled:y,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:y?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:I=>x({...h,name:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:I=>x({...h,email:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:I=>x({...h,whatsapp:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:I=>x({...h,specialDiscount:Number(I.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:I=>x({...h,priceListId:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(sb,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx(sb,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:M(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:I=>x({...h,priceListId:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:I=>x({...h,specialDiscount:Number(I.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(X_,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:v,onChange:I=>b(I.target.value),onKeyPress:I=>{I.key==="Enter"&&S()}}),a.jsx("button",{onClick:S,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((I,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:I}),a.jsx("button",{onClick:()=>k(I),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(vn,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ta,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(si,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(pr,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:T,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(om,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:j,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(X4,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(LA,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:I=>x({...h,pointsEnabled:I.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Y_,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:I=>x({...h,accumulatedPoints:Number(I.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:A,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(sn,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},eEe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=Lt(),[s,i]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,x]=D.useState(!1),v=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}x(!0);try{const k=await V$(c.cuit,"supplier");u(A=>({...A,name:k.name,email:k.email,phone:k.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(k){alert(`Error al buscar CUIT en ARCA: ${k.message}`),console.error("ARCA CUIT Lookup Error:",k)}finally{x(!1)}},b=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),i(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(k){alert("Error al guardar el proveedor."),console.error(k)}},y=async k=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(k),alert("Proveedor eliminado con xito.")}catch(A){alert("Error al eliminar el proveedor."),console.error(A)}},w=k=>{l(k),u(k||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),i(!0)},_=()=>{d>0&&(u(k=>({...k,discounts:[...k.discounts||[],d]})),f(0))},S=k=>{u(A=>({...A,discounts:(A.discounts||[]).filter((N,E)=>E!==k)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>w(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(k=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:k.name}),a.jsx("p",{className:"text-xs text-slate-500",children:k.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[k.discounts.map((A,N)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",A,"%"]},N)),k.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${k.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:k.balance<0?`DEBEMOS $${Math.abs(k.balance).toLocaleString()}`:`A FAVOR $${k.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>w(k),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(HG,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>y(k.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(vn,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(tr,{className:"w-5 h-5"})})]})]},k.id))})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-white",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:k=>u({...c,cuit:k.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:v,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:k=>u({...c,name:k.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:k=>u({...c,email:k.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:k=>u({...c,phone:k.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((k,A)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",k,"%",a.jsx("button",{onClick:()=>S(A),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(Ke,{className:"w-3 h-3"})})]},A))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:k=>f(Number(k.target.value))}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:k=>u({...c,balance:Number(k.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:b,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},tEe=()=>{const{transactions:t}=Lt(),[e,n]=D.useState("boxes"),[r,s]=D.useState({show:!1,type:null}),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,v]=D.useState([{id:"1",name:"Caja Mostrador 01",balance:142500,type:"efectivo",status:"abierta",responsible:"Carlos V."},{id:"2",name:"Banco Nacin (Cta Cte)",balance:45e4,type:"banco",status:"abierta",responsible:"Admin"},{id:"3",name:"Caja Fuerte / Reserva",balance:12e5,type:"efectivo",status:"cerrada",lastClosed:"2024-05-20"},{id:"4",name:"Cartera de Cheques",balance:85400,type:"cheques",status:"abierta"}]),[b,y]=D.useState([{id:"m1",date:new Date().toISOString(),boxId:"1",type:"ingreso",amount:4500,method:"efectivo",category:"Venta",description:"Ticket #4829",user:"Carlos V."},{id:"m2",date:new Date().toISOString(),boxId:"1",type:"egreso",amount:1200,method:"efectivo",category:"Gastos",description:"Compra de artculos limpieza",user:"Carlos V."},{id:"m3",date:new Date().toISOString(),boxId:"2",type:"transferencia",amount:5e4,method:"transferencia",category:"Interno",description:"De Caja Mostrador a Banco",user:"Admin"}]),w=D.useMemo(()=>x.reduce((N,E)=>N+E.balance,0),[x]),_=D.useMemo(()=>x.filter(N=>N.type==="efectivo").reduce((N,E)=>N+E.balance,0),[x]),S=N=>{N.preventDefault();const E=new FormData(N.currentTarget),T=parseFloat(E.get("amount")),j=E.get("boxId"),M=r.type,I={id:`m${Date.now()}`,date:new Date().toISOString(),boxId:j,type:M,amount:T,method:E.get("method"),category:E.get("category"),description:E.get("description"),user:"Admin"};y([I,...b]),v(O=>O.map(R=>R.id===j?{...R,balance:M==="egreso"?R.balance-T:R.balance+T}:R)),s({show:!1,type:null}),alert("Movimiento registrado con xito")},k=N=>{N.preventDefault();const E=new FormData(N.currentTarget),T=E.get("name"),j=E.get("type"),M=E.get("responsible"),I=parseFloat(E.get("balance"))||0;if(f)v(O=>O.map(R=>R.id===f.id?{...R,name:T,type:j,responsible:M}:R)),alert("Caja actualizada con xito");else{const O={id:`box-${Date.now()}`,name:T,type:j,responsible:M,balance:I,status:"abierta"};v(R=>[...R,O]),alert("Nueva caja creada con xito")}c(!1),h(null)},A=N=>{window.confirm("Ests seguro de eliminar este fondo? Solo puedes hacerlo si no tiene movimientos pendientes.")&&v(E=>E.filter(T=>T.id!==N))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Control de Cajas"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Gestin de flujo de fondos, arqueos y transferencias bancarias."})]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>n("boxes"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="boxes"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Estado de Fondos"}),a.jsx("button",{onClick:()=>n("history"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="history"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Historial de Movimientos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",w.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(J_,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(pr,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(SG,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(lm,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",x.filter(N=>N.type==="banco").reduce((N,E)=>N+E.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(ta,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Tarjetas / MP"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$45.820"})]})]})]}),e==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.map(N=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${N.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:N.type==="banco"?a.jsx(lm,{className:"w-6 h-6"}):N.type==="virtual"?a.jsx(ta,{className:"w-6 h-6"}):a.jsx(lb,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{h(N),c(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx(ai,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(N.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(vn,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:N.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",N.balance.toLocaleString()]}),N.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(As,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:N.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{d(N),o(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(am,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>s({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(RA,{className:"w-4 h-4"})," Transferir"]})]})]}),N.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",N.lastClosed]}),a.jsxs("button",{onClick:()=>v(E=>E.map(T=>T.id===N.id?{...T,status:"abierta"}:T)),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(Ze,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},N.id)),a.jsxs("button",{onClick:()=>{h(null),c(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(Ze,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rs,{className:"w-4 h-4 text-orange-600"})," Acciones de Tesorera"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("button",{onClick:()=>s({show:!0,type:"ingreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-green-50 border border-transparent hover:border-green-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-green-600 shadow-sm group-hover:bg-green-600 group-hover:text-white transition-all",children:a.jsx(PA,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ingreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Aporte, Sobrante, Devolucin"})]})]}),a.jsx(tr,{className:"w-5 h-5 text-slate-300"})]}),a.jsxs("button",{onClick:()=>s({show:!0,type:"egreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-red-50 border border-transparent hover:border-red-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-red-600 shadow-sm group-hover:bg-red-600 group-hover:text-white transition-all",children:a.jsx(MA,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Egreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gastos, Retiro, Pago Varios"})]})]}),a.jsx(tr,{className:"w-5 h-5 text-slate-300"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsx(Ar,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejo de Control"}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Realiza cierres de caja al menos una vez al da para detectar desvos de efectivo. Las transferencias a banco deben registrarse inmediatamente para mantener la conciliacin exacta."}),a.jsxs("button",{className:"text-orange-400 font-black text-[10px] uppercase tracking-widest flex items-center gap-2 hover:underline",children:["Ver Gua de Auditora ",a.jsx(ca,{className:"w-3 h-3"})]})]})]})]})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(J4,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Medio"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(N=>{var E;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(N.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(N.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((E=x.find(T=>T.id===N.boxId))==null?void 0:E.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.category}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:N.description})]}),a.jsx("td",{className:"px-8 py-5 uppercase font-black text-[10px] text-slate-500",children:N.method}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${N.type==="egreso"?"text-red-600":N.type==="ingreso"?"text-green-600":"text-blue-600"}`,children:[N.type==="egreso"?"-":N.type==="transferencia"?"":"+","$",N.amount.toLocaleString()]})}),a.jsxs("td",{className:"px-8 py-5 text-center",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(uo,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(Pd,{className:"w-5 h-5"})})]})]},N.id)})})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(lb,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:f?"Editar Caja":"Nueva Caja / Fondo"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de activos financieros"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:k,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Caja / Cuenta"}),a.jsx("input",{name:"name",defaultValue:(f==null?void 0:f.name)||"",required:!0,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Caja Chica Mostrador"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:(f==null?void 0:f.type)||"efectivo",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"}),a.jsx("option",{value:"cheques",children:"Cartera de Cheques"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:(f==null?void 0:f.responsible)||"",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre del encargado"})]})]}),!f&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full pl-12 pr-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-xl text-orange-600",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 uppercase text-xs tracking-widest hover:bg-orange-500 transition-all",children:f?"Guardar Cambios":"Crear Caja"})]})]})]})}),r.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${r.type==="ingreso"?"bg-green-600":r.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:r.type==="ingreso"?a.jsx(PA,{className:"w-6 h-6"}):r.type==="egreso"?a.jsx(MA,{className:"w-6 h-6"}):a.jsx(RA,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",r.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Movimiento de tesorera manual"})]})]}),a.jsx("button",{onClick:()=>s({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja Origen/Destino"}),a.jsx("select",{name:"boxId",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500",children:x.filter(N=>N.status==="abierta").map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsx("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:r.type==="ingreso"?a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Aporte Propietario"}),a.jsx("option",{children:"Sobrante de Caja"}),a.jsx("option",{children:"Devolucin Proveedor"}),a.jsx("option",{children:"Otros Ingresos"})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Gasto Limpieza/Insumos"}),a.jsx("option",{children:"Retiro de Propietario"}),a.jsx("option",{children:"Pago a Cadete/Flete"}),a.jsx("option",{children:"Sueldos / Adelantos"}),a.jsx("option",{children:"Servicios (Luz, Gas, etc)"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medio de Pago"}),a.jsxs("select",{name:"method",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"transferencia",children:"Transferencia / QR"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Motivo detallado del movimiento..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>s({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${r.type==="ingreso"?"bg-green-600 shadow-green-600/20":"bg-red-600 shadow-red-600/20"}`,children:"Confirmar Registro"})]})]})]})}),i&&u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[130] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(am,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Arqueo de Caja"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:u.name})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-slate-400 hover:text-white",children:a.jsx(Ke,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumen Sistema"}),a.jsxs("div",{className:"space-y-3 bg-slate-50 p-6 rounded-3xl border border-slate-100 shadow-inner",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-slate-500",children:[a.jsx("span",{children:"Saldo Inicial:"}),a.jsx("span",{children:"$100.000"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-green-600",children:[a.jsx("span",{children:"Ventas (+):"}),a.jsx("span",{children:"$45.200"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-red-500",children:[a.jsx("span",{children:"Egresos (-):"}),a.jsx("span",{children:"$2.700"})]}),a.jsxs("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center font-black text-slate-900 text-lg",children:[a.jsx("span",{children:"Saldo Esperado:"}),a.jsxs("span",{children:["$",u.balance.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conteo Fsico"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Efectivo en Caja ($)"}),a.jsx("input",{type:"number",placeholder:"Ingresa monto contado...",className:"w-full px-5 py-4 border-2 border-orange-100 rounded-2xl focus:ring-4 focus:ring-orange-500/20 outline-none font-black text-2xl text-orange-600 shadow-sm"}),a.jsx("p",{className:"text-[9px] text-slate-400 italic",children:"Cuenta cada billete y moneda antes de cerrar."})]})]})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx(ii,{className:"w-8 h-8 text-orange-600 shrink-0"}),a.jsx("p",{className:"text-xs font-bold text-orange-900 leading-relaxed",children:'Al cerrar la caja, se generar un reporte de arqueo. Si existe diferencia, se registrar como "Faltante/Sobrante" automticamente para auditar luego.'})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{v(N=>N.map(E=>E.id===u.id?{...E,status:"cerrada",lastClosed:new Date().toLocaleDateString()}:E)),alert("Caja Cerrada con xito. Reporte impreso."),o(!1)},className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Confirmar Arqueo y Cerrar Caja ",a.jsx(sn,{className:"w-5 h-5"})]})]})]})})]})},nEe=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(s,i,o)=>{const l=new Blob([s],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const s=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const s=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(Ru,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(Qu,{width:"100%",height:"100%",children:a.jsxs(z6,{data:t,children:[a.jsx(hf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ua,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(da,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Gn,{}),a.jsx(Qr,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(Qr,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(am,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:Mi},{label:"Ranking de Productos",icon:rs},{label:"Libro IVA Ventas (AFIP)",icon:Pr},{label:"Libro IVA Compras",icon:Pr},{label:"CITI IVA Ventas (AFIP)",icon:Ru,action:n},{label:"CITI IVA Compras (AFIP)",icon:Ru,action:r}].map((s,i)=>a.jsxs("button",{onClick:s.action||(()=>alert(`Generar reporte: ${s.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(s.icon,{className:"w-4 h-4"}),s.label]}),s.action?a.jsx(Ru,{className:"w-4 h-4 text-slate-400"}):a.jsx(IG,{className:"w-4 h-4 text-slate-300"})]},i))]})]})]})]})},vP=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:s,setCompanyInfo:i})=>{const o=D.useRef(null),[l,c]=D.useState(t),[u,d]=D.useState(!1),{exportAllData:f,deleteAllDocumentsInCollection:h}=Lt(),[x,v]=D.useState(!1),[b,y]=D.useState(!1),[w,_]=D.useState(""),[S,k]=D.useState(!1),A="BORRARTODO",[N,E]=D.useState("factura");if(D.useEffect(()=>{c(t)},[t]),!s||!s.printConfigs)return a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando configuracin..."})]});const T=s.printConfigs[N],j=G=>{var Q;const K=(Q=G.target.files)==null?void 0:Q[0];if(K){const de=new FileReader;de.onload=we=>{i(be=>{var $e;return{...be,logo:($e=we.target)==null?void 0:$e.result}})},de.readAsDataURL(K)}},M=G=>{const{name:K,value:Q,type:de}=G.target,we=G.target.checked;i(be=>({...be,[K]:de==="checkbox"?we:Q}))},I=G=>{const{name:K,value:Q,type:de}=G.target,we=G.target.checked;i(be=>({...be,arca:{...be.arca,[K]:de==="checkbox"?we:Q}}))},O=(G,K)=>{i(Q=>({...Q,printConfigs:{...Q.printConfigs,[N]:{...Q.printConfigs[N],[G]:K}}}))},R=(G,K)=>{i(Q=>({...Q,printConfigs:{...Q.printConfigs,[N]:{...Q.printConfigs[N],margins:{...Q.printConfigs[N].margins,[G]:K}}}}))},H=()=>{d(!0),setTimeout(()=>{d(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},B=async()=>{v(!0);try{const K=await f(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"]),Q=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,de=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),we=URL.createObjectURL(de),be=document.createElement("a");be.href=we,be.download=Q,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(we),alert("Backup de datos generado con xito.")}catch(G){console.error("Error al generar backup:",G),alert("Error al generar backup. Consulte la consola para ms detalles.")}finally{v(!1)}},$=async()=>{if(w!==A){alert("Contrasea de seguridad incorrecta.");return}y(!0),k(!1);try{const G=["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"];for(const K of G)await h(K);alert("Todos los datos han sido eliminados del sistema.")}catch(G){console.error("Error al eliminar todos los datos:",G),alert("Error al eliminar todos los datos. Consulte la consola para ms detalles.")}finally{y(!1),_("")}},z=()=>{let G=210,K=297,Q=1.2;if(!T)return{width:G,height:K,scale:Q};switch(T.pageSize){case"A5":G=148,K=210,Q=1.6;break;case"A6":G=105,K=148,Q=2;break;case"80mm":G=80,K=250,Q=1.8;break}return T.orientation==="landscape"?{width:K,height:G,scale:Q*.8}:{width:G,height:K,scale:Q}},{width:V,height:U,scale:F}=z();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>c("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(CG,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>c("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(RG,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>c("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Pd,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>c("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(IA,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>c("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Id,{className:"w-5 h-5"})," Mdulos"]})]}),l==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Pr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:s.name,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:s.cuit,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Condicin IVA"}),a.jsxs("select",{name:"ivaCondition",value:s.ivaCondition,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold bg-white",children:[a.jsx("option",{children:"Responsable Inscripto"}),a.jsx("option",{children:"Monotributista"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin"}),a.jsx("input",{name:"address",value:s.address,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[s.logo?a.jsx("img",{src:s.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx(H4,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var G;return(G=o.current)==null?void 0:G.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(ob,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:j})]})]})})]}),l==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(XG,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${s.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"}),a.jsxs("div",{className:"space-y-4 bg-white/5 p-6 rounded-2xl border border-white/10 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Certificado:"}),a.jsx("span",{className:"text-green-400 font-black",children:"VLIDO"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Vencimiento:"}),a.jsx("span",{className:"text-white font-bold",children:new Date(s.arca.crtValidUntil).toLocaleDateString()})]})]})]})]}),a.jsxs("button",{onClick:H,disabled:u,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(Mf,{className:`w-6 h-6 ${u?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(tr,{className:"w-5 h-5 text-slate-300"})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Venta"}),a.jsx("input",{type:"number",name:"puntoVenta",value:s.arca.puntoVenta,onChange:I,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ingresos Brutos"}),a.jsx("input",{name:"iibb",value:s.arca.iibb,onChange:I,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-bold"})]})]})})})]})}),l==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(YG,{className:"w-4 h-4 text-purple-600"})," Comprobante a Configurar"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(G=>a.jsx("button",{onClick:()=>E(G),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${N===G?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:G},G))})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(FG,{className:"w-4 h-4 text-purple-600"})," Formato de Hoja"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tamao de Papel"}),a.jsxs("select",{value:T.pageSize,onChange:G=>O("pageSize",G.target.value),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-xl font-bold bg-white outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"A4",children:"A4 (Oficina)"}),a.jsx("option",{value:"A5",children:"A5 (Media Hoja)"}),a.jsx("option",{value:"A6",children:"A6 (1/4 A4 - Folleto)"}),a.jsx("option",{value:"80mm",children:"Ticket 80mm (Trmica)"}),a.jsx("option",{value:"58mm",children:"Ticket 58mm (Trmica)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Orientacin"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>O("orientation","portrait"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${T.orientation==="portrait"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Vertical"}),a.jsx("button",{onClick:()=>O("orientation","landscape"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${T.orientation==="landscape"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Horizontal"})]})]})]})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($G,{className:"w-4 h-4 text-purple-600"})," Mrgenes (mm)"]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["top","bottom","left","right"].map(G=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest capitalize",children:G}),a.jsx("input",{type:"number",value:T.margins[G],onChange:K=>R(G,parseInt(K.target.value)||0),className:"w-full px-4 py-2 border-2 border-slate-50 rounded-lg font-bold text-center outline-none focus:ring-2 focus:ring-purple-500"})]},G))})]})]}),a.jsx("div",{className:"lg:col-span-8 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(t7,{className:"w-6 h-6 text-purple-600"})," Informacin a Mostrar"]}),a.jsxs("div",{className:"space-y-4",children:[[{key:"showLogo",label:"Logo de Empresa"},{key:"showCuit",label:"CUIT y Datos Fiscales"},{key:"showAddress",label:"Domicilio Comercial"},{key:"showLegal",label:"Leyendas Legales / Pie"},{key:"showQr",label:"QR ARCA (Factura E)"},{key:"showPrices",label:"Mostrar Precios / Importes"}].map(G=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:G.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:T[G.key],onChange:K=>O(G.key,K.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},G.key)),a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Nmero de Copias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"1",max:"5",value:T.copies,onChange:G=>O("copies",parseInt(G.target.value)),className:"flex-1 accent-purple-600"}),a.jsx("span",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-black",children:T.copies})]})]})]})]}),a.jsxs("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:[a.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-2 text-slate-400",children:[a.jsx(uo,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest italic",children:["Simulacin: ",N]})]}),a.jsxs("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${V}px`,height:`${U}px`,transform:`scale(${F})`,paddingTop:`${T.margins.top/3}px`,paddingBottom:`${T.margins.bottom/3}px`,paddingLeft:`${T.margins.left/3}px`,paddingRight:`${T.margins.right/3}px`},children:[a.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[T.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),T.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]}),a.jsxs("div",{className:"text-[6px] font-black text-slate-300",children:["N ",N==="factura"?"0005-00001234":"RE-001234"]})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("div",{className:"w-full h-2 bg-slate-50 rounded"}),a.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[a.jsx("div",{className:"h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"h-1 bg-slate-100 rounded col-span-2"}),T.showPrices&&a.jsx("div",{className:"h-1 bg-slate-100 rounded text-right"})]}),[1,2,3,4,5].map(G=>a.jsxs("div",{className:"flex justify-between py-0.5 border-b border-slate-50 border-dotted",children:[a.jsx("div",{className:"w-20 h-1 bg-slate-50 rounded"}),T.showPrices&&a.jsx("div",{className:"w-4 h-1 bg-slate-50 rounded"})]},G))]}),a.jsxs("div",{className:"pt-2 mt-2 border-t border-slate-100 flex flex-col gap-1 items-end",children:[T.showPrices&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"w-16 h-2 bg-purple-100 rounded"})]}),T.showQr&&a.jsx("div",{className:"w-6 h-6 bg-slate-900 self-start mt-1 rounded-sm flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-white/10 rounded-full animate-pulse"})})]})]}),a.jsxs("div",{className:"absolute bottom-6 flex flex-col items-center gap-1",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[T.pageSize,"  ",T.orientation==="portrait"?"Vertical":"Horizontal"]}),a.jsxs("button",{className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl opacity-0 group-hover:opacity-100 transition-all flex items-center gap-2",children:[a.jsx(Pd,{className:"w-4 h-4"})," Imprimir Prueba"]})]})]})]})})]}),l==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(OG,{className:"w-6 h-6 text-green-600"})," Exportar Datos (Backup)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Genera un archivo JSON con todos los datos de tu ferretera para guardarlo de forma segura."}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-start gap-4",children:[a.jsx(Ar,{className:"w-6 h-6 text-green-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-green-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Este backup es un respaldo de datos. Para restaurar, se requerira una importacin manual o un proceso tcnico avanzado."})]})]}),a.jsxs("button",{onClick:B,disabled:x,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(IA,{className:"w-5 h-5"}),x?"Generando Backup...":"Generar Backup (JSON)"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(DG,{className:"w-6 h-6 text-red-600"})," Borrar Todos los Datos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Esta accin es **IRREVERSIBLE**. Eliminar todos los productos, clientes, proveedores, ventas, etc. de tu sistema."}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 flex items-start gap-4",children:[a.jsx(si,{className:"w-6 h-6 text-red-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-red-900",children:"ADVERTENCIA CRTICA:"}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"No hay marcha atrs. Asegrate de tener un backup reciente y de entender las consecuencias."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Confirmar con Contrasea de Seguridad"}),a.jsx("input",{type:"password",value:w,onChange:G=>_(G.target.value),placeholder:"Escribe 'BORRARTODO' para habilitar",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-red-500 outline-none font-bold text-red-600",disabled:b})]}),a.jsxs("button",{onClick:()=>k(!0),disabled:w!==A||b,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-red-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(vn,{className:"w-5 h-5"}),b?"Eliminando Datos...":"Borrar Todos los Datos"]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[150] flex items-center justify-center p-4 text-center",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl animate-in zoom-in duration-200",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-red-600/10",children:a.jsx(si,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"ATENCIN! Eliminacin Irreversible"}),a.jsx("p",{className:"text-slate-500 font-medium mb-8 px-4",children:"Ests a punto de borrar **TODOS** los datos de tu empresa (productos, clientes, ventas, etc.). Esta accin no se puede deshacer. Ests absolutamente seguro?"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("button",{onClick:$,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-red-600/20 hover:bg-red-500 transition-all",children:"S, ENTIENDO Y QUIERO BORRAR TODO"}),a.jsx("button",{onClick:()=>k(!1),className:"w-full py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold hover:bg-slate-200 transition-all",children:"CANCELAR"})]})]})})]}),l==="system"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-left duration-500",children:r?a.jsxs("section",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Id,{className:"w-5 h-5 text-orange-500"})," Plan de Suscripcin Actual"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:"basic",name:"Basic",price:"$15.000/mes",color:"bg-slate-50 border-slate-200"},{id:"premium",name:"Premium",price:"$25.000/mes",color:"bg-orange-50 border-orange-200"},{id:"enterprise",name:"Enterprise",price:"$45.000/mes",color:"bg-purple-50 border-purple-200"}].map(G=>a.jsxs("button",{onClick:()=>n(G.id),className:`p-6 rounded-2xl border-2 text-left transition-all group ${e===G.id?"ring-4 ring-orange-500/20 border-orange-500 "+G.color:"bg-white border-slate-100 opacity-60 hover:opacity-100"}`,children:[a.jsx("h4",{className:"font-bold text-xl text-slate-800",children:G.name}),a.jsx("p",{className:"text-slate-500 mb-4",children:G.price}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${e===G.id?"bg-orange-600 text-white":"bg-slate-200 text-slate-500"}`,children:e===G.id?"Activo":"Seleccionar"})]},G.id))})]}):a.jsxs("section",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center",children:[a.jsx(i0,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-400",children:"Control Restringido"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Solo administradores gestionan el plan."})]})}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada en FerroGest"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3 active:scale-95",children:[a.jsx(sn,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})},rEe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:s,deleteBranch:i}=Lt(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{x(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const v=S=>{const{name:k,value:A,type:N}=S.target,E=S.target.checked;x(T=>({...T,[k]:N==="checkbox"?E:A}))},b=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await s(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(S){alert("Error al guardar la sucursal."),console.error("Error saving branch:",S)}},y=S=>{f(S),u(!0)},w=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(si,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(Mf,{className:"w-4 h-4"})," Reintentar"]})]});const _=t.reduce((S,k)=>S+k.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:w,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(S=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${S.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(rl,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${S.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:S.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx(zG,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:S.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(H_,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:S.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[S.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(As,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:S.manager})]})]})})]}),a.jsxs("button",{onClick:()=>y(S),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(tr,{className:"w-4 h-4"})]})]},S.id)),a.jsxs("button",{onClick:w,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(Ze,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(rs,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(S=>S.dailySales>0).map(S=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:S.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${S.dailySales/_*100}%`}})})]},S.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(ca,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(rl,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(rl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(fn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(rl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Pr,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:v,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(K4,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:S=>x(k=>({...k,status:S.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rs,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(sn,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},sEe=()=>{const{users:t,addUser:e,updateUser:n,deleteUser:r,branches:s}=Lt(),i=[{id:"sales",name:"Ventas"},{id:"inventory",name:"Inventario"},{id:"cashier",name:"Cajas"},{id:"purchases",name:"Compras"},{id:"finance",name:"Finanzas"},{id:"ecommerce",name:"E-Commerce"},{id:"reports",name:"Informes"}],[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState({}),[h,x]=D.useState("general"),[v,b]=D.useState(!1),y=N=>(N.salary||0)+(N.advances||[]).reduce((E,T)=>E+T.amount,0),w=N=>{var E;u(N),f(N||{name:"",email:"",password:"",role:"Vendedor",status:"Activo",branchName:((E=s[0])==null?void 0:E.name)||"Central",modules:["sales"],salary:0,advances:[],joiningDate:new Date().toISOString().split("T")[0]}),x("general"),l(!0)},_=N=>{const{name:E,value:T}=N.target;f(j=>({...j,[E]:T}))},S=N=>{const E=d.modules||[],T=E.includes(N);f(j=>({...j,modules:T?E.filter(M=>M!==N):[...E,N]}))},k=async()=>{if(!d.name||!d.email||!d.password){alert("Por favor, complete todos los campos obligatorios incluyendo la contrasea.");return}b(!0);try{c?await n(c.id,d):await e(d),l(!1)}catch{alert("Error al guardar el usuario.")}finally{b(!1)}},A=async N=>{window.confirm("Eliminar este usuario? No podr volver a ingresar.")&&await r(N)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Usuarios Internos"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona los accesos de tu equipo sin usar consolas externas."})]}),a.jsxs("button",{onClick:()=>w(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(X_,{className:"w-5 h-5"})," Crear Cuenta de Acceso"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),a.jsx("th",{className:"px-8 py-5",children:"Rol / Acceso"}),a.jsx("th",{className:"px-8 py-5",children:"Sucursal"}),a.jsx("th",{className:"px-8 py-5",children:"Sueldo + Adelantos"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-100 flex items-center justify-center font-black text-orange-600 text-lg border border-orange-200",children:N.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:N.email})]})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[N.role==="Administrador"?a.jsx(J_,{className:"w-4 h-4 text-orange-600"}):a.jsx(QG,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-600",children:N.role})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(rl,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-xs font-bold",children:N.branchName})]})}),a.jsxs("td",{className:"px-8 py-6 font-black text-slate-900",children:["$",y(N).toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>w(N),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(ai,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(N.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(vn,{className:"w-4 h-4"})})]})})]},N.id))})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:c?"Editar Cuenta":"Nueva Cuenta de Acceso"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[500px]",children:[a.jsx("div",{className:"w-1/3 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Acceso y Login",icon:i0},{id:"financial",label:"Finanzas",icon:pr},{id:"modules",label:"Permisos",icon:Id}].map(N=>a.jsxs("button",{onClick:()=>x(N.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${h===N.id?"bg-orange-600 text-white":"text-slate-500 hover:bg-white"}`,children:[a.jsx(N.icon,{className:"w-4 h-4 inline-block mr-2"}),N.label]},N.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[h==="general"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsx("input",{name:"name",value:d.name||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email / Usuario"}),a.jsx("input",{name:"email",value:d.email||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea del Sistema"}),a.jsx("input",{name:"password",type:"password",value:d.password||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rol Operativo"}),a.jsxs("select",{name:"role",value:d.role,onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"Vendedor",children:"Vendedor"}),a.jsx("option",{value:"Administrador",children:"Administrador"}),a.jsx("option",{value:"Contador",children:"Contador"}),a.jsx("option",{value:"Depsito",children:"Depsito"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sucursal"}),a.jsx("select",{name:"branchName",value:d.branchName,onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:s.map(N=>a.jsx("option",{value:N.name,children:N.name},N.id))})]})]})]}),h==="financial"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sueldo Mensual ($)"}),a.jsx("input",{name:"salary",type:"number",value:d.salary||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha Ingreso"}),a.jsx("input",{name:"joiningDate",type:"date",value:d.joiningDate||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),h==="modules"&&a.jsx("div",{className:"grid grid-cols-1 gap-3 animate-in fade-in duration-300",children:i.map(N=>a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded accent-orange-600",checked:(d.modules||[]).includes(N.id),onChange:()=>S(N.id)}),a.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase tracking-widest",children:N.name})]},N.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase text-slate-400",children:"Cancelar"}),a.jsxs("button",{onClick:k,disabled:v,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase shadow-xl hover:bg-orange-500 flex items-center gap-2",children:[v?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(fn,{className:"w-4 h-4"}),v?"Guardando...":"Habilitar Acceso"]})]})]})})]})},iEe=[{id:"h1",date:"2024-05-20 08:00",source:"Sinteplast (Web)",status:"success",itemsUpdated:120,itemsAdded:5,errors:0,log:"Proceso completado sin errores."},{id:"h2",date:"2024-05-19 23:00",source:"Alba (Email)",status:"error",itemsUpdated:0,itemsAdded:0,errors:2,log:"Error: Adjunto no reconocido o malformado."},{id:"h3",date:"2024-05-18 08:00",source:"Stanley (Web)",status:"success",itemsUpdated:85,itemsAdded:0,errors:0,log:"Proceso completado sin errores."}],aEe=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r,suppliers:s}=Lt(),[i,o]=D.useState("lists"),[l,c]=D.useState(1),[u,d]=D.useState(""),[f,h]=D.useState(!1),[x,v]=D.useState(null),[b,y]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),[w,_]=D.useState({enabled:!1,frequency:"diario",executionTime:"03:00"}),[S,k]=D.useState({}),[A,N]=D.useState(!1),[E,T]=D.useState(null);D.useEffect(()=>{if(s.length>0){const U={};s.forEach(F=>{S[F.id]||(U[F.id]={supplierId:F.id,sourceType:"manual",enabled:!1})}),k(F=>({...F,...U}))}},[s,S]);const j=[{id:1,name:"Seleccionar Proveedor",icon:Pr},{id:2,name:"Configurar Plantilla",icon:na},{id:3,name:"Cargar Excel",icon:ob},{id:4,name:"Previsualizacin",icon:rb},{id:5,name:"Anlisis y Ejecucin",icon:JG}],M=async()=>{if(!b.name){alert("El nombre de la lista es obligatorio.");return}try{if(b.isBase){const U=t.find(F=>F.isBase&&F.id!==(x==null?void 0:x.id));U&&await n(U.id,{isBase:!1})}x!=null&&x.id?(await n(x.id,b),alert("Lista de precios actualizada con xito!")):(await e(b),alert("Lista de precios creada con xito!")),h(!1),v(null),y({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(U){alert("Error al guardar la lista de precios."),console.error(U)}},I=async U=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(U),alert("Lista de precios eliminada con xito.")}catch(F){alert("Error al eliminar la lista de precios."),console.error(F)}},O=U=>{v(U),y(U||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),h(!0)},R=()=>{N(!0),setTimeout(()=>{alert("Configuracin de automatizacin guardada."),N(!1)},1e3)},H=(U,F,G)=>{k(K=>({...K,[U]:{...K[U],[F]:G}}))},B=U=>{T(U),setTimeout(()=>{var F;alert(`Actualizacin manual disparada para ${((F=s.find(G=>G.id===U))==null?void 0:F.name)||"proveedor"}.`),k(G=>({...G,[U]:{...G[U],lastRun:new Date().toLocaleString(),lastRunStatus:Math.random()>.2?"success":"error",lastRunMessage:Math.random()>.2?"Proceso completado.":"Error: Contactar soporte."}})),T(null)},2e3)},$=()=>{var U;switch(l){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.map(F=>a.jsxs("button",{onClick:()=>{d(F.id),c(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Pr,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:F.name})]},F.id)),s.length===0&&a.jsx("div",{className:"col-span-full text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados."})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",((U=s.find(F=>F.id===u))==null?void 0:U.name)||"Proveedor"]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>c(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((F,G)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:F.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",F.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",F.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:F.diff})]},G))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(ob,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>c(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},z=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Eh,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>O(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(U=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${U.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[U.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${U.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:U.isBase?a.jsx(sb,{className:"w-6 h-6"}):a.jsx(X4,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>O(U),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx(ai,{className:"w-4 h-4"})}),!U.isBase&&a.jsx("button",{onClick:()=>I(U.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(vn,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:U.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:U.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:U.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z4,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[U.value>0?"+":"",U.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${U.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:U.isBase?"Configuracin Base":"Ajustar Modificador"})]},U.id)),a.jsxs("button",{onClick:()=>O(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(Ze,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(_G,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(fn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Eh,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]}),V=()=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(mp,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin General de Automatizacin"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{htmlFor:"enableAutomation",className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:"enableAutomation",checked:w.enabled,onChange:U=>_(F=>({...F,enabled:U.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"enableAutomation",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Procesamiento Automtico"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Activa las tareas programadas para actualizar precios de forma recurrente."})]})]}),w.enabled&&a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Frecuencia de Ejecucin"}),a.jsxs("select",{value:w.frequency,onChange:U=>_(F=>({...F,frequency:U.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"diario",children:"Diario"}),a.jsx("option",{value:"semanal",children:"Semanal"}),a.jsx("option",{value:"mensual",children:"Mensual"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Horario de Ejecucin (Hora Argentina)"}),a.jsx("input",{type:"time",value:w.executionTime,onChange:U=>_(F=>({...F,executionTime:U.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white"})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:R,disabled:A,className:"px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[A?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(sn,{className:"w-4 h-4"}),A?"Guardando...":"Guardar Configuracin General"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Eh,{className:"w-6 h-6 text-orange-600"})," Fuentes por Proveedor"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Configura cmo se obtendrn las listas de precios de cada uno de tus proveedores."}),a.jsx("div",{className:"space-y-6",children:s.length===0?a.jsx("div",{className:"text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados para configurar."}):s.map(U=>{const F=S[U.id]||{supplierId:U.id,sourceType:"manual",enabled:!1};return a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 space-y-4 group",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-[9px] font-black px-2 py-1 rounded-full uppercase ${F.lastRunStatus==="success"?"bg-green-50 text-green-700":F.lastRunStatus==="error"?"bg-red-50 text-red-700":"bg-slate-100 text-slate-400"}`,children:F.lastRun?`${F.lastRunStatus==="success"?"xito":"Error"}`:"Sin Ejecucin"}),a.jsxs("button",{onClick:()=>B(U.id),disabled:E===U.id,className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-xs font-black uppercase flex items-center gap-2 shadow-lg hover:bg-orange-500 disabled:opacity-50",children:[E===U.id?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(Xu,{className:"w-4 h-4"}),"Actualizar Ahora"]})]})]}),F.lastRun&&F.lastRunStatus==="error"&&a.jsxs("div",{className:"bg-red-100 text-red-800 text-xs p-3 rounded-xl flex items-center gap-2",children:[a.jsx(si,{className:"w-4 h-4"}),a.jsxs("span",{children:["ltima ejecucin (",F.lastRun,"): ",F.lastRunMessage]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fuente Principal"}),a.jsxs("select",{value:F.sourceType,onChange:G=>H(U.id,"sourceType",G.target.value),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"manual",children:"Manual (Excel)"}),a.jsx("option",{value:"web",children:"Web (Scraping)"}),a.jsx("option",{value:"email",children:"Email (Adjunto)"})]})]}),F.sourceType==="web"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Ja,{className:"w-3 h-3"})," URL del Proveedor"]}),a.jsx("input",{type:"url",value:F.url||"",onChange:G=>H(U.id,"url",G.target.value),placeholder:"https://proveedor.com/listaprecios",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),F.sourceType==="email"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(G_,{className:"w-3 h-3"})," Email de Origen"]}),a.jsx("input",{type:"email",value:F.emailSource||"",onChange:G=>H(U.id,"emailSource",G.target.value),placeholder:"listaprecios@proveedor.com",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-slate-100",children:[a.jsxs("label",{htmlFor:`enable-${U.id}`,className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:`enable-${U.id}`,checked:F.enabled,onChange:G=>H(U.id,"enabled",G.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:`enable-${U.id}`,className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Activar Fuente Automtica"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Esta fuente se procesar automticamente segn la configuracin general."})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>alert("Se abrira una interfaz para configurar el mapeo de columnas/campos de esta fuente."),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(na,{className:"w-4 h-4"})," Editar Mapeo de Campos"]}),a.jsxs("button",{onClick:()=>alert("Configuracin guardada para "+U.name),className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(sn,{className:"w-4 h-4 text-orange-500"})," Guardar"]})]})]},U.id)})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(s0,{className:"w-6 h-6 text-purple-600"})," Historial de Procesos Automticos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el resultado de las ltimas ejecuciones automticas de precios."}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha/Hora"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Fuente"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Items Act."}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Errores"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:iEe.map(U=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:U.date}),a.jsx("td",{className:"px-6 py-4 text-slate-700",children:U.source}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${U.status==="success"?"bg-green-50 text-green-700 border-green-100":U.status==="error"?"bg-red-50 text-red-700 border-red-100":"bg-slate-100 text-slate-400"}`,children:U.status==="success"?"xito":"Fallo"})}),a.jsxs("td",{className:"px-6 py-4 text-center text-slate-700",children:[U.itemsUpdated," / ",U.itemsAdded]}),a.jsx("td",{className:"px-6 py-4 text-center text-red-600 font-bold",children:U.errors}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>alert(`Log detallado para ${U.source}:
${U.log}`),className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Log",children:a.jsx(uo,{className:"w-4 h-4"})})})]},U.id))})]})})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>o("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Xu,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>o("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Eh,{className:"w-5 h-5"})," Gestin de Listas de Venta"]}),a.jsxs("button",{onClick:()=>o("automation"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="automation"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(mp,{className:"w-5 h-5"})," Automatizacin & Fuentes"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:i==="update"?j.map((U,F)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${l===U.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${l>=U.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:l>U.id?a.jsx(fn,{className:"w-6 h-6"}):a.jsx(U.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${l===U.id?"":"hidden md:block"}`,children:U.name})]}),F<j.length-1&&a.jsx(tr,{className:"w-5 h-5 text-slate-100"})]},U.id)):i==="lists"?a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(na,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]}):a.jsxs("div",{className:"flex items-center gap-3 text-blue-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500 bg-blue-50 flex items-center justify-center",children:a.jsx(mp,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Configuracin de Fuentes Automticas"})]})}),i==="update"?$():i==="lists"?z():V(),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(Ze,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:b.name||"",onChange:U=>y({...b,name:U.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:b.description||"",onChange:U=>y({...b,description:U.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:b.modifierType,onChange:U=>y({...b,modifierType:U.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:b.value||"",onChange:U=>y({...b,value:parseFloat(U.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:b.isBase||!1,onChange:U=>y({...b,isBase:U.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:M,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[x?"Actualizar Lista":"Crear Lista"," ",a.jsx(sn,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},oEe=()=>{var b;const t=D.useRef(null),[e,n]=D.useState(1),[r,s]=D.useState(null),[i,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:AG,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:As,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:Rr,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:fm,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:z_,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=y=>{switch(y){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},x=y=>{var _;const w=(_=y.target.files)==null?void 0:_[0];o(w||null)},v=()=>{if(!i)return;c(!0);let y=0;const w=setInterval(()=>{y+=10,d(y),y>=100&&(clearInterval(w),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(G4,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:na},{id:2,label:"Cargar Archivo",icon:DA},{id:3,label:"Mapear Columnas",icon:Pt},{id:4,label:"Anlisis y Carga",icon:fn}].map((y,w)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===y.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=y.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>y.id?a.jsx(fn,{className:"w-6 h-6"}):y.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:y.label})]}),w<3&&a.jsx(tr,{className:"w-5 h-5 text-slate-100"})]},y.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(y=>a.jsxs("button",{onClick:()=>{s(y.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${y.bg} ${y.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(y.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:y.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:y.desc})]},y.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(rb,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(b=f.find(y=>y.id===r))==null?void 0:b.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var y;return(y=t.current)==null?void 0:y.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[i?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(rb,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:i.name}),a.jsxs("button",{onClick:y=>{y.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(Ke,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(DA,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:x})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(Ru,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!i,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(na,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(y=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[y.label," ",y.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(tr,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},y.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(Ar,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:v,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx(qe,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(si,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(si,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(fn,{className:"w-5 h-5"})]})]})]})]})]})},lEe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[s]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),i=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=s.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(sy,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(TG,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:s.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(ii,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:s.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(Rr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(rs,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(J4,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),i.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(a0,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),i.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(ii,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx(s0,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx(ai,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(qG,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(sy,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(Ke,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx(sy,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(Rr,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},cEe=10,uEe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Lt(),[n,r]=D.useState("sugerencias"),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:x}=await t({limit:cEe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(x)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{s&&d(s)},[s,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(Ze,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:s,onChange:f=>i(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(Hl,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx(qe,{className:"animate-spin mx-auto"})]})]})]})},dEe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=Lt(),[s,i]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,x]=D.useState({show:!1,type:null}),v=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],b=N=>{const E=encodeURIComponent(`Hola ${N.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(N.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${N.whatsapp}?text=${E}`,"_blank")},y=t.filter(N=>(N.name.toLowerCase().includes(o.toLowerCase())||N.cuit.includes(o))&&(s==="clients"?N.balance<0:!0)),w=e.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.cuit.includes(o)),_=t.filter(N=>N.balance<0).reduce((N,E)=>N+Math.abs(E.balance),0),S=e.reduce((N,E)=>N+Math.abs(E.balance),0),k=()=>{u(null),f(null)},A=()=>{const N=h.type==="RECIBO",E=N?c:d;return E?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${N?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(W_,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:N?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[E.name,"  ",E.cuit]})]})]}),a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${N?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",N?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:lb},{id:"transfer",label:"Transferencia",icon:lm},{id:"check",label:"Cheque",icon:Pr}].map(T=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(T.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:T.label})]},T.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),x({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${N?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(sn,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const N=!!c,E=N?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&A(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(G4,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>x({show:!0,type:N?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${N?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(Ze,{className:"w-4 h-4"})," ",N?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${N?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${N?"bg-orange-600":"bg-blue-600"}`,children:E.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:E.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:E.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:N?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(E.balance).toLocaleString()]})]})]}),a.jsx(pr,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(s0,{className:`w-5 h-5 ${N?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.map(T=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(T.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:T.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:T.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${T.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(T.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(uo,{className:"w-4 h-4"})," Ver"]})})]},T.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(t5,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(rs,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",S.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(pr,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(_-S).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>i("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(As,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Rr,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:N=>l(N.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s==="clients"?y.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(N),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:N.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${N.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(N.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:E=>{E.stopPropagation(),b(N)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(UG,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(tr,{className:"w-5 h-5 text-slate-300"})]})})]},N.id)):w.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(N),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:N.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${N.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(N.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(tr,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},N.id))})]})]})]})};var fEe={};const hEe=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=Lt(),[s,i]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=D.useMemo(()=>{const y=e.reduce((_,S)=>_+S.stock*S.costPrice,0),w=n.reduce((_,S)=>_+(S.balance>0?S.balance:0),0);return y+w+25e5},[e,n]),x=D.useMemo(()=>r.reduce((y,w)=>y+Math.abs(w.balance<0?w.balance:0),0),[r]),v=h-x,b=async()=>{l(!0);try{const y=new mS({apiKey:fEe.API_KEY}),w=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${h}, 
      Pasivos: $${x}, 
      Patrimonio Neto: $${v}. 
      Ventas proyectadas mes: $6M. 
      Dame un anlisis de solvencia y 3 recomendaciones estratgicas para mejorar el flujo de caja.`,_=await y.models.generateContent({model:"gemini-3-flash-preview",contents:w});u(_.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA. Verifique conexin.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:K_},{id:"cashflow",label:"Cash Flow",icon:jA},{id:"breakeven",label:"Punto de Equilibrio",icon:am},{id:"accounting",label:"Libro Diario",icon:Pr}].map(y=>a.jsxs("button",{onClick:()=>i(y.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${s===y.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",h.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(ca,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(lm,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(J_,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(t5,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",v.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(jA,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(pr,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(rs,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(KG,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),s==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(rs,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]}),a.jsxs("select",{className:"bg-slate-50 border-none text-xs font-bold rounded-xl px-4 py-2 outline-none",children:[a.jsx("option",{children:"ltimos 6 meses"}),a.jsx("option",{children:"Ao 2024"})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(Qu,{width:"100%",height:"100%",children:a.jsxs(G6,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(hf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ua,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(da,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(Gn,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(ss,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(ss,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(kG,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Auditor de IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Analizo en tiempo real tu estructura de costos, stock y deuda para darte proyecciones de flujo de caja."}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(Mf,{className:"w-4 h-4"}),o?"Analizando...":"Generar Reporte IA"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Desglose de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx(Qu,{width:"100%",height:"100%",children:a.jsxs(Mye,{children:[a.jsx(gi,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((y,w)=>a.jsx(C0,{fill:y.color},`cell-${w}`))}),a.jsx(Gn,{})]})})}),a.jsx("div",{className:"space-y-2",children:f.map(y=>a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:y.color}}),a.jsx("span",{className:"text-slate-600",children:y.name})]}),a.jsxs("span",{className:"text-slate-900",children:[y.value,"%"]})]},y.name))})]})]})]}),s==="cashflow"&&a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx(Qu,{width:"100%",height:"100%",children:a.jsxs(z6,{data:d,children:[a.jsx(hf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ua,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(da,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Gn,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(Ya,{iconType:"circle"}),a.jsx(Qr,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(Qr,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(Qr,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-green-50 p-8 rounded-[2.5rem] border border-green-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-green-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(wG,{className:"w-5 h-5"})," Principales Ingresos"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Ventas de Mostrador",amount:45e5,color:"bg-green-500"},{cat:"Cobranza Cta. Cte.",amount:12e5,color:"bg-green-400"},{cat:"Intereses / Otros",amount:3e5,color:"bg-green-300"}].map(y=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-green-900",children:[a.jsx("span",{children:y.cat}),a.jsxs("span",{children:["$",y.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-green-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${y.color} h-full`,style:{width:`${y.amount/6e6*100}%`}})})]},y.cat))})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-red-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ca,{className:"w-5 h-5"})," Principales Salidas"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Pagos a Proveedores",amount:38e5,color:"bg-red-500"},{cat:"Sueldos y Cargas",amount:5e5,color:"bg-red-400"},{cat:"Gastos de Estructura",amount:2e5,color:"bg-red-300"}].map(y=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-red-900",children:[a.jsx("span",{children:y.cat}),a.jsxs("span",{children:["$",y.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-red-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${y.color} h-full`,style:{width:`${y.amount/45e5*100}%`}})})]},y.cat))})]})]})]}),s==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales (Alquiler, Sueldos, Luz)"}),a.jsxs("div",{className:"relative",children:[a.jsx(pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Contribucin Promedio (%)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Z4,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:35,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Ar,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs font-bold text-blue-800 leading-relaxed",children:"El punto de equilibrio se calcula dividiendo tus costos fijos por el porcentaje de margen de contribucin. Mantener tus costos fijos bajos es la clave para reducir el riesgo operativo de tu ferretera."})]})]}),a.jsx("div",{className:"hidden md:block w-px bg-slate-100"}),a.jsxs("div",{className:"w-full md:w-80 space-y-6",children:[a.jsx("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Simulador de Metas"}),a.jsx("div",{className:"space-y-6",children:[{label:"Escenario Pesimista",sales:18e5,status:"Prdida",color:"text-red-600"},{label:"Escenario Base",sales:35e5,status:"Ganancia",color:"text-green-600"},{label:"Escenario Optimista",sales:5e6,status:"Excelente",color:"text-blue-600"}].map(y=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-2xl border border-slate-100 space-y-2 group hover:border-orange-200 transition-all",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:y.label}),a.jsxs("p",{className:"font-black text-slate-800 text-lg",children:["$",y.sales.toLocaleString()]}),a.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full bg-white border ${y.color}`,children:y.status})]},y.label))})]})]})}),s==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Pr,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[a.jsx(_l,{className:"w-4 h-4"})," Mayo 2024"]}),a.jsx("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg flex items-center gap-2",children:"Exportar PDF"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5",children:"Descripcin de Operacin"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Ventas Mostrador",desc:"Facturacin diaria POS-01",debe:145e3,haber:0,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",desc:"Pago Factura #4829 - Sinteplast",debe:0,haber:85200,status:"Auditado"},{date:"19-05-24",ref:"AST-118",account:"Caja Central",desc:"Apertura de Caja inicial",debe:25e3,haber:0,status:"Auditado"},{date:"18-05-24",ref:"AST-115",account:"Banco Francs",desc:"Transferencia sueldos depsito",debe:0,haber:45e4,status:"Pendiente"}].map((y,w)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:y.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:y.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:y.account})}),a.jsx("td",{className:"px-8 py-5 text-sm font-medium text-slate-500",children:y.desc}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:y.debe>0?`$${y.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:y.haber>0?`$${y.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${y.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100 animate-pulse"}`,children:y.status})})]},w))})]})})]})]})},pEe=10,mEe=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],gEe=()=>{const{fetchProductsPaginatedAndFiltered:t}=Lt(),[e,n]=D.useState("dashboard"),[r,s]=D.useState([{id:"1",name:"Martillo Stanley 20oz",price:5500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650",price:18500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}]),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState("login"),[x,v]=D.useState(null),[b,y]=D.useState(""),[w,_]=D.useState([]),[S,k]=D.useState(null),[A,N]=D.useState(!0),[E,T]=D.useState(!1),j=D.useRef(null),M=D.useCallback(async(V=!1,U=b,F=S)=>{T(!0);try{const G={limit:pEe,searchTerm:U.toLowerCase().trim(),startAfterDoc:V?void 0:F,orderByField:"name",orderDirection:"asc"},{products:K,lastVisible:Q,hasMore:de}=await t(G);_(we=>V?K:[...we,...K]),k(Q),N(de)}catch(G){console.error("Error loading products for picker:",G)}finally{T(!1)}},[b,S,t]),I=D.useCallback(V=>{j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{M(!0,V,null)},300)},[M]);D.useEffect(()=>{i&&(_([]),k(null),N(!0),M(!0,b,null))},[b,i,M]);const O=()=>{c(!0)},R=V=>{s([...r,{id:V.id,name:V.name,price:V.salePrice||0,stock:V.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}])},H=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[250] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f==="login"?a.jsx(ds,{className:"w-8 h-8"}):a.jsx(X_,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:f==="login"?"Hola de nuevo!":"Crea tu cuenta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa a Ferretera Norte para comprar."})]}),a.jsxs("div",{className:"px-8 pb-8 space-y-4",children:[f==="register"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"Tu nombre..."})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(G_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"email@ejemplo.com"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(i0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"password",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:""})]})]}),a.jsx("button",{onClick:()=>{v({name:"Cliente Demo"}),d(!1)},className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all mt-4",children:f==="login"?"Iniciar Sesin":"Registrarme ahora"}),a.jsxs("p",{className:"text-center text-xs font-bold text-slate-400 pt-4",children:[f==="login"?"No tienes cuenta?":"Ya eres cliente?",a.jsx("button",{onClick:()=>h(f==="login"?"register":"login"),className:"text-orange-600 ml-1 hover:underline",children:f==="login"?"Regstrate aqu":"Inicia sesin"})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-all",children:a.jsx(Ke,{className:"w-5 h-5"})})]})}),B=()=>a.jsxs("div",{className:"fixed inset-0 bg-white z-[200] overflow-y-auto animate-in fade-in duration-300 flex flex-col",children:[u&&H(),a.jsxs("div",{className:"bg-slate-100 p-3 flex justify-between items-center border-b sticky top-0 z-50",children:[a.jsxs("div",{className:"flex gap-1.5 ml-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),a.jsxs("div",{className:"bg-white border rounded-full px-8 py-1.5 text-xs text-slate-500 font-bold flex items-center gap-2",children:[a.jsx(Ja,{className:"w-3 h-3"})," https://ferreteria-norte.tiendafort.com"]}),a.jsxs("button",{onClick:()=>c(!1),className:"mr-4 p-2 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all flex items-center gap-2 px-4 py-2 font-black text-[10px] uppercase tracking-widest shadow-lg",children:[a.jsx(Ke,{className:"w-4 h-4"})," Salir de vista previa"]})]}),a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 pb-20",children:[a.jsxs("header",{className:"p-8 flex justify-between items-center bg-white border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg text-white",children:a.jsx(Mi,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsxs("nav",{className:"hidden md:flex gap-8 font-bold text-slate-500 uppercase text-xs tracking-widest",children:[a.jsx("a",{href:"#",className:"text-orange-600 border-b-2 border-orange-500 pb-1",children:"Inicio"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Productos"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Contacto"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>x?v(null):d(!0),className:"flex items-center gap-2 font-bold text-slate-700 hover:text-orange-600 transition-colors",children:x?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center border border-slate-200",children:a.jsx(ds,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:x.name})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ds,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:"Ingresar"})]})}),a.jsxs("button",{className:"relative",children:[a.jsx(cm,{className:"w-6 h-6 text-slate-700"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-[10px] font-black w-5 h-5 rounded-full flex items-center justify-center border-2 border-white shadow-sm",children:"0"})]})]})]}),a.jsx("section",{className:"px-8 mt-8",children:a.jsxs("div",{className:"w-full h-[400px] bg-slate-900 rounded-[2.5rem] relative overflow-hidden flex items-center p-16 group",children:[a.jsxs("div",{className:"relative z-10 space-y-6 max-w-lg",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-[0.2em] shadow-lg",children:"Oferta de Lanzamiento"}),a.jsx("h1",{className:"text-5xl font-black text-white leading-tight",children:"Equip tu taller con lo mejor"}),a.jsx("p",{className:"text-slate-400 text-lg font-medium leading-relaxed",children:"Envos gratis en compras superiores a $50.000. Pag en 3 cuotas sin inters."}),a.jsx("button",{className:"bg-white text-slate-900 px-10 py-5 rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-xl shadow-white/5 active:scale-95",children:"Ver Ofertas"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=800",className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-1000",alt:"Banner"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/80 to-transparent"})]})}),a.jsx("section",{className:"px-8 mt-12 overflow-x-auto",children:a.jsx("div",{className:"flex gap-4",children:["Herramientas Elctricas","Pinturas","Bulonera","Electricidad","Jardn"].map(V=>a.jsx("button",{className:"px-6 py-3 bg-slate-50 border border-slate-100 rounded-2xl whitespace-nowrap text-xs font-black text-slate-500 uppercase tracking-widest hover:border-orange-500 hover:border-orange-600 transition-all shadow-sm",children:V},V))})}),a.jsxs("section",{className:"px-8 mt-16 space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Productos Destacados"}),a.jsxs("button",{className:"text-orange-600 font-black text-sm uppercase tracking-widest flex items-center gap-1 hover:underline",children:["Ver todo ",a.jsx(tr,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.filter(V=>V.status==="publicado").map(V=>a.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden border border-slate-100 group hover:shadow-2xl transition-all duration-300",children:[a.jsx("div",{className:"aspect-square relative overflow-hidden bg-slate-50",children:a.jsx("img",{src:V.img,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",alt:V.name})}),a.jsxs("div",{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ferretera Norte"}),a.jsx("h3",{className:"font-bold text-slate-800 text-lg leading-tight line-clamp-2 min-h-[3rem]",children:V.name}),a.jsxs("div",{className:"pt-2 flex justify-between items-center",children:[a.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("button",{className:"p-3 bg-orange-600 text-white rounded-2xl hover:bg-orange-700 transition-all shadow-lg active:scale-90",children:a.jsx(Ze,{className:"w-5 h-5"})})]})]})]},V.id))})]}),a.jsxs("footer",{className:"mt-32 border-t pt-20 px-8 text-center space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-800 rounded-lg text-white",children:a.jsx(Mi,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:" 2025 FerroGest Ecommerce. Todos los derechos reservados."})]})]})]}),$=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Mi,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]}),a.jsxs("div",{className:"relative w-72",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl text-xs font-bold",placeholder:"Buscar pedido..."})]})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:mEe.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx(H_,{className:"inline w-3 h-3 mr-1"})," ",V.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:V.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",V.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(om,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(Rr,{className:"w-4 h-4"})})]})})]},V.id))})]})]})}),z=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(Mi,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+14%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ventas Online (Mes)"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$840.500"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl",children:a.jsx(As,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+5%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Visitas nicas"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"12.480"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-2xl",children:a.jsx(GG,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-slate-400 bg-slate-50 px-2 py-1 rounded-lg",children:"Estable"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conv. Checkout"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"3.2%"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1 relative z-10",children:"Estado del Dominio"}),a.jsx("h3",{className:"text-lg font-bold relative z-10",children:"ferreteria-norte.com"}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 relative z-10",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-500",children:"SSL Activo"})]}),a.jsx(Ja,{className:"absolute -bottom-6 -right-6 w-24 h-24 text-white/5 rotate-12"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-10 flex flex-col items-center justify-center gap-8 border border-slate-200",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:"p-3 bg-white shadow-sm rounded-xl text-orange-600",children:a.jsx(FA,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(VA,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(ZG,{className:"w-5 h-5"})})]}),a.jsxs("div",{onClick:O,className:"w-full aspect-video bg-white rounded-2xl shadow-2xl overflow-hidden border border-slate-200 group relative cursor-pointer",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),a.jsx("div",{className:"bg-white border rounded-lg px-4 py-0.5 text-[9px] text-slate-400 font-bold",children:"https://ferreteria-norte.com"}),a.jsx("div",{className:"w-4"})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx("div",{className:"w-full h-32 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-300 font-black text-xl uppercase tracking-widest",children:"Banner Oferta"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(V=>a.jsx("div",{className:"aspect-square bg-slate-50 rounded-xl"},V))})]}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{className:"bg-white text-slate-900 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl flex items-center gap-2",children:[a.jsx(uo,{className:"w-4 h-4"})," Previsualizar Tienda"]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Acciones Rpidas"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>n("diseno"),className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(H4,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Subir Banners"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-yellow-50 border border-yellow-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-yellow-400 text-slate-900 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(cb,{className:"w-6 h-6 fill-current"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"MercadoLibre"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-blue-50 border border-blue-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-blue-400 text-white rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(Rr,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Gestin de Envos"})]}),a.jsxs("button",{onClick:O,className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(om,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ver mi Sitio"})]})]})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[l&&B(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Ja,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Multi-Channel Management"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Vende en tu propia tienda y MercadoLibre sincronizado."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:O,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(uo,{className:"w-4 h-4"})," Ver Tienda"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"Dashboard",icon:VA},{id:"catalogo",label:"Catlogo Web",icon:fm},{id:"pedidos",label:"Pedidos Online",icon:Mi},{id:"diseno",label:"Personalizacin UI",icon:Id}].map(V=>a.jsxs("button",{onClick:()=>n(V.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===V.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(V.icon,{className:"w-4 h-4"}),V.label]},V.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&z(),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>{o(!0),y(""),_([]),k(null),N(!0)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(Ze,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:V.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:V.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:V.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:V.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(na,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(vn,{className:"w-4 h-4"})})]})})]},V.id))})]})})]}),e==="pedidos"&&$(),e==="diseno"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Id,{className:"w-6 h-6 text-orange-600"})," Configuracin de Diseo"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color Principal"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-12 h-12 rounded-xl border-none p-0 cursor-pointer"}),a.jsx("input",{className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl font-bold uppercase",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Opciones de Cabecera"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Mostrar buscador prominente"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Habilitar Portal de Clientes"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]}),a.jsxs("div",{className:"bg-slate-100 rounded-[2.5rem] p-8 border border-slate-200 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx(FA,{className:"w-12 h-12 text-slate-300"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Los cambios se aplican globalmente al publicar."}),a.jsx("button",{onClick:O,className:"bg-white border border-slate-200 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all",children:"Abrir Previsualizador"})]})]})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ze,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:b,onChange:V=>{y(V.target.value),I(V.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:E&&b.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(qe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):w.length>0?w.map(V=>{var U;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>R(V),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(fm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[V.sku,"  ",V.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(U=V.salePrice)==null?void 0:U.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",V.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Ze,{className:"w-5 h-5"})})]})]},V.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Ar,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!E&&A&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>M(!1,b,S),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(ca,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(Y4,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>o(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})})]})},xEe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(e7,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(As,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(oy,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Y_,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(oy,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(oy,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),yEe=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,x]=D.useState(!0),[v,b]=D.useState(!1),[y,w]=D.useState(!1),[_,S]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[k,A]=D.useState(!1),[N,E]=D.useState(!1),T="https://ferrogest.app/ml-callback";D.useEffect(()=>{const $=localStorage.getItem("mlClientId")||"",z=localStorage.getItem("mlClientSecret")||"",V=localStorage.getItem("mlUserId")||null,U=localStorage.getItem("mlNickname")||null,F=localStorage.getItem("mlAutoSyncStock")==="true",G=localStorage.getItem("mlAutoSyncPrices")==="true";r($),i(z),l(V),u(U),f(F),x(G);const K=localStorage.getItem("andreaniConfig");K&&S(JSON.parse(K))},[]);const j=()=>{w(!0),setTimeout(()=>{w(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},M=async()=>{if(!n||!s){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}b(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise($=>setTimeout($,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch($){console.error("Error al conectar con MercadoLibre:",$),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{b(!1)}},I=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:$,clientSecret:z,accountNumber:V,branchCode:U}=_;if(!$||!z||!V||!U){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}A(!0);try{await new Promise(G=>setTimeout(G,2500));const F={..._,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};S(F),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(F))}catch(F){console.error("Error al conectar con Andreani:",F),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{A(!1)}},R=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(_)),alert("Configuracin de Andreani guardada.")},H=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(cb,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:j,disabled:y||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[y?a.jsx(Xu,{className:"w-5 h-5 animate-spin"}):a.jsx(Xu,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx($A,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:$=>r($.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:s,onChange:$=>i($.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(iy,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:T}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(T),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:M,disabled:v||!n||!s,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[v?a.jsx(qe,{className:"w-5 h-5"}):a.jsx(mp,{className:"w-5 h-5"}),v?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(fn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(na,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:$=>f($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:$=>x($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:I,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(sn,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),B=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(Rr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${_.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${_.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(ay,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${_.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:_.connected?`Activo (${_.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),_.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(Xu,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($A,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:_.clientId,onChange:$=>S(z=>({...z,clientId:$.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:_.clientSecret,onChange:$=>S(z=>({...z,clientSecret:$.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:_.accountNumber,onChange:$=>S(z=>({...z,accountNumber:$.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:_.branchCode,onChange:$=>S(z=>({...z,branchCode:$.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:k||!_.clientId||!_.clientSecret||!_.accountNumber||!_.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[k?a.jsx(qe,{className:"w-5 h-5"}):a.jsx(ay,{className:"w-5 h-5"}),k?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:R,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(sn,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ay,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:cb},{id:"andreani",label:"Andreani Envos",icon:Rr},{id:"other",label:"Otras Conexiones",icon:iy}].map($=>a.jsxs("button",{onClick:()=>e($.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===$.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx($.icon,{className:"w-4 h-4"}),$.label]},$.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&H(),t==="andreani"&&B(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(iy,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(Y_,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},vEe=10,bEe=()=>{const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=Lt(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,v]=D.useState(!1),[b,y]=D.useState(""),[w,_]=D.useState([]),[S,k]=D.useState(null),[A,N]=D.useState(!0),[E,T]=D.useState(!1),j=D.useRef(null),M=D.useCallback((F,G)=>{let K=F.salePrice;if(!G||!F.costPrice)return K||0;const Q=e.find(de=>de.id===G.priceListId);if(Q){const de=F.costPrice;Q.modifierType==="margin"?K=de*(1+Q.value/100):Q.modifierType==="percentage_over_base"&&(K=(F.salePrice||0)*(1+Q.value/100))}return G.specialDiscount>0&&(K=K*(1-G.specialDiscount/100)),parseFloat(K.toFixed(2))},[e]),I=async()=>{if(!r.trim()){h("Por favor, ingresa un mensaje para analizar.");return}o(!0),h(null),c([]);try{const F=await YSe(r),G=[];for(const K of F){const{products:Q}=await n({limit:1,searchTerm:K.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(Q.length>0){const de=Q[0],we=M(de,u);G.push({productId:de.id,sku:de.sku,name:de.name,brand:de.brand,quantity:K.quantity,unitPrice:we,subtotal:parseFloat((we*K.quantity).toFixed(2)),originalProduct:de})}else G.push({productId:`unmatched-${Date.now()}-${K.productName}`,sku:"N/A",name:K.productName,brand:"N/A",quantity:K.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:K.productName})}c(G)}catch(F){console.error("Error al analizar el mensaje:",F),h("Ocurri un error al procesar el mensaje con la IA.")}finally{o(!1)}};D.useEffect(()=>{c(F=>F.map(G=>({...G,unitPrice:G.originalProduct?M(G.originalProduct,u):G.unitPrice,subtotal:G.originalProduct?parseFloat((M(G.originalProduct,u)*G.quantity).toFixed(2)):G.subtotal})))},[u,M]);const O=(F,G)=>{c(K=>K.map(Q=>Q.productId===F?{...Q,quantity:G,subtotal:parseFloat((Q.unitPrice*G).toFixed(2))}:Q))},R=F=>{c(G=>G.filter(K=>K.productId!==F))},H=D.useCallback(async(F=!1,G=b,K=S)=>{T(!0);try{const Q={limit:vEe,searchTerm:G.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:F?void 0:K},{products:de,lastVisible:we,hasMore:be}=await n(Q);_($e=>F?de:[...$e,...de]),k(we),N(be)}catch(Q){console.error("Error loading products for picker:",Q)}finally{T(!1)}},[b,S,n]),B=D.useCallback(F=>{j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{H(!0,F,null)},300)},[H]);D.useEffect(()=>{x&&H(!0,b,null)},[x,H,b]);const $=(F,G)=>{if(l.find(Q=>Q.productId===F.id))c(Q=>Q.map(de=>de.productId===F.id?{...de,quantity:de.quantity+1,subtotal:parseFloat((de.unitPrice*(de.quantity+1)).toFixed(2))}:de));else{const Q=M(F,u);c(de=>[...de,{productId:F.id,sku:F.sku,name:F.name,brand:F.brand,quantity:1,unitPrice:Q,subtotal:parseFloat(Q.toFixed(2)),originalProduct:F}])}v(!1)},z=D.useMemo(()=>l.reduce((F,G)=>F+G.subtotal,0),[l]),V=z*.21,U=z+V;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ab,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsxs("button",{onClick:()=>{s(""),c([]),d(null),h(null)},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Mf,{className:"w-4 h-4"})," Limpiar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(ab,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:F=>s(F.target.value)}),f&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(ii,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:f})]}),a.jsxs("button",{onClick:I,disabled:i||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[i?a.jsx(qe,{className:"w-6 h-6 animate-spin"}):a.jsx(um,{className:"w-6 h-6"}),i?"Analizando...":"Analizar Mensaje"]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cliente"}),a.jsxs("select",{value:(u==null?void 0:u.id)||"",onChange:F=>d(t.find(G=>G.id===F.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(F=>a.jsxs("option",{value:F.id,children:[F.name," (",F.cuit,")"]},F.id))]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:l.map(F=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:F.originalProduct?a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:F.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:F.sku})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4"})," ",F.name,a.jsx("button",{onClick:()=>{v(!0)},className:"ml-2 px-2 py-1 bg-red-50 text-[10px] rounded",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:F.quantity,onChange:G=>O(F.productId,Number(G.target.value)),className:"w-16 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",F.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>R(F.productId),className:"text-slate-300 hover:text-red-600",children:a.jsx(vn,{className:"w-4 h-4"})})})]},F.productId))})]})}),a.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 flex items-center justify-center gap-2",children:[a.jsx(Ze,{className:"w-4 h-4"})," Aadir Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-2 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",z.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",U.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{disabled:l.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(sn,{className:"w-5 h-5"})," Guardar"]}),a.jsxs("button",{disabled:l.length===0||!(u!=null&&u.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(e5,{className:"w-5 h-5"})," WhatsApp"]})]})]})})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase",children:"Buscar Producto"}),a.jsx("button",{onClick:()=>v(!1),children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50",value:b,onChange:F=>{y(F.target.value),B(F.target.value)}})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:E?a.jsx("div",{className:"text-center py-10",children:a.jsx(qe,{className:"w-10 h-10 text-slate-200 mx-auto animate-spin"})}):w.map(F=>{var G;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 cursor-pointer",onClick:()=>$(F),children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:F.sku})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(G=F.salePrice)==null?void 0:G.toLocaleString()]}),a.jsx(Ze,{className:"w-5 h-5 text-orange-600"})]})]},F.id)})})]})]})})]})},Vo={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},Gh={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},wEe=10,_Ee=()=>{const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:s,fetchProductsPaginatedAndFiltered:i,addRemito:o}=Lt(),[l,c]=D.useState(""),[u,d]=D.useState("all"),[f,h]=D.useState(!1),[x,v]=D.useState(null),[b,y]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[w,_]=D.useState([]),[S,k]=D.useState(!1),[A,N]=D.useState(!1),[E,T]=D.useState(""),[j,M]=D.useState([]),[I,O]=D.useState(null),[R,H]=D.useState(!0),[B,$]=D.useState(!1),z=D.useRef(null),[V,U]=D.useState(!1),[F,G]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),[K,Q]=D.useState(!1),[de,we]=D.useState(!1),[be,$e]=D.useState(null),tt=D.useCallback(async(ee=!1,me=E,Oe=I)=>{$(!0);try{const Le={limit:wEe,searchTerm:me.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:ee?void 0:Oe},{products:zn,lastVisible:xr,hasMore:$r}=await i(Le);M(zc=>ee?zn:[...zc,...zn]),O(xr),H($r)}catch(Le){console.error("Error loading products for picker:",Le)}finally{$(!1)}},[E,I,i]),le=D.useCallback(ee=>{z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{tt(!0,ee,null)},300)},[tt]);D.useEffect(()=>{A&&(M([]),O(null),H(!0),tt(!0,E,null))},[E,A,tt]),D.useEffect(()=>{if(b.clientId){const ee=t.find(me=>me.id===b.clientId);ee&&y(me=>({...me,clientName:ee.name}))}else y(ee=>({...ee,clientName:""}))},[b.clientId,t]),D.useEffect(()=>{const ee=w.reduce((me,Oe)=>me+Oe.subtotal,0);y(me=>({...me,total:parseFloat(ee.toFixed(2))}))},[w]);const _e=ee=>{ee?(v(ee),y(ee),_(ee.items)):(v(null),y({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),_([])),h(!0)},X=(ee,me)=>{_(Oe=>Oe.map((Le,zn)=>{if(zn===ee){const xr=Math.max(1,me),$r=Le.unitPrice*xr;return{...Le,quantity:xr,subtotal:parseFloat($r.toFixed(2))}}return Le}))},Y=ee=>{_(me=>me.filter((Oe,Le)=>Le!==ee))},W=ee=>{const me=w.findIndex(Oe=>Oe.productId===ee.id&&!Oe.isService);if(me!==-1)X(me,w[me].quantity+1);else{const Oe=ee.salePrice;_(Le=>[...Le,{productId:ee.id,sku:ee.sku,name:ee.name,brand:ee.brand,quantity:1,unitPrice:Oe,subtotal:parseFloat(Oe.toFixed(2)),originalProduct:ee}])}N(!1),T("")},ce=()=>{if(!F.name||F.unitPrice<=0||F.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const ee=F.unitPrice*F.quantity;_(me=>[...me,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:F.name,brand:"N/A",quantity:F.quantity,unitPrice:F.unitPrice,subtotal:parseFloat(ee.toFixed(2)),isService:!0,serviceDescription:F.serviceDescription,originalProduct:null}]),U(!1),G({name:"",serviceDescription:"",unitPrice:0,quantity:1})},Me=async()=>{if(!b.clientId||w.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}k(!0);try{const ee={clientId:b.clientId,clientName:b.clientName||"Cliente",items:w,total:w.reduce((me,Oe)=>me+Oe.subtotal,0),status:b.status||"pendiente_preparacion",dateCreated:b.dateCreated||new Date().toISOString().split("T")[0],dateDue:b.dateDue,notes:b.notes,isServiceOrder:w.some(me=>me.isService)};x?await r(x.id,ee):await n(ee),alert("Pedido guardado con xito!"),h(!1)}catch(ee){console.error("Error al guardar el pedido:",ee),alert("Ocurri un error al guardar el pedido.")}finally{k(!1)}},pe=async ee=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await s(ee),alert("Pedido eliminado con xito.")}catch(me){console.error("Error al eliminar el pedido:",me),alert("Ocurri un error al eliminar el pedido.")}},Fe=async(ee,me)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${Vo[me]}"?`))try{await r(ee,{status:me}),alert("Estado del pedido actualizado.")}catch(Oe){console.error("Error al actualizar estado del pedido:",Oe),alert("Ocurri un error al actualizar el estado.")}},xt=ee=>{$e(ee),Q(!0)},Qt=async()=>{if(be){we(!0);try{const ee=be.items.map(Le=>{var zn,xr,$r;return{id:Le.productId,sku:Le.sku,name:Le.name,quantity:Le.quantity,price:Le.unitPrice,brand:Le.brand,selectedSaleUnit:Le.selectedSaleUnit||"unidad",originalPrimaryUnit:((zn=Le.originalProduct)==null?void 0:zn.primaryUnit)||"unidad",originalSaleUnit:((xr=Le.originalProduct)==null?void 0:xr.saleUnit)||"unidad",originalSaleUnitConversionFactor:(($r=Le.originalProduct)==null?void 0:$r.saleUnitConversionFactor)||1}}),me={date:new Date().toISOString().split("T")[0],client:be.clientName,clientId:be.clientId,itemsCount:ee.length,itemsList:ee,total:be.total,status:"pendiente"},Oe=await o(me);await r(be.id,{status:"en_camino"}),alert(`Remito N ${Oe} generado con xito para el pedido ${be.id}!`),Q(!1),$e(null)}catch(ee){console.error("Error al generar remito desde pedido:",ee),alert("Ocurri un error al generar el remito.")}finally{we(!1)}}},Rt=D.useMemo(()=>e.filter(ee=>{const me=ee.clientName.toLowerCase().includes(l.toLowerCase())||ee.id.toLowerCase().includes(l.toLowerCase()),Oe=u==="all"||ee.status===u;return me&&Oe}).sort((ee,me)=>new Date(me.dateCreated).getTime()-new Date(ee.dateCreated).getTime()),[e,l,u]),ot=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ze,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:E,onChange:ee=>{T(ee.target.value),le(ee.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:B&&E.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(qe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):j.length>0?j.map(ee=>{var me;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>W(ee),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(fm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:ee.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[ee.sku,"  ",ee.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(me=ee.salePrice)==null?void 0:me.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",ee.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Ze,{className:"w-5 h-5"})})]})]},ee.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Ar,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!B&&R&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>tt(!1,E,I),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(ca,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(Ar,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>N(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),qt=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Pr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:F.name,onChange:ee=>G(me=>({...me,name:ee.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:F.serviceDescription,onChange:ee=>G(me=>({...me,serviceDescription:ee.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:F.unitPrice||"",onChange:ee=>G(me=>({...me,unitPrice:parseFloat(ee.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:F.quantity||"",onChange:ee=>G(me=>({...me,quantity:parseInt(ee.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ce,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(Ze,{className:"w-5 h-5"})]})]})]})}),qn=()=>be?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-500 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Rr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Generar Remito"}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Para Pedido N ",be.id]})]})]}),a.jsx("button",{onClick:()=>Q(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Detalles del Pedido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:be.clientName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha Pedido"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(be.dateCreated).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Total"}),a.jsxs("p",{className:"font-bold text-slate-900",children:["$",be.total.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado Actual"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${Gh[be.status]}`,children:Vo[be.status]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems a Incluir en Remito"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:be.items.map((ee,me)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:ee.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:ee.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:ee.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",ee.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",ee.subtotal.toLocaleString()]})]},me))})]})}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Ar,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Nota:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este remito incluir todos los tems del pedido. El stock se deducir del inventario al generar el remito."})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:Qt,disabled:de,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[de?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(sn,{className:"w-5 h-5"}),de?"Generando Remito...":"Confirmar Generacin de Remito"]})]})]})}):null;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ib,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>_e(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:l,onChange:ee=>c(ee.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(ee=>a.jsx("button",{onClick:()=>d(ee),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${u===ee?"bg-orange-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:ee==="all"?"Todos":Vo[ee]},ee))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Rt.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(ib,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):Rt.map(ee=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:ee.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:ee.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:ee.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(_l,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(ee.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:ee.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(_l,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(ee.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[ee.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${Gh[ee.status]}`,children:Vo[ee.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",ee.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>_e(ee),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx(ai,{className:"w-4 h-4"})}),["pendiente_preparacion","listo_retiro","en_camino"].includes(ee.status)&&a.jsx("button",{onClick:()=>xt(ee),className:"p-2 text-blue-600 hover:text-white hover:bg-blue-600 rounded-lg transition-colors",title:"Generar Remito",children:a.jsx(Rr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>pe(ee.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(vn,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(Mf,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(Vo).map(me=>a.jsxs("button",{onClick:()=>Fe(ee.id,me),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${Gh[me].split(" ")[0]} ${Gh[me].split(" ")[1]}`}),Vo[me]]},me))})]})]})})]},ee.id))})]})})]}),f&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[A&&ot(),V&&qt(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ze,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de orden de servicio/venta"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:b.clientId||"",onChange:ee=>y(me=>({...me,clientId:ee.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(ee=>a.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(_l,{className:"w-3 h-3"})," Fecha Entrega Estimada"]}),a.jsx("input",{type:"date",value:b.dateDue||"",onChange:ee=>y(me=>({...me,dateDue:ee.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Artculos y Servicios"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>N(!0),className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ze,{className:"w-3 h-3"})," Producto"]}),a.jsxs("button",{onClick:()=>U(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ze,{className:"w-3 h-3"})," Servicio"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"tem"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:w.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en el pedido"})}):w.map((ee,me)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:ee.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:ee.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:ee.quantity,onChange:Oe=>X(me,parseInt(Oe.target.value)),className:"w-16 text-center border rounded-lg font-bold"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",ee.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",ee.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>Y(me),className:"text-red-400 hover:text-red-600",children:a.jsx(vn,{className:"w-4 h-4"})})})]},me))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:b.notes||"",onChange:ee=>y(me=>({...me,notes:ee.target.value})),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none",placeholder:"Instrucciones especiales de entrega o preparacin..."})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total del Pedido"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["$",(b.total||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:Me,disabled:S,className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[S?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(sn,{className:"w-5 h-5"}),x?"Actualizar Pedido":"Crear Pedido"]})]})]})]})]}),K&&qn()]})},bP={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},NEe={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},SEe=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:s,addTransaction:i}=Lt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[v,b]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[y,w]=D.useState(!1),[_,S]=D.useState(!1),[k,A]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[N,E]=D.useState(!1);D.useEffect(()=>{const $=(v.totalAmount||0)-(v.downPayment||0),z=v.installmentsCount>0?v.installmentsCount:1,V=parseFloat(($/z).toFixed(2));b(U=>({...U,amountPerInstallment:V,remainingAmount:h?h.remainingAmount:parseFloat($.toFixed(2))}))},[v.totalAmount,v.downPayment,v.installmentsCount,h]),D.useEffect(()=>{if(v.clientId){const $=t.find(z=>z.id===v.clientId);$&&b(z=>({...z,clientName:$.name}))}else b($=>({...$,clientName:""}))},[v.clientId,t]);const T=$=>{$?(x($),b($)):(x(null),b({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},j=async()=>{if(!v.clientId||!v.description||!v.totalAmount||v.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}w(!0);try{const $={clientId:v.clientId,clientName:v.clientName||"Cliente",totalAmount:v.totalAmount,downPayment:v.downPayment||0,installmentsCount:Math.max(1,v.installmentsCount||1),amountPerInstallment:v.amountPerInstallment||0,remainingAmount:h?h.remainingAmount:v.totalAmount-(v.downPayment||0),payments:v.payments||[],status:v.status||"activo",startDate:v.startDate||new Date().toISOString().split("T")[0],nextDueDate:v.nextDueDate,description:v.description};h?await r(h.id,$):await n($),alert("Plan de cuotas guardado con xito!"),f(!1)}catch($){console.error("Error al guardar el plan de cuotas:",$),alert("Ocurri un error al guardar el plan de cuotas.")}finally{w(!1)}},M=async $=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await s($),alert("Plan de cuotas eliminado con xito.")}catch(z){console.error("Error al eliminar el plan de cuotas:",z),alert("Ocurri un error al eliminar el plan de cuotas.")}},I=$=>{x($),A({amountPaid:Math.min($.amountPerInstallment,$.remainingAmount),method:"efectivo",notes:""}),S(!0)},O=async()=>{if(!h||k.amountPaid<=0||k.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}E(!0);try{const $=h.remainingAmount-k.amountPaid,z=$<=0?"pagado":"activo",V={id:`pay-${Date.now()}`,date:new Date().toISOString(),amountPaid:k.amountPaid,method:k.method,paymentDetails:[],notes:k.notes},U=[...h.payments,V],F=t.find(G=>G.id===h.clientId);F&&await R(h.clientId,F.balance+k.amountPaid),await i({amount:k.amountPaid,type:"ingreso",paymentDetails:[],description:`Pago de cuota de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:$,payments:U,status:z,nextDueDate:z==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),S(!1),x(null)}catch($){console.error("Error al registrar pago:",$),alert("Ocurri un error al registrar el pago.")}finally{E(!1)}},R=async($,z)=>{console.log(`Simulating client ${$} balance update to: $${z}`)},H=D.useMemo(()=>e.filter($=>{const z=$.clientName.toLowerCase().includes(o.toLowerCase())||$.id.toLowerCase().includes(o.toLowerCase()),V=c==="all"||$.status===c;return z&&V}).sort(($,z)=>new Date(z.startDate).getTime()-new Date($.startDate).getTime()),[e,o,c]),B=D.useMemo(()=>e.filter($=>$.status==="activo"||$.status==="mora").reduce(($,z)=>$+z.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ta,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>T(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(K_,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter($=>$.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(si,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter($=>$.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(rs,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",B.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:$=>l($.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map($=>a.jsx("button",{onClick:()=>u($),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===$?"bg-purple-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:$==="all"?"Todos":bP[$]},$))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:H.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(ta,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):H.map($=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[$.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:$.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:$.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:$.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[$.payments.filter(z=>z.amountPaid>0).length,"/",$.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",$.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",$.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${$.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",$.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:$.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(_l,{className:"w-3.5 h-3.5 text-slate-400"}),new Date($.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${NEe[$.status]}`,children:bP[$.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>T($),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx(ai,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>I($),disabled:$.status==="pagado"||$.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(pr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M($.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(vn,{className:"w-4 h-4"})})]})})]},$.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(ta,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:v.clientId||"",onChange:$=>b(z=>({...z,clientId:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map($=>a.jsxs("option",{value:$.id,children:[$.name," (",$.cuit,")"]},$.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:v.description||"",onChange:$=>b(z=>({...z,description:$.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:v.totalAmount||"",onChange:$=>b(z=>({...z,totalAmount:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:v.downPayment||"",onChange:$=>b(z=>({...z,downPayment:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:v.installmentsCount||"",onChange:$=>b(z=>({...z,installmentsCount:parseInt($.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(_l,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:v.startDate||"",onChange:$=>b(z=>({...z,startDate:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",((v.totalAmount||0)-(v.downPayment||0)).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(v.amountPerInstallment||0).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(s0,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map(($,z)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date($.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",$.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:$.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:$.notes||"-"})]},$.id||z))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:j,disabled:y||!v.clientId||!v.description||!v.totalAmount||v.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(sn,{className:"w-5 h-5"}),y?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(pr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:k.amountPaid||"",onChange:$=>A(z=>({...z,amountPaid:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:k.method,onChange:$=>A(z=>({...z,method:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:k.notes,onChange:$=>A(z=>({...z,notes:$.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:N||k.amountPaid<=0||k.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[N?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(fn,{className:"w-5 h-5"}),N?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},EEe=()=>{const{salesZones:t,users:e,branches:n,addSalesZone:r,updateSalesZone:s,deleteSalesZone:i}=Lt(),[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState(!1),[h,x]=D.useState(""),[v,b]=D.useState({name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),y=(t||[]).filter(k=>{var A;return k.name.toLowerCase().includes(h.toLowerCase())||((A=k.description)==null?void 0:A.toLowerCase().includes(h.toLowerCase()))}),w=k=>{u(k),b(k||{name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),l(!0)},_=async()=>{if(!v.name){alert("El nombre de la zona es obligatorio.");return}f(!0);try{c?(await s(c.id,v),alert("Zona actualizada con xito.")):(await r(v),alert("Zona creada con xito.")),l(!1)}catch(k){console.error("Error al guardar zona:",k),alert("Error al procesar la solicitud.")}finally{f(!1)}},S=async k=>{if(window.confirm("Est seguro de eliminar esta zona?"))try{await i(k)}catch(A){console.error("Error al eliminar:",A)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Ja,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Zonas de Venta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la distribucin territorial de tus vendedores y sucursales."})]})]}),a.jsxs("button",{onClick:()=>w(null),className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:[a.jsx(Ze,{className:"w-5 h-5"})," Nueva Zona"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar zona por nombre o descripcin...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:h,onChange:k=>x(k.target.value)})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8",children:[y.map(k=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2rem] p-6 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(H_,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>w(k),className:"p-2 text-slate-400 hover:text-blue-600",children:a.jsx(ai,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(k.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(vn,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:k.name}),a.jsx("p",{className:"text-slate-400 text-xs mt-1 mb-4 line-clamp-2",children:k.description||"Sin descripcin"}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(As,{className:"w-3 h-3"})," Vendedores"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(k.assignedUserIds||[]).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(rl,{className:"w-3 h-3"})," Sucursales"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(k.assignedBranchIds||[]).length})]})]})]},k.id)),y.length===0&&a.jsxs("div",{className:"col-span-full py-20 text-center text-slate-300",children:[a.jsx(z_,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-[0.2em]",children:"No se encontraron zonas"})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Ja,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:c?"Editar Zona":"Nueva Zona"}),a.jsx("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin territorial"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Zona"}),a.jsx("input",{value:v.name||"",onChange:k=>b({...v,name:k.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold",placeholder:"Ej: Zona Norte GBA"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{value:v.description||"",onChange:k=>b({...v,description:k.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none",placeholder:"Alcance geogrfico, objetivos, etc."})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsx(Ar,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Asignaciones:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Puedes vincular vendedores y sucursales a esta zona para segmentar reportes de ventas y stock."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:_,disabled:d,className:"flex-[1.5] py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[d?a.jsx(qe,{className:"animate-spin w-5 h-5"}):a.jsx(sn,{className:"w-5 h-5"}),d?"Guardando...":"Guardar Zona"]})]})]})})]})},TEe=()=>{const{products:t,suppliers:e,updateProduct:n}=Lt(),[r,s]=D.useState(""),[i,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,x=f.reorderPoint||0,v=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=x&&v}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const x=h.supplierId||"unassigned";f[x]||(f[x]=[]),f[x].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(x=>x.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(PG,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Pd,{className:"w-4 h-4"})," Imprimir"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(Hl,{className:"w-4 h-4"})," Generar Pedidos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>s(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(fn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(Rr,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(e5,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${x.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(ii,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center font-black",children:a.jsx("span",{className:x.stock<=0?"text-red-600":"text-orange-600",children:x.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:x.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right font-black text-slate-900",children:(x.targetStock||0)-(x.stock||0)>0?(x.targetStock||0)-(x.stock||0):1}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:i===x.id,onChange:v=>u(x.id,v.target.value),value:x.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),i===x.id&&a.jsx(qe,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg",title:"Aadir",children:a.jsx(Hl,{className:"w-4 h-4"})})})]},x.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Ar,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu cuando su stock actual es menor al ",a.jsx("b",{children:"Punto de Reorden"}),"."]})]})]})]})},AEe=20,kEe=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=Lt(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[x,v]=D.useState(!1),[b,y]=D.useState([]),[w,_]=D.useState(null),[S,k]=D.useState(!0),[A,N]=D.useState(!1),E=D.useRef(null),T=D.useCallback(R=>{E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{s(R)},300)},[]),j=D.useCallback(async(R=!1,H=r,B=w)=>{N(!0);try{const $={limit:AEe,searchTerm:H.toLowerCase().trim(),startAfterDoc:R?void 0:B,orderByField:"name",orderDirection:"asc"},{products:z,lastVisible:V,hasMore:U}=await n($);y(F=>R?z:[...F,...z]),_(V),k(U)}catch($){console.error("Error loading products:",$)}finally{N(!1)}},[r,w,n]);D.useEffect(()=>{e||(y([]),_(null),k(!0),j(!0,r,null))},[r,e,j]);const M=R=>{c(R),d(0),h(""),o(!0)},I=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}v(!0);try{const R=(l.stock||0)+u;await t(l.id,{stock:R}),alert(`Stock de "${l.name}" ajustado a ${R} unidades.`),o(!1),c(null),y(H=>H.map(B=>B.id===l.id?{...B,stock:R}:B))}catch(R){console.error("Error al guardar el ajuste de stock:",R),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{v(!1)}}};return(e||A)&&b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:R=>{s(R.target.value),T(R.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[b.map(R=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(a0,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:R.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[R.sku,"  ",R.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${R.stock<(R.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:R.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:R.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>M(R),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx(ai,{className:"w-5 h-5"})," Ajustar"]})})]},R.id)),b.length===0&&!A&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),A&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(qe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!A&&S&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>j(!1,r,w),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(ca,{className:"w-4 h-4 -rotate-90"})]})})]}),i&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(ai,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(Ke,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(R=>R-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(BG,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:R=>d(Number(R.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(R=>R+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(Hl,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:R=>h(R.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Ar,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:I,disabled:x,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(sn,{className:"w-5 h-5"}),x?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},CEe=20,jEe=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=Lt(),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,x]=D.useState([]),[v,b]=D.useState(null),[y,w]=D.useState(!0),[_,S]=D.useState(!1),k=D.useRef(null),A=D.useCallback(B=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{i(B)},300)},[]),N=D.useCallback(async(B=!1,$=s,z=v)=>{S(!0);try{const V={limit:CEe,searchTerm:$.toLowerCase().trim(),startAfterDoc:B?void 0:z,orderByField:"name",orderDirection:"asc"},{products:U,lastVisible:F,hasMore:G}=await r(V);x(K=>B?U:[...K,...U]),b(F),w(G)}catch(V){console.error("Error loading products:",V)}finally{S(!1)}},[s,v,r]);D.useEffect(()=>{n||(x([]),b(null),w(!0),N(!0,s,null),l([]))},[s,n,N]);const E=D.useMemo(()=>{const B=new Set;return h.forEach($=>$.category&&B.add($.category)),Array.from(B).sort()},[h]),T=D.useMemo(()=>{const B=new Set;return h.forEach($=>$.brand&&B.add($.brand)),Array.from(B).sort()},[h]),j=B=>{l($=>$.includes(B)?$.filter(z=>z!==B):[...$,B])},M=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(B=>B.id))},I=(B,$)=>{f(z=>({...z,[B]:$}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},R=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const B={};if(d.supplierId&&(B.supplierId=d.supplierId),d.category&&(B.category=d.category),d.brand&&(B.brand=d.brand),d.reorderPoint!==""&&(B.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(B.targetStock=Number(d.targetStock)),Object.keys(B).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const $=new Map;for(const z of o){const V=h.find(F=>F.id===z);if(!V)continue;const U={...B};if(d.markup!==""){const F=Number(d.markup);!isNaN(F)&&V.costPrice!==void 0&&(U.salePrice=V.costPrice*(1+F/100))}await e(z,U),$.set(z,{...V,...U})}x(z=>z.map(V=>$.has(V.id)?$.get(V.id):V)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch($){console.error("Error al aplicar cambios masivos:",$),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||_)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:s,onChange:B=>{i(B.target.value),A(B.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:M,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx(Yu,{className:"w-5 h-5 text-orange-600"}):a.jsx(dm,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(B=>{var $,z;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>j(B.id),className:"p-1",children:o.includes(B.id)?a.jsx(Yu,{className:"w-5 h-5 text-orange-600"}):a.jsx(dm,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:B.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:B.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:(($=t.find(V=>V.id===B.supplierId))==null?void 0:$.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:B.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:B.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${B.stock<(B.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:B.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(z=B.salePrice)==null?void 0:z.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:B.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:B.targetStock||"N/A"})]},B.id)}),h.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),_&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(qe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!_&&y&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>N(!1,s,v),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(ca,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:B=>I("supplierId",B.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(B=>a.jsx("option",{value:B.id,children:B.name},B.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:B=>I("markup",B.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:B=>I("category",B.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),E.map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:B=>I("brand",B.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),T.map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:B=>I("reorderPoint",B.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:B=>I("targetStock",B.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:R,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(sn,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},Vy=[{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",clientId:"client-456",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"},{id:"R-0003",date:"2024-05-22",client:"Alberto Gimenez",clientId:"client-789",itemsCount:2,itemsList:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:25e3,status:"facturado",invoiceId:"F-INV-001"},{id:"R-0004",date:"2024-05-23",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:3,itemsList:[{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:4e3,status:"pendiente"},{id:"R-0005",date:"2024-05-24",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:8,itemsList:[{id:"p8",sku:"TUER-M8",name:"Tuercas M8",quantity:100,price:3,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p9",sku:"LIJA-F100",name:"Lija Grano 100",quantity:10,price:150,brand:"3M",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:1800,status:"pendiente"}],IEe=[{id:"F-INV-001",clientName:"Alberto Gimenez",clientId:"client-789",items:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",subtotal:25e3,selectedSaleUnit:"litro"}],total:25e3,paymentDetails:[{id:"pd1",method:"efectivo",amount:25e3}],docType:"factura_a",date:"2024-05-22T10:00:00Z",status:"completado",seller:"Sistema",remitoIds:["R-0003"]},{id:"F-INV-002",clientName:"Juan Perez S.R.L.",clientId:"client-123",items:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",subtotal:11e3,selectedSaleUnit:"unidad"},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",subtotal:1500,selectedSaleUnit:"metro_lineal"},{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",subtotal:500,selectedSaleUnit:"unidad"},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",subtotal:3500,selectedSaleUnit:"unidad"}],total:16500,paymentDetails:[{id:"pd2",method:"transferencia",amount:16500}],docType:"factura_b",date:"2024-05-25T11:30:00Z",status:"completado",seller:"Usuario Actual",remitoIds:["R-0001","R-0004"]}],PEe=()=>{const{addSale:t,clients:e,remitos:n,updateRemito:r,sales:s}=Lt(),[i,o]=D.useState(""),[l,c]=D.useState("todos"),[u,d]=D.useState([]),[f,h]=D.useState(!1),[x,v]=D.useState(!1),[b,y]=D.useState(null),[w,_]=D.useState(null),[S,k]=D.useState([]),[A,N]=D.useState({method:"efectivo",amount:0,notes:""}),[E,T]=D.useState("factura_a"),[j,M]=D.useState(0),[I,O]=D.useState(""),[R,H]=D.useState([]);D.useEffect(()=>{if(n&&n.length>0){const X=new Map(n.map(ce=>[ce.id,ce])),Y=Vy.map(ce=>X.get(ce.id)||ce),W=n.filter(ce=>!Vy.some(Me=>Me.id===ce.id));H([...Y,...W])}else H(Vy)},[n]);const[B,$]=D.useState(!1),z=X=>{switch(X){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";case"facturado":return"bg-blue-50 text-blue-700 border-blue-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},V=R.filter(X=>{const Y=X.client.toLowerCase().includes(i.toLowerCase())||X.id.toLowerCase().includes(i.toLowerCase()),W=l==="todos"||X.status===l;return Y&&W}),U=X=>{d(Y=>Y.includes(X)?Y.filter(W=>W!==X):[...Y,X])},F=()=>{const X=V.filter(Y=>Y.status!=="facturado").map(Y=>Y.id);u.length===X.length&&X.length>0?d([]):d(X)},G=D.useMemo(()=>R.filter(X=>u.includes(X.id)),[R,u]),K=D.useMemo(()=>b?b.total:G.reduce((X,Y)=>X+Y.total,0),[b,G]),Q=K+j,de=S.reduce((X,Y)=>X+Y.amount,0),we=Q-de,be=()=>{if(A.amount<=0){alert("Por favor, ingresa un monto mayor a cero.");return}k(X=>[...X,{...A,id:Date.now().toString()}]),N({method:"efectivo",amount:0,notes:""})},$e=(X=null,Y=!1)=>{if(console.log("openBillingModal called:",{remito:X,isBulk:Y,selectedIds:u,selectedRemitosData:G}),Y&&u.length===0){alert("No hay remitos seleccionados para facturar.");return}if(Y&&u.length>1){const W=G[0],ce=W==null?void 0:W.clientId,Me=W==null?void 0:W.client;if(!G.every(Fe=>Fe.clientId===ce)){alert(`Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes (ej. "${Me}" y otros).`);return}}else if(!X&&!Y){alert("No se ha seleccionado ningn remito para facturar.");return}y(X),k([]),N({method:"efectivo",amount:0,notes:""}),T("factura_a"),M(0),O(""),h(!0)},tt=async()=>{var ce,Me;console.log("handleConfirmInvoice called.");const X=G.length>0?G:b?[b]:[];if(X.length===0){alert("No hay remitos seleccionados para facturar."),$(!1);return}const Y=(ce=X[0])==null?void 0:ce.clientId;if(!X.every(pe=>pe.clientId===Y)){alert("Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes."),$(!1);return}if(S.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(we)>.01){alert(`Falta asignar $${we.toLocaleString()}`);return}$(!0);try{const pe=[];for(const Rt of X)for(const ot of Rt.itemsList){const qt=pe.findIndex(qn=>qn.id===ot.id&&qn.selectedSaleUnit===ot.selectedSaleUnit);qt!==-1?(pe[qt].quantity+=ot.quantity,pe[qt].subtotal=parseFloat((pe[qt].quantity*pe[qt].price).toFixed(2))):pe.push({id:ot.id,sku:ot.sku,name:ot.name,brand:ot.brand,price:ot.price,quantity:ot.quantity,subtotal:parseFloat((ot.price*ot.quantity).toFixed(2)),selectedSaleUnit:ot.selectedSaleUnit})}const Fe=e.find(Rt=>Rt.id===Y),xt={clientName:(Fe==null?void 0:Fe.name)||((Me=X[0])==null?void 0:Me.client)||"Consumidor Final",clientId:(Fe==null?void 0:Fe.id)||null,items:pe,total:Q,paymentDetails:S,docType:E,date:new Date().toISOString(),status:"completado",seller:"Usuario Actual",remitoIds:X.map(Rt=>Rt.id)},Qt=await t(xt);for(const Rt of X)await r(Rt.id,{invoiceId:Qt,status:"facturado"});alert(`Facturacin completada! Se gener el comprobante N ${Qt}.`),d([]),h(!1),k([]),y(null)}catch(pe){console.error("Error al confirmar factura:",pe),alert("Error al procesar la facturacin.")}finally{$(!1)}},le=async X=>{console.log('Clicked "Ver Factura" for invoiceId:',X);let Y=s.find(W=>W.id===X);Y||(Y=IEe.find(W=>W.id===X)),Y?(console.log("Found invoice:",Y),_(Y),v(!0)):(console.log("Invoice not found for invoiceId:",X),alert("No se encontr la factura."))},_e=()=>{if(!w)return null;const X=R.filter(W=>{var ce;return(ce=w.remitoIds)==null?void 0:ce.includes(W.id)}),Y=e.find(W=>W.id===w.clientId);return a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(fu,{className:"w-6 h-6","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Comprobante N ",w.id]}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Detalle del comprobante ",w.docType.replace("_"," ").toUpperCase()]})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ke,{className:"w-6 h-6","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informacin General"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:w.clientName}),Y&&a.jsx("p",{className:"text-xs text-slate-600",children:Y.cuit})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(w.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tipo de Doc."}),a.jsx("p",{className:"font-bold text-slate-900",children:w.docType.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${w.status==="completado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:w.status})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems del Comprobante"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:w.items.map((W,ce)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:W.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[W.sku,"  ",W.brand]})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:W.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",W.price.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",W.subtotal.toLocaleString()]})]},ce))})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remitos Vinculados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:X.length>0?X.map(W=>a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-2xl flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["Remito N ",W.id]}),a.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase",children:new Date(W.date).toLocaleDateString()})]}),a.jsxs("span",{className:"font-black text-blue-900",children:["$",W.total.toLocaleString()]})]},W.id)):a.jsx("div",{className:"col-span-full p-4 text-center text-slate-400 italic",children:"No hay remitos vinculados a este comprobante."})})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Total Comprobante"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",w.total.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Total Pagado"}),a.jsxs("span",{children:["$",w.paymentDetails.reduce((W,ce)=>W+ce.amount,0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cerrar"}),a.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Pd,{className:"w-5 h-5","aria-hidden":"true"})," Imprimir Comprobante"]})]})]})})};return a.jsxs("div",{className:"space-y-6 pb-24",children:[x&&_e()," ",a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]}),a.jsxs("button",{onClick:()=>alert("Aqu se abrira un modal para crear un nuevo remito."),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ze,{className:"w-5 h-5","aria-hidden":"true"})," Nuevo Remito"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:i,onChange:X=>o(X.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado","facturado"].map(X=>a.jsx("button",{onClick:()=>c(X),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${l===X?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:X},X))}),u.length>0&&a.jsxs("button",{onClick:()=>$e(null,!0),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 ml-4",children:[a.jsx(fu,{className:"w-5 h-5","aria-hidden":"true"})," Facturar Seleccionados (",u.length,")"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:F,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:u.length===V.filter(X=>X.status!=="facturado").length&&V.filter(X=>X.status!=="facturado").length>0?a.jsx(Yu,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(dm,{className:"w-5 h-5 text-slate-300","aria-hidden":"true"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:V.map(X=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${u.includes(X.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>X.status!=="facturado"&&U(X.id),children:X.status==="facturado"?a.jsx("span",{title:"Remito ya facturado",children:a.jsx(Yu,{className:"w-5 h-5 text-blue-600 opacity-50","aria-hidden":"true"})}):u.includes(X.id)?a.jsx(Yu,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(dm,{className:"w-5 h-5 text-slate-200","aria-hidden":"true"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:X.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:X.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:X.itemsCount}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${z(X.status)}`,children:X.status}),X.invoiceId&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(fu,{className:"w-3 h-3 text-blue-600","aria-hidden":"true"}),a.jsxs("button",{onClick:Y=>{Y.stopPropagation(),le(X.invoiceId)},className:"text-[9px] font-black uppercase text-blue-600 hover:underline",children:["Factura ",X.invoiceId]})]})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",X.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:X.status==="facturado"?a.jsx("button",{onClick:Y=>{Y.stopPropagation(),le(X.invoiceId)},className:"p-2 text-blue-600 hover:text-blue-700",title:"Ver Factura",children:a.jsx(uo,{className:"w-5 h-5","aria-hidden":"true"})}):a.jsx("button",{onClick:Y=>{Y.stopPropagation(),$e(X,!1)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(fu,{className:"w-5 h-5","aria-hidden":"true"})})})]},X.id))})]})})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(b==null?void 0:b.client)||(G.length>0?G[0].client:"N/A")})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-3 text-slate-400",children:a.jsx(Ke,{className:"w-7 h-7","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Tipo de Comprobante"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_a",checked:E==="factura_a",onChange:X=>T(X.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura A"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_b",checked:E==="factura_b",onChange:X=>T(X.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura B"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"ticket",checked:E==="ticket",onChange:X=>T(X.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Ticket / Venta Simple"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total a Facturar: $",K.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:S.map(X=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:X.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",X.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>k(S.filter(Y=>Y.id!==X.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(vn,{className:"w-4 h-4","aria-hidden":"true"})})]})]},X.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:A.method,onChange:X=>N({...A,method:X.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:A.amount||"",onChange:X=>N({...A,amount:parseFloat(X.target.value)||0})})]}),a.jsx("button",{onClick:be,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",Q.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:B||Math.abs(we)>.01,onClick:tt,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[B?a.jsx(qe,{className:"w-5 h-5","aria-hidden":"true"}):a.jsx(fu,{className:"w-5 h-5","aria-hidden":"true"}),B?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},REe=({onLoginSuccess:t})=>{const[e,n]=D.useState(""),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState(null),u="admin",d="admin123",f=async h=>{h.preventDefault(),o(!0),c(null);const x=e.trim(),v=r.trim();try{if(console.log("--- Intentando iniciar sesin ---"),x.toLowerCase()===u&&v===d){console.log(" Administrador Maestro detectado!"),t("admin","Administrador Maestro");return}const b=ct(Ae,"users"),y=cp(b,uA("email","==",x),uA("password","==",v)),w=await Ku(y);if(w.empty)c("Usuario o contrasea incorrectos.");else{const _=w.docs[0].data();console.log(" Usuario de Firebase encontrado."),t(_.role.toLowerCase(),_.name)}}catch(b){console.error(" Error de login:",b),c(`Error de conexin: ${b.message||"No se pudo conectar a la base de datos."}`)}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-6 font-sans",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2rem] flex items-center justify-center mx-auto shadow-lg shadow-orange-600/30",children:a.jsx(Mi,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"FerroGest ERP"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Ingresa a tu plataforma de gestin."})]}),l&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl flex items-center gap-3 animate-in shake duration-300",children:[a.jsx(Ke,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-bold text-xs uppercase text-[10px]",children:l})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:e,onChange:h=>n(h.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(i0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:r,onChange:h=>s(h.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:i,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[i?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(NG,{className:"w-5 h-5"}),i?"VERIFICANDO...":"ENTRAR AL SISTEMA"]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold text-center uppercase tracking-widest leading-relaxed",children:"Si olvidaste tus credenciales, consulta con el Administrador Maestro."})})]})})},Hh={pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},MEe={name:"FerroGest Pro",cuit:"30-71122334-9",ivaCondition:"Responsable Inscripto",address:"Av. Rivadavia 1234, CABA",logo:null,showLogoInSidebar:!0,arca:{enabled:!0,puntoVenta:5,iibb:"901-123456-7",crtValidUntil:"2025-12-31"},printConfigs:{factura:{...Hh},remito:{...Hh},recibo:{...Hh},etiqueta:{...Hh,pageSize:"80mm"}}},OEe=()=>{const[t,e]=D.useState("dashboard"),[n,r]=D.useState(!1),[s,i]=D.useState({name:"",role:"vendedor"}),[o,l]=D.useState("premium"),[c,u]=D.useState(MEe),d=(x,v)=>{i({name:v,role:x}),r(!0)},f=()=>{r(!1),i({name:"",role:"vendedor"})};if(!n)return a.jsx(REe,{onLoginSuccess:d});const h=()=>{switch(t){case"dashboard":return a.jsx($j,{});case"inventory":return a.jsx(Dye,{});case"missing-items":return a.jsx(TEe,{});case"stock-adjustment":return a.jsx(kEe,{});case"bulk-modification":return a.jsx(jEe,{});case"sales":return a.jsx(Lye,{});case"purchases":return a.jsx(XSe,{});case"clients":return a.jsx(ZSe,{onNavigate:e});case"suppliers":return a.jsx(eEe,{});case"cashier":return a.jsx(tEe,{});case"balances":return a.jsx(dEe,{});case"installments":return a.jsx(SEe,{});case"finance":return a.jsx(hEe,{});case"reports":return a.jsx(nEe,{});case"branches":return a.jsx(rEe,{});case"users":return a.jsx(sEe,{});case"prices":return a.jsx(aEe,{});case"bulk-import":return a.jsx(oEe,{});case"warehouse":return a.jsx(lEe,{});case"purchase-orders":return a.jsx(uEe,{});case"ecommerce":return a.jsx(gEe,{});case"loyalty":return a.jsx(xEe,{});case"remitos":return a.jsx(PEe,{});case"integrations":return a.jsx(yEe,{});case"quotes":return a.jsx(bEe,{});case"orders":return a.jsx(_Ee,{});case"sales-zones":return a.jsx(EEe,{});case"settings":return a.jsx(vP,{initialTab:"company",plan:o,setPlan:l,isAdmin:s.role==="admin",companyInfo:c,setCompanyInfo:u});case"data":return a.jsx(vP,{initialTab:"data",plan:o,setPlan:l,isAdmin:s.role==="admin",companyInfo:c,setCompanyInfo:u});default:return a.jsx($j,{})}};return a.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden",children:[a.jsx(r7,{activeTab:t,setActiveTab:e,companyInfo:c,currentUser:s,onLogout:f}),a.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:h()})})]})},DEe=()=>a.jsx(yG,{children:a.jsx(OEe,{})}),F$=document.getElementById("root");if(!F$)throw new Error("Failed to find the root element");const LEe=Fy.createRoot(F$);LEe.render(a.jsx(q.StrictMode,{children:a.jsx(DEe,{})}));
