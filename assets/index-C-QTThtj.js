(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fk={exports:{}},Dm={},Bk={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),SV=Symbol.for("react.portal"),AV=Symbol.for("react.fragment"),IV=Symbol.for("react.strict_mode"),CV=Symbol.for("react.profiler"),PV=Symbol.for("react.provider"),NV=Symbol.for("react.context"),kV=Symbol.for("react.forward_ref"),RV=Symbol.for("react.suspense"),MV=Symbol.for("react.memo"),OV=Symbol.for("react.lazy"),YT=Symbol.iterator;function DV(t){return t===null||typeof t!="object"?null:(t=YT&&t[YT]||t["@@iterator"],typeof t=="function"?t:null)}var Gk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zk=Object.assign,qk={};function Ol(t,e,n){this.props=t,this.context=e,this.refs=qk,this.updater=n||Gk}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hk(){}Hk.prototype=Ol.prototype;function J_(t,e,n){this.props=t,this.context=e,this.refs=qk,this.updater=n||Gk}var Y_=J_.prototype=new Hk;Y_.constructor=J_;zk(Y_,Ol.prototype);Y_.isPureReactComponent=!0;var XT=Array.isArray,Wk=Object.prototype.hasOwnProperty,X_={current:null},Kk={key:!0,ref:!0,__self:!0,__source:!0};function Jk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Wk.call(e,r)&&!Kk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sd,type:t,key:o,ref:s,props:i,_owner:X_.current}}function LV(t,e){return{$$typeof:Sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sd}function $V(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var QT=/\/+/g;function Cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$V(""+t.key):e.toString(36)}function fh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sd:case SV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Cy(s,0):r,XT(i)?(n="",t!=null&&(n=t.replace(QT,"$&/")+"/"),fh(i,e,n,"",function(u){return u})):i!=null&&(Q_(i)&&(i=LV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(QT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",XT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Cy(o,a);s+=fh(o,e,n,l,i)}else if(l=DV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Cy(o,a++),s+=fh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tf(t,e,n){if(t==null)return t;var r=[],i=0;return fh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function jV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},hh={transition:null},VV={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:hh,ReactCurrentOwner:X_};function Yk(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Tf,forEach:function(t,e,n){Tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tf(t,function(){e++}),e},toArray:function(t){return Tf(t,function(e){return e})||[]},only:function(t){if(!Q_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Ol;Me.Fragment=AV;Me.Profiler=CV;Me.PureComponent=J_;Me.StrictMode=IV;Me.Suspense=RV;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VV;Me.act=Yk;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=X_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Wk.call(e,l)&&!Kk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sd,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:NV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PV,_context:t},t.Consumer=t};Me.createElement=Jk;Me.createFactory=function(t){var e=Jk.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:kV,render:t}};Me.isValidElement=Q_;Me.lazy=function(t){return{$$typeof:OV,_payload:{_status:-1,_result:t},_init:jV}};Me.memo=function(t,e){return{$$typeof:MV,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=hh.transition;hh.transition={};try{t()}finally{hh.transition=e}};Me.unstable_act=Yk;Me.useCallback=function(t,e){return An.current.useCallback(t,e)};Me.useContext=function(t){return An.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Me.useEffect=function(t,e){return An.current.useEffect(t,e)};Me.useId=function(){return An.current.useId()};Me.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return An.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Me.useRef=function(t){return An.current.useRef(t)};Me.useState=function(t){return An.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return An.current.useTransition()};Me.version="18.3.1";Bk.exports=Me;var $=Bk.exports;const j=rt($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UV=$,FV=Symbol.for("react.element"),BV=Symbol.for("react.fragment"),GV=Object.prototype.hasOwnProperty,zV=UV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qV={key:!0,ref:!0,__self:!0,__source:!0};function Xk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)GV.call(e,r)&&!qV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FV,type:t,key:o,ref:s,props:i,_owner:zV.current}}Dm.Fragment=BV;Dm.jsx=Xk;Dm.jsxs=Xk;Fk.exports=Dm;var p=Fk.exports,zv={},Qk={exports:{}},Xn={},Zk={exports:{}},eR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,K){var Y=V.length;V.push(K);e:for(;0<Y;){var se=Y-1>>>1,ee=V[se];if(0<i(ee,K))V[se]=K,V[Y]=ee,Y=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],Y=V.pop();if(Y!==K){V[0]=Y;e:for(var se=0,ee=V.length,ue=ee>>>1;se<ue;){var Ce=2*(se+1)-1,Ne=V[Ce],We=Ce+1,q=V[We];if(0>i(Ne,Y))We<ee&&0>i(q,Ne)?(V[se]=q,V[We]=Y,se=We):(V[se]=Ne,V[Ce]=Y,se=Ce);else if(We<ee&&0>i(q,Y))V[se]=q,V[We]=Y,se=We;else break e}}return K}function i(V,K){var Y=V.sortIndex-K.sortIndex;return Y!==0?Y:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,y=!1,_=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=V)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function N(V){if(w=!1,T(V),!_)if(n(l)!==null)_=!0,G(A);else{var K=n(u);K!==null&&W(N,K.startTime-V)}}function A(V,K){_=!1,w&&(w=!1,x(C),C=-1),y=!0;var Y=h;try{for(T(K),d=n(l);d!==null&&(!(d.expirationTime>K)||V&&!M());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var ee=se(d.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),T(K)}else r(l);d=n(l)}if(d!==null)var ue=!0;else{var Ce=n(u);Ce!==null&&W(N,Ce.startTime-K),ue=!1}return ue}finally{d=null,h=Y,y=!1}}var P=!1,S=null,C=-1,I=5,R=-1;function M(){return!(t.unstable_now()-R<I)}function D(){if(S!==null){var V=t.unstable_now();R=V;var K=!0;try{K=S(!0,V)}finally{K?O():(P=!1,S=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=D,O=function(){B.postMessage(null)}}else O=function(){v(D,0)};function G(V){S=V,P||(P=!0,O())}function W(V,K){C=v(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,G(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Y=h;h=K;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return K()}finally{h=Y}},t.unstable_scheduleCallback=function(V,K,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,V={id:c++,callback:K,priorityLevel:V,startTime:Y,expirationTime:ee,sortIndex:-1},Y>se?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(w?(x(C),C=-1):w=!0,W(N,Y-se))):(V.sortIndex=ee,e(l,V),_||y||(_=!0,G(A))),V},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(V){var K=h;return function(){var Y=h;h=K;try{return V.apply(this,arguments)}finally{h=Y}}}})(eR);Zk.exports=eR;var HV=Zk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WV=$,Jn=HV;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tR=new Set,pc={};function Fs(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(pc[t]=e,t=0;t<e.length;t++)tR.add(e[t])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qv=Object.prototype.hasOwnProperty,KV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZT={},eS={};function JV(t){return qv.call(eS,t)?!0:qv.call(ZT,t)?!1:KV.test(t)?eS[t]=!0:(ZT[t]=!0,!1)}function YV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XV(t,e,n,r){if(e===null||typeof e>"u"||YV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z_=/[\-:]([a-z])/g;function ew(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z_,ew);nn[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z_,ew);nn[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z_,ew);nn[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function tw(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XV(e,n,i,r)&&(n=null),r||i===null?JV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=WV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sf=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),nw=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),nR=Symbol.for("react.provider"),rR=Symbol.for("react.context"),rw=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),Kv=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),iR=Symbol.for("react.offscreen"),tS=Symbol.iterator;function yu(t){return t===null||typeof t!="object"?null:(t=tS&&t[tS]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Py;function ju(t){if(Py===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Py=e&&e[1]||""}return`
`+Py+t}var Ny=!1;function ky(t,e){if(!t||Ny)return"";Ny=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ny=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ju(t):""}function QV(t){switch(t.tag){case 5:return ju(t.type);case 16:return ju("Lazy");case 13:return ju("Suspense");case 19:return ju("SuspenseList");case 0:case 2:case 15:return t=ky(t.type,!1),t;case 11:return t=ky(t.type.render,!1),t;case 1:return t=ky(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case da:return"Portal";case Hv:return"Profiler";case nw:return"StrictMode";case Wv:return"Suspense";case Kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rR:return(t.displayName||"Context")+".Consumer";case nR:return(t._context.displayName||"Context")+".Provider";case rw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iw:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function ZV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eU(t){var e=oR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Af(t){t._valueTracker||(t._valueTracker=eU(t))}function sR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yv(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aR(t,e){e=e.checked,e!=null&&tw(t,"checked",e,!1)}function Xv(t,e){aR(t,e);var n=Ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,Ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qv(t,e,n){(e!=="number"||Dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vu=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Vu(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ro(n)}}function lR(t,e){var n=Ro(e.value),r=Ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var If,cR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(If=If||document.createElement("div"),If.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=If.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ku={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tU=["Webkit","ms","Moz","O"];Object.keys(Ku).forEach(function(t){tU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ku[e]=Ku[t]})});function dR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ku.hasOwnProperty(t)&&Ku[t]?(""+e).trim():e+"px"}function fR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nU=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(nU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function ow(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i0=null,Na=null,ka=null;function sS(t){if(t=Cd(t)){if(typeof i0!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Um(e),i0(t.stateNode,t.type,e))}}function hR(t){Na?ka?ka.push(t):ka=[t]:Na=t}function pR(){if(Na){var t=Na,e=ka;if(ka=Na=null,sS(t),e)for(t=0;t<e.length;t++)sS(e[t])}}function mR(t,e){return t(e)}function gR(){}var Ry=!1;function yR(t,e,n){if(Ry)return t(e,n);Ry=!0;try{return mR(t,e,n)}finally{Ry=!1,(Na!==null||ka!==null)&&(gR(),pR())}}function gc(t,e){var n=t.stateNode;if(n===null)return null;var r=Um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var o0=!1;if(Si)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){o0=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{o0=!1}function rU(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ju=!1,Lh=null,$h=!1,s0=null,iU={onError:function(t){Ju=!0,Lh=t}};function oU(t,e,n,r,i,o,s,a,l){Ju=!1,Lh=null,rU.apply(iU,arguments)}function sU(t,e,n,r,i,o,s,a,l){if(oU.apply(this,arguments),Ju){if(Ju){var u=Lh;Ju=!1,Lh=null}else throw Error(ne(198));$h||($h=!0,s0=u)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aS(t){if(Bs(t)!==t)throw Error(ne(188))}function aU(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return aS(i),t;if(o===r)return aS(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function xR(t){return t=aU(t),t!==null?_R(t):null}function _R(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_R(t);if(e!==null)return e;t=t.sibling}return null}var wR=Jn.unstable_scheduleCallback,lS=Jn.unstable_cancelCallback,lU=Jn.unstable_shouldYield,uU=Jn.unstable_requestPaint,Tt=Jn.unstable_now,cU=Jn.unstable_getCurrentPriorityLevel,sw=Jn.unstable_ImmediatePriority,bR=Jn.unstable_UserBlockingPriority,jh=Jn.unstable_NormalPriority,dU=Jn.unstable_LowPriority,ER=Jn.unstable_IdlePriority,Lm=null,qr=null;function fU(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Lm,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:mU,hU=Math.log,pU=Math.LN2;function mU(t){return t>>>=0,t===0?32:31-(hU(t)/pU|0)|0}var Cf=64,Pf=4194304;function Uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Uu(a):(o&=s,o!==0&&(r=Uu(o)))}else s=n&~i,s!==0?r=Uu(s):o!==0&&(r=Uu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function gU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Nr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gU(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TR(){var t=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),t}function My(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function vU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function aw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function SR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AR,lw,IR,CR,PR,l0=!1,Nf=[],go=null,yo=null,vo=null,yc=new Map,vc=new Map,ro=[],xU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uS(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(e.pointerId)}}function xu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Cd(e),e!==null&&lw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _U(t,e,n,r,i){switch(e){case"focusin":return go=xu(go,t,e,n,r,i),!0;case"dragenter":return yo=xu(yo,t,e,n,r,i),!0;case"mouseover":return vo=xu(vo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yc.set(o,xu(yc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vc.set(o,xu(vc.get(o)||null,t,e,n,r,i)),!0}return!1}function NR(t){var e=cs(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=vR(n),e!==null){t.blockedOn=e,PR(t.priority,function(){IR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=Cd(n),e!==null&&lw(e),t.blockedOn=n,!1;e.shift()}return!0}function cS(t,e,n){ph(t)&&n.delete(e)}function wU(){l0=!1,go!==null&&ph(go)&&(go=null),yo!==null&&ph(yo)&&(yo=null),vo!==null&&ph(vo)&&(vo=null),yc.forEach(cS),vc.forEach(cS)}function _u(t,e){t.blockedOn===e&&(t.blockedOn=null,l0||(l0=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,wU)))}function xc(t){function e(i){return _u(i,t)}if(0<Nf.length){_u(Nf[0],t);for(var n=1;n<Nf.length;n++){var r=Nf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&_u(go,t),yo!==null&&_u(yo,t),vo!==null&&_u(vo,t),yc.forEach(e),vc.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)NR(n),n.blockedOn===null&&ro.shift()}var Ra=Vi.ReactCurrentBatchConfig,Uh=!0;function bU(t,e,n,r){var i=Je,o=Ra.transition;Ra.transition=null;try{Je=1,uw(t,e,n,r)}finally{Je=i,Ra.transition=o}}function EU(t,e,n,r){var i=Je,o=Ra.transition;Ra.transition=null;try{Je=4,uw(t,e,n,r)}finally{Je=i,Ra.transition=o}}function uw(t,e,n,r){if(Uh){var i=u0(t,e,n,r);if(i===null)Gy(t,e,r,Fh,n),uS(t,r);else if(_U(i,t,e,n,r))r.stopPropagation();else if(uS(t,r),e&4&&-1<xU.indexOf(t)){for(;i!==null;){var o=Cd(i);if(o!==null&&AR(o),o=u0(t,e,n,r),o===null&&Gy(t,e,r,Fh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gy(t,e,r,null,n)}}var Fh=null;function u0(t,e,n,r){if(Fh=null,t=ow(r),t=cs(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fh=t,null}function kR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cU()){case sw:return 1;case bR:return 4;case jh:case dU:return 16;case ER:return 536870912;default:return 16}default:return 16}}var uo=null,cw=null,mh=null;function RR(){if(mh)return mh;var t,e=cw,n=e.length,r,i="value"in uo?uo.value:uo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return mh=i.slice(t,1<r?1-r:void 0)}function gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kf(){return!0}function dS(){return!1}function Qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kf:dS,this.isPropagationStopped=dS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dw=Qn(Dl),Id=vt({},Dl,{view:0,detail:0}),TU=Qn(Id),Oy,Dy,wu,$m=vt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(Oy=t.screenX-wu.screenX,Dy=t.screenY-wu.screenY):Dy=Oy=0,wu=t),Oy)},movementY:function(t){return"movementY"in t?t.movementY:Dy}}),fS=Qn($m),SU=vt({},$m,{dataTransfer:0}),AU=Qn(SU),IU=vt({},Id,{relatedTarget:0}),Ly=Qn(IU),CU=vt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),PU=Qn(CU),NU=vt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kU=Qn(NU),RU=vt({},Dl,{data:0}),hS=Qn(RU),MU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DU[t])?!!e[t]:!1}function fw(){return LU}var $U=vt({},Id,{key:function(t){if(t.key){var e=MU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fw,charCode:function(t){return t.type==="keypress"?gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jU=Qn($U),VU=vt({},$m,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=Qn(VU),UU=vt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fw}),FU=Qn(UU),BU=vt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GU=Qn(BU),zU=vt({},$m,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qU=Qn(zU),HU=[9,13,27,32],hw=Si&&"CompositionEvent"in window,Yu=null;Si&&"documentMode"in document&&(Yu=document.documentMode);var WU=Si&&"TextEvent"in window&&!Yu,MR=Si&&(!hw||Yu&&8<Yu&&11>=Yu),mS=" ",gS=!1;function OR(t,e){switch(t){case"keyup":return HU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function KU(t,e){switch(t){case"compositionend":return DR(e);case"keypress":return e.which!==32?null:(gS=!0,mS);case"textInput":return t=e.data,t===mS&&gS?null:t;default:return null}}function JU(t,e){if(ha)return t==="compositionend"||!hw&&OR(t,e)?(t=RR(),mh=cw=uo=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MR&&e.locale!=="ko"?null:e.data;default:return null}}var YU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YU[t.type]:e==="textarea"}function LR(t,e,n,r){hR(r),e=Bh(e,"onChange"),0<e.length&&(n=new dw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xu=null,_c=null;function XU(t){WR(t,0)}function jm(t){var e=ga(t);if(sR(e))return t}function QU(t,e){if(t==="change")return e}var $R=!1;if(Si){var $y;if(Si){var jy="oninput"in document;if(!jy){var vS=document.createElement("div");vS.setAttribute("oninput","return;"),jy=typeof vS.oninput=="function"}$y=jy}else $y=!1;$R=$y&&(!document.documentMode||9<document.documentMode)}function xS(){Xu&&(Xu.detachEvent("onpropertychange",jR),_c=Xu=null)}function jR(t){if(t.propertyName==="value"&&jm(_c)){var e=[];LR(e,_c,t,ow(t)),yR(XU,e)}}function ZU(t,e,n){t==="focusin"?(xS(),Xu=e,_c=n,Xu.attachEvent("onpropertychange",jR)):t==="focusout"&&xS()}function eF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jm(_c)}function tF(t,e){if(t==="click")return jm(e)}function nF(t,e){if(t==="input"||t==="change")return jm(e)}function rF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:rF;function wc(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qv.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function _S(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wS(t,e){var n=_S(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_S(n)}}function VR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UR(){for(var t=window,e=Dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dh(t.document)}return e}function pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iF(t){var e=UR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VR(n.ownerDocument.documentElement,n)){if(r!==null&&pw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wS(n,o);var s=wS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oF=Si&&"documentMode"in document&&11>=document.documentMode,pa=null,c0=null,Qu=null,d0=!1;function bS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||pa==null||pa!==Dh(r)||(r=pa,"selectionStart"in r&&pw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qu&&wc(Qu,r)||(Qu=r,r=Bh(c0,"onSelect"),0<r.length&&(e=new dw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Rf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Rf("Animation","AnimationEnd"),animationiteration:Rf("Animation","AnimationIteration"),animationstart:Rf("Animation","AnimationStart"),transitionend:Rf("Transition","TransitionEnd")},Vy={},FR={};Si&&(FR=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Vm(t){if(Vy[t])return Vy[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FR)return Vy[t]=e[n];return t}var BR=Vm("animationend"),GR=Vm("animationiteration"),zR=Vm("animationstart"),qR=Vm("transitionend"),HR=new Map,ES="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){HR.set(t,e),Fs(e,[t])}for(var Uy=0;Uy<ES.length;Uy++){var Fy=ES[Uy],sF=Fy.toLowerCase(),aF=Fy[0].toUpperCase()+Fy.slice(1);jo(sF,"on"+aF)}jo(BR,"onAnimationEnd");jo(GR,"onAnimationIteration");jo(zR,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(qR,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fu));function TS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sU(r,e,void 0,t),t.currentTarget=null}function WR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;TS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;TS(i,a,u),o=l}}}if($h)throw t=s0,$h=!1,s0=null,t}function lt(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(KR(e,t,2,!1),n.add(r))}function By(t,e,n){var r=0;e&&(r|=4),KR(n,t,r,e)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function bc(t){if(!t[Mf]){t[Mf]=!0,tR.forEach(function(n){n!=="selectionchange"&&(lF.has(n)||By(n,!1,t),By(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mf]||(e[Mf]=!0,By("selectionchange",!1,e))}}function KR(t,e,n,r){switch(kR(e)){case 1:var i=bU;break;case 4:i=EU;break;default:i=uw}n=i.bind(null,e,n,t),i=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=cs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}yR(function(){var u=o,c=ow(n),d=[];e:{var h=HR.get(t);if(h!==void 0){var y=dw,_=t;switch(t){case"keypress":if(gh(n)===0)break e;case"keydown":case"keyup":y=jU;break;case"focusin":_="focus",y=Ly;break;case"focusout":_="blur",y=Ly;break;case"beforeblur":case"afterblur":y=Ly;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=AU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=FU;break;case BR:case GR:case zR:y=PU;break;case qR:y=GU;break;case"scroll":y=TU;break;case"wheel":y=qU;break;case"copy":case"cut":case"paste":y=kU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=pS}var w=(e&4)!==0,v=!w&&t==="scroll",x=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,T;b!==null;){T=b;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=gc(b,x),N!=null&&w.push(Ec(b,N,T)))),v)break;b=b.return}0<w.length&&(h=new y(h,_,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==r0&&(_=n.relatedTarget||n.fromElement)&&(cs(_)||_[Ai]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?cs(_):null,_!==null&&(v=Bs(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(w=fS,N="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=pS,N="onPointerLeave",x="onPointerEnter",b="pointer"),v=y==null?h:ga(y),T=_==null?h:ga(_),h=new w(N,b+"leave",y,n,c),h.target=v,h.relatedTarget=T,N=null,cs(c)===u&&(w=new w(x,b+"enter",_,n,c),w.target=T,w.relatedTarget=v,N=w),v=N,y&&_)t:{for(w=y,x=_,b=0,T=w;T;T=na(T))b++;for(T=0,N=x;N;N=na(N))T++;for(;0<b-T;)w=na(w),b--;for(;0<T-b;)x=na(x),T--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=na(w),x=na(x)}w=null}else w=null;y!==null&&SS(d,h,y,w,!1),_!==null&&v!==null&&SS(d,v,_,w,!0)}}e:{if(h=u?ga(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=QU;else if(yS(h))if($R)A=nF;else{A=eF;var P=ZU}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=tF);if(A&&(A=A(t,u))){LR(d,A,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Qv(h,"number",h.value)}switch(P=u?ga(u):window,t){case"focusin":(yS(P)||P.contentEditable==="true")&&(pa=P,c0=u,Qu=null);break;case"focusout":Qu=c0=pa=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,bS(d,n,c);break;case"selectionchange":if(oF)break;case"keydown":case"keyup":bS(d,n,c)}var S;if(hw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ha?OR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(MR&&n.locale!=="ko"&&(ha||C!=="onCompositionStart"?C==="onCompositionEnd"&&ha&&(S=RR()):(uo=c,cw="value"in uo?uo.value:uo.textContent,ha=!0)),P=Bh(u,C),0<P.length&&(C=new hS(C,t,null,n,c),d.push({event:C,listeners:P}),S?C.data=S:(S=DR(n),S!==null&&(C.data=S)))),(S=WU?KU(t,n):JU(t,n))&&(u=Bh(u,"onBeforeInput"),0<u.length&&(c=new hS("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}WR(d,e)})}function Ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gc(t,n),o!=null&&r.unshift(Ec(t,o,i)),o=gc(t,e),o!=null&&r.push(Ec(t,o,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gc(n,o),l!=null&&s.unshift(Ec(n,l,a))):i||(l=gc(n,o),l!=null&&s.push(Ec(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uF=/\r\n?/g,cF=/\u0000|\uFFFD/g;function AS(t){return(typeof t=="string"?t:""+t).replace(uF,`
`).replace(cF,"")}function Of(t,e,n){if(e=AS(e),AS(t)!==e&&n)throw Error(ne(425))}function Gh(){}var f0=null,h0=null;function p0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,dF=typeof clearTimeout=="function"?clearTimeout:void 0,IS=typeof Promise=="function"?Promise:void 0,fF=typeof queueMicrotask=="function"?queueMicrotask:typeof IS<"u"?function(t){return IS.resolve(null).then(t).catch(hF)}:m0;function hF(t){setTimeout(function(){throw t})}function zy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xc(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function CS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),Br="__reactFiber$"+Ll,Tc="__reactProps$"+Ll,Ai="__reactContainer$"+Ll,g0="__reactEvents$"+Ll,pF="__reactListeners$"+Ll,mF="__reactHandles$"+Ll;function cs(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=CS(t);t!==null;){if(n=t[Br])return n;t=CS(t)}return e}t=n,n=t.parentNode}return null}function Cd(t){return t=t[Br]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Um(t){return t[Tc]||null}var y0=[],ya=-1;function Vo(t){return{current:t}}function dt(t){0>ya||(t.current=y0[ya],y0[ya]=null,ya--)}function st(t,e){ya++,y0[ya]=t.current,t.current=e}var Mo={},vn=Vo(Mo),Dn=Vo(!1),Ss=Mo;function Ka(t,e){var n=t.type.contextTypes;if(!n)return Mo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function zh(){dt(Dn),dt(vn)}function PS(t,e,n){if(vn.current!==Mo)throw Error(ne(168));st(vn,e),st(Dn,n)}function JR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,ZV(t)||"Unknown",i));return vt({},n,r)}function qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mo,Ss=vn.current,st(vn,t),st(Dn,Dn.current),!0}function NS(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=JR(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,dt(Dn),dt(vn),st(vn,t)):dt(Dn),st(Dn,n)}var di=null,Fm=!1,qy=!1;function YR(t){di===null?di=[t]:di.push(t)}function gF(t){Fm=!0,YR(t)}function Uo(){if(!qy&&di!==null){qy=!0;var t=0,e=Je;try{var n=di;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,Fm=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),wR(sw,Uo),i}finally{Je=e,qy=!1}}return null}var va=[],xa=0,Hh=null,Wh=0,rr=[],ir=0,As=null,hi=1,pi="";function rs(t,e){va[xa++]=Wh,va[xa++]=Hh,Hh=t,Wh=e}function XR(t,e,n){rr[ir++]=hi,rr[ir++]=pi,rr[ir++]=As,As=t;var r=hi;t=pi;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var o=32-Nr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hi=1<<32-Nr(e)+i|n<<i|r,pi=o+t}else hi=1<<o|n<<i|r,pi=t}function mw(t){t.return!==null&&(rs(t,1),XR(t,1,0))}function gw(t){for(;t===Hh;)Hh=va[--xa],va[xa]=null,Wh=va[--xa],va[xa]=null;for(;t===As;)As=rr[--ir],rr[ir]=null,pi=rr[--ir],rr[ir]=null,hi=rr[--ir],rr[ir]=null}var Kn=null,Hn=null,ft=!1,Ir=null;function QR(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:hi,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x0(t){if(ft){var e=Hn;if(e){var n=e;if(!kS(t,e)){if(v0(t))throw Error(ne(418));e=xo(n.nextSibling);var r=Kn;e&&kS(t,e)?QR(r,n):(t.flags=t.flags&-4097|2,ft=!1,Kn=t)}}else{if(v0(t))throw Error(ne(418));t.flags=t.flags&-4097|2,ft=!1,Kn=t}}}function RS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Df(t){if(t!==Kn)return!1;if(!ft)return RS(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p0(t.type,t.memoizedProps)),e&&(e=Hn)){if(v0(t))throw ZR(),Error(ne(418));for(;e;)QR(t,e),e=xo(e.nextSibling)}if(RS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?xo(t.stateNode.nextSibling):null;return!0}function ZR(){for(var t=Hn;t;)t=xo(t.nextSibling)}function Ja(){Hn=Kn=null,ft=!1}function yw(t){Ir===null?Ir=[t]:Ir.push(t)}var yF=Vi.ReactCurrentBatchConfig;function bu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Lf(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MS(t){var e=t._init;return e(t._payload)}function e2(t){function e(x,b){if(t){var T=x.deletions;T===null?(x.deletions=[b],x.flags|=16):T.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Eo(x,b),x.index=0,x.sibling=null,x}function o(x,b,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<b?(x.flags|=2,b):T):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,T,N){return b===null||b.tag!==6?(b=Qy(T,x.mode,N),b.return=x,b):(b=i(b,T),b.return=x,b)}function l(x,b,T,N){var A=T.type;return A===fa?c(x,b,T.props.children,N,T.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&MS(A)===b.type)?(N=i(b,T.props),N.ref=bu(x,b,T),N.return=x,N):(N=Eh(T.type,T.key,T.props,null,x.mode,N),N.ref=bu(x,b,T),N.return=x,N)}function u(x,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Zy(T,x.mode,N),b.return=x,b):(b=i(b,T.children||[]),b.return=x,b)}function c(x,b,T,N,A){return b===null||b.tag!==7?(b=_s(T,x.mode,N,A),b.return=x,b):(b=i(b,T),b.return=x,b)}function d(x,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qy(""+b,x.mode,T),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sf:return T=Eh(b.type,b.key,b.props,null,x.mode,T),T.ref=bu(x,null,b),T.return=x,T;case da:return b=Zy(b,x.mode,T),b.return=x,b;case eo:var N=b._init;return d(x,N(b._payload),T)}if(Vu(b)||yu(b))return b=_s(b,x.mode,T,null),b.return=x,b;Lf(x,b)}return null}function h(x,b,T,N){var A=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:a(x,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sf:return T.key===A?l(x,b,T,N):null;case da:return T.key===A?u(x,b,T,N):null;case eo:return A=T._init,h(x,b,A(T._payload),N)}if(Vu(T)||yu(T))return A!==null?null:c(x,b,T,N,null);Lf(x,T)}return null}function y(x,b,T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(b,x,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sf:return x=x.get(N.key===null?T:N.key)||null,l(b,x,N,A);case da:return x=x.get(N.key===null?T:N.key)||null,u(b,x,N,A);case eo:var P=N._init;return y(x,b,T,P(N._payload),A)}if(Vu(N)||yu(N))return x=x.get(T)||null,c(b,x,N,A,null);Lf(b,N)}return null}function _(x,b,T,N){for(var A=null,P=null,S=b,C=b=0,I=null;S!==null&&C<T.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var R=h(x,S,T[C],N);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(x,S),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R,S=I}if(C===T.length)return n(x,S),ft&&rs(x,C),A;if(S===null){for(;C<T.length;C++)S=d(x,T[C],N),S!==null&&(b=o(S,b,C),P===null?A=S:P.sibling=S,P=S);return ft&&rs(x,C),A}for(S=r(x,S);C<T.length;C++)I=y(S,x,C,T[C],N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),b=o(I,b,C),P===null?A=I:P.sibling=I,P=I);return t&&S.forEach(function(M){return e(x,M)}),ft&&rs(x,C),A}function w(x,b,T,N){var A=yu(T);if(typeof A!="function")throw Error(ne(150));if(T=A.call(T),T==null)throw Error(ne(151));for(var P=A=null,S=b,C=b=0,I=null,R=T.next();S!==null&&!R.done;C++,R=T.next()){S.index>C?(I=S,S=null):I=S.sibling;var M=h(x,S,R.value,N);if(M===null){S===null&&(S=I);break}t&&S&&M.alternate===null&&e(x,S),b=o(M,b,C),P===null?A=M:P.sibling=M,P=M,S=I}if(R.done)return n(x,S),ft&&rs(x,C),A;if(S===null){for(;!R.done;C++,R=T.next())R=d(x,R.value,N),R!==null&&(b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return ft&&rs(x,C),A}for(S=r(x,S);!R.done;C++,R=T.next())R=y(S,x,C,R.value,N),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return t&&S.forEach(function(D){return e(x,D)}),ft&&rs(x,C),A}function v(x,b,T,N){if(typeof T=="object"&&T!==null&&T.type===fa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Sf:e:{for(var A=T.key,P=b;P!==null;){if(P.key===A){if(A=T.type,A===fa){if(P.tag===7){n(x,P.sibling),b=i(P,T.props.children),b.return=x,x=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&MS(A)===P.type){n(x,P.sibling),b=i(P,T.props),b.ref=bu(x,P,T),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}T.type===fa?(b=_s(T.props.children,x.mode,N,T.key),b.return=x,x=b):(N=Eh(T.type,T.key,T.props,null,x.mode,N),N.ref=bu(x,b,T),N.return=x,x=N)}return s(x);case da:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(x,b.sibling),b=i(b,T.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Zy(T,x.mode,N),b.return=x,x=b}return s(x);case eo:return P=T._init,v(x,b,P(T._payload),N)}if(Vu(T))return _(x,b,T,N);if(yu(T))return w(x,b,T,N);Lf(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,T),b.return=x,x=b):(n(x,b),b=Qy(T,x.mode,N),b.return=x,x=b),s(x)):n(x,b)}return v}var Ya=e2(!0),t2=e2(!1),Kh=Vo(null),Jh=null,_a=null,vw=null;function xw(){vw=_a=Jh=null}function _w(t){var e=Kh.current;dt(Kh),t._currentValue=e}function _0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){Jh=t,vw=_a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(vw!==t)if(t={context:t,memoizedValue:e,next:null},_a===null){if(Jh===null)throw Error(ne(308));_a=t,Jh.dependencies={lanes:0,firstContext:t}}else _a=_a.next=t;return e}var ds=null;function ww(t){ds===null?ds=[t]:ds.push(t)}function n2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ww(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ii(t,r)}function Ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function bw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _o(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ii(t,n)}return i=r.interleaved,i===null?(e.next=e,ww(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ii(t,n)}function yh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aw(t,n)}}function OS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yh(t,e,n,r){var i=t.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(h=e,y=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){d=_.call(y,d,h);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,h=typeof _=="function"?_.call(y,d,h):_,h==null)break e;d=vt({},d,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=d}}function DS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Pd={},Hr=Vo(Pd),Sc=Vo(Pd),Ac=Vo(Pd);function fs(t){if(t===Pd)throw Error(ne(174));return t}function Ew(t,e){switch(st(Ac,e),st(Sc,t),st(Hr,Pd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}dt(Hr),st(Hr,e)}function Xa(){dt(Hr),dt(Sc),dt(Ac)}function i2(t){fs(Ac.current);var e=fs(Hr.current),n=e0(e,t.type);e!==n&&(st(Sc,t),st(Hr,n))}function Tw(t){Sc.current===t&&(dt(Hr),dt(Sc))}var mt=Vo(0);function Xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hy=[];function Sw(){for(var t=0;t<Hy.length;t++)Hy[t]._workInProgressVersionPrimary=null;Hy.length=0}var vh=Vi.ReactCurrentDispatcher,Wy=Vi.ReactCurrentBatchConfig,Is=0,yt=null,Mt=null,Bt=null,Qh=!1,Zu=!1,Ic=0,vF=0;function ln(){throw Error(ne(321))}function Aw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function Iw(t,e,n,r,i,o){if(Is=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=t===null||t.memoizedState===null?bF:EF,t=n(r,i),Zu){o=0;do{if(Zu=!1,Ic=0,25<=o)throw Error(ne(301));o+=1,Bt=Mt=null,e.updateQueue=null,vh.current=TF,t=n(r,i)}while(Zu)}if(vh.current=Zh,e=Mt!==null&&Mt.next!==null,Is=0,Bt=Mt=yt=null,Qh=!1,e)throw Error(ne(300));return t}function Cw(){var t=Ic!==0;return Ic=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function pr(){if(Mt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Bt===null?yt.memoizedState:Bt.next;if(e!==null)Bt=e,Mt=t;else{if(t===null)throw Error(ne(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Cc(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=pr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,yt.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Lr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yt.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jy(t){var e=pr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Lr(o,e.memoizedState)||(Mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function o2(){}function s2(t,e){var n=yt,r=pr(),i=e(),o=!Lr(r.memoizedState,i);if(o&&(r.memoizedState=i,Mn=!0),r=r.queue,Pw(u2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Pc(9,l2.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(ne(349));Is&30||a2(n,e,i)}return i}function a2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l2(t,e,n,r){e.value=n,e.getSnapshot=r,c2(e)&&d2(t)}function u2(t,e,n){return n(function(){c2(e)&&d2(t)})}function c2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function d2(t){var e=Ii(t,1);e!==null&&kr(e,t,1,-1)}function LS(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=wF.bind(null,yt,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function f2(){return pr().memoizedState}function xh(t,e,n,r){var i=Fr();yt.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function Bm(t,e,n,r){var i=pr();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var s=Mt.memoizedState;if(o=s.destroy,r!==null&&Aw(r,s.deps)){i.memoizedState=Pc(e,n,o,r);return}}yt.flags|=t,i.memoizedState=Pc(1|e,n,o,r)}function $S(t,e){return xh(8390656,8,t,e)}function Pw(t,e){return Bm(2048,8,t,e)}function h2(t,e){return Bm(4,2,t,e)}function p2(t,e){return Bm(4,4,t,e)}function m2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g2(t,e,n){return n=n!=null?n.concat([t]):null,Bm(4,4,m2.bind(null,e,t),n)}function Nw(){}function y2(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v2(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function x2(t,e,n){return Is&21?(Lr(n,e)||(n=TR(),yt.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function xF(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Wy.transition;Wy.transition={};try{t(!1),e()}finally{Je=n,Wy.transition=r}}function _2(){return pr().memoizedState}function _F(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w2(t))b2(e,n);else if(n=n2(t,e,n,r),n!==null){var i=En();kr(n,t,r,i),E2(n,e,r)}}function wF(t,e,n){var r=bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w2(t))b2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,s)){var l=e.interleaved;l===null?(i.next=i,ww(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=n2(t,e,i,r),n!==null&&(i=En(),kr(n,t,r,i),E2(n,e,r))}}function w2(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function b2(t,e){Zu=Qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aw(t,n)}}var Zh={readContext:hr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},bF={readContext:hr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:$S,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xh(4194308,4,m2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return xh(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_F.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:LS,useDebugValue:Nw,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=LS(!1),e=t[0];return t=xF.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Fr();if(ft){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Gt===null)throw Error(ne(349));Is&30||a2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,$S(u2.bind(null,r,o,t),[t]),r.flags|=2048,Pc(9,l2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Gt.identifierPrefix;if(ft){var n=pi,r=hi;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EF={readContext:hr,useCallback:y2,useContext:hr,useEffect:Pw,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:p2,useMemo:v2,useReducer:Ky,useRef:f2,useState:function(){return Ky(Cc)},useDebugValue:Nw,useDeferredValue:function(t){var e=pr();return x2(e,Mt.memoizedState,t)},useTransition:function(){var t=Ky(Cc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:o2,useSyncExternalStore:s2,useId:_2,unstable_isNewReconciler:!1},TF={readContext:hr,useCallback:y2,useContext:hr,useEffect:Pw,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:p2,useMemo:v2,useReducer:Jy,useRef:f2,useState:function(){return Jy(Cc)},useDebugValue:Nw,useDeferredValue:function(t){var e=pr();return Mt===null?e.memoizedState=t:x2(e,Mt.memoizedState,t)},useTransition:function(){var t=Jy(Cc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:o2,useSyncExternalStore:s2,useId:_2,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gm={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=bo(t),o=wi(r,i);o.payload=e,n!=null&&(o.callback=n),e=_o(t,o,i),e!==null&&(kr(e,t,i,r),yh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=bo(t),o=wi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_o(t,o,i),e!==null&&(kr(e,t,i,r),yh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=bo(t),i=wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=_o(t,i,r),e!==null&&(kr(e,t,r,n),yh(e,t,r))}};function jS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wc(n,r)||!wc(i,o):!0}function T2(t,e,n){var r=!1,i=Mo,o=e.contextType;return typeof o=="object"&&o!==null?o=hr(o):(i=Ln(e)?Ss:vn.current,r=e.contextTypes,o=(r=r!=null)?Ka(t,i):Mo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function VS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gm.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hr(o):(o=Ln(e)?Ss:vn.current,i.context=Ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(w0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gm.enqueueReplaceState(i,i.state,null),Yh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=QV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SF=typeof WeakMap=="function"?WeakMap:Map;function S2(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tp||(tp=!0,M0=r),E0(t,e)},n}function A2(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){E0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){E0(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function US(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=VF.bind(null,t,e,n),e.then(t,t))}function FS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function BS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,_o(n,e,1))),n.lanes|=1),t)}var AF=Vi.ReactCurrentOwner,Mn=!1;function wn(t,e,n,r){e.child=t===null?t2(e,null,n,r):Ya(e,t.child,n,r)}function GS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=Iw(t,e,n,r,o,i),n=Cw(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(ft&&n&&mw(e),e.flags|=1,wn(t,e,r,i),e.child)}function zS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!jw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,I2(t,e,o,r,i)):(t=Eh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wc,n(s,r)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=Eo(o,r),t.ref=e.ref,t.return=e,e.child=t}function I2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wc(o,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return T0(t,e,n,r,i)}function C2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ba,Gn),Gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(ba,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,st(ba,Gn),Gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,st(ba,Gn),Gn|=r;return wn(t,e,i,n),e.child}function P2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function T0(t,e,n,r,i){var o=Ln(n)?Ss:vn.current;return o=Ka(e,o),Ma(e,i),n=Iw(t,e,n,r,o,i),r=Cw(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(ft&&r&&mw(e),e.flags|=1,wn(t,e,n,i),e.child)}function qS(t,e,n,r,i){if(Ln(n)){var o=!0;qh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)_h(t,e),T2(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ln(n)?Ss:vn.current,u=Ka(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&VS(e,s,r,u),to=!1;var h=e.memoizedState;s.state=h,Yh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Dn.current||to?(typeof c=="function"&&(w0(e,n,c,r),l=e.memoizedState),(a=to||jS(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,r2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Ln(n)?Ss:vn.current,l=Ka(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&VS(e,s,r,l),to=!1,h=e.memoizedState,s.state=h,Yh(e,r,s,i);var _=e.memoizedState;a!==d||h!==_||Dn.current||to?(typeof y=="function"&&(w0(e,n,y,r),_=e.memoizedState),(u=to||jS(e,n,u,r,h,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,o,i)}function S0(t,e,n,r,i,o){P2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&NS(e,n,!1),Ci(t,e,o);r=e.stateNode,AF.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):wn(t,e,a,o),e.memoizedState=r.state,i&&NS(e,n,!0),e.child}function N2(t){var e=t.stateNode;e.pendingContext?PS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PS(t,e.context,!1),Ew(t,e.containerInfo)}function HS(t,e,n,r,i){return Ja(),yw(i),e.flags|=256,wn(t,e,n,r),e.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function I0(t){return{baseLanes:t,cachePool:null,transitions:null}}function k2(t,e,n){var r=e.pendingProps,i=mt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(mt,i&1),t===null)return x0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Hm(s,r,0,null),t=_s(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=I0(n),e.memoizedState=A0,t):kw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IF(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Eo(a,o):(o=_s(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?I0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=A0,r}return o=t.child,t=o.sibling,r=Eo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kw(t,e){return e=Hm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $f(t,e,n,r){return r!==null&&yw(r),Ya(e,t.child,null,n),t=kw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IF(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Yy(Error(ne(422))),$f(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Hm({mode:"visible",children:r.children},i,0,null),o=_s(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ya(e,t.child,null,s),e.child.memoizedState=I0(s),e.memoizedState=A0,o);if(!(e.mode&1))return $f(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=Yy(o,r,void 0),$f(t,e,s,r)}if(a=(s&t.childLanes)!==0,Mn||a){if(r=Gt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ii(t,i),kr(r,t,i,-1))}return $w(),r=Yy(Error(ne(421))),$f(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=xo(i.nextSibling),Kn=e,ft=!0,Ir=null,t!==null&&(rr[ir++]=hi,rr[ir++]=pi,rr[ir++]=As,hi=t.id,pi=t.overflow,As=e),e=kw(e,r.children),e.flags|=4096,e)}function WS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_0(t.return,e,n)}function Xy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function R2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WS(t,n,e);else if(t.tag===19)WS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xy(e,!0,n,null,o);break;case"together":Xy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CF(t,e,n){switch(e.tag){case 3:N2(e),Ja();break;case 5:i2(e);break;case 1:Ln(e.type)&&qh(e);break;case 4:Ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(Kh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?k2(t,e,n):(st(mt,mt.current&1),t=Ci(t,e,n),t!==null?t.sibling:null);st(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return R2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,C2(t,e,n)}return Ci(t,e,n)}var M2,C0,O2,D2;M2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};O2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(Hr.current);var o=null;switch(n){case"input":i=Yv(t,i),r=Yv(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=Zv(t,i),r=Zv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gh)}t0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};D2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Eu(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PF(t,e,n){var r=e.pendingProps;switch(gw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Ln(e.type)&&zh(),un(e),null;case 3:return r=e.stateNode,Xa(),dt(Dn),dt(vn),Sw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Df(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(L0(Ir),Ir=null))),C0(t,e),un(e),null;case 5:Tw(e);var i=fs(Ac.current);if(n=e.type,t!==null&&e.stateNode!=null)O2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return un(e),null}if(t=fs(Hr.current),Df(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Br]=e,r[Tc]=o,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<Fu.length;i++)lt(Fu[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":nS(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":iS(r,o),lt("invalid",r)}t0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Of(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Of(r.textContent,a,t),i=["children",""+a]):pc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&lt("scroll",r)}switch(n){case"input":Af(r),rS(r,o,!0);break;case"textarea":Af(r),oS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Br]=e,t[Tc]=r,M2(t,e,!1,!1),e.stateNode=t;e:{switch(s=n0(n,r),n){case"dialog":lt("cancel",t),lt("close",t),i=r;break;case"iframe":case"object":case"embed":lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fu.length;i++)lt(Fu[i],t);i=r;break;case"source":lt("error",t),i=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=r;break;case"details":lt("toggle",t),i=r;break;case"input":nS(t,r),i=Yv(t,r),lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":iS(t,r),i=Zv(t,r),lt("invalid",t);break;default:i=r}t0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?fR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mc(t,l):typeof l=="number"&&mc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&lt("scroll",t):l!=null&&tw(t,o,l,s))}switch(n){case"input":Af(t),rS(t,r,!1);break;case"textarea":Af(t),oS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)D2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=fs(Ac.current),fs(Hr.current),Df(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:Of(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Of(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return un(e),null;case 13:if(dt(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Hn!==null&&e.mode&1&&!(e.flags&128))ZR(),Ja(),e.flags|=98560,o=!1;else if(o=Df(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[Br]=e}else Ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else Ir!==null&&(L0(Ir),Ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ot===0&&(Ot=3):$w())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Xa(),C0(t,e),t===null&&bc(e.stateNode.containerInfo),un(e),null;case 10:return _w(e.type._context),un(e),null;case 17:return Ln(e.type)&&zh(),un(e),null;case 19:if(dt(mt),o=e.memoizedState,o===null)return un(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Eu(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xh(t),s!==null){for(e.flags|=128,Eu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(mt,mt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Za&&(e.flags|=128,r=!0,Eu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return un(e),null}else 2*Tt()-o.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,Eu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=mt.current,st(mt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return Lw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function NF(t,e){switch(gw(e),e.tag){case 1:return Ln(e.type)&&zh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),dt(Dn),dt(vn),Sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tw(e),null;case 13:if(dt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(mt),null;case 4:return Xa(),null;case 10:return _w(e.type._context),null;case 22:case 23:return Lw(),null;case 24:return null;default:return null}}var jf=!1,hn=!1,kF=typeof WeakSet=="function"?WeakSet:Set,fe=null;function wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function P0(t,e,n){try{n()}catch(r){wt(t,e,r)}}var KS=!1;function RF(t,e){if(f0=Uh,t=UR(),pw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h0={focusedElem:t,selectionRange:n},Uh=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,v=_.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Er(e.type,w),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){wt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return _=KS,KS=!1,_}function ec(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&P0(e,n,o)}i=i.next}while(i!==r)}}function zm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L2(t){var e=t.alternate;e!==null&&(t.alternate=null,L2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[Tc],delete e[g0],delete e[pF],delete e[mF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $2(t){return t.tag===5||t.tag===3||t.tag===4}function JS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gh));else if(r!==4&&(t=t.child,t!==null))for(k0(t,e,n),t=t.sibling;t!==null;)k0(t,e,n),t=t.sibling}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}var Yt=null,Tr=!1;function Xi(t,e,n){for(n=n.child;n!==null;)j2(t,e,n),n=n.sibling}function j2(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Lm,n)}catch{}switch(n.tag){case 5:hn||wa(n,e);case 6:var r=Yt,i=Tr;Yt=null,Xi(t,e,n),Yt=r,Tr=i,Yt!==null&&(Tr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Tr?(t=Yt,n=n.stateNode,t.nodeType===8?zy(t.parentNode,n):t.nodeType===1&&zy(t,n),xc(t)):zy(Yt,n.stateNode));break;case 4:r=Yt,i=Tr,Yt=n.stateNode.containerInfo,Tr=!0,Xi(t,e,n),Yt=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&P0(n,e,s),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!hn&&(wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Xi(t,e,n),hn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function YS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kF),e.forEach(function(r){var i=FF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Tr=!1;break e;case 3:Yt=a.stateNode.containerInfo,Tr=!0;break e;case 4:Yt=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(Yt===null)throw Error(ne(160));j2(o,s,i),Yt=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V2(e,t),e=e.sibling}function V2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Ur(t),r&4){try{ec(3,t,t.return),zm(3,t)}catch(w){wt(t,t.return,w)}try{ec(5,t,t.return)}catch(w){wt(t,t.return,w)}}break;case 1:wr(e,t),Ur(t),r&512&&n!==null&&wa(n,n.return);break;case 5:if(wr(e,t),Ur(t),r&512&&n!==null&&wa(n,n.return),t.flags&32){var i=t.stateNode;try{mc(i,"")}catch(w){wt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&aR(i,o),n0(a,s);var u=n0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?fR(i,d):c==="dangerouslySetInnerHTML"?cR(i,d):c==="children"?mc(i,d):tw(i,c,d,u)}switch(a){case"input":Xv(i,o);break;case"textarea":lR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Pa(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pa(i,!!o.multiple,o.defaultValue,!0):Pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tc]=o}catch(w){wt(t,t.return,w)}}break;case 6:if(wr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){wt(t,t.return,w)}}break;case 3:if(wr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(w){wt(t,t.return,w)}break;case 4:wr(e,t),Ur(t);break;case 13:wr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ow=Tt())),r&4&&YS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||c,wr(e,t),hn=u):wr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(fe=t,c=t.child;c!==null;){for(d=fe=c;fe!==null;){switch(h=fe,y=h.child,h.tag){case 0:case 11:case 14:case 15:ec(4,h,h.return);break;case 1:wa(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){wt(r,n,w)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){QS(d);continue}}y!==null?(y.return=h,fe=y):QS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dR("display",s))}catch(w){wt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){wt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wr(e,t),Ur(t),r&4&&YS(t);break;case 21:break;default:wr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($2(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mc(i,""),r.flags&=-33);var o=JS(t);R0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=JS(t);k0(t,a,s);break;default:throw Error(ne(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MF(t,e,n){fe=t,U2(t)}function U2(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jf;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=jf;var u=hn;if(jf=s,(hn=l)&&!u)for(fe=i;fe!==null;)s=fe,l=s.child,s.tag===22&&s.memoizedState!==null?ZS(i):l!==null?(l.return=s,fe=l):ZS(i);for(;o!==null;)fe=o,U2(o),o=o.sibling;fe=i,jf=a,hn=u}XS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):XS(t)}}function XS(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||zm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&DS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}DS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}hn||e.flags&512&&N0(e)}catch(h){wt(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function QS(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function ZS(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zm(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var o=e.return;try{N0(e)}catch(l){wt(e,o,l)}break;case 5:var s=e.return;try{N0(e)}catch(l){wt(e,s,l)}}}catch(l){wt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var OF=Math.ceil,ep=Vi.ReactCurrentDispatcher,Rw=Vi.ReactCurrentOwner,lr=Vi.ReactCurrentBatchConfig,Ue=0,Gt=null,It=null,en=0,Gn=0,ba=Vo(0),Ot=0,Nc=null,Cs=0,qm=0,Mw=0,tc=null,kn=null,Ow=0,Za=1/0,ci=null,tp=!1,M0=null,wo=null,Vf=!1,co=null,np=0,nc=0,O0=null,wh=-1,bh=0;function En(){return Ue&6?Tt():wh!==-1?wh:wh=Tt()}function bo(t){return t.mode&1?Ue&2&&en!==0?en&-en:yF.transition!==null?(bh===0&&(bh=TR()),bh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:kR(t.type)),t):1}function kr(t,e,n,r){if(50<nc)throw nc=0,O0=null,Error(ne(185));Ad(t,n,r),(!(Ue&2)||t!==Gt)&&(t===Gt&&(!(Ue&2)&&(qm|=n),Ot===4&&io(t,en)),$n(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Za=Tt()+500,Fm&&Uo()))}function $n(t,e){var n=t.callbackNode;yU(t,e);var r=Vh(t,t===Gt?en:0);if(r===0)n!==null&&lS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lS(n),e===1)t.tag===0?gF(e1.bind(null,t)):YR(e1.bind(null,t)),fF(function(){!(Ue&6)&&Uo()}),n=null;else{switch(SR(r)){case 1:n=sw;break;case 4:n=bR;break;case 16:n=jh;break;case 536870912:n=ER;break;default:n=jh}n=K2(n,F2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F2(t,e){if(wh=-1,bh=0,Ue&6)throw Error(ne(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=Vh(t,t===Gt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rp(t,r);else{e=r;var i=Ue;Ue|=2;var o=G2();(Gt!==t||en!==e)&&(ci=null,Za=Tt()+500,xs(t,e));do try{$F();break}catch(a){B2(t,a)}while(!0);xw(),ep.current=o,Ue=i,It!==null?e=0:(Gt=null,en=0,e=Ot)}if(e!==0){if(e===2&&(i=a0(t),i!==0&&(r=i,e=D0(t,i))),e===1)throw n=Nc,xs(t,0),io(t,r),$n(t,Tt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!DF(i)&&(e=rp(t,r),e===2&&(o=a0(t),o!==0&&(r=o,e=D0(t,o))),e===1))throw n=Nc,xs(t,0),io(t,r),$n(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:is(t,kn,ci);break;case 3:if(io(t,r),(r&130023424)===r&&(e=Ow+500-Tt(),10<e)){if(Vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m0(is.bind(null,t,kn,ci),e);break}is(t,kn,ci);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Nr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OF(r/1960))-r,10<r){t.timeoutHandle=m0(is.bind(null,t,kn,ci),r);break}is(t,kn,ci);break;case 5:is(t,kn,ci);break;default:throw Error(ne(329))}}}return $n(t,Tt()),t.callbackNode===n?F2.bind(null,t):null}function D0(t,e){var n=tc;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=rp(t,e),t!==2&&(e=kn,kn=n,e!==null&&L0(e)),t}function L0(t){kn===null?kn=t:kn.push.apply(kn,t)}function DF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~Mw,e&=~qm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function e1(t){if(Ue&6)throw Error(ne(327));Oa();var e=Vh(t,0);if(!(e&1))return $n(t,Tt()),null;var n=rp(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=D0(t,r))}if(n===1)throw n=Nc,xs(t,0),io(t,e),$n(t,Tt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,kn,ci),$n(t,Tt()),null}function Dw(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Za=Tt()+500,Fm&&Uo())}}function Ps(t){co!==null&&co.tag===0&&!(Ue&6)&&Oa();var e=Ue;Ue|=1;var n=lr.transition,r=Je;try{if(lr.transition=null,Je=1,t)return t()}finally{Je=r,lr.transition=n,Ue=e,!(Ue&6)&&Uo()}}function Lw(){Gn=ba.current,dt(ba)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dF(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(gw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zh();break;case 3:Xa(),dt(Dn),dt(vn),Sw();break;case 5:Tw(r);break;case 4:Xa();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:_w(r.type._context);break;case 22:case 23:Lw()}n=n.return}if(Gt=t,It=t=Eo(t.current,null),en=Gn=e,Ot=0,Nc=null,Mw=qm=Cs=0,kn=tc=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ds=null}return t}function B2(t,e){do{var n=It;try{if(xw(),vh.current=Zh,Qh){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qh=!1}if(Is=0,Bt=Mt=yt=null,Zu=!1,Ic=0,Rw.current=null,n===null||n.return===null){Ot=1,Nc=e,It=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=FS(s);if(y!==null){y.flags&=-257,BS(y,s,a,o,e),y.mode&1&&US(o,u,e),e=y,l=u;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){US(o,u,e),$w();break e}l=Error(ne(426))}}else if(ft&&a.mode&1){var v=FS(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),BS(v,s,a,o,e),yw(Qa(l,a));break e}}o=l=Qa(l,a),Ot!==4&&(Ot=2),tc===null?tc=[o]:tc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=S2(o,l,e);OS(o,x);break e;case 1:a=l;var b=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(wo===null||!wo.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=A2(o,a,e);OS(o,N);break e}}o=o.return}while(o!==null)}q2(n)}catch(A){e=A,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function G2(){var t=ep.current;return ep.current=Zh,t===null?Zh:t}function $w(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Gt===null||!(Cs&268435455)&&!(qm&268435455)||io(Gt,en)}function rp(t,e){var n=Ue;Ue|=2;var r=G2();(Gt!==t||en!==e)&&(ci=null,xs(t,e));do try{LF();break}catch(i){B2(t,i)}while(!0);if(xw(),Ue=n,ep.current=r,It!==null)throw Error(ne(261));return Gt=null,en=0,Ot}function LF(){for(;It!==null;)z2(It)}function $F(){for(;It!==null&&!lU();)z2(It)}function z2(t){var e=W2(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?q2(t):It=e,Rw.current=null}function q2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NF(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,It=null;return}}else if(n=PF(n,e,Gn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ot===0&&(Ot=5)}function is(t,e,n){var r=Je,i=lr.transition;try{lr.transition=null,Je=1,jF(t,e,n,r)}finally{lr.transition=i,Je=r}return null}function jF(t,e,n,r){do Oa();while(co!==null);if(Ue&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vU(t,o),t===Gt&&(It=Gt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vf||(Vf=!0,K2(jh,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=Je;Je=1;var a=Ue;Ue|=4,Rw.current=null,RF(t,n),V2(n,t),iF(h0),Uh=!!f0,h0=f0=null,t.current=n,MF(n),uU(),Ue=a,Je=s,lr.transition=o}else t.current=n;if(Vf&&(Vf=!1,co=t,np=i),o=t.pendingLanes,o===0&&(wo=null),fU(n.stateNode),$n(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tp)throw tp=!1,t=M0,M0=null,t;return np&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===O0?nc++:(nc=0,O0=t):nc=0,Uo(),null}function Oa(){if(co!==null){var t=SR(np),e=lr.transition,n=Je;try{if(lr.transition=null,Je=16>t?16:t,co===null)var r=!1;else{if(t=co,co=null,np=0,Ue&6)throw Error(ne(331));var i=Ue;for(Ue|=4,fe=t.current;fe!==null;){var o=fe,s=o.child;if(fe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:ec(8,c,o)}var d=c.child;if(d!==null)d.return=c,fe=d;else for(;fe!==null;){c=fe;var h=c.sibling,y=c.return;if(L2(c),c===u){fe=null;break}if(h!==null){h.return=y,fe=h;break}fe=y}}}var _=o.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}fe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,fe=s;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ec(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,fe=x;break e}fe=o.return}}var b=t.current;for(fe=b;fe!==null;){s=fe;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,fe=T;else e:for(s=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zm(9,a)}}catch(A){wt(a,a.return,A)}if(a===s){fe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fe=N;break e}fe=a.return}}if(Ue=i,Uo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Lm,t)}catch{}r=!0}return r}finally{Je=n,lr.transition=e}}return!1}function t1(t,e,n){e=Qa(n,e),e=S2(t,e,1),t=_o(t,e,1),e=En(),t!==null&&(Ad(t,1,e),$n(t,e))}function wt(t,e,n){if(t.tag===3)t1(t,t,n);else for(;e!==null;){if(e.tag===3){t1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=Qa(n,t),t=A2(e,t,1),e=_o(e,t,1),t=En(),e!==null&&(Ad(e,1,t),$n(e,t));break}}e=e.return}}function VF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(en&n)===n&&(Ot===4||Ot===3&&(en&130023424)===en&&500>Tt()-Ow?xs(t,0):Mw|=n),$n(t,e)}function H2(t,e){e===0&&(t.mode&1?(e=Pf,Pf<<=1,!(Pf&130023424)&&(Pf=4194304)):e=1);var n=En();t=Ii(t,e),t!==null&&(Ad(t,e,n),$n(t,n))}function UF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H2(t,n)}function FF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),H2(t,n)}var W2;W2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,CF(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,ft&&e.flags&1048576&&XR(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_h(t,e),t=e.pendingProps;var i=Ka(e,vn.current);Ma(e,n),i=Iw(null,e,r,t,i,n);var o=Cw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,qh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bw(e),i.updater=Gm,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=S0(null,e,r,!0,o,n)):(e.tag=0,ft&&o&&mw(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GF(r),t=Er(r,t),i){case 0:e=T0(null,e,r,t,n);break e;case 1:e=qS(null,e,r,t,n);break e;case 11:e=GS(null,e,r,t,n);break e;case 14:e=zS(null,e,r,Er(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),T0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),qS(t,e,r,i,n);case 3:e:{if(N2(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,r2(t,e),Yh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qa(Error(ne(423)),e),e=HS(t,e,r,n,i);break e}else if(r!==i){i=Qa(Error(ne(424)),e),e=HS(t,e,r,n,i);break e}else for(Hn=xo(e.stateNode.containerInfo.firstChild),Kn=e,ft=!0,Ir=null,n=t2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ja(),r===i){e=Ci(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return i2(e),t===null&&x0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,p0(r,i)?s=null:o!==null&&p0(r,o)&&(e.flags|=32),P2(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&x0(e),null;case 13:return k2(t,e,n);case 4:return Ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),GS(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,st(Kh,r._currentValue),r._currentValue=s,o!==null)if(Lr(o.value,s)){if(o.children===i.children&&!Dn.current){e=Ci(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=hr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),zS(t,e,r,i,n);case 15:return I2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),_h(t,e),e.tag=1,Ln(r)?(t=!0,qh(e)):t=!1,Ma(e,n),T2(e,r,i),b0(e,r,i,n),S0(null,e,r,!0,t,n);case 19:return R2(t,e,n);case 22:return C2(t,e,n)}throw Error(ne(156,e.tag))};function K2(t,e){return wR(t,e)}function BF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new BF(t,e,n,r)}function jw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GF(t){if(typeof t=="function")return jw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rw)return 11;if(t===iw)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")jw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fa:return _s(n.children,i,o,e);case nw:s=8,i|=8;break;case Hv:return t=sr(12,n,e,i|2),t.elementType=Hv,t.lanes=o,t;case Wv:return t=sr(13,n,e,i),t.elementType=Wv,t.lanes=o,t;case Kv:return t=sr(19,n,e,i),t.elementType=Kv,t.lanes=o,t;case iR:return Hm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nR:s=10;break e;case rR:s=9;break e;case rw:s=11;break e;case iw:s=14;break e;case eo:s=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function _s(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Hm(t,e,n,r){return t=sr(22,t,r,e),t.elementType=iR,t.lanes=n,t.stateNode={isHidden:!1},t}function Qy(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Zy(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=My(0),this.expirationTimes=My(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=My(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vw(t,e,n,r,i,o,s,a,l){return t=new zF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bw(o),t}function qF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J2(t){if(!t)return Mo;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Ln(n))return JR(t,n,e)}return e}function Y2(t,e,n,r,i,o,s,a,l){return t=Vw(n,r,!0,t,i,o,s,a,l),t.context=J2(null),n=t.current,r=En(),i=bo(n),o=wi(r,i),o.callback=e??null,_o(n,o,i),t.current.lanes=i,Ad(t,i,r),$n(t,r),t}function Wm(t,e,n,r){var i=e.current,o=En(),s=bo(i);return n=J2(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_o(i,e,s),t!==null&&(kr(t,i,s,o),yh(t,i,s)),s}function ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uw(t,e){n1(t,e),(t=t.alternate)&&n1(t,e)}function HF(){return null}var X2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fw(t){this._internalRoot=t}Km.prototype.render=Fw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Wm(t,e,null,null)};Km.prototype.unmount=Fw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){Wm(null,t,null,null)}),e[Ai]=null}};function Km(t){this._internalRoot=t}Km.prototype.unstable_scheduleHydration=function(t){if(t){var e=CR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&NR(t)}};function Bw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r1(){}function WF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ip(s);o.call(u)}}var s=Y2(e,r,t,0,null,!1,!1,"",r1);return t._reactRootContainer=s,t[Ai]=s.current,bc(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ip(l);a.call(u)}}var l=Vw(t,0,!1,null,null,!1,!1,"",r1);return t._reactRootContainer=l,t[Ai]=l.current,bc(t.nodeType===8?t.parentNode:t),Ps(function(){Wm(e,l,n,r)}),l}function Ym(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ip(s);a.call(l)}}Wm(e,s,t,i)}else s=WF(n,e,t,i,r);return ip(s)}AR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uu(e.pendingLanes);n!==0&&(aw(e,n|1),$n(e,Tt()),!(Ue&6)&&(Za=Tt()+500,Uo()))}break;case 13:Ps(function(){var r=Ii(t,1);if(r!==null){var i=En();kr(r,t,1,i)}}),Uw(t,1)}};lw=function(t){if(t.tag===13){var e=Ii(t,134217728);if(e!==null){var n=En();kr(e,t,134217728,n)}Uw(t,134217728)}};IR=function(t){if(t.tag===13){var e=bo(t),n=Ii(t,e);if(n!==null){var r=En();kr(n,t,e,r)}Uw(t,e)}};CR=function(){return Je};PR=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};i0=function(t,e,n){switch(e){case"input":if(Xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Um(r);if(!i)throw Error(ne(90));sR(r),Xv(r,i)}}}break;case"textarea":lR(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};mR=Dw;gR=Ps;var KF={usingClientEntryPoint:!1,Events:[Cd,ga,Um,hR,pR,Dw]},Tu={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JF={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xR(t),t===null?null:t.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||HF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{Lm=Uf.inject(JF),qr=Uf}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KF;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bw(e))throw Error(ne(200));return qF(t,e,null,n)};Xn.createRoot=function(t,e){if(!Bw(t))throw Error(ne(299));var n=!1,r="",i=X2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vw(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,bc(t.nodeType===8?t.parentNode:t),new Fw(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=xR(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Ps(t)};Xn.hydrate=function(t,e,n){if(!Jm(e))throw Error(ne(200));return Ym(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!Bw(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=X2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Y2(e,null,t,1,n??null,i,!1,o,s),t[Ai]=e.current,bc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Km(e)};Xn.render=function(t,e,n){if(!Jm(e))throw Error(ne(200));return Ym(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Jm(t))throw Error(ne(40));return t._reactRootContainer?(Ps(function(){Ym(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Xn.unstable_batchedUpdates=Dw;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jm(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Ym(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function Q2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q2)}catch(t){console.error(t)}}Q2(),Qk.exports=Xn;var YF=Qk.exports,i1=YF;zv.createRoot=i1.createRoot,zv.hydrateRoot=i1.hydrateRoot;var o1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new QF;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZF=function(t){const e=Z2(t);return eM.encodeByteArray(e,!0)},op=function(t){return ZF(t).replace(/\./g,"")},tM=function(t){try{return eM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=()=>e5().__FIREBASE_DEFAULTS__,n5=()=>{if(typeof process>"u"||typeof o1>"u")return;const t=o1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tM(t[1]);return e&&JSON.parse(e)},Xm=()=>{try{return t5()||n5()||r5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nM=t=>{var e,n;return(n=(e=Xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i5=t=>{const e=nM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rM=()=>{var t;return(t=Xm())===null||t===void 0?void 0:t.config},iM=t=>{var e;return(e=Xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op(JSON.stringify(n)),op(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function l5(){var t;const e=(t=Xm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f5(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h5(){return!l5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p5(){try{return typeof indexedDB=="object"}catch{return!1}}function m5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g5,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nd.prototype.create)}}class Nd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?y5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ui(i,a,r)}}function y5(t,e){return t.replace(v5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v5=/\{\$([^}]+)}/g;function x5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(s1(o)&&s1(s)){if(!sp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _5(t,e){const n=new w5(t,e);return n.subscribe.bind(n)}class w5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ev),i.error===void 0&&(i.error=ev),i.complete===void 0&&(i.complete=ev);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ev(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S5(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T5(t){return t===os?void 0:t}function S5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const I5={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},C5=$e.INFO,P5={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},N5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=P5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gw{constructor(e){this.name=e,this._logLevel=C5,this._logHandler=N5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const k5=(t,e)=>e.some(n=>t instanceof n);let a1,l1;function R5(){return a1||(a1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M5(){return l1||(l1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oM=new WeakMap,$0=new WeakMap,sM=new WeakMap,tv=new WeakMap,zw=new WeakMap;function O5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(To(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&oM.set(n,t)}).catch(()=>{}),zw.set(e,t),e}function D5(t){if($0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$0.set(t,e)}let j0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L5(t){j0=t(j0)}function $5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nv(this),e,...n);return sM.set(r,e.sort?e.sort():[e]),To(r)}:M5().includes(t)?function(...e){return t.apply(nv(this),e),To(oM.get(this))}:function(...e){return To(t.apply(nv(this),e))}}function j5(t){return typeof t=="function"?$5(t):(t instanceof IDBTransaction&&D5(t),k5(t,R5())?new Proxy(t,j0):t)}function To(t){if(t instanceof IDBRequest)return O5(t);if(tv.has(t))return tv.get(t);const e=j5(t);return e!==t&&(tv.set(t,e),zw.set(e,t)),e}const nv=t=>zw.get(t);function V5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=To(s);return r&&s.addEventListener("upgradeneeded",l=>{r(To(s.result),l.oldVersion,l.newVersion,To(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const U5=["get","getKey","getAll","getAllKeys","count"],F5=["put","add","delete","clear"],rv=new Map;function u1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rv.get(e))return rv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=F5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U5.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return rv.set(e,o),o}L5(t=>({...t,get:(e,n,r)=>u1(e,n)||t.get(e,n,r),has:(e,n)=>!!u1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V0="@firebase/app",c1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Gw("@firebase/app"),z5="@firebase/app-compat",q5="@firebase/analytics-compat",H5="@firebase/analytics",W5="@firebase/app-check-compat",K5="@firebase/app-check",J5="@firebase/auth",Y5="@firebase/auth-compat",X5="@firebase/database",Q5="@firebase/data-connect",Z5="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",r3="@firebase/installations-compat",i3="@firebase/messaging",o3="@firebase/messaging-compat",s3="@firebase/performance",a3="@firebase/performance-compat",l3="@firebase/remote-config",u3="@firebase/remote-config-compat",c3="@firebase/storage",d3="@firebase/storage-compat",f3="@firebase/firestore",h3="@firebase/vertexai-preview",p3="@firebase/firestore-compat",m3="firebase",g3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="[DEFAULT]",y3={[V0]:"fire-core",[z5]:"fire-core-compat",[H5]:"fire-analytics",[q5]:"fire-analytics-compat",[K5]:"fire-app-check",[W5]:"fire-app-check-compat",[J5]:"fire-auth",[Y5]:"fire-auth-compat",[X5]:"fire-rtdb",[Q5]:"fire-data-connect",[Z5]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[r3]:"fire-iid-compat",[i3]:"fire-fcm",[o3]:"fire-fcm-compat",[s3]:"fire-perf",[a3]:"fire-perf-compat",[l3]:"fire-rc",[u3]:"fire-rc-compat",[c3]:"fire-gcs",[d3]:"fire-gcs-compat",[f3]:"fire-fst",[p3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[m3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,v3=new Map,F0=new Map;function d1(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(F0.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of ap.values())d1(n,t);for(const n of v3.values())d1(n,t);return!0}function qw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new Nd("app","Firebase",x3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=g3;function aM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=rM()),!n)throw So.create("no-options");const o=ap.get(i);if(o){if(sp(n,o.options)&&sp(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}const s=new A5(i);for(const l of F0.values())s.addComponent(l);const a=new _3(n,r,s);return ap.set(i,a),a}function lM(t=U0){const e=ap.get(t);if(!e&&t===U0&&rM())return aM();if(!e)throw So.create("no-app",{appName:t});return e}function Ao(t,e,n){var r;let i=(r=y3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(a.join(" "));return}el(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="firebase-heartbeat-database",b3=1,kc="firebase-heartbeat-store";let iv=null;function uM(){return iv||(iv=V5(w3,b3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),iv}async function E3(t){try{const n=(await uM()).transaction(kc),r=await n.objectStore(kc).get(cM(t));return await n.done,r}catch(e){if(e instanceof Ui)Pi.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function f1(t,e){try{const r=(await uM()).transaction(kc,"readwrite");await r.objectStore(kc).put(e,cM(t)),await r.done}catch(n){if(n instanceof Ui)Pi.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(r.message)}}}function cM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1024,S3=30*24*60*60*1e3;class A3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=h1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=S3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h1(),{heartbeatsToSend:r,unsentEntries:i}=I3(this._heartbeatsCache.heartbeats),o=op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Pi.warn(n),""}}}function h1(){return new Date().toISOString().substring(0,10)}function I3(t,e=T3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),p1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p5()?m5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p1(t){return op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){el(new Ns("platform-logger",e=>new B5(e),"PRIVATE")),el(new Ns("heartbeat",e=>new A3(e),"PRIVATE")),Ao(V0,c1,t),Ao(V0,c1,"esm2017"),Ao("fire-js","")}P3("");var N3="firebase",k3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(N3,k3,"app");var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,dM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,M,D){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return C.prototype[M].apply(R,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)R[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)R[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],M=S.g[2];var D=S.g[3],O=C+(D^I&(M^D))+R[0]+3614090360&4294967295;C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[1]+3905402710&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[2]+606105819&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[3]+3250441966&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[4]+4118548399&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[5]+1200080426&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[6]+2821735955&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[7]+4249261313&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[8]+1770035416&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[9]+2336552879&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[10]+4294925233&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[11]+2304563134&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[12]+1804603682&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[13]+4254626195&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[14]+2792965006&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[15]+1236535329&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(M^D&(I^M))+R[1]+4129170786&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[6]+3225465664&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[11]+643717713&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[0]+3921069994&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[5]+3593408605&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[10]+38016083&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[15]+3634488961&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[4]+3889429448&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[9]+568446438&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[14]+3275163606&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[3]+4107603335&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[8]+1163531501&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[13]+2850285829&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[2]+4243563512&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[7]+1735328473&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[12]+2368359562&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(I^M^D)+R[5]+4294588738&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[8]+2272392833&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[11]+1839030562&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[14]+4259657740&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[1]+2763975236&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[4]+1272893353&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[7]+4139469664&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[10]+3200236656&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[13]+681279174&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[0]+3936430074&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[3]+3572445317&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[6]+76029189&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[9]+3654602809&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[12]+3873151461&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[15]+530742520&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[2]+3299628645&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(M^(I|~D))+R[0]+4096336452&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[7]+1126891415&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[14]+2878612391&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[5]+4237533241&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[12]+1700485571&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[3]+2399980690&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[10]+4293915773&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[1]+2240044497&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[8]+1873313359&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[15]+4264355552&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[6]+2734768916&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[13]+1309151649&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[4]+4149444226&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[11]+3174756917&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[2]+718787259&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,R=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(R[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,R),M=0;break}}else for(;D<C;)if(R[M++]=S[D++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)S[I++]=this.g[C]>>>R&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],R=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;R&&D==C||(I[M]=D,R=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return v(u(-S));for(var C=[],I=1,R=0;S>=I;R++)C[R]=S/I|0,I*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return v(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),R=d,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),O=parseInt(S.substring(M,M+D),C);8>D?(D=u(Math.pow(C,D)),R=R.j(D).add(u(O))):(R=R.j(I),R=R.add(u(O)))}return R}var d=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-v(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(w(this))return"-"+v(this).toString(S);for(var C=u(Math.pow(S,6)),I=this,R="";;){var M=N(I,C).g;I=x(I,M.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,_(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=x(this,S),w(S)?-1:_(S)?0:1};function v(S){for(var C=S.g.length,I=[],R=0;R<C;R++)I[R]=~S.g[R];return new s(I,~S.h).add(h)}t.abs=function(){return w(this)?v(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0,M=0;M<=C;M++){var D=R+(this.i(M)&65535)+(S.i(M)&65535),O=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);R=O>>>16,D&=65535,O&=65535,I[M]=O<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(v(C))}t.j=function(S){if(_(this)||_(S))return d;if(w(this))return w(S)?v(this).j(v(S)):v(v(this).j(S));if(w(S))return v(this.j(v(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<S.g.length;M++){var D=this.i(R)>>>16,O=this.i(R)&65535,U=S.i(M)>>>16,B=S.i(M)&65535;I[2*R+2*M]+=O*B,b(I,2*R+2*M),I[2*R+2*M+1]+=D*B,b(I,2*R+2*M+1),I[2*R+2*M+1]+=O*U,b(I,2*R+2*M+1),I[2*R+2*M+2]+=D*U,b(I,2*R+2*M+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new s(I,0)};function b(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function T(S,C){this.g=S,this.h=C}function N(S,C){if(_(C))throw Error("division by zero");if(_(S))return new T(d,d);if(w(S))return C=N(v(S),C),new T(v(C.g),v(C.h));if(w(C))return C=N(S,v(C)),new T(v(C.g),C.h);if(30<S.g.length){if(w(S)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(S);)I=A(I),R=A(R);var M=P(I,1),D=P(R,1);for(R=P(R,2),I=P(I,2);!_(R);){var O=D.add(R);0>=O.l(S)&&(M=M.add(I),D=O),R=P(R,1),I=P(I,1)}return C=x(S,M.j(C)),new T(M,C)}for(M=d;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),O=D.j(C);w(O)||0<O.l(S);)I-=R,D=u(I),O=D.j(C);_(D)&&(D=h),M=M.add(D),S=x(S,O)}return new T(M,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&S.i(R);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|S.i(R);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^S.i(R);return new s(I,this.h^S.h)};function A(S){for(var C=S.g.length+1,I=[],R=0;R<C;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(I,S.h)}function P(S,C){var I=C>>5;C%=32;for(var R=S.g.length-I,M=[],D=0;D<R;D++)M[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ws=s}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fM,Bu,hM,Th,B0,pM,mM,gM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ff=="object"&&Ff];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var k=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var F=m[L];if(!(F in k))break e;k=k[F]}m=m[m.length-1],L=k[m],E=E(L),E!=L&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var k=0,L=!1,F={next:function(){if(!L&&k<m.length){var z=k++;return{value:E(z,m[z]),done:!1}}return L=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function c(m,E,k){return m.call.apply(m.bind,arguments)}function d(m,E,k){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,L),m.apply(E,F)}}return function(){return m.apply(E,arguments)}}function h(m,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function y(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function _(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(L,F,z){for(var oe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)oe[tt-2]=arguments[tt];return E.prototype[F].apply(L,oe)}}function w(m){const E=m.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=m[L];return k}return[]}function v(m,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const F=m.length||0,z=L.length||0;m.length=F+z;for(let oe=0;oe<z;oe++)m[F+oe]=L[oe]}else m.push(L)}}class x{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(m){return/^[\s\xa0]*$/.test(m)}function T(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(m,E,k){for(const L in m)E.call(k,m[L],L,m)}function S(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function C(m){const E={};for(const k in m)E[k]=m[k];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,E){let k,L;for(let F=1;F<arguments.length;F++){L=arguments[F];for(k in L)m[k]=L[k];for(let z=0;z<I.length;z++)k=I[z],Object.prototype.hasOwnProperty.call(L,k)&&(m[k]=L[k])}}function M(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function D(m){a.setTimeout(()=>{throw m},0)}function O(){var m=K;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class U{constructor(){this.h=this.g=null}add(E,k){const L=B.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new x(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,V=!1,K=new U,Y=()=>{const m=a.Promise.resolve(void 0);W=()=>{m.then(se)}};var se=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(k){D(k)}var E=B;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}V=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return m}();function Ne(m,E){if(ue.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(A){e:{try{N(E.nodeName);var F=!0;break e}catch{}F=!1}F||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:We[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ne.aa.h.call(this)}}_(Ne,ue);var We={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function ie(m,E,k,L,F){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=F,this.key=++Ve,this.da=this.fa=!1}function ye(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xe(m){this.src=m,this.g={},this.h=0}xe.prototype.add=function(m,E,k,L,F){var z=m.toString();m=this.g[z],m||(m=this.g[z]=[],this.h++);var oe=Le(m,E,L,F);return-1<oe?(E=m[oe],k||(E.fa=!1)):(E=new ie(E,this.src,z,!!L,F),E.fa=k,m.push(E)),E};function Q(m,E){var k=E.type;if(k in m.g){var L=m.g[k],F=Array.prototype.indexOf.call(L,E,void 0),z;(z=0<=F)&&Array.prototype.splice.call(L,F,1),z&&(ye(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Le(m,E,k,L){for(var F=0;F<m.length;++F){var z=m[F];if(!z.da&&z.listener==E&&z.capture==!!k&&z.ha==L)return F}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),et={};function X(m,E,k,L,F){if(Array.isArray(E)){for(var z=0;z<E.length;z++)X(m,E[z],k,L,F);return null}return k=Ko(k),m&&m[q]?m.K(E,k,u(L)?!!L.capture:!1,F):me(m,E,k,!1,L,F)}function me(m,E,k,L,F,z){if(!E)throw Error("Invalid event type");var oe=u(F)?!!F.capture:!!F,tt=oi(m);if(tt||(m[Ie]=tt=new xe(m)),k=tt.add(E,k,L,oe,z),k.proxy)return k;if(L=Qe(),k.proxy=L,L.src=m,L.listener=k,m.addEventListener)Ce||(F=oe),F===void 0&&(F=!1),m.addEventListener(E.toString(),L,F);else if(m.attachEvent)m.attachEvent(Nt(E.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Qe(){function m(k){return E.call(m.src,m.listener,k)}const E=Un;return m}function jt(m,E,k,L,F){if(Array.isArray(E))for(var z=0;z<E.length;z++)jt(m,E[z],k,L,F);else L=u(L)?!!L.capture:!!L,k=Ko(k),m&&m[q]?(m=m.i,E=String(E).toString(),E in m.g&&(z=m.g[E],k=Le(z,k,L,F),-1<k&&(ye(z[k]),Array.prototype.splice.call(z,k,1),z.length==0&&(delete m.g[E],m.h--)))):m&&(m=oi(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Le(E,k,L,F)),(k=-1<m?E[m]:null)&&Vn(k))}function Vn(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[q])Q(E.i,m);else{var k=m.type,L=m.proxy;E.removeEventListener?E.removeEventListener(k,L,m.capture):E.detachEvent?E.detachEvent(Nt(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=oi(E))?(Q(k,m),k.h==0&&(k.src=null,E[Ie]=null)):ye(m)}}}function Nt(m){return m in et?et[m]:et[m]="on"+m}function Un(m,E){if(m.da)m=!0;else{E=new Ne(E,this);var k=m.listener,L=m.ha||m.src;m.fa&&Vn(m),m=k.call(L,E)}return m}function oi(m){return m=m[Ie],m instanceof xe?m:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(m){return typeof m=="function"?m:(m[Hi]||(m[Hi]=function(E){return m.handleEvent(E)}),m[Hi])}function Vt(){ee.call(this),this.i=new xe(this),this.M=this,this.F=null}_(Vt,ee),Vt.prototype[q]=!0,Vt.prototype.removeEventListener=function(m,E,k,L){jt(this,m,E,k,L)};function Ht(m,E){var k,L=m.F;if(L)for(k=[];L;L=L.F)k.push(L);if(m=m.M,L=E.type||E,typeof E=="string")E=new ue(E,m);else if(E instanceof ue)E.target=E.target||m;else{var F=E;E=new ue(L,m),R(E,F)}if(F=!0,k)for(var z=k.length-1;0<=z;z--){var oe=E.g=k[z];F=Xs(oe,L,!0,E)&&F}if(oe=E.g=m,F=Xs(oe,L,!0,E)&&F,F=Xs(oe,L,!1,E)&&F,k)for(z=0;z<k.length;z++)oe=E.g=k[z],F=Xs(oe,L,!1,E)&&F}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],L=0;L<k.length;L++)ye(k[L]);delete m.g[E],m.h--}}this.F=null},Vt.prototype.K=function(m,E,k,L){return this.i.add(String(m),E,!1,k,L)},Vt.prototype.L=function(m,E,k,L){return this.i.add(String(m),E,!0,k,L)};function Xs(m,E,k,L){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var F=!0,z=0;z<E.length;++z){var oe=E[z];if(oe&&!oe.da&&oe.capture==k){var tt=oe.listener,Wt=oe.ha||oe.src;oe.fa&&Q(m.i,oe),F=tt.call(Wt,L)!==!1&&F}}return F&&!L.defaultPrevented}function ef(m,E,k){if(typeof m=="function")k&&(m=h(m,k));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(m,E||0)}function tf(m){m.g=ef(()=>{m.g=null,m.i&&(m.i=!1,tf(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class hy extends ee{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:tf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(m){ee.call(this),this.h=m,this.g={}}_(Jo,ee);var nf=[];function rf(m){P(m.g,function(E,k){this.g.hasOwnProperty(k)&&Vn(E)},m),m.g={}}Jo.prototype.N=function(){Jo.aa.N.call(this),rf(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ou=a.JSON.stringify,py=a.JSON.parse,my=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function su(){}su.prototype.h=null;function of(m){return m.h||(m.h=m.i())}function sf(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function au(){ue.call(this,"d")}_(au,ue);function lu(){ue.call(this,"c")}_(lu,ue);var si={},af=null;function Xo(){return af=af||new Vt}si.La="serverreachability";function lf(m){ue.call(this,si.La,m)}_(lf,ue);function Z(m){const E=Xo();Ht(E,new lf(E))}si.STAT_EVENT="statevent";function le(m,E){ue.call(this,si.STAT_EVENT,m),this.stat=E}_(le,ue);function ge(m){const E=Xo();Ht(E,new le(E,m))}si.Ma="timingevent";function Qo(m,E){ue.call(this,si.Ma,m),this.size=E}_(Qo,ue);function Cn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},E)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function nV(m,E,k,L,F,z){m.info(function(){if(m.g)if(z)for(var oe="",tt=z.split("&"),Wt=0;Wt<tt.length;Wt++){var Be=tt[Wt].split("=");if(1<Be.length){var sn=Be[0];Be=Be[1];var an=sn.split("_");oe=2<=an.length&&an[1]=="type"?oe+(sn+"="+Be+"&"):oe+(sn+"=redacted&")}}else oe=null;else oe=z;return"XMLHTTP REQ ("+L+") [attempt "+F+"]: "+E+`
`+k+`
`+oe})}function rV(m,E,k,L,F,z,oe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+F+"]: "+E+`
`+k+`
`+z+" "+oe})}function Qs(m,E,k,L){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+oV(m,k)+(L?" "+L:"")})}function iV(m,E){m.info(function(){return"TIMEOUT: "+E})}Wi.prototype.info=function(){};function oV(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var L=k[m];if(!(2>L.length)){var F=L[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return ou(k)}catch{return E}}var uf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gy;function cf(){}_(cf,su),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},gy=new cf;function Ki(m,E,k,L){this.j=m,this.i=E,this.l=k,this.R=L||1,this.U=new Jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fT}function fT(){this.i=null,this.g="",this.h=!1}var hT={},yy={};function vy(m,E,k){m.L=1,m.v=pf(ai(E)),m.m=k,m.P=!0,pT(m,null)}function pT(m,E){m.F=Date.now(),df(m),m.A=ai(m.v);var k=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),CT(k.i,"t",L),m.C=0,k=m.j.J,m.h=new fT,m.g=HT(m.j,k?E:null,!m.m),0<m.O&&(m.M=new hy(h(m.Y,m,m.g),m.O)),E=m.U,k=m.g,L=m.ca;var F="readystatechange";Array.isArray(F)||(F&&(nf[0]=F.toString()),F=nf);for(var z=0;z<F.length;z++){var oe=X(k,F[z],L||E.handleEvent,!1,E.h||E);if(!oe)break;E.g[oe.key]=oe}E=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Z(),nV(m.i,m.u,m.A,m.l,m.R,m.m)}Ki.prototype.ca=function(m){m=m.target;const E=this.M;E&&li(m)==3?E.j():this.Y(m)},Ki.prototype.Y=function(m){try{if(m==this.g)e:{const an=li(this.g);var E=this.g.Ba();const ta=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||DT(this.g)))){this.J||an!=4||E==7||(E==8||0>=ta?Z(3):Z(2)),xy(this);var k=this.g.Z();this.X=k;t:if(mT(this)){var L=DT(this.g);m="";var F=L.length,z=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),uu(this);var oe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<F;E++)this.h.h=!0,m+=this.h.i.decode(L[E],{stream:!(z&&E==F-1)});L.length=0,this.h.g+=m,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=k==200,rV(this.i,this.u,this.A,this.l,this.R,an,k),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Wt=this.g;if((tt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(tt)){var Be=tt;break t}}Be=null}if(k=Be)Qs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_y(this,k);else{this.o=!1,this.s=3,ge(12),Zo(this),uu(this);break e}}if(this.P){k=!0;let _r;for(;!this.J&&this.C<oe.length;)if(_r=sV(this,oe),_r==yy){an==4&&(this.s=4,ge(14),k=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==hT){this.s=4,ge(15),Qs(this.i,this.l,oe,"[Invalid Chunk]"),k=!1;break}else Qs(this.i,this.l,_r,null),_y(this,_r);if(mT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||oe.length!=0||this.h.h||(this.s=1,ge(16),k=!1),this.o=this.o&&k,!k)Qs(this.i,this.l,oe,"[Invalid Chunked Response]"),Zo(this),uu(this);else if(0<oe.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ay(sn),sn.M=!0,ge(11))}}else Qs(this.i,this.l,oe,null),_y(this,oe);an==4&&Zo(this),this.o&&!this.J&&(an==4?BT(this.j,this):(this.o=!1,df(this)))}else EV(this.g),k==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),Zo(this),uu(this)}}}catch{}finally{}};function mT(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function sV(m,E){var k=m.C,L=E.indexOf(`
`,k);return L==-1?yy:(k=Number(E.substring(k,L)),isNaN(k)?hT:(L+=1,L+k>E.length?yy:(E=E.slice(L,L+k),m.C=L+k,E)))}Ki.prototype.cancel=function(){this.J=!0,Zo(this)};function df(m){m.S=Date.now()+m.I,gT(m,m.I)}function gT(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Cn(h(m.ba,m),E)}function xy(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Ki.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(iV(this.i,this.A),this.L!=2&&(Z(),ge(17)),Zo(this),this.s=2,uu(this)):gT(this,this.S-m)};function uu(m){m.j.G==0||m.J||BT(m.j,m)}function Zo(m){xy(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,rf(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function _y(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||wy(k.h,m))){if(!m.K&&wy(k.h,m)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var F=L;if(F[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)_f(k),vf(k);else break e;Sy(k),ge(18)}}else k.za=F[1],0<k.za-k.T&&37500>F[2]&&k.F&&k.v==0&&!k.C&&(k.C=Cn(h(k.Za,k),6e3));if(1>=xT(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ts(k,11)}else if((m.K||k.g==m)&&_f(k),!b(E))for(F=k.Da.g.parse(E),E=0;E<F.length;E++){let Be=F[E];if(k.T=Be[0],Be=Be[1],k.G==2)if(Be[0]=="c"){k.K=Be[1],k.ia=Be[2];const sn=Be[3];sn!=null&&(k.la=sn,k.j.info("VER="+k.la));const an=Be[4];an!=null&&(k.Aa=an,k.j.info("SVER="+k.Aa));const ta=Be[5];ta!=null&&typeof ta=="number"&&0<ta&&(L=1.5*ta,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const _r=m.g;if(_r){const bf=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bf){var z=L.h;z.g||bf.indexOf("spdy")==-1&&bf.indexOf("quic")==-1&&bf.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(by(z,z.h),z.h=null))}if(L.D){const Iy=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Iy&&(L.ya=Iy,at(L.I,L.D,Iy))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var oe=m;if(L.qa=qT(L,L.J?L.ia:null,L.W),oe.K){_T(L.h,oe);var tt=oe,Wt=L.L;Wt&&(tt.I=Wt),tt.B&&(xy(tt),df(tt)),L.g=oe}else UT(L);0<k.i.length&&xf(k)}else Be[0]!="stop"&&Be[0]!="close"||ts(k,7);else k.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?ts(k,7):Ty(k):Be[0]!="noop"&&k.l&&k.l.ta(Be),k.v=0)}}Z(4)}catch{}}var aV=class{constructor(m,E){this.g=m,this.map=E}};function yT(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function xT(m){return m.h?1:m.g?m.g.size:0}function wy(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function by(m,E){m.g?m.g.add(E):m.h=E}function _T(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}yT.prototype.cancel=function(){if(this.i=wT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return w(m.i)}function lV(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var E=[],k=m.length,L=0;L<k;L++)E.push(m[L]);return E}E=[],k=0;for(L in m)E[k++]=m[L];return E}function uV(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const L in m)E[k++]=L;return E}}}function bT(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=uV(m),L=lV(m),F=L.length,z=0;z<F;z++)E.call(void 0,L[z],k&&k[z],m)}var ET=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cV(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var L=m[k].indexOf("="),F=null;if(0<=L){var z=m[k].substring(0,L);F=m[k].substring(L+1)}else z=m[k];E(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function es(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof es){this.h=m.h,ff(this,m.j),this.o=m.o,this.g=m.g,hf(this,m.s),this.l=m.l;var E=m.i,k=new fu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),TT(this,k),this.m=m.m}else m&&(E=String(m).match(ET))?(this.h=!1,ff(this,E[1]||"",!0),this.o=cu(E[2]||""),this.g=cu(E[3]||"",!0),hf(this,E[4]),this.l=cu(E[5]||"",!0),TT(this,E[6]||"",!0),this.m=cu(E[7]||"")):(this.h=!1,this.i=new fu(null,this.h))}es.prototype.toString=function(){var m=[],E=this.j;E&&m.push(du(E,ST,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(du(E,ST,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(du(k,k.charAt(0)=="/"?hV:fV,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",du(k,mV)),m.join("")};function ai(m){return new es(m)}function ff(m,E,k){m.j=k?cu(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function hf(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function TT(m,E,k){E instanceof fu?(m.i=E,gV(m.i,m.h)):(k||(E=du(E,pV)),m.i=new fu(E,m.h))}function at(m,E,k){m.i.set(E,k)}function pf(m){return at(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function cu(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function du(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,dV),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function dV(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ST=/[#\/\?@]/g,fV=/[#\?:]/g,hV=/[#\?]/g,pV=/[#\?@]/g,mV=/#/g;function fu(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Ji(m){m.g||(m.g=new Map,m.h=0,m.i&&cV(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=fu.prototype,t.add=function(m,E){Ji(this),this.i=null,m=Zs(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function AT(m,E){Ji(m),E=Zs(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function IT(m,E){return Ji(m),E=Zs(m,E),m.g.has(E)}t.forEach=function(m,E){Ji(this),this.g.forEach(function(k,L){k.forEach(function(F){m.call(E,F,L,this)},this)},this)},t.na=function(){Ji(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const F=m[L];for(let z=0;z<F.length;z++)k.push(E[L])}return k},t.V=function(m){Ji(this);let E=[];if(typeof m=="string")IT(this,m)&&(E=E.concat(this.g.get(Zs(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},t.set=function(m,E){return Ji(this),this.i=null,m=Zs(this,m),IT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function CT(m,E,k){AT(m,E),0<k.length&&(m.i=null,m.g.set(Zs(m,E),w(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const z=encodeURIComponent(String(L)),oe=this.V(L);for(L=0;L<oe.length;L++){var F=z;oe[L]!==""&&(F+="="+encodeURIComponent(String(oe[L]))),m.push(F)}}return this.i=m.join("&")};function Zs(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function gV(m,E){E&&!m.j&&(Ji(m),m.i=null,m.g.forEach(function(k,L){var F=L.toLowerCase();L!=F&&(AT(this,L),CT(this,F,k))},m)),m.j=E}function yV(m,E){const k=new Wi;if(a.Image){const L=new Image;L.onload=y(Yi,k,"TestLoadImage: loaded",!0,E,L),L.onerror=y(Yi,k,"TestLoadImage: error",!1,E,L),L.onabort=y(Yi,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=y(Yi,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else E(!1)}function vV(m,E){const k=new Wi,L=new AbortController,F=setTimeout(()=>{L.abort(),Yi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:L.signal}).then(z=>{clearTimeout(F),z.ok?Yi(k,"TestPingServer: ok",!0,E):Yi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(F),Yi(k,"TestPingServer: error",!1,E)})}function Yi(m,E,k,L,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),L(k)}catch{}}function xV(){this.g=new my}function _V(m,E,k){const L=k||"";try{bT(m,function(F,z){let oe=F;u(F)&&(oe=ou(F)),E.push(L+z+"="+encodeURIComponent(oe))})}catch(F){throw E.push(L+"type="+encodeURIComponent("_badmap")),F}}function mf(m){this.l=m.Ub||null,this.j=m.eb||!1}_(mf,su),mf.prototype.g=function(){return new gf(this.l,this.j)},mf.prototype.i=function(m){return function(){return m}}({});function gf(m,E){Vt.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(gf,Vt),t=gf.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,pu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;PT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function PT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?hu(this):pu(this),this.readyState==3&&PT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,hu(this))},t.Qa=function(m){this.g&&(this.response=m,hu(this))},t.ga=function(){this.g&&hu(this)};function hu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,pu(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function pu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function NT(m){let E="";return P(m,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function Ey(m,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=NT(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):at(m,E,k))}function _t(m){Vt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(_t,Vt);var wV=/^https?$/i,bV=["POST","PUT"];t=_t.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gy.g(),this.v=this.o?of(this.o):of(gy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(z){kT(this,z);return}if(m=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var F in L)k.set(F,L[F]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const z of L.keys())k.set(z,L.get(z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bV,E,void 0))||L||F||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,oe]of k)this.g.setRequestHeader(z,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OT(this),this.u=!0,this.g.send(m),this.u=!1}catch(z){kT(this,z)}};function kT(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,RT(m),yf(m)}function RT(m){m.A||(m.A=!0,Ht(m,"complete"),Ht(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ht(this,"complete"),Ht(this,"abort"),yf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yf(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?MT(this):this.bb())},t.bb=function(){MT(this)};function MT(m){if(m.h&&typeof s<"u"&&(!m.v[1]||li(m)!=4||m.Z()!=2)){if(m.u&&li(m)==4)ef(m.Ea,0,m);else if(Ht(m,"readystatechange"),li(m)==4){m.h=!1;try{const oe=m.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=oe===0){var F=String(m.D).match(ET)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),L=!wV.test(F?F.toLowerCase():"")}k=L}if(k)Ht(m,"complete"),Ht(m,"success");else{m.m=6;try{var z=2<li(m)?m.g.statusText:""}catch{z=""}m.l=z+" ["+m.Z()+"]",RT(m)}}finally{yf(m)}}}}function yf(m,E){if(m.g){OT(m);const k=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Ht(m,"ready");try{k.onreadystatechange=L}catch{}}}function OT(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function li(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),py(E)}};function DT(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function EV(m){const E={};m=(m.g&&2<=li(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(b(m[L]))continue;var k=M(m[L]);const F=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const z=E[F]||[];E[F]=z,z.push(k)}S(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mu(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function LT(m){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mu("baseRetryDelayMs",5e3,m),this.cb=mu("retryDelaySeedMs",1e4,m),this.Wa=mu("forwardChannelMaxRetries",2,m),this.wa=mu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new yT(m&&m.concurrentRequestLimit),this.Da=new xV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LT.prototype,t.la=8,t.G=1,t.connect=function(m,E,k,L){ge(0),this.W=m,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=qT(this,null,this.W),xf(this)};function Ty(m){if($T(m),m.G==3){var E=m.U++,k=ai(m.I);if(at(k,"SID",m.K),at(k,"RID",E),at(k,"TYPE","terminate"),gu(m,k),E=new Ki(m,m.j,E),E.L=2,E.v=pf(ai(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=HT(E.j,null),E.g.ea(E.v)),E.F=Date.now(),df(E)}zT(m)}function vf(m){m.g&&(Ay(m),m.g.cancel(),m.g=null)}function $T(m){vf(m),m.u&&(a.clearTimeout(m.u),m.u=null),_f(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function xf(m){if(!vT(m.h)&&!m.s){m.s=!0;var E=m.Ga;W||Y(),V||(W(),V=!0),K.add(E,m),m.B=0}}function TV(m,E){return xT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Cn(h(m.Ga,m,E),GT(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const F=new Ki(this,this.j,m);let z=this.o;if(this.S&&(z?(z=C(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=VT(this,F,E),k=ai(this.I),at(k,"RID",m),at(k,"CVER",22),this.D&&at(k,"X-HTTP-Session-Id",this.D),gu(this,k),z&&(this.O?E="headers="+encodeURIComponent(String(NT(z)))+"&"+E:this.m&&Ey(k,this.m,z)),by(this.h,F),this.Ua&&at(k,"TYPE","init"),this.P?(at(k,"$req",E),at(k,"SID","null"),F.T=!0,vy(F,k,null)):vy(F,k,E),this.G=2}}else this.G==3&&(m?jT(this,m):this.i.length==0||vT(this.h)||jT(this))};function jT(m,E){var k;E?k=E.l:k=m.U++;const L=ai(m.I);at(L,"SID",m.K),at(L,"RID",k),at(L,"AID",m.T),gu(m,L),m.m&&m.o&&Ey(L,m.m,m.o),k=new Ki(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=VT(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),by(m.h,k),vy(k,L,E)}function gu(m,E){m.H&&P(m.H,function(k,L){at(E,L,k)}),m.l&&bT({},function(k,L){at(E,L,k)})}function VT(m,E,k){k=Math.min(m.i.length,k);var L=m.l?h(m.l.Na,m.l,m):null;e:{var F=m.i;let z=-1;for(;;){const oe=["count="+k];z==-1?0<k?(z=F[0].g,oe.push("ofs="+z)):z=0:oe.push("ofs="+z);let tt=!0;for(let Wt=0;Wt<k;Wt++){let Be=F[Wt].g;const sn=F[Wt].map;if(Be-=z,0>Be)z=Math.max(0,F[Wt].g-100),tt=!1;else try{_V(sn,oe,"req"+Be+"_")}catch{L&&L(sn)}}if(tt){L=oe.join("&");break e}}}return m=m.i.splice(0,k),E.D=m,L}function UT(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;W||Y(),V||(W(),V=!0),K.add(E,m),m.v=0}}function Sy(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Cn(h(m.Fa,m),GT(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,FT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Cn(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),vf(this),FT(this))};function Ay(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function FT(m){m.g=new Ki(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=ai(m.qa);at(E,"RID","rpc"),at(E,"SID",m.K),at(E,"AID",m.T),at(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&at(E,"TO",m.ja),at(E,"TYPE","xmlhttp"),gu(m,E),m.m&&m.o&&Ey(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=pf(ai(E)),k.m=null,k.P=!0,pT(k,m)}t.Za=function(){this.C!=null&&(this.C=null,vf(this),Sy(this),ge(19))};function _f(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function BT(m,E){var k=null;if(m.g==E){_f(m),Ay(m),m.g=null;var L=2}else if(wy(m.h,E))k=E.D,_T(m.h,E),L=1;else return;if(m.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var F=m.B;L=Xo(),Ht(L,new Qo(L,k)),xf(m)}else UT(m);else if(F=E.s,F==3||F==0&&0<E.X||!(L==1&&TV(m,E)||L==2&&Sy(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),F){case 1:ts(m,5);break;case 4:ts(m,10);break;case 3:ts(m,6);break;default:ts(m,2)}}}function GT(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function ts(m,E){if(m.j.info("Error code "+E),E==2){var k=h(m.fb,m),L=m.Xa;const F=!L;L=new es(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ff(L,"https"),pf(L),F?yV(L.toString(),k):vV(L.toString(),k)}else ge(2);m.G=0,m.l&&m.l.sa(E),zT(m),$T(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function zT(m){if(m.G=0,m.ka=[],m.l){const E=wT(m.h);(E.length!=0||m.i.length!=0)&&(v(m.ka,E),v(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function qT(m,E,k){var L=k instanceof es?ai(k):new es(k);if(L.g!="")E&&(L.g=E+"."+L.g),hf(L,L.s);else{var F=a.location;L=F.protocol,E=E?E+"."+F.hostname:F.hostname,F=+F.port;var z=new es(null);L&&ff(z,L),E&&(z.g=E),F&&hf(z,F),k&&(z.l=k),L=z}return k=m.D,E=m.ya,k&&E&&at(L,k,E),at(L,"VER",m.la),gu(m,L),L}function HT(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new _t(new mf({eb:k})):new _t(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WT(){}t=WT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wf(){}wf.prototype.g=function(m,E){return new Fn(m,E)};function Fn(m,E){Vt.call(this),this.g=new LT(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!b(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new ea(this)}_(Fn,Vt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Ty(this.g)},Fn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=ou(m),m=k);E.i.push(new aV(E.Ya++,m)),E.G==3&&xf(E)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Ty(this.g),delete this.g,Fn.aa.N.call(this)};function KT(m){au.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}_(KT,au);function JT(){lu.call(this),this.status=1}_(JT,lu);function ea(m){this.g=m}_(ea,WT),ea.prototype.ua=function(){Ht(this.g,"a")},ea.prototype.ta=function(m){Ht(this.g,new KT(m))},ea.prototype.sa=function(m){Ht(this.g,new JT)},ea.prototype.ra=function(){Ht(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,gM=function(){return new wf},mM=function(){return Xo()},pM=si,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uf.NO_ERROR=0,uf.TIMEOUT=8,uf.HTTP_ERROR=6,Th=uf,dT.COMPLETE="complete",hM=dT,sf.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Bu=sf,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,fM=_t}).apply(typeof Ff<"u"?Ff:typeof self<"u"?self:typeof window<"u"?window:{});const g1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Gw("@firebase/firestore");function Su(){return ks.logLevel}function ve(t,...e){if(ks.logLevel<=$e.DEBUG){const n=e.map(Hw);ks.debug(`Firestore (${jl}): ${t}`,...n)}}function Ni(t,...e){if(ks.logLevel<=$e.ERROR){const n=e.map(Hw);ks.error(`Firestore (${jl}): ${t}`,...n)}}function tl(t,...e){if(ks.logLevel<=$e.WARN){const n=e.map(Hw);ks.warn(`Firestore (${jl}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+t;throw Ni(e),new Error(e)}function Ye(t,e){t||Ee()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class M3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O3{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Io,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Io)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new yM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new fn(e)}}class D3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class L3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new D3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new $3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=V3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Lt(0,0))}static max(){return new Se(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends Rc{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const U3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Rc{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return U3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}function F3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Oo(i,_e.empty(),e)}function B3(t){return new Oo(t.readTime,t.key,-1)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(Se.min(),_e.empty(),-1)}static max(){return new Oo(Se.max(),_e.empty(),-1)}}function G3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==z3)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function H3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Md(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ww.oe=-1;function Qm(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function W3(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v1(this.data.getIterator())}getIteratorFrom(e){return new v1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class v1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new tn(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _M("Invalid base64 string: "+o):o}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const K3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=K3.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kw(t){const e=t.mapValue.fields.__previous_value__;return Zm(e)?Kw(e):e}function Mc(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={mapValue:{}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zm(t)?4:X3(t)?9007199254740991:Y3(t)?10:11:Ee()}function Zr(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rs(i.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Et(i.doubleValue),a=Et(o.doubleValue);return s===a?lp(s)===lp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(y1(s)!==y1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Zr(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Dc(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Et(o.integerValue||o.doubleValue),l=Et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return x1(t.timestampValue,e.timestampValue);case 4:return x1(Mc(t),Mc(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Rs(o),l=Rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ge(a[u],l[u]);if(c!==0)return c}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ge(Et(o.latitude),Et(s.latitude));return a!==0?a:Ge(Et(o.longitude),Et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,_=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=Ge(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:_1(y,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gf.mapValue&&s===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(s===Gf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ge(l[d],c[d]);if(h!==0)return h;const y=rl(a[l[d]],u[c[d]]);if(y!==0)return y}return Ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function x1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Do(t),r=Do(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function _1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=rl(n[i],r[i]);if(o)return o}return Ge(n.length,r.length)}function il(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=G0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${G0(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function up(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z0(t){return!!t&&"integerValue"in t}function Jw(t){return!!t&&"arrayValue"in t}function w1(t){return!!t&&"nullValue"in t}function b1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function Y3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=rc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(rc(this.value))}}function wM(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new Qt([n]);if(Sh(r)){const o=wM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Se.min(),Se.min(),Se.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,Se.min(),Se.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Se.min(),Se.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.position=e,this.inclusive=n}}function E1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(s.referenceValue),n.key):r=rl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function T1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bM=class{};class Ct extends bM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eB(e,n,r):n==="array-contains"?new rB(e,r):n==="in"?new iB(e,r):n==="not-in"?new oB(e,r):n==="array-contains-any"?new sB(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tB(e,r):new nB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rl(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends bM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $r(e,n)}matches(e){return EM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EM(t){return t.op==="and"}function TM(t){return Z3(t)&&EM(t)}function Z3(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function q0(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+il(t.value);if(TM(t))return t.filters.map(e=>q0(e)).join(",");{const e=t.filters.map(n=>q0(n)).join(",");return`${t.op}(${e})`}}function SM(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&SM(s,i.filters[a]),!0):!1}(t,e):void Ee()}function AM(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(AM).join(" ,")+"}"}(t):"Filter"}class eB extends Ct{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class tB extends Ct{constructor(e,n){super(e,"in",n),this.keys=IM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nB extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=IM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class rB extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jw(n)&&Dc(n.arrayValue,this.value)}}class iB extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}}class oB extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dc(this.value.arrayValue,n)}}class sB extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function S1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new aB(t,e,n,r,i,o,s)}function Yw(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.ue=n}return e.ue}function Xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T1(t.startAt,e.startAt)&&T1(t.endAt,e.endAt)}function H0(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lB(t,e,n,r,i,o,s,a){return new zs(t,e,n,r,i,o,s,a)}function Qw(t){return new zs(t)}function A1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zw(t){return t.collectionGroup!==null}function Da(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tn(Qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Lc(o,r))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new Lc(Qt.keyField(),r))}return e.ce}function Wr(t){const e=Ae(t);return e.le||(e.le=uB(e,Da(t))),e.le}function uB(t,e){if(t.limitType==="F")return S1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Lc(i.field,o)});const n=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;return S1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){const n=t.filters.concat([e]);return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cp(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eg(t,e){return Xw(Wr(t),Wr(e))&&t.limitType===e.limitType}function CM(t){return`${Yw(Wr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AM(i)).join(", ")}]`),Qm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function tg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Da(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=E1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Da(r),i)||r.endAt&&!function(s,a,l){const u=E1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Da(r),i))}(t,e)}function cB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PM(t){return(e,n)=>{let r=!1;for(const i of Da(t)){const o=dB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dB(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?rl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return xM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new xt(_e.comparator);function ki(){return fB}const NM=new xt(_e.comparator);function Gu(...t){let e=NM;for(const n of t)e=e.insert(n.key,n);return e}function kM(t){let e=NM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return ic()}function RM(){return ic()}function ic(){return new Vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const hB=new xt(_e.comparator),pB=new tn(_e.comparator);function Oe(...t){let e=pB;for(const n of t)e=e.add(n);return e}const mB=new tn(Ge);function gB(){return mB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function MM(t){return{integerValue:""+t}}function yB(t,e){return W3(e)?MM(e):eb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this._=void 0}}function vB(t,e,n){return t instanceof dp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Zm(o)&&(o=Kw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof $c?DM(t,e):t instanceof jc?LM(t,e):function(i,o){const s=OM(i,o),a=I1(s)+I1(i.Pe);return z0(s)&&z0(i.Pe)?MM(a):eb(i.serializer,a)}(t,e)}function xB(t,e,n){return t instanceof $c?DM(t,e):t instanceof jc?LM(t,e):n}function OM(t,e){return t instanceof fp?function(r){return z0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dp extends ng{}class $c extends ng{constructor(e){super(),this.elements=e}}function DM(t,e){const n=$M(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends ng{constructor(e){super(),this.elements=e}}function LM(t,e){let n=$M(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class fp extends ng{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function I1(t){return Et(t.integerValue||t.doubleValue)}function $M(t){return Jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _B(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $c&&i instanceof $c||r instanceof jc&&i instanceof jc?nl(r.elements,i.elements,Zr):r instanceof fp&&i instanceof fp?Zr(r.Pe,i.Pe):r instanceof dp&&i instanceof dp}(t.transform,e.transform)}class wB{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rg{}function jM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tb(t.key,ur.none()):new Od(t.key,t.data,ur.none());{const n=t.data,r=Rn.empty();let i=new tn(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new Wn(i.toArray()),ur.none())}}function bB(t,e,n){t instanceof Od?function(i,o,s){const a=i.value.clone(),l=P1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!Ah(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=P1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(VM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oc(t,e,n,r){return t instanceof Od?function(o,s,a,l){if(!Ah(o.precondition,s))return a;const u=o.value.clone(),c=N1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,a,l){if(!Ah(o.precondition,s))return a;const u=N1(o.fieldTransforms,l,s),c=s.data;return c.setAll(VM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ah(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function EB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=OM(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function C1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(o,s)=>_B(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Od extends rg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends rg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P1(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xB(s,a,n[i]))}return r}function N1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,vB(o,s,e))}return r}class tb extends rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TB extends rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=jM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>C1(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>C1(n,r))}}class nb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return hB}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new nb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function CB(t){switch(t){default:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function UM(t){if(t===void 0)return Ni("GRPC error has no .code"),J.UNKNOWN;switch(t){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new ws([4294967295,4294967295],0);function k1(t){const e=PB().encode(t),n=new dM;return n.update(e),new Uint8Array(n.digest())}function R1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,o],0)]}class rb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zu(`Invalid padding: ${n}`);if(r<0)throw new zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ws.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(NB)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=k1(e),[r,i]=R1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rb(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=k1(e),[r,i]=R1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ig(Se.min(),i,new xt(Ge),ki(),Oe())}}class Dd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dd(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FM{constructor(e,n){this.targetId=e,this.me=n}}class BM{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class M1{constructor(){this.fe=0,this.ge=D1(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Dd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=D1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kB{constructor(e){this.Le=e,this.Be=new Map,this.ke=ki(),this.qe=O1(),this.Qe=new xt(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(H0(o))if(r===0){const s=new _e(o.path);this.Ue(n,s,pn.newNoDocument(s,Se.min()))}else Ye(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Rs(r).toUint8Array()}catch(l){if(l instanceof _M)return tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rb(s,i,o)}catch(l){return tl(l instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&H0(a.target)){const l=new _e(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,pn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Oe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ig(e,n,this.Qe,this.ke,r);return this.ke=ki(),this.qe=O1(),this.Qe=new xt(Ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new M1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function O1(){return new xt(_e.comparator)}function D1(){return new xt(_e.comparator)}const RB={asc:"ASCENDING",desc:"DESCENDING"},MB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OB={and:"AND",or:"OR"};class DB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K0(t,e){return t.useProto3Json||Qm(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LB(t,e){return hp(t,e.toTimestamp())}function Kr(t){return Ye(!!t),Se.fromTimestamp(function(n){const r=Do(n);return new Lt(r.seconds,r.nanos)}(t))}function ib(t,e){return J0(t,e).canonicalString()}function J0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zM(t){const e=ot.fromString(t);return Ye(JM(e)),e}function Y0(t,e){return ib(t.databaseId,e.path)}function ov(t,e){const n=zM(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(HM(n))}function qM(t,e){return ib(t.databaseId,e)}function $B(t){const e=zM(t);return e.length===4?ot.emptyPath():HM(e)}function X0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HM(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L1(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function jB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ye(c===void 0||typeof c=="string"),on.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Buffer||c instanceof Uint8Array),on.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:UM(u.code);return new ce(c,u.message||"")}(s);n=new BM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ov(t,r.document.name),o=Kr(r.document.updateTime),s=r.document.createTime?Kr(r.document.createTime):Se.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ih(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ov(t,r.document),o=r.readTime?Kr(r.readTime):Se.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ih([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ov(t,r.document),o=r.removedTargetIds||[];n=new Ih([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new IB(i,o),a=r.targetId;n=new FM(a,s)}}return n}function VB(t,e){let n;if(e instanceof Od)n={update:L1(t,e.key,e.value)};else if(e instanceof tb)n={delete:Y0(t,e.key)};else if(e instanceof Fo)n={update:L1(t,e.key,e.data),updateMask:KB(e.fieldMask)};else{if(!(e instanceof TB))return Ee();n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof dp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function UB(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kr(i.updateTime):Kr(o);return s.isEqual(Se.min())&&(s=Kr(o)),new wB(s,i.transformResults||[])}(n,e))):[]}function FB(t,e){return{documents:[qM(t,e.path)]}}function BB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qM(t,i);const o=function(u){if(u.length!==0)return KM($r.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:la(h.field),direction:qB(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=K0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function GB(t){let e=$B(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=WM(d);return h instanceof $r&&TM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(_){return new Lc(ua(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Qm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,y=d.values||[];return new ol(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,y=d.values||[];return new ol(y,h)}(n.endAt)),lB(e,i,s,o,a,"F",l,u)}function zB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ua(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>WM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function qB(t){return RB[t]}function HB(t){return MB[t]}function WB(t){return OB[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Qt.fromServerFormat(t.fieldPath)}function KM(t){return t instanceof Ct?function(n){if(n.op==="=="){if(b1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(w1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(w1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:HB(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(i=>KM(i));return r.length===1?r[0]:{compositeFilter:{op:WB(n.op),filters:r}}}(t):Ee()}function KB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,i,o=Se.min(),s=Se.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.ct=e}}function YB(t){const e=GB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.un=new QB}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Oo.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class QB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sl(0)}static kn(){return new sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.changes=new Vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oc(r.mutation,i,Wn.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ki();const s=ic(),a=function(){return ic()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),oc(c.mutation,u,c.mutation.getFieldMask(),Lt.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new e6(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ic();let i=new xt((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=RM();c.forEach(h=>{if(!o.has(h)){const y=jM(n.get(h),r.get(h));y!==null&&d.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(hs());let a=-1,l=o;return s.next(u=>te.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?te.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:kM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Gu();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const u=function(d,h){return new zs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,pn.newInvalidDocument(c)))});let a=Gu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&oc(c.mutation,u,Wn.empty(),Lt.now()),tg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YB(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.overlays=new xt(_e.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=hs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=hs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AB(n,r));let o=this.Ir.get(n);o===void 0&&(o=Oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Tr=new tn(Ut.Er),this.dr=new tn(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new _e(new ot([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new ot([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Oe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Ut.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new SB(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ge);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new _e(o),0);let a=new tn(Ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),te.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Mr=e,this.docs=function(){return new xt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ki();const s=n.path,a=new _e(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||G3(B3(c),r)<=0||(i.has(c.key)||tg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new a6(this)}getSize(e){return te.resolve(this.size)}}class a6 extends ZB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.persistence=e,this.Nr=new Vl(n=>Yw(n),Xw),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ob,this.targetCount=0,this.kr=sl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ww(0),this.Kr=!1,this.Kr=!0,this.$r=new i6,this.referenceDelegate=e(this),this.Ur=new l6(this),this.indexManager=new XB,this.remoteDocumentCache=function(i){return new s6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new JB(n),this.Gr=new n6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new o6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new c6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class c6 extends q3{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Jr=new ob,this.Yr=null}static Zr(e){return new sb(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=_e.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ab(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return h5()?8:H3(xn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new d6;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Su()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Su()<=$e.DEBUG&&ve("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Su()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):te.resolve())}Yi(e,n){if(A1(n))return te.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cp(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Oe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,cp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return A1(n)||i.isEqual(Se.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?te.resolve(null):(Su()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.rs(e,s,n,F3(i,-1)).next(a=>a))})}ts(e,n){let r=new tn(PM(e));return n.forEach((i,o)=>{tg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Su()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new xt(Ge),this._s=new Vl(o=>Yw(o),Xw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function p6(t,e,n,r){return new h6(t,e,n,r)}async function YM(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function m6(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let y=te.resolve();return h.forEach(_=>{y=y.next(()=>c.getEntry(l,_)).next(w=>{const v=u.docVersions.get(_);Ye(v!==null),w.version.compareTo(v)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XM(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function g6(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(on.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(w,v,x){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=ki(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(y6(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Se.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function y6(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ki();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function v6(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x6(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ho(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Q0(t,e,n){const r=Ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Md(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $1(t,e,n){const r=Ae(t);let i=Se.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ae(l),h=d._s.get(c);return h!==void 0?te.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Se.min(),n?o:Oe())).next(a=>(_6(r,cB(e),a),{documents:a,Ts:o})))}function _6(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class j1{constructor(){this.activeTargetIds=gB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w6{constructor(){this.so=new j1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new j1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function sv(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class S6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=sv(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw tl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=E6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=sv();return new Promise((s,a)=>{const l=new fM;l.setWithCredentials(!0),l.listenOnce(hM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Th.NO_ERROR:const c=l.getResponseJson();ve(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Th.TIMEOUT:ve(cn,`RPC '${e}' ${o} timed out`),a(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const d=l.getStatus();if(ve(cn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const _=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(y.status);a(new ce(_,y.message))}else a(new ce(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ve(cn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(cn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=sv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gM(),a=mM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ve(cn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,y=!1;const _=new T6({Io:v=>{y?ve(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ve(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ve(cn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),w=(v,x,b)=>{v.listen(x,T=>{try{b(T)}catch(N){setTimeout(()=>{throw N},0)}})};return w(d,Bu.EventType.OPEN,()=>{y||(ve(cn,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),w(d,Bu.EventType.CLOSE,()=>{y||(y=!0,ve(cn,`RPC '${e}' stream ${i} transport closed`),_.So())}),w(d,Bu.EventType.ERROR,v=>{y||(y=!0,tl(cn,`RPC '${e}' stream ${i} transport errored:`,v),_.So(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),w(d,Bu.EventType.MESSAGE,v=>{var x;if(!y){const b=v.data[0];Ye(!!b);const T=b,N=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(N){ve(cn,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(I){const R=St[I];if(R!==void 0)return UM(R)}(A),S=N.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),y=!0,_.So(new ce(P,S)),d.close()}else ve(cn,`RPC '${e}' stream ${i} received:`,b),_.bo(b)}}),w(a,pM.STAT_EVENT,v=>{v.stat===B0.PROXY?ve(cn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===B0.NOPROXY&&ve(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){return new DB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A6 extends ZM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=jB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?Kr(s.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=X0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=H0(l)?{documents:FB(o,l)}:{query:BB(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=GM(o,s.resumeToken);const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Se.min())>0){a.readTime=hp(o,s.snapshotVersion.toTimestamp());const u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=zB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.a_(n)}}class I6 extends ZM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UB(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=X0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,J0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,J0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class P6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ni(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{qs(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.L_.add(4),await Ld(u),u.q_.set("Unknown"),u.L_.delete(4),await sg(u)}(this))})}),this.q_=new P6(r,i)}}async function sg(t){if(qs(t))for(const e of t.B_)await e(!0)}async function Ld(t){for(const e of t.B_)await e(!1)}function eO(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),db(n)?cb(n):Ul(n).r_()&&ub(n,e))}function lb(t,e){const n=Ae(t),r=Ul(n);n.N_.delete(e),r.r_()&&tO(n,e),n.N_.size===0&&(r.r_()?r.o_():qs(n)&&n.q_.set("Unknown"))}function ub(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).A_(e)}function tO(t,e){t.Q_.xe(e),Ul(t).R_(e)}function cb(t){t.Q_=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.q_.v_()}function db(t){return qs(t)&&!Ul(t).n_()&&t.N_.size>0}function qs(t){return Ae(t).L_.size===0}function nO(t){t.Q_=void 0}async function k6(t){t.q_.set("Online")}async function R6(t){t.N_.forEach((e,n)=>{ub(t,e)})}async function M6(t,e){nO(t),db(t)?(t.q_.M_(e),cb(t)):t.q_.set("Unknown")}async function O6(t,e,n){if(t.q_.set("Online"),e instanceof BM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof Ih?t.Q_.Ke(e):e instanceof FM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await XM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(on.EMPTY_BYTE_STRING,c.snapshotVersion)),tO(o,l);const d=new ho(c.target,l,u,c.sequenceNumber);ub(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Md(e))throw e;t.L_.add(1),await Ld(t),t.q_.set("Offline"),n||(n=()=>XM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await sg(t)})}function rO(t,e){return e().catch(n=>pp(t,n,e))}async function ag(t){const e=Ae(t),n=Lo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;D6(e);)try{const i=await v6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,L6(e,i)}catch(i){await pp(e,i)}iO(e)&&oO(e)}function D6(t){return qs(t)&&t.O_.length<10}function L6(t,e){t.O_.push(e);const n=Lo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function iO(t){return qs(t)&&!Lo(t).n_()&&t.O_.length>0}function oO(t){Lo(t).start()}async function $6(t){Lo(t).p_()}async function j6(t){const e=Lo(t);for(const n of t.O_)e.m_(n.mutations)}async function V6(t,e,n){const r=t.O_.shift(),i=nb.from(r,e,n);await rO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ag(t)}async function U6(t,e){e&&Lo(t).V_&&await async function(r,i){if(function(s){return CB(s)&&s!==J.ABORTED}(i.code)){const o=r.O_.shift();Lo(r).s_(),await rO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ag(r)}}(t,e),iO(t)&&oO(t)}async function U1(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=qs(n);n.L_.add(3),await Ld(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await sg(n)}async function F6(t,e){const n=Ae(t);e?(n.L_.delete(2),await sg(n)):e||(n.L_.add(2),await Ld(n),n.q_.set("Unknown"))}function Ul(t){return t.K_||(t.K_=function(n,r,i){const o=Ae(n);return o.w_(),new A6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:k6.bind(null,t),Ro:R6.bind(null,t),mo:M6.bind(null,t),d_:O6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),db(t)?cb(t):t.q_.set("Unknown")):(await t.K_.stop(),nO(t))})),t.K_}function Lo(t){return t.U_||(t.U_=function(n,r,i){const o=Ae(n);return o.w_(),new I6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$6.bind(null,t),mo:U6.bind(null,t),f_:j6.bind(null,t),g_:V6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ag(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new fb(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hb(t,e){if(Ni("AsyncQueue",`${e}: ${t}`),Md(t))return new ce(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new xt(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.W_=new xt(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new al(e,n,La.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class G6{constructor(){this.queries=B1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ae(n),o=i.queries;i.queries=B1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function B1(){return new Vl(t=>CM(t),eg)}async function sO(t,e){const n=Ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new B6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=hb(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&pb(n)}async function aO(t,e){const n=Ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function z6(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&pb(n)}function q6(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function pb(t){t.Y_.forEach(e=>{e.next()})}var Z0,G1;(G1=Z0||(Z0={})).ea="default",G1.Cache="cache";class lO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.key=e}}class cO{constructor(e){this.key=e}}class H6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=PM(e),this.Ra=new La(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new F1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),y=tg(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let v=!1;h&&y?h.data.isEqual(y.data)?_!==w&&(r.track({type:3,doc:y}),v=!0):this.ga(h,y)||(r.track({type:2,doc:y}),v=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),v=!0):h&&!y&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(y?(s=s.add(y),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(y,_){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return w(y)-w(_)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new al(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new F1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new uO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return al.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class W6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class K6{constructor(e){this.key=e,this.va=!1}}class J6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Vl(a=>CM(a),eg),this.Ma=new Map,this.xa=new Set,this.Oa=new xt(_e.comparator),this.Na=new Map,this.La=new ob,this.Ba={},this.ka=new Map,this.qa=sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Y6(t,e,n=!0){const r=gO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await dO(r,e,n,!0),i}async function X6(t,e){const n=gO(t);await dO(n,e,!0,!1)}async function dO(t,e,n,r){const i=await x6(t.localStore,Wr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Q6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eO(t.remoteStore,i),a}async function Q6(t,e,n,r,i){t.Ka=(d,h,y)=>async function(w,v,x,b){let T=v.view.ma(x);T.ns&&(T=await $1(w.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,T)));const N=b&&b.targetChanges.get(v.targetId),A=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(T,w.isPrimaryClient,N,A);return q1(w,v.targetId,P.wa),P.snapshot}(t,d,h,y);const o=await $1(t.localStore,e,!0),s=new H6(e,o.Ts),a=s.ma(o.documents),l=Dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);q1(t,n,u.wa);const c=new W6(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Z6(t,e,n){const r=Ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!eg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lb(r.remoteStore,i.targetId),ex(r,i.targetId)}).catch(Rd)):(ex(r,i.targetId),await Q0(r.localStore,i.targetId,!0))}async function e8(t,e){const n=Ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lb(n.remoteStore,r.targetId))}async function t8(t,e,n){const r=l8(t);try{const i=await function(s,a){const l=Ae(s),u=Lt.now(),c=a.reduce((y,_)=>y.add(_.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=ki(),w=Oe();return l.cs.getEntries(y,c).next(v=>{_=v,_.forEach((x,b)=>{b.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,_)).next(v=>{d=v;const x=[];for(const b of a){const T=EB(b,d.get(b.key).overlayedDocument);T!=null&&x.push(new Fo(b.key,T,wM(T.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(y,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:kM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new xt(Ge)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await $d(r,i.changes),await ag(r.remoteStore)}catch(i){const o=hb(i,"Failed to persist write");n.reject(o)}}async function fO(t,e){const n=Ae(t);try{const r=await g6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ye(s.va):i.removedDocuments.size>0&&(Ye(s.va),s.va=!1))}),await $d(n,r,e)}catch(r){await Rd(r)}}function z1(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ae(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&pb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n8(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new xt(_e.comparator);s=s.insert(o,pn.newNoDocument(o,Se.min()));const a=Oe().add(o),l=new ig(Se.min(),new Map,new xt(Ge),s,a);await fO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),mb(r)}else await Q0(r.localStore,e,!1).then(()=>ex(r,e,n)).catch(Rd)}async function r8(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await m6(n.localStore,e);pO(n,r,null),hO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $d(n,i)}catch(i){await Rd(i)}}async function i8(t,e,n){const r=Ae(t);try{const i=await function(s,a){const l=Ae(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ye(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);pO(r,e,n),hO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $d(r,i)}catch(i){await Rd(i)}}function hO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pO(t,e,n){const r=Ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||mO(t,r)})}function mO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(lb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),mb(t))}function q1(t,e,n){for(const r of n)r instanceof uO?(t.La.addReference(r.key,e),o8(t,r)):r instanceof cO?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||mO(t,r.key)):Ee()}function o8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),mb(t))}function mb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new K6(n)),t.Oa=t.Oa.insert(n,r),eO(t.remoteStore,new ho(Wr(Qw(n.path)),r,"TargetPurposeLimboResolution",Ww.oe))}}async function $d(t,e,n){const r=Ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ab.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>te.forEach(u,h=>te.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(d,h.targetId,y)).next(()=>te.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(d,h.targetId,y)))))}catch(d){if(!Md(d))throw d;ve("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const y=c.os.get(h),_=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(_);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function s8(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await YM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ce(J.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $d(n,r.hs)}}function a8(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function gO(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n8.bind(null,e),e.Ca.d_=z6.bind(null,e.eventManager),e.Ca.$a=q6.bind(null,e.eventManager),e}function l8(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i8.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=og(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return p6(this.persistence,new f6,e.initialUser,this.serializer)}Ga(e){return new u6(sb.Zr,this.serializer)}Wa(e){return new w6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s8.bind(null,this.syncEngine),await F6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G6}()}createDatastore(e){const n=og(e.databaseInfo.databaseId),r=function(o){return new S6(o)}(e.databaseInfo);return function(o,s,a,l){return new C6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new N6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z1(this.syncEngine,n,0),function(){return V1.D()?new V1:new b6}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new J6(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ae(i);ve("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ld(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tx.provider={build:()=>new tx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=vM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c8(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U1(e.remoteStore,i)),t._onlineComponents=e}async function c8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await lv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await lv(t,new mp)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await lv(t,new mp);return t._offlineComponents}async function vO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await H1(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await H1(t,new tx))),t._onlineComponents}function d8(t){return vO(t).then(e=>e.syncEngine)}async function nx(t){const e=await vO(t),n=e.eventManager;return n.onListen=Y6.bind(null,e.syncEngine),n.onUnlisten=Z6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e8.bind(null,e.syncEngine),n}function f8(t,e,n={}){const r=new Io;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new yO({next:h=>{c.Za(),s.enqueueAndForget(()=>aO(o,d)),h.fromCache&&l.source==="server"?u.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new lO(a,c,{includeMetadataChanges:!0,_a:!0});return sO(o,d)}(await nx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h8(t,e,n,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K1(t){if(!_e.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J1(t){if(_e.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(t);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function p8(t,e){if(e<=0)throw new ce(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R3;switch(r.type){case"firstParty":return new L3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W1.get(n);r&&(ve("ComponentProvider","Removing Datastore"),W1.delete(n),r.terminate())}(this),Promise.resolve()}}function m8(t,e,n,r={}){var i;const o=(t=cr(t,ug))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=s5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new M3(new yM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Co extends ri{constructor(e,n,r){super(e,n,Qw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new _e(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=rn(t),_O("collection","path",e),t instanceof ug){const r=ot.fromString(e,...n);return J1(r),new Co(t,null,r)}{if(!(t instanceof Tn||t instanceof Co))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return J1(r),new Co(t.firestore,null,r)}}function Ke(t,e,...n){if(t=rn(t),arguments.length===1&&(e=vM.newId()),_O("doc","path",e),t instanceof ug){const r=ot.fromString(e,...n);return K1(r),new Tn(t,null,new _e(r))}{if(!(t instanceof Tn||t instanceof Co))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return K1(r),new Tn(t.firestore,t instanceof Co?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QM(this,"async_queue_retry"),this.Vu=()=>{const r=av();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Io;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Md(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fb.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Q1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function g8(t,e){const n=typeof t=="object"?t:lM(),r=typeof t=="string"?t:"(default)",i=qw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=i5("firestore");o&&m8(i,...o)}return i}function gb(t){if(t._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y8(t),t._firestoreClient}function y8(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new J3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new u8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(on.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ll(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=/^__.*__$/;class x8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Od(e,this.data,n,this.fieldTransforms)}}class wO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class _b{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _b(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bO(this.Cu)&&v8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||og(e)}Qu(e,n,r,i=!1){return new _b({Cu:e,methodName:n,qu:r,path:Qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(t){const e=t._freezeSettings(),n=og(t._databaseId);return new _8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EO(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);wb("Data must be an object, but it was:",s,r);const a=SO(r,s);let l,u;if(o.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=rx(e,d,n);if(!s.contains(h))throw new ce(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IO(c,h)||c.push(h)}l=new Wn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new x8(new Rn(a),l,u)}class dg extends yb{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dg}}function w8(t,e,n,r){const i=t.Qu(1,e,n);wb("Data must be an object, but it was:",i,r);const o=[],s=Rn.empty();Gs(r,(l,u)=>{const c=bb(e,l,n);u=rn(u);const d=i.Nu(c);if(u instanceof dg)o.push(c);else{const h=Vd(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Wn(o);return new wO(s,a,i.fieldTransforms)}function b8(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[rx(e,r,n)],l=[i];if(o.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(rx(e,o[h])),l.push(o[h+1]);const u=[],c=Rn.empty();for(let h=a.length-1;h>=0;--h)if(!IO(u,a[h])){const y=a[h];let _=l[h];_=rn(_);const w=s.Nu(y);if(_ instanceof dg)u.push(y);else{const v=Vd(_,w);v!=null&&(u.push(y),c.set(y,v))}}const d=new Wn(u);return new wO(c,d,s.fieldTransforms)}function TO(t,e,n,r=!1){return Vd(n,t.Qu(r?4:3,e))}function Vd(t,e){if(AO(t=rn(t)))return wb("Unsupported field value:",e,t),SO(t,e);if(t instanceof yb)return function(r,i){if(!bO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Vd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:hp(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,o)}}if(r instanceof vb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:GM(i.serializer,r._byteString)};if(r instanceof Tn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ib(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xb)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return eb(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${lg(r)}`)}(t,e)}function SO(t,e){const n={};return xM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const o=Vd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof vb||t instanceof ll||t instanceof Tn||t instanceof yb||t instanceof xb)}function wb(t,e,n){if(!AO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function rx(t,e,n){if((e=rn(e))instanceof cg)return e._internalPath;if(typeof e=="string")return bb(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const E8=new RegExp("[~\\*/\\[\\]]");function bb(t,e,n){if(e.search(E8)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ce(J.INVALID_ARGUMENT,a+t+l)}function IO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T8 extends Eb{data(){return super.data()}}function fg(t,e){return typeof e=="string"?bb(t,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tb{}class hg extends Tb{}function sc(t,e,...n){let r=[];e instanceof Tb&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Sb).length,a=o.filter(l=>l instanceof pg).length;if(s>1||s>0&&a>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class pg extends hg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=this._parse(e);return PO(e._query,n),new ri(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=jd(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){eA(d,c);const y=[];for(const _ of d)y.push(Z1(l,o,_));h={arrayValue:{values:y}}}else h=Z1(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||eA(d,c),h=TO(a,s,d,c==="in"||c==="not-in");return Ct.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uv(t,e,n){const r=e,i=fg("where",t);return pg._create(i,r,n)}class Sb extends Tb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)PO(s,l),s=W0(s,l)}(e._query,n),new ri(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ab extends hg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ab(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(o,s)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new zs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function S8(t,e="asc"){const n=e,r=fg("orderBy",t);return Ab._create(r,n)}class Ib extends hg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ib(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,cp(e._query,this._limit,this._limitType))}}function A8(t){return p8("limit",t),Ib._create("limit",t,"F")}class Cb extends hg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cb(e,n,r)}_apply(e){const n=C8(e,this.type,this._docOrFields,this._inclusive);return new ri(e.firestore,e.converter,function(i,o){return new zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function I8(...t){return Cb._create("startAfter",t,!1)}function C8(t,e,n,r){if(n[0]=rn(n[0]),n[0]instanceof Eb)return function(o,s,a,l,u){if(!l)throw new ce(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Da(o))if(d.field.isKeyField())c.push(up(s,l.key));else{const h=l.data.field(d.field);if(Zm(h))throw new ce(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=d.field.canonicalString();throw new ce(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(h)}return new ol(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=jd(t.firestore);return function(s,a,l,u,c,d){const h=s.explicitOrderBy;if(c.length>h.length)throw new ce(J.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let _=0;_<c.length;_++){const w=c[_];if(h[_].field.isKeyField()){if(typeof w!="string")throw new ce(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!Zw(s)&&w.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const v=s.path.child(ot.fromString(w));if(!_e.isDocumentKey(v))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const x=new _e(v);y.push(up(a,x))}else{const v=TO(l,u,w);y.push(v)}}return new ol(y,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Z1(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zw(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return up(t,new _e(r))}if(n instanceof Tn)return up(t,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lg(n)}.`)}function eA(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P8{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Et(s.doubleValue));return new xb(o)}convertGeoPoint(e){return new vb(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ye(JM(r));const i=new Oc(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Ni(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kO extends Eb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ch extends kO{data(e={}){return super.data(e)}}class RO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ch(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ch(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:N8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Pb extends P8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Po(t){t=cr(t,ri);const e=cr(t.firestore,$o),n=gb(e),r=new Pb(e);return CO(t._query),f8(n,t._query).then(i=>new RO(e,r,t,i))}function k8(t,e,n){t=cr(t,Tn);const r=cr(t.firestore,$o),i=NO(t.converter,e);return mg(r,[EO(jd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function Nn(t,e,n,...r){t=cr(t,Tn);const i=cr(t.firestore,$o),o=jd(i);let s;return s=typeof(e=rn(e))=="string"||e instanceof cg?b8(o,"updateDoc",t._key,e,n,r):w8(o,"updateDoc",t._key,e),mg(i,[s.toMutation(t._key,ur.exists(!0))])}function Pn(t){return mg(cr(t.firestore,$o),[new tb(t._key,ur.none())])}function Kt(t,e){const n=cr(t.firestore,$o),r=Ke(t),i=NO(t.converter,e);return mg(n,[EO(jd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Zn(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Q1(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Q1(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Tn)u=cr(t.firestore,$o),c=Qw(t._key.path),l={next:d=>{e[s]&&e[s](R8(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=cr(t,ri);u=cr(d.firestore,$o),c=d._query;const h=new Pb(u);l={next:y=>{e[s]&&e[s](new RO(u,h,d,y))},error:e[s+1],complete:e[s+2]},CO(t._query)}return function(h,y,_,w){const v=new yO(w),x=new lO(y,v,_);return h.asyncQueue.enqueueAndForget(async()=>sO(await nx(h),x)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>aO(await nx(h),x))}}(gb(u),c,a,l)}function mg(t,e){return function(r,i){const o=new Io;return r.asyncQueue.enqueueAndForget(async()=>t8(await d8(r),i,o)),o.promise}(gb(t),e)}function R8(t,e,n){const r=n.docs.get(e._key),i=new Pb(t);return new kO(t,i,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jl=i})($l),el(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $o(new O3(r.getProvider("auth-internal")),new j3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ao(g1,"4.7.3",e),Ao(g1,"4.7.3","esm2017")})();function Nb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M8=MO,OO=new Nd("auth","Firebase",MO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Gw("@firebase/auth");function O8(t,...e){yp.logLevel<=$e.WARN&&yp.warn(`Auth (${$l}): ${t}`,...e)}function Ph(t,...e){yp.logLevel<=$e.ERROR&&yp.error(`Auth (${$l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,...e){throw kb(t,...e)}function Jr(t,...e){return kb(t,...e)}function DO(t,e,n){const r=Object.assign(Object.assign({},M8()),{[e]:n});return new Nd("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return DO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OO.create(t,...e)}function be(t,e,...n){if(!t)throw kb(e,...n)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function Mi(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D8(){return tA()==="http:"||tA()==="https:"}function tA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D8()||c5()||"connection"in navigator)?navigator.onLine:!0}function $8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=a5()||d5()}get(){return L8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new Ud(3e4,6e4);function Mb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,n,r,i={}){return $O(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=kd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return u5()||(u.referrerPolicy="no-referrer"),LO.fetch()(jO(t,t.config.apiHost,n,a),u)})}async function $O(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},j8),e);try{const i=new F8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw qf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw qf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DO(t,c,u);Ri(t,c)}}catch(i){if(i instanceof Ui)throw i;Ri(t,"network-request-failed",{message:String(i)})}}async function U8(t,e,n,r,i={}){const o=await Fl(t,e,n,r,i);return"mfaPendingCredential"in o&&Ri(t,"multi-factor-auth-required",{_serverResponse:o}),o}function jO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Rb(t.config,i):`${t.config.apiScheme}://${i}`}class F8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),V8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function VO(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G8(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=Ob(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ac(cv(i.auth_time)),issuedAtTime:ac(cv(i.iat)),expirationTime:ac(cv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cv(t){return Number(t)*1e3}function Ob(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=tM(n);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nA(t){const e=Ob(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&z8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Vc(t,VO(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UO(o.providerUserInfo):[],a=W8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ox(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function H8(t){const e=rn(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UO(t){return t.map(e=>{var{providerId:n}=e,r=Nb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e){const n=await $O(t,{},async()=>{const r=kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=jO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J8(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",Mb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=nA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await K8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $a;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Nb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ox(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G8(this,e)}reload(){return H8(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Vc(this,B8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:N,isAnonymous:A,providerData:P,stsTokenManager:S}=n;be(T&&S,e,"internal-error");const C=$a.fromJSON(this.name,S);be(typeof T=="string",e,"internal-error"),Qi(d,e.name),Qi(h,e.name),be(typeof N=="boolean",e,"internal-error"),be(typeof A=="boolean",e,"internal-error"),Qi(y,e.name),Qi(_,e.name),Qi(w,e.name),Qi(v,e.name),Qi(x,e.name),Qi(b,e.name);const I=new gi({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:A,photoURL:_,phoneNumber:y,tenantId:w,stsTokenManager:C,createdAt:x,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(R=>Object.assign({},R))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?UO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new $a;a.updateFromIdToken(r);const l=new gi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ox(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;function yi(t){Mi(t instanceof Function,"Expected a class definition");let e=rA.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FO.type="NONE";const iA=FO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ja(yi(iA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||yi(iA);const s=Nh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=gi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ja(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ja(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WO(e))return"Blackberry";if(KO(e))return"Webos";if(GO(e))return"Safari";if((e.includes("chrome/")||zO(e))&&!e.includes("edge/"))return"Chrome";if(HO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BO(t=xn()){return/firefox\//i.test(t)}function GO(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zO(t=xn()){return/crios\//i.test(t)}function qO(t=xn()){return/iemobile/i.test(t)}function HO(t=xn()){return/android/i.test(t)}function WO(t=xn()){return/blackberry/i.test(t)}function KO(t=xn()){return/webos/i.test(t)}function Db(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y8(t=xn()){var e;return Db(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X8(){return f5()&&document.documentMode===10}function JO(t=xn()){return Db(t)||HO(t)||KO(t)||WO(t)||/windows phone/i.test(t)||qO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e=[]){let n;switch(t){case"Browser":n=oA(xn());break;case"Worker":n=`${oA(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",Mb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=6;class t9{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:e9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sA(this),this.idTokenSubscription=new sA(this),this.beforeStateQueue=new Q8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VO(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(bs(this));const n=e?rn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z8(this),n=new t9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await J8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lb(t){return rn(t)}class sA{constructor(e){this.auth=e,this.observer=null,this.addObserver=_5(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $b={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r9(t){$b=t}function i9(t){return $b.loadJS(t)}function o9(){return $b.gapiScript}function s9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){const n=qw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(sp(o,e??{}))return i;Ri(i,"already-initialized")}return n.initialize({options:e})}function l9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u9(t,e,n){const r=Lb(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=XO(e),{host:s,port:a}=c9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),d9()}function XO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c9(t){const e=XO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:aA(s)}}}function aA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e){return U8(t,"POST","/v1/accounts:signInWithIdp",Mb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="http://localhost";class Os extends QO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Nb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Os(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Va(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Va(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Va(e,n)}buildRequest(){const e={requestUri:f9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends ZO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Fd{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Fd{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Fd{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await gi._fromIdTokenResponse(e,r,i),s=lA(r);return new ul({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lA(r);return new ul({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xp(e,n,r,i)}}function eD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(t,o,e,r):o})}async function h9(t,e,n=!1){const r=await Vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e,n=!1){const{auth:r}=t;if(fo(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const o=await Vc(t,eD(r,i,e,t),n);be(o.idToken,r,"internal-error");const s=Ob(o.idToken);be(s,r,"internal-error");const{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),ul._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ri(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e,n=!1){if(fo(t.app))return Promise.reject(bs(t));const r="signIn",i=await eD(t,r,e),o=await ul._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function g9(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function y9(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}const _p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=1e3,x9=10;class nD extends tD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);X8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nD.type="LOCAL";const _9=nD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends tD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rD.type="SESSION";const iD=rD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await w9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=jb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function E9(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function T9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A9(){return oD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebaseLocalStorageDb",I9=1,wp="firebaseLocalStorage",aD="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yg(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function C9(){const t=indexedDB.deleteDatabase(sD);return new Bd(t).toPromise()}function sx(){const t=indexedDB.open(sD,I9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wp,{keyPath:aD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wp)?e(r):(r.close(),await C9(),e(await sx()))})})}async function uA(t,e,n){const r=yg(t,!0).put({[aD]:e,value:n});return new Bd(r).toPromise()}async function P9(t,e){const n=yg(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function cA(t,e){const n=yg(t,!0).delete(e);return new Bd(n).toPromise()}const N9=800,k9=3;class lD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>k9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gg._getInstance(A9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T9(),!this.activeServiceWorker)return;this.sender=new b9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sx();return await uA(e,_p,"1"),await cA(e,_p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yg(i,!1).getAll();return new Bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lD.type="LOCAL";const R9=lD;new Ud(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t,e){return e?yi(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends QO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Va(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O9(t){return m9(t.auth,new Vb(t),t.bypassAuthState)}function D9(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),p9(n,new Vb(t),t.bypassAuthState)}async function L9(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),h9(n,new Vb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O9;case"linkViaPopup":case"linkViaRedirect":return L9;case"reauthViaPopup":case"reauthViaRedirect":return D9;default:Ri(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new Ud(2e3,1e4);class Ea extends uD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=jb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$9.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="pendingRedirect",kh=new Map;class V9 extends uD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await U9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U9(t,e){const n=G9(e),r=B9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function F9(t,e){kh.set(t._key(),e)}function B9(t){return yi(t._redirectPersistence)}function G9(t){return Nh(j9,t.config.apiKey,t.name)}async function z9(t,e,n=!1){if(fo(t.app))return Promise.reject(bs(t));const r=Lb(t),i=M9(r,e),s=await new V9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=10*60*1e3;class H9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q9&&this.cachedEventUids.clear(),this.cachedEventUids.has(dA(e))}saveEventToCache(e){this.cachedEventUids.add(dA(e)),this.lastProcessedEventTime=Date.now()}}function dA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y9=/^https?/;async function X9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K9(t);for(const n of e)try{if(Q9(n))return}catch{}Ri(t,"unauthorized-domain")}function Q9(t){const e=ix(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Y9.test(n))return!1;if(J9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new Ud(3e4,6e4);function fA(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eG(t){return new Promise((e,n)=>{var r,i,o;function s(){fA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fA(),n(Jr(t,"network-request-failed"))},timeout:Z9.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)s();else{const a=s9("iframefcb");return Yr()[a]=()=>{gapi.load?s():n(Jr(t,"network-request-failed"))},i9(`${o9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function tG(t){return Rh=Rh||eG(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=new Ud(5e3,15e3),rG="__/auth/iframe",iG="emulator/auth/iframe",oG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aG(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rb(e,iG):`https://${t.config.authDomain}/${rG}`,r={apiKey:e.apiKey,appName:t.name,v:$l},i=sG.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kd(r).slice(1)}`}async function lG(t){const e=await tG(t),n=Yr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:aG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oG,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Jr(t,"network-request-failed"),a=Yr().setTimeout(()=>{o(s)},nG.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cG=500,dG=600,fG="_blank",hG="http://localhost";class hA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pG(t,e,n,r=cG,i=dG){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uG),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xn().toLowerCase();n&&(a=zO(u)?fG:n),BO(u)&&(e=e||hG,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,_])=>`${h}${y}=${_},`,"");if(Y8(u)&&a!=="_self")return mG(e||"",a),new hA(null);const d=window.open(e||"",a,c);be(d,t,"popup-blocked");try{d.focus()}catch{}return new hA(d)}function mG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="__/auth/handler",yG="emulator/auth/handler",vG=encodeURIComponent("fac");async function pA(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:i};if(e instanceof ZO){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",x5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof Fd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${vG}=${encodeURIComponent(l)}`:"";return`${xG(t)}?${kd(a).slice(1)}${u}`}function xG({config:t}){return t.emulator?Rb(t,yG):`https://${t.authDomain}/${gG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="webStorageSupport";class _G{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iD,this._completeRedirectFn=z9,this._overrideRedirectResult=F9}async _openPopup(e,n,r,i){var o;Mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await pA(e,n,r,ix(),i);return pG(e,s,jb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await pA(e,n,r,ix(),i);return E9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lG(e),r=new H9(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dv,{type:dv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[dv];s!==void 0&&n(!!s),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JO()||GO()||Db()}}const wG=_G;var mA="@firebase/auth",gA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TG(t){el(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YO(t)},u=new n9(r,i,o,l);return l9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new Ns("auth-internal",e=>{const n=Lb(e.getProvider("auth").getImmediate());return(r=>new bG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(mA,gA,EG(t)),Ao(mA,gA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=5*60,AG=iM("authIdTokenMaxAge")||SG;let yA=null;const IG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AG)return;const i=n==null?void 0:n.token;yA!==i&&(yA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CG(t=lM()){const e=qw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a9(t,{popupRedirectResolver:wG,persistence:[R9,_9,iD]}),r=iM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=IG(o.toString());y9(n,s,()=>s(n.currentUser)),g9(n,a=>s(a))}}const i=nM("auth");return i&&u9(n,`http://${i}`),n}function PG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}r9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",PG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TG("Browser");var ra={};const NG={apiKey:ra.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:ra.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:ra.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:ra.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:ra.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:ra.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},dD=aM(NG),pe=g8(dD);CG(dD);new fi;const fD=$.createContext(void 0),kG=({children:t})=>{const[e,n]=$.useState([]),[r,i]=$.useState([]),[o,s]=$.useState([]),[a,l]=$.useState([]),[u,c]=$.useState([]),[d,h]=$.useState([]),[y,_]=$.useState([]),[w,v]=$.useState([]),[x,b]=$.useState([]),[T,N]=$.useState([]),[A,P]=$.useState([]),[S,C]=$.useState([]),[I,R]=$.useState([]),[M,D]=$.useState([]),[O,U]=$.useState([]),[B,G]=$.useState(!0),[W,V]=$.useState(null);$.useEffect(()=>{const Z=[Zn(ke(pe,"products"),le=>n(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"clients"),le=>i(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"suppliers"),le=>s(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"priceLists"),le=>c(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"branches"),le=>h(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"users"),le=>N(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"salesZones"),le=>b(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"sales"),le=>P(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"remitos"),le=>C(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"boxes"),le=>R(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"brands"),le=>D(le.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"categories"),le=>U(le.docs.map(ge=>({id:ge.id,...ge.data()}))))];return G(!1),()=>Z.forEach(le=>le())},[]);const K=$.useCallback(async Z=>{let le=sc(ke(pe,"products"),S8(Z.orderByField||"name",Z.orderDirection||"asc"));Z.startAfterDoc&&(le=sc(le,I8(Z.startAfterDoc))),le=sc(le,A8(Z.limit));const ge=await Po(le);return{products:ge.docs.map(Cn=>({id:Cn.id,...Cn.data()})),lastVisible:ge.docs[ge.docs.length-1],hasMore:ge.docs.length===Z.limit}},[]),Y=async Z=>e.find(le=>le.id===Z)||null,se=async Z=>{await Kt(ke(pe,"products"),Z)},ee=async(Z,le)=>{await Nn(Ke(pe,"products",Z),le)},ue=async Z=>{await Pn(Ke(pe,"products",Z))},Ce=async Z=>(await Kt(ke(pe,"sales"),Z)).id,Ne=async Z=>A.find(le=>le.id===Z)||null,We=async Z=>{await Kt(ke(pe,"clients"),Z)},q=async(Z,le)=>{await Nn(Ke(pe,"clients",Z),le)},Ve=async Z=>{await Pn(Ke(pe,"clients",Z))},ie=async Z=>{await Kt(ke(pe,"suppliers"),Z)},ye=async(Z,le)=>{await Nn(Ke(pe,"suppliers",Z),le)},xe=async Z=>{await Pn(Ke(pe,"suppliers",Z))},Q=async Z=>{await Kt(ke(pe,"priceLists"),Z)},Le=async(Z,le)=>{await Nn(Ke(pe,"priceLists",Z),le)},Ie=async Z=>{await Pn(Ke(pe,"priceLists",Z))},et=async Z=>{await Kt(ke(pe,"branches"),Z)},X=async(Z,le)=>{await Nn(Ke(pe,"branches",Z),le)},me=async Z=>{await Pn(Ke(pe,"branches",Z))},Qe=async Z=>{await Kt(ke(pe,"orders"),Z)},jt=async(Z,le)=>{await Nn(Ke(pe,"orders",Z),le)},Vn=async Z=>{await Pn(Ke(pe,"orders",Z))},Nt=async Z=>{await Kt(ke(pe,"installmentPlans"),Z)},Un=async(Z,le)=>{await Nn(Ke(pe,"installmentPlans",Z),le)},oi=async Z=>{await Pn(Ke(pe,"installmentPlans",Z))},Hi=async Z=>{await Kt(ke(pe,"transactions"),Z)},Ko=async Z=>{await Kt(ke(pe,"users"),Z)},Vt=async(Z,le)=>{await Nn(Ke(pe,"users",Z),le)},Ht=async Z=>{await Pn(Ke(pe,"users",Z))},Xs=async Z=>{await Kt(ke(pe,"salesZones"),Z)},ef=async(Z,le)=>{await Nn(Ke(pe,"salesZones",Z),le)},tf=async Z=>{await Pn(Ke(pe,"salesZones",Z))},hy=async Z=>(await Kt(ke(pe,"remitos"),Z)).id,Jo=async(Z,le)=>{await Nn(Ke(pe,"remitos",Z),le)},nf=async Z=>{await Pn(Ke(pe,"remitos",Z))},rf=async Z=>S.find(le=>le.id===Z)||null,ou=async Z=>{await Kt(ke(pe,"boxes"),Z)},py=async(Z,le)=>{await Nn(Ke(pe,"boxes",Z),le)},my=async Z=>{await Pn(Ke(pe,"boxes",Z))},su=async Z=>{await Kt(ke(pe,"brands"),Z)},of=async(Z,le)=>{await Nn(Ke(pe,"brands",Z),le)},sf=async Z=>{await Pn(Ke(pe,"brands",Z))},Yo=async Z=>{await Kt(ke(pe,"categories"),Z)},au=async(Z,le)=>{await Nn(Ke(pe,"categories",Z),le)},lu=async Z=>{await Pn(Ke(pe,"categories",Z))},si=async Z=>{const le={};for(const ge of Z){const Qo=await Po(ke(pe,ge));le[ge]=Qo.docs.map(Cn=>({id:Cn.id,...Cn.data()}))}return le},af=async Z=>{for(const[le,ge]of Object.entries(Z)){await Xo(le);for(const Qo of ge){const{id:Cn,...Wi}=Qo;Cn?await k8(Ke(pe,le,Cn),Wi):await Kt(ke(pe,le),Wi)}}},Xo=async Z=>{const le=await Po(ke(pe,Z));for(const ge of le.docs)await Pn(ge.ref)},lf=$.useMemo(()=>({products:e,clients:r,suppliers:o,transactions:a,priceLists:u,branches:d,orders:y,installmentPlans:w,users:T,loading:B,error:W,salesZones:x,sales:A,remitos:S,boxes:I,brands:M,categories:O,fetchProductsPaginatedAndFiltered:K,getProductById:Y,addProduct:se,updateProduct:ee,deleteProduct:ue,addSale:Ce,getSaleById:Ne,addClient:We,updateClient:q,deleteClient:Ve,addSupplier:ie,updateSupplier:ye,deleteSupplier:xe,addPriceList:Q,updatePriceList:Le,deletePriceList:Ie,addBranch:et,updateBranch:X,deleteBranch:me,addOrder:Qe,updateOrder:jt,deleteOrder:Vn,addInstallmentPlan:Nt,updateInstallmentPlan:Un,deleteInstallmentPlan:oi,addTransaction:Hi,exportAllData:si,importAllData:af,deleteAllDocumentsInCollection:Xo,addUser:Ko,updateUser:Vt,deleteUser:Ht,addSalesZone:Xs,updateSalesZone:ef,deleteSalesZone:tf,addRemito:hy,updateRemito:Jo,deleteRemito:nf,getRemitoById:rf,addBox:ou,updateBox:py,deleteBox:my,addBrand:su,updateBrand:of,deleteBrand:sf,addCategory:Yo,updateCategory:au,deleteCategory:lu}),[e,r,o,a,u,d,y,w,T,B,W,x,A,S,I,M,O]);return p.jsx(fD.Provider,{value:lf,children:t})},Gd=()=>{const t=$.useContext(fD);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>$.createElement("svg",{ref:c,...RG,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${MG(t)}`,a].join(" "),...u},[...e.map(([d,h])=>$.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=ae("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=ae("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=ae("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ae("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ae("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ae("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ae("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ae("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ae("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ae("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=ae("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ae("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=ae("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ae("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ae("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ae("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=ae("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ae("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=ae("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ae("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),oz=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{const[o,s]=$.useState(["Principal","Comercial","Productos & Abastecimiento","Administracin & Finanzas"]),[a,l]=$.useState(!1),[u,c]=$.useState(["sales","inventory","cashier"]);$.useEffect(()=>{const v=localStorage.getItem("ferrogest_shortcuts");if(v)try{c(JSON.parse(v))}catch(x){console.error("Error loading shortcuts",x)}},[]);const d=v=>{const x=u.includes(v)?u.filter(b=>b!==v):[...u,v];c(x),localStorage.setItem("ferrogest_shortcuts",JSON.stringify(x))},h=[{name:"Principal",icon:HG,items:[{id:"dashboard",label:"Dashboard",icon:_D}]},{name:"Comercial",icon:bp,items:[{id:"sales",label:"Ventas",icon:bp,color:"bg-orange-500"},{id:"remitos",label:"Remitos",icon:Ub,color:"bg-blue-500"},{id:"quotes",label:"Cotizaciones",icon:JG,color:"bg-purple-500"},{id:"orders",label:"Pedidos",icon:bD,color:"bg-indigo-500"},{id:"clients",label:"Clientes",icon:zd,color:"bg-emerald-500"},{id:"loyalty",label:"Fidelizacin",icon:qG,color:"bg-pink-500"},{id:"ecommerce",label:"E-Commerce",icon:cl,color:"bg-sky-500"}]},{name:"Productos & Abastecimiento",icon:Ep,items:[{id:"inventory",label:"Inventario",icon:Ep,color:"bg-amber-600"},{id:"missing-items",label:"Faltantes",icon:gD,color:"bg-red-500"},{id:"stock-adjustment",label:"Ajuste de Stock",icon:vg,color:"bg-teal-500"},{id:"bulk-modification",label:"Modificacin Masiva",icon:Bb,color:"bg-violet-500"},{id:"warehouse",label:"Depsito",icon:Ip,color:"bg-stone-500"},{id:"purchase-orders",label:"Pedidos Compra",icon:wD,color:"bg-cyan-600"},{id:"suppliers",label:"Proveedores",icon:PD,color:"bg-orange-400"},{id:"prices",label:"Lista Precios",icon:ID,color:"bg-lime-600"},{id:"bulk-import",label:"Importar Datos",icon:xD,color:"bg-slate-400"},{id:"catalog-config",label:"Marcas & Rubros",icon:_A,color:"bg-purple-500"}]},{name:"Administracin & Finanzas",icon:Fc,items:[{id:"cashier",label:"Cajas y Pagos",icon:Fc,color:"bg-green-600"},{id:"purchases",label:"Compras & IA",icon:xg,color:"bg-yellow-600"},{id:"balances",label:"Saldos y Deudas",icon:ux,color:"bg-rose-500"},{id:"installments",label:"Cuotas Internas",icon:Tp,color:"bg-fuchsia-600"},{id:"finance",label:"Finanzas",icon:Hb,color:"bg-emerald-600"},{id:"reports",label:"Informes e IVA",icon:pD,color:"bg-blue-400"},{id:"users",label:"Personal y Accesos",icon:ND,color:"bg-indigo-400"}]}],y=h.flatMap(v=>v.items),_=y.filter(v=>u.includes(v.id)),w=v=>{s(x=>x.includes(v)?x.filter(b=>b!==v):[...x,v])};return!n||!("name"in n)?p.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 justify-center items-center",children:[p.jsx(ei,{className:"w-8 h-8 animate-spin text-orange-500 mb-2"}),p.jsx("span",{className:"text-xs text-slate-400",children:"Iniciando..."})]}):p.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 shrink-0 overflow-hidden",children:[p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[n!=null&&n.logo&&(n!=null&&n.showLogoInSidebar)?p.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):p.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:p.jsx(_A,{className:"w-6 h-6 text-white"})}),p.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:(n==null?void 0:n.name)||"Sistems Nova"})]})}),p.jsxs("div",{className:"px-4 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[p.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Accesos Rpidos"}),p.jsx("button",{onClick:()=>l(!0),className:"p-1 hover:bg-slate-800 rounded-md text-slate-500 hover:text-orange-500 transition-colors",children:p.jsx(ZG,{className:"w-3.5 h-3.5"})})]}),p.jsxs("div",{className:"grid grid-cols-4 gap-2 px-2",children:[_.map(v=>p.jsx("button",{onClick:()=>e(v.id),className:`aspect-square flex items-center justify-center rounded-xl transition-all ${t===v.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/40 scale-105":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:v.label,children:p.jsx(v.icon,{className:"w-5 h-5"})},v.id)),p.jsx("button",{onClick:()=>l(!0),className:"aspect-square flex items-center justify-center rounded-xl bg-slate-800/20 border border-dashed border-slate-700 text-slate-600 hover:border-slate-500 hover:text-slate-400 transition-all",children:p.jsx(mr,{className:"w-4 h-4"})})]})]}),p.jsxs("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar overscroll-contain pb-10",children:[h.map(v=>p.jsxs("div",{className:"space-y-1",children:[p.jsxs("button",{onClick:()=>w(v.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(v.icon,{className:"w-4 h-4"}),v.name]}),p.jsx(mD,{className:`w-4 h-4 transition-transform ${o.includes(v.name)?"rotate-0":"-rotate-90"}`})]}),o.includes(v.name)&&p.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:v.items.map(x=>p.jsxs("button",{onClick:()=>e(x.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===x.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(x.icon,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{className:"truncate",children:x.label})]},x.id))})]},v.name)),p.jsxs("div",{className:"pt-4 border-t border-slate-800/50 mt-4 space-y-1",children:[p.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="settings"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(zb,{className:"w-5 h-5"}),p.jsx("span",{children:"Configuracin"})]}),p.jsxs("button",{onClick:()=>e("integrations"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="integrations"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(AD,{className:"w-5 h-5"}),p.jsx("span",{children:"Integraciones"})]})]})]}),p.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[p.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.name}`,className:"w-10 h-10 rounded-full border border-slate-700 bg-slate-700",alt:"User"}),p.jsxs("div",{className:"overflow-hidden text-left",children:[p.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),p.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),p.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[p.jsx(ED,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]}),a&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-orange-600 rounded-2xl flex items-center justify-center",children:p.jsx(XG,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Personalizar Accesos"}),p.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Selecciona tus herramientas favoritas"})]})]}),p.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:p.jsx(Rr,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:p.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.map(v=>p.jsxs("button",{onClick:()=>d(v.id),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left ${u.includes(v.id)?"border-orange-500 bg-orange-50":"border-slate-100 bg-white hover:border-slate-200"}`,children:[p.jsx("div",{className:`p-3 rounded-xl ${u.includes(v.id)?"bg-orange-600 text-white":"bg-slate-100 text-slate-400"}`,children:p.jsx(v.icon,{className:"w-6 h-6"})}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx("p",{className:`font-black text-xs uppercase tracking-tight truncate ${u.includes(v.id)?"text-orange-900":"text-slate-600"}`,children:v.label})}),p.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 ${u.includes(v.id)?"bg-orange-600 border-orange-600 text-white":"border-slate-200 text-transparent"}`,children:p.jsx(FG,{className:"w-3 h-3 stroke-[4px]"})})]},v.id))})}),p.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 italic",children:"Mximo recomendado: 8 accesos."}),p.jsx("button",{onClick:()=>l(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Listo"})]})]})})]})},sz={dashboard:{label:"Dashboard",icon:_D},inventory:{label:"Inventario",icon:Ep},sales:{label:"Ventas",icon:bp},purchases:{label:"Compras",icon:xg},clients:{label:"Clientes",icon:zd},suppliers:{label:"Proveedores",icon:PD},cashier:{label:"Cajas",icon:Fc},reports:{label:"Informes",icon:pD},quotes:{label:"Cotizaciones",icon:Sp},ecommerce:{label:"E-Commerce",icon:cl},"stock-adjustment":{label:"Ajuste Stock",icon:vg},users:{label:"Personal",icon:ND},settings:{label:"Configuracin",icon:zb},"missing-items":{label:"Faltantes",icon:gD},"bulk-modification":{label:"Modif. Masiva",icon:Bb},remitos:{label:"Remitos",icon:Ub}},az=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>p.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const o=sz[i],s=o==null?void 0:o.icon,a=i===e;return p.jsxs("div",{onClick:()=>n(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${a?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&p.jsx(s,{size:14,className:a?"text-orange-600":"text-slate-400"}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-slate-900":"text-slate-500"}`,children:(o==null?void 0:o.label)||i}),i!=="dashboard"&&p.jsx("button",{onClick:l=>{l.stopPropagation(),r(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:p.jsx(Rr,{size:12})})]},i)})}),lz=({onLoginSuccess:t})=>{const[e,n]=$.useState("employee"),[r,i]=$.useState(""),[o,s]=$.useState(""),[a,l]=$.useState(""),[u,c]=$.useState(!1),[d,h]=$.useState(null),y="admin",_="admin123",w=async x=>{x.preventDefault(),c(!0),h(null);const b=r.trim(),T=o.trim();try{if(b.toLowerCase()===y&&T===_){t("admin","Administrador Maestro");return}if(!b.includes("@")||!b.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),c(!1);return}const N=ke(pe,"users"),A=sc(N,uv("email","==",b),uv("password","==",T)),P=await Po(A);if(P.empty)h("Credenciales de empleado incorrectas.");else{const S=P.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(N){h(`Error de conexin: ${N.message}`)}finally{c(!1)}},v=async x=>{x.preventDefault(),c(!0),h(null);const b=a.trim();if(!b){h("Por favor ingrese su CUIT o DNI."),c(!1);return}try{const T=ke(pe,"clients"),N=sc(T,uv("cuit","==",b)),A=await Po(N);if(A.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const P={id:A.docs[0].id,...A.docs[0].data()};t("customer",P.name,P)}}catch{h("Error al validar cliente.")}finally{c(!1)}};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:p.jsx(qb,{className:"w-10 h-10"})}),p.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),p.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[p.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(CD,{className:"w-4 h-4"})," Personal"]}),p.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx(fv,{className:"w-4 h-4"})," Portal Clientes"]})]}),d&&p.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[p.jsx(Rr,{className:"w-5 h-5 text-red-600"}),p.jsx("span",{className:"font-bold text-xs uppercase",children:d})]}),e==="employee"?p.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(kD,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),p.jsxs("div",{className:"relative",children:[p.jsx(WG,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"password",value:o,onChange:x=>s(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?p.jsx(ei,{className:"w-5 h-5 animate-spin"}):p.jsx(LG,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):p.jsxs("form",{onSubmit:v,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),p.jsxs("div",{className:"relative",children:[p.jsx(fv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?p.jsx(ei,{className:"w-5 h-5 animate-spin"}):p.jsx(fv,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),p.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function MD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MD(t))&&(r&&(r+=" "),r+=e);return r}var uz=Array.isArray,jn=uz,cz=typeof Ef=="object"&&Ef&&Ef.Object===Object&&Ef,OD=cz,dz=OD,fz=typeof self=="object"&&self&&self.Object===Object&&self,hz=dz||fz||Function("return this")(),ii=hz,pz=ii,mz=pz.Symbol,qd=mz,wA=qd,DD=Object.prototype,gz=DD.hasOwnProperty,yz=DD.toString,Au=wA?wA.toStringTag:void 0;function vz(t){var e=gz.call(t,Au),n=t[Au];try{t[Au]=void 0;var r=!0}catch{}var i=yz.call(t);return r&&(e?t[Au]=n:delete t[Au]),i}var xz=vz,_z=Object.prototype,wz=_z.toString;function bz(t){return wz.call(t)}var Ez=bz,bA=qd,Tz=xz,Sz=Ez,Az="[object Null]",Iz="[object Undefined]",EA=bA?bA.toStringTag:void 0;function Cz(t){return t==null?t===void 0?Iz:Az:EA&&EA in Object(t)?Tz(t):Sz(t)}var Fi=Cz;function Pz(t){return t!=null&&typeof t=="object"}var Bi=Pz,Nz=Fi,kz=Bi,Rz="[object Symbol]";function Mz(t){return typeof t=="symbol"||kz(t)&&Nz(t)==Rz}var Bl=Mz,Oz=jn,Dz=Bl,Lz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$z=/^\w*$/;function jz(t,e){if(Oz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Dz(t)?!0:$z.test(t)||!Lz.test(t)||e!=null&&t in Object(e)}var Wb=jz;function Vz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bo=Vz;const Gl=rt(Bo);var Uz=Fi,Fz=Bo,Bz="[object AsyncFunction]",Gz="[object Function]",zz="[object GeneratorFunction]",qz="[object Proxy]";function Hz(t){if(!Fz(t))return!1;var e=Uz(t);return e==Gz||e==zz||e==Bz||e==qz}var Kb=Hz;const Pe=rt(Kb);var Wz=ii,Kz=Wz["__core-js_shared__"],Jz=Kz,hv=Jz,TA=function(){var t=/[^.]+$/.exec(hv&&hv.keys&&hv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Yz(t){return!!TA&&TA in t}var Xz=Yz,Qz=Function.prototype,Zz=Qz.toString;function eq(t){if(t!=null){try{return Zz.call(t)}catch{}try{return t+""}catch{}}return""}var LD=eq,tq=Kb,nq=Xz,rq=Bo,iq=LD,oq=/[\\^$.*+?()[\]{}|]/g,sq=/^\[object .+?Constructor\]$/,aq=Function.prototype,lq=Object.prototype,uq=aq.toString,cq=lq.hasOwnProperty,dq=RegExp("^"+uq.call(cq).replace(oq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fq(t){if(!rq(t)||nq(t))return!1;var e=tq(t)?dq:sq;return e.test(iq(t))}var hq=fq;function pq(t,e){return t==null?void 0:t[e]}var mq=pq,gq=hq,yq=mq;function vq(t,e){var n=yq(t,e);return gq(n)?n:void 0}var Hs=vq,xq=Hs,_q=xq(Object,"create"),_g=_q,SA=_g;function wq(){this.__data__=SA?SA(null):{},this.size=0}var bq=wq;function Eq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Tq=Eq,Sq=_g,Aq="__lodash_hash_undefined__",Iq=Object.prototype,Cq=Iq.hasOwnProperty;function Pq(t){var e=this.__data__;if(Sq){var n=e[t];return n===Aq?void 0:n}return Cq.call(e,t)?e[t]:void 0}var Nq=Pq,kq=_g,Rq=Object.prototype,Mq=Rq.hasOwnProperty;function Oq(t){var e=this.__data__;return kq?e[t]!==void 0:Mq.call(e,t)}var Dq=Oq,Lq=_g,$q="__lodash_hash_undefined__";function jq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Lq&&e===void 0?$q:e,this}var Vq=jq,Uq=bq,Fq=Tq,Bq=Nq,Gq=Dq,zq=Vq;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=Uq;zl.prototype.delete=Fq;zl.prototype.get=Bq;zl.prototype.has=Gq;zl.prototype.set=zq;var qq=zl;function Hq(){this.__data__=[],this.size=0}var Wq=Hq;function Kq(t,e){return t===e||t!==t&&e!==e}var Jb=Kq,Jq=Jb;function Yq(t,e){for(var n=t.length;n--;)if(Jq(t[n][0],e))return n;return-1}var wg=Yq,Xq=wg,Qq=Array.prototype,Zq=Qq.splice;function eH(t){var e=this.__data__,n=Xq(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Zq.call(e,n,1),--this.size,!0}var tH=eH,nH=wg;function rH(t){var e=this.__data__,n=nH(e,t);return n<0?void 0:e[n][1]}var iH=rH,oH=wg;function sH(t){return oH(this.__data__,t)>-1}var aH=sH,lH=wg;function uH(t,e){var n=this.__data__,r=lH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var cH=uH,dH=Wq,fH=tH,hH=iH,pH=aH,mH=cH;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=dH;ql.prototype.delete=fH;ql.prototype.get=hH;ql.prototype.has=pH;ql.prototype.set=mH;var bg=ql,gH=Hs,yH=ii,vH=gH(yH,"Map"),Yb=vH,AA=qq,xH=bg,_H=Yb;function wH(){this.size=0,this.__data__={hash:new AA,map:new(_H||xH),string:new AA}}var bH=wH;function EH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var TH=EH,SH=TH;function AH(t,e){var n=t.__data__;return SH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Eg=AH,IH=Eg;function CH(t){var e=IH(this,t).delete(t);return this.size-=e?1:0,e}var PH=CH,NH=Eg;function kH(t){return NH(this,t).get(t)}var RH=kH,MH=Eg;function OH(t){return MH(this,t).has(t)}var DH=OH,LH=Eg;function $H(t,e){var n=LH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jH=$H,VH=bH,UH=PH,FH=RH,BH=DH,GH=jH;function Hl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hl.prototype.clear=VH;Hl.prototype.delete=UH;Hl.prototype.get=FH;Hl.prototype.has=BH;Hl.prototype.set=GH;var Xb=Hl,$D=Xb,zH="Expected a function";function Qb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Qb.Cache||$D),n}Qb.Cache=$D;var jD=Qb;const qH=rt(jD);var HH=jD,WH=500;function KH(t){var e=HH(t,function(r){return n.size===WH&&n.clear(),r}),n=e.cache;return e}var JH=KH,YH=JH,XH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QH=/\\(\\)?/g,ZH=YH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XH,function(n,r,i,o){e.push(i?o.replace(QH,"$1"):r||n)}),e}),e7=ZH;function t7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Zb=t7,IA=qd,n7=Zb,r7=jn,i7=Bl,CA=IA?IA.prototype:void 0,PA=CA?CA.toString:void 0;function VD(t){if(typeof t=="string")return t;if(r7(t))return n7(t,VD)+"";if(i7(t))return PA?PA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var o7=VD,s7=o7;function a7(t){return t==null?"":s7(t)}var UD=a7,l7=jn,u7=Wb,c7=e7,d7=UD;function f7(t,e){return l7(t)?t:u7(t,e)?[t]:c7(d7(t))}var FD=f7,h7=Bl;function p7(t){if(typeof t=="string"||h7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Tg=p7,m7=FD,g7=Tg;function y7(t,e){e=m7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[g7(e[n++])];return n&&n==r?t:void 0}var eE=y7,v7=eE;function x7(t,e,n){var r=t==null?void 0:v7(t,e);return r===void 0?n:r}var BD=x7;const dr=rt(BD);function _7(t){return t==null}var w7=_7;const De=rt(w7);var b7=Fi,E7=jn,T7=Bi,S7="[object String]";function A7(t){return typeof t=="string"||!E7(t)&&T7(t)&&b7(t)==S7}var I7=A7;const Ls=rt(I7);var GD={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=Symbol.for("react.element"),nE=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),C7=Symbol.for("react.server_context"),Ng=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),Mg=Symbol.for("react.memo"),Og=Symbol.for("react.lazy"),P7=Symbol.for("react.offscreen"),zD;zD=Symbol.for("react.module.reference");function vr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tE:switch(t=t.type,t){case Sg:case Ig:case Ag:case kg:case Rg:return t;default:switch(t=t&&t.$$typeof,t){case C7:case Pg:case Ng:case Og:case Mg:case Cg:return t;default:return e}}case nE:return e}}}Xe.ContextConsumer=Pg;Xe.ContextProvider=Cg;Xe.Element=tE;Xe.ForwardRef=Ng;Xe.Fragment=Sg;Xe.Lazy=Og;Xe.Memo=Mg;Xe.Portal=nE;Xe.Profiler=Ig;Xe.StrictMode=Ag;Xe.Suspense=kg;Xe.SuspenseList=Rg;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return vr(t)===Pg};Xe.isContextProvider=function(t){return vr(t)===Cg};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tE};Xe.isForwardRef=function(t){return vr(t)===Ng};Xe.isFragment=function(t){return vr(t)===Sg};Xe.isLazy=function(t){return vr(t)===Og};Xe.isMemo=function(t){return vr(t)===Mg};Xe.isPortal=function(t){return vr(t)===nE};Xe.isProfiler=function(t){return vr(t)===Ig};Xe.isStrictMode=function(t){return vr(t)===Ag};Xe.isSuspense=function(t){return vr(t)===kg};Xe.isSuspenseList=function(t){return vr(t)===Rg};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sg||t===Ig||t===Ag||t===kg||t===Rg||t===P7||typeof t=="object"&&t!==null&&(t.$$typeof===Og||t.$$typeof===Mg||t.$$typeof===Cg||t.$$typeof===Pg||t.$$typeof===Ng||t.$$typeof===zD||t.getModuleId!==void 0)};Xe.typeOf=vr;GD.exports=Xe;var N7=GD.exports,k7=Fi,R7=Bi,M7="[object Number]";function O7(t){return typeof t=="number"||R7(t)&&k7(t)==M7}var qD=O7;const D7=rt(qD);var L7=qD;function $7(t){return L7(t)&&t!=+t}var j7=$7;const Wl=rt(j7);var Pr=function(e){return e===0?0:e>0?1:-1},ps=function(e){return Ls(e)&&e.indexOf("%")===e.length-1},re=function(e){return D7(e)&&!Wl(e)},V7=function(e){return De(e)},Dt=function(e){return re(e)||Ls(e)},U7=0,Hd=function(e){var n=++U7;return"".concat(e||"").concat(n)},$s=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&!Ls(e))return r;var o;if(ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Wl(o)&&(o=r),i&&o>n&&(o=n),o},lo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},F7=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},or=function(e,n){return re(e)&&re(n)?function(r){return e+r*(n-e)}:function(){return n}};function Cp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):dr(r,e))===n})}var B7=function(e,n){return re(e)&&re(n)?e-n:Ls(e)&&Ls(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}var G7=["viewBox","children"],z7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NA=["points","pathLength"],pv={svg:G7,polygon:NA,polyline:NA},rE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Gl(r))return null;var i={};return Object.keys(r).forEach(function(o){rE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},q7=function(e,n,r){return function(i){return e(n,r,i),null}},Np=function(e,n,r){if(!Gl(e)||dx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];rE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=q7(s,n,r))}),i},H7=["children"],W7=["children"];function kA(t,e){if(t==null)return{};var n=K7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}var RA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},MA=null,mv=null,iE=function t(e){if(e===MA&&Array.isArray(mv))return mv;var n=[];return $.Children.forEach(e,function(r){De(r)||(N7.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mv=n,MA=e,n};function Mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return bi(i)}):r=[bi(e)],iE(t).forEach(function(i){var o=dr(i,"type.displayName")||dr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function zn(t,e){var n=Mr(t,e);return n&&n[0]}var OA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!re(r)||r<=0||!re(i)||i<=0)},J7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Y7=function(e){return e&&e.type&&Ls(e.type)&&J7.indexOf(e.type)>=0},X7=function(e){return e&&fx(e)==="object"&&"clipDot"in e},Q7=function(e,n,r,i){var o,s=(o=pv==null?void 0:pv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pe(e)&&(i&&s.includes(n)||z7.includes(n))||r&&rE.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Gl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Q7((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},hx=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!DA(o,s))return!1}return!0},DA=function(e,n){if(De(e)&&De(n))return!0;if(!De(e)&&!De(n)){var r=e.props||{},i=r.children,o=kA(r,H7),s=n.props||{},a=s.children,l=kA(s,W7);return i&&a?Fa(o,l)&&hx(i,a):!i&&!a?Fa(o,l):!1}return!1},LA=function(e,n){var r=[],i={};return iE(e).forEach(function(o,s){if(Y7(o))r.push(o);else if(o){var a=bi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},Z7=function(e){var n=e&&e.type;return n&&RA[n]?RA[n]:null},eW=function(e,n){return iE(n).indexOf(e)},tW=["children","width","height","viewBox","className","style","title","desc"];function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function nW(t,e){if(t==null)return{};var n=rW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=nW(t,tW),c=i||{width:n,height:r,x:0,y:0},d=Fe("recharts-surface",o);return j.createElement("svg",px({},Re(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),j.createElement("title",null,a),j.createElement("desc",null,l),e)}var iW=["children","className"];function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function oW(t,e){if(t==null)return{};var n=sW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=j.forwardRef(function(t,e){var n=t.children,r=t.className,i=oW(t,iW),o=Fe("recharts-layer",r);return j.createElement("g",gx({className:o},Re(i,!0),{ref:e}),n)}),Ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function aW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var lW=aW,uW=lW;function cW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:uW(t,e,n)}var dW=cW,fW="\\ud800-\\udfff",hW="\\u0300-\\u036f",pW="\\ufe20-\\ufe2f",mW="\\u20d0-\\u20ff",gW=hW+pW+mW,yW="\\ufe0e\\ufe0f",vW="\\u200d",xW=RegExp("["+vW+fW+gW+yW+"]");function _W(t){return xW.test(t)}var HD=_W;function wW(t){return t.split("")}var bW=wW,WD="\\ud800-\\udfff",EW="\\u0300-\\u036f",TW="\\ufe20-\\ufe2f",SW="\\u20d0-\\u20ff",AW=EW+TW+SW,IW="\\ufe0e\\ufe0f",CW="["+WD+"]",yx="["+AW+"]",vx="\\ud83c[\\udffb-\\udfff]",PW="(?:"+yx+"|"+vx+")",KD="[^"+WD+"]",JD="(?:\\ud83c[\\udde6-\\uddff]){2}",YD="[\\ud800-\\udbff][\\udc00-\\udfff]",NW="\\u200d",XD=PW+"?",QD="["+IW+"]?",kW="(?:"+NW+"(?:"+[KD,JD,YD].join("|")+")"+QD+XD+")*",RW=QD+XD+kW,MW="(?:"+[KD+yx+"?",yx,JD,YD,CW].join("|")+")",OW=RegExp(vx+"(?="+vx+")|"+MW+RW,"g");function DW(t){return t.match(OW)||[]}var LW=DW,$W=bW,jW=HD,VW=LW;function UW(t){return jW(t)?VW(t):$W(t)}var FW=UW,BW=dW,GW=HD,zW=FW,qW=UD;function HW(t){return function(e){e=qW(e);var n=GW(e)?zW(e):void 0,r=n?n[0]:e.charAt(0),i=n?BW(n,1).join(""):e.slice(1);return r[t]()+i}}var WW=HW,KW=WW,JW=KW("toUpperCase"),YW=JW;const Dg=rt(YW);function it(t){return function(){return t}}const ZD=Math.cos,kp=Math.sin,jr=Math.sqrt,Rp=Math.PI,Lg=2*Rp,xx=Math.PI,_x=2*xx,ss=1e-6,XW=_x-ss;function eL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ZW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eL:QW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ss)if(!(Math.abs(d*l-u*c)>ss)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,_=i-a,w=l*l+u*u,v=y*y+_*_,x=Math.sqrt(w),b=Math.sqrt(h),T=o*Math.tan((xx-Math.acos((w+h-v)/(2*x*b)))/2),N=T/b,A=T/x;Math.abs(N-1)>ss&&this._append`L${e+N*c},${n+N*d}`,this._append`A${o},${o},0,0,${+(d*y>c*_)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ss||Math.abs(this._y1-c)>ss)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%_x+_x),h>XW?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>ss&&this._append`A${r},${r},0,${+(h>=xx)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ZW(e)}function sE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tL(t){this._context=t}tL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $g(t){return new tL(t)}function nL(t){return t[0]}function rL(t){return t[1]}function iL(t,e){var n=it(!0),r=null,i=$g,o=null,s=oE(a);t=typeof t=="function"?t:t===void 0?nL:it(t),e=typeof e=="function"?e:e===void 0?rL:it(e);function a(l){var u,c=(l=sE(l)).length,d,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:it(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:it(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Hf(t,e,n){var r=null,i=it(!0),o=null,s=$g,a=null,l=oE(u);t=typeof t=="function"?t:t===void 0?nL:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?rL:it(+n);function u(d){var h,y,_,w=(d=sE(d)).length,v,x=!1,b,T=new Array(w),N=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(v=d[h],h,d))===x)if(x=!x)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),_=h-1;_>=y;--_)a.point(T[_],N[_]);a.lineEnd(),a.areaEnd()}x&&(T[h]=+t(v,h,d),N[h]=+e(v,h,d),a.point(r?+r(v,h,d):T[h],n?+n(v,h,d):N[h]))}if(b)return a=null,b+""||null}function c(){return iL().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:it(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:it(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:it(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class oL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function eK(t){return new oL(t,!0)}function tK(t){return new oL(t,!1)}const aE={draw(t,e){const n=jr(e/Rp);t.moveTo(n,0),t.arc(0,0,n,0,Lg)}},nK={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sL=jr(1/3),rK=sL*2,iK={draw(t,e){const n=jr(e/rK),r=n*sL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oK={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},sK=.8908130915292852,aL=kp(Rp/10)/kp(7*Rp/10),aK=kp(Lg/10)*aL,lK=-ZD(Lg/10)*aL,uK={draw(t,e){const n=jr(e*sK),r=aK*n,i=lK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Lg*o/5,a=ZD(s),l=kp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},gv=jr(3),cK={draw(t,e){const n=-jr(e/(gv*3));t.moveTo(0,n*2),t.lineTo(-gv*n,-n),t.lineTo(gv*n,-n),t.closePath()}},er=-.5,tr=jr(3)/2,wx=1/jr(12),dK=(wx/2+1)*3,fK={draw(t,e){const n=jr(e/dK),r=n/2,i=n*wx,o=r,s=n*wx+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(er*r-tr*i,tr*r+er*i),t.lineTo(er*o-tr*s,tr*o+er*s),t.lineTo(er*a-tr*l,tr*a+er*l),t.lineTo(er*r+tr*i,er*i-tr*r),t.lineTo(er*o+tr*s,er*s-tr*o),t.lineTo(er*a+tr*l,er*l-tr*a),t.closePath()}};function hK(t,e){let n=null,r=oE(i);t=typeof t=="function"?t:it(t||aE),e=typeof e=="function"?e:it(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:it(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:it(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Mp(){}function Op(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lL(t){this._context=t}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pK(t){return new lL(t)}function uL(t){this._context=t}uL.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mK(t){return new uL(t)}function cL(t){this._context=t}cL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gK(t){return new cL(t)}function dL(t){this._context=t}dL.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yK(t){return new dL(t)}function $A(t){return t<0?-1:1}function jA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return($A(o)+$A(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function VA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Dp(t){this._context=t}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yv(this,this._t0,VA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yv(this,VA(this,n=jA(this,t,e)),n);break;default:yv(this,this._t0,n=jA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function fL(t){this._context=new hL(t)}(fL.prototype=Object.create(Dp.prototype)).point=function(t,e){Dp.prototype.point.call(this,e,t)};function hL(t){this._context=t}hL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function vK(t){return new Dp(t)}function xK(t){return new fL(t)}function pL(t){this._context=t}pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UA(t),i=UA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function _K(t){return new pL(t)}function jg(t,e){this._context=t,this._t=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wK(t){return new jg(t,.5)}function bK(t){return new jg(t,0)}function EK(t){return new jg(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TK(t,e){return t[e]}function SK(t){const e=[];return e.key=t,e}function AK(){var t=it([]),e=bx,n=fl,r=TK;function i(o){var s=Array.from(t.apply(this,arguments),SK),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=sE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:it(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?bx:typeof o=="function"?o:it(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fl,i):n},i}function IK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function CK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fl(t,e)}}function PK(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,y=(d-h)/2,_=0;_<a;++_){var w=t[e[_]],v=w[r][1]||0,x=w[r-1][1]||0;y+=v-x}l+=d,u+=y*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}var NK=["type","size","sizeType"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){kK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kK(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=MK(t,"string");return Bc(e)=="symbol"?e:e+""}function MK(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OK(t,e){if(t==null)return{};var n=DK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mL={symbolCircle:aE,symbolCross:nK,symbolDiamond:iK,symbolSquare:oK,symbolStar:uK,symbolTriangle:cK,symbolWye:fK},LK=Math.PI/180,$K=function(e){var n="symbol".concat(Dg(e));return mL[n]||aE},jK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*LK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VK=function(e,n){mL["symbol".concat(Dg(e))]=n},lE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=OK(e,NK),u=BA(BA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var v=$K(r),x=hK().type(v).size(jK(o,a,r));return x()},d=u.className,h=u.cx,y=u.cy,_=Re(u,!0);return h===+h&&y===+y&&o===+o?j.createElement("path",Ex({},_,{className:Fe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};lE.registerSymbol=VK;function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(this,arguments)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){Gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yL(r.key),r)}}function GK(t,e,n){return e&&BK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zK(t,e,n){return e=Lp(e),qK(t,gL()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function qK(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HK(t)}function HK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function WK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sx(t,e)}function Sx(t,e){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sx(t,e)}function Gc(t,e,n){return e=yL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yL(t){var e=KK(t,"string");return hl(e)=="symbol"?e:e+""}function KK(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nr=32,uE=function(t){function e(){return FK(this,e),zK(this,e,arguments)}return WK(e,t),GK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=nr/2,s=nr/6,a=nr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:nr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(nr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nr/8,"h").concat(nr,"v").concat(nr*3/4,"h").concat(-nr,"z"),className:"recharts-legend-icon"});if(j.isValidElement(r.legendIcon)){var u=UK({},r);return delete u.legendIcon,j.cloneElement(r.legendIcon,u)}return j.createElement(lE,{fill:l,cx:o,cy:o,size:nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:nr,height:nr},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,_){var w=y.formatter||l,v=Fe(Gc(Gc({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",y.inactive));if(y.type==="none")return null;var x=Pe(y.value)?null:y.value;Ei(!Pe(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return j.createElement("li",Tx({className:v,style:d,key:"legend-item-".concat(_)},Np(r.props,y,_)),j.createElement(mx,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w?w(x,y,_):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);Gc(uE,"displayName","Legend");Gc(uE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JK=bg;function YK(){this.__data__=new JK,this.size=0}var XK=YK;function QK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ZK=QK;function eJ(t){return this.__data__.get(t)}var tJ=eJ;function nJ(t){return this.__data__.has(t)}var rJ=nJ,iJ=bg,oJ=Yb,sJ=Xb,aJ=200;function lJ(t,e){var n=this.__data__;if(n instanceof iJ){var r=n.__data__;if(!oJ||r.length<aJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sJ(r)}return n.set(t,e),this.size=n.size,this}var uJ=lJ,cJ=bg,dJ=XK,fJ=ZK,hJ=tJ,pJ=rJ,mJ=uJ;function Kl(t){var e=this.__data__=new cJ(t);this.size=e.size}Kl.prototype.clear=dJ;Kl.prototype.delete=fJ;Kl.prototype.get=hJ;Kl.prototype.has=pJ;Kl.prototype.set=mJ;var vL=Kl,gJ="__lodash_hash_undefined__";function yJ(t){return this.__data__.set(t,gJ),this}var vJ=yJ;function xJ(t){return this.__data__.has(t)}var _J=xJ,wJ=Xb,bJ=vJ,EJ=_J;function $p(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wJ;++e<n;)this.add(t[e])}$p.prototype.add=$p.prototype.push=bJ;$p.prototype.has=EJ;var xL=$p;function TJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _L=TJ;function SJ(t,e){return t.has(e)}var wL=SJ,AJ=xL,IJ=_L,CJ=wL,PJ=1,NJ=2;function kJ(t,e,n,r,i,o){var s=n&PJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,y=n&NJ?new AJ:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var _=t[d],w=e[d];if(r)var v=s?r(w,_,d,e,t,o):r(_,w,d,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(y){if(!IJ(e,function(x,b){if(!CJ(y,b)&&(_===x||i(_,x,n,r,o)))return y.push(b)})){h=!1;break}}else if(!(_===w||i(_,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var bL=kJ,RJ=ii,MJ=RJ.Uint8Array,OJ=MJ;function DJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var LJ=DJ;function $J(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cE=$J,zA=qd,qA=OJ,jJ=Jb,VJ=bL,UJ=LJ,FJ=cE,BJ=1,GJ=2,zJ="[object Boolean]",qJ="[object Date]",HJ="[object Error]",WJ="[object Map]",KJ="[object Number]",JJ="[object RegExp]",YJ="[object Set]",XJ="[object String]",QJ="[object Symbol]",ZJ="[object ArrayBuffer]",eY="[object DataView]",HA=zA?zA.prototype:void 0,vv=HA?HA.valueOf:void 0;function tY(t,e,n,r,i,o,s){switch(n){case eY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZJ:return!(t.byteLength!=e.byteLength||!o(new qA(t),new qA(e)));case zJ:case qJ:case KJ:return jJ(+t,+e);case HJ:return t.name==e.name&&t.message==e.message;case JJ:case XJ:return t==e+"";case WJ:var a=UJ;case YJ:var l=r&BJ;if(a||(a=FJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=GJ,s.set(t,e);var c=VJ(a(t),a(e),r,i,o,s);return s.delete(t),c;case QJ:if(vv)return vv.call(t)==vv.call(e)}return!1}var nY=tY;function rY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var EL=rY,iY=EL,oY=jn;function sY(t,e,n){var r=e(t);return oY(t)?r:iY(r,n(t))}var aY=sY;function lY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var uY=lY;function cY(){return[]}var dY=cY,fY=uY,hY=dY,pY=Object.prototype,mY=pY.propertyIsEnumerable,WA=Object.getOwnPropertySymbols,gY=WA?function(t){return t==null?[]:(t=Object(t),fY(WA(t),function(e){return mY.call(t,e)}))}:hY,yY=gY;function vY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xY=vY,_Y=Fi,wY=Bi,bY="[object Arguments]";function EY(t){return wY(t)&&_Y(t)==bY}var TY=EY,KA=TY,SY=Bi,TL=Object.prototype,AY=TL.hasOwnProperty,IY=TL.propertyIsEnumerable,CY=KA(function(){return arguments}())?KA:function(t){return SY(t)&&AY.call(t,"callee")&&!IY.call(t,"callee")},dE=CY,jp={exports:{}};function PY(){return!1}var NY=PY;jp.exports;(function(t,e){var n=ii,r=NY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(jp,jp.exports);var SL=jp.exports,kY=9007199254740991,RY=/^(?:0|[1-9]\d*)$/;function MY(t,e){var n=typeof t;return e=e??kY,!!e&&(n=="number"||n!="symbol"&&RY.test(t))&&t>-1&&t%1==0&&t<e}var fE=MY,OY=9007199254740991;function DY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OY}var hE=DY,LY=Fi,$Y=hE,jY=Bi,VY="[object Arguments]",UY="[object Array]",FY="[object Boolean]",BY="[object Date]",GY="[object Error]",zY="[object Function]",qY="[object Map]",HY="[object Number]",WY="[object Object]",KY="[object RegExp]",JY="[object Set]",YY="[object String]",XY="[object WeakMap]",QY="[object ArrayBuffer]",ZY="[object DataView]",eX="[object Float32Array]",tX="[object Float64Array]",nX="[object Int8Array]",rX="[object Int16Array]",iX="[object Int32Array]",oX="[object Uint8Array]",sX="[object Uint8ClampedArray]",aX="[object Uint16Array]",lX="[object Uint32Array]",ut={};ut[eX]=ut[tX]=ut[nX]=ut[rX]=ut[iX]=ut[oX]=ut[sX]=ut[aX]=ut[lX]=!0;ut[VY]=ut[UY]=ut[QY]=ut[FY]=ut[ZY]=ut[BY]=ut[GY]=ut[zY]=ut[qY]=ut[HY]=ut[WY]=ut[KY]=ut[JY]=ut[YY]=ut[XY]=!1;function uX(t){return jY(t)&&$Y(t.length)&&!!ut[LY(t)]}var cX=uX;function dX(t){return function(e){return t(e)}}var AL=dX,Vp={exports:{}};Vp.exports;(function(t,e){var n=OD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Vp,Vp.exports);var fX=Vp.exports,hX=cX,pX=AL,JA=fX,YA=JA&&JA.isTypedArray,mX=YA?pX(YA):hX,IL=mX,gX=xY,yX=dE,vX=jn,xX=SL,_X=fE,wX=IL,bX=Object.prototype,EX=bX.hasOwnProperty;function TX(t,e){var n=vX(t),r=!n&&yX(t),i=!n&&!r&&xX(t),o=!n&&!r&&!i&&wX(t),s=n||r||i||o,a=s?gX(t.length,String):[],l=a.length;for(var u in t)(e||EX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_X(u,l)))&&a.push(u);return a}var SX=TX,AX=Object.prototype;function IX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||AX;return t===n}var CX=IX;function PX(t,e){return function(n){return t(e(n))}}var CL=PX,NX=CL,kX=NX(Object.keys,Object),RX=kX,MX=CX,OX=RX,DX=Object.prototype,LX=DX.hasOwnProperty;function $X(t){if(!MX(t))return OX(t);var e=[];for(var n in Object(t))LX.call(t,n)&&n!="constructor"&&e.push(n);return e}var jX=$X,VX=Kb,UX=hE;function FX(t){return t!=null&&UX(t.length)&&!VX(t)}var Wd=FX,BX=SX,GX=jX,zX=Wd;function qX(t){return zX(t)?BX(t):GX(t)}var Vg=qX,HX=aY,WX=yY,KX=Vg;function JX(t){return HX(t,KX,WX)}var YX=JX,XA=YX,XX=1,QX=Object.prototype,ZX=QX.hasOwnProperty;function eQ(t,e,n,r,i,o){var s=n&XX,a=XA(t),l=a.length,u=XA(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:ZX.call(e,h)))return!1}var y=o.get(t),_=o.get(e);if(y&&_)return y==e&&_==t;var w=!0;o.set(t,e),o.set(e,t);for(var v=s;++d<l;){h=a[d];var x=t[h],b=e[h];if(r)var T=s?r(b,x,h,e,t,o):r(x,b,h,t,e,o);if(!(T===void 0?x===b||i(x,b,n,r,o):T)){w=!1;break}v||(v=h=="constructor")}if(w&&!v){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return o.delete(t),o.delete(e),w}var tQ=eQ,nQ=Hs,rQ=ii,iQ=nQ(rQ,"DataView"),oQ=iQ,sQ=Hs,aQ=ii,lQ=sQ(aQ,"Promise"),uQ=lQ,cQ=Hs,dQ=ii,fQ=cQ(dQ,"Set"),PL=fQ,hQ=Hs,pQ=ii,mQ=hQ(pQ,"WeakMap"),gQ=mQ,Ax=oQ,Ix=Yb,Cx=uQ,Px=PL,Nx=gQ,NL=Fi,Jl=LD,QA="[object Map]",yQ="[object Object]",ZA="[object Promise]",eI="[object Set]",tI="[object WeakMap]",nI="[object DataView]",vQ=Jl(Ax),xQ=Jl(Ix),_Q=Jl(Cx),wQ=Jl(Px),bQ=Jl(Nx),as=NL;(Ax&&as(new Ax(new ArrayBuffer(1)))!=nI||Ix&&as(new Ix)!=QA||Cx&&as(Cx.resolve())!=ZA||Px&&as(new Px)!=eI||Nx&&as(new Nx)!=tI)&&(as=function(t){var e=NL(t),n=e==yQ?t.constructor:void 0,r=n?Jl(n):"";if(r)switch(r){case vQ:return nI;case xQ:return QA;case _Q:return ZA;case wQ:return eI;case bQ:return tI}return e});var EQ=as,xv=vL,TQ=bL,SQ=nY,AQ=tQ,rI=EQ,iI=jn,oI=SL,IQ=IL,CQ=1,sI="[object Arguments]",aI="[object Array]",Wf="[object Object]",PQ=Object.prototype,lI=PQ.hasOwnProperty;function NQ(t,e,n,r,i,o){var s=iI(t),a=iI(e),l=s?aI:rI(t),u=a?aI:rI(e);l=l==sI?Wf:l,u=u==sI?Wf:u;var c=l==Wf,d=u==Wf,h=l==u;if(h&&oI(t)){if(!oI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new xv),s||IQ(t)?TQ(t,e,n,r,i,o):SQ(t,e,l,n,r,i,o);if(!(n&CQ)){var y=c&&lI.call(t,"__wrapped__"),_=d&&lI.call(e,"__wrapped__");if(y||_){var w=y?t.value():t,v=_?e.value():e;return o||(o=new xv),i(w,v,n,r,o)}}return h?(o||(o=new xv),AQ(t,e,n,r,i,o)):!1}var kQ=NQ,RQ=kQ,uI=Bi;function kL(t,e,n,r,i){return t===e?!0:t==null||e==null||!uI(t)&&!uI(e)?t!==t&&e!==e:RQ(t,e,n,r,kL,i)}var pE=kL,MQ=vL,OQ=pE,DQ=1,LQ=2;function $Q(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new MQ;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?OQ(c,u,DQ|LQ,r,d):h))return!1}}return!0}var jQ=$Q,VQ=Bo;function UQ(t){return t===t&&!VQ(t)}var RL=UQ,FQ=RL,BQ=Vg;function GQ(t){for(var e=BQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,FQ(i)]}return e}var zQ=GQ;function qQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var ML=qQ,HQ=jQ,WQ=zQ,KQ=ML;function JQ(t){var e=WQ(t);return e.length==1&&e[0][2]?KQ(e[0][0],e[0][1]):function(n){return n===t||HQ(n,t,e)}}var YQ=JQ;function XQ(t,e){return t!=null&&e in Object(t)}var QQ=XQ,ZQ=FD,eZ=dE,tZ=jn,nZ=fE,rZ=hE,iZ=Tg;function oZ(t,e,n){e=ZQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=iZ(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&rZ(i)&&nZ(s,i)&&(tZ(t)||eZ(t)))}var sZ=oZ,aZ=QQ,lZ=sZ;function uZ(t,e){return t!=null&&lZ(t,e,aZ)}var cZ=uZ,dZ=pE,fZ=BD,hZ=cZ,pZ=Wb,mZ=RL,gZ=ML,yZ=Tg,vZ=1,xZ=2;function _Z(t,e){return pZ(t)&&mZ(e)?gZ(yZ(t),e):function(n){var r=fZ(n,t);return r===void 0&&r===e?hZ(n,t):dZ(e,r,vZ|xZ)}}var wZ=_Z;function bZ(t){return t}var Yl=bZ;function EZ(t){return function(e){return e==null?void 0:e[t]}}var TZ=EZ,SZ=eE;function AZ(t){return function(e){return SZ(e,t)}}var IZ=AZ,CZ=TZ,PZ=IZ,NZ=Wb,kZ=Tg;function RZ(t){return NZ(t)?CZ(kZ(t)):PZ(t)}var MZ=RZ,OZ=YQ,DZ=wZ,LZ=Yl,$Z=jn,jZ=MZ;function VZ(t){return typeof t=="function"?t:t==null?LZ:typeof t=="object"?$Z(t)?DZ(t[0],t[1]):OZ(t):jZ(t)}var Go=VZ;function UZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var OL=UZ;function FZ(t){return t!==t}var BZ=FZ;function GZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var zZ=GZ,qZ=OL,HZ=BZ,WZ=zZ;function KZ(t,e,n){return e===e?WZ(t,e,n):qZ(t,HZ,n)}var JZ=KZ,YZ=JZ;function XZ(t,e){var n=t==null?0:t.length;return!!n&&YZ(t,e,0)>-1}var QZ=XZ;function ZZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var eee=ZZ;function tee(){}var nee=tee,_v=PL,ree=nee,iee=cE,oee=1/0,see=_v&&1/iee(new _v([,-0]))[1]==oee?function(t){return new _v(t)}:ree,aee=see,lee=xL,uee=QZ,cee=eee,dee=wL,fee=aee,hee=cE,pee=200;function mee(t,e,n){var r=-1,i=uee,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=cee;else if(o>=pee){var u=e?null:fee(t);if(u)return hee(u);s=!1,i=dee,l=new lee}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var gee=mee,yee=Go,vee=gee;function xee(t,e){return t&&t.length?vee(t,yee(e)):[]}var _ee=xee;const cI=rt(_ee);function DL(t,e,n){return e===!0?cI(t,n):Pe(e)?cI(t,e):t}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}var wee=["ref"];function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Ug(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$L(r.key),r)}}function Eee(t,e,n){return e&&fI(t.prototype,e),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tee(t,e,n){return e=Up(e),See(t,LL()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function See(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aee(t)}function Aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function Iee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kx(t,e)}function Ug(t,e,n){return e=$L(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $L(t){var e=Cee(t,"string");return pl(e)=="symbol"?e:e+""}function Cee(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pee(t,e){if(t==null)return{};var n=Nee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kee(t){return t.value}function Ree(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var n=Pee(e,wee);return j.createElement(uE,n)}var hI=1,Ba=function(t){function e(){var n;bee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tee(this,e,[].concat(i)),Ug(n,"lastBoundingBox",{width:-1,height:-1}),n}return Iee(e,t),Eee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hI||Math.abs(i.height-this.lastBoundingBox.height)>hI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var _=this.getBBoxSnapshot();h={top:((c||0)-_.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ui(ui({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=ui(ui({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},Ree(o,ui(ui({},this.props),{},{payload:DL(c,u,kee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ui(ui({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&re(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Ug(Ba,"displayName","Legend");Ug(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pI=qd,Mee=dE,Oee=jn,mI=pI?pI.isConcatSpreadable:void 0;function Dee(t){return Oee(t)||Mee(t)||!!(mI&&t&&t[mI])}var Lee=Dee,$ee=EL,jee=Lee;function jL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=jee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?jL(a,e-1,n,r,i):$ee(i,a):r||(i[i.length]=a)}return i}var VL=jL;function Vee(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Uee=Vee,Fee=Uee,Bee=Fee(),Gee=Bee,zee=Gee,qee=Vg;function Hee(t,e){return t&&zee(t,e,qee)}var UL=Hee,Wee=Wd;function Kee(t,e){return function(n,r){if(n==null)return n;if(!Wee(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Jee=Kee,Yee=UL,Xee=Jee,Qee=Xee(Yee),mE=Qee,Zee=mE,ete=Wd;function tte(t,e){var n=-1,r=ete(t)?Array(t.length):[];return Zee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var FL=tte;function nte(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var rte=nte,gI=Bl;function ite(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=gI(t),s=e!==void 0,a=e===null,l=e===e,u=gI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var ote=ite,ste=ote;function ate(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=ste(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var lte=ate,wv=Zb,ute=eE,cte=Go,dte=FL,fte=rte,hte=AL,pte=lte,mte=Yl,gte=jn;function yte(t,e,n){e.length?e=wv(e,function(o){return gte(o)?function(s){return ute(s,o.length===1?o[0]:o)}:o}):e=[mte];var r=-1;e=wv(e,hte(cte));var i=dte(t,function(o,s,a){var l=wv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return fte(i,function(o,s){return pte(o,s,n)})}var vte=yte;function xte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _te=xte,wte=_te,yI=Math.max;function bte(t,e,n){return e=yI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=yI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),wte(t,this,a)}}var Ete=bte;function Tte(t){return function(){return t}}var Ste=Tte,Ate=Hs,Ite=function(){try{var t=Ate(Object,"defineProperty");return t({},"",{}),t}catch{}}(),BL=Ite,Cte=Ste,vI=BL,Pte=Yl,Nte=vI?function(t,e){return vI(t,"toString",{configurable:!0,enumerable:!1,value:Cte(e),writable:!0})}:Pte,kte=Nte,Rte=800,Mte=16,Ote=Date.now;function Dte(t){var e=0,n=0;return function(){var r=Ote(),i=Mte-(r-n);if(n=r,i>0){if(++e>=Rte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Lte=Dte,$te=kte,jte=Lte,Vte=jte($te),Ute=Vte,Fte=Yl,Bte=Ete,Gte=Ute;function zte(t,e){return Gte(Bte(t,e,Fte),t+"")}var qte=zte,Hte=Jb,Wte=Wd,Kte=fE,Jte=Bo;function Yte(t,e,n){if(!Jte(n))return!1;var r=typeof e;return(r=="number"?Wte(n)&&Kte(e,n.length):r=="string"&&e in n)?Hte(n[e],t):!1}var Fg=Yte,Xte=VL,Qte=vte,Zte=qte,xI=Fg,ene=Zte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&xI(t,e[0],e[1])?e=[]:n>2&&xI(e[0],e[1],e[2])&&(e=[e[0]]),Qte(t,Xte(e,1),[])}),tne=ene;const gE=rt(tne);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(this,arguments)}function nne(t,e){return sne(t)||one(t,e)||ine(t,e)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(t,e){if(t){if(typeof t=="string")return _I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function one(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sne(t){if(Array.isArray(t))return t}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return e=lne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=une(t,"string");return zc(e)=="symbol"?e:e+""}function une(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cne(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var dne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,y=e.wrapperClassName,_=e.labelClassName,w=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,T=function(){if(c&&c.length){var D={padding:0,margin:0},O=(h?gE(c,h):c).map(function(U,B){if(U.type==="none")return null;var G=bv({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),W=U.formatter||d||cne,V=U.value,K=U.name,Y=V,se=K;if(W&&Y!=null&&se!=null){var ee=W(V,K,U,B,c);if(Array.isArray(ee)){var ue=nne(ee,2);Y=ue[0],se=ue[1]}else Y=ee}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:G},Dt(se)?j.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Dt(se)?j.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,j.createElement("span",{className:"recharts-tooltip-item-value"},Y),j.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},N=bv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=bv({margin:0},u),P=!De(w),S=P?w:"",C=Fe("recharts-default-tooltip",y),I=Fe("recharts-tooltip-label",_);P&&v&&c!==void 0&&c!==null&&(S=v(w,c));var R=b?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Rx({className:C,style:N},R),j.createElement("p",{className:I,style:A},j.isValidElement(S)?S:"".concat(S)),T())};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Kf(t,e,n){return e=fne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=hne(t,"string");return qc(e)=="symbol"?e:e+""}function hne(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu="recharts-tooltip-wrapper",pne={visibility:"hidden"};function mne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Fe(Iu,Kf(Kf(Kf(Kf({},"".concat(Iu,"-right"),re(n)&&e&&re(e.x)&&n>=e.x),"".concat(Iu,"-left"),re(n)&&e&&re(e.x)&&n<e.x),"".concat(Iu,"-bottom"),re(r)&&e&&re(e.y)&&r>=e.y),"".concat(Iu,"-top"),re(r)&&e&&re(e.y)&&r<e.y))}function bI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&re(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,y=l[r];return h<y?Math.max(d,l[r]):Math.max(c,l[r])}var _=d+a,w=l[r]+u;return _>w?Math.max(c,l[r]):Math.max(d,l[r])}function gne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=bI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=bI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=gne({translateX:c,translateY:d,useTranslate3d:a})):u=pne,{cssProperties:u,cssClasses:mne({translateX:c,translateY:d,coordinate:n})}}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function _ne(t,e,n){return e&&xne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wne(t,e,n){return e=Fp(e),bne(t,GL()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function bne(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(t)}function Ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function Tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mx(t,e)}function Mx(t,e){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mx(t,e)}function Ox(t,e,n){return e=zL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zL(t){var e=Sne(t,"string");return ml(e)=="symbol"?e:e+""}function Sne(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SI=1,Ane=function(t){function e(){var n;vne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wne(this,e,[].concat(i)),Ox(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ox(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Tne(e,t),_ne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>SI||Math.abs(r.height-this.state.lastBoundingBox.height)>SI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,y=i.offset,_=i.position,w=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,T=yne({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:_,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=T.cssClasses,A=T.cssProperties,P=TI(TI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return j.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(C){r.wrapperNode=C}},u)}}])}($.PureComponent),Ine=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xl={isSsr:Ine()};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){yE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function Nne(t,e,n){return e&&Pne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kne(t,e,n){return e=Bp(e),Rne(t,qL()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function Rne(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mne(t)}function Mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function One(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dx(t,e)}function yE(t,e,n){return e=HL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HL(t){var e=Dne(t,"string");return gl(e)=="symbol"?e:e+""}function Dne(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lne(t){return t.dataKey}function $ne(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(dne,e)}var Sr=function(t){function e(){return Cne(this,e),kne(this,e,arguments)}return One(e,t),Nne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,y=i.offset,_=i.payload,w=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,N=i.wrapperStyle,A=_??[];d&&A.length&&(A=DL(_.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Lne));var P=A.length>0;return j.createElement(Ane,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:y,position:v,reverseDirection:x,useTranslate3d:b,viewBox:T,wrapperStyle:N},$ne(u,II(II({},this.props),{},{payload:A})))}}])}($.PureComponent);yE(Sr,"displayName","Tooltip");yE(Sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jne=ii,Vne=function(){return jne.Date.now()},Une=Vne,Fne=/\s/;function Bne(t){for(var e=t.length;e--&&Fne.test(t.charAt(e)););return e}var Gne=Bne,zne=Gne,qne=/^\s+/;function Hne(t){return t&&t.slice(0,zne(t)+1).replace(qne,"")}var Wne=Hne,Kne=Wne,CI=Bo,Jne=Bl,PI=NaN,Yne=/^[-+]0x[0-9a-f]+$/i,Xne=/^0b[01]+$/i,Qne=/^0o[0-7]+$/i,Zne=parseInt;function ere(t){if(typeof t=="number")return t;if(Jne(t))return PI;if(CI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Kne(t);var n=Xne.test(t);return n||Qne.test(t)?Zne(t.slice(2),n?2:8):Yne.test(t)?PI:+t}var WL=ere,tre=Bo,Ev=Une,NI=WL,nre="Expected a function",rre=Math.max,ire=Math.min;function ore(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(nre);e=NI(e)||0,tre(n)&&(c=!!n.leading,d="maxWait"in n,o=d?rre(NI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(P){var S=r,C=i;return r=i=void 0,u=P,s=t.apply(C,S),s}function _(P){return u=P,a=setTimeout(x,e),c?y(P):s}function w(P){var S=P-l,C=P-u,I=e-S;return d?ire(I,o-C):I}function v(P){var S=P-l,C=P-u;return l===void 0||S>=e||S<0||d&&C>=o}function x(){var P=Ev();if(v(P))return b(P);a=setTimeout(x,w(P))}function b(P){return a=void 0,h&&r?y(P):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:b(Ev())}function A(){var P=Ev(),S=v(P);if(r=arguments,i=this,l=P,S){if(a===void 0)return _(l);if(d)return clearTimeout(a),a=setTimeout(x,e),y(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=T,A.flush=N,A}var sre=ore,are=sre,lre=Bo,ure="Expected a function";function cre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ure);return lre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),are(t,e,{leading:r,maxWait:e,trailing:i})}var dre=cre;const KL=rt(dre);function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return Hc(e)=="symbol"?e:e+""}function pre(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mre(t,e){return xre(t)||vre(t,e)||yre(t,e)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function xre(t){if(Array.isArray(t))return t}var JL=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,y=t.children,_=t.debounce,w=_===void 0?0:_,v=t.id,x=t.className,b=t.onResize,T=t.style,N=T===void 0?{}:T,A=$.useRef(null),P=$.useRef();P.current=b,$.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=$.useState({containerWidth:i.width,containerHeight:i.height}),C=mre(S,2),I=C[0],R=C[1],M=$.useCallback(function(O,U){R(function(B){var G=Math.round(O),W=Math.round(U);return B.containerWidth===G&&B.containerHeight===W?B:{containerWidth:G,containerHeight:W}})},[]);$.useEffect(function(){var O=function(K){var Y,se=K[0].contentRect,ee=se.width,ue=se.height;M(ee,ue),(Y=P.current)===null||Y===void 0||Y.call(P,ee,ue)};w>0&&(O=KL(O,w,{trailing:!0,leading:!1}));var U=new ResizeObserver(O),B=A.current.getBoundingClientRect(),G=B.width,W=B.height;return M(G,W),U.observe(A.current),function(){U.disconnect()}},[M,w]);var D=$.useMemo(function(){var O=I.containerWidth,U=I.containerHeight;if(O<0||U<0)return null;Ei(ps(s)||ps(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ps(s)?O:s,G=ps(l)?U:l;n&&n>0&&(B?G=B/n:G&&(B=G*n),h&&G>h&&(G=h)),Ei(B>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,G,s,l,c,d,n);var W=!Array.isArray(y)&&bi(y.type).endsWith("Chart");return j.Children.map(y,function(V){return j.isValidElement(V)?$.cloneElement(V,Jf({width:B,height:G},W?{style:Jf({height:"100%",width:"100%",maxHeight:G,maxWidth:B},V.props.style)}:{})):V})},[n,y,l,h,d,c,I,s]);return j.createElement("div",{id:v?"".concat(v):void 0,className:Fe("recharts-responsive-container",x),style:Jf(Jf({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:A},D)}),YL=function(e){return null};YL.displayName="Cell";function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return e=wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=bre(t,"string");return Wc(e)=="symbol"?e:e+""}function bre(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia={widthCache:{},cacheCount:0},Ere=2e3,Tre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OI="recharts_measurement_span";function Sre(t){var e=Lx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var uc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xl.isSsr)return{width:0,height:0};var r=Sre(n),i=JSON.stringify({text:e,copyStyle:r});if(ia.widthCache[i])return ia.widthCache[i];try{var o=document.getElementById(OI);o||(o=document.createElement("span"),o.setAttribute("id",OI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Lx(Lx({},Tre),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ia.widthCache[i]=l,++ia.cacheCount>Ere&&(ia.cacheCount=0,ia.widthCache={}),l}catch{return{width:0,height:0}}},Are=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Gp(t,e){return Nre(t)||Pre(t,e)||Cre(t,e)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return DI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Nre(t){if(Array.isArray(t))return t}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mre(r.key),r)}}function Rre(t,e,n){return e&&LI(t.prototype,e),n&&LI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t){var e=Ore(t,"string");return Kc(e)=="symbol"?e:e+""}function Ore(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$re=Object.keys(XL),Ta="NaN";function jre(t,e){return t*XL[e]}var Yf=function(){function t(e,n){kre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Dre.test(n)&&(this.num=NaN,this.unit=""),$re.includes(n)&&(this.num=jre(e,n),this.unit="px")}return Rre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Lre.exec(n))!==null&&r!==void 0?r:[],o=Gp(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function QL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=$I.exec(e))!==null&&n!==void 0?n:[],i=Gp(r,4),o=i[1],s=i[2],a=i[3],l=Yf.parse(o??""),u=Yf.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace($I,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=jI.exec(e))!==null&&d!==void 0?d:[],y=Gp(h,4),_=y[1],w=y[2],v=y[3],x=Yf.parse(_??""),b=Yf.parse(v??""),T=w==="+"?x.add(b):x.subtract(b);if(T.isNaN())return Ta;e=e.replace(jI,T.toString())}return e}var VI=/\(([^()]*)\)/;function Vre(t){for(var e=t;e.includes("(");){var n=VI.exec(e),r=Gp(n,2),i=r[1];e=e.replace(VI,QL(i))}return e}function Ure(t){var e=t.replace(/\s+/g,"");return e=Vre(e),e=QL(e),e}function Fre(t){try{return Ure(t)}catch{return Ta}}function Tv(t){var e=Fre(t.slice(5,-1));return e===Ta?"":e}var Bre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gre=["dx","dy","angle","className","breakAll"];function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function UI(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FI(t,e){return Kre(t)||Wre(t,e)||Hre(t,e)||qre()}function qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t,e){if(t){if(typeof t=="string")return BI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(t,e)}}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Kre(t){if(Array.isArray(t))return t}var ZL=/[ \f\n\r\t\v\u2028\u2029]+/,e$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];De(n)||(r?o=n.toString().split(""):o=n.toString().split(ZL));var s=o.map(function(l){return{word:l,width:uc(l,i).width}}),a=r?0:uc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Jre=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=re(s),d=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(G,W){var V=W.word,K=W.width,Y=G[G.length-1];if(Y&&(i==null||o||Y.width+K+r<Number(i)))Y.words.push(V),Y.width+=K+r;else{var se={words:[V],width:K};G.push(se)}return G},[])},y=h(n),_=function(B){return B.reduce(function(G,W){return G.width>W.width?G:W})};if(!c)return y;for(var w="",v=function(B){var G=d.slice(0,B),W=e$({breakAll:u,style:l,children:G+w}).wordsWithComputedWidth,V=h(W),K=V.length>s||_(V).width>Number(i);return[K,V]},x=0,b=d.length-1,T=0,N;x<=b&&T<=d.length-1;){var A=Math.floor((x+b)/2),P=A-1,S=v(P),C=FI(S,2),I=C[0],R=C[1],M=v(A),D=FI(M,1),O=D[0];if(!I&&!O&&(x=A+1),I&&O&&(b=A-1),!I&&O){N=R;break}T++}return N||y},GI=function(e){var n=De(e)?[]:e.toString().split(ZL);return[{words:n}]},Yre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Xl.isSsr){var l,u,c=e$({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return GI(i);return Jre({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return GI(i)},zI="#808080",zp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,_=e.verticalAnchor,w=_===void 0?"end":_,v=e.fill,x=v===void 0?zI:v,b=UI(e,Bre),T=$.useMemo(function(){return Yre({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,A=b.dy,P=b.angle,S=b.className,C=b.breakAll,I=UI(b,Gre);if(!Dt(r)||!Dt(o))return null;var R=r+(re(N)?N:0),M=o+(re(A)?A:0),D;switch(w){case"start":D=Tv("calc(".concat(u,")"));break;case"middle":D=Tv("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Tv("calc(".concat(T.length-1," * -").concat(a,")"));break}var O=[];if(d){var U=T[0].width,B=b.width;O.push("scale(".concat((re(B)?B/U:1)/U,")"))}return P&&O.push("rotate(".concat(P,", ").concat(R,", ").concat(M,")")),O.length&&(I.transform=O.join(" ")),j.createElement("text",$x({},Re(I,!0),{x:R,y:M,className:Fe("recharts-text",S),textAnchor:y,fill:x.includes("url")?zI:x}),T.map(function(G,W){var V=G.words.join(C?"":" ");return j.createElement("tspan",{x:R,dy:W===0?D:a,key:"".concat(V,"-").concat(W)},V)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vE(t){let e,n,r;t.length!==2?(e=No,n=(a,l)=>No(t(a),l),r=(a,l)=>t(a)-l):(e=t===No||t===Xre?t:Qre,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Qre(){return 0}function t$(t){return t===null?NaN:+t}function*Zre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const eie=vE(No),Kd=eie.right;vE(t$).center;class qI extends Map{constructor(e,n=rie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(HI(this,e))}has(e){return super.has(HI(this,e))}set(e,n){return super.set(tie(this,e),n)}delete(e){return super.delete(nie(this,e))}}function HI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function tie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function nie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iie(t=No){if(t===No)return n$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function n$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oie=Math.sqrt(50),sie=Math.sqrt(10),aie=Math.sqrt(2);function qp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=oie?10:o>=sie?5:o>=aie?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?qp(t,e,n*2):[a,l,u]}function jx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?qp(e,t,n):qp(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Vx(t,e,n){return e=+e,t=+t,n=+n,qp(t,e,n)[2]}function Ux(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Vx(e,t,n):Vx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function WI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function r$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?n$:iie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*d/l+h)),_=Math.min(r,Math.floor(e+(l-u)*d/l+h));r$(t,e,y,_,i)}const o=t[e];let s=n,a=r;for(Cu(t,n,e),i(t[r],o)>0&&Cu(t,n,r);s<a;){for(Cu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Cu(t,n,a):(++a,Cu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Cu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lie(t,e,n){if(t=Float64Array.from(Zre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KI(t);if(e>=1)return WI(t);var r,i=(r-1)*e,o=Math.floor(i),s=WI(r$(t,o).subarray(0,o+1)),a=KI(t.subarray(o+1));return s+(a-s)*(i-o)}}function uie(t,e,n=t$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function cie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function xr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Fx=Symbol("implicit");function xE(){var t=new qI,e=[],n=[],r=Fx;function i(o){let s=t.get(o);if(s===void 0){if(r!==Fx)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new qI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xE(e,n).unknown(r)},xr.apply(i,arguments),i}function Jc(){var t=xE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,y=i<r,_=y?i:r,w=y?r:i;o=(w-_)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),_+=(w-_-o*(h-l))*c,s=o*(1-l),a&&(_=Math.round(_),s=Math.round(s));var v=cie(h).map(function(x){return _+o*x});return n(y?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Jc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},xr.apply(d(),arguments)}function i$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return i$(e())},t}function cc(){return i$(Jc.apply(null,arguments).paddingInner(1))}function _E(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function o$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jd(){}var Yc=.7,Hp=1/Yc,Ga="\\s*([+-]?\\d+)\\s*",Xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",die=/^#([0-9a-f]{3,8})$/,fie=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),hie=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),pie=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${Xc}\\)$`),mie=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${Xc}\\)$`),gie=new RegExp(`^hsl\\(${Xc},${Xr},${Xr}\\)$`),yie=new RegExp(`^hsla\\(${Xc},${Xr},${Xr},${Xc}\\)$`),JI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_E(Jd,Qc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YI,formatHex:YI,formatHex8:vie,formatHsl:xie,formatRgb:XI,toString:XI});function YI(){return this.rgb().formatHex()}function vie(){return this.rgb().formatHex8()}function xie(){return s$(this).formatHsl()}function XI(){return this.rgb().formatRgb()}function Qc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=die.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?QI(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fie.exec(t))?new On(e[1],e[2],e[3],1):(e=hie.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pie.exec(t))?Xf(e[1],e[2],e[3],e[4]):(e=mie.exec(t))?Xf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gie.exec(t))?tC(e[1],e[2]/100,e[3]/100,1):(e=yie.exec(t))?tC(e[1],e[2]/100,e[3]/100,e[4]):JI.hasOwnProperty(t)?QI(JI[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function QI(t){return new On(t>>16&255,t>>8&255,t&255,1)}function Xf(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function _ie(t){return t instanceof Jd||(t=Qc(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function Bx(t,e,n,r){return arguments.length===1?_ie(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_E(On,Bx,o$(Jd,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yc:Math.pow(Yc,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(Es(this.r),Es(this.g),Es(this.b),Wp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZI,formatHex:ZI,formatHex8:wie,formatRgb:eC,toString:eC}));function ZI(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function wie(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function eC(){const t=Wp(this.opacity);return`${t===1?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${t===1?")":`, ${t})`}`}function Wp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=Es(t),(t<16?"0":"")+t.toString(16)}function tC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cr(t,e,n,r)}function s$(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof Jd||(t=Qc(t)),!t)return new Cr;if(t instanceof Cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Cr(s,a,l,t.opacity)}function bie(t,e,n,r){return arguments.length===1?s$(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_E(Cr,bie,o$(Jd,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yc:Math.pow(Yc,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(Sv(t>=240?t-240:t+120,i,r),Sv(t,i,r),Sv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(nC(this.h),Qf(this.s),Qf(this.l),Wp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wp(this.opacity);return`${t===1?"hsl(":"hsla("}${nC(this.h)}, ${Qf(this.s)*100}%, ${Qf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nC(t){return t=(t||0)%360,t<0?t+360:t}function Qf(t){return Math.max(0,Math.min(1,t||0))}function Sv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wE=t=>()=>t;function Eie(t,e){return function(n){return t+n*e}}function Tie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sie(t){return(t=+t)==1?a$:function(e,n){return n-e?Tie(e,n,t):wE(isNaN(e)?n:e)}}function a$(t,e){var n=e-t;return n?Eie(t,n):wE(isNaN(t)?e:t)}const rC=function t(e){var n=Sie(e);function r(i,o){var s=n((i=Bx(i)).r,(o=Bx(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=a$(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Aie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Iie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ql(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Pie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ql(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Gx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Av=new RegExp(Gx.source,"g");function kie(t){return function(){return t}}function Rie(t){return function(e){return t(e)+""}}function Mie(t,e){var n=Gx.lastIndex=Av.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Gx.exec(t))&&(i=Av.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Kp(r,i)})),n=Av.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Rie(l[0].x):kie(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Ql(t,e){var n=typeof e,r;return e==null||n==="boolean"?wE(e):(n==="number"?Kp:n==="string"?(r=Qc(e))?(e=r,rC):Mie:e instanceof Qc?rC:e instanceof Date?Pie:Iie(e)?Aie:Array.isArray(e)?Cie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nie:Kp)(t,e)}function bE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Oie(t,e){e===void 0&&(e=t,t=Ql);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Die(t){return function(){return t}}function Jp(t){return+t}var iC=[0,1];function bn(t){return t}function zx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Die(isNaN(e)?NaN:.5)}function Lie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $ie(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=zx(i,r),o=n(s,o)):(r=zx(r,i),o=n(o,s)),function(a){return o(r(a))}}function jie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=zx(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Kd(t,a,1,r)-1;return o[l](i[l](a))}}function Yd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bg(){var t=iC,e=iC,n=Ql,r,i,o,s=bn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==bn&&(s=Lie(t[0],t[h-1])),a=h>2?jie:$ie,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),Kp)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Jp),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=bE,c()},d.clamp=function(h){return arguments.length?(s=h?!0:bn,c()):s!==bn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,y){return r=h,i=y,c()}}function EE(){return Bg()(bn,bn)}function Vie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yl(t){return t=Yp(Math.abs(t)),t?t[1]:NaN}function Uie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Fie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zc(t){if(!(e=Bie.exec(t)))throw new Error("invalid format: "+t);var e;return new TE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zc.prototype=TE.prototype;function TE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Xp;function zie(t,e){var n=Yp(t,e);if(!n)return Xp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Xp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Yp(t,Math.max(0,e+o-1))[0]}function oC(t,e){var n=Yp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Vie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oC(t*100,e),r:oC,s:zie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aC(t){return t}var lC=Array.prototype.map,uC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qie(t){var e=t.grouping===void 0||t.thousands===void 0?aC:Uie(lC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?aC:Fie(lC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=Zc(d);var y=d.fill,_=d.align,w=d.sign,v=d.symbol,x=d.zero,b=d.width,T=d.comma,N=d.precision,A=d.trim,P=d.type;P==="n"?(T=!0,P="g"):sC[P]||(N===void 0&&(N=12),A=!0,P="g"),(x||y==="0"&&_==="=")&&(x=!0,y="0",_="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),C=(v==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=sC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M(D){var O=S,U=C,B,G,W;if(P==="c")U=I(D)+U,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),N),A&&(D=Gie(D)),V&&+D==0&&w!=="+"&&(V=!1),O=(V?w==="("?w:a:w==="-"||w==="("?"":w)+O,U=(P==="s"&&!isNaN(D)&&Xp!==void 0?uC[8+Xp/3]:"")+U+(V&&w==="("?")":""),R){for(B=-1,G=D.length;++B<G;)if(W=D.charCodeAt(B),48>W||W>57){U=(W===46?i+D.slice(B+1):D.slice(B))+U,D=D.slice(0,B);break}}}T&&!x&&(D=e(D,1/0));var K=O.length+D.length+U.length,Y=K<b?new Array(b-K+1).join(y):"";switch(T&&x&&(D=e(Y+D,Y.length?b-U.length:1/0),Y=""),_){case"<":D=O+D+U+Y;break;case"=":D=O+Y+D+U;break;case"^":D=Y.slice(0,K=Y.length>>1)+O+D+U+Y.slice(K);break;default:D=Y+O+D+U;break}return o(D)}return M.toString=function(){return d+""},M}function c(d,h){var y=Math.max(-8,Math.min(8,Math.floor(yl(h)/3)))*3,_=Math.pow(10,-y),w=u((d=Zc(d),d.type="f",d),{suffix:uC[8+y/3]});return function(v){return w(_*v)}}return{format:u,formatPrefix:c}}var Zf,SE,l$;Hie({thousands:",",grouping:[3],currency:["$",""]});function Hie(t){return Zf=qie(t),SE=Zf.format,l$=Zf.formatPrefix,Zf}function Wie(t){return Math.max(0,-yl(Math.abs(t)))}function Kie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(e)/3)))*3-yl(Math.abs(t)))}function Jie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yl(e)-yl(t))+1}function u$(t,e,n,r){var i=Ux(t,e,n),o;switch(r=Zc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Kie(i,s))&&(r.precision=o),l$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Wie(i))&&(r.precision=o-(r.type==="%")*2);break}}return SE(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return jx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return u$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Vx(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Qp(){var t=EE();return t.copy=function(){return Yd(t,Qp())},xr.apply(t,arguments),zo(t)}function c$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Jp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return c$(t).unknown(e)},t=arguments.length?Array.from(t,Jp):[0,1],zo(n)}function d$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function cC(t){return Math.log(t)}function dC(t){return Math.exp(t)}function Yie(t){return-Math.log(-t)}function Xie(t){return-Math.exp(-t)}function Qie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zie(t){return t===10?Qie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fC(t){return(e,n)=>-t(-e,n)}function AE(t){const e=t(cC,dC),n=e.domain;let r=10,i,o;function s(){return i=eoe(r),o=Zie(r),n()[0]<0?(i=fC(i),o=fC(o),t(Yie,Xie)):t(cC,dC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),y=i(c),_,w;const v=a==null?10:+a;let x=[];if(!(r%1)&&y-h<v){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(_=1;_<r;++_)if(w=h<0?_/o(-h):_*o(h),!(w<u)){if(w>c)break;x.push(w)}}else for(;h<=y;++h)for(_=r-1;_>=1;--_)if(w=h>0?_/o(-h):_*o(h),!(w<u)){if(w>c)break;x.push(w)}x.length*2<v&&(x=jx(u,c,v))}else x=jx(h,y,Math.min(y-h,v)).map(o);return d?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Zc(l)).precision==null&&(l.trim=!0),l=SE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(d$(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function f$(){const t=AE(Bg()).domain([1,10]);return t.copy=()=>Yd(t,f$()).base(t.base()),xr.apply(t,arguments),t}function hC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function IE(t){var e=1,n=t(hC(e),pC(e));return n.constant=function(r){return arguments.length?t(hC(e=+r),pC(e)):e},zo(n)}function h$(){var t=IE(Bg());return t.copy=function(){return Yd(t,h$()).constant(t.constant())},xr.apply(t,arguments)}function mC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function toe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function noe(t){return t<0?-t*t:t*t}function CE(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(toe,noe):t(mC(n),mC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function PE(){var t=CE(Bg());return t.copy=function(){return Yd(t,PE()).exponent(t.exponent())},xr.apply(t,arguments),t}function roe(){return PE.apply(null,arguments).exponent(.5)}function gC(t){return Math.sign(t)*t*t}function ioe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function p$(){var t=EE(),e=[0,1],n=!1,r;function i(o){var s=ioe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(gC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Jp)).map(gC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return p$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xr.apply(i,arguments),zo(i)}function m$(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=uie(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Kd(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return m$().domain(t).range(e).unknown(r)},xr.apply(o,arguments)}function g$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Kd(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return g$().domain([t,e]).range(i).unknown(o)},xr.apply(zo(s),arguments)}function y$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Kd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return y$().domain(t).range(e).unknown(n)},xr.apply(i,arguments)}const Iv=new Date,Cv=new Date;function $t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>$t(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Iv.setTime(+o),Cv.setTime(+s),t(Iv),t(Cv),Math.floor(n(Iv,Cv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Zp=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zp);Zp.range;const vi=1e3,ar=vi*60,xi=ar*60,Oi=xi*24,NE=Oi*7,yC=Oi*30,Pv=Oi*365,gs=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCSeconds());gs.range;const kE=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());kE.range;const RE=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());RE.range;const ME=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getHours());ME.range;const OE=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getUTCHours());OE.range;const Xd=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Oi,t=>t.getDate()-1);Xd.range;const Gg=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);Gg.range;const v$=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));v$.range;function Ws(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/NE)}const zg=Ws(0),em=Ws(1),ooe=Ws(2),soe=Ws(3),vl=Ws(4),aoe=Ws(5),loe=Ws(6);zg.range;em.range;ooe.range;soe.range;vl.range;aoe.range;loe.range;function Ks(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NE)}const qg=Ks(0),tm=Ks(1),uoe=Ks(2),coe=Ks(3),xl=Ks(4),doe=Ks(5),foe=Ks(6);qg.range;tm.range;uoe.range;coe.range;xl.range;doe.range;foe.range;const DE=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DE.range;const LE=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LE.range;const Di=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Di.range;const Li=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Li.range;function x$(t,e,n,r,i,o){const s=[[gs,1,vi],[gs,5,5*vi],[gs,15,15*vi],[gs,30,30*vi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,xi],[i,3,3*xi],[i,6,6*xi],[i,12,12*xi],[r,1,Oi],[r,2,2*Oi],[n,1,NE],[e,1,yC],[e,3,3*yC],[t,1,Pv]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const y=d&&typeof d.range=="function"?d:l(u,c,d),_=y?y.range(u,+c+1):[];return h?_.reverse():_}function l(u,c,d){const h=Math.abs(c-u)/d,y=vE(([,,v])=>v).right(s,h);if(y===s.length)return t.every(Ux(u/Pv,c/Pv,d));if(y===0)return Zp.every(Math.max(Ux(u,c,d),1));const[_,w]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return _.every(w)}return[a,l]}const[hoe,poe]=x$(Li,LE,qg,v$,OE,RE),[moe,goe]=x$(Di,DE,zg,Xd,ME,kE);function Nv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yoe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Nu(i),c=ku(i),d=Nu(o),h=ku(o),y=Nu(s),_=ku(s),w=Nu(a),v=ku(a),x=Nu(l),b=ku(l),T={a:W,A:V,b:K,B:Y,c:null,d:EC,e:EC,f:Uoe,g:Yoe,G:Qoe,H:$oe,I:joe,j:Voe,L:_$,m:Foe,M:Boe,p:se,q:ee,Q:AC,s:IC,S:Goe,u:zoe,U:qoe,V:Hoe,w:Woe,W:Koe,x:null,X:null,y:Joe,Y:Xoe,Z:Zoe,"%":SC},N={a:ue,A:Ce,b:Ne,B:We,c:null,d:TC,e:TC,f:rse,g:hse,G:mse,H:ese,I:tse,j:nse,L:b$,m:ise,M:ose,p:q,q:Ve,Q:AC,s:IC,S:sse,u:ase,U:lse,V:use,w:cse,W:dse,x:null,X:null,y:fse,Y:pse,Z:gse,"%":SC},A={a:R,A:M,b:D,B:O,c:U,d:wC,e:wC,f:Moe,g:_C,G:xC,H:bC,I:bC,j:Poe,L:Roe,m:Coe,M:Noe,p:I,q:Ioe,Q:Doe,s:Loe,S:koe,u:boe,U:Eoe,V:Toe,w:woe,W:Soe,x:B,X:G,y:_C,Y:xC,Z:Aoe,"%":Ooe};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(ie,ye){return function(xe){var Q=[],Le=-1,Ie=0,et=ie.length,X,me,Qe;for(xe instanceof Date||(xe=new Date(+xe));++Le<et;)ie.charCodeAt(Le)===37&&(Q.push(ie.slice(Ie,Le)),(me=vC[X=ie.charAt(++Le)])!=null?X=ie.charAt(++Le):me=X==="e"?" ":"0",(Qe=ye[X])&&(X=Qe(xe,me)),Q.push(X),Ie=Le+1);return Q.push(ie.slice(Ie,Le)),Q.join("")}}function S(ie,ye){return function(xe){var Q=Pu(1900,void 0,1),Le=C(Q,ie,xe+="",0),Ie,et;if(Le!=xe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ye&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ie=kv(Pu(Q.y,0,1)),et=Ie.getUTCDay(),Ie=et>4||et===0?tm.ceil(Ie):tm(Ie),Ie=Gg.offset(Ie,(Q.V-1)*7),Q.y=Ie.getUTCFullYear(),Q.m=Ie.getUTCMonth(),Q.d=Ie.getUTCDate()+(Q.w+6)%7):(Ie=Nv(Pu(Q.y,0,1)),et=Ie.getDay(),Ie=et>4||et===0?em.ceil(Ie):em(Ie),Ie=Xd.offset(Ie,(Q.V-1)*7),Q.y=Ie.getFullYear(),Q.m=Ie.getMonth(),Q.d=Ie.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),et="Z"in Q?kv(Pu(Q.y,0,1)).getUTCDay():Nv(Pu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(et+5)%7:Q.w+Q.U*7-(et+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,kv(Q)):Nv(Q)}}function C(ie,ye,xe,Q){for(var Le=0,Ie=ye.length,et=xe.length,X,me;Le<Ie;){if(Q>=et)return-1;if(X=ye.charCodeAt(Le++),X===37){if(X=ye.charAt(Le++),me=A[X in vC?ye.charAt(Le++):X],!me||(Q=me(ie,xe,Q))<0)return-1}else if(X!=xe.charCodeAt(Q++))return-1}return Q}function I(ie,ye,xe){var Q=u.exec(ye.slice(xe));return Q?(ie.p=c.get(Q[0].toLowerCase()),xe+Q[0].length):-1}function R(ie,ye,xe){var Q=y.exec(ye.slice(xe));return Q?(ie.w=_.get(Q[0].toLowerCase()),xe+Q[0].length):-1}function M(ie,ye,xe){var Q=d.exec(ye.slice(xe));return Q?(ie.w=h.get(Q[0].toLowerCase()),xe+Q[0].length):-1}function D(ie,ye,xe){var Q=x.exec(ye.slice(xe));return Q?(ie.m=b.get(Q[0].toLowerCase()),xe+Q[0].length):-1}function O(ie,ye,xe){var Q=w.exec(ye.slice(xe));return Q?(ie.m=v.get(Q[0].toLowerCase()),xe+Q[0].length):-1}function U(ie,ye,xe){return C(ie,e,ye,xe)}function B(ie,ye,xe){return C(ie,n,ye,xe)}function G(ie,ye,xe){return C(ie,r,ye,xe)}function W(ie){return s[ie.getDay()]}function V(ie){return o[ie.getDay()]}function K(ie){return l[ie.getMonth()]}function Y(ie){return a[ie.getMonth()]}function se(ie){return i[+(ie.getHours()>=12)]}function ee(ie){return 1+~~(ie.getMonth()/3)}function ue(ie){return s[ie.getUTCDay()]}function Ce(ie){return o[ie.getUTCDay()]}function Ne(ie){return l[ie.getUTCMonth()]}function We(ie){return a[ie.getUTCMonth()]}function q(ie){return i[+(ie.getUTCHours()>=12)]}function Ve(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ye=P(ie+="",T);return ye.toString=function(){return ie},ye},parse:function(ie){var ye=S(ie+="",!1);return ye.toString=function(){return ie},ye},utcFormat:function(ie){var ye=P(ie+="",N);return ye.toString=function(){return ie},ye},utcParse:function(ie){var ye=S(ie+="",!0);return ye.toString=function(){return ie},ye}}}var vC={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,voe=/^%/,xoe=/[\\^$*+?|[\]().{}]/g;function ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _oe(t){return t.replace(xoe,"\\$&")}function Nu(t){return new RegExp("^(?:"+t.map(_oe).join("|")+")","i")}function ku(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function woe(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Toe(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xC(t,e,n){var r=zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _C(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Aoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ioe(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Coe(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wC(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bC(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Moe(t,e,n){var r=zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ooe(t,e,n){var r=voe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Doe(t,e,n){var r=zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function EC(t,e){return ze(t.getDate(),e,2)}function $oe(t,e){return ze(t.getHours(),e,2)}function joe(t,e){return ze(t.getHours()%12||12,e,2)}function Voe(t,e){return ze(1+Xd.count(Di(t),t),e,3)}function _$(t,e){return ze(t.getMilliseconds(),e,3)}function Uoe(t,e){return _$(t,e)+"000"}function Foe(t,e){return ze(t.getMonth()+1,e,2)}function Boe(t,e){return ze(t.getMinutes(),e,2)}function Goe(t,e){return ze(t.getSeconds(),e,2)}function zoe(t){var e=t.getDay();return e===0?7:e}function qoe(t,e){return ze(zg.count(Di(t)-1,t),e,2)}function w$(t){var e=t.getDay();return e>=4||e===0?vl(t):vl.ceil(t)}function Hoe(t,e){return t=w$(t),ze(vl.count(Di(t),t)+(Di(t).getDay()===4),e,2)}function Woe(t){return t.getDay()}function Koe(t,e){return ze(em.count(Di(t)-1,t),e,2)}function Joe(t,e){return ze(t.getFullYear()%100,e,2)}function Yoe(t,e){return t=w$(t),ze(t.getFullYear()%100,e,2)}function Xoe(t,e){return ze(t.getFullYear()%1e4,e,4)}function Qoe(t,e){var n=t.getDay();return t=n>=4||n===0?vl(t):vl.ceil(t),ze(t.getFullYear()%1e4,e,4)}function Zoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function TC(t,e){return ze(t.getUTCDate(),e,2)}function ese(t,e){return ze(t.getUTCHours(),e,2)}function tse(t,e){return ze(t.getUTCHours()%12||12,e,2)}function nse(t,e){return ze(1+Gg.count(Li(t),t),e,3)}function b$(t,e){return ze(t.getUTCMilliseconds(),e,3)}function rse(t,e){return b$(t,e)+"000"}function ise(t,e){return ze(t.getUTCMonth()+1,e,2)}function ose(t,e){return ze(t.getUTCMinutes(),e,2)}function sse(t,e){return ze(t.getUTCSeconds(),e,2)}function ase(t){var e=t.getUTCDay();return e===0?7:e}function lse(t,e){return ze(qg.count(Li(t)-1,t),e,2)}function E$(t){var e=t.getUTCDay();return e>=4||e===0?xl(t):xl.ceil(t)}function use(t,e){return t=E$(t),ze(xl.count(Li(t),t)+(Li(t).getUTCDay()===4),e,2)}function cse(t){return t.getUTCDay()}function dse(t,e){return ze(tm.count(Li(t)-1,t),e,2)}function fse(t,e){return ze(t.getUTCFullYear()%100,e,2)}function hse(t,e){return t=E$(t),ze(t.getUTCFullYear()%100,e,2)}function pse(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function mse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xl(t):xl.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function gse(){return"+0000"}function SC(){return"%"}function AC(t){return+t}function IC(t){return Math.floor(+t/1e3)}var oa,T$,S$;yse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yse(t){return oa=yoe(t),T$=oa.format,oa.parse,S$=oa.utcFormat,oa.utcParse,oa}function vse(t){return new Date(t)}function xse(t){return t instanceof Date?+t:+new Date(+t)}function $E(t,e,n,r,i,o,s,a,l,u){var c=EE(),d=c.invert,h=c.domain,y=u(".%L"),_=u(":%S"),w=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),T=u("%B"),N=u("%Y");function A(P){return(l(P)<P?y:a(P)<P?_:s(P)<P?w:o(P)<P?v:r(P)<P?i(P)<P?x:b:n(P)<P?T:N)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,xse)):h().map(vse)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?A:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(d$(S,P)):c},c.copy=function(){return Yd(c,$E(t,e,n,r,i,o,s,a,l,u))},c}function _se(){return xr.apply($E(moe,goe,Di,DE,zg,Xd,ME,kE,gs,T$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wse(){return xr.apply($E(hoe,poe,Li,LE,qg,Gg,OE,RE,gs,S$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hg(){var t=0,e=1,n,r,i,o,s=bn,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var y,_;return arguments.length?([y,_]=h,s=d(y,_),u):[s(0),s(1)]}}return u.range=c(Ql),u.rangeRound=c(bE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function A$(){var t=zo(Hg()(bn));return t.copy=function(){return qo(t,A$())},Gi.apply(t,arguments)}function I$(){var t=AE(Hg()).domain([1,10]);return t.copy=function(){return qo(t,I$()).base(t.base())},Gi.apply(t,arguments)}function C$(){var t=IE(Hg());return t.copy=function(){return qo(t,C$()).constant(t.constant())},Gi.apply(t,arguments)}function jE(){var t=CE(Hg());return t.copy=function(){return qo(t,jE()).exponent(t.exponent())},Gi.apply(t,arguments)}function bse(){return jE.apply(null,arguments).exponent(.5)}function P$(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>lie(t,o/r))},n.copy=function(){return P$(e).domain(t)},Gi.apply(n,arguments)}function Wg(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=bn,c,d=!1,h;function y(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(d?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(d=!!w,y):d},y.interpolator=function(w){return arguments.length?(u=w,y):u};function _(w){return function(v){var x,b,T;return arguments.length?([x,b,T]=v,u=Oie(w,[x,b,T]),y):[u(0),u(.5),u(1)]}}return y.range=_(Ql),y.rangeRound=_(bE),y.unknown=function(w){return arguments.length?(h=w,y):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function N$(){var t=zo(Wg()(bn));return t.copy=function(){return qo(t,N$())},Gi.apply(t,arguments)}function k$(){var t=AE(Wg()).domain([.1,1,10]);return t.copy=function(){return qo(t,k$()).base(t.base())},Gi.apply(t,arguments)}function R$(){var t=IE(Wg());return t.copy=function(){return qo(t,R$()).constant(t.constant())},Gi.apply(t,arguments)}function VE(){var t=CE(Wg());return t.copy=function(){return qo(t,VE()).exponent(t.exponent())},Gi.apply(t,arguments)}function Ese(){return VE.apply(null,arguments).exponent(.5)}const CC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jc,scaleDiverging:N$,scaleDivergingLog:k$,scaleDivergingPow:VE,scaleDivergingSqrt:Ese,scaleDivergingSymlog:R$,scaleIdentity:c$,scaleImplicit:Fx,scaleLinear:Qp,scaleLog:f$,scaleOrdinal:xE,scalePoint:cc,scalePow:PE,scaleQuantile:m$,scaleQuantize:g$,scaleRadial:p$,scaleSequential:A$,scaleSequentialLog:I$,scaleSequentialPow:jE,scaleSequentialQuantile:P$,scaleSequentialSqrt:bse,scaleSequentialSymlog:C$,scaleSqrt:roe,scaleSymlog:h$,scaleThreshold:y$,scaleTime:_se,scaleUtc:wse,tickFormat:u$},Symbol.toStringTag,{value:"Module"}));var Tse=Bl;function Sse(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Tse(s):n(s,a)))var a=s,l=o}return l}var M$=Sse;function Ase(t,e){return t>e}var Ise=Ase,Cse=M$,Pse=Ise,Nse=Yl;function kse(t){return t&&t.length?Cse(t,Nse,Pse):void 0}var Rse=kse;const po=rt(Rse);function Mse(t,e){return t<e}var Ose=Mse,Dse=M$,Lse=Ose,$se=Yl;function jse(t){return t&&t.length?Dse(t,$se,Lse):void 0}var Vse=jse;const Kg=rt(Vse);var Use=Zb,Fse=Go,Bse=FL,Gse=jn;function zse(t,e){var n=Gse(t)?Use:Bse;return n(t,Fse(e))}var qse=zse,Hse=VL,Wse=qse;function Kse(t,e){return Hse(Wse(t,e),1)}var Jse=Kse;const Yse=rt(Jse);var Xse=pE;function Qse(t,e){return Xse(t,e)}var Zse=Qse;const ed=rt(Zse);var Zl=1e9,eae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FE,ht=!0,gr="[DecimalError] ",Ts=gr+"Invalid argument: ",UE=gr+"Exponent out of range: ",eu=Math.floor,ls=Math.pow,tae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Ft=1e7,ct=7,O$=9007199254740991,nm=eu(O$/ct),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return Ti(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return nt(Ti(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return Pt(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(ht=!1,e=Ti(td(n,o),td(t,o),o),ht=!0,nt(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$$(e,t):D$(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(ht=!1,e=Ti(n,t,0,1).times(t),ht=!0,n.minus(e)):nt(new r(n),i)};he.naturalExponential=he.exp=function(){return L$(this)};he.naturalLogarithm=he.ln=function(){return td(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D$(e,t):$$(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=Pt(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(gr+"NaN")}for(t=Pt(a),ht=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=eu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ti(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(nt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ht=!0,nt(r,n)};he.times=he.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,y=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Ft|0,e=a/Ft|0;o[i]=(o[i]+e)%Ft|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ht?nt(t,d.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,Zl),e===void 0?e=r.rounding:ti(e,0,8),nt(n,t+Pt(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=js(r,!0):(ti(t,0,Zl),e===void 0?e=i.rounding:ti(e,0,8),r=nt(new i(r),t+1,e),n=js(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?js(i):(ti(t,0,Zl),e===void 0?e=o.rounding:ti(e,0,8),r=nt(new o(i),t+Pt(i)+1,e),n=js(r.abs(),!1,t+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return nt(new e(t),Pt(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(qn);if(a=new l(a),!a.s){if(t.s<1)throw Error(gr+"Infinity");return a}if(a.eq(qn))return a;if(r=l.precision,t.eq(qn))return nt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=O$){for(i=new l(qn),e=Math.ceil(r/ct+4),ht=!1;n%2&&(i=i.times(a),NC(i.d,e)),n=eu(n/2),n!==0;)a=a.times(a),NC(a.d,e);return ht=!0,t.s<0?new l(qn).div(i):nt(i,r)}}else if(o<0)throw Error(gr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ht=!1,i=t.times(td(a,r+u)),ht=!0,i=L$(i),i.s=o,i};he.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Pt(i),r=js(i,n<=o.toExpNeg||n>=o.toExpPos)):(ti(t,1,Zl),e===void 0?e=o.rounding:ti(e,0,8),i=nt(new o(i),t,e),n=Pt(i),r=js(i,t<=n||n<=o.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,Zl),e===void 0?e=r.rounding:ti(e,0,8)),nt(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),n=t.constructor;return js(t,e<=n.toExpNeg||e>=n.toExpPos)};function D$(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ht?nt(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/ct),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ft|0,l[o]%=Ft;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ht?nt(e,d):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=ct-r.length,n&&(o+=no(n)),o+=r;s=t[e],r=s+"",n=ct-r.length,n&&(o+=no(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ti=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ft|0,s=o/Ft|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,y,_,w,v,x,b,T,N,A,P,S,C,I=r.constructor,R=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(gr+"Division by zero");for(l=r.e-i.e,S=D.length,A=M.length,y=new I(R),_=y.d=[],u=0;D[u]==(M[u]||0);)++u;if(D[u]>(M[u]||0)&&--l,o==null?b=o=I.precision:s?b=o+(Pt(r)-Pt(i))+1:b=o,b<0)return new I(0);if(b=b/ct+2|0,u=0,S==1)for(c=0,D=D[0],b++;(u<A||c)&&b--;u++)T=c*Ft+(M[u]||0),_[u]=T/D|0,c=T%D|0;else{for(c=Ft/(D[0]+1)|0,c>1&&(D=t(D,c),M=t(M,c),S=D.length,A=M.length),N=S,w=M.slice(0,S),v=w.length;v<S;)w[v++]=0;C=D.slice(),C.unshift(0),P=D[0],D[1]>=Ft/2&&++P;do c=0,a=e(D,w,S,v),a<0?(x=w[0],S!=v&&(x=x*Ft+(w[1]||0)),c=x/P|0,c>1?(c>=Ft&&(c=Ft-1),d=t(D,c),h=d.length,v=w.length,a=e(d,w,h,v),a==1&&(c--,n(d,S<h?C:D,h))):(c==0&&(a=c=1),d=D.slice()),h=d.length,h<v&&d.unshift(0),n(w,d,v),a==-1&&(v=w.length,a=e(D,w,S,v),a<1&&(c++,n(w,S<v?C:D,v))),v=w.length):a===0&&(c++,w=[0]),_[u++]=c,a&&w[0]?w[v++]=M[N]||0:(w=[M[N]],v=1);while((N++<A||w[0]!==void 0)&&b--)}return _[0]||_.shift(),y.e=l,nt(y,s?o+Pt(y)+1:o)}}();function L$(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(Pt(t)>16)throw Error(UE+Pt(t));if(!t.s)return new c(qn);for(ht=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(qn),c.precision=a;;){if(i=nt(i.times(t),a),n=n.times(++l),s=o.plus(Ti(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;u--;)o=nt(o.times(o),a);return c.precision=d,e==null?(ht=!0,nt(o,d)):o}o=s}}function Pt(t){for(var e=t.e*ct,n=t.d[0];n>=10;n/=10)e++;return e}function Rv(t,e,n){if(e>t.LN10.sd())throw ht=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return nt(new t(t.LN10),e)}function no(t){for(var e="";t--;)e+="0";return e}function td(t,e){var n,r,i,o,s,a,l,u,c,d=1,h=10,y=t,_=y.d,w=y.constructor,v=w.precision;if(y.s<1)throw Error(gr+(y.s?"NaN":"-Infinity"));if(y.eq(qn))return new w(0);if(e==null?(ht=!1,u=v):u=e,y.eq(10))return e==null&&(ht=!0),Rv(w,u);if(u+=h,w.precision=u,n=Gr(_),r=n.charAt(0),o=Pt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Gr(y.d),r=n.charAt(0),d++;o=Pt(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return l=Rv(w,u+2,v).times(o+""),y=td(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=v,e==null?(ht=!0,nt(y,v)):y;for(a=s=y=Ti(y.minus(qn),y.plus(qn),u),c=nt(y.times(y),u),i=3;;){if(s=nt(s.times(c),u),l=a.plus(Ti(s,new w(i),u)),Gr(l.d).slice(0,u)===Gr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Rv(w,u+2,v).times(o+""))),a=Ti(a,new w(d),u),w.precision=v,e==null?(ht=!0,nt(a,v)):a;a=l,i+=2}}function PC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=eu(n/ct),t.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ct;r<i;)t.d.push(+e.slice(r,r+=ct));e=e.slice(r),r=ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ht&&(t.e>nm||t.e<-nm))throw Error(UE+n)}else t.s=0,t.e=0,t.d=[0];return t}function nt(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=ct,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/ct),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=ct,i=r-ct+s}if(n!==void 0&&(o=ls(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Pt(t),d.length=1,e=e-o-1,d[0]=ls(10,(ct-e%ct)%ct),t.e=eu(-e/ct)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=ls(10,ct-r),d[c]=i>0?(u/ls(10,s-i)%ls(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Ft&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Ft)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(ht&&(t.e>nm||t.e<-nm))throw Error(UE+Pt(t));return t}function $$(t,e){var n,r,i,o,s,a,l,u,c,d,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?nt(e,y):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(y/ct),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Ft-1;--l[o],l[i]+=Ft}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ht?nt(e,y):e):new h(0)}function js(t,e,n){var r,i=Pt(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+no(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+no(-i-1)+o,n&&(r=n-s)>0&&(o+=no(r))):i>=s?(o+=no(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+no(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=no(r))),t.s<0?"-"+o:o}function NC(t,e){if(t.length>e)return t.length=e,!0}function j$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return PC(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,tae.test(o))PC(s,o);else throw Error(Ts+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j$,i.config=i.set=nae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nae(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,Zl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(eu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var FE=j$(eae);qn=new FE(1);const Ze=FE;function rae(t){return aae(t)||sae(t)||oae(t)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qx(t,e)}}function sae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function aae(t){if(Array.isArray(t))return qx(t)}function qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lae=function(e){return e},V$={},U$=function(e){return e===V$},kC=function(e){return function n(){return arguments.length===0||arguments.length===1&&U$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uae=function t(e,n){return e===1?n:kC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==V$}).length;return s>=e?n.apply(void 0,i):t(e-s,kC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return U$(d)?l.shift():d});return n.apply(void 0,rae(c).concat(l))}))})},Jg=function(e){return uae(e.length,e)},Hx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cae=Jg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),dae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lae;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Wx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},F$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function fae(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function hae(t,e,n){for(var r=new Ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pae=Jg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mae=Jg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),gae=Jg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Yg={rangeStep:hae,getDigitCount:fae,interpolateNumber:pae,uninterpolateNumber:mae,uninterpolateTruncation:gae};function Kx(t){return xae(t)||vae(t)||B$(t)||yae()}function yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xae(t){if(Array.isArray(t))return Jx(t)}function nd(t,e){return bae(t)||wae(t,e)||B$(t,e)||_ae()}function _ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function bae(t){if(Array.isArray(t))return t}function G$(t){var e=nd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function z$(t,e,n){if(t.lte(0))return new Ze(0);var r=Yg.getDigitCount(t.toNumber()),i=new Ze(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ze(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ze(Math.ceil(l))}function Eae(t,e,n){var r=1,i=new Ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ze(10).pow(Yg.getDigitCount(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));var s=Math.floor((e-1)/2),a=dae(cae(function(l){return i.add(new Ze(l-s).mul(r)).toNumber()}),Hx);return a(0,e)}function q$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=z$(new Ze(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ze(0):(s=new Ze(t).add(e).div(2),s=s.sub(new Ze(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ze(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?q$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ze(a).mul(o)),tickMax:s.add(new Ze(l).mul(o))})}function Tae(t){var e=nd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=G$([n,r]),l=nd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Kx(Hx(0,i-1).map(function(){return 1/0}))):[].concat(Kx(Hx(0,i-1).map(function(){return-1/0})),[c]);return n>r?Wx(d):d}if(u===c)return Eae(u,i,o);var h=q$(u,c,s,o),y=h.step,_=h.tickMin,w=h.tickMax,v=Yg.rangeStep(_,w.add(new Ze(.1).mul(y)),y);return n>r?Wx(v):v}function Sae(t,e){var n=nd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=G$([r,i]),a=nd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=z$(new Ze(u).sub(l).div(c-1),o,0),h=[].concat(Kx(Yg.rangeStep(new Ze(l),new Ze(u).sub(new Ze(.99).mul(d)),d)),[u]);return r>i?Wx(h):h}var Aae=F$(Tae),Iae=F$(Sae),Cae="Invariant failed";function Vs(t,e){throw new Error(Cae)}var Pae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}function Nae(t,e){return Oae(t)||Mae(t,e)||Rae(t,e)||kae()}function kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return RC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(t,e)}}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Oae(t){if(Array.isArray(t))return t}function Dae(t,e){if(t==null)return{};var n=Lae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function Vae(t,e,n){return e&&jae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,n){return e=im(e),Fae(t,H$()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Fae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bae(t)}function Bae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Gae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}function Yx(t,e){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yx(t,e)}function W$(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=zae(t,"string");return _l(e)=="symbol"?e:e+""}function zae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xg=function(t){function e(){return $ae(this,e),Uae(this,e,arguments)}return Gae(e,t),Vae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Dae(r,Pae),y=Re(h,!1);this.props.direction==="x"&&c.type!=="number"&&Vs();var _=l.map(function(w){var v=u(w,a),x=v.x,b=v.y,T=v.value,N=v.errorVal;if(!N)return null;var A=[],P,S;if(Array.isArray(N)){var C=Nae(N,2);P=C[0],S=C[1]}else P=S=N;if(o==="vertical"){var I=c.scale,R=b+i,M=R+s,D=R-s,O=I(T-P),U=I(T+S);A.push({x1:U,y1:M,x2:U,y2:D}),A.push({x1:O,y1:R,x2:U,y2:R}),A.push({x1:O,y1:M,x2:O,y2:D})}else if(o==="horizontal"){var B=d.scale,G=x+i,W=G-s,V=G+s,K=B(T-P),Y=B(T+S);A.push({x1:W,y1:Y,x2:V,y2:Y}),A.push({x1:G,y1:K,x2:G,y2:Y}),A.push({x1:W,y1:K,x2:V,y2:K})}return j.createElement(gt,rm({className:"recharts-errorBar",key:"bar-".concat(A.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},y),A.map(function(se){return j.createElement("line",rm({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return j.createElement(gt,{className:"recharts-errorBars"},_)}}])}(j.Component);W$(Xg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});W$(Xg,"displayName","ErrorBar");function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Wae(t,"string");return rd(e)=="symbol"?e:e+""}function Wae(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=zn(n,Ba);if(!s)return null;var a=Ba.defaultProps,l=a!==void 0?ns(ns({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,y=d.props,_=y.sectors||y.data||[];return c.concat(_.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,y=h!==void 0?ns(ns({},h),d.props):{},_=y.dataKey,w=y.name,v=y.legendType,x=y.hide;return{inactive:x,dataKey:_,type:l.iconType||v||"square",color:BE(d),value:w||_,payload:y}}),ns(ns(ns({},l),Ba.getWithHeight(s,i)),{},{payload:u,item:s})};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function OC(t){return Xae(t)||Yae(t)||Jae(t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(t,e){if(t){if(typeof t=="string")return Xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(t,e)}}function Yae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xae(t){if(Array.isArray(t))return Xx(t)}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function za(t,e,n){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Zae(t,"string");return id(e)=="symbol"?e:e+""}function Zae(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return De(t)||De(e)?n:Dt(e)?dr(t,e,n):Pe(e)?e(t):n}function dc(t,e,n,r){var i=Yse(t,function(a){return Yn(a,e)});if(n==="number"){var o=i.filter(function(a){return re(a)||parseFloat(a)});return o.length?[Kg(o),po(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!De(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var ele=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Pr(d-c)!==Pr(h-d)){var _=[];if(Pr(h-d)===Pr(l[1]-l[0])){y=h;var w=d+l[1]-l[0];_[0]=Math.min(w,(w+c)/2),_[1]=Math.max(w,(w+c)/2)}else{y=c;var v=h+l[1]-l[0];_[0]=Math.min(d,(v+d)/2),_[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>x[0]&&e<=x[1]||e>=_[0]&&e<=_[1]){s=i[u].index;break}}else{var b=Math.min(c,h),T=Math.max(c,h);if(e>(b+d)/2&&e<=(T+d)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},BE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},tle=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),h=0,y=d.length;h<y;h++){var _=c[d[h]],w=_.items,v=_.cateAxisId,x=w.filter(function(S){return bi(S.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,T=b!==void 0?bt(bt({},b),x[0].props):x[0].props,N=T.barSize,A=T[v];s[A]||(s[A]=[]);var P=De(N)?n:N;s[A].push({item:x[0],stackList:x.slice(1),barSize:De(P)?void 0:$s(P,r,0)})}}return s},nle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=$s(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,_=s.reduce(function(N,A){return N+A.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&y>0&&(h=!0,y*=.9,_=l*y);var w=(i-_)/2>>0,v={offset:w-u,size:0};c=s.reduce(function(N,A){var P={item:A.item,position:{offset:v.offset+v.size+u,size:h?y:A.barSize}},S=[].concat(OC(N),[P]);return v=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:v})}),S},d)}else{var x=$s(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var b=(i-2*x-(l-1)*u)/l;b>1&&(b>>=0);var T=a===+a?Math.min(b,a):b;c=s.reduce(function(N,A,P){var S=[].concat(OC(N),[{item:A.item,position:{offset:x+(b+u)*P+(b-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},d)}return c},rle=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=J$({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,y=u.align,_=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&_==="middle")&&y!=="center"&&re(e[y]))return bt(bt({},e),{},za({},y,e[y]+(d||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&_!=="middle"&&re(e[_]))return bt(bt({},e),{},za({},_,e[_]+(h||0)))}return e},ile=function(e,n,r){return De(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Y$=function(e,n,r,i,o){var s=n.props.children,a=Mr(s,Xg).filter(function(u){return ile(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Yn(c,r);if(De(d))return u;var h=Array.isArray(d)?[Kg(d),po(d)]:[d,d],y=l.reduce(function(_,w){var v=Yn(c,w,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,_[0]),Math.max(b,_[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},ole=function(e,n,r,i,o){var s=n.map(function(a){return Y$(e,a,r,o,i)}).filter(function(a){return!De(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},X$=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Y$(e,l,u,i)||dc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},Q$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Z$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},_i=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Pr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Wl(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Mv=new WeakMap,eh=function(e,n){if(typeof n!="function")return e;Mv.has(e)||Mv.set(e,new WeakMap);var r=Mv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},sle=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Jc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Qp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:cc(),realScaleType:"point"}:o==="category"?{scale:Jc(),realScaleType:"band"}:{scale:Qp(),realScaleType:"linear"};if(Ls(i)){var l="scale".concat(Dg(i));return{scale:(CC[l]||cc)(),realScaleType:CC[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:cc(),realScaleType:"point"}},LC=1e-4,ale=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-LC,s=Math.max(i[0],i[1])+LC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},lle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ule=function(e,n){if(!n||n.length!==2||!re(n[0])||!re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(o[0]=r),(!re(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},cle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Wl(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},dle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Wl(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},fle={sign:cle,expand:IK,none:fl,silhouette:CK,wiggle:PK,positive:dle},hle=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=fle[r],s=AK().keys(i).value(function(a,l){return+Yn(a,l,0)}).order(bx).offset(o);return s(e)},ple=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,h){var y,_=(y=h.type)!==null&&y!==void 0&&y.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,w=_.stackId,v=_.hide;if(v)return d;var x=_[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var T=b.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(h),b.hasStack=!0,b.stackGroups[w]=T}else b.stackGroups[Hd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return bt(bt({},d),{},za({},x,b))},l),c={};return Object.keys(u).reduce(function(d,h){var y=u[h];if(y.hasStack){var _={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,v){var x=y.stackGroups[v];return bt(bt({},w),{},za({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:hle(e,x.items,o)}))},_)}return bt(bt({},d),{},za({},h,y))},c)},mle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Aae(u,o,a);return e.domain([Kg(c),po(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=Iae(d,o,a);return{niceTicks:h}}return null};function $C(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!De(i[e.dataKey])){var a=Cp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yn(i,De(s)?e.dataKey:s);return De(l)?null:e.scale(l)}var jC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Yn(s,n.dataKey,n.domain[a]);return De(l)?null:n.scale(l)-o/2+i},gle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},yle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},vle=function(e){return e.reduce(function(n,r){return[Kg(r.concat([n[0]]).filter(re)),po(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},ej=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=vle(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qx=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(VC.test(e[0])){var o=+VC.exec(e[0])[1];i[0]=n[0]-o}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(UC.test(e[1])){var s=+UC.exec(e[1])[1];i[1]=n[1]+s}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},om=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=gE(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},FC=function(e,n,r){return!e||!e.length||ed(e,dr(r,"type.defaultProps.domain"))?n:e},tj=function(e,n){var r=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return bt(bt({},Re(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:BE(e),value:Yn(n,i),type:l,payload:n,chartType:u,hide:c})};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return e=_le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=wle(t,"string");return od(e)=="symbol"?e:e+""}function wle(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sm=Math.PI/180,ble=function(e){return e*180/Math.PI},Zt=function(e,n,r,i){return{x:e+Math.cos(-sm*i)*r,y:n+Math.sin(-sm*i)*r}},Ele=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Tle=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Ele({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:ble(u),angleInRadian:u}},Sle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Ale=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},zC=function(e,n){var r=e.x,i=e.y,o=Tle({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Sle(n),d=c.startAngle,h=c.endAngle,y=a,_;if(d<=h){for(;y>h;)y-=360;for(;y<d;)y+=360;_=y>=d&&y<=h}else{for(;y>d;)y-=360;for(;y<h;)y+=360;_=y>=h&&y<=d}return _?GC(GC({},n),{},{radius:s,angle:Ale(y,n)}):null};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var Ile=["offset"];function Cle(t){return Rle(t)||kle(t)||Nle(t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t,e){if(t){if(typeof t=="string")return Zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zx(t,e)}}function kle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rle(t){if(Array.isArray(t))return Zx(t)}function Zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mle(t,e){if(t==null)return{};var n=Ole(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return e=Lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lle(t){var e=$le(t,"string");return sd(e)=="symbol"?e:e+""}function $le(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}var jle=function(e){var n=e.value,r=e.formatter,i=De(e.children)?n:e.children;return Pe(r)?r(i):i},Vle=function(e,n){var r=Pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ule=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,y=l.startAngle,_=l.endAngle,w=l.clockWise,v=(d+h)/2,x=Vle(y,_),b=x>=0?1:-1,T,N;i==="insideStart"?(T=y+b*s,N=w):i==="insideEnd"?(T=_-b*s,N=!w):i==="end"&&(T=_+b*s,N=w),N=x<=0?N:!N;var A=Zt(u,c,v,T),P=Zt(u,c,v,T+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),C=De(e.id)?Hd("recharts-radial-line-"):e.id;return j.createElement("text",ad({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",a)}),j.createElement("defs",null,j.createElement("path",{id:C,d:S})),j.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Fle=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var y=Zt(s,a,u+r,h),_=y.x,w=y.y;return{x:_,y:w,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Zt(s,a,v,h),b=x.x,T=x.y;return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Ble=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,y=d>0?"end":"start",_=d>0?"start":"end",w=u>=0?1:-1,v=w*i,x=w>0?"end":"start",b=w>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:y};return Rt(Rt({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:_};return Rt(Rt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Rt(Rt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:a+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Rt(Rt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Rt({x:a+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?Rt({x:a+u-v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},S):o==="insideTop"?Rt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:_},S):o==="insideBottom"?Rt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},S):o==="insideTopLeft"?Rt({x:a+v,y:l+h,textAnchor:b,verticalAnchor:_},S):o==="insideTopRight"?Rt({x:a+u-v,y:l+h,textAnchor:x,verticalAnchor:_},S):o==="insideBottomLeft"?Rt({x:a+v,y:l+c-h,textAnchor:b,verticalAnchor:y},S):o==="insideBottomRight"?Rt({x:a+u-v,y:l+c-h,textAnchor:x,verticalAnchor:y},S):Gl(o)&&(re(o.x)||ps(o.x))&&(re(o.y)||ps(o.y))?Rt({x:a+$s(o.x,u),y:l+$s(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Rt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Gle=function(e){return"cx"in e&&re(e.cx)};function mn(t){var e=t.offset,n=e===void 0?5:e,r=Mle(t,Ile),i=Rt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||De(a)&&De(l)&&!$.isValidElement(u)&&!Pe(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var y;if(Pe(u)){if(y=$.createElement(u,i),$.isValidElement(y))return y}else y=jle(i);var _=Gle(o),w=Re(i,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ule(i,y,w);var v=_?Fle(i):Ble(i);return j.createElement(zp,ad({className:Fe("recharts-label",d)},w,v,{breakAll:h}),y)}mn.displayName="Label";var nj=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,y=e.top,_=e.left,w=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(re(w)&&re(v)){if(re(d)&&re(h))return{x:d,y:h,width:w,height:v};if(re(y)&&re(_))return{x:y,y:_,width:w,height:v}}return re(d)&&re(h)?{x:d,y:h,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},zle=function(e,n){return e?e===!0?j.createElement(mn,{key:"label-implicit",viewBox:n}):Dt(e)?j.createElement(mn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===mn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):j.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?j.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Gl(e)?j.createElement(mn,ad({viewBox:n},e,{key:"label-implicit"})):null:null},qle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=nj(e),s=Mr(i,mn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=zle(e.label,n||o);return[a].concat(Cle(s))};mn.parseViewBox=nj;mn.renderCallByParent=qle;function Hle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Wle=Hle;const Kle=rt(Wle);function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var Jle=["valueAccessor"],Yle=["data","dataKey","clockWise","id","textBreakAll"];function Xle(t){return tue(t)||eue(t)||Zle(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return e_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(t,e)}}function eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tue(t){if(Array.isArray(t))return e_(t)}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return ld(e)=="symbol"?e:e+""}function iue(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KC(t,e){if(t==null)return{};var n=oue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sue=function(e){return Array.isArray(e.value)?Kle(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?sue:e,r=KC(t,Jle),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=KC(r,Yle);return!i||!i.length?null:j.createElement(gt,{className:"recharts-label-list"},i.map(function(c,d){var h=De(o)?n(c,d):Yn(c&&c.payload,o),y=De(a)?{}:{id:"".concat(a,"-").concat(d)};return j.createElement(mn,am({},Re(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:mn.parseViewBox(De(s)?c:WC(WC({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}ko.displayName="LabelList";function aue(t,e){return t?t===!0?j.createElement(ko,{key:"labelList-implicit",data:e}):j.isValidElement(t)||Pe(t)?j.createElement(ko,{key:"labelList-implicit",data:e,content:t}):Gl(t)?j.createElement(ko,am({data:e},t,{key:"labelList-implicit"})):null:null}function lue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Mr(r,ko).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=aue(t.label,e);return[o].concat(Xle(i))}ko.renderCallByParent=lue;function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return e=cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=due(t,"string");return ud(e)=="symbol"?e:e+""}function due(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fue=function(e,n){var r=Pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},th=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/sm,h=u?o:o+s*d,y=Zt(n,r,c,h),_=Zt(n,r,i,h),w=u?o-s*d:o,v=Zt(n,r,c*Math.cos(d*sm),w);return{center:y,circleTangency:_,lineTangency:v,theta:d}},rj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=fue(s,a),u=s+l,c=Zt(n,r,o,s),d=Zt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=Zt(n,r,i,s),_=Zt(n,r,i,u);h+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},hue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Pr(c-u),h=th({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,_=h.lineTangency,w=h.theta,v=th({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,T=v.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-T;if(N<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):rj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=th({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=P.circleTangency,C=P.lineTangency,I=P.theta,R=th({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=R.circleTangency,D=R.lineTangency,O=R.theta,U=l?Math.abs(u-c):Math.abs(u-c)-I-O;if(U<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},pue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ij=function(e){var n=YC(YC({},pue),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<o||c===d)return null;var y=Fe("recharts-sector",h),_=s-o,w=$s(a,_,0,!0),v;return w>0&&Math.abs(c-d)<360?v=hue({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=rj({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),j.createElement("path",t_({},Re(n,!0),{className:y,d:v,role:"img"}))};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return cd(e)=="symbol"?e:e+""}function yue(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZC={curveBasisClosed:mK,curveBasisOpen:gK,curveBasis:pK,curveBumpX:eK,curveBumpY:tK,curveLinearClosed:yK,curveLinear:$g,curveMonotoneX:vK,curveMonotoneY:xK,curveNatural:_K,curveStep:wK,curveStepAfter:EK,curveStepBefore:bK},nh=function(e){return e.x===+e.x&&e.y===+e.y},Ru=function(e){return e.x},Mu=function(e){return e.y},vue=function(e,n){if(Pe(e))return e;var r="curve".concat(Dg(e));return(r==="curveMonotone"||r==="curveBump")&&n?ZC["".concat(r).concat(n==="vertical"?"Y":"X")]:ZC[r]||$g},xue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=vue(r,a),d=u?o.filter(function(w){return nh(w)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(w){return nh(w)}):s,_=d.map(function(w,v){return QC(QC({},w),{},{base:y[v]})});return a==="vertical"?h=Hf().y(Mu).x1(Ru).x0(function(w){return w.base.x}):h=Hf().x(Ru).y1(Mu).y0(function(w){return w.base.y}),h.defined(nh).curve(c),h(_)}return a==="vertical"&&re(s)?h=Hf().y(Mu).x1(Ru).x0(s):re(s)?h=Hf().x(Ru).y1(Mu).y0(s):h=iL().x(Ru).y(Mu),h.defined(nh).curve(c),h(d)},fc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?xue(e):i;return $.createElement("path",n_({},Re(e,!1),Pp(e),{className:Fe("recharts-curve",n),d:s,ref:o}))},oj={exports:{}},_ue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wue=_ue,bue=wue;function sj(){}function aj(){}aj.resetWarningCache=sj;var Eue=function(){function t(r,i,o,s,a,l){if(l!==bue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aj,resetWarningCache:sj};return n.PropTypes=n,n};oj.exports=Eue();var Tue=oj.exports;const He=rt(Tue),{getOwnPropertyNames:Sue,getOwnPropertySymbols:Aue}=Object,{hasOwnProperty:Iue}=Object.prototype;function Ov(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function rh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Cue(t){return t!=null?t[Symbol.toStringTag]:void 0}function eP(t){return Sue(t).concat(Aue(t))}const Pue=Object.hasOwn||((t,e)=>Iue.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Nue="__v",kue="__o",Rue="_owner",{getOwnPropertyDescriptor:tP,keys:nP}=Object;function Mue(t,e){return t.byteLength===e.byteLength&&lm(new Uint8Array(t),new Uint8Array(e))}function Oue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Due(t,e){return t.byteLength===e.byteLength&&lm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Lue(t,e){return Js(t.getTime(),e.getTime())}function $ue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jue(t,e){return t===e}function rP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,d,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const Vue=Js;function Uue(t,e,n){const r=nP(t);let i=r.length;if(nP(e).length!==i)return!1;for(;i-- >0;)if(!lj(t,e,n,r[i]))return!1;return!0}function Ou(t,e,n){const r=eP(t);let i=r.length;if(eP(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!lj(t,e,n,o)||(s=tP(t,o),a=tP(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Fue(t,e){return Js(t.valueOf(),e.valueOf())}function Bue(t,e){return t.source===e.source&&t.flags===e.flags}function iP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function lm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Gue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lj(t,e,n,r){return(r===Rue||r===kue||r===Nue)&&(t.$$typeof||e.$$typeof)?!0:Pue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const zue="[object ArrayBuffer]",que="[object Arguments]",Hue="[object Boolean]",Wue="[object DataView]",Kue="[object Date]",Jue="[object Error]",Yue="[object Map]",Xue="[object Number]",Que="[object Object]",Zue="[object RegExp]",ece="[object Set]",tce="[object String]",nce={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},rce="[object URL]",ice=Object.prototype.toString;function oce({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:_}){return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;const T=typeof v;if(T!==typeof x)return!1;if(T!=="object")return T==="number"?a(v,x,b):T==="function"?o(v,x,b):!1;const N=v.constructor;if(N!==x.constructor)return!1;if(N===Object)return l(v,x,b);if(Array.isArray(v))return e(v,x,b);if(N===Date)return r(v,x,b);if(N===RegExp)return c(v,x,b);if(N===Map)return s(v,x,b);if(N===Set)return d(v,x,b);const A=ice.call(v);if(A===Kue)return r(v,x,b);if(A===Zue)return c(v,x,b);if(A===Yue)return s(v,x,b);if(A===ece)return d(v,x,b);if(A===Que)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(A===rce)return y(v,x,b);if(A===Jue)return i(v,x,b);if(A===que)return l(v,x,b);if(nce[A])return h(v,x,b);if(A===zue)return t(v,x,b);if(A===Wue)return n(v,x,b);if(A===Hue||A===Xue||A===tce)return u(v,x,b);if(_){let P=_[A];if(!P){const S=Cue(v);S&&(P=_[S])}if(P)return P(v,x,b)}return!1}}function sce({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Mue,areArraysEqual:n?Ou:Oue,areDataViewsEqual:Due,areDatesEqual:Lue,areErrorsEqual:$ue,areFunctionsEqual:jue,areMapsEqual:n?Ov(rP,Ou):rP,areNumbersEqual:Vue,areObjectsEqual:n?Ou:Uue,arePrimitiveWrappersEqual:Fue,areRegExpsEqual:Bue,areSetsEqual:n?Ov(iP,Ou):iP,areTypedArraysEqual:n?Ov(lm,Ou):lm,areUrlsEqual:Gue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=rh(r.areArraysEqual),o=rh(r.areMapsEqual),s=rh(r.areObjectsEqual),a=rh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function ace(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function lce({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const uce=Ho();Ho({strict:!0});Ho({circular:!0});Ho({circular:!0,strict:!0});Ho({createInternalComparator:()=>Js});Ho({strict:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js,strict:!0});function Ho(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=sce(t),s=oce(o),a=n?n(s):ace(s);return lce({circular:e,comparator:s,createState:r,equals:a,strict:i})}function cce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function oP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):cce(i)};requestAnimationFrame(r)}function r_(t){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r_(t)}function dce(t){return mce(t)||pce(t)||hce(t)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t,e){if(t){if(typeof t=="string")return sP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sP(t,e)}}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mce(t){if(Array.isArray(t))return t}function gce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=dce(s),l=a[0],u=a.slice(1);if(typeof l=="number"){oP(i.bind(null,u),l);return}i(l),oP(i.bind(null,u));return}r_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uj(t,e,n){return e=yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return dd(e)==="symbol"?e:String(e)}function vce(t,e){if(dd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},_ce=function(e){return e},wce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hc=function(e,n){return Object.keys(n).reduce(function(r,i){return lP(lP({},r),{},uj({},i,e(i,n[i])))},{})},uP=function(e,n,r){return e.map(function(i){return"".concat(wce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function bce(t,e){return Sce(t)||Tce(t,e)||cj(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sce(t){if(Array.isArray(t))return t}function Ace(t){return Pce(t)||Cce(t)||cj(t)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cj(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function Cce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pce(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var um=1e-4,dj=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},fj=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},cP=function(e,n){return function(r){var i=dj(e,n);return fj(i,r)}},Nce=function(e,n){return function(r){var i=dj(e,n),o=[].concat(Ace(i.map(function(s,a){return s*a}).slice(1)),[0]);return fj(o,r)}},dP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=bce(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=cP(i,s),h=cP(o,a),y=Nce(i,s),_=function(x){return x>1?1:x<0?0:x},w=function(x){for(var b=x>1?1:x,T=b,N=0;N<8;++N){var A=d(T)-b,P=y(T);if(Math.abs(A-b)<um||P<um)return h(T);T=_(T-A/P)}return h(T)};return w.isStepper=!1,w},kce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,h){var y=-(c-d)*r,_=h*o,w=h+(y-_)*a/1e3,v=h*a/1e3+c;return Math.abs(v-d)<um&&Math.abs(w)<um?[d,0]:[v,w]};return l.isStepper=!0,l.dt=a,l},Rce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dP(i);case"spring":return kce();default:if(i.split("(")[0]==="cubic-bezier")return dP(i)}return typeof i=="function"?i:null};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function fP(t){return Dce(t)||Oce(t)||hj(t)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dce(t){if(Array.isArray(t))return s_(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){o_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o_(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=$ce(t,"string");return fd(e)==="symbol"?e:String(e)}function $ce(t,e){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t,e){return Fce(t)||Uce(t,e)||hj(t,e)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hj(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Fce(t){if(Array.isArray(t))return t}var cm=function(e,n,r){return e+(n-e)*r},a_=function(e){var n=e.from,r=e.to;return n!==r},Bce=function t(e,n,r){var i=hc(function(o,s){if(a_(s)){var a=e(s.from,s.to,s.velocity),l=jce(a,2),u=l[0],c=l[1];return Jt(Jt({},s),{},{from:u,velocity:c})}return s},n);return r<1?hc(function(o,s){return a_(s)?Jt(Jt({},s),{},{velocity:cm(s.velocity,i[o].velocity,r),from:cm(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Gce=function(t,e,n,r,i){var o=xce(t,e),s=o.reduce(function(v,x){return Jt(Jt({},v),{},o_({},x,[t[x],e[x]]))},{}),a=o.reduce(function(v,x){return Jt(Jt({},v),{},o_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return hc(function(x,b){return b.from},a)},y=function(){return!Object.values(a).filter(a_).length},_=function(x){u||(u=x);var b=x-u,T=b/n.dt;a=Bce(n,a,T),i(Jt(Jt(Jt({},t),e),h())),u=x,y()||(l=requestAnimationFrame(d))},w=function(x){c||(c=x);var b=(x-c)/r,T=hc(function(A,P){return cm.apply(void 0,fP(P).concat([n(b)]))},s);if(i(Jt(Jt(Jt({},t),e),T)),b<1)l=requestAnimationFrame(d);else{var N=hc(function(A,P){return cm.apply(void 0,fP(P).concat([n(1)]))},s);i(Jt(Jt(Jt({},t),e),N))}};return d=n.isStepper?_:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var zce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qce(t,e){if(t==null)return{};var n=Hce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dv(t){return Yce(t)||Jce(t)||Kce(t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function Jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yce(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hu(t,e,n){return e=pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pj(r.key),r)}}function Zce(t,e,n){return e&&Qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pj(t){var e=ede(t,"string");return wl(e)==="symbol"?e:String(e)}function ede(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function nde(t){var e=rde();return function(){var r=dm(t),i;if(e){var o=dm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return c_(this,i)}}function c_(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d_(t)}function d_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}var $i=function(t){tde(n,t);var e=nde(n);function n(r,i){var o;Xce(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(d_(o)),o.changeStyle=o.changeStyle.bind(d_(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),c_(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},c_(o);o.state={style:l?Hu({},l,u):u}}else o.state={style:{}};return o}return Zce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Hu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(uce(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=_||u?d:i.to;if(this.state&&h){var v={style:l?Hu({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(v)}this.runAnimation(br(br({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,y=Gce(s,a,Rce(u),l,this.changeStyle),_=function(){o.stopJSAnimation=y()};this.manager.start([h,c,_,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,y=function(w,v,x){if(x===0)return w;var b=v.duration,T=v.easing,N=T===void 0?"ease":T,A=v.style,P=v.properties,S=v.onAnimationEnd,C=x>0?s[x-1]:v,I=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(Dv(w),[o.runJSAnimation.bind(o,{from:C.style,to:A,duration:b,easing:N}),b]);var R=uP(I,b,N),M=br(br(br({},C.style),A),{},{transition:R});return[].concat(Dv(w),[M,b,S]).filter(_ce)};return this.manager.start([l].concat(Dv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gce());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,y=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?Hu({},a,l):l,v=uP(Object.keys(w),s,u);_.start([c,o,br(br({},w),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=qce(i,zce),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(y){var _=y.props,w=_.style,v=w===void 0?{}:w,x=_.className,b=$.cloneElement(y,br(br({},l),{},{style:br(br({},v),c),className:x}));return b};return u===1?d($.Children.only(o)):j.createElement("div",null,$.Children.map(o,function(h){return d(h)}))}}]),n}($.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}function ide(t,e){return lde(t)||ade(t,e)||sde(t,e)||ode()}function ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ade(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function lde(t){if(Array.isArray(t))return t}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return e=cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=dde(t,"string");return hd(e)=="symbol"?e:e+""}function dde(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vP=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,y=4;h<y;h++)d[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var _=Math.min(s,o);c="M ".concat(e,",").concat(n+a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*_,`
            L `).concat(e+r,",").concat(n+i-a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*_," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},fde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},hde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GE=function(e){var n=yP(yP({},hde),e),r=$.useRef(),i=$.useState(-1),o=ide(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,y=n.className,_=n.animationEasing,w=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var T=Fe("recharts-rectangle",y);return b?j.createElement($i,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:_,isActive:b},function(N){var A=N.width,P=N.height,S=N.x,C=N.y;return j.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:x,easing:_},j.createElement("path",fm({},Re(n,!0),{className:T,d:vP(S,C,A,P,h),ref:r})))}):j.createElement("path",fm({},Re(n,!0),{className:T,d:vP(l,u,c,d,h)}))};function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}var zE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Fe("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",f_({},Re(e,!1),Pp(e),{className:s,cx:n,cy:r,r:i})):null};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}var pde=["x","y","top","left","width","height","className"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return pd(e)=="symbol"?e:e+""}function vde(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t,e){if(t==null)return{};var n=_de(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _de(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wde=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},bde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,y=h===void 0?0:h,_=e.className,w=xde(e,pde),v=mde({x:r,y:o,top:a,left:u,width:d,height:y},w);return!re(r)||!re(o)||!re(d)||!re(y)||!re(a)||!re(u)?null:j.createElement("path",h_({},Re(v,!0),{className:Fe("recharts-cross",_),d:wde(r,o,d,y,a,u)}))},Ede=CL,Tde=Ede(Object.getPrototypeOf,Object),Sde=Tde,Ade=Fi,Ide=Sde,Cde=Bi,Pde="[object Object]",Nde=Function.prototype,kde=Object.prototype,mj=Nde.toString,Rde=kde.hasOwnProperty,Mde=mj.call(Object);function Ode(t){if(!Cde(t)||Ade(t)!=Pde)return!1;var e=Ide(t);if(e===null)return!0;var n=Rde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mj.call(n)==Mde}var Dde=Ode;const Lde=rt(Dde);var $de=Fi,jde=Bi,Vde="[object Boolean]";function Ude(t){return t===!0||t===!1||jde(t)&&$de(t)==Vde}var Fde=Ude;const Bde=rt(Fde);function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function Gde(t,e){return Wde(t)||Hde(t,e)||qde(t,e)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qde(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Wde(t){if(Array.isArray(t))return t}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return e=Jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=Yde(t,"string");return md(e)=="symbol"?e:e+""}function Yde(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EP=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Xde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qde=function(e){var n=bP(bP({},Xde),e),r=$.useRef(),i=$.useState(-1),o=Gde(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,y=n.className,_=n.animationEasing,w=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Fe("recharts-trapezoid",y);return x?j.createElement($i,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:_,isActive:x},function(T){var N=T.upperWidth,A=T.lowerWidth,P=T.height,S=T.x,C=T.y;return j.createElement($i,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:_},j.createElement("path",hm({},Re(n,!0),{className:b,d:EP(S,C,N,A,P),ref:r})))}):j.createElement("g",null,j.createElement("path",hm({},Re(n,!0),{className:b,d:EP(l,u,c,d,h)})))},Zde=["option","shapeType","propTransformer","activeClassName","isActive"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function efe(t,e){if(t==null)return{};var n=tfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return e=rfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return gd(e)=="symbol"?e:e+""}function ife(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ofe(t,e){return pm(pm({},e),t)}function sfe(t,e){return t==="symbols"}function SP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return j.createElement(GE,n);case"trapezoid":return j.createElement(Qde,n);case"sector":return j.createElement(ij,n);case"symbols":if(sfe(e))return j.createElement(lE,n);break;default:return null}}function afe(t){return $.isValidElement(t)?t.props:t}function lfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ofe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=efe(t,Zde),u;if($.isValidElement(e))u=$.cloneElement(e,pm(pm({},l),afe(e)));else if(Pe(e))u=e(l);else if(Lde(e)&&!Bde(e)){var c=i(e,l);u=j.createElement(SP,{shapeType:n,elementProps:c})}else{var d=l;u=j.createElement(SP,{shapeType:n,elementProps:d})}return a?j.createElement(gt,{className:s},u):u}function Qg(t,e){return e!=null&&"trapezoids"in t.props}function Zg(t,e){return e!=null&&"sectors"in t.props}function yd(t,e){return e!=null&&"points"in t.props}function ufe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function cfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ffe(t,e){var n;return Qg(t,e)?n=ufe:Zg(t,e)?n=cfe:yd(t,e)&&(n=dfe),n}function hfe(t,e){var n;return Qg(t,e)?n="trapezoids":Zg(t,e)?n="sectors":yd(t,e)&&(n="points"),n}function pfe(t,e){if(Qg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Zg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return yd(t,e)?e.payload:{}}function mfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=hfe(n,e),o=pfe(n,e),s=r.filter(function(l,u){var c=ed(o,l),d=n.props[i].filter(function(_){var w=ffe(n,e);return w(_,e)}),h=n.props[i].indexOf(d[d.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var gfe=Math.ceil,yfe=Math.max;function vfe(t,e,n,r){for(var i=-1,o=yfe(gfe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var xfe=vfe,_fe=WL,AP=1/0,wfe=17976931348623157e292;function bfe(t){if(!t)return t===0?t:0;if(t=_fe(t),t===AP||t===-AP){var e=t<0?-1:1;return e*wfe}return t===t?t:0}var gj=bfe,Efe=xfe,Tfe=Fg,Lv=gj;function Sfe(t){return function(e,n,r){return r&&typeof r!="number"&&Tfe(e,n,r)&&(n=r=void 0),e=Lv(e),n===void 0?(n=e,e=0):n=Lv(n),r=r===void 0?e<n?1:-1:Lv(r),Efe(e,n,r,t)}}var Afe=Sfe,Ife=Afe,Cfe=Ife(),Pfe=Cfe;const mm=rt(Pfe);function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){yj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yj(t,e,n){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=kfe(t,"string");return vd(e)=="symbol"?e:e+""}function kfe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe=["Webkit","Moz","O","ms"],Mfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Rfe.reduce(function(o,s){return CP(CP({},o),{},yj({},s+r,n))},{});return i[e]=n,i};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xj(r.key),r)}}function Dfe(t,e,n){return e&&NP(t.prototype,e),n&&NP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lfe(t,e,n){return e=ym(e),$fe(t,vj()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function $fe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jfe(t)}function jfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vj=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function Vfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function Bn(t,e,n){return e=xj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xj(t){var e=Ufe(t,"string");return bl(e)=="symbol"?e:e+""}function Ufe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ffe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=cc().domain(mm(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},kP=function(e){return e.changedTouches&&!!e.changedTouches.length},El=function(t){function e(n){var r;return Ofe(this,e),r=Lfe(this,e,[n]),Bn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bn(r,"handleSlideDragStart",function(i){var o=kP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Vfe(e,t),Dfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,d),_=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:_===c?c:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Yn(o[r],a,r);return Pe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,y=l.endIndex,_=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-a,u+c-d-s):w<0&&(w=Math.max(w,u-s,u-a));var v=this.getIndex({startX:s+w,endX:a+w});(v.startIndex!==h||v.endIndex!==y)&&_&&_(v),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=kP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,y=c.travellerWidth,_=c.onChange,w=c.gap,v=c.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-y-u):b<0&&(b=Math.max(b,d-u)),x[s]=u+b;var T=this.getIndex(x),N=T.startIndex,A=T.endIndex,P=function(){var C=v.length-1;return s==="startX"&&(a>l?N%w===0:A%w===0)||a<l&&A===C||s==="endX"&&(a>l?A%w===0:N%w===0)||a>l&&A===C};this.setState(Bn(Bn({},s,u+b),"brushMoveStartX",r.pageX),function(){_&&P()&&_(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Bn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return j.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=$.Children.only(u);return d?j.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,y=l.ariaLabel,_=l.data,w=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=$v($v({},Re(this.props,!1)),{},{x,y:u,width:c,height:d}),T=y||"Min value: ".concat((o=_[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=_[v])===null||s===void 0?void 0:s.name);return j.createElement(gt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,y=5,_={pointerEvents:"none",fill:u};return j.createElement(gt,{className:"recharts-brush-texts"},j.createElement(zp,gm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-y,y:s+a/2},_),this.getTextOfTick(i)),j.createElement(zp,gm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+y,y:s+a/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,y=h.startX,_=h.endX,w=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!re(a)||!re(l)||!re(u)||!re(c)||u<=0||c<=0)return null;var T=Fe("recharts-brush",o),N=j.Children.count(s)===1,A=Mfe("userSelect","none");return j.createElement(gt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,_),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(_,"endX"),(w||v||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return j.isValidElement(r)?o=j.cloneElement(r,i):Pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return $v({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Ffe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);Bn(El,"displayName","Brush");Bn(El,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Bfe=mE;function Gfe(t,e){var n;return Bfe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var zfe=Gfe,qfe=_L,Hfe=Go,Wfe=zfe,Kfe=jn,Jfe=Fg;function Yfe(t,e,n){var r=Kfe(t)?qfe:Wfe;return n&&Jfe(t,e,n)&&(e=void 0),r(t,Hfe(e))}var Xfe=Yfe;const Qfe=rt(Xfe);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},RP=BL;function Zfe(t,e,n){e=="__proto__"&&RP?RP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ehe=Zfe,the=ehe,nhe=UL,rhe=Go;function ihe(t,e){var n={};return e=rhe(e),nhe(t,function(r,i,o){the(n,i,e(r,i,o))}),n}var ohe=ihe;const she=rt(ohe);function ahe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var lhe=ahe,uhe=mE;function che(t,e){var n=!0;return uhe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var dhe=che,fhe=lhe,hhe=dhe,phe=Go,mhe=jn,ghe=Fg;function yhe(t,e,n){var r=mhe(t)?fhe:hhe;return n&&ghe(t,e,n)&&(e=void 0),r(t,phe(e))}var vhe=yhe;const _j=rt(vhe);var xhe=["x","y"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=bhe(t,"string");return xd(e)=="symbol"?e:e+""}function bhe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ehe(t,e){if(t==null)return{};var n=The(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function The(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function She(t,e){var n=t.x,r=t.y,i=Ehe(t,xhe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Du(Du(Du(Du(Du({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function OP(t){return j.createElement(lfe,m_({shapeType:"rectangle",propTransformer:She,activeClassName:"recharts-active-bar"},t))}var Ahe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=re(r)||V7(r);return o?e(r,i):(o||Vs(),n)}},Ihe=["value","background"],wj;function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Che(t,e){if(t==null)return{};var n=Phe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Phe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ej(r.key),r)}}function khe(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rhe(t,e,n){return e=xm(e),Mhe(t,bj()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Mhe(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ohe(t)}function Ohe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bj=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function Dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g_(t,e)}function mo(t,e,n){return e=Ej(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ej(t){var e=Lhe(t,"string");return Tl(e)=="symbol"?e:e+""}function Lhe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qd=function(t){function e(){var n;Nhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rhe(this,e,[].concat(i)),mo(n,"state",{isAnimationFinished:!1}),mo(n,"id",Hd("recharts-bar-")),mo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),mo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Dhe(e,t),khe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Re(this.props,!1);return r&&r.map(function(d,h){var y=h===l,_=y?u:s,w=At(At(At({},c),d),{},{isActive:y,option:_,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(gt,vm({className:"recharts-bar-rectangle"},Np(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),j.createElement(OP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return j.createElement($i,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t,w=o.map(function(v,x){var b=h&&h[x];if(b){var T=or(b.x,v.x),N=or(b.y,v.y),A=or(b.width,v.width),P=or(b.height,v.height);return At(At({},v),{},{x:T(_),y:N(_),width:A(_),height:P(_)})}if(s==="horizontal"){var S=or(0,v.height),C=S(_);return At(At({},v),{},{y:v.y+v.height-C,height:C})}var I=or(0,v.width),R=I(_);return At(At({},v),{},{width:R})});return j.createElement(gt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!ed(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Re(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=Che(u,Ihe);if(!d)return null;var y=At(At(At(At(At({},h),{},{fill:"#eee"},d),l),Np(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return j.createElement(OP,vm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Mr(c,Xg);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Yn(v,x)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(gt,_,d.map(function(w){return j.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,y=r.isAnimationActive,_=r.background,w=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=Fe("recharts-bar",s),b=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,N=b||T,A=De(w)?this.id:w;return j.createElement(gt,{className:x},b||T?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(A)},j.createElement("rect",{x:b?u:u-d/2,y:T?c:c-h/2,width:b?d:d*2,height:T?h:h*2}))):null,j.createElement(gt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!y||v)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);wj=Qd;mo(Qd,"displayName","Bar");mo(Qd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mo(Qd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=lle(r,n);if(!y)return null;var _=e.layout,w=n.type.defaultProps,v=w!==void 0?At(At({},w),n.props):n.props,x=v.dataKey,b=v.children,T=v.minPointSize,N=_==="horizontal"?s:o,A=u?N.scale.domain():null,P=gle({numericAxis:N}),S=Mr(b,YL),C=d.map(function(I,R){var M,D,O,U,B,G;u?M=ule(u[c+R],A):(M=Yn(I,x),Array.isArray(M)||(M=[P,M]));var W=Ahe(T,wj.defaultProps.minPointSize)(M[1],R);if(_==="horizontal"){var V,K=[s.scale(M[0]),s.scale(M[1])],Y=K[0],se=K[1];D=jC({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:R}),O=(V=se??Y)!==null&&V!==void 0?V:void 0,U=y.size;var ee=Y-se;if(B=Number.isNaN(ee)?0:ee,G={x:D,y:s.y,width:U,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ue=Pr(B||W)*(Math.abs(W)-Math.abs(B));O-=ue,B+=ue}}else{var Ce=[o.scale(M[0]),o.scale(M[1])],Ne=Ce[0],We=Ce[1];if(D=Ne,O=jC({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),U=We-Ne,B=y.size,G={x:o.x,y:O,width:o.width,height:B},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var q=Pr(U||W)*(Math.abs(W)-Math.abs(U));U+=q}}return At(At(At({},I),{},{x:D,y:O,width:U,height:B,value:u?M:M[1],payload:I,background:G},S&&S[R]&&S[R].props),{},{tooltipPayload:[tj(n,I)],tooltipPosition:{x:D+U/2,y:O+B/2}})});return At({data:C,layout:_},h)});function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tj(r.key),r)}}function jhe(t,e,n){return e&&$P(t.prototype,e),n&&$P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ey(t,e,n){return e=Tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tj(t){var e=Vhe(t,"string");return _d(e)=="symbol"?e:e+""}function Vhe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uhe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!zn(u,Qd);return c.reduce(function(y,_){var w=n[_],v=w.orientation,x=w.domain,b=w.padding,T=b===void 0?{}:b,N=w.mirror,A=w.reversed,P="".concat(v).concat(N?"Mirror":""),S,C,I,R,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=x[1]-x[0],O=1/0,U=w.categoricalDomain.sort(B7);if(U.forEach(function(Ce,Ne){Ne>0&&(O=Math.min((Ce||0)-(U[Ne-1]||0),O))}),Number.isFinite(O)){var B=O/D,G=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=B*G/2),w.padding==="no-gap"){var W=$s(e.barCategoryGap,B*G),V=B*G/2;S=V-W-(V-W)/G*W}}}i==="xAxis"?C=[r.left+(T.left||0)+(S||0),r.left+r.width-(T.right||0)-(S||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(S||0),r.top+r.height-(T.bottom||0)-(S||0)]:C=w.range,A&&(C=[C[1],C[0]]);var K=sle(w,o,h),Y=K.scale,se=K.realScaleType;Y.domain(x).range(C),ale(Y);var ee=mle(Y,Ar(Ar({},w),{},{realScaleType:se}));i==="xAxis"?(M=v==="top"&&!N||v==="bottom"&&N,I=r.left,R=d[P]-M*w.height):i==="yAxis"&&(M=v==="left"&&!N||v==="right"&&N,I=d[P]-M*w.width,R=r.top);var ue=Ar(Ar(Ar({},w),ee),{},{realScaleType:se,x:I,y:R,scale:Y,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return ue.bandSize=om(ue,ee),!w.hide&&i==="xAxis"?d[P]+=(M?-1:1)*ue.height:w.hide||(d[P]+=(M?-1:1)*ue.width),Ar(Ar({},y),{},ey({},_,ue))},{})},Sj=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Fhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Sj({x:n,y:r},{x:i,y:o})},Aj=function(){function t(e){$he(this,t),this.scale=e}return jhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ey(Aj,"EPS",1e-4);var qE=function(e){var n=Object.keys(e).reduce(function(r,i){return Ar(Ar({},r),{},ey({},i,Aj.create(e[i])))},{});return Ar(Ar({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return she(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return _j(i,function(o,s){return n[s].isInRange(o)})}})};function Bhe(t){return(t%180+180)%180}var Ghe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Bhe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},zhe=Go,qhe=Wd,Hhe=Vg;function Whe(t){return function(e,n,r){var i=Object(e);if(!qhe(e)){var o=zhe(n);e=Hhe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Khe=Whe,Jhe=gj;function Yhe(t){var e=Jhe(t),n=e%1;return e===e?n?e-n:e:0}var Xhe=Yhe,Qhe=OL,Zhe=Go,epe=Xhe,tpe=Math.max;function npe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:epe(n);return i<0&&(i=tpe(r+i,0)),Qhe(t,Zhe(e),i)}var rpe=npe,ipe=Khe,ope=rpe,spe=ipe(ope),ape=spe;const lpe=rt(ape);var upe=qH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HE=$.createContext(void 0),WE=$.createContext(void 0),Ij=$.createContext(void 0),Cj=$.createContext({}),Pj=$.createContext(void 0),Nj=$.createContext(0),kj=$.createContext(0),VP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=upe(o);return j.createElement(HE.Provider,{value:r},j.createElement(WE.Provider,{value:i},j.createElement(Cj.Provider,{value:o},j.createElement(Ij.Provider,{value:c},j.createElement(Pj.Provider,{value:s},j.createElement(Nj.Provider,{value:u},j.createElement(kj.Provider,{value:l},a)))))))},cpe=function(){return $.useContext(Pj)},Rj=function(e){var n=$.useContext(HE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},dpe=function(){var e=$.useContext(HE);return lo(e)},fpe=function(){var e=$.useContext(WE),n=lpe(e,function(r){return _j(r.domain,Number.isFinite)});return n||lo(e)},Mj=function(e){var n=$.useContext(WE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},hpe=function(){var e=$.useContext(Ij);return e},ppe=function(){return $.useContext(Cj)},KE=function(){return $.useContext(kj)},JE=function(){return $.useContext(Nj)};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dj(r.key),r)}}function ype(t,e,n){return e&&gpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vpe(t,e,n){return e=_m(e),xpe(t,Oj()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function xpe(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(t)}function _pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oj=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y_(t,e)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){YE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YE(t,e,n){return e=Dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dj(t){var e=bpe(t,"string");return Sl(e)=="symbol"?e:e+""}function bpe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Epe(t,e){return Ipe(t)||Ape(t,e)||Spe(t,e)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Spe(t,e){if(t){if(typeof t=="string")return BP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BP(t,e)}}function BP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ape(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ipe(t){if(Array.isArray(t))return t}function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}var Cpe=function(e,n){var r;return j.isValidElement(e)?r=j.cloneElement(e,n):Pe(e)?r=e(n):r=j.createElement("line",v_({},n,{className:"recharts-reference-line-line"})),r},Ppe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,h=o.width,y=o.height;if(r){var _=u.y,w=e.y.apply(_,{position:s});if(Qr(u,"discard")&&!e.y.isInRange(w))return null;var v=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?v.reverse():v}if(n){var x=u.x,b=e.x.apply(x,{position:s});if(Qr(u,"discard")&&!e.x.isInRange(b))return null;var T=[{x:b,y:d+y},{x:b,y:d}];return a==="top"?T.reverse():T}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:s})});return Qr(u,"discard")&&Qfe(A,function(P){return!e.isInRange(P)})?null:A}return null};function Npe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=cpe(),c=Rj(i),d=Mj(o),h=hpe();if(!u||!h)return null;Ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=qE({x:c.scale,y:d.scale}),_=Dt(e),w=Dt(n),v=r&&r.length===2,x=Ppe(y,_,w,v,h,t.position,c.orientation,d.orientation,t);if(!x)return null;var b=Epe(x,2),T=b[0],N=T.x,A=T.y,P=b[1],S=P.x,C=P.y,I=Qr(t,"hidden")?"url(#".concat(u,")"):void 0,R=FP(FP({clipPath:I},Re(t,!0)),{},{x1:N,y1:A,x2:S,y2:C});return j.createElement(gt,{className:Fe("recharts-reference-line",a)},Cpe(s,R),mn.renderCallByParent(t,Fhe({x1:N,y1:A,x2:S,y2:C})))}var XE=function(t){function e(){return mpe(this,e),vpe(this,e,arguments)}return wpe(e,t),ype(e,[{key:"render",value:function(){return j.createElement(Npe,this.props)}}])}(j.Component);YE(XE,"displayName","ReferenceLine");YE(XE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$j(r.key),r)}}function Mpe(t,e,n){return e&&Rpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,n){return e=wm(e),Dpe(t,Lj()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Dpe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lpe(t)}function Lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function $pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function ty(t,e,n){return e=$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t){var e=jpe(t,"string");return Al(e)=="symbol"?e:e+""}function jpe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vpe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=qE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!s.isInRange(a)?null:a},ny=function(t){function e(){return kpe(this,e),Ope(this,e,arguments)}return $pe(e,t),Mpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(Ei(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Vpe(this.props);if(!d)return null;var h=d.x,y=d.y,_=this.props,w=_.shape,v=_.className,x=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=zP(zP({clipPath:x},Re(this.props,!0)),{},{cx:h,cy:y});return j.createElement(gt,{className:Fe("recharts-reference-dot",v)},e.renderDot(w,b),mn.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(j.Component);ty(ny,"displayName","ReferenceDot");ty(ny,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ty(ny,"renderDot",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):Pe(t)?n=t(e):n=j.createElement(zE,x_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vj(r.key),r)}}function Bpe(t,e,n){return e&&Fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t,e,n){return e=bm(e),zpe(t,jj()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function zpe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jj=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b_(t,e)}function ry(t,e,n){return e=Vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(t){var e=Wpe(t,"string");return Il(e)=="symbol"?e:e+""}function Wpe(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kpe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=qE({x:c.scale,y:d.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},_={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(_))?null:Sj(y,_)},iy=function(t){function e(){return Upe(this,e),Gpe(this,e,arguments)}return Hpe(e,t),Bpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dt(i),h=Dt(o),y=Dt(s),_=Dt(a),w=this.props.shape;if(!d&&!h&&!y&&!_&&!w)return null;var v=Kpe(d,h,y,_,this.props);if(!v&&!w)return null;var x=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return j.createElement(gt,{className:Fe("recharts-reference-area",l)},e.renderRect(w,HP(HP({clipPath:x},Re(this.props,!0)),v)),mn.renderCallByParent(this.props,v))}}])}(j.Component);ry(iy,"displayName","ReferenceArea");ry(iy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ry(iy,"renderRect",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):Pe(t)?n=t(e):n=j.createElement(GE,w_({},e,{className:"recharts-reference-area-rect"})),n});function Uj(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Jpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ghe(r,n)}function Ype(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Em(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Xpe(t,e){return Uj(t,e+1)}function Qpe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:Uj(r,u)};var w=l,v,x=function(){return v===void 0&&(v=n(_,w)),v},b=_.coordinate,T=l===0||Em(t,b,x,c,a);T||(l=0,c=s,u+=1),T&&(c=b+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return wd(e)=="symbol"?e:e+""}function tme(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],_,w=function(){return _===void 0&&(_=n(y,h)),_};if(h===s-1){var v=t*(y.coordinate+t*w()/2-l);o[h]=y=dn(dn({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else o[h]=y=dn(dn({},y),{},{tickCoord:y.coordinate});var x=Em(t,y.tickCoord,w,a,l);x&&(l=y.tickCoord-t*(w()/2+i),o[h]=dn(dn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function rme(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),h=t*(c.coordinate+t*d/2-u);s[a-1]=c=dn(dn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=Em(t,c.tickCoord,function(){return d},l,u);y&&(u=c.tickCoord-t*(d/2+i),s[a-1]=dn(dn({},c),{},{isShow:!0}))}for(var _=o?a-1:a,w=function(b){var T=s[b],N,A=function(){return N===void 0&&(N=n(T,b)),N};if(b===0){var P=t*(T.coordinate-t*A()/2-l);s[b]=T=dn(dn({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else s[b]=T=dn(dn({},T),{},{tickCoord:T.coordinate});var S=Em(t,T.tickCoord,A,l,u);S&&(l=T.tickCoord+t*(A()/2+i),s[b]=dn(dn({},T),{},{isShow:!0}))},v=0;v<_;v++)w(v);return s}function QE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(re(l)||Xl.isSsr)return Xpe(i,typeof l=="number"&&re(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",_=c&&y==="width"?uc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(T,N){var A=Pe(u)?u(T.value,N):T.value;return y==="width"?Jpe(uc(A,{fontSize:e,letterSpacing:n}),_,d):uc(A,{fontSize:e,letterSpacing:n})[y]},v=i.length>=2?Pr(i[1].coordinate-i[0].coordinate):1,x=Ype(o,v,y);return l==="equidistantPreserveStart"?Qpe(v,x,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=rme(v,x,w,i,s,l==="preserveStartEnd"):h=nme(v,x,w,i,s),h.filter(function(b){return b.isShow}))}var ime=["viewBox"],ome=["viewBox"],sme=["ticks"];function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jv(t,e){if(t==null)return{};var n=ame(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bj(r.key),r)}}function ume(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cme(t,e,n){return e=Tm(e),dme(t,Fj()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function dme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fme(t)}function fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fj=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function ZE(t,e,n){return e=Bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bj(t){var e=pme(t,"string");return Cl(e)=="symbol"?e:e+""}function pme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tu=function(t){function e(n){var r;return lme(this,e),r=cme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return hme(e,t),ume(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=jv(r,ime),a=this.props,l=a.viewBox,u=jv(a,ome);return!Fa(o,l)||!Fa(s,u)||!Fa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,y,_,w,v,x,b,T=d?-1:1,N=r.tickSize||c,A=re(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=_=r.coordinate,v=s+ +!d*l,w=v-T*N,b=w-T*h,x=A;break;case"left":w=v=r.coordinate,_=o+ +!d*a,y=_-T*N,x=y-T*h,b=A;break;case"right":w=v=r.coordinate,_=o+ +d*a,y=_+T*N,x=y+T*h,b=A;break;default:y=_=r.coordinate,v=s+ +d*l,w=v+T*N,b=w+T*h,x=A;break}return{line:{x1:y,y1:w,x2:_,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=kt(kt(kt({},Re(this.props,!1)),Re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=kt(kt({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);d=kt(kt({},d),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return j.createElement("line",Sa({},d,{className:Fe("recharts-cartesian-axis-line",dr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,y=QE(kt(kt({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=Re(this.props,!1),x=Re(c,!1),b=kt(kt({},v),{},{fill:"none"},Re(l,!1)),T=y.map(function(N,A){var P=s.getTickLineCoord(N),S=P.line,C=P.tick,I=kt(kt(kt(kt({textAnchor:_,verticalAnchor:w},v),{},{stroke:"none",fill:u},x),C),{},{index:A,payload:N,visibleTicksCount:y.length,tickFormatter:d});return j.createElement(gt,Sa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Np(s.props,N,A)),l&&j.createElement("line",Sa({},b,S,{className:Fe("recharts-cartesian-axis-tick-line",dr(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(Pe(d)?d(N.value,A):N.value).concat(h||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,y=jv(d,sme),_=h;return Pe(l)&&(_=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!_||!_.length?null:j.createElement(gt,{className:Fe("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Fe(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(r)?s=j.cloneElement(r,kt(kt({},i),{},{className:a})):Pe(r)?s=r(kt(kt({},i),{},{className:a})):s=j.createElement(zp,Sa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);ZE(tu,"displayName","CartesianAxis");ZE(tu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mme=["x1","y1","x2","y2","key"],gme=["offset"];function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return e=vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=xme(t,"string");return Us(e)=="symbol"?e:e+""}function xme(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function XP(t,e){if(t==null)return{};var n=_me(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return j.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Gj(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=XP(e,mme),u=Re(l,!1);u.offset;var c=XP(u,gme);n=j.createElement("line",ys({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function bme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Gj(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Eme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Gj(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Tme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var _=!c[y+1],w=_?i+s-h:c[y+1]-h;if(w<=0)return null;var v=y%e.length;return j.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:w,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var _=!c[y+1],w=_?o+a-h:c[y+1]-h;if(w<=0)return null;var v=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:w,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ame=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return Z$(QE(gn(gn(gn({},tu.defaultProps),r),{},{ticks:_i(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Ime=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return Z$(QE(gn(gn(gn({},tu.defaultProps),r),{},{ticks:_i(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eT(t){var e,n,r,i,o,s,a=KE(),l=JE(),u=ppe(),c=gn(gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sa.verticalFill,x:re(t.x)?t.x:u.left,y:re(t.y)?t.y:u.top,width:re(t.width)?t.width:u.width,height:re(t.height)?t.height:u.height}),d=c.x,h=c.y,y=c.width,_=c.height,w=c.syncWithTicks,v=c.horizontalValues,x=c.verticalValues,b=dpe(),T=fpe();if(!re(y)||y<=0||!re(_)||_<=0||!re(d)||d!==+d||!re(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||Ame,A=c.horizontalCoordinatesGenerator||Ime,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Pe(A)){var C=v&&v.length,I=A({yAxis:T?gn(gn({},T),{},{ticks:C?v:T.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);Ei(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Us(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Pe(N)){var R=x&&x.length,M=N({xAxis:b?gn(gn({},b),{},{ticks:R?x:b.ticks}):void 0,width:a,height:l,offset:u},R?!0:w);Ei(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Us(M),"]")),Array.isArray(M)&&(S=M)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(wme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),j.createElement(bme,ys({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:T})),j.createElement(Eme,ys({},c,{offset:u,verticalPoints:S,xAxis:b,yAxis:T})),j.createElement(Tme,ys({},c,{horizontalPoints:P})),j.createElement(Sme,ys({},c,{verticalPoints:S})))}eT.displayName="CartesianGrid";var Cme=["layout","type","stroke","connectNulls","isRange","ref"],Pme=["key"],zj;function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function qj(t,e){if(t==null)return{};var n=Nme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function Rme(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mme(t,e,n){return e=Sm(e),Ome(t,Hj()?Reflect.construct(e,n||[],Sm(t).constructor):e.apply(t,n))}function Ome(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hj=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function Lme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function zr(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=$me(t,"string");return Pl(e)=="symbol"?e:e+""}function $me(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=function(t){function e(){var n;kme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Mme(this,e,[].concat(i)),zr(n,"state",{isAnimationFinished:!0}),zr(n,"id",Hd("recharts-area-")),zr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(s)&&s()}),zr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(s)&&s()}),n}return Lme(e,t),Rme(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=Re(this.props,!1),y=Re(u,!0),_=c.map(function(v,x){var b=Zi(Zi(Zi({key:"dot-".concat(x),r:3},h),y),{},{index:x,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,b)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(gt,vs({className:"recharts-area-dots"},w),_)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=po(s.map(function(h){return h.y||0}));return re(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(po(o.map(function(h){return h.y||0})),d)),re(d)?j.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=po(s.map(function(h){return h.x||0}));return re(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(po(o.map(function(h){return h.x||0})),d)),re(d)?j.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var y=qj(a,Cme);return j.createElement(gt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},j.createElement(fc,vs({},Re(y,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&j.createElement(fc,vs({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&j.createElement(fc,vs({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,y=s.animationId,_=this.state,w=_.prevPoints,v=_.prevBaseLine;return j.createElement($i,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(w){var T=w.length/a.length,N=a.map(function(C,I){var R=Math.floor(I*T);if(w[R]){var M=w[R],D=or(M.x,C.x),O=or(M.y,C.y);return Zi(Zi({},C),{},{x:D(b),y:O(b)})}return C}),A;if(re(l)&&typeof l=="number"){var P=or(v,l);A=P(b)}else if(De(l)||Wl(l)){var S=or(v,0);A=S(b)}else A=l.map(function(C,I){var R=Math.floor(I*T);if(v[R]){var M=v[R],D=or(M.x,C.x),O=or(M.y,C.y);return Zi(Zi({},C),{},{x:D(b),y:O(b)})}return C});return o.renderAreaStatically(N,A,r,i)}return j.createElement(gt,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),j.createElement(gt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!ed(c,s)||!ed(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,y=i.width,_=i.height,w=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=a.length===1,T=Fe("recharts-area",l),N=d&&d.allowDataOverflow,A=h&&h.allowDataOverflow,P=N||A,S=De(v)?this.id:v,C=(r=Re(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=C.r,R=I===void 0?3:I,M=C.strokeWidth,D=M===void 0?2:M,O=X7(s)?s:{},U=O.clipDot,B=U===void 0?!0:U,G=R*2+D;return j.createElement(gt,{className:T},N||A?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(S)},j.createElement("rect",{x:N?c:c-y/2,y:A?u:u-_/2,width:N?y:y*2,height:A?_:_*2})),!B&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:c-G/2,y:u-G/2,width:y+G,height:_+G}))):null,b?null:this.renderArea(P,S),(s||b)&&this.renderDots(P,B,S),(!w||x)&&ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}($.PureComponent);zj=ni;zr(ni,"displayName","Area");zr(ni,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zr(ni,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(re(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});zr(ni,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=e.layout,_=u&&u.length,w=zj.getBaseValue(e,n,r,i),v=y==="horizontal",x=!1,b=d.map(function(N,A){var P;_?P=u[c+A]:(P=Yn(N,l),Array.isArray(P)?x=!0:P=[w,P]);var S=P[1]==null||_&&Yn(N,l)==null;return v?{x:$C({axis:r,ticks:o,bandSize:a,entry:N,index:A}),y:S?null:i.scale(P[1]),value:P,payload:N}:{x:S?null:r.scale(P[1]),y:$C({axis:i,ticks:s,bandSize:a,entry:N,index:A}),value:P,payload:N}}),T;return _||x?T=b.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):T=v?i.scale(w):r.scale(w),Zi({points:b,baseLine:T,layout:y,isRange:x},h)});zr(ni,"renderDotItem",function(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=qj(e,Pme);n=j.createElement(zE,vs({},o,{key:i,className:r}))}return n});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yj(r.key),r)}}function Ume(t,e,n){return e&&Vme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fme(t,e,n){return e=Am(e),Bme(t,Kj()?Reflect.construct(e,n||[],Am(t).constructor):e.apply(t,n))}function Bme(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(t)}function Gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Am(t)}function zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function Jj(t,e,n){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yj(t){var e=qme(t,"string");return Nl(e)=="symbol"?e:e+""}function qme(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function Hme(t){var e=t.xAxisId,n=KE(),r=JE(),i=Rj(e);return i==null?null:$.createElement(tu,A_({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return _i(s,!0)}}))}var Zd=function(t){function e(){return jme(this,e),Fme(this,e,arguments)}return zme(e,t),Ume(e,[{key:"render",value:function(){return $.createElement(Hme,this.props)}}])}($.Component);Jj(Zd,"displayName","XAxis");Jj(Zd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zj(r.key),r)}}function Jme(t,e,n){return e&&Kme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e,n){return e=Im(e),Xme(t,Xj()?Reflect.construct(e,n||[],Im(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Im(t)}function Zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function Qj(t,e,n){return e=Zj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zj(t){var e=ege(t,"string");return kl(e)=="symbol"?e:e+""}function ege(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}var tge=function(e){var n=e.yAxisId,r=KE(),i=JE(),o=Mj(n);return o==null?null:$.createElement(tu,C_({},o,{className:Fe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return _i(a,!0)}}))},oy=function(t){function e(){return Wme(this,e),Yme(this,e,arguments)}return Zme(e,t),Jme(e,[{key:"render",value:function(){return $.createElement(tge,this.props)}}])}($.Component);Qj(oy,"displayName","YAxis");Qj(oy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function eN(t){return oge(t)||ige(t)||rge(t)||nge()}function nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rge(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function ige(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oge(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N_=function(e,n,r,i,o){var s=Mr(e,XE),a=Mr(e,ny),l=[].concat(eN(s),eN(a)),u=Mr(e,iy),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,v){if(v.props[c]===r&&Qr(v.props,"extendDomain")&&re(v.props[d])){var x=v.props[d];return[Math.min(w[0],x),Math.max(w[1],x)]}return w},h)),u.length){var y="".concat(d,"1"),_="".concat(d,"2");h=u.reduce(function(w,v){if(v.props[c]===r&&Qr(v.props,"extendDomain")&&re(v.props[y])&&re(v.props[_])){var x=v.props[y],b=v.props[_];return[Math.min(w[0],x,b),Math.max(w[1],x,b)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,v){return re(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},h)),h},e4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,d||l,h),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],y]:l._events[_].push(y):(l._events[_]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,_=new Array(y);h<y;h++)_[h]=d[h].fn;return _},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,y,_){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],x=arguments.length,b,T;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,y),!0;case 6:return v.fn.call(v.context,c,d,h,y,_),!0}for(T=1,b=new Array(x-1);T<x;T++)b[T-1]=arguments[T];v.fn.apply(v.context,b)}else{var N=v.length,A;for(T=0;T<N;T++)switch(v[T].once&&this.removeListener(u,v[T].fn,void 0,!0),x){case 1:v[T].fn.call(v[T].context);break;case 2:v[T].fn.call(v[T].context,c);break;case 3:v[T].fn.call(v[T].context,c,d);break;case 4:v[T].fn.call(v[T].context,c,d,h);break;default:if(!b)for(A=1,b=new Array(x-1);A<x;A++)b[A-1]=arguments[A];v[T].fn.apply(v[T].context,b)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var _=this._events[y];if(_.fn)_.fn===c&&(!h||_.once)&&(!d||_.context===d)&&s(this,y);else{for(var w=0,v=[],x=_.length;w<x;w++)(_[w].fn!==c||h&&!_[w].once||d&&_[w].context!==d)&&v.push(_[w]);v.length?this._events[y]=v.length===1?v[0]:v:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(e4);var sge=e4.exports;const age=rt(sge);var Vv=new age,Uv="recharts.syncMouseEvents";function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function cge(t,e,n){return e&&uge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fv(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=dge(t,"string");return bd(e)=="symbol"?e:e+""}function dge(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fge=function(){function t(){lge(this,t),Fv(this,"activeIndex",0),Fv(this,"coordinateList",[]),Fv(this,"layout","horizontal")}return cge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function hge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&re(r)&&re(i))return!0}return!1}function pge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function n4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Zt(e,n,r,i),a=Zt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function mge(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Zt(a,l,u,d),y=Zt(a,l,c,d);r=h.x,i=h.y,o=y.x,s=y.y}else return n4(e);return[{x:r,y:i},{x:o,y:s}]}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return e=yge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=vge(t,"string");return Ed(e)=="symbol"?e:e+""}function vge(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xge(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var _,w=fc;if(h==="ScatterChart")_=s,w=bde;else if(h==="BarChart")_=pge(d,s,l,c),w=GE;else if(d==="radial"){var v=n4(s),x=v.cx,b=v.cy,T=v.radius,N=v.startAngle,A=v.endAngle;_={cx:x,cy:b,startAngle:N,endAngle:A,innerRadius:T,outerRadius:T},w=ij}else _={points:mge(d,s,l)},w=fc;var P=ih(ih(ih(ih({stroke:"#ccc",pointerEvents:"none"},l),_),Re(y,!1)),{},{payload:a,payloadIndex:u,className:Fe("recharts-tooltip-cursor",y.className)});return $.isValidElement(y)?$.cloneElement(y,P):$.createElement(w,P)}var _ge=["item"],wge=["children","className","width","height","style","compact","title","desc"];function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function nN(t,e){return Tge(t)||Ege(t,e)||i4(t,e)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Tge(t){if(Array.isArray(t))return t}function rN(t,e){if(t==null)return{};var n=Sge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ige(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function Cge(t,e,n){return e&&Ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,n){return e=Cm(e),Nge(t,r4()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function Nge(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function Rge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function Ml(t){return Dge(t)||Oge(t)||i4(t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function Oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dge(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=Lge(t,"string");return Rl(e)=="symbol"?e:e+""}function Lge(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ge={xAxis:["bottom","top"],yAxis:["left","right"]},jge={width:"100%",height:"100%"},s4={x:0,y:0};function oh(t){return t}var Vge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Uge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Zt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return s4},sy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ml(a),Ml(u)):a},[]);return s.length>0?s:e&&e.length&&re(i)&&re(o)?e.slice(i,o+1):[]};function a4(t){return t==="number"?[0,"auto"]:void 0}var M_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=sy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=d===void 0?a:d;h=Cp(y,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Ml(l),[tj(u,h)]):l},[])},oN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Vge(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ele(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=M_(e,n,c,d),y=Uge(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:y}}return null},Fge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,y=Q$(c,o);return r.reduce(function(_,w){var v,x=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,b=x.type,T=x.dataKey,N=x.allowDataOverflow,A=x.allowDuplicatedCategory,P=x.scale,S=x.ticks,C=x.includeHidden,I=x[s];if(_[I])return _;var R=sy(e.data,{graphicalItems:i.filter(function(ee){var ue,Ce=s in ee.props?ee.props[s]:(ue=ee.type.defaultProps)===null||ue===void 0?void 0:ue[s];return Ce===I}),dataStartIndex:l,dataEndIndex:u}),M=R.length,D,O,U;hge(x.domain,N,b)&&(D=Qx(x.domain,null,N),y&&(b==="number"||P!=="auto")&&(U=dc(R,T,"category")));var B=a4(b);if(!D||D.length===0){var G,W=(G=x.domain)!==null&&G!==void 0?G:B;if(T){if(D=dc(R,T,b),b==="category"&&y){var V=F7(D);A&&V?(O=D,D=mm(0,M)):A||(D=FC(W,D,w).reduce(function(ee,ue){return ee.indexOf(ue)>=0?ee:[].concat(Ml(ee),[ue])},[]))}else if(b==="category")A?D=D.filter(function(ee){return ee!==""&&!De(ee)}):D=FC(W,D,w).reduce(function(ee,ue){return ee.indexOf(ue)>=0||ue===""||De(ue)?ee:[].concat(Ml(ee),[ue])},[]);else if(b==="number"){var K=ole(R,i.filter(function(ee){var ue,Ce,Ne=s in ee.props?ee.props[s]:(ue=ee.type.defaultProps)===null||ue===void 0?void 0:ue[s],We="hide"in ee.props?ee.props.hide:(Ce=ee.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Ne===I&&(C||!We)}),T,o,c);K&&(D=K)}y&&(b==="number"||P!=="auto")&&(U=dc(R,T,"category"))}else y?D=mm(0,M):a&&a[I]&&a[I].hasStack&&b==="number"?D=h==="expand"?[0,1]:ej(a[I].stackGroups,l,u):D=X$(R,i.filter(function(ee){var ue=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Ce="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return ue===I&&(C||!Ce)}),b,c,!0);if(b==="number")D=N_(d,D,I,o,S),W&&(D=Qx(W,D,N));else if(b==="category"&&W){var Y=W,se=D.every(function(ee){return Y.indexOf(ee)>=0});se&&(D=Y)}}return H(H({},_),{},we({},I,H(H({},x),{},{axisType:o,domain:D,categoricalDomain:U,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:B,isCategorical:y,layout:c})))},{})},Bge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=sy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,_=Q$(c,o),w=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?H(H({},x.type.defaultProps),x.props):x.props,T=b[s],N=a4("number");if(!v[T]){w++;var A;return _?A=mm(0,y):a&&a[T]&&a[T].hasStack?(A=ej(a[T].stackGroups,l,u),A=N_(d,A,T,o)):(A=Qx(N,X$(h,r.filter(function(P){var S,C,I=s in P.props?P.props[s]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[s],R="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===T&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=N_(d,A,T,o)),H(H({},v),{},we({},T,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:dr($ge,"".concat(o,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:_,layout:c})))}return v},{})},Gge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Mr(c,o),y={};return h&&h.length?y=Fge(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=Bge(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},zge=function(e){var n=lo(e),r=_i(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:om(n,r)}},sN=function(e){var n=e.children,r=e.defaultShowTooltip,i=zn(n,El),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},qge=function(e){return!e||!e.length?!1:e.some(function(n){var r=bi(n&&n.type);return r&&r.indexOf("Bar")>=0})},aN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},y=zn(d,El),_=zn(d,Ba),w=Object.keys(l).reduce(function(A,P){var S=l[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},we({},C,A[C]+S.width)):A},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(A,P){var S=s[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},we({},C,dr(A,"".concat(C))+S.height)):A},{top:h.top||0,bottom:h.bottom||0}),x=H(H({},v),w),b=x.bottom;y&&(x.bottom+=y.props.height||El.defaultProps.height),_&&n&&(x=rle(x,i,r,n));var T=u-x.left-x.right,N=c-x.top-x.bottom;return H(H({brushBottom:b},x),{},{width:Math.max(T,0),height:Math.max(N,0)})},Wge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Kge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(x,b){var T=b.graphicalItems,N=b.stackGroups,A=b.offset,P=b.updateId,S=b.dataStartIndex,C=b.dataEndIndex,I=x.barSize,R=x.layout,M=x.barGap,D=x.barCategoryGap,O=x.maxBarSize,U=aN(R),B=U.numericAxisName,G=U.cateAxisName,W=qge(T),V=[];return T.forEach(function(K,Y){var se=sy(x.data,{graphicalItems:[K],dataStartIndex:S,dataEndIndex:C}),ee=K.type.defaultProps!==void 0?H(H({},K.type.defaultProps),K.props):K.props,ue=ee.dataKey,Ce=ee.maxBarSize,Ne=ee["".concat(B,"Id")],We=ee["".concat(G,"Id")],q={},Ve=l.reduce(function(Nt,Un){var oi=b["".concat(Un.axisType,"Map")],Hi=ee["".concat(Un.axisType,"Id")];oi&&oi[Hi]||Un.axisType==="zAxis"||Vs();var Ko=oi[Hi];return H(H({},Nt),{},we(we({},Un.axisType,Ko),"".concat(Un.axisType,"Ticks"),_i(Ko)))},q),ie=Ve[G],ye=Ve["".concat(G,"Ticks")],xe=N&&N[Ne]&&N[Ne].hasStack&&yle(K,N[Ne].stackGroups),Q=bi(K.type).indexOf("Bar")>=0,Le=om(ie,ye),Ie=[],et=W&&tle({barSize:I,stackGroups:N,totalSize:Wge(Ve,G)});if(Q){var X,me,Qe=De(Ce)?O:Ce,jt=(X=(me=om(ie,ye,!0))!==null&&me!==void 0?me:Qe)!==null&&X!==void 0?X:0;Ie=nle({barGap:M,barCategoryGap:D,bandSize:jt!==Le?jt:Le,sizeList:et[We],maxBarSize:Qe}),jt!==Le&&(Ie=Ie.map(function(Nt){return H(H({},Nt),{},{position:H(H({},Nt.position),{},{offset:Nt.position.offset-jt/2})})}))}var Vn=K&&K.type&&K.type.getComposedData;Vn&&V.push({props:H(H({},Vn(H(H({},Ve),{},{displayedData:se,props:x,dataKey:ue,item:K,bandSize:Le,barPosition:Ie,offset:A,stackedData:xe,layout:R,dataStartIndex:S,dataEndIndex:C}))),{},we(we(we({key:K.key||"item-".concat(Y)},B,Ve[B]),G,Ve[G]),"animationId",P)),childIndex:eW(K,x.children),item:K})}),V},y=function(x,b){var T=x.props,N=x.dataStartIndex,A=x.dataEndIndex,P=x.updateId;if(!OA({props:T}))return null;var S=T.children,C=T.layout,I=T.stackOffset,R=T.data,M=T.reverseStackOrder,D=aN(C),O=D.numericAxisName,U=D.cateAxisName,B=Mr(S,r),G=ple(R,B,"".concat(O,"Id"),"".concat(U,"Id"),I,M),W=l.reduce(function(ee,ue){var Ce="".concat(ue.axisType,"Map");return H(H({},ee),{},we({},Ce,Gge(T,H(H({},ue),{},{graphicalItems:B,stackGroups:ue.axisType===O&&G,dataStartIndex:N,dataEndIndex:A}))))},{}),V=Hge(H(H({},W),{},{props:T,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(ee){W[ee]=c(T,W[ee],V,ee.replace("Map",""),n)});var K=W["".concat(U,"Map")],Y=zge(K),se=h(T,H(H({},W),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:B,stackGroups:G,offset:V}));return H(H({formattedGraphicalItems:se,graphicalItems:B,offset:V,stackGroups:G},Y),W)},_=function(v){function x(b){var T,N,A;return Age(this,x),A=Pge(this,x,[b]),we(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(A,"accessibilityManager",new fge),we(A,"handleLegendBBoxUpdate",function(P){if(P){var S=A.state,C=S.dataStartIndex,I=S.dataEndIndex,R=S.updateId;A.setState(H({legendBBox:P},y({props:A.props,dataStartIndex:C,dataEndIndex:I,updateId:R},H(H({},A.state),{},{legendBBox:P}))))}}),we(A,"handleReceiveSyncEvent",function(P,S,C){if(A.props.syncId===P){if(C===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),we(A,"handleBrushChange",function(P){var S=P.startIndex,C=P.endIndex;if(S!==A.state.dataStartIndex||C!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return H({dataStartIndex:S,dataEndIndex:C},y({props:A.props,dataStartIndex:S,dataEndIndex:C,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),we(A,"handleMouseEnter",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseEnter;Pe(I)&&I(C,P)}}),we(A,"triggeredAfterMouseMove",function(P){var S=A.getMouseInfo(P),C=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseMove;Pe(I)&&I(C,P)}),we(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),we(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),we(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),we(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var C=A.props.onMouseLeave;Pe(C)&&C(S,P)}),we(A,"handleOuterEvent",function(P){var S=Z7(P),C=dr(A.props,"".concat(S));if(S&&Pe(C)){var I,R;/.*touch.*/i.test(S)?R=A.getMouseInfo(P.changedTouches[0]):R=A.getMouseInfo(P),C((I=R)!==null&&I!==void 0?I:{},P)}}),we(A,"handleClick",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onClick;Pe(I)&&I(C,P)}}),we(A,"handleMouseDown",function(P){var S=A.props.onMouseDown;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleMouseUp",function(P){var S=A.props.onMouseUp;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),we(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),we(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),we(A,"handleDoubleClick",function(P){var S=A.props.onDoubleClick;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleContextMenu",function(P){var S=A.props.onContextMenu;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&Vv.emit(Uv,A.props.syncId,P,A.eventEmitterSymbol)}),we(A,"applySyncEvent",function(P){var S=A.props,C=S.layout,I=S.syncMethod,R=A.state.updateId,M=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(H({dataStartIndex:M,dataEndIndex:D},y({props:A.props,dataStartIndex:M,dataEndIndex:D,updateId:R},A.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,U=P.chartY,B=P.activeTooltipIndex,G=A.state,W=G.offset,V=G.tooltipTicks;if(!W)return;if(typeof I=="function")B=I(V,P);else if(I==="value"){B=-1;for(var K=0;K<V.length;K++)if(V[K].value===P.activeLabel){B=K;break}}var Y=H(H({},W),{},{x:W.left,y:W.top}),se=Math.min(O,Y.x+Y.width),ee=Math.min(U,Y.y+Y.height),ue=V[B]&&V[B].value,Ce=M_(A.state,A.props.data,B),Ne=V[B]?{x:C==="horizontal"?V[B].coordinate:se,y:C==="horizontal"?ee:V[B].coordinate}:s4;A.setState(H(H({},P),{},{activeLabel:ue,activeCoordinate:Ne,activePayload:Ce,activeTooltipIndex:B}))}else A.setState(P)}),we(A,"renderCursor",function(P){var S,C=A.state,I=C.isTooltipActive,R=C.activeCoordinate,M=C.activePayload,D=C.offset,O=C.activeTooltipIndex,U=C.tooltipAxisBandSize,B=A.getTooltipEventType(),G=(S=P.props.active)!==null&&S!==void 0?S:I,W=A.props.layout,V=P.key||"_recharts-cursor";return j.createElement(xge,{key:V,activeCoordinate:R,activePayload:M,activeTooltipIndex:O,chartName:n,element:P,isActive:G,layout:W,offset:D,tooltipAxisBandSize:U,tooltipEventType:B})}),we(A,"renderPolarAxis",function(P,S,C){var I=dr(P,"type.axisType"),R=dr(A.state,"".concat(I,"Map")),M=P.type.defaultProps,D=M!==void 0?H(H({},M),P.props):P.props,O=R&&R[D["".concat(I,"Id")]];return $.cloneElement(P,H(H({},O),{},{className:Fe(I,O.className),key:P.key||"".concat(S,"-").concat(C),ticks:_i(O,!0)}))}),we(A,"renderPolarGrid",function(P){var S=P.props,C=S.radialLines,I=S.polarAngles,R=S.polarRadius,M=A.state,D=M.radiusAxisMap,O=M.angleAxisMap,U=lo(D),B=lo(O),G=B.cx,W=B.cy,V=B.innerRadius,K=B.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(I)?I:_i(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(R)?R:_i(U,!0).map(function(Y){return Y.coordinate}),cx:G,cy:W,innerRadius:V,outerRadius:K,key:P.key||"polar-grid",radialLines:C})}),we(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,S=A.props,C=S.children,I=S.width,R=S.height,M=A.props.margin||{},D=I-(M.left||0)-(M.right||0),O=J$({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:u});if(!O)return null;var U=O.item,B=rN(O,_ge);return $.cloneElement(U,H(H({},B),{},{chartWidth:I,chartHeight:R,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),we(A,"renderTooltip",function(){var P,S=A.props,C=S.children,I=S.accessibilityLayer,R=zn(C,Sr);if(!R)return null;var M=A.state,D=M.isTooltipActive,O=M.activeCoordinate,U=M.activePayload,B=M.activeLabel,G=M.offset,W=(P=R.props.active)!==null&&P!==void 0?P:D;return $.cloneElement(R,{viewBox:H(H({},G),{},{x:G.left,y:G.top}),active:W,label:B,payload:W?U:[],coordinate:O,accessibilityLayer:I})}),we(A,"renderBrush",function(P){var S=A.props,C=S.margin,I=S.data,R=A.state,M=R.offset,D=R.dataStartIndex,O=R.dataEndIndex,U=R.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:eh(A.handleBrushChange,P.props.onChange),data:I,x:re(P.props.x)?P.props.x:M.left,y:re(P.props.y)?P.props.y:M.top+M.height+M.brushBottom-(C.bottom||0),width:re(P.props.width)?P.props.width:M.width,startIndex:D,endIndex:O,updateId:"brush-".concat(U)})}),we(A,"renderReferenceElement",function(P,S,C){if(!P)return null;var I=A,R=I.clipPathId,M=A.state,D=M.xAxisMap,O=M.yAxisMap,U=M.offset,B=P.type.defaultProps||{},G=P.props,W=G.xAxisId,V=W===void 0?B.xAxisId:W,K=G.yAxisId,Y=K===void 0?B.yAxisId:K;return $.cloneElement(P,{key:P.key||"".concat(S,"-").concat(C),xAxis:D[V],yAxis:O[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:R})}),we(A,"renderActivePoints",function(P){var S=P.item,C=P.activePoint,I=P.basePoint,R=P.childIndex,M=P.isRange,D=[],O=S.props.key,U=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,B=U.activeDot,G=U.dataKey,W=H(H({index:R,dataKey:G,cx:C.x,cy:C.y,r:4,fill:BE(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Re(B,!1)),Pp(B));return D.push(x.renderActiveDot(B,W,"".concat(O,"-activePoint-").concat(R))),I?D.push(x.renderActiveDot(B,H(H({},W),{},{cx:I.x,cy:I.y}),"".concat(O,"-basePoint-").concat(R))):M&&D.push(null),D}),we(A,"renderGraphicChild",function(P,S,C){var I=A.filterFormatItem(P,S,C);if(!I)return null;var R=A.getTooltipEventType(),M=A.state,D=M.isTooltipActive,O=M.tooltipAxis,U=M.activeTooltipIndex,B=M.activeLabel,G=A.props.children,W=zn(G,Sr),V=I.props,K=V.points,Y=V.isRange,se=V.baseLine,ee=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,ue=ee.activeDot,Ce=ee.hide,Ne=ee.activeBar,We=ee.activeShape,q=!!(!Ce&&D&&W&&(ue||Ne||We)),Ve={};R!=="axis"&&W&&W.props.trigger==="click"?Ve={onClick:eh(A.handleItemMouseEnter,P.props.onClick)}:R!=="axis"&&(Ve={onMouseLeave:eh(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:eh(A.handleItemMouseEnter,P.props.onMouseEnter)});var ie=$.cloneElement(P,H(H({},I.props),Ve));function ye(Un){return typeof O.dataKey=="function"?O.dataKey(Un.payload):null}if(q)if(U>=0){var xe,Q;if(O.dataKey&&!O.allowDuplicatedCategory){var Le=typeof O.dataKey=="function"?ye:"payload.".concat(O.dataKey.toString());xe=Cp(K,Le,B),Q=Y&&se&&Cp(se,Le,B)}else xe=K==null?void 0:K[U],Q=Y&&se&&se[U];if(We||Ne){var Ie=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[$.cloneElement(P,H(H(H({},I.props),Ve),{},{activeIndex:Ie})),null,null]}if(!De(xe))return[ie].concat(Ml(A.renderActivePoints({item:I,activePoint:xe,basePoint:Q,childIndex:U,isRange:Y})))}else{var et,X=(et=A.getItemByXY(A.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:ie},me=X.graphicalItem,Qe=me.item,jt=Qe===void 0?P:Qe,Vn=me.childIndex,Nt=H(H(H({},I.props),Ve),{},{activeIndex:Vn});return[$.cloneElement(jt,Nt),null,null]}return Y?[ie,null,null]:[ie,null]}),we(A,"renderCustomized",function(P,S,C){return $.cloneElement(P,H(H({key:"recharts-customized-".concat(C)},A.props),A.state))}),we(A,"renderMap",{CartesianGrid:{handler:oh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:oh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:oh},YAxis:{handler:oh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=b.id)!==null&&T!==void 0?T:Hd("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=KL(A.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Rge(x,v),Cge(x,[{key:"componentDidMount",value:function(){var T,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,N=T.children,A=T.data,P=T.height,S=T.layout,C=zn(N,Sr);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=M_(this.state,A,I,R),D=this.state.tooltipTicks[I].coordinate,O=(this.state.offset.top+P)/2,U=S==="horizontal",B=U?{x:D,y:O}:{y:D,x:O},G=this.state.formattedGraphicalItems.find(function(V){var K=V.item;return K.type.name==="Scatter"});G&&(B=H(H({},B),G.props.points[I].tooltipPosition),M=G.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:M,activeCoordinate:B};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){hx([zn(T.children,Sr)],[zn(this.props.children,Sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=zn(this.props.children,Sr);if(T&&typeof T.props.shared=="boolean"){var N=T.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=Are(A),S={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},C=A.width/N.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,C);if(!I)return null;var R=this.state,M=R.xAxisMap,D=R.yAxisMap,O=this.getTooltipEventType(),U=oN(this.state,this.props.data,this.props.layout,I);if(O!=="axis"&&M&&D){var B=lo(M).scale,G=lo(D).scale,W=B&&B.invert?B.invert(S.chartX):null,V=G&&G.invert?G.invert(S.chartY):null;return H(H({},S),{},{xValue:W,yValue:V},U)}return U?H(H({},S),U):null}},{key:"inRange",value:function(T,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=T/A,C=N/A;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,R=S>=I.left&&S<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return R?{x:S,y:C}:null}var M=this.state,D=M.angleAxisMap,O=M.radiusAxisMap;if(D&&O){var U=lo(D);return zC({x:S,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,N=this.getTooltipEventType(),A=zn(T,Sr),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Pp(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){Vv.on(Uv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vv.removeListener(Uv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,N,A){for(var P=this.state.formattedGraphicalItems,S=0,C=P.length;S<C;S++){var I=P[S];if(I.item===T||I.props.key===T.key||N===bi(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,S=N.height,C=N.width;return j.createElement("defs",null,j.createElement("clipPath",{id:T},j.createElement("rect",{x:A,y:P,height:S,width:C})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=nN(A,2),S=P[0],C=P[1];return H(H({},N),{},we({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=nN(A,2),S=P[0],C=P[1];return H(H({},N),{},we({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(T){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(T){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var S=0,C=A.length;S<C;S++){var I=A[S],R=I.props,M=I.item,D=M.type.defaultProps!==void 0?H(H({},M.type.defaultProps),M.props):M.props,O=bi(M.type);if(O==="Bar"){var U=(R.data||[]).find(function(V){return fde(T,V)});if(U)return{graphicalItem:I,payload:U}}else if(O==="RadialBar"){var B=(R.data||[]).find(function(V){return zC(T,V)});if(B)return{graphicalItem:I,payload:B}}else if(Qg(I,P)||Zg(I,P)||yd(I,P)){var G=mfe({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),W=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:W}),payload:yd(I,P)?D.data[G]:I.props.data[G]}}}return null}},{key:"render",value:function(){var T=this;if(!OA(this))return null;var N=this.props,A=N.children,P=N.className,S=N.width,C=N.height,I=N.style,R=N.compact,M=N.title,D=N.desc,O=rN(N,wge),U=Re(O,!1);if(R)return j.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(mx,Aa({},U,{width:S,height:C,title:M,desc:D}),this.renderClipPath(),LA(A,this.renderMap)));if(this.props.accessibilityLayer){var B,G;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(G=this.props.role)!==null&&G!==void 0?G:"application",U.onKeyDown=function(V){T.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){T.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return j.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",Aa({className:Fe("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:C},I)},W,{ref:function(K){T.container=K}}),j.createElement(mx,Aa({},U,{width:S,height:C,title:M,desc:D,style:jge}),this.renderClipPath(),LA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);we(_,"displayName",n),we(_,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),we(_,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,T=v.data,N=v.children,A=v.width,P=v.height,S=v.layout,C=v.stackOffset,I=v.margin,R=x.dataStartIndex,M=x.dataEndIndex;if(x.updateId===void 0){var D=sN(v);return H(H(H({},D),{},{updateId:0},y(H(H({props:v},D),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(b!==x.prevDataKey||T!==x.prevData||A!==x.prevWidth||P!==x.prevHeight||S!==x.prevLayout||C!==x.prevStackOffset||!Fa(I,x.prevMargin)){var O=sN(v),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=H(H({},oN(x,T,S)),{},{updateId:x.updateId+1}),G=H(H(H({},O),U),B);return H(H(H({},G),y(H({props:v},G),x)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(!hx(N,x.prevChildren)){var W,V,K,Y,se=zn(N,El),ee=se&&(W=(V=se.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:R,ue=se&&(K=(Y=se.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&K!==void 0?K:M,Ce=ee!==R||ue!==M,Ne=!De(T),We=Ne&&!Ce?x.updateId:x.updateId+1;return H(H({updateId:We},y(H(H({props:v},x),{},{updateId:We,dataStartIndex:ee,dataEndIndex:ue}),x)),{},{prevChildren:N,dataStartIndex:ee,dataEndIndex:ue})}return null}),we(_,"renderActiveDot",function(v,x,b){var T;return $.isValidElement(v)?T=$.cloneElement(v,x):Pe(v)?T=v(x):T=j.createElement(zE,x),j.createElement(gt,{className:"recharts-active-dot",key:b},T)});var w=$.forwardRef(function(x,b){return j.createElement(_,Aa({},x,{ref:b}))});return w.displayName=_.displayName,w},l4=Kge({chartName:"AreaChart",GraphicalChild:ni,axisComponents:[{axisType:"xAxis",AxisComp:Zd},{axisType:"yAxis",AxisComp:oy}],formatAxisMap:Uhe});const Jge=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Yge=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:bp,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:hD,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:lc,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:Ep,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),p.jsxs("div",{className:"flex gap-2 text-sm",children:[p.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),p.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:Hb,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:zd,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:lc,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:Ua,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:p.jsx(n.icon,{className:"w-6 h-6"})}),p.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),p.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[p.jsx(RD,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),p.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>p.jsxs("button",{onClick:()=>t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[p.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:p.jsx(n.icon,{className:"w-6 h-6"})}),p.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),p.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),p.jsx($G,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),p.jsx("div",{className:"h-80 w-full",children:p.jsx(JL,{width:"100%",height:"100%",children:p.jsxs(l4,{data:Jge,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),p.jsx(eT,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(Zd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),p.jsx(oy,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),p.jsx(Sr,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),p.jsx(ni,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),p.jsx(ni,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),p.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[p.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"relative z-10 space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(bD,{className:"w-6 h-6 text-orange-500"}),p.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),p.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[p.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?p.jsx(Uc,{className:"w-4 h-4 text-green-400"}):p.jsx(BG,{className:"w-4 h-4 text-orange-500"})]},r))}),p.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[p.jsx(vg,{className:"w-4 h-4"})," Aadir Requisito"]})]}),p.jsx(cx,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(lc,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),p.jsx("div",{className:"space-y-3",children:p.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[p.jsx(Ap,{className:"w-5 h-5 text-orange-600 shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),p.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Xge=20,Qge=({companyInfo:t})=>{const{loading:e,addProduct:n,updateProduct:r,deleteProduct:i,suppliers:o,fetchProductsPaginatedAndFiltered:s}=Gd(),[a,l]=$.useState(""),[u,c]=$.useState(!1),[d,h]=$.useState("general"),[y,_]=$.useState(!1),[w,v]=$.useState([]),[x,b]=$.useState(null),[T,N]=$.useState(!0),[A,P]=$.useState(!1),S=$.useRef(null),[C,I]=$.useState(null),[R,M]=$.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[D,O]=$.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),[U,B]=$.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[G,W]=$.useState({isFractionable:!1,saleUnitConversionFactor:1}),[V,K]=$.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),Y=$.useCallback(async(q=!1,Ve=a,ie=x)=>{P(!0);try{const ye={limit:Xge,searchTerm:Ve.toLowerCase().trim(),startAfterDoc:q?void 0:ie,orderByField:"name",orderDirection:"asc"},{products:xe,lastVisible:Q,hasMore:Le}=await s(ye);v(Ie=>q?xe:[...Ie,...xe]),b(Q),N(Le)}catch(ye){console.error("Error loading products:",ye)}finally{P(!1)}},[a,x,s]);$.useEffect(()=>{e||Y(!0,a,null)},[a,e,Y]);const se=j.useMemo(()=>{let q=D.baseCost;D.discounts.forEach(xe=>{xe>0&&(q=q*(1-xe/100))});const Ve=q*(1+D.markup/100),ie=Ve*(1+D.ivaRate/100),ye=G.isFractionable&&G.saleUnitConversionFactor?ie*G.saleUnitConversionFactor:ie;return{netCost:q,priceWithoutIva:Ve,finalSalePricePrimaryUnit:ie,finalSalePriceSaleUnit:ye}},[D,G]),ee=()=>{I(null),M({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),B({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),W({isFractionable:!1,saleUnitConversionFactor:1}),K({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),h("general")},ue=q=>{I(q),q?(M({name:q.name,sku:q.sku,category:q.category,brand:q.brand,saleCurrency:q.saleCurrency||"ARS",supplierProductCode:q.supplierProductCode||"",imageUrl:q.imageUrl||"",primaryUnit:q.primaryUnit||"unidad",saleUnit:q.saleUnit||"unidad"}),O({baseCost:q.costPrice||0,ivaRate:21,discounts:[],markup:q.salePrice&&q.costPrice?(q.salePrice/(q.costPrice*1.21)-1)*100:(t==null?void 0:t.defaultMarkup)||30,supplierId:q.supplierId||"",purchaseCurrency:q.purchaseCurrency||"ARS"}),B({stock:q.stock,minStock:q.minStock||5,location:q.location||"",reorderPoint:q.reorderPoint||0,targetStock:q.targetStock||0,packQuantity:q.packQuantity||1}),W({isFractionable:q.isFractionable||!1,saleUnitConversionFactor:q.saleUnitConversionFactor||1}),K({isOnline:q.isOnline||!1,onlinePriceAdjustment:q.onlinePriceAdjustment||0,mlSync:q.mlSync||!1})):ee(),c(!0)},Ce=q=>{var ie;const Ve=(ie=q.target.files)==null?void 0:ie[0];if(Ve){const ye=new FileReader;ye.onload=xe=>{M(Q=>{var Le;return{...Q,imageUrl:(Le=xe.target)==null?void 0:Le.result}})},ye.readAsDataURL(Ve)}},Ne=async()=>{if(_(!0),!R.name||!R.sku||!R.primaryUnit||!R.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),_(!1);return}if(D.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),_(!1);return}if(G.isFractionable&&(!G.saleUnitConversionFactor||G.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),_(!1);return}const q={sku:R.sku||"",name:R.name||"",supplierId:D.supplierId||null,costPrice:Number(D.baseCost),salePrice:Number(se.finalSalePricePrimaryUnit),stock:Number(U.stock),category:R.category||"General",brand:R.brand||"N/A",reorderPoint:Number(U.reorderPoint)||0,targetStock:Number(U.targetStock)||0,packQuantity:Number(U.packQuantity)||1,purchaseCurrency:D.purchaseCurrency||"ARS",saleCurrency:R.saleCurrency||"ARS",supplierProductCode:R.supplierProductCode||"",minStock:Number(U.minStock)||0,location:U.location||"",imageUrl:R.imageUrl||"",primaryUnit:R.primaryUnit,saleUnit:R.saleUnit,isFractionable:!!G.isFractionable,saleUnitConversionFactor:G.isFractionable?Number(G.saleUnitConversionFactor):null,isOnline:!!V.isOnline,onlinePriceAdjustment:V.isOnline?Number(V.onlinePriceAdjustment):null,mlSync:!!V.mlSync};try{C?await r(C.id,q):await n(q),c(!1),ee(),Y(!0)}catch(Ve){alert("Error al guardar en la base de datos. Verifique los campos."),console.error("Error saving product:",Ve)}finally{_(!1)}},We=q=>{alert(`Producto "${q.name}" aadido a la lista de pedidos de reposicin.`)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),p.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),p.jsxs("button",{onClick:()=>{ue(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[p.jsx(mr,{className:"w-5 h-5"})," Nuevo Producto"]})]}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:p.jsxs("div",{className:"relative max-w-xl",children:[p.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:a,onChange:q=>l(q.target.value)})]})}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),p.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.primaryUnit,")"]}),p.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.saleUnit,")"]}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(q=>{var Ve;return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsxs("td",{className:"px-8 py-6",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:q.name}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:q.sku})]}),p.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[q.stock," ",q.primaryUnit]}),p.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(Ve=q.salePrice)==null?void 0:Ve.toLocaleString()]}),p.jsx("td",{className:"px-8 py-6 text-right font-black",children:q.isFractionable&&q.saleUnitConversionFactor&&q.salePrice?`$${(q.salePrice*q.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>We(q),className:"p-2 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Pedir Reposicin",children:p.jsx(xg,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>ue(q),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Editar",children:p.jsx(SD,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>i(q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Borrar",children:p.jsx(dl,{className:"w-4 h-4"})})]})})]},q.id)})})]}),A&&p.jsxs("div",{className:"p-10 text-center",children:[p.jsx(ei,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),u&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[p.jsx("h2",{className:"text-xl font-black uppercase",children:C?"Editar Producto":"Nuevo Producto"}),p.jsx("button",{onClick:()=>c(!1),children:p.jsx(Rr,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"flex h-[600px]",children:[p.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:Ap},{id:"costs",label:"Costos y Precios",icon:Ua},{id:"inventory",label:"Inventario Fsico",icon:Ip},{id:"fractioned",label:"Venta Fraccionada",icon:ux},{id:"ecommerce",label:"E-commerce",icon:cl}].map(q=>p.jsxs("button",{onClick:()=>h(q.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===q.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[p.jsx(q.icon,{className:"w-4 h-4 inline-block mr-2"}),q.label]},q.id))}),p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Ap,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{value:R.name||"",onChange:q=>M({...R,name:q.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{value:R.sku||"",onChange:q=>M({...R,sku:q.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{value:R.primaryUnit||"unidad",onChange:q=>M({...R,primaryUnit:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"unidad",children:"Unidad"}),p.jsx("option",{value:"m2",children:"m2"}),p.jsx("option",{value:"kg",children:"kg"}),p.jsx("option",{value:"litro",children:"Litro"}),p.jsx("option",{value:"pie",children:"Pie"}),p.jsx("option",{value:"cm",children:"cm"}),p.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),p.jsx("option",{value:"tabla",children:"Tabla"}),p.jsx("option",{value:"caja",children:"Caja"}),p.jsx("option",{value:"barra",children:"Barra"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("select",{value:R.saleUnit||"unidad",onChange:q=>M({...R,saleUnit:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"unidad",children:"Unidad"}),p.jsx("option",{value:"m2",children:"m2"}),p.jsx("option",{value:"kg",children:"kg"}),p.jsx("option",{value:"litro",children:"Litro"}),p.jsx("option",{value:"tabla",children:"Tabla"}),p.jsx("option",{value:"caja",children:"Caja"}),p.jsx("option",{value:"barra",children:"Barra"}),p.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),p.jsx("option",{value:"pie",children:"Pie"}),p.jsx("option",{value:"cm",children:"cm"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),p.jsx("input",{value:R.category||"",onChange:q=>M({...R,category:q.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),p.jsx("input",{value:R.brand||"",onChange:q=>M({...R,brand:q.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),p.jsx("input",{value:R.supplierProductCode||"",onChange:q=>M({...R,supplierProductCode:q.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),p.jsxs("select",{value:R.saleCurrency||"ARS",onChange:q=>M({...R,saleCurrency:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),p.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),p.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[p.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[p.jsx(ax,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:R.imageUrl?p.jsx("img",{src:R.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):p.jsx(ax,{className:"w-8 h-8 text-slate-300"})}),p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>{var q;return(q=S.current)==null?void 0:q.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[p.jsx(rz,{className:"w-4 h-4"})," Subir Imagen"]}),p.jsx("input",{ref:S,type:"file",className:"hidden",accept:"image/*",onChange:Ce})]})]})]})]}),d==="costs"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Ua,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"number",value:D.baseCost||"",onChange:q=>O({...D,baseCost:Number(q.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"IVA (%)"}),p.jsx("input",{type:"number",value:D.ivaRate||"",onChange:q=>O({...D,ivaRate:Number(q.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ganancia (Markup %)"}),p.jsx("input",{type:"number",value:D.markup||"",onChange:q=>O({...D,markup:Number(q.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),p.jsxs("select",{value:D.supplierId||"",onChange:q=>O({...D,supplierId:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[p.jsx("option",{value:"",children:"Ninguno"}),o.map(q=>p.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),p.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[p.jsxs("div",{className:"relative z-10 space-y-2",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio Final Sugerido"}),p.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",se.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsx(Ua,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Ip,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),p.jsx("input",{type:"number",value:U.stock||"",onChange:q=>B({...U,stock:Number(q.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mnimo de Alerta"}),p.jsx("input",{type:"number",value:U.minStock||"",onChange:q=>B({...U,minStock:Number(q.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin"}),p.jsx("input",{value:U.location||"",onChange:q=>B({...U,location:q.target.value}),placeholder:"Ej: A-05",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(ux,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:G.isFractionable||!1,onChange:q=>W({...G,isFractionable:q.target.checked}),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Fraccionado"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Permite vender en una unidad distinta al stock."})]})]}),G.isFractionable&&p.jsxs("div",{className:"pt-6 border-t border-slate-100 animate-in fade-in",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin (1 ",R.saleUnit," = ? ",R.primaryUnit,")"]}),p.jsx("input",{type:"number",value:G.saleUnitConversionFactor||"",onChange:q=>W({...G,saleUnitConversionFactor:Number(q.target.value)}),placeholder:"1.00",className:"w-full mt-2 px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),d==="ecommerce"&&p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(cl,{className:"w-4 h-4 text-yellow-600"})," E-Commerce"]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:V.isOnline||!1,onChange:q=>K({...V,isOnline:q.target.checked}),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),p.jsx("div",{className:"flex-1",children:p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar Online"})})]})]})]})]}),p.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[p.jsx("button",{onClick:()=>c(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsxs("button",{onClick:Ne,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[y?p.jsx(ei,{className:"w-5 h-5 animate-spin"}):p.jsx(Gb,{className:"w-5 h-5"}),"Guardar"]})]})]})})]})},Zge=({companyInfo:t})=>{const{addSale:e,addOrder:n,fetchProductsPaginatedAndFiltered:r,clients:i,updateProduct:o,boxes:s,addTransaction:a,updateBox:l}=Gd(),[u,c]=$.useState(""),[d,h]=$.useState([]),[y,_]=$.useState(!1),[w,v]=$.useState(!1),[x,b]=$.useState(!1),[T,N]=$.useState({name:"",price:0,quantity:1}),[A,P]=$.useState(null),[S,C]=$.useState(""),[I,R]=$.useState(!1),[M,D]=$.useState("ticket"),[O,U]=$.useState([]),[B,G]=$.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""}),[W,V]=$.useState([]),[K,Y]=$.useState(!1),[se,ee]=$.useState(null),[ue,Ce]=$.useState("primary"),Ne=$.useRef(null),We=$.useCallback(X=>{Ne.current&&clearTimeout(Ne.current),Ne.current=setTimeout(async()=>{if(X.length<2){V([]);return}Y(!0);try{const{products:me}=await r({limit:8,searchTerm:X.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});V(me)}finally{Y(!1)}},300)},[r]),q=X=>{X.isFractionable&&X.saleUnitConversionFactor&&X.saleUnit!==X.primaryUnit?(ee(X),Ce("primary")):(Ve(X,X.primaryUnit),ee(null))},Ve=(X,me)=>{let Qe=X.salePrice,jt=1;me===X.saleUnit&&X.isFractionable&&X.saleUnitConversionFactor&&(Qe=X.salePrice*X.saleUnitConversionFactor,jt=X.saleUnitConversionFactor);const Vn=d.findIndex(Nt=>Nt.id===X.id&&Nt.selectedSaleUnit===me);h(Vn!==-1?d.map((Nt,Un)=>Un===Vn?{...Nt,quantity:Nt.quantity+1}:Nt):[...d,{id:X.id,sku:X.sku,name:X.name,brand:X.brand,price:parseFloat(Qe.toFixed(2)),quantity:1,stockBeforeSale:X.stock,primaryUnit:X.primaryUnit,selectedSaleUnit:me,saleUnitConversionFactor:jt}]),c(""),V([]),ee(null)},ie=()=>{!T.name||T.price<=0||(h([...d,{id:`manual-${Date.now()}`,sku:"MANUAL",name:T.name,brand:"Venta Libre",price:T.price,quantity:T.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1}]),v(!1),N({name:"",price:0,quantity:1}))},ye=d.reduce((X,me)=>X+me.price*me.quantity,0),xe=O.reduce((X,me)=>X+me.amount,0),Q=ye-xe,Le=$.useMemo(()=>S?i.filter(X=>X.name.toLowerCase().includes(S.toLowerCase())||X.cuit.includes(S)).slice(0,5):[],[i,S]),Ie=()=>{if(B.amount<=0)return;if(!B.targetBoxId){alert("Por favor seleccione una caja de destino para este pago.");return}const X=t.paymentCommissions[B.method]||0,me=parseFloat((B.amount*(X/100)).toFixed(2)),Qe=parseFloat((B.amount-me).toFixed(2));U([...O,{...B,id:Date.now().toString(),commissionRate:X,commissionAmount:me,netAmount:Qe}]),G({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""})},et=async()=>{if(M!=="presupuesto"&&Math.abs(Q)>.01){alert(`Falta cubrir $${Q.toLocaleString()} del total.`);return}b(!0);try{const X=d.map(me=>({id:me.id,sku:me.sku,name:me.name,brand:me.brand,price:me.price,quantity:me.quantity,subtotal:parseFloat((me.price*me.quantity).toFixed(2)),isManual:me.isManual,selectedSaleUnit:me.selectedSaleUnit}));if(M!=="presupuesto"){for(const me of d)if(!me.isManual){const Qe=me.quantity*me.saleUnitConversionFactor;await o(me.id,{stock:me.stockBeforeSale-Qe})}for(const me of O){const Qe=s.find(jt=>jt.id===me.targetBoxId);Qe&&(await a({date:new Date().toISOString(),amount:me.netAmount,type:"ingreso",boxId:me.targetBoxId,category:"venta",description:`Venta ${M.toUpperCase()} - Cliente: ${(A==null?void 0:A.name)||"Mostrador"}`,paymentDetails:[me]}),await l(Qe.id,{balance:Qe.balance+me.netAmount}))}}await e({clientName:(A==null?void 0:A.name)||"Mostrador",clientId:(A==null?void 0:A.id)||null,items:X,total:ye,paymentDetails:O,docType:M,date:new Date().toISOString(),status:M==="presupuesto"?"pendiente":"completado",seller:"Usuario Actual",remitoIds:[]}),alert("Operacin completada. Caja y stock actualizados con valores NETOS."),h([]),_(!1),U([]),P(null)}catch(X){console.error(X),alert("Error al procesar la venta.")}finally{b(!1)}};return p.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),p.jsx("p",{className:"text-slate-500",children:"Ventas integradas con Tesorera y Stock."})]}),p.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold flex items-center gap-2 border border-slate-200 hover:bg-slate-200 transition-all",children:[p.jsx(vg,{className:"w-4 h-4"})," Venta Libre"]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[p.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:p.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Busca productos o escanea...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:u,onChange:X=>{c(X.target.value),We(X.target.value)}})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[K&&p.jsx("div",{className:"col-span-2 py-10 text-center",children:p.jsx(ei,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),W.map(X=>p.jsxs("div",{onClick:()=>q(X),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[p.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:p.jsx(TD,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-bold text-slate-800 truncate",children:X.name}),p.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[X.sku,"  Stock: ",X.stock]})]}),p.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",X.salePrice.toLocaleString()]})]},X.id))]})]})}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:p.jsx("div",{className:"relative",children:A?p.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[p.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:p.jsx(kD,{className:"w-5 h-5"})}),p.jsx("div",{className:"min-w-0",children:p.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:A.name})})]}),p.jsx("button",{onClick:()=>P(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:p.jsx(Rr,{className:"w-4 h-4"})})]}):p.jsxs("div",{className:"relative",children:[p.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:S,onChange:X=>{C(X.target.value),R(!0)},onFocus:()=>R(!0)}),I&&S.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden",children:p.jsx("div",{className:"p-1 space-y-1",children:Le.map(X=>p.jsxs("button",{onClick:()=>{P(X),C(""),R(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between text-left",children:[p.jsx("span",{className:"font-bold text-xs",children:X.name}),p.jsx(xA,{className:"w-3 h-3 text-slate-300"})]},X.id))})})]})})}),p.jsx("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:p.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[p.jsx(xg,{className:"w-5 h-5 text-orange-600"})," Carrito"]})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:d.map((X,me)=>p.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[p.jsxs("div",{className:"min-w-0",children:[p.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:X.name}),p.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[X.quantity," x $",X.price.toLocaleString()]})]}),p.jsx("button",{onClick:()=>h(d.filter((Qe,jt)=>jt!==me)),className:"text-slate-300 hover:text-red-500",children:p.jsx(dl,{className:"w-4 h-4"})})]},me))}),p.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total"}),p.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",ye.toLocaleString()]})]}),p.jsxs("button",{disabled:d.length===0,onClick:()=>_(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3",children:["COBRAR ",p.jsx(xA,{className:"w-6 h-6"})]})]})]})]}),y&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Pago"}),p.jsx("button",{onClick:()=>_(!1),className:"p-2 bg-slate-100 rounded-full",children:p.jsx(Rr,{className:"w-6 h-6 text-slate-400"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Detalle de Medios de Pago"}),p.jsx("div",{className:"space-y-2",children:O.map(X=>{var me;return p.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Uc,{className:"w-5 h-5 text-green-500"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"font-bold text-slate-700 capitalize",children:X.method.replace("_"," ")}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:["Hacia: ",(me=s.find(Qe=>Qe.id===X.targetBoxId))==null?void 0:me.name]}),X.commissionAmount>0&&p.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-orange-100 text-orange-700 rounded",children:["Comisin ",X.commissionRate,"% (-$",X.commissionAmount,")"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-black text-slate-900",children:["$",X.amount.toLocaleString()]}),p.jsxs("p",{className:"text-[10px] text-green-600 font-bold",children:["Neto: $",X.netAmount.toLocaleString()]})]}),p.jsx("button",{onClick:()=>U(O.filter(Qe=>Qe.id!==X.id)),className:"text-red-400 hover:text-red-600",children:p.jsx(dl,{className:"w-4 h-4"})})]})]},X.id)})}),p.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[p.jsxs("div",{className:"space-y-1 md:col-span-1",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Medio"}),p.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:B.method,onChange:X=>G({...B,method:X.target.value}),children:[p.jsx("option",{value:"efectivo",children:"Efectivo"}),p.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),p.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),p.jsx("option",{value:"transferencia",children:"Transferencia"}),p.jsx("option",{value:"cuenta_corriente",children:"Cta. Corriente"})]})]}),p.jsxs("div",{className:"space-y-1 md:col-span-1",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Monto Bruto"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),p.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:B.amount||"",onChange:X=>G({...B,amount:parseFloat(X.target.value)||0})})]})]}),p.jsxs("div",{className:"space-y-1 md:col-span-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Caja Destino"}),p.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs bg-white",value:B.targetBoxId,onChange:X=>G({...B,targetBoxId:X.target.value}),children:[p.jsx("option",{value:"",children:"Seleccionar Caja..."}),s.filter(X=>X.status==="abierta").map(X=>p.jsxs("option",{value:X.id,children:[X.name," ($",X.balance.toLocaleString(),")"]},X.id))]})]})]}),B.amount>0&&p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-100 rounded-xl animate-in fade-in",children:[p.jsx(Fb,{className:"w-4 h-4 text-orange-600"}),p.jsxs("span",{className:"text-[10px] font-bold text-orange-800 uppercase",children:["Comisin bancaria: ",t.paymentCommissions[B.method]||0,"% (-$",(B.amount*((t.paymentCommissions[B.method]||0)/100)).toFixed(2),"). Ingresar neto a caja: $",(B.amount*(1-(t.paymentCommissions[B.method]||0)/100)).toFixed(2)]})]}),p.jsxs("button",{onClick:Ie,className:"w-full py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[p.jsx(mr,{className:"w-4 h-4"})," Registrar Cobro"]})]})]})]}),p.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Liquidacin Final"}),p.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:M})]}),p.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[p.jsxs("div",{className:"flex justify-between items-baseline",children:[p.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),p.jsxs("span",{className:"text-4xl font-black text-white",children:["$",ye.toLocaleString()]})]}),p.jsxs("div",{className:"flex justify-between items-center text-green-400 font-bold uppercase text-[10px] tracking-widest",children:[p.jsx("span",{children:"A Recibir (Neto)"}),p.jsxs("span",{children:["$",O.reduce((X,me)=>X+me.netAmount,0).toLocaleString()]})]})]}),p.jsx("div",{className:"space-y-4 pt-8 border-t border-white/10",children:p.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[p.jsx("span",{className:"text-slate-400",children:"Restante Cobrar:"}),p.jsxs("span",{className:Q>0?"text-red-500":"text-orange-500",children:["$",Q.toLocaleString()]})]})})]}),p.jsxs("button",{onClick:et,disabled:x||M!=="presupuesto"&&Math.abs(Q)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[x?p.jsx(ei,{className:"w-6 h-6 animate-spin"}):p.jsx(Uc,{className:"w-6 h-6"}),x?"PROCESANDO...":"FINALIZAR VENTA"]})]})]})}),w&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),p.jsx("button",{onClick:()=>v(!1),children:p.jsx(Rr,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-8 space-y-5",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Descripcin"}),p.jsx("input",{type:"text",value:T.name,onChange:X=>N({...T,name:X.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Precio"}),p.jsx("input",{type:"number",value:T.price||"",onChange:X=>N({...T,price:parseFloat(X.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none font-bold"})]})}),p.jsx("button",{onClick:ie,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Aadir"})]})]})})]})};var eye={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tye,nye;function rye(){return{geminiUrl:tye,vertexUrl:nye}}function iye(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=rye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zi{}function de(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>f(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function oye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}O_(t,i,o,0,s)}}function O_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])O_(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);g(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&O_(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sye(t){const e={},n=f(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function aye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],uye(s)),e}function lye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],cye(s)),e}function uye(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>dye(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function cye(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>fye(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function dye(t){const e={},n=f(t,["video"]);return n!=null&&g(e,["video"],vye(n)),e}function fye(t){const e={},n=f(t,["_self"]);return n!=null&&g(e,["video"],xye(n)),e}function hye(t){const e={},n=f(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function pye(t){const e={},n=f(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function mye(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],gye(s)),e}function gye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function u4(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],yye(s)),e}function yye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function vye(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],tT(r));const i=f(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function xye(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],tT(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lN||(lN={}));var uN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(uN||(uN={}));var cN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(cN||(cN={}));var pt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pt||(pt={}));var dN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dN||(dN={}));var fN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fN||(fN={}));var hN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hN||(hN={}));var pN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pN||(pN={}));var mN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mN||(mN={}));var gN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gN||(gN={}));var yN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yN||(yN={}));var vN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(vN||(vN={}));var xN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xN||(xN={}));var _N;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_N||(_N={}));var wN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(wN||(wN={}));var bN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(bN||(bN={}));var EN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(EN||(EN={}));var TN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(TN||(TN={}));var SN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(SN||(SN={}));var AN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(AN||(AN={}));var IN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(IN||(IN={}));var Pm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pm||(Pm={}));var CN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(CN||(CN={}));var PN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(PN||(PN={}));var NN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(NN||(NN={}));var D_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(D_||(D_={}));var kN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kN||(kN={}));var RN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(RN||(RN={}));var L_;(function(t){t.COLLECTION="COLLECTION"})(L_||(L_={}));var MN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(MN||(MN={}));var ON;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ON||(ON={}));var DN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(DN||(DN={}));var LN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(LN||(LN={}));var $N;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($N||($N={}));var jN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jN||(jN={}));var VN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(VN||(VN={}));var UN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(UN||(UN={}));var FN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(FN||(FN={}));var BN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(BN||(BN={}));var GN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(GN||(GN={}));var zN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zN||(zN={}));var qN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(qN||(qN={}));var HN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(HN||(HN={}));var WN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(WN||(WN={}));var KN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KN||(KN={}));var JN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(JN||(JN={}));var YN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(YN||(YN={}));var XN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(XN||(XN={}));var QN;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(QN||(QN={}));var ZN;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(ZN||(ZN={}));var ek;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ek||(ek={}));var tk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tk||(tk={}));var nk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(nk||(nk={}));var rk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rk||(rk={}));var ik;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ik||(ik={}));var ok;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ok||(ok={}));var Ia;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ia||(Ia={}));class $_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Lu{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,_]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(_!==null||_!==void 0)&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class sk{}class ak{}class _ye{}class wye{}class bye{}class Eye{}class lk{}class uk{}class ck{}class Tye{}class Nm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Nm;let i;const o=e;return n?i=lye(o):i=aye(o),Object.assign(r,i),r}}class dk{}class fk{}class hk{}class pk{}class Sye{}class Aye{}class Iye{}class nT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new nT,o=mye(e);return Object.assign(r,o),r}}class Cye{}class Pye{}class Nye{}class mk{}class kye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Rye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class rT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new rT,o=u4(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function c4(t,e){const n=qe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function d4(t){return Array.isArray(t)?t.map(e=>km(e)):[km(t)]}function km(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function f4(t){const e=km(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function h4(t){const e=km(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function p4(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gk(e)):[gk(t)]}function j_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function yk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function yn(t){if(t==null)throw new Error("ContentUnion is required");return j_(t)?t:{role:"user",parts:p4(t)}}function iT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=yn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=yn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>yn(n)):[yn(e)]}function fr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(yk(t)||vk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yn(t)]}const e=[],n=[],r=j_(t[0]);for(const i of t){const o=j_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(yk(i)||vk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:p4(n)}),e}function Mye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pt).includes(n[0].toUpperCase())?n[0].toUpperCase():pt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pt).includes(r.toUpperCase())?r.toUpperCase():pt.TYPE_UNSPECIFIED})}}function qa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Mye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(pt).includes(a.toUpperCase())?a.toUpperCase():pt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=qa(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(qa(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=qa(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function oT(t){return qa(t)}function sT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function aT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function nu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qa(e.response));return t}function ru(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Oye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Oye(t,e,"cachedContents")}function m4(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wo(t){return tT(t)}function Dye(t){return t!=null&&typeof t=="object"&&"name"in t}function Lye(t){return t!=null&&typeof t=="object"&&"video"in t}function $ye(t){return t!=null&&typeof t=="object"&&"uri"in t}function g4(t){var e;let n;if(Dye(t)&&(n=t.name),!($ye(t)&&(n=t.uri,n===void 0))&&!(Lye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function y4(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function v4(t){for(const e of["models","tunedModels","publisherModels"])if(jye(t,e))return t[e];return[]}function jye(t,e){return t!==null&&typeof t=="object"&&e in t}function Vye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Uye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Vye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function x4(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Fye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _4(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function iu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function w4(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bye(t){const e={},n=f(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>bve(s))),g(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function Gye(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function zye(t){const e={},n=f(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Mh(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&g(e,["state"],w4(i));const o=f(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=f(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=f(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=f(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&g(e,["dest"],Bye(_4(u))),e}function V_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["state"]);i!=null&&g(e,["state"],w4(i));const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=f(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=f(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&g(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&g(e,["src"],qye(d));const h=f(t,["outputConfig"]);h!=null&&g(e,["dest"],Gye(_4(h)));const y=f(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function qye(t){const e={},n=f(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Hye(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wve(t,s))),g(n,["requests","requests"],o)}return n}function Wye(t){const e={},n=f(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Kye(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Jye(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],iu(t,r)),n}function Yye(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],iu(t,r)),n}function Xye(t){const e={},n=f(t,["content"]);n!=null&&g(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Qye(r));const i=f(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&g(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Qye(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function b4(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pve(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Zye(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function eve(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],zye(Fye(i))),n}function xk(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Hye(t,x4(t,i)));const o=f(e,["config"]);return o!=null&&Zye(o,n),n}function tve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],qe(t,r));const i=f(e,["src"]);i!=null&&g(n,["inputConfig"],Wye(x4(t,i)));const o=f(e,["config"]);return o!=null&&eve(o,n),n}function nve(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function rve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["src"]);i!=null&&g(n,["batch","inputConfig"],cve(t,i));const o=f(e,["config"]);return o!=null&&nve(o,n),n}function ive(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],iu(t,r)),n}function ove(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],iu(t,r)),n}function sve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);return o!=null&&g(e,["error"],o),e}function ave(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);return o!=null&&g(e,["error"],o),e}function lve(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=iT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(g(n,["_self"],uve(i,n)),oye(n,{"requests[].*":"requests[].request.*"})),n}function uve(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cve(t,e){const n={},r=f(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],lve(t,i)),n}function dve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function fve(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pve(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],b4(yn(i)));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const _=f(e,["frequencyPenalty"]);_!=null&&g(r,["frequencyPenalty"],_);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const x=f(e,["responseSchema"]);x!=null&&g(r,["responseSchema"],oT(x));const b=f(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(U=>Nve(U))),g(n,["safetySettings"],O)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let O=ru(N);Array.isArray(O)&&(O=O.map(U=>Rve(nu(U)))),g(n,["tools"],O)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],kve(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],qi(t,P));const S=f(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const C=f(e,["mediaResolution"]);C!=null&&g(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],sT(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const M=f(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],_ve(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function mve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Xye(u))),g(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function gve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],iu(t,r)),n}function yve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],iu(t,r)),n}function vve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function xve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function _ve(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["request","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let a=fr(i);Array.isArray(a)&&(a=a.map(l=>b4(l))),g(n,["request","contents"],a)}const o=f(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=f(e,["config"]);return s!=null&&g(n,["request","generationConfig"],pve(t,s,f(n,["request"],{}))),n}function bve(t){const e={},n=f(t,["response"]);n!=null&&g(e,["response"],mve(n));const r=f(t,["error"]);return r!=null&&g(e,["error"],r),e}function Eve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Tve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function Sve(t){const e={},n=f(t,["config"]);return n!=null&&Eve(n,e),e}function Ave(t){const e={},n=f(t,["config"]);return n!=null&&Tve(n,e),e}function Ive(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Mh(s))),g(e,["batchJobs"],o)}return e}function Cve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>V_(s))),g(e,["batchJobs"],o)}return e}function Pve(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],dve(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],fve(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Kye(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Nve(t){const e={},n=f(t,["category"]);if(n!=null&&g(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function kve(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],hve(r)),e}function Rve(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],vve(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],xve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ji;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ji||(ji={}));class Ys{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mve extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=xk(this.apiClient,e),r=n._url,i=de("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const y=d.request;y.systemInstruction=h,d.request=y}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tve(this.apiClient,e);return a=de("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>V_(c))}else{const u=xk(this.apiClient,e);return a=de("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Mh(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=rve(this.apiClient,e);return o=de("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Mh(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yve(this.apiClient,e);return a=de("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>V_(c))}else{const u=gve(this.apiClient,e);return a=de("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Mh(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Yye(this.apiClient,e);s=de("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Jye(this.apiClient,e);s=de("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ave(e);return a=de("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Cve(c),h=new mk;return Object.assign(h,d),h})}else{const u=Sve(e);return a=de("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ive(c),h=new mk;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ove(this.apiClient,e);return a=de("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>ave(c))}else{const u=ive(this.apiClient,e);return a=de("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>sve(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ove(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _k(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>r0e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Dve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let c=fr(s);Array.isArray(c)&&(c=c.map(d=>_k(d))),g(e,["contents"],c)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],_k(yn(a)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>o0e(d))),g(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],i0e(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Lve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let d=fr(s);Array.isArray(d)&&(d=d.map(h=>h)),g(e,["contents"],d)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],yn(a));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>s0e(h))),g(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function $ve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],c4(t,r));const i=f(e,["config"]);return i!=null&&Dve(i,n),n}function jve(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["model"],c4(t,r));const i=f(e,["config"]);return i!=null&&Lve(i,n),n}function Vve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],qi(t,r)),n}function Uve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],qi(t,r)),n}function Fve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Bve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Gve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function zve(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hve(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Wve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],qi(t,r)),n}function Kve(t,e){const n={},r=f(e,["name"]);return r!=null&&g(n,["_url","name"],qi(t,r)),n}function Jve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Yve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Xve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Qve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Zve(t){const e={},n=f(t,["config"]);return n!=null&&Xve(n,e),e}function e0e(t){const e={},n=f(t,["config"]);return n!=null&&Qve(n,e),e}function t0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function n0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function r0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],Gve(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],zve(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Ove(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function i0e(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],qve(r)),e}function o0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Jve(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Yve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function s0e(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Hve(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function a0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function l0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function u0e(t,e){const n={},r=f(e,["name"]);r!=null&&g(n,["_url","name"],qi(t,r));const i=f(e,["config"]);return i!=null&&a0e(i,n),n}function c0e(t,e){const n={},r=f(e,["name"]);r!=null&&g(n,["_url","name"],qi(t,r));const i=f(e,["config"]);return i!=null&&l0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0e extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jve(this.apiClient,e);return a=de("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=$ve(this.apiClient,e);return a=de("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Kve(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Wve(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Uve(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Bve(c),h=new hk;return Object.assign(h,d),h})}else{const u=Vve(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Fve(c),h=new hk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=c0e(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=u0e(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=e0e(e);return a=de("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=n0e(c),h=new pk;return Object.assign(h,d),h})}else{const u=Zve(e);return a=de("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=t0e(c),h=new pk;return Object.assign(h,d),h})}}}function Rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function Or(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(_){return Promise.resolve(_).then(y,d)}}function a(y,_){r[y]&&(i[y]=function(w){return new Promise(function(v,x){o.push([y,w,v,x])>1||l(y,w)})},_&&(i[y]=_(i[y])))}function l(y,_){try{u(r[y](_))}catch(w){h(o[0][3],w)}}function u(y){y.value instanceof Te?Promise.resolve(y.value.v).then(c,d):h(o[0][2],y)}function c(y){l("next",y)}function d(y){l("throw",y)}function h(y,_){y(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Dr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wk=="function"?wk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:E4(n)}function E4(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function h0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!E4(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class p0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new m0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class m0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),h0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=yn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=yn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?bk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Or(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,h=Dr(e),y;y=yield Te(h.next()),i=y.done,!i;d=!0){a=y.value,d=!1;const _=a;if(f0e(_)){const w=(u=(l=_.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield Te(_)}}catch(_){o={error:_}}finally{try{!d&&!i&&(s=h.return)&&(yield Te(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...bk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Td extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Td.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0e(t){const e={},n=f(t,["file"]);return n!=null&&g(e,["file"],n),e}function y0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function v0e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","file"],g4(n)),e}function x0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function _0e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","file"],g4(n)),e}function w0e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function b0e(t){const e={},n=f(t,["config"]);return n!=null&&w0e(n,e),e}function E0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T0e extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=b0e(e);return o=de("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=E0e(l),c=new Cye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=g0e(e);return o=de("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=y0e(l),c=new Pye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_0e(e);return o=de("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=v0e(e);return o=de("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=x0e(l),c=new Nye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oh(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function S0e(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>F0e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function A0e(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function I0e(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C0e(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function P0e(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const _=f(t,["responseModalities"]);_!=null&&g(e,["responseModalities"],_);const w=f(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const x=f(t,["seed"]);x!=null&&g(e,["seed"],x);const b=f(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const T=f(t,["stopSequences"]);T!=null&&g(e,["stopSequences"],T);const N=f(t,["temperature"]);N!=null&&g(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&g(e,["topK"],P);const S=f(t,["topP"]);if(S!=null&&g(e,["topP"],S),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function N0e(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function k0e(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function R0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],aT(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&g(e,["setup","systemInstruction"],S0e(yn(_)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=ru(w);Array.isArray(P)&&(P=P.map(S=>G0e(nu(S)))),g(e,["setup","tools"],P)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],B0e(v));const x=f(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&g(e,["setup","inputAudioTranscription"],x);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&g(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function M0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],P0e(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],aT(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&g(e,["setup","systemInstruction"],yn(_));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let S=ru(w);Array.isArray(S)&&(S=S.map(C=>z0e(nu(C)))),g(e,["setup","tools"],S)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],v);const x=f(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&g(e,["setup","inputAudioTranscription"],x);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&g(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);e!==void 0&&A!=null&&g(e,["setup","proactivity"],A);const P=f(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&g(e,["setup","explicitVadSignal"],P),n}function O0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],qe(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],R0e(i,n)),n}function D0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],qe(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],M0e(i,n)),n}function L0e(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function $0e(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function j0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=d4(n);Array.isArray(u)&&(u=u.map(c=>Oh(c))),g(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],Oh(h4(r)));const i=f(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&g(e,["video"],Oh(f4(o)));const s=f(t,["text"]);s!=null&&g(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function V0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=d4(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],h4(r));const i=f(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&g(e,["video"],f4(o));const s=f(t,["text"]);s!=null&&g(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function U0e(t){const e={},n=f(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=f(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],q0e(s));const a=f(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=f(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=f(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],H0e(c)),e}function F0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],A0e(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],I0e(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Oh(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function B0e(t){const e={},n=f(t,["handle"]);if(n!=null&&g(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function G0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],N0e(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],k0e(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function z0e(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>C0e(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function q0e(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=f(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=f(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=f(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),g(e,["promptTokensDetails"],y)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>_)),g(e,["cacheTokensDetails"],y)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(_=>_)),g(e,["responseTokensDetails"],y)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(_=>_)),g(e,["toolUsePromptTokensDetails"],y)}const h=f(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function H0e(t){const e={},n=f(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W0e(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function K0e(t){const e={},n=f(t,["content"]);n!=null&&g(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],J0e(r));const i=f(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&g(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function J0e(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function Y0e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let o=fr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function X0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function Q0e(t){const e={},n=f(t,["values"]);n!=null&&g(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&g(e,["statistics"],Z0e(r)),e}function Z0e(t){const e={},n=f(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function ay(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>l_e(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function exe(t){const e={},n=f(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function txe(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nxe(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],yn(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>I4(a))),g(e,["tools"],s)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],Wxe(o)),n}function rxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>ay(a))),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&txe(o),n}function ixe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&nxe(o,n),n}function oxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function sxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function axe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],qe(t,r)),n}function lxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],qe(t,r)),n}function uxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function cxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function dxe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","mimeType"],_);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const v=f(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const x=f(t,["labels"]);e!==void 0&&x!=null&&g(e,["labels"],x);const b=f(t,["editMode"]);e!==void 0&&b!=null&&g(e,["parameters","editMode"],b);const T=f(t,["baseSteps"]);return e!==void 0&&T!=null&&g(e,["parameters","editConfig","baseSteps"],T),n}function fxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>p_e(l))),g(n,["instances[0]","referenceImages"],a)}const s=f(e,["config"]);return s!=null&&dxe(s,n),n}function hxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ly(o))),g(e,["generatedImages"],i)}return e}function pxe(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mxe(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=f(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=f(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function gxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let a=iT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=f(e,["config"]);o!=null&&pxe(o,n);const s=f(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],qe(t,s)),n}function yxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let s=iT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=f(e,["config"]);return o!=null&&mxe(o,n),n}function vxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function xxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Q0e(s))),g(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function _xe(t){const e={},n=f(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function wxe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bxe(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Exe(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&g(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Txe(t){const e={},n=f(t,["description"]);n!=null&&g(e,["description"],n);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const i=f(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&g(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Sxe(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],ay(yn(i)));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const _=f(e,["frequencyPenalty"]);_!=null&&g(r,["frequencyPenalty"],_);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const x=f(e,["responseSchema"]);x!=null&&g(r,["responseSchema"],oT(x));const b=f(e,["responseJsonSchema"]);if(b!=null&&g(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(U=>m_e(U))),g(n,["safetySettings"],O)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let O=ru(N);Array.isArray(O)&&(O=O.map(U=>b_e(nu(U)))),g(n,["tools"],O)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&g(n,["toolConfig"],w_e(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],qi(t,P));const S=f(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const C=f(e,["mediaResolution"]);C!=null&&g(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],sT(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const M=f(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],Qxe(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Axe(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],yn(i));const o=f(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&g(r,["topP"],s);const a=f(e,["topK"]);a!=null&&g(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const _=f(e,["frequencyPenalty"]);_!=null&&g(r,["frequencyPenalty"],_);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const x=f(e,["responseSchema"]);x!=null&&g(r,["responseSchema"],oT(x));const b=f(e,["responseJsonSchema"]);b!=null&&g(r,["responseJsonSchema"],b);const T=f(e,["routingConfig"]);T!=null&&g(r,["routingConfig"],T);const N=f(e,["modelSelectionConfig"]);N!=null&&g(r,["modelConfig"],N);const A=f(e,["safetySettings"]);if(n!==void 0&&A!=null){let W=A;Array.isArray(W)&&(W=W.map(V=>V)),g(n,["safetySettings"],W)}const P=f(e,["tools"]);if(n!==void 0&&P!=null){let W=ru(P);Array.isArray(W)&&(W=W.map(V=>I4(nu(V)))),g(n,["tools"],W)}const S=f(e,["toolConfig"]);n!==void 0&&S!=null&&g(n,["toolConfig"],S);const C=f(e,["labels"]);n!==void 0&&C!=null&&g(n,["labels"],C);const I=f(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],qi(t,I));const R=f(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const M=f(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const D=f(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],sT(D));const O=f(e,["audioTimestamp"]);O!=null&&g(r,["audioTimestamp"],O);const U=f(e,["thinkingConfig"]);U!=null&&g(r,["thinkingConfig"],U);const B=f(e,["imageConfig"]);if(B!=null&&g(r,["imageConfig"],Zxe(B)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=f(e,["modelArmorConfig"]);return n!==void 0&&G!=null&&g(n,["modelArmorConfig"],G),r}function Ek(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>ay(a))),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&g(n,["generationConfig"],Sxe(t,o,n)),n}function Tk(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&g(n,["generationConfig"],Axe(t,o,n)),n}function Sk(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>K0e(u))),g(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function Ak(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=f(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=f(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=f(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function Ixe(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=f(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=f(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Cxe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","mimeType"],_);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const v=f(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const x=f(t,["labels"]);e!==void 0&&x!=null&&g(e,["labels"],x);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b);const T=f(t,["enhancePrompt"]);return e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T),n}function Pxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Ixe(o,n),n}function Nxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Cxe(o,n),n}function kxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Gxe(s))),g(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],S4(i)),e}function Rxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ly(s))),g(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],A4(i)),e}function Mxe(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=f(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=f(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],uy(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>D_e(y))),g(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Oxe(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=f(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=f(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=f(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const _=f(t,["generateAudio"]);e!==void 0&&_!=null&&g(e,["parameters","generateAudio"],_);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],Vr(w));const v=f(t,["referenceImages"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(N=>L_e(N))),g(e,["instances[0]","referenceImages"],T)}const x=f(t,["mask"]);e!==void 0&&x!=null&&g(e,["instances[0]","mask"],O_e(x));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&g(e,["parameters","compressionQuality"],b),n}function Dxe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],Vxe(s)),e}function Lxe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],Uxe(s)),e}function $xe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&g(n,["instances[0]","image"],uy(o));const s=f(e,["video"]);s!=null&&g(n,["instances[0]","video"],C4(s));const a=f(e,["source"]);a!=null&&Fxe(a,n);const l=f(e,["config"]);return l!=null&&Mxe(l,n),n}function jxe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&g(n,["instances[0]","image"],Vr(o));const s=f(e,["video"]);s!=null&&g(n,["instances[0]","video"],P4(s));const a=f(e,["source"]);a!=null&&Bxe(a,n);const l=f(e,["config"]);return l!=null&&Oxe(l,n),n}function Vxe(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qxe(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Uxe(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Hxe(s))),g(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Fxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],uy(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],C4(o)),n}function Bxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Vr(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],P4(o)),n}function Gxe(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["image"],e_e(n));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],S4(i)),e}function ly(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["image"],T4(n));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&g(e,["safetyAttributes"],A4(i));const o=f(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function zxe(t){const e={},n=f(t,["_self"]);n!=null&&g(e,["mask"],T4(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function qxe(t){const e={},n=f(t,["video"]);return n!=null&&g(e,["video"],R_e(n)),e}function Hxe(t){const e={},n=f(t,["_self"]);return n!=null&&g(e,["video"],M_e(n)),e}function Wxe(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const _=f(t,["responseModalities"]);_!=null&&g(e,["responseModalities"],_);const w=f(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const x=f(t,["seed"]);x!=null&&g(e,["seed"],x);const b=f(t,["speechConfig"]);b!=null&&g(e,["speechConfig"],b);const T=f(t,["stopSequences"]);T!=null&&g(e,["stopSequences"],T);const N=f(t,["temperature"]);N!=null&&g(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&g(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&g(e,["topK"],P);const S=f(t,["topP"]);if(S!=null&&g(e,["topP"],S),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Kxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],qe(t,r)),n}function Jxe(t,e){const n={},r=f(e,["model"]);return r!=null&&g(n,["_url","name"],qe(t,r)),n}function Yxe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Xxe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Qxe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Zxe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=f(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function e_e(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Wo(n));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function T4(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function uy(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Wo(n));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Vr(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function t_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],y4(t,a)),r}function n_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],y4(t,a)),r}function r_e(t,e){const n={},r=f(e,["config"]);return r!=null&&t_e(t,r,n),n}function i_e(t,e){const n={},r=f(e,["config"]);return r!=null&&n_e(t,r,n),n}function o_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=v4(i);Array.isArray(o)&&(o=o.map(s=>U_(s))),g(e,["models"],o)}return e}function s_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=v4(i);Array.isArray(o)&&(o=o.map(s=>F_(s))),g(e,["models"],o)}return e}function a_e(t){const e={},n=f(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function U_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);i!=null&&g(e,["description"],i);const o=f(t,["version"]);o!=null&&g(e,["version"],o);const s=f(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],E_e(s));const a=f(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=f(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&g(e,["topP"],h);const y=f(t,["topK"]);y!=null&&g(e,["topK"],y);const _=f(t,["thinking"]);return _!=null&&g(e,["thinking"],_),e}function F_(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);i!=null&&g(e,["description"],i);const o=f(t,["versionId"]);o!=null&&g(e,["version"],o);const s=f(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>_xe(h))),g(e,["endpoints"],d)}const a=f(t,["labels"]);a!=null&&g(e,["labels"],a);const l=f(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],T_e(l));const u=f(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),g(e,["checkpoints"],d)}return e}function l_e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],wxe(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],bxe(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],W0e(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function u_e(t){const e={},n=f(t,["productImage"]);return n!=null&&g(e,["image"],Vr(n)),e}function c_e(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=f(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=f(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function d_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["source"]);i!=null&&h_e(i,n);const o=f(e,["config"]);return o!=null&&c_e(o,n),n}function f_e(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ly(i))),g(e,["generatedImages"],r)}return e}function h_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Vr(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>u_e(a))),g(e,["instances[0]","productImages"],s)}return n}function p_e(t){const e={},n=f(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Vr(n));const r=f(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],a_e(o));const s=f(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],exe(s));const a=f(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=f(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function S4(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function A4(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function m_e(t){const e={},n=f(t,["category"]);if(n!=null&&g(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function g_e(t){const e={},n=f(t,["image"]);return n!=null&&g(e,["image"],Vr(n)),e}function y_e(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=f(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=f(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=f(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function v_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["source"]);i!=null&&__e(i,n);const o=f(e,["config"]);return o!=null&&y_e(o,n),n}function x_e(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zxe(i))),g(e,["generatedMasks"],r)}return e}function __e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Vr(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],g_e(o)),n}function w_e(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Exe(r)),e}function b_e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],Yxe(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Xxe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function I4(t){const e={},n=f(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Txe(h))),g(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function E_e(t){const e={},n=f(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function T_e(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function S_e(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function A_e(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function I_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","name"],qe(t,r));const i=f(e,["config"]);return i!=null&&S_e(i,n),n}function C_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["config"]);return i!=null&&A_e(i,n),n}function P_e(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=f(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=f(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=f(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function N_e(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["_url","model"],qe(t,r));const i=f(e,["image"]);i!=null&&g(n,["instances[0]","image"],Vr(i));const o=f(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=f(e,["config"]);return s!=null&&P_e(s,n),n}function k_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ly(o))),g(e,["generatedImages"],i)}return e}function R_e(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],Wo(r));const i=f(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function M_e(t){const e={},n=f(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function O_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["_self"],Vr(n));const r=f(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function D_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["image"],uy(n));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function L_e(t){const e={},n=f(t,["image"]);n!=null&&g(e,["image"],Vr(n));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function C4(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function P4(t){const e={},n=f(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_e(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function j_e(t){const e={},n=f(t,["config"]);return n!=null&&$_e(n,e),e}function V_e(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function U_e(t){const e={},n=f(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&V_e(r,e),e}function F_e(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function B_e(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function G_e(t){const e={},n=f(t,["name"]);n!=null&&g(e,["name"],n);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=f(t,["done"]);i!=null&&g(e,["done"],i);const o=f(t,["error"]);o!=null&&g(e,["error"],o);const s=f(t,["response"]);return s!=null&&g(e,["response"],q_e(s)),e}function z_e(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&B_e(i,e),e}function q_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&g(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function H_e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function W_e(t){const e={},n=f(t,["config"]);return n!=null&&H_e(n,e),e}function K_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function N4(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=f(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function J_e(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&N4(r,e),e}function Y_e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X_e="Content-Type",Q_e="X-Server-Timeout",Z_e="User-Agent",B_="x-goog-api-client",ewe="1.38.0",twe=`google-genai-sdk/${ewe}`,nwe="v1beta1",rwe="v1beta";class iwe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:nwe}else{if(!this.clientOptions.apiKey)throw new Td({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:rwe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===L_.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&owe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ik(i),new $_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ik(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Or(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Te(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const _=JSON.parse(d);if("error"in _){const w=JSON.parse(JSON.stringify(_.error)),v=w.status,x=w.code,b=`got status: ${v}. ${JSON.stringify(_)}`;if(x>=400&&x<600)throw new Td({message:b,status:x})}}catch(_){if(_.name==="ApiError")throw _}s+=d;let h=-1,y=0;for(;;){h=-1,y=0;for(const v of l){const x=s.indexOf(v);x!==-1&&(h===-1||x<h)&&(h=x,y=v.length)}if(h===-1)break;const _=s.substring(0,h);s=s.substring(h+y);const w=_.trim();if(w.startsWith(a)){const v=w.substring(a.length).trim();try{const x=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new $_(x))}catch(x){throw new Error(`exception parsing stream chunk ${v}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=twe+" "+this.clientOptions.userAgentExtra;return e[Z_e]=n,e[B_]=n,e[X_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Q_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=de("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&N4(r,d);const h=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ik(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Td({message:i,status:n}):new Error(i)}}function owe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const swe="mcp_used/unknown";let awe=!1;function k4(t){for(const e of t)if(lwe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return awe}function R4(t){var e;const n=(e=t[B_])!==null&&e!==void 0?e:"";t[B_]=(n+` ${swe}`).trimStart()}function lwe(t){return t!==null&&typeof t=="object"&&t instanceof lT}function uwe(t){return Or(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Te(n.listTools({cursor:i}));for(const a of s.tools)yield yield Te(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class lT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new lT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Dr(uwe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Uye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cwe(t,e,n){const r=new Rye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class dwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=pwe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(T=>{u=T}),d=e.callbacks,h=function(){u({})},y=this.apiClient,_={onopen:h,onmessage:T=>{cwe(y,d.onmessage,T)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(T){}},w=this.webSocketFactory.create(l,hwe(s),_);w.connect(),await c;const b={setup:{model:qe(this.apiClient,e.model)}};return w.send(JSON.stringify(b)),new fwe(w,this.apiClient)}}class fwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=L0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ia.PLAY)}pause(){this.sendPlaybackControl(Ia.PAUSE)}stop(){this.sendPlaybackControl(Ia.STOP)}resetContext(){this.sendPlaybackControl(Ia.RESET_CONTEXT)}close(){this.conn.close()}}function hwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gwe(t,e,n){const r=new kye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=U0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class ywe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new dwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&k4(e.config.tools)&&R4(d);const h=wwe(d);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),D=!!I&&!!R||!!M;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",M="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${M}=${I}`}let y=()=>{};const _=new Promise(I=>{y=I}),w=e.callbacks,v=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),y({})},x=this.apiClient,b={onopen:v,onmessage:I=>{gwe(x,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(I){}},T=this.webSocketFactory.create(c,_we(h),b);T.connect(),await _;let N=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(N=`projects/${I}/locations/${R}/`+N)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pm.AUDIO]}:e.config.responseModalities=[Pm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],S=[];for(const I of P)if(this.isCallableTool(I)){const R=I;S.push(await R.tool())}else S.push(I);S.length>0&&(e.config.tools=S);const C={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=D0e(this.apiClient,C):A=O0e(this.apiClient,C),delete A.config,T.send(JSON.stringify(A)),new xwe(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vwe={turnComplete:!0};class xwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fr(n.turns),e.isVertexAI()||(r=r.map(i=>ay(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(mwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},vwe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:V0e(e)}:n={realtimeInput:j0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function _we(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ck=10;function Pk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ha(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ha(t){return"callTool"in t&&typeof t.callTool=="function"}function bwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ha(i)))!==null&&r!==void 0?r:!1}function Nk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ha(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function kk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ewe extends zi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!bwe(n)||Pk(n.config))return await this.generateContentInternal(l);const u=Nk(n);if(u.length>0){const w=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=fr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Ck;let _=0;for(;_<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,v=[];for(const x of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ha(x)){const T=await x.callTool(c.functionCalls);v.push(...T)}_++,d={role:"user",parts:v},l.contents=fr(l.contents),l.contents.push(w),l.contents.push(d),kk(l.config)&&(h.push(w),h.push(d))}return kk(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),Pk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=Nk(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ys(ji.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Ha(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&k4(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),R4(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ha(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ck;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Or(this,arguments,function*(){for(var h,y,_,w,v,x;a<o;){s&&(a++,s=!1);const A=yield Te(u.processParamsMaybeAddMcpUsage(d)),P=yield Te(u.generateContentStreamInternal(A)),S=[],C=[];try{for(var b=!0,T=(y=void 0,Dr(P)),N;N=yield Te(T.next()),h=N.done,!h;b=!0){w=N.value,b=!1;const I=w;if(yield yield Te(I),I.candidates&&(!((v=I.candidates[0])===null||v===void 0)&&v.content)){C.push(I.candidates[0].content);for(const R of(x=I.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(R.functionCall.name)){const M=yield Te(c.get(R.functionCall.name).callTool([R.functionCall]));S.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!b&&!h&&(_=T.return)&&(yield Te(_.call(T)))}finally{if(y)throw y.error}}if(S.length>0){s=!0;const I=new Lu;I.candidates=[{content:{role:"user",parts:S}}],yield yield Te(I);const R=[];R.push(...C),R.push({role:"user",parts:S});const M=fr(d.contents).concat(R);d.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Tk(this.apiClient,e);return a=de("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ak(c),h=new Lu;return Object.assign(h,d),h})}else{const u=Ek(this.apiClient,e);return a=de("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Sk(c),h=new Lu;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Tk(this.apiClient,e);return a=de("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Or(this,arguments,function*(){var h,y,_,w;try{for(var v=!0,x=Dr(d),b;b=yield Te(x.next()),h=b.done,!h;v=!0){w=b.value,v=!1;const T=w,N=Ak(yield Te(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new Lu;Object.assign(A,N),yield yield Te(A)}}catch(T){y={error:T}}finally{try{!v&&!h&&(_=x.return)&&(yield Te(_.call(x)))}finally{if(y)throw y.error}}})})}else{const u=Ek(this.apiClient,e);return a=de("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return Or(this,arguments,function*(){var h,y,_,w;try{for(var v=!0,x=Dr(d),b;b=yield Te(x.next()),h=b.done,!h;v=!0){w=b.value,v=!1;const T=w,N=Sk(yield Te(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new Lu;Object.assign(A,N),yield yield Te(A)}}catch(T){y={error:T}}finally{try{!v&&!h&&(_=x.return)&&(yield Te(_.call(x)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yxe(this.apiClient,e);return a=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=xxe(c),h=new sk;return Object.assign(h,d),h})}else{const u=gxe(this.apiClient,e);return a=de("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=vxe(c),h=new sk;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Nxe(this.apiClient,e);return a=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Rxe(c),h=new ak;return Object.assign(h,d),h})}else{const u=Pxe(this.apiClient,e);return a=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=kxe(c),h=new ak;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=fxe(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=hxe(l),c=new _ye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=N_e(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=k_e(l),c=new wye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=d_e(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=f_e(l),c=new bye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=v_e(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=x_e(l),c=new Eye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Jxe(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>F_(c))}else{const u=Kxe(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>U_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=i_e(this.apiClient,e);return a=de("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=s_e(c),h=new lk;return Object.assign(h,d),h})}else{const u=r_e(this.apiClient,e);return a=de("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=o_e(c),h=new lk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=C_e(this.apiClient,e);return a=de("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>F_(c))}else{const u=I_e(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>U_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lxe(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=cxe(c),h=new uk;return Object.assign(h,d),h})}else{const u=axe(this.apiClient,e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=uxe(c),h=new uk;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ixe(this.apiClient,e);return a=de("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=sxe(c),h=new ck;return Object.assign(h,d),h})}else{const u=rxe(this.apiClient,e);return a=de("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=oxe(c),h=new ck;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Y0e(this.apiClient,e);return o=de("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=X0e(l),c=new Tye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jxe(this.apiClient,e);return a=de("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Lxe(c),h=new Nm;return Object.assign(h,d),h})}else{const u=$xe(this.apiClient,e);return a=de("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Dxe(c),h=new Nm;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Twe extends zi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pye(e);return a=de("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=hye(e);return a=de("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=sye(e);return o=de("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Swe(t){const e={},n=f(t,["data"]);if(n!=null&&g(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Awe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dwe(o))),g(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function Iwe(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=f(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=f(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],Owe(t,a));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function Cwe(t,e){const n={},r=f(e,["config"]);return r!=null&&g(n,["config"],Iwe(t,r,n)),n}function Pwe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Nwe(t){const e={},n=f(t,["id"]);n!=null&&g(e,["id"],n);const r=f(t,["args"]);r!=null&&g(e,["args"],r);const i=f(t,["name"]);if(i!=null&&g(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kwe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Rwe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Mwe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],aT(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const _=f(t,["systemInstruction"]);e!==void 0&&_!=null&&g(e,["setup","systemInstruction"],Awe(yn(_)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=ru(w);Array.isArray(P)&&(P=P.map(S=>$we(nu(S)))),g(e,["setup","tools"],P)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],Lwe(v));const x=f(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&g(e,["setup","inputAudioTranscription"],x);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&g(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&g(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&g(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Owe(t,e){const n={},r=f(e,["model"]);r!=null&&g(n,["setup","model"],qe(t,r));const i=f(e,["config"]);return i!=null&&g(n,["config"],Mwe(i,n)),n}function Dwe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&g(e,["fileData"],Pwe(o));const s=f(t,["functionCall"]);s!=null&&g(e,["functionCall"],Nwe(s));const a=f(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Swe(l));const u=f(t,["text"]);u!=null&&g(e,["text"],u);const c=f(t,["thought"]);c!=null&&g(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Lwe(t){const e={},n=f(t,["handle"]);if(n!=null&&g(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $we(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],kwe(s));const a=f(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],Rwe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jwe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Vwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=jwe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Uwe extends zi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Cwe(this.apiClient,e);o=de("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=Vwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fwe(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function Bwe(t){const e={},n=f(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Fwe(r,e),e}function Gwe(t){const e={},n=f(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function zwe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function qwe(t){const e={},n=f(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&zwe(r,e),e}function Hwe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wwe extends zi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ys(ji.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Gwe(e);return o=de("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bwe(e);i=de("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qwe(e);return o=de("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Hwe(l),c=new Sye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kwe extends zi{constructor(e,n=new Wwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ys(ji.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=j_e(e);return o=de("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=F_e(e);return o=de("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=U_e(e);i=de("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=W_e(e);return o=de("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=K_e(l),c=new Aye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=J_e(e);return o=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Y_e(l),c=new Iye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=z_e(e);return o=de("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=G_e(l),c=new nT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let M4=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return M4=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Jwe=()=>M4();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const z_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr extends Error{}class Sn extends yr{constructor(e,n,r,i){super(`${Sn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new cy({message:r,cause:z_(n)});const o=n;return e===400?new D4(e,o,r,i):e===401?new L4(e,o,r,i):e===403?new $4(e,o,r,i):e===404?new j4(e,o,r,i):e===409?new V4(e,o,r,i):e===422?new U4(e,o,r,i):e===429?new F4(e,o,r,i):e>=500?new B4(e,o,r,i):new Sn(e,o,r,i)}}class q_ extends Sn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class cy extends Sn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class O4 extends cy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class D4 extends Sn{}class L4 extends Sn{}class $4 extends Sn{}class j4 extends Sn{}class V4 extends Sn{}class U4 extends Sn{}class F4 extends Sn{}class B4 extends Sn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ywe=/^[a-z][a-z0-9+.-]*:/i,Xwe=t=>Ywe.test(t);let H_=t=>(H_=Array.isArray,H_(t));const Qwe=H_;let Zwe=Qwe;const Rk=Zwe;function ebe(t){if(!t)return!0;for(const e in t)return!1;return!0}function tbe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const nbe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yr(`${t} must be an integer`);if(e<0)throw new yr(`${t} must be a positive integer`);return e},rbe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ibe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function obe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sbe=()=>{var t,e,n,r,i;const o=obe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Ok(Deno.build.os),"X-Stainless-Arch":Mk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Ok((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Mk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=abe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function abe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Mk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Ok=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let sh;const lbe=()=>sh??(sh=sbe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ube(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function G4(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function cbe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return G4({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function z4(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function dbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fbe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q4=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Bv(t,e,n){return q4(),new File(t,e??"unknown_file",n)}function hbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const pbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H4=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&H4(t),gbe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function ybe(t,e,n){if(q4(),t=await t,mbe(t))return t instanceof File?t:Bv([await t.arrayBuffer()],t.name);if(gbe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Bv(await W_(i),e,n)}const r=await W_(t);if(e||(e=hbe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Bv(r,e,n)}async function W_(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(H4(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(pbe(t))try{for(var a=!0,l=Dr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await W_(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${vbe(t)}`)}return s}function vbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W4{constructor(e){this._client=e}}W4._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K4(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Dk=Object.freeze(Object.create(null)),xbe=(t=K4)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,h)=>{var y,_,w;/[?#]/.test(d)&&(i=!0);const v=r[h];let x=(i?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((w=Object.getPrototypeOf((_=Object.getPrototypeOf((y=v.hasOwnProperty)!==null&&y!==void 0?y:Dk))!==null&&_!==void 0?_:Dk))===null||w===void 0?void 0:w.toString))&&(x=v+"",o.push({start:c.length+d.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":x)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,y)=>{const _=" ".repeat(y.start-c),w="^".repeat(y.length);return c=y.start+y.length,h+_+w},"");throw new yr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${d}`)}return s},ah=xbe(K4);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J4 extends W4{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Rm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new yr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new yr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ah`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ah`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ah`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Rm(o,["api_version"]);return this._client.get(ah`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}J4._key=Object.freeze(["interactions"]);class Y4 extends J4{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _be(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let lh;function uT(t){let e;return(lh??(e=new globalThis.TextEncoder,lh=e.encode.bind(e)))(t)}let uh;function Lk(t){let e;return(uh??(e=new globalThis.TextDecoder,uh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dy{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?uT(e):e;this.buffer=_be([this.buffer,n]);const r=[];let i;for(;(i=wbe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Lk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Lk(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}dy.NEWLINE_CHARS=new Set([`
`,"\r"]);dy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function wbe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function bbe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mm={off:0,error:200,warn:300,info:400,debug:500},$k=(t,e,n)=>{if(t){if(tbe(Mm,t))return t;_n(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Mm))}`)}};function Wu(){}function ch(t,e,n){return!e||Mm[t]>Mm[n]?Wu:e[t].bind(e)}const Ebe={error:Wu,warn:Wu,info:Wu,debug:Wu};let jk=new WeakMap;function _n(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Ebe;const i=jk.get(n);if(i&&i[0]===r)return i[1];const o={error:ch("error",n,r),warn:ch("warn",n,r),info:ch("info",n,r),debug:ch("debug",n,r)};return jk.set(n,[r,o]),o}const us=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ca{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?_n(r):console;function s(){return Or(this,arguments,function*(){var l,u,c,d;if(i)throw new yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,_=Dr(Tbe(e,n)),w;w=yield Te(_.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const v=d;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Te(JSON.parse(v.data))}catch(x){throw o.error("Could not parse message into JSON:",v.data),o.error("From chunk:",v.raw),x}}}catch(v){u={error:v}}finally{try{!y&&!l&&(c=_.return)&&(yield Te(c.call(_)))}finally{if(u)throw u.error}}h=!0}catch(v){if(G_(v))return yield Te(void 0);throw v}finally{h||n.abort()}})}return new Ca(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Or(this,arguments,function*(){var l,u,c,d;const h=new dy,y=z4(e);try{for(var _=!0,w=Dr(y),v;v=yield Te(w.next()),l=v.done,!l;_=!0){d=v.value,_=!1;const x=d;for(const b of h.decode(x))yield yield Te(b)}}catch(x){u={error:x}}finally{try{!_&&!l&&(c=w.return)&&(yield Te(c.call(w)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield Te(x)})}function s(){return Or(this,arguments,function*(){var l,u,c,d;if(i)throw new yr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,_=Dr(o()),w;w=yield Te(_.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const v=d;h||v&&(yield yield Te(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!y&&!l&&(c=_.return)&&(yield Te(c.call(_)))}finally{if(u)throw u.error}}h=!0}catch(v){if(G_(v))return yield Te(void 0);throw v}finally{h||n.abort()}})}return new Ca(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ca(()=>i(e),this.controller,this.client),new Ca(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return G4({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=uT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Tbe(t,e){return Or(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yr("Attempted to iterate over a response with no body");const a=new Abe,l=new dy,u=z4(t.body);try{for(var c=!0,d=Dr(Sbe(u)),h;h=yield Te(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const _ of l.decode(y)){const w=a.decode(_);w&&(yield yield Te(w))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=d.return)&&(yield Te(o.call(d)))}finally{if(i)throw i.error}}for(const y of l.flush()){const _=a.decode(y);_&&(yield yield Te(_))}})}function Sbe(t){return Or(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Dr(t),u;u=yield Te(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?uT(c):c;let h=new Uint8Array(s.length+d.length);h.set(s),h.set(d,s.length),s=h;let y;for(;(y=bbe(s))!==-1;)yield yield Te(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Te(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Te(s))})}class Abe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Ibe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Ibe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Cbe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return _n(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ca.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return _n(t).debug(`[${r}] response parsed`,us({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cT extends Promise{constructor(e,n,r=Cbe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new cT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X4=Symbol("brand.privateNullableHeaders");function*Pbe(t){if(!t)return;if(X4 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Rk(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Rk(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const $u=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Pbe(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[X4]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=eye)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Q4;class fy{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Gv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Gv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=Rm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:fy.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(s=(o=$k(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:$k(Gv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:_,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:ube(),this.encoder=fbe,this._options=y,this.apiKey=c,this.apiVersion=d,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=$u([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return $u([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return $u([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new yr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${Jwe()}`}makeStatusError(e,n,r,i){return Sn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Xwe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return ebe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new cT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(_n(this).debug(`[${h}] sending request`,us({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new q_;const w=new AbortController,v=await this.fetchWithTimeout(c,u,d,w).catch(z_),x=Date.now();if(v instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new q_;const N=G_(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return _n(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${T}`),_n(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${T})`,us({retryOfRequestLogID:r,url:c,durationMs:x-_,message:v.message})),this.retryRequest(a,n,r??h);throw _n(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),_n(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,us({retryOfRequestLogID:r,url:c,durationMs:x-_,message:v.message})),N?new O4:new cy({cause:v})}const b=`[${h}${y}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${x-_}ms`;if(!v.ok){const T=await this.shouldRetry(v);if(n&&T){const I=`retrying, ${n} attempts remaining`;return await dbe(v.body),_n(this).info(`${b} - ${I}`),_n(this).debug(`[${h}] response error (${I})`,us({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:x-_})),this.retryRequest(a,n,r??h,v.headers)}const N=T?"error; no more retries left":"error; not retryable";_n(this).info(`${b} - ${N}`);const A=await v.text().catch(I=>z_(I).message),P=rbe(A),S=P?void 0:A;throw _n(this).debug(`[${h}] response error (${N})`,us({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:S,durationMs:Date.now()-_})),this.makeStatusError(v.status,P,S,v.headers)}return _n(this).info(b),_n(this).debug(`[${h}] response start`,us({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:x-_})),{response:v,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Rm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await ibe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&nbe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),_=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:_},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=$u([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),lbe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=$u([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cbe(e)}:this.encoder({body:e,headers:r})}}fy.DEFAULT_TIMEOUT=6e4;class qt extends fy{constructor(){super(...arguments),this.interactions=new Y4(this)}}Q4=qt;qt.GeminiNextGenAPIClient=Q4;qt.GeminiNextGenAPIClientError=yr;qt.APIError=Sn;qt.APIConnectionError=cy;qt.APIConnectionTimeoutError=O4;qt.APIUserAbortError=q_;qt.NotFoundError=j4;qt.ConflictError=V4;qt.RateLimitError=F4;qt.BadRequestError=D4;qt.AuthenticationError=L4;qt.InternalServerError=B4;qt.PermissionDeniedError=$4;qt.UnprocessableEntityError=U4;qt.toFile=ybe;qt.Interactions=Y4;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function kbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Rbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Mbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Obe(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=f(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=f(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Dbe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],Vk(y))}else if(i==="PREFERENCE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],Vk(y))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=f(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=f(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Lbe(t,e){const n={},r=f(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Wbe(o);const s=f(t,["config"]);return s!=null&&Obe(s,n),n}function $be(t,e){const n={},r=f(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Kbe(o,n,e);const s=f(t,["config"]);return s!=null&&Dbe(s,n,e),n}function jbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Vbe(t,e){const n={},r=f(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Ube(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function Fbe(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function Bbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Ube(r,n),n}function Gbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Fbe(r,n),n}function zbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Z4(a))),g(n,["tuningJobs"],s)}return n}function qbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>K_(a))),g(n,["tuningJobs"],s)}return n}function Hbe(t,e){const n={},r=f(t,["name"]);r!=null&&g(n,["model"],r);const i=f(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function Wbe(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function Kbe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Z4(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["state"]);o!=null&&g(n,["state"],m4(o));const s=f(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=f(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=f(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&g(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&g(n,["tunedModel"],Hbe(h)),n}function K_(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["state"]);o!=null&&g(n,["state"],m4(o));const s=f(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=f(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=f(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&g(n,["error"],c);const d=f(t,["description"]);d!=null&&g(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=f(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const _=f(t,["preTunedModel"]);_!=null&&g(n,["preTunedModel"],_);const w=f(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const v=f(t,["preferenceOptimizationSpec"]);v!=null&&g(n,["preferenceOptimizationSpec"],v);const x=f(t,["tuningDataStats"]);x!=null&&g(n,["tuningDataStats"],x);const b=f(t,["encryptionSpec"]);b!=null&&g(n,["encryptionSpec"],b);const T=f(t,["partnerModelTuningSpec"]);T!=null&&g(n,["partnerModelTuningSpec"],T);const N=f(t,["customBaseModel"]);N!=null&&g(n,["customBaseModel"],N);const A=f(t,["experiment"]);A!=null&&g(n,["experiment"],A);const P=f(t,["labels"]);P!=null&&g(n,["labels"],P);const S=f(t,["outputUri"]);S!=null&&g(n,["outputUri"],S);const C=f(t,["pipelineJob"]);C!=null&&g(n,["pipelineJob"],C);const I=f(t,["serviceAccount"]);I!=null&&g(n,["serviceAccount"],I);const R=f(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const M=f(t,["veoTuningSpec"]);return M!=null&&g(n,["veoTuningSpec"],M),n}function Jbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&g(n,["name"],i);const o=f(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=f(t,["done"]);s!=null&&g(n,["done"],s);const a=f(t,["error"]);return a!=null&&g(n,["error"],a),n}function Vk(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ybe extends zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:D_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Vbe(e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>K_(c))}else{const u=jbe(e);return a=de("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Z4(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Gbe(e);return a=de("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=qbe(c),h=new dk;return Object.assign(h,d),h})}else{const u=Bbe(e);return a=de("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=zbe(c),h=new dk;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kbe(e);return a=de("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Mbe(c),h=new fk;return Object.assign(h,d),h})}else{const u=Nbe(e);return a=de("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Rbe(c),h=new fk;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=$be(e,e);return o=de("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>K_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lbe(e);return o=de("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Jbe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xbe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Qbe=1024*1024*8,Zbe=3,eEe=1e3,tEe=2,Om="x-goog-upload-status";async function nEe(t,e,n){var r;const i=await eV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Om])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function rEe(t,e,n){var r;const i=await eV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Om])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=u4(o),a=new rT;return Object.assign(a,s),a}async function eV(t,e,n){var r,i;let o=0,s=0,a=new $_(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(Qbe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,h=eEe;for(;d<Zbe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Om]));)d++,await oEe(h),h=h*tEe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Om])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function iEe(t){return{size:t.size,type:t.type}}function oEe(t){return new Promise(e=>setTimeout(e,t))}class sEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aEe{create(e,n,r){return new lEe(e,n,r)}}class lEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uk="x-goog-api-key";class uEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Uk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Uk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cEe="gl-node/";class dEe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new qt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=iye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new uEe(this.apiKey);this.apiClient=new iwe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:cEe+"web",uploader:new sEe,downloader:new Xbe}),this.models=new Ewe(this.apiClient),this.live=new ywe(this.apiClient,i,new aEe),this.batches=new Mve(this.apiClient),this.chats=new p0e(this.models,this.apiClient),this.caches=new d0e(this.apiClient),this.files=new T0e(this.apiClient),this.operations=new Twe(this.apiClient),this.authTokens=new Uwe(this.apiClient),this.tunings=new Ybe(this.apiClient),this.fileSearchStores=new Kwe(this.apiClient)}}var fEe={};async function hEe(t,e){const n=new dEe({apiKey:fEe.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:pt.OBJECT,properties:{invoiceNumber:{type:pt.STRING},supplierName:{type:pt.STRING},supplierCuit:{type:pt.STRING},date:{type:pt.STRING},items:{type:pt.ARRAY,items:{type:pt.OBJECT,properties:{sku:{type:pt.STRING},description:{type:pt.STRING},quantity:{type:pt.NUMBER},unitPrice:{type:pt.NUMBER},total:{type:pt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:pt.NUMBER},iva:{type:pt.NUMBER},totalAmount:{type:pt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}const pEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Gd(),n=$.useRef(null),[r,i]=$.useState("ia"),[o,s]=$.useState(!1),[a,l]=$.useState(!1),[u,c]=$.useState(null),[d,h]=$.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=x=>{var T;const b=(T=x.target.files)==null?void 0:T[0];if(b){const N=new FileReader;N.onload=A=>{var P;c({name:b.name,type:b.type,preview:(P=A.target)==null?void 0:P.result})},N.readAsDataURL(b)}},_=async()=>{if(u){s(!0);try{const x=u.preview.split(",")[1],b=await hEe(x,u.type),T=await Promise.all(b.items.map(async N=>{const{products:A}=await e({limit:1,searchTerm:N.sku||N.description.split(" ")[0],orderByField:"name"});return{...N,matchedProduct:A[0]}}));h({invoiceNumber:b.invoiceNumber||"",supplierName:b.supplierName||"",date:b.date||new Date().toISOString().split("T")[0],items:T})}catch(x){console.error(x),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},w=async()=>{l(!0);try{for(const x of d.items)if(x.matchedProduct){const b=(x.matchedProduct.stock||0)+x.quantity;await t(x.matchedProduct.id,{costPrice:x.unitPrice,stock:b})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),c(null)}finally{l(!1)}},v=d.items.reduce((x,b)=>x+b.unitPrice*b.quantity,0);return p.jsxs("div",{className:"space-y-6 pb-20",children:[p.jsxs("header",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),p.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),p.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[p.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[p.jsx(cx,{className:"w-4 h-4"})," IA Scan"]}),p.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[p.jsx(mr,{className:"w-4 h-4"})," Manual"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(nz,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?p.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[p.jsx(Sp,{className:"w-16 h-16 mb-4 text-orange-500"}),p.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),p.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:p.jsx(Rr,{className:"w-5 h-5"})})]}),p.jsxs("button",{onClick:_,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?p.jsx(ei,{className:"w-5 h-5 animate-spin"}):p.jsx(cx,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):p.jsxs("div",{onClick:()=>{var x;return(x=n.current)==null?void 0:x.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:p.jsx(Sp,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),p.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),p.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),p.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Fb,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),p.jsx("input",{value:d.supplierName,onChange:x=>h({...d,supplierName:x.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),p.jsx("input",{value:d.invoiceNumber,onChange:x=>h({...d,invoiceNumber:x.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),p.jsx("input",{type:"date",value:d.date,onChange:x=>h({...d,date:x.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),p.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[p.jsx(TD,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),p.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[d.items.length," Items"]})]}),p.jsx("div",{className:"flex-1 overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),p.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),p.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:d.items.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"p-20 text-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[p.jsx(ax,{className:"w-12 h-12"}),p.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):d.items.map((x,b)=>p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsx("td",{className:"px-8 py-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.description}),x.matchedProduct?p.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[p.jsx(Uc,{className:"w-3 h-3"}),p.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",x.matchedProduct.name]})]}):p.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[p.jsx(lc,{className:"w-3 h-3"}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),p.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:x.quantity}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",x.unitPrice.toLocaleString()]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",x.total.toLocaleString()]}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:p.jsx(dl,{className:"w-4 h-4"})})})]},b))})]})}),p.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex items-center gap-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),p.jsxs("p",{className:"text-3xl font-black",children:["$",v.toLocaleString()]})]}),p.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),p.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(v*1.21).toLocaleString()]})]})]}),p.jsxs("button",{onClick:w,disabled:a||d.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[a?p.jsx(ei,{className:"animate-spin w-6 h-6"}):p.jsx(Gb,{className:"w-6 h-6"}),a?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},mEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),[s,a]=$.useState(!1),[l,u]=$.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c=async()=>{o(!0);try{const y=await Po(ke(pe,"clients"));e(y.docs.map(_=>({id:_.id,..._.data()})))}catch(y){console.error(y)}finally{o(!1)}};$.useEffect(()=>{c()},[]);const d=async y=>{y.preventDefault();try{await Kt(ke(pe,"clients"),{...l,createdAt:new Date().toISOString()}),a(!1),u({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c()}catch{alert("Error al guardar cliente")}},h=t.filter(y=>{var _;return y.name.toLowerCase().includes(n.toLowerCase())||((_=y.cuit)==null?void 0:_.includes(n))});return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[p.jsx(mr,{size:20})," Nuevo Cliente"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:p.jsx(zd,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),p.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:p.jsx(Fc,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),p.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[p.jsxs("div",{className:"relative w-full md:w-96",children:[p.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:n,onChange:y=>r(y.target.value)})]}),p.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[p.jsx(yD,{size:16})," Exportar Listado"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):h.map(y=>p.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(y.name||"U").substring(0,2).toUpperCase()}),p.jsx("p",{className:"font-bold text-slate-800",children:y.name})]})}),p.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:y.cuit||y.dni}),p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:p.jsx(YG,{size:14})}),p.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:p.jsx(KG,{size:14})})]})}),p.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${y.balance<0?"text-red-500":"text-green-600"}`,children:["$",(y.balance||0).toLocaleString()]})]},y.id))})]})})]}),s&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:p.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),p.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:p.jsx(Rr,{size:24})})]}),p.jsxs("form",{onSubmit:d,className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"col-span-2 space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:y=>u({...l,name:y.target.value})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:y=>u({...l,cuit:y.target.value})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),p.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:y=>u({...l,phone:y.target.value})})]}),p.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},gEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),[s,a]=$.useState(!1),l=async()=>{o(!0);try{const u=await Po(ke(pe,"suppliers"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u)}finally{o(!1)}};return $.useEffect(()=>{l()},[]),p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[p.jsx(mr,{size:20})," Nuevo Proveedor"]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:p.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(u=>p.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:u.name||u.company}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:u.category||"General"})}),p.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:u.phone}),p.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(u.balance||0).toLocaleString()]})]},u.id))})]})]})]})},yEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:o}=Gd(),[s,a]=$.useState("boxes"),[l,u]=$.useState({show:!1,type:null}),[c,d]=$.useState(!1),[h,y]=$.useState(!1),[_,w]=$.useState(null),[v,x]=$.useState(null),[b,T]=$.useState(!1),N=$.useMemo(()=>e.reduce((I,R)=>I+R.balance,0),[e]),A=$.useMemo(()=>e.filter(I=>I.type==="efectivo").reduce((I,R)=>I+R.balance,0),[e]),P=async I=>{I.preventDefault();const R=new FormData(I.currentTarget),M=parseFloat(R.get("amount")),D=R.get("boxId"),O=l.type,U=e.find(B=>B.id===D);if(!U){alert("Debes seleccionar una caja de origen.");return}try{await o({date:new Date().toISOString(),amount:M,type:O,boxId:D,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:M,netAmount:M}]});const B=O==="egreso"?U.balance-M:U.balance+M;await r(D,{balance:B}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async I=>{I.preventDefault(),T(!0);const R=new FormData(I.currentTarget),M=R.get("name"),D=R.get("type"),O=R.get("responsible"),U=parseFloat(R.get("balance"))||0;try{v?await r(v.id,{name:M,type:D,responsible:O}):await n({name:M,type:D,responsible:O,balance:U,status:"abierta"}),y(!1),x(null)}finally{T(!1)}},C=async I=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(I)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),p.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[p.jsx(hD,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),p.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[p.jsx(OG,{className:"w-5 h-5"})," Ingreso Manual"]}),p.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[p.jsx("button",{onClick:()=>a("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),p.jsx("button",{onClick:()=>a("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),p.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),p.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[p.jsx(CD,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),p.jsx(Ua,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:p.jsx(vA,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:p.jsx(lx,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="banco").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[p.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:p.jsx(Tp,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="virtual").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(I=>p.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsx("div",{className:`p-4 rounded-2xl ${I.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:I.type==="banco"?p.jsx(lx,{className:"w-6 h-6"}):I.type==="virtual"?p.jsx(Tp,{className:"w-6 h-6"}):p.jsx(Fc,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>{x(I),y(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:p.jsx(SD,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:p.jsx(dl,{className:"w-4 h-4"})})]})]}),p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:I.name}),p.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",I.balance.toLocaleString()]}),I.status==="abierta"&&p.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[p.jsx(zd,{className:"w-4 h-4"}),p.jsxs("span",{children:["Resp: ",p.jsx("span",{className:"text-slate-800",children:I.responsible||"Sistema"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>{w(I),d(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[p.jsx(UG,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),p.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[p.jsx(DG,{className:"w-4 h-4"})," Transferir"]})]})]}),I.status==="cerrada"&&p.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[p.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",I.lastClosed]}),p.jsxs("button",{onClick:()=>r(I.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[p.jsx(mr,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},I.id)),p.jsxs("button",{onClick:()=>{x(null),y(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[p.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:p.jsx(mr,{className:"w-8 h-8"})}),p.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),p.jsx("div",{className:"space-y-6",children:p.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[p.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(Hb,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),p.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),p.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:p.jsx(Fb,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),p.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):p.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[p.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[p.jsxs("div",{className:"relative flex-1 w-full",children:[p.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[p.jsx(zG,{className:"w-4 h-4"})," Filtros"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),p.jsx("th",{className:"px-8 py-5",children:"Caja"}),p.jsx("th",{className:"px-8 py-5",children:"Concepto"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(I=>{var R;return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(I.date).toLocaleDateString()}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(I.date).toLocaleTimeString()})]}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(M=>M.id===I.boxId))==null?void 0:R.name)||"Mostrador"})}),p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.category||"Varios"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:I.description})]}),p.jsx("td",{className:"px-8 py-5 text-right",children:p.jsxs("span",{className:`text-lg font-black ${I.type==="egreso"?"text-red-600":"text-green-600"}`,children:[I.type==="egreso"?"-":"+","$",I.amount.toLocaleString()]})}),p.jsx("td",{className:"px-8 py-5 text-center",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:p.jsx(vD,{className:"w-5 h-5"})})})]},I.id)})})]})})]}),l.show&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:p.jsx(vA,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),p.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),p.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:p.jsx(Rr,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[p.jsx("option",{value:"",children:"Elegir caja..."}),e.map(I=>p.jsxs("option",{value:I.id,children:[I.name," ($",I.balance.toLocaleString(),")"]},I.id))]}),p.jsx(mD,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),p.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),p.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[p.jsx("option",{value:"gasto",children:"Gasto General"}),p.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),p.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),p.jsx("option",{value:"venta",children:"Venta / Cobranza"}),p.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),p.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),p.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),p.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[p.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),p.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:v?"Editar Fondo":"Nueva Caja / Fondo"}),p.jsx("button",{onClick:()=>y(!1),children:p.jsx(Rr,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),p.jsx("input",{name:"name",defaultValue:v==null?void 0:v.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),p.jsxs("select",{name:"type",defaultValue:v==null?void 0:v.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[p.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),p.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),p.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!v&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),p.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),p.jsx("input",{name:"responsible",defaultValue:v==null?void 0:v.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),p.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:b?p.jsx(ei,{className:"animate-spin w-5 h-5 mx-auto"}):v?"Guardar Cambios":"Crear Fondo"})]})]})})]})},vEe=()=>{const t=[{name:"Ene",v:4e3},{name:"Feb",v:3e3},{name:"Mar",v:5e3}];return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Informes e IVA"}),p.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-2xl font-bold text-xs uppercase tracking-widest",children:[p.jsx(yD,{size:16})," Exportar PDF"]})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsx("h3",{className:"font-black text-slate-400 text-[10px] uppercase tracking-widest mb-8",children:"Rendimiento Mensual"}),p.jsx("div",{className:"h-64 w-full",children:p.jsx(JL,{width:"100%",height:"100%",children:p.jsxs(l4,{data:t,children:[p.jsx(eT,{strokeDasharray:"3 3",vertical:!1}),p.jsx(Zd,{dataKey:"name"}),p.jsx(Sr,{}),p.jsx(ni,{type:"monotone",dataKey:"v",stroke:"#ea580c",fill:"#ea580c10",strokeWidth:4})]})})})]})]})},xEe=({isAdmin:t,companyInfo:e,setCompanyInfo:n})=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de datos de empresa, impresin y seguridad."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest mb-6 flex items-center gap-2",children:[p.jsx(VG,{size:18,className:"text-orange-600"})," Datos de la Empresa"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Fantasa"}),p.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border-none rounded-2xl font-bold",defaultValue:"Ferretera Bruzzone"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT"}),p.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border-none rounded-2xl font-bold",defaultValue:"30-XXXXXXXX-9"})]})]})]})}),p.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[3rem] shadow-2xl",children:[p.jsx("h3",{className:"font-black uppercase tracking-widest text-xs mb-6 text-orange-500",children:"Plan Actual"}),p.jsxs("div",{className:"p-6 bg-white/5 rounded-3xl border border-white/10 mb-6",children:[p.jsx("p",{className:"text-2xl font-black",children:"PRO v4.0"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"Suscripcin Activa hasta 2026"})]}),p.jsx("button",{className:"w-full py-4 bg-orange-600 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl",children:"Gestionar Licencia"})]})]})]}),_Ee=()=>p.jsxs("div",{className:"p-8 text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:"Sucursales"}),p.jsxs("div",{className:"p-6 bg-white rounded-3xl border border-slate-100 flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:p.jsx(tz,{})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold",children:"Casa Central"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Activa"})]})]})]}),wEe=()=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),p.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[p.jsx(iz,{size:20})," Nuevo Acceso"]})]}),p.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),p.jsx("th",{className:"px-8 py-5",children:"Rango"}),p.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),p.jsx("td",{className:"px-8 py-6",children:p.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),p.jsx("td",{className:"px-8 py-6 text-right",children:p.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:p.jsx(dl,{size:18})})})]})})]})})]}),bEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Actualizacin de Precios"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Modifica los valores de tus productos de forma masiva."})]}),p.jsxs("button",{className:"bg-orange-600 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-900/20 hover:bg-orange-700 transition-all",children:[p.jsx(Gb,{size:20})," Guardar Cambios"]})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Ajuste por Porcentaje (%)"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"number",placeholder:"Ej: 10",className:"flex-1 p-4 bg-white rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-orange-500"}),p.jsx("button",{className:"px-6 py-4 bg-slate-900 text-white rounded-xl font-black text-xs uppercase hover:bg-black transition-all",children:"Aplicar"})]})]}),p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Ajuste por Monto Fijo ($)"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"number",placeholder:"Ej: 500",className:"flex-1 p-4 bg-white rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-orange-500"}),p.jsx("button",{className:"px-6 py-4 bg-slate-900 text-white rounded-xl font-black text-xs uppercase hover:bg-black transition-all",children:"Aplicar"})]})]})]}),p.jsxs("div",{className:"p-20 text-center border-2 border-dashed border-slate-100 rounded-[2.5rem]",children:[p.jsx(ID,{size:48,className:"mx-auto text-slate-200 mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold italic text-sm",children:"Selecciona una categora o marca para previsualizar los cambios."})]})]})]}),EEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Importar Datos"}),p.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border-4 border-dashed border-slate-100 flex flex-col items-center justify-center text-center group hover:border-orange-200 transition-all cursor-pointer",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-6 group-hover:bg-orange-50",children:p.jsx(xD,{size:40,className:"text-slate-300 group-hover:text-orange-500"})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Cargar Excel o CSV"}),p.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Arrastra tu archivo aqu para actualizar el inventario masivamente."}),p.jsx("button",{className:"mt-8 px-8 py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all",children:"Descargar Plantilla"})]})]}),TEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Gestin de Depsito"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:p.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white shadow-2xl relative overflow-hidden",children:[p.jsx(Ip,{className:"text-orange-500 mb-6",size:48}),p.jsx("h2",{className:"text-2xl font-black",children:"Stock en Depsito"}),p.jsx("p",{className:"text-slate-400 mt-2",children:"Control de mercadera pendiente de ingreso a saln."}),p.jsxs("div",{className:"mt-10 p-6 bg-white/5 rounded-2xl border border-white/10 flex justify-between items-end",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Capacidad Ocupada"}),p.jsx("p",{className:"text-3xl font-black text-orange-500",children:"45%"})]})]})})]}),SEe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Gd(),[n,r]=$.useState(!1);return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Pedidos de Compra"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de abastecimiento con proveedores."})]}),p.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-900/20 transition-all active:scale-95",children:[p.jsx(mr,{size:20})," Generar Pedido"]})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm flex flex-col items-center justify-center py-20 text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-50 text-slate-200 rounded-full flex items-center justify-center mb-6",children:p.jsx(wD,{size:40})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"No hay pedidos pendientes"}),p.jsx("p",{className:"text-slate-400 max-w-xs mt-2",children:"Cuando generes un pedido de reposicin aparecer en este listado."})]})]})},AEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Saldos y Deudas"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"Cuentas Corrientes Clientes"}),p.jsx("p",{className:"text-3xl font-black text-orange-600",children:"$0.00"})]})})]}),IEe=()=>p.jsxs("div",{className:"p-8 text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:"Mdulo de Finanzas"}),p.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white",children:[p.jsx(lx,{className:"text-orange-500 mb-4",size:40}),p.jsx("h2",{className:"text-xl font-bold",children:"Estado Bancario"}),p.jsx("p",{className:"text-slate-400 mt-2",children:"Prximamente: Conciliacin automtica con bancos."})]})]}),CEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),s=async()=>{o(!0);const l=await Po(ke(pe,"products"));e(l.docs.map(u=>({id:u.id,...u.data()}))),o(!1)};$.useEffect(()=>{s()},[]);const a=async l=>{const u=Ke(pe,"products",l.id);await Nn(u,{isPublic:!l.isPublic}),s()};return p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:p.jsx(cl,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),p.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),p.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:p.jsx(qb,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),p.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(RD,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),p.jsxs("div",{className:"relative w-96",children:[p.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),p.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:n,onChange:l=>r(l.target.value)})]})]}),p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50/50",children:[p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),p.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),p.jsx("td",{className:"px-8 py-5",children:l.isPublic?p.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[p.jsx(vD,{size:12})," Pblico"]}):p.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[p.jsx(GG,{size:12})," Privado"]})}),p.jsx("td",{className:"px-8 py-5 text-right",children:p.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},PEe=()=>p.jsxs("div",{className:"p-8 text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 mb-6",children:"Fidelizacin de Clientes"}),p.jsxs("div",{className:"bg-orange-50 p-10 rounded-[3rem] border border-orange-100",children:[p.jsx(ez,{className:"text-orange-500 mb-4"}),p.jsx("p",{className:"font-bold text-orange-900",children:"Configura aqu el sistema de puntos y descuentos para tus clientes frecuentes."})]})]}),NEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Conexiones Externas"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:["Mercado Libre","WhatsApp API","AFIP / ARCA","Andreani"].map(t=>p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 flex flex-col justify-between hover:shadow-lg transition-all cursor-pointer group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-10",children:[p.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-all",children:p.jsx(AD,{size:20})}),p.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-600 rounded-full text-[9px] font-black uppercase",children:"Vinculado"})]}),p.jsx("h3",{className:"font-black text-slate-800 text-lg uppercase tracking-tighter",children:t})]},t))})]}),kEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),p.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[p.jsx(mr,{size:20})," Nuevo Presupuesto"]})]}),p.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[p.jsx(Sp,{size:48,className:"mx-auto text-slate-200 mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),REe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Pedidos de Clientes"}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm flex flex-col items-center justify-center py-20 text-center",children:[p.jsx(qb,{className:"text-slate-100 w-20 h-20 mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold",children:"Bandeja de pedidos vaca."})]})]}),MEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Planes de Cuotas"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Financiacin interna y seguimiento de pagos."})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm flex flex-col items-center justify-center text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-6",children:p.jsx(Tp,{size:40})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Gestin de Cobranzas"}),p.jsx("p",{className:"text-slate-400 max-w-sm text-sm mt-2",children:"Aqu podrs ver los vencimientos de las cuotas de tus clientes."})]})]}),OEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Faltantes Crticos"}),p.jsxs("div",{className:"bg-red-50 p-10 rounded-[3rem] border border-red-100 text-center",children:[p.jsx(lc,{size:48,className:"mx-auto text-red-500 mb-4"}),p.jsx("p",{className:"text-red-800 font-bold italic text-sm uppercase tracking-widest",children:"Stock Asegurado - Sin faltantes detectados"})]})]}),DEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),p.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),p.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),LEe=()=>p.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Modificacin Masiva"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Actualizacin general de precios y categoras por porcentaje o monto."})]}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mb-6",children:p.jsx(Bb,{size:40})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Editor de Precios Global"}),p.jsx("p",{className:"text-slate-400 max-w-sm mb-8 text-sm",children:"Esta herramienta te permite subir los precios de toda una marca o categora en un solo clic."}),p.jsx("button",{className:"px-10 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-orange-900/20",children:"Iniciar Proceso Masivo"})]})]}),$Ee=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in text-left",children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Gestin de Remitos"}),p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 text-center",children:[p.jsx(Ub,{size:48,className:"mx-auto text-slate-200 mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold italic",children:"Todos los remitos han sido facturados."})]})]}),jEe=({client:t,onLogout:e,companyInfo:n})=>{var r,i;return p.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[p.jsx("header",{className:"bg-slate-900 text-white p-6 shadow-xl",children:p.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:p.jsx(cl,{className:"text-white",size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-black tracking-tight uppercase",children:n.name}),p.jsx("p",{className:"text-[10px] font-bold text-orange-500 uppercase tracking-widest text-left",children:"Portal de Autogestin"})]})]}),p.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-white/10 hover:bg-red-500/20 px-4 py-2 rounded-xl transition-all text-xs font-bold",children:[p.jsx(ED,{size:16})," Salir"]})]})}),p.jsxs("main",{className:"max-w-6xl mx-auto p-8 space-y-8 text-left",children:[p.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-black text-slate-400",children:((r=t==null?void 0:t.name)==null?void 0:r.charAt(0))||"C"}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-black text-slate-800",children:["Hola, ",(t==null?void 0:t.name)||"Cliente","!"]}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Consulta tus saldos y pedidos realizados."})]})]}),p.jsxs("div",{className:"text-center md:text-right",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tu Saldo Deudor"}),p.jsxs("h3",{className:`text-5xl font-black ${(t==null?void 0:t.balance)>0?"text-red-500":"text-green-500"}`,children:["$",((i=t==null?void 0:t.balance)==null?void 0:i.toLocaleString())||"0"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex items-center gap-6 shadow-xl",children:[p.jsx("div",{className:"p-4 bg-orange-600 rounded-2xl",children:p.jsx(QG,{size:32})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-orange-400",children:"Comprobantes"}),p.jsx("p",{className:"text-2xl font-black",children:"Ver facturas"})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[p.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:p.jsx(Ap,{size:32})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-black uppercase text-xs tracking-widest text-slate-400",children:"Entregas"}),p.jsx("p",{className:"text-2xl font-black text-slate-800",children:"Seguimiento"})]})]})]})]})]})},VEe=()=>p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Marcas & Rubros"}),p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Organiza la jerarqua de tus productos."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[p.jsx(jG,{className:"text-orange-600",size:16})," Rubros (Categoras)"]}),p.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:p.jsx(mr,{size:18})})]}),p.jsx("div",{className:"space-y-3",children:["Herramientas Elctricas","Pinturas","Plomera","Bulonera"].map(t=>p.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex justify-between font-bold text-slate-700",children:[t," ",p.jsx(zb,{size:14,className:"text-slate-300"})]},t))})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[p.jsx(Uc,{className:"text-blue-600",size:16})," Marcas Principales"]}),p.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:p.jsx(mr,{size:18})})]}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Bosch","DeWalt","Sinteplast","Alba","Ipsa","Ferrum"].map(t=>p.jsx("div",{className:"p-4 border border-slate-100 rounded-2xl text-center font-black text-slate-400 uppercase text-[10px] tracking-widest",children:t},t))})]})]})]}),dh={pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},UEe={name:"Sistems Nova",cuit:"30-71122334-9",ivaCondition:"Responsable Inscripto",address:"Av. Rivadavia 1234, CABA",logo:null,showLogoInSidebar:!0,defaultMarkup:30,arca:{enabled:!0,puntoVenta:5,iibb:"901-123456-7",crtValidUntil:"2025-12-31"},printConfigs:{factura:{...dh},remito:{...dh},recibo:{...dh},etiqueta:{...dh,pageSize:"80mm"}},paymentCommissions:{efectivo:0,tarjeta_debito:1.5,tarjeta_credito:3.5,transferencia:0,cheque:0,cuenta_corriente:0,otro:0}},FEe=()=>{const[t,e]=$.useState(["dashboard"]),[n,r]=$.useState("dashboard"),[i,o]=$.useState(!1),[s,a]=$.useState({name:"",role:"vendedor"}),[l,u]=$.useState(UEe),c=(w,v,x)=>{a({name:v,role:w,data:x}),o(!0)},d=()=>{o(!1),a({name:"",role:"vendedor"}),e(["dashboard"]),r("dashboard")},h=w=>{t.includes(w)||e(v=>[...v,w]),r(w)},y=w=>{if(w==="dashboard")return;const v=t.filter(x=>x!==w);e(v),n===w&&r(v[v.length-1])};if(!i)return p.jsx(lz,{onLoginSuccess:c});if(s.role==="customer")return p.jsx(jEe,{client:s.data,onLogout:d,companyInfo:l});const _=w=>{switch(w){case"dashboard":return p.jsx(Yge,{});case"inventory":return p.jsx(Qge,{});case"missing-items":return p.jsx(OEe,{});case"stock-adjustment":return p.jsx(DEe,{});case"bulk-modification":return p.jsx(LEe,{});case"sales":return p.jsx(Zge,{});case"purchases":return p.jsx(pEe,{});case"clients":return p.jsx(mEe,{});case"suppliers":return p.jsx(gEe,{});case"cashier":return p.jsx(yEe,{});case"balances":return p.jsx(AEe,{});case"installments":return p.jsx(MEe,{});case"finance":return p.jsx(IEe,{});case"reports":return p.jsx(vEe,{});case"branches":return p.jsx(_Ee,{});case"users":return p.jsx(wEe,{});case"prices":return p.jsx(bEe,{});case"bulk-import":return p.jsx(EEe,{});case"warehouse":return p.jsx(TEe,{});case"purchase-orders":return p.jsx(SEe,{});case"ecommerce":return p.jsx(CEe,{});case"loyalty":return p.jsx(PEe,{});case"remitos":return p.jsx($Ee,{});case"integrations":return p.jsx(NEe,{});case"quotes":return p.jsx(kEe,{});case"orders":return p.jsx(REe,{});case"catalog-config":return p.jsx(VEe,{});case"settings":return p.jsx(xEe,{isAdmin:s.role==="admin",companyInfo:l,setCompanyInfo:u});default:return null}};return p.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden font-sans",children:[p.jsx(oz,{activeTab:n,setActiveTab:h,companyInfo:l,currentUser:s,onLogout:d}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(az,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:y}),p.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative bg-slate-50/50",children:p.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t.map(w=>p.jsx("div",{className:w===n?"block animate-in fade-in zoom-in-95 duration-300":"hidden",children:_(w)},w))})})]})]})},BEe=()=>p.jsx(kG,{children:p.jsx(FEe,{})}),tV=document.getElementById("root");if(!tV)throw new Error("Could not find root element to mount to");const GEe=zv.createRoot(tV);GEe.render(p.jsx(j.StrictMode,{children:p.jsx(BEe,{})}));
